var __defProp=Object.defineProperty,__publicField=(obj,key,value)=>(((obj,key,value)=>{key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value);!function polyfill(){const relList=document.createElement("link").relList;if(!(relList&&relList.supports&&relList.supports("modulepreload"))){for(const link of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(link);new MutationObserver((mutations=>{for(const mutation of mutations)if("childList"===mutation.type)for(const node of mutation.addedNodes)"LINK"===node.tagName&&"modulepreload"===node.rel&&processPreload(node)})).observe(document,{childList:!0,subtree:!0})}function processPreload(link){if(link.ep)return;link.ep=!0;const fetchOpts=function getFetchOpts(link){const fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),"use-credentials"===link.crossOrigin?fetchOpts.credentials="include":"anonymous"===link.crossOrigin?fetchOpts.credentials="omit":fetchOpts.credentials="same-origin",fetchOpts}(link);fetch(link.href,fetchOpts)}}();var commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs$1(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}function getAugmentedNamespace(n){if(n.__esModule)return n;var f=n.default;if("function"==typeof f){var a=function a2(){return this instanceof a2?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};a.prototype=f.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach((function(k){var d=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,d.get?d:{enumerable:!0,get:function(){return n[k]}})})),a}var module,phaser={exports:{}};module=phaser,function webpackUniversalModuleDefinition(root,factory){module.exports=factory()}(0,(()=>(()=>{var __webpack_modules__={50792:module2=>{var has=Object.prototype.hasOwnProperty,prefix="~";function Events2(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0===--emitter._eventsCount?emitter._events=new Events2:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events2,this._eventsCount=0}Object.create&&(Events2.prototype=Object.create(null),(new Events2).__proto__||(prefix=!1)),EventEmitter2.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter2.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter2.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter2.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter2.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter2.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter2.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter2.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events2,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=prefix,EventEmitter2.EventEmitter=EventEmitter2,module2.exports=EventEmitter2},11517:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var QuickSet=__webpack_require__2(38829);module2.exports=function(items,position2,offsetX,offsetY){for(var target2=items[0],i=1;i<items.length;i++){var item=items[i];QuickSet(item,target2,position2,offsetX,offsetY),target2=item}return items}},80318:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"angle",value,step,index,direction)}},60757:module2=>{module2.exports=function(items,callback,context){for(var i=0;i<items.length;i++){var item=items[i];callback.call(context,item)}return items}},69927:module2=>{module2.exports=function(items,compare,index){void 0===index&&(index=0);for(var i=index;i<items.length;i++){var item=items[i],match=!0;for(var property in compare)item[property]!==compare[property]&&(match=!1);if(match)return item}return null}},32265:module2=>{module2.exports=function(items,compare,index){void 0===index&&(index=0);for(var i=items.length-1;i>=index;i--){var item=items[i],match=!0;for(var property in compare)item[property]!==compare[property]&&(match=!1);if(match)return item}return null}},94420:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AlignIn=__webpack_require__2(11879),CONST=__webpack_require__2(60461),GetFastValue=__webpack_require__2(95540),NOOP=__webpack_require__2(29747),tempZone=new(__webpack_require__2(41481))({sys:{queueDepthSort:NOOP,events:{once:NOOP}}},0,0,1,1).setOrigin(0,0);module2.exports=function(items,options){void 0===options&&(options={});var widthSet=options.hasOwnProperty("width"),heightSet=options.hasOwnProperty("height"),width=GetFastValue(options,"width",-1),height=GetFastValue(options,"height",-1),cellWidth=GetFastValue(options,"cellWidth",1),cellHeight=GetFastValue(options,"cellHeight",cellWidth),position2=GetFastValue(options,"position",CONST.TOP_LEFT),x=GetFastValue(options,"x",0),y=GetFastValue(options,"y",0),cx=0,cy=0,w=width*cellWidth,h=height*cellHeight;tempZone.setPosition(x,y),tempZone.setSize(cellWidth,cellHeight);for(var i=0;i<items.length;i++)if(AlignIn(items[i],tempZone,position2),widthSet&&-1===width)tempZone.x+=cellWidth;else if(heightSet&&-1===height)tempZone.y+=cellHeight;else if(heightSet&&!widthSet){if(cy+=cellHeight,tempZone.y+=cellHeight,cy===h&&(cy=0,cx+=cellWidth,tempZone.y=y,tempZone.x+=cellWidth,cx===w))break}else if(cx+=cellWidth,tempZone.x+=cellWidth,cx===w&&(cx=0,cy+=cellHeight,tempZone.x=x,tempZone.y+=cellHeight,cy===h))break;return items}},41721:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"alpha",value,step,index,direction)}},67285:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"x",value,step,index,direction)}},9074:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,x,y,stepX,stepY,index,direction){return null==y&&(y=x),PropertyValueInc(items,"x",x,stepX,index,direction),PropertyValueInc(items,"y",y,stepY,index,direction)}},75222:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"y",value,step,index,direction)}},22983:module2=>{module2.exports=function(items,circle,startAngle,endAngle){void 0===startAngle&&(startAngle=0),void 0===endAngle&&(endAngle=6.28);for(var angle=startAngle,angleStep=(endAngle-startAngle)/items.length,cx=circle.x,cy=circle.y,radius=circle.radius,i=0;i<items.length;i++)items[i].x=cx+radius*Math.cos(angle),items[i].y=cy+radius*Math.sin(angle),angle+=angleStep;return items}},95253:module2=>{module2.exports=function(items,ellipse,startAngle,endAngle){void 0===startAngle&&(startAngle=0),void 0===endAngle&&(endAngle=6.28);for(var angle=startAngle,angleStep=(endAngle-startAngle)/items.length,a=ellipse.width/2,b=ellipse.height/2,i=0;i<items.length;i++)items[i].x=ellipse.x+a*Math.cos(angle),items[i].y=ellipse.y+b*Math.sin(angle),angle+=angleStep;return items}},88505:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetPoints=__webpack_require__2(15258),GetEasedPoints=__webpack_require__2(26708);module2.exports=function(items,line,ease){var points;points=ease?GetEasedPoints(line,ease,items.length):GetPoints(line,items.length);for(var i=0;i<items.length;i++){var item=items[i],point=points[i];item.x=point.x,item.y=point.y}return items}},41346:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MarchingAnts=__webpack_require__2(14649),RotateLeft=__webpack_require__2(86003),RotateRight=__webpack_require__2(49498);module2.exports=function(items,rect,shift){void 0===shift&&(shift=0);var points=MarchingAnts(rect,!1,items.length);shift>0?RotateLeft(points,shift):shift<0&&RotateRight(points,Math.abs(shift));for(var i=0;i<items.length;i++)items[i].x=points[i].x,items[i].y=points[i].y;return items}},11575:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BresenhamPoints=__webpack_require__2(84993);module2.exports=function(items,triangle,stepRate){var p1=BresenhamPoints({x1:triangle.x1,y1:triangle.y1,x2:triangle.x2,y2:triangle.y2},stepRate),p2=BresenhamPoints({x1:triangle.x2,y1:triangle.y2,x2:triangle.x3,y2:triangle.y3},stepRate),p3=BresenhamPoints({x1:triangle.x3,y1:triangle.y3,x2:triangle.x1,y2:triangle.y1},stepRate);p1.pop(),p2.pop(),p3.pop();for(var step=(p1=p1.concat(p2,p3)).length/items.length,p=0,i=0;i<items.length;i++){var item=items[i],point=p1[Math.floor(p)];item.x=point.x,item.y=point.y,p+=step}return items}},29953:module2=>{module2.exports=function(items,key,ignoreIfPlaying){for(var i=0;i<items.length;i++){var gameObject=items[i];gameObject.anims&&gameObject.anims.play(key,ignoreIfPlaying)}return items}},66979:module2=>{module2.exports=function(items,key,value,step,index,direction){var i;void 0===step&&(step=0),void 0===index&&(index=0),void 0===direction&&(direction=1);var t=0,end=items.length;if(1===direction)for(i=index;i<end;i++)items[i][key]+=value+t*step,t++;else for(i=index;i>=0;i--)items[i][key]+=value+t*step,t++;return items}},43967:module2=>{module2.exports=function(items,key,value,step,index,direction){var i;void 0===step&&(step=0),void 0===index&&(index=0),void 0===direction&&(direction=1);var t=0,end=items.length;if(1===direction)for(i=index;i<end;i++)items[i][key]=value+t*step,t++;else for(i=index;i>=0;i--)items[i][key]=value+t*step,t++;return items}},88926:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Random=__webpack_require__2(28176);module2.exports=function(items,circle){for(var i=0;i<items.length;i++)Random(circle,items[i]);return items}},33286:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Random=__webpack_require__2(24820);module2.exports=function(items,ellipse){for(var i=0;i<items.length;i++)Random(ellipse,items[i]);return items}},96e3:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Random=__webpack_require__2(65822);module2.exports=function(items,line){for(var i=0;i<items.length;i++)Random(line,items[i]);return items}},28789:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Random=__webpack_require__2(26597);module2.exports=function(items,rect){for(var i=0;i<items.length;i++)Random(rect,items[i]);return items}},97154:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Random=__webpack_require__2(90260);module2.exports=function(items,triangle){for(var i=0;i<items.length;i++)Random(triangle,items[i]);return items}},20510:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"rotation",value,step,index,direction)}},91051:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundDistance=__webpack_require__2(1163),DistanceBetween=__webpack_require__2(20339);module2.exports=function(items,point,angle){for(var x=point.x,y=point.y,i=0;i<items.length;i++){var item=items[i];RotateAroundDistance(item,x,y,angle,Math.max(1,DistanceBetween(item.x,item.y,x,y)))}return items}},76332:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MathRotateAroundDistance=__webpack_require__2(1163);module2.exports=function(items,point,angle,distance){var x=point.x,y=point.y;if(0===distance)return items;for(var i=0;i<items.length;i++)MathRotateAroundDistance(items[i],x,y,angle,distance);return items}},61619:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"scaleX",value,step,index,direction)}},94868:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,scaleX,scaleY,stepX,stepY,index,direction){return null==scaleY&&(scaleY=scaleX),PropertyValueInc(items,"scaleX",scaleX,stepX,index,direction),PropertyValueInc(items,"scaleY",scaleY,stepY,index,direction)}},95532:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=__webpack_require__2(66979);module2.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"scaleY",value,step,index,direction)}},8689:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"alpha",value,step,index,direction)}},2645:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,index,direction){return PropertyValueSet(items,"blendMode",value,0,index,direction)}},32372:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"depth",value,step,index,direction)}},85373:module2=>{module2.exports=function(items,hitArea,hitAreaCallback){for(var i=0;i<items.length;i++)items[i].setInteractive(hitArea,hitAreaCallback);return items}},81583:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,originX,originY,stepX,stepY,index,direction){return null==originY&&(originY=originX),PropertyValueSet(items,"originX",originX,stepX,index,direction),PropertyValueSet(items,"originY",originY,stepY,index,direction),items.forEach((function(item){item.updateDisplayOrigin()})),items}},79939:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"rotation",value,step,index,direction)}},2699:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,scaleX,scaleY,stepX,stepY,index,direction){return null==scaleY&&(scaleY=scaleX),PropertyValueSet(items,"scaleX",scaleX,stepX,index,direction),PropertyValueSet(items,"scaleY",scaleY,stepY,index,direction)}},98739:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scaleX",value,step,index,direction)}},98476:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scaleY",value,step,index,direction)}},6207:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,scrollFactorX,scrollFactorY,stepX,stepY,index,direction){return null==scrollFactorY&&(scrollFactorY=scrollFactorX),PropertyValueSet(items,"scrollFactorX",scrollFactorX,stepX,index,direction),PropertyValueSet(items,"scrollFactorY",scrollFactorY,stepY,index,direction)}},6607:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scrollFactorX",value,step,index,direction)}},72248:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scrollFactorY",value,step,index,direction)}},14036:module2=>{module2.exports=function(items,topLeft,topRight,bottomLeft,bottomRight){for(var i=0;i<items.length;i++)items[i].setTint(topLeft,topRight,bottomLeft,bottomRight);return items}},50159:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,index,direction){return PropertyValueSet(items,"visible",value,0,index,direction)}},77597:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"x",value,step,index,direction)}},83194:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,x,y,stepX,stepY,index,direction){return null==y&&(y=x),PropertyValueSet(items,"x",x,stepX,index,direction),PropertyValueSet(items,"y",y,stepY,index,direction)}},67678:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=__webpack_require__2(43967);module2.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"y",value,step,index,direction)}},35850:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(items,x,y,direction,output){var px,py;void 0===direction&&(direction=0),void 0===output&&(output=new Vector2);var len=items.length;if(1===len)px=items[0].x,py=items[0].y,items[0].x=x,items[0].y=y;else{var i=1,pos=0;0===direction&&(pos=len-1,i=len-2),px=items[pos].x,py=items[pos].y,items[pos].x=x,items[pos].y=y;for(var c=0;c<len;c++)if(!(i>=len||-1===i)){var cur=items[i],cx=cur.x,cy=cur.y;cur.x=px,cur.y=py,px=cx,py=cy,0===direction?i--:i++}}return output.x=px,output.y=py,output}},8628:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayShuffle=__webpack_require__2(33680);module2.exports=function(items){return ArrayShuffle(items)}},21837:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MathSmoothStep=__webpack_require__2(7602);module2.exports=function(items,property,min,max,inc){void 0===inc&&(inc=!1);var i,step=Math.abs(max-min)/items.length;if(inc)for(i=0;i<items.length;i++)items[i][property]+=MathSmoothStep(i*step,min,max);else for(i=0;i<items.length;i++)items[i][property]=MathSmoothStep(i*step,min,max);return items}},21910:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MathSmootherStep=__webpack_require__2(54261);module2.exports=function(items,property,min,max,inc){void 0===inc&&(inc=!1);var i,step=Math.abs(max-min)/items.length;if(inc)for(i=0;i<items.length;i++)items[i][property]+=MathSmootherStep(i*step,min,max);else for(i=0;i<items.length;i++)items[i][property]=MathSmootherStep(i*step,min,max);return items}},62054:module2=>{module2.exports=function(items,property,min,max,inc){if(void 0===inc&&(inc=!1),0===items.length)return items;if(1===items.length)return inc?items[0][property]+=(max+min)/2:items[0][property]=(max+min)/2,items;var i,step=Math.abs(max-min)/(items.length-1);if(inc)for(i=0;i<items.length;i++)items[i][property]+=i*step+min;else for(i=0;i<items.length;i++)items[i][property]=i*step+min;return items}},79815:module2=>{module2.exports=function(items){for(var i=0;i<items.length;i++)items[i].visible=!items[i].visible;return items}},39665:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       samme <samme.npm@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Wrap=__webpack_require__2(15994);module2.exports=function(items,rect,padding){void 0===padding&&(padding=0);for(var i=0;i<items.length;i++){var item=items[i];item.x=Wrap(item.x,rect.left-padding,rect.right+padding),item.y=Wrap(item.y,rect.top-padding,rect.bottom+padding)}return items}},61061:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AlignTo:__webpack_require__2(11517),Angle:__webpack_require__2(80318),Call:__webpack_require__2(60757),GetFirst:__webpack_require__2(69927),GetLast:__webpack_require__2(32265),GridAlign:__webpack_require__2(94420),IncAlpha:__webpack_require__2(41721),IncX:__webpack_require__2(67285),IncXY:__webpack_require__2(9074),IncY:__webpack_require__2(75222),PlaceOnCircle:__webpack_require__2(22983),PlaceOnEllipse:__webpack_require__2(95253),PlaceOnLine:__webpack_require__2(88505),PlaceOnRectangle:__webpack_require__2(41346),PlaceOnTriangle:__webpack_require__2(11575),PlayAnimation:__webpack_require__2(29953),PropertyValueInc:__webpack_require__2(66979),PropertyValueSet:__webpack_require__2(43967),RandomCircle:__webpack_require__2(88926),RandomEllipse:__webpack_require__2(33286),RandomLine:__webpack_require__2(96e3),RandomRectangle:__webpack_require__2(28789),RandomTriangle:__webpack_require__2(97154),Rotate:__webpack_require__2(20510),RotateAround:__webpack_require__2(91051),RotateAroundDistance:__webpack_require__2(76332),ScaleX:__webpack_require__2(61619),ScaleXY:__webpack_require__2(94868),ScaleY:__webpack_require__2(95532),SetAlpha:__webpack_require__2(8689),SetBlendMode:__webpack_require__2(2645),SetDepth:__webpack_require__2(32372),SetHitArea:__webpack_require__2(85373),SetOrigin:__webpack_require__2(81583),SetRotation:__webpack_require__2(79939),SetScale:__webpack_require__2(2699),SetScaleX:__webpack_require__2(98739),SetScaleY:__webpack_require__2(98476),SetScrollFactor:__webpack_require__2(6207),SetScrollFactorX:__webpack_require__2(6607),SetScrollFactorY:__webpack_require__2(72248),SetTint:__webpack_require__2(14036),SetVisible:__webpack_require__2(50159),SetX:__webpack_require__2(77597),SetXY:__webpack_require__2(83194),SetY:__webpack_require__2(67678),ShiftPosition:__webpack_require__2(35850),Shuffle:__webpack_require__2(8628),SmootherStep:__webpack_require__2(21910),SmoothStep:__webpack_require__2(21837),Spread:__webpack_require__2(62054),ToggleVisible:__webpack_require__2(79815),WrapInRectangle:__webpack_require__2(39665)}},42099:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(74943),FindClosestInSorted=__webpack_require__2(81957),Frame=__webpack_require__2(41138),GetValue=__webpack_require__2(35154),SortByDigits=__webpack_require__2(90126),Animation=new Class({initialize:function Animation2(manager,key,config2){this.manager=manager,this.key=key,this.type="frame",this.frames=this.getFrames(manager.textureManager,GetValue(config2,"frames",[]),GetValue(config2,"defaultTextureKey",null),GetValue(config2,"sortFrames",!0)),this.frameRate=GetValue(config2,"frameRate",null),this.duration=GetValue(config2,"duration",null),this.msPerFrame,this.skipMissedFrames=GetValue(config2,"skipMissedFrames",!0),this.delay=GetValue(config2,"delay",0),this.repeat=GetValue(config2,"repeat",0),this.repeatDelay=GetValue(config2,"repeatDelay",0),this.yoyo=GetValue(config2,"yoyo",!1),this.showBeforeDelay=GetValue(config2,"showBeforeDelay",!1),this.showOnStart=GetValue(config2,"showOnStart",!1),this.hideOnComplete=GetValue(config2,"hideOnComplete",!1),this.randomFrame=GetValue(config2,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(Events2.PAUSE_ALL,this.pause,this),this.manager.on(Events2.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(target2,totalFrames,duration,frameRate){null===duration&&null===frameRate?(target2.frameRate=24,target2.duration=24/totalFrames*1e3):duration&&null===frameRate?(target2.duration=duration,target2.frameRate=totalFrames/(duration/1e3)):(target2.frameRate=frameRate,target2.duration=totalFrames/frameRate*1e3),target2.msPerFrame=1e3/target2.frameRate},addFrame:function(config2){return this.addFrameAt(this.frames.length,config2)},addFrameAt:function(index,config2){var newFrames=this.getFrames(this.manager.textureManager,config2);if(newFrames.length>0){if(0===index)this.frames=newFrames.concat(this.frames);else if(index===this.frames.length)this.frames=this.frames.concat(newFrames);else{var pre=this.frames.slice(0,index),post2=this.frames.slice(index);this.frames=pre.concat(newFrames,post2)}this.updateFrameSequence()}return this},checkFrame:function(index){return index>=0&&index<this.frames.length},getFirstTick:function(state){state.accumulator=0,state.nextTick=state.currentFrame.duration?state.currentFrame.duration:state.msPerFrame},getFrameAt:function(index){return this.frames[index]},getFrames:function(textureManager,frames,defaultTextureKey,sortFrames){void 0===sortFrames&&(sortFrames=!0);var prev,animationFrame,i,textureKey,out=[],index=1;if("string"==typeof frames){if(textureKey=frames,!textureManager.exists(textureKey))return console.warn('Texture "%s" not found',textureKey),out;var frameKeys=textureManager.get(textureKey).getFrameNames();sortFrames&&SortByDigits(frameKeys),frames=[],frameKeys.forEach((function(value){frames.push({key:textureKey,frame:value})}))}if(!Array.isArray(frames)||0===frames.length)return out;for(i=0;i<frames.length;i++){var item=frames[i],key=GetValue(item,"key",defaultTextureKey);if(key){var frame=GetValue(item,"frame",0),textureFrame=textureManager.getFrame(key,frame);textureFrame?((animationFrame=new Frame(key,frame,index,textureFrame)).duration=GetValue(item,"duration",0),animationFrame.isFirst=!prev,prev&&(prev.nextFrame=animationFrame,animationFrame.prevFrame=prev),out.push(animationFrame),prev=animationFrame,index++):console.warn('Texture "%s" not found',key)}}if(out.length>0){animationFrame.isLast=!0,animationFrame.nextFrame=out[0],out[0].prevFrame=animationFrame;var slice=1/(out.length-1);for(i=0;i<out.length;i++)out[i].progress=i*slice}return out},getNextTick:function(state){state.accumulator-=state.nextTick,state.nextTick=state.currentFrame.duration?state.currentFrame.duration:state.msPerFrame},getFrameByProgress:function(value){return value=Clamp(value,0,1),FindClosestInSorted(value,this.frames,"progress")},nextFrame:function(state){var frame=state.currentFrame;frame.isLast?state.yoyo?this.handleYoyoFrame(state,!1):state.repeatCounter>0?state.inReverse&&state.forward?state.forward=!1:this.repeatAnimation(state):state.complete():this.updateAndGetNextTick(state,frame.nextFrame)},handleYoyoFrame:function(state,isReverse){if(isReverse||(isReverse=!1),state.inReverse===!isReverse&&state.repeatCounter>0)return(0===state.repeatDelay||state.pendingRepeat)&&(state.forward=isReverse),void this.repeatAnimation(state);if(state.inReverse===isReverse||0!==state.repeatCounter){state.forward=isReverse;var frame=isReverse?state.currentFrame.nextFrame:state.currentFrame.prevFrame;this.updateAndGetNextTick(state,frame)}else state.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(state){var frame=state.currentFrame;frame.isFirst?state.yoyo?this.handleYoyoFrame(state,!0):state.repeatCounter>0?(state.inReverse&&!state.forward||(state.forward=!0),this.repeatAnimation(state)):state.complete():this.updateAndGetNextTick(state,frame.prevFrame)},updateAndGetNextTick:function(state,frame){state.setCurrentFrame(frame),this.getNextTick(state)},removeFrame:function(frame){var index=this.frames.indexOf(frame);return-1!==index&&this.removeFrameAt(index),this},removeFrameAt:function(index){return this.frames.splice(index,1),this.updateFrameSequence(),this},repeatAnimation:function(state){if(2===state._pendingStop){if(0===state._pendingStopValue)return state.stop();state._pendingStopValue--}state.repeatDelay>0&&!state.pendingRepeat?(state.pendingRepeat=!0,state.accumulator-=state.nextTick,state.nextTick+=state.repeatDelay):(state.repeatCounter--,state.forward?state.setCurrentFrame(state.currentFrame.nextFrame):state.setCurrentFrame(state.currentFrame.prevFrame),state.isPlaying&&(this.getNextTick(state),state.handleRepeat()))},toJSON:function(){var output={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(frame){output.frames.push(frame.toJSON())})),output},updateFrameSequence:function(){for(var frame,len=this.frames.length,slice=1/(len-1),i=0;i<len;i++)(frame=this.frames[i]).index=i+1,frame.isFirst=!1,frame.isLast=!1,frame.progress=i*slice,0===i?(frame.isFirst=!0,1===len?(frame.isLast=!0,frame.nextFrame=frame,frame.prevFrame=frame):(frame.isLast=!1,frame.prevFrame=this.frames[len-1],frame.nextFrame=this.frames[i+1])):i===len-1&&len>1?(frame.isLast=!0,frame.prevFrame=this.frames[len-2],frame.nextFrame=this.frames[0]):len>1&&(frame.prevFrame=this.frames[i-1],frame.nextFrame=this.frames[i+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(Events2.PAUSE_ALL,this.pause,this),this.manager.off(Events2.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});module2.exports=Animation},41138:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationFrame=new(__webpack_require__2(83419))({initialize:function AnimationFrame2(textureKey,textureFrame,index,frame,isKeyFrame){void 0===isKeyFrame&&(isKeyFrame=!1),this.textureKey=textureKey,this.textureFrame=textureFrame,this.index=index,this.frame=frame,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=isKeyFrame},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});module2.exports=AnimationFrame},60848:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Animation=__webpack_require__2(42099),Class=__webpack_require__2(83419),CustomMap=__webpack_require__2(90330),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(74943),GameEvents=__webpack_require__2(8443),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),MATH_CONST=__webpack_require__2(36383),NumberArray=__webpack_require__2(20283),Pad=__webpack_require__2(41836),AnimationManager=new Class({Extends:EventEmitter2,initialize:function AnimationManager2(game){EventEmitter2.call(this),this.game=game,this.textureManager=null,this.globalTimeScale=1,this.anims=new CustomMap,this.mixes=new CustomMap,this.paused=!1,this.name="AnimationManager",game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(GameEvents.DESTROY,this.destroy,this)},addMix:function(animA,animB,delay){var anims=this.anims,mixes=this.mixes,keyA="string"==typeof animA?animA:animA.key,keyB="string"==typeof animB?animB:animB.key;if(anims.has(keyA)&&anims.has(keyB)){var mixObj=mixes.get(keyA);mixObj||(mixObj={}),mixObj[keyB]=delay,mixes.set(keyA,mixObj)}return this},removeMix:function(animA,animB){var mixes=this.mixes,keyA="string"==typeof animA?animA:animA.key,mixObj=mixes.get(keyA);if(mixObj)if(animB){var keyB="string"==typeof animB?animB:animB.key;mixObj.hasOwnProperty(keyB)&&delete mixObj[keyB]}else animB||mixes.delete(keyA);return this},getMix:function(animA,animB){var mixes=this.mixes,keyA="string"==typeof animA?animA:animA.key,keyB="string"==typeof animB?animB:animB.key,mixObj=mixes.get(keyA);return mixObj&&mixObj.hasOwnProperty(keyB)?mixObj[keyB]:0},add:function(key,animation){return this.anims.has(key)?(console.warn("Animation key exists: "+key),this):(animation.key=key,this.anims.set(key,animation),this.emit(Events2.ADD_ANIMATION,key,animation),this)},exists:function(key){return this.anims.has(key)},createFromAseprite:function(key,tags,target2){var output=[],data=this.game.cache.json.get(key);if(!data)return console.warn("No Aseprite data found for: "+key),output;var _this=this,meta=GetValue(data,"meta",null),frames=GetValue(data,"frames",null);return meta&&frames&&GetValue(meta,"frameTags",[]).forEach((function(tag){var animFrames=[],name=GetFastValue(tag,"name",null),from=GetFastValue(tag,"from",0),to=GetFastValue(tag,"to",0),direction=GetFastValue(tag,"direction","forward");if(name&&(!tags||tags&&tags.indexOf(name)>-1)){for(var totalDuration=0,i=from;i<=to;i++){var frameKey=i.toString(),frame=frames[frameKey];if(frame){var frameDuration=GetFastValue(frame,"duration",MATH_CONST.MAX_SAFE_INTEGER);animFrames.push({key:key,frame:frameKey,duration:frameDuration}),totalDuration+=frameDuration}}"reverse"===direction&&(animFrames=animFrames.reverse());var result,createConfig={key:name,frames:animFrames,duration:totalDuration,yoyo:"pingpong"===direction};target2?target2.anims&&(result=target2.anims.create(createConfig)):result=_this.create(createConfig),result&&output.push(result)}})),output},create:function(config2){var key=config2.key,anim=!1;return key&&((anim=this.get(key))?console.warn("AnimationManager key already exists: "+key):(anim=new Animation(this,key,config2),this.anims.set(key,anim),this.emit(Events2.ADD_ANIMATION,key,anim))),anim},fromJSON:function(data,clearCurrentAnimations){void 0===clearCurrentAnimations&&(clearCurrentAnimations=!1),clearCurrentAnimations&&this.anims.clear(),"string"==typeof data&&(data=JSON.parse(data));var output=[];if(data.hasOwnProperty("anims")&&Array.isArray(data.anims)){for(var i=0;i<data.anims.length;i++)output.push(this.create(data.anims[i]));data.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=data.globalTimeScale)}else data.hasOwnProperty("key")&&"frame"===data.type&&output.push(this.create(data));return output},generateFrameNames:function(key,config2){var prefix=GetValue(config2,"prefix",""),start=GetValue(config2,"start",0),end=GetValue(config2,"end",0),suffix=GetValue(config2,"suffix",""),zeroPad=GetValue(config2,"zeroPad",0),out=GetValue(config2,"outputArray",[]),frames=GetValue(config2,"frames",!1);if(!this.textureManager.exists(key))return console.warn('Texture "%s" not found',key),out;var i,texture=this.textureManager.get(key);if(!texture)return out;if(config2)for(frames||(frames=NumberArray(start,end)),i=0;i<frames.length;i++){var frame=prefix+Pad(frames[i],zeroPad,"0",1)+suffix;texture.has(frame)?out.push({key:key,frame:frame}):console.warn('Frame "%s" not found in texture "%s"',frame,key)}else for(frames=texture.getFrameNames(),i=0;i<frames.length;i++)out.push({key:key,frame:frames[i]});return out},generateFrameNumbers:function(key,config2){var start=GetValue(config2,"start",0),end=GetValue(config2,"end",-1),first=GetValue(config2,"first",!1),out=GetValue(config2,"outputArray",[]),frames=GetValue(config2,"frames",!1);if(!this.textureManager.exists(key))return console.warn('Texture "%s" not found',key),out;var texture=this.textureManager.get(key);if(!texture)return out;first&&texture.has(first)&&out.push({key:key,frame:first}),frames||(-1===end&&(end=texture.frameTotal-2),frames=NumberArray(start,end));for(var i=0;i<frames.length;i++){var frameName=frames[i];texture.has(frameName)?out.push({key:key,frame:frameName}):console.warn('Frame "%s" not found in texture "%s"',frameName,key)}return out},get:function(key){return this.anims.get(key)},getAnimsFromTexture:function(key){for(var match=this.textureManager.get(key).key,anims=this.anims.getArray(),out=[],i=0;i<anims.length;i++)for(var anim=anims[i],frames=anim.frames,c=0;c<frames.length;c++)if(frames[c].textureKey===match){out.push(anim.key);break}return out},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(Events2.PAUSE_ALL)),this},play:function(key,children){Array.isArray(children)||(children=[children]);for(var i=0;i<children.length;i++)children[i].anims.play(key);return this},staggerPlay:function(key,children,stagger,staggerFirst){void 0===stagger&&(stagger=0),void 0===staggerFirst&&(staggerFirst=!0),Array.isArray(children)||(children=[children]);var len=children.length;staggerFirst||len--;for(var i=0;i<children.length;i++){var time=stagger<0?Math.abs(stagger)*(len-i):stagger*i;children[i].anims.playAfterDelay(key,time)}return this},remove:function(key){var anim=this.get(key);return anim&&(this.emit(Events2.REMOVE_ANIMATION,key,anim),this.anims.delete(key),this.removeMix(key)),anim},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(Events2.RESUME_ALL)),this},toJSON:function(key){var output={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==key&&""!==key?output.anims.push(this.anims.get(key).toJSON()):this.anims.each((function(animationKey,animation){output.anims.push(animation.toJSON())})),output},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});module2.exports=AnimationManager},9674:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Animation=__webpack_require__2(42099),Between=__webpack_require__2(30976),Class=__webpack_require__2(83419),CustomMap=__webpack_require__2(90330),Events2=__webpack_require__2(74943),GetFastValue=__webpack_require__2(95540),AnimationState=new Class({initialize:function AnimationState2(parent){this.parent=parent,this.animationManager=parent.scene.sys.anims,this.animationManager.on(Events2.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(key){var parent=this.parent;if(void 0===key)return this.nextAnimsQueue.length=0,this.nextAnim=null,parent;Array.isArray(key)||(key=[key]);for(var i=0;i<key.length;i++){var anim=key[i];this.nextAnim?this.nextAnimsQueue.push(anim):this.nextAnim=anim}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(key){this.isPlaying&&this.stop();var manager=this.animationManager,animKey="string"==typeof key?key:GetFastValue(key,"key",null),anim=this.exists(animKey)?this.get(animKey):manager.get(animKey);if(anim){this.currentAnim=anim;var totalFrames=anim.getTotalFrames(),frameRate=GetFastValue(key,"frameRate",anim.frameRate),duration=GetFastValue(key,"duration",anim.duration);anim.calculateDuration(this,totalFrames,duration,frameRate),this.delay=GetFastValue(key,"delay",anim.delay),this.repeat=GetFastValue(key,"repeat",anim.repeat),this.repeatDelay=GetFastValue(key,"repeatDelay",anim.repeatDelay),this.yoyo=GetFastValue(key,"yoyo",anim.yoyo),this.showBeforeDelay=GetFastValue(key,"showBeforeDelay",anim.showBeforeDelay),this.showOnStart=GetFastValue(key,"showOnStart",anim.showOnStart),this.hideOnComplete=GetFastValue(key,"hideOnComplete",anim.hideOnComplete),this.skipMissedFrames=GetFastValue(key,"skipMissedFrames",anim.skipMissedFrames),this.randomFrame=GetFastValue(key,"randomFrame",anim.randomFrame),this.timeScale=GetFastValue(key,"timeScale",this.timeScale);var startFrame=GetFastValue(key,"startFrame",0);startFrame>totalFrames&&(startFrame=0),this.randomFrame&&(startFrame=Between(0,totalFrames-1));var frame=anim.frames[startFrame];0!==startFrame||this.forward||(frame=anim.getLastFrame()),this.currentFrame=frame}else console.warn("Missing animation: "+animKey);return this.parent},pause:function(atFrame){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==atFrame&&this.setCurrentFrame(atFrame),this.parent},resume:function(fromFrame){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==fromFrame&&this.setCurrentFrame(fromFrame),this.parent},playAfterDelay:function(key,delay){if(this.isPlaying){var nextAnim=this.nextAnim,queue=this.nextAnimsQueue;nextAnim&&queue.unshift(nextAnim),this.nextAnim=key,this._pendingStop=1,this._pendingStopValue=delay}else this.delayCounter=delay,this.play(key,!0);return this.parent},playAfterRepeat:function(key,repeatCount){if(void 0===repeatCount&&(repeatCount=1),this.isPlaying){var nextAnim=this.nextAnim,queue=this.nextAnimsQueue;nextAnim&&queue.unshift(nextAnim),-1!==this.repeatCounter&&repeatCount>this.repeatCounter&&(repeatCount=this.repeatCounter),this.nextAnim=key,this._pendingStop=2,this._pendingStopValue=repeatCount}else this.play(key);return this.parent},play:function(key,ignoreIfPlaying){void 0===ignoreIfPlaying&&(ignoreIfPlaying=!1);var currentAnim=this.currentAnim,parent=this.parent,animKey="string"==typeof key?key:key.key;if(ignoreIfPlaying&&this.isPlaying&&currentAnim.key===animKey)return parent;if(currentAnim&&this.isPlaying){var mix=this.animationManager.getMix(currentAnim.key,key);if(mix>0)return this.playAfterDelay(key,mix)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(key)},playReverse:function(key,ignoreIfPlaying){void 0===ignoreIfPlaying&&(ignoreIfPlaying=!1);var animKey="string"==typeof key?key:key.key;return ignoreIfPlaying&&this.isPlaying&&this.currentAnim.key===animKey?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(key))},startAnimation:function(key){this.load(key);var anim=this.currentAnim,gameObject=this.parent;return anim?(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,anim.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame),gameObject):gameObject},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(Events2.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(Events2.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(Events2.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(Events2.ANIMATION_COMPLETE,Events2.ANIMATION_COMPLETE_KEY)},emitEvents:function(event,keyEvent){var anim=this.currentAnim;if(anim){var frame=this.currentFrame,gameObject=this.parent,frameKey=frame.textureFrame;gameObject.emit(event,anim,frame,gameObject,frameKey),keyEvent&&gameObject.emit(keyEvent+anim.key,anim,frame,gameObject,frameKey)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var frame=this.currentFrame;if(!frame)return 0;var p=frame.progress;return this.inReverse&&(p*=-1),p},setProgress:function(value){return this.forward||(value=1-value),this.setCurrentFrame(this.currentAnim.getFrameByProgress(value)),this.parent},setRepeat:function(value){return this.repeatCounter=-1===value?Number.MAX_VALUE:value,this.parent},globalRemove:function(key,animation){void 0===animation&&(animation=this.currentAnim),this.isPlaying&&animation.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(includeDelay,resetRepeats){void 0===includeDelay&&(includeDelay=!1),void 0===resetRepeats&&(resetRepeats=!1);var anim=this.currentAnim,gameObject=this.parent;return anim?(resetRepeats&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),anim.getFirstTick(this),this.emitEvents(Events2.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!includeDelay,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(anim.frames[0]),this.parent):gameObject},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var key=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(key)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var key=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(key)}return this.parent},stopAfterDelay:function(delay){return this._pendingStop=1,this._pendingStopValue=delay,this.parent},stopAfterRepeat:function(repeatCount){return void 0===repeatCount&&(repeatCount=1),-1!==this.repeatCounter&&repeatCount>this.repeatCounter&&(repeatCount=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=repeatCount,this.parent},stopOnFrame:function(frame){return this._pendingStop=3,this._pendingStopValue=frame,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(time,delta){var anim=this.currentAnim;if(this.isPlaying&&anim&&!anim.paused){if(this.accumulator+=delta*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=delta,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?anim.nextFrame(this):anim.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var safetyNet=0;do{this.forward?anim.nextFrame(this):anim.previousFrame(this),safetyNet++}while(this.isPlaying&&this.accumulator>this.nextTick&&safetyNet<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(animationFrame){var gameObject=this.parent;return this.currentFrame=animationFrame,gameObject.texture=animationFrame.frame.texture,gameObject.frame=animationFrame.frame,gameObject.isCropped&&gameObject.frame.updateCropUVs(gameObject._crop,gameObject.flipX,gameObject.flipY),animationFrame.setAlpha&&(gameObject.alpha=animationFrame.alpha),gameObject.setSizeToFrame(),gameObject._originComponent&&(animationFrame.frame.customPivot?gameObject.setOrigin(animationFrame.frame.pivotX,animationFrame.frame.pivotY):gameObject.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(Events2.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===animationFrame&&this.stop()),gameObject},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(key){return this.anims?this.anims.get(key):null},exists:function(key){return!!this.anims&&this.anims.has(key)},create:function(config2){var key=config2.key,anim=!1;return key&&((anim=this.get(key))?console.warn("Animation key already exists: "+key):(anim=new Animation(this,key,config2),this.anims||(this.anims=new CustomMap),this.anims.set(key,anim))),anim},createFromAseprite:function(key,tags){return this.animationManager.createFromAseprite(key,tags,this.parent)},generateFrameNames:function(key,config2){return this.animationManager.generateFrameNames(key,config2)},generateFrameNumbers:function(key,config2){return this.animationManager.generateFrameNumbers(key,config2)},remove:function(key){var anim=this.get(key);return anim&&(this.currentAnim===anim&&this.stop(),this.anims.delete(key)),anim},destroy:function(){this.animationManager.off(Events2.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});module2.exports=AnimationState},57090:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="add"},25312:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationcomplete"},89580:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationcomplete-"},52860:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationrepeat"},63850:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationrestart"},99085:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationstart"},28087:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationstop"},1794:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="animationupdate"},52562:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pauseall"},57953:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="remove"},68339:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resumeall"},74943:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADD_ANIMATION:__webpack_require__2(57090),ANIMATION_COMPLETE:__webpack_require__2(25312),ANIMATION_COMPLETE_KEY:__webpack_require__2(89580),ANIMATION_REPEAT:__webpack_require__2(52860),ANIMATION_RESTART:__webpack_require__2(63850),ANIMATION_START:__webpack_require__2(99085),ANIMATION_STOP:__webpack_require__2(28087),ANIMATION_UPDATE:__webpack_require__2(1794),PAUSE_ALL:__webpack_require__2(52562),REMOVE_ANIMATION:__webpack_require__2(57953),RESUME_ALL:__webpack_require__2(68339)}},60421:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Animation:__webpack_require__2(42099),AnimationFrame:__webpack_require__2(41138),AnimationManager:__webpack_require__2(60848),AnimationState:__webpack_require__2(9674),Events:__webpack_require__2(74943)}},2161:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CustomMap=__webpack_require__2(90330),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(24736),BaseCache=new Class({initialize:function BaseCache2(){this.entries=new CustomMap,this.events=new EventEmitter2},add:function(key,data){return this.entries.set(key,data),this.events.emit(Events2.ADD,this,key,data),this},has:function(key){return this.entries.has(key)},exists:function(key){return this.entries.has(key)},get:function(key){return this.entries.get(key)},remove:function(key){var entry=this.get(key);return entry&&(this.entries.delete(key),this.events.emit(Events2.REMOVE,this,key,entry.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});module2.exports=BaseCache},24047:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseCache=__webpack_require__2(2161),Class=__webpack_require__2(83419),GameEvents=__webpack_require__2(8443),CacheManager=new Class({initialize:function CacheManager2(game){this.game=game,this.binary=new BaseCache,this.bitmapFont=new BaseCache,this.json=new BaseCache,this.physics=new BaseCache,this.shader=new BaseCache,this.audio=new BaseCache,this.video=new BaseCache,this.text=new BaseCache,this.html=new BaseCache,this.obj=new BaseCache,this.tilemap=new BaseCache,this.xml=new BaseCache,this.custom={},this.game.events.once(GameEvents.DESTROY,this.destroy,this)},addCustom:function(key){return this.custom.hasOwnProperty(key)||(this.custom[key]=new BaseCache),this.custom[key]},destroy:function(){for(var keys=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<keys.length;i++)this[keys[i]].destroy(),this[keys[i]]=null;for(var key in this.custom)this.custom[key].destroy();this.custom=null,this.game=null}});module2.exports=CacheManager},51464:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="add"},59261:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="remove"},24736:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADD:__webpack_require__2(51464),REMOVE:__webpack_require__2(59261)}},83388:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BaseCache:__webpack_require__2(2161),CacheManager:__webpack_require__2(24047),Events:__webpack_require__2(24736)}},71911:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),DegToRad=__webpack_require__2(39506),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(19715),Rectangle=__webpack_require__2(87841),TransformMatrix=__webpack_require__2(61340),ValueToColor=__webpack_require__2(80333),Vector2=__webpack_require__2(26099),BaseCamera=new Class({Extends:EventEmitter2,Mixins:[Components.AlphaSingle,Components.Visible],initialize:function BaseCamera2(x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0),EventEmitter2.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new Rectangle,this.dirty=!0,this._x=x,this._y=y,this._width=width,this._height=height,this._bounds=new Rectangle,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new TransformMatrix,this.transparent=!0,this.backgroundColor=ValueToColor("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new Vector2(width/2,height/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(child){this.renderList.push(child)},setOrigin:function(x,y){return void 0===x&&(x=.5),void 0===y&&(y=x),this.originX=x,this.originY=y,this},getScroll:function(x,y,out){void 0===out&&(out=new Vector2);var originX=.5*this.width,originY=.5*this.height;return out.x=x-originX,out.y=y-originY,this.useBounds&&(out.x=this.clampX(out.x),out.y=this.clampY(out.y)),out},centerOnX:function(x){var originX=.5*this.width;return this.midPoint.x=x,this.scrollX=x-originX,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(y){var originY=.5*this.height;return this.midPoint.y=y,this.scrollY=y-originY,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(x,y){return this.centerOnX(x),this.centerOnY(y),this},centerToBounds:function(){if(this.useBounds){var bounds=this._bounds,originX=.5*this.width,originY=.5*this.height;this.midPoint.set(bounds.centerX,bounds.centerY),this.scrollX=bounds.centerX-originX,this.scrollY=bounds.centerY-originY}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(renderableObjects){if(this.disableCull)return renderableObjects;var cameraMatrix=this.matrix.matrix,mva=cameraMatrix[0],mvb=cameraMatrix[1],mvc=cameraMatrix[2],mvd=cameraMatrix[3],determinant=mva*mvd-mvb*mvc;if(!determinant)return renderableObjects;var mve=cameraMatrix[4],mvf=cameraMatrix[5],scrollX=this.scrollX,scrollY=this.scrollY,cameraW=this.width,cameraH=this.height,cullTop=this.y,cullBottom=cullTop+cameraH,cullLeft=this.x,cullRight=cullLeft+cameraW,culledObjects=this.culledObjects,length=renderableObjects.length;determinant=1/determinant,culledObjects.length=0;for(var index=0;index<length;++index){var object=renderableObjects[index];if(object.hasOwnProperty("width")&&!object.parentContainer){var objectW=object.width,objectH=object.height,objectX=object.x-scrollX*object.scrollFactorX-objectW*object.originX,objectY=object.y-scrollY*object.scrollFactorY-objectH*object.originY;(objectX+objectW)*mva+(objectY+objectH)*mvc+mve>cullLeft&&objectX*mva+objectY*mvc+mve<cullRight&&(objectX+objectW)*mvb+(objectY+objectH)*mvd+mvf>cullTop&&objectX*mvb+objectY*mvd+mvf<cullBottom&&culledObjects.push(object)}else culledObjects.push(object)}return culledObjects},getWorldPoint:function(x,y,output){void 0===output&&(output=new Vector2);var cameraMatrix=this.matrix.matrix,mva=cameraMatrix[0],mvb=cameraMatrix[1],mvc=cameraMatrix[2],mvd=cameraMatrix[3],mve=cameraMatrix[4],mvf=cameraMatrix[5],determinant=mva*mvd-mvb*mvc;if(!determinant)return output.x=x,output.y=y,output;var ima=mvd*(determinant=1/determinant),imb=-mvb*determinant,imc=-mvc*determinant,imd=mva*determinant,ime=(mvc*mvf-mvd*mve)*determinant,imf=(mvb*mve-mva*mvf)*determinant,c=Math.cos(this.rotation),s=Math.sin(this.rotation),zoomX=this.zoomX,zoomY=this.zoomY,scrollX=this.scrollX,scrollY=this.scrollY,sx=x+(scrollX*c-scrollY*s)*zoomX,sy=y+(scrollX*s+scrollY*c)*zoomY;return output.x=sx*ima+sy*imc+ime,output.y=sx*imb+sy*imd+imf,output},ignore:function(entries){var id=this.id;Array.isArray(entries)||(entries=[entries]);for(var i=0;i<entries.length;i++){var entry=entries[i];Array.isArray(entry)?this.ignore(entry):entry.isParent?this.ignore(entry.getChildren()):entry.cameraFilter|=id}return this},clampX:function(x){var bounds=this._bounds,dw=this.displayWidth,bx=bounds.x+(dw-this.width)/2,bw=Math.max(bx,bx+bounds.width-dw);return x<bx?x=bx:x>bw&&(x=bw),x},clampY:function(y){var bounds=this._bounds,dh=this.displayHeight,by=bounds.y+(dh-this.height)/2,bh=Math.max(by,by+bounds.height-dh);return y<by?y=by:y>bh&&(y=bh),y},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(value){return void 0===value&&(value=0),this.rotation=DegToRad(value),this},setBackgroundColor:function(color){return void 0===color&&(color="rgba(0,0,0,0)"),this.backgroundColor=ValueToColor(color),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(x,y,width,height,centerOn){return void 0===centerOn&&(centerOn=!1),this._bounds.setTo(x,y,width,height),this.dirty=!0,this.useBounds=!0,centerOn?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(out){void 0===out&&(out=new Rectangle);var source=this._bounds;return out.setTo(source.x,source.y,source.width,source.height),out},setName:function(value){return void 0===value&&(value=""),this.name=value,this},setPosition:function(x,y){return void 0===y&&(y=x),this.x=x,this.y=y,this},setRotation:function(value){return void 0===value&&(value=0),this.rotation=value,this},setRoundPixels:function(value){return this.roundPixels=value,this},setScene:function(scene,isSceneCamera){void 0===isSceneCamera&&(isSceneCamera=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=scene,this.isSceneCamera=isSceneCamera;var sys=scene.sys;return this.sceneManager=sys.game.scene,this.scaleManager=sys.scale,this.cameraManager=sys.cameras,this.updateSystem(),this},setScroll:function(x,y){return void 0===y&&(y=x),this.scrollX=x,this.scrollY=y,this},setSize:function(width,height){return void 0===height&&(height=width),this.width=width,this.height=height,this},setViewport:function(x,y,width,height){return this.x=x,this.y=y,this.width=width,this.height=height,this},setZoom:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),0===x&&(x=.001),0===y&&(y=.001),this.zoomX=x,this.zoomY=y,this},setMask:function(mask,fixedPosition){return void 0===fixedPosition&&(fixedPosition=!0),this.mask=mask,this._maskCamera=fixedPosition?this.cameraManager.default:this,this},clearMask:function(destroyMask){return void 0===destroyMask&&(destroyMask=!1),destroyMask&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var output={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(output.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),output},update:function(){},setIsSceneCamera:function(value){return this.isSceneCamera=value,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var custom2=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,sceneManager=this.sceneManager;custom2&&!this._customViewport?sceneManager.customViewports++:!custom2&&this._customViewport&&sceneManager.customViewports--,this.dirty=!0,this._customViewport=custom2}},destroy:function(){this.emit(Events2.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(value){this._x=value,this.updateSystem()}},y:{get:function(){return this._y},set:function(value){this._y=value,this.updateSystem()}},width:{get:function(){return this._width},set:function(value){this._width=value,this.updateSystem()}},height:{get:function(){return this._height},set:function(value){this._height=value,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(value){value!==this._scrollX&&(this._scrollX=value,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(value){value!==this._scrollY&&(this._scrollY=value,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(value){this._zoomX=value,this._zoomY=value,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(value){this._zoomX=value,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(value){this._zoomY=value,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=value,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});module2.exports=BaseCamera},38058:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseCamera=__webpack_require__2(71911),CenterOn=__webpack_require__2(67502),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),Effects=__webpack_require__2(20052),Events2=__webpack_require__2(19715),Linear=__webpack_require__2(28915),Rectangle=__webpack_require__2(87841),Vector2=__webpack_require__2(26099),Camera=new Class({Extends:BaseCamera,Mixins:[Components.PostPipeline],initialize:function Camera2(x,y,width,height){BaseCamera.call(this,x,y,width,height),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new Effects.Fade(this),this.flashEffect=new Effects.Flash(this),this.shakeEffect=new Effects.Shake(this),this.panEffect=new Effects.Pan(this),this.rotateToEffect=new Effects.RotateTo(this),this.zoomEffect=new Effects.Zoom(this),this.lerp=new Vector2(1,1),this.followOffset=new Vector2,this.deadzone=null,this._follow=null},setDeadzone:function(width,height){if(void 0===width)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=width,this.deadzone.height=height):this.deadzone=new Rectangle(0,0,width,height),this._follow){var originX=this.width/2,originY=this.height/2,fx=this._follow.x-this.followOffset.x,fy=this._follow.y-this.followOffset.y;this.midPoint.set(fx,fy),this.scrollX=fx-originX,this.scrollY=fy-originY}CenterOn(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(duration,red,green,blue,callback,context){return this.fadeEffect.start(!1,duration,red,green,blue,!0,callback,context)},fadeOut:function(duration,red,green,blue,callback,context){return this.fadeEffect.start(!0,duration,red,green,blue,!0,callback,context)},fadeFrom:function(duration,red,green,blue,force,callback,context){return this.fadeEffect.start(!1,duration,red,green,blue,force,callback,context)},fade:function(duration,red,green,blue,force,callback,context){return this.fadeEffect.start(!0,duration,red,green,blue,force,callback,context)},flash:function(duration,red,green,blue,force,callback,context){return this.flashEffect.start(duration,red,green,blue,force,callback,context)},shake:function(duration,intensity,force,callback,context){return this.shakeEffect.start(duration,intensity,force,callback,context)},pan:function(x,y,duration,ease,force,callback,context){return this.panEffect.start(x,y,duration,ease,force,callback,context)},rotateTo:function(radians,shortestPath,duration,ease,force,callback,context){return this.rotateToEffect.start(radians,shortestPath,duration,ease,force,callback,context)},zoomTo:function(zoom,duration,ease,force,callback,context){return this.zoomEffect.start(zoom,duration,ease,force,callback,context)},preRender:function(){this.renderList.length=0;var width=this.width,height=this.height,halfWidth=.5*width,halfHeight=.5*height,zoomX=this.zoomX,zoomY=this.zoomY,matrix=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(zoomX)&&Number.isInteger(zoomY);var originX=width*this.originX,originY=height*this.originY,follow=this._follow,deadzone=this.deadzone,sx=this.scrollX,sy=this.scrollY;deadzone&&CenterOn(deadzone,this.midPoint.x,this.midPoint.y);var emitFollowEvent=!1;if(follow&&!this.panEffect.isRunning){var lerp=this.lerp,fx=follow.x-this.followOffset.x,fy=follow.y-this.followOffset.y;deadzone?(fx<deadzone.x?sx=Linear(sx,sx-(deadzone.x-fx),lerp.x):fx>deadzone.right&&(sx=Linear(sx,sx+(fx-deadzone.right),lerp.x)),fy<deadzone.y?sy=Linear(sy,sy-(deadzone.y-fy),lerp.y):fy>deadzone.bottom&&(sy=Linear(sy,sy+(fy-deadzone.bottom),lerp.y))):(sx=Linear(sx,fx-originX,lerp.x),sy=Linear(sy,fy-originY,lerp.y)),emitFollowEvent=!0}this.roundPixels&&(sx=Math.floor(sx),sy=Math.floor(sy)),this.useBounds&&(sx=this.clampX(sx),sy=this.clampY(sy)),this.scrollX=sx,this.scrollY=sy;var midX=sx+halfWidth,midY=sy+halfHeight;this.midPoint.set(midX,midY);var displayWidth=Math.floor(width/zoomX+.5),displayHeight=Math.floor(height/zoomY+.5),vwx=Math.floor(midX-displayWidth/2+.5),vwy=Math.floor(midY-displayHeight/2+.5);this.worldView.setTo(vwx,vwy,displayWidth,displayHeight),matrix.applyITRS(Math.floor(this.x+originX+.5),Math.floor(this.y+originY+.5),this.rotation,zoomX,zoomY),matrix.translate(-originX,-originY),this.shakeEffect.preRender(),emitFollowEvent&&this.emit(Events2.FOLLOW_UPDATE,this,follow)},setLerp:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),this.lerp.set(x,y),this},setFollowOffset:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=0),this.followOffset.set(x,y),this},startFollow:function(target2,roundPixels,lerpX,lerpY,offsetX,offsetY){void 0===roundPixels&&(roundPixels=!1),void 0===lerpX&&(lerpX=1),void 0===lerpY&&(lerpY=lerpX),void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=offsetX),this._follow=target2,this.roundPixels=roundPixels,lerpX=Clamp(lerpX,0,1),lerpY=Clamp(lerpY,0,1),this.lerp.set(lerpX,lerpY),this.followOffset.set(offsetX,offsetY);var originX=this.width/2,originY=this.height/2,fx=target2.x-offsetX,fy=target2.y-offsetY;return this.midPoint.set(fx,fy),this.scrollX=fx-originX,this.scrollY=fy-originY,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(time,delta){this.visible&&(this.rotateToEffect.update(time,delta),this.panEffect.update(time,delta),this.zoomEffect.update(time,delta),this.shakeEffect.update(time,delta),this.flashEffect.update(time,delta),this.fadeEffect.update(time,delta))},destroy:function(){this.resetFX(),BaseCamera.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});module2.exports=Camera},32743:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Camera=__webpack_require__2(38058),Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),PluginCache=__webpack_require__2(37277),RectangleContains=__webpack_require__2(37303),ScaleEvents=__webpack_require__2(97480),SceneEvents=__webpack_require__2(44594),CameraManager=new Class({initialize:function CameraManager2(scene){this.scene=scene,this.systems=scene.sys,this.roundPixels=scene.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){var sys=this.systems;sys.settings.cameras?this.fromJSON(sys.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new Camera(0,0,sys.scale.width,sys.scale.height).setScene(this.scene),sys.game.scale.on(ScaleEvents.RESIZE,this.onResize,this),this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){if(!this.main){var sys=this.systems;sys.settings.cameras?this.fromJSON(sys.settings.cameras):this.add(),this.main=this.cameras[0]}var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.UPDATE,this.update,this),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},add:function(x,y,width,height,makeMain,name){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.scene.sys.scale.width),void 0===height&&(height=this.scene.sys.scale.height),void 0===makeMain&&(makeMain=!1),void 0===name&&(name="");var camera=new Camera(x,y,width,height);return camera.setName(name),camera.setScene(this.scene),camera.setRoundPixels(this.roundPixels),camera.id=this.getNextID(),this.cameras.push(camera),makeMain&&(this.main=camera),camera},addExisting:function(camera,makeMain){return void 0===makeMain&&(makeMain=!1),-1===this.cameras.indexOf(camera)?(camera.id=this.getNextID(),camera.setRoundPixels(this.roundPixels),this.cameras.push(camera),makeMain&&(this.main=camera),camera):null},getNextID:function(){for(var cameras=this.cameras,testID=1,t=0;t<32;t++){for(var found=!1,i=0;i<cameras.length;i++){var camera=cameras[i];camera&&camera.id===testID&&(found=!0)}if(!found)return testID;testID<<=1}return 0},getTotal:function(isVisible){void 0===isVisible&&(isVisible=!1);for(var total=0,cameras=this.cameras,i=0;i<cameras.length;i++){var camera=cameras[i];(!isVisible||isVisible&&camera.visible)&&total++}return total},fromJSON:function(config2){Array.isArray(config2)||(config2=[config2]);for(var gameWidth=this.scene.sys.scale.width,gameHeight=this.scene.sys.scale.height,i=0;i<config2.length;i++){var cameraConfig=config2[i],x=GetFastValue(cameraConfig,"x",0),y=GetFastValue(cameraConfig,"y",0),width=GetFastValue(cameraConfig,"width",gameWidth),height=GetFastValue(cameraConfig,"height",gameHeight),camera=this.add(x,y,width,height);camera.name=GetFastValue(cameraConfig,"name",""),camera.zoom=GetFastValue(cameraConfig,"zoom",1),camera.rotation=GetFastValue(cameraConfig,"rotation",0),camera.scrollX=GetFastValue(cameraConfig,"scrollX",0),camera.scrollY=GetFastValue(cameraConfig,"scrollY",0),camera.roundPixels=GetFastValue(cameraConfig,"roundPixels",!1),camera.visible=GetFastValue(cameraConfig,"visible",!0);var backgroundColor=GetFastValue(cameraConfig,"backgroundColor",!1);backgroundColor&&camera.setBackgroundColor(backgroundColor);var boundsConfig=GetFastValue(cameraConfig,"bounds",null);if(boundsConfig){var bx=GetFastValue(boundsConfig,"x",0),by=GetFastValue(boundsConfig,"y",0),bwidth=GetFastValue(boundsConfig,"width",gameWidth),bheight=GetFastValue(boundsConfig,"height",gameHeight);camera.setBounds(bx,by,bwidth,bheight)}}return this},getCamera:function(name){for(var cameras=this.cameras,i=0;i<cameras.length;i++)if(cameras[i].name===name)return cameras[i];return null},getCamerasBelowPointer:function(pointer){for(var cameras=this.cameras,x=pointer.x,y=pointer.y,output=[],i=0;i<cameras.length;i++){var camera=cameras[i];camera.visible&&camera.inputEnabled&&RectangleContains(camera,x,y)&&output.unshift(camera)}return output},remove:function(camera,runDestroy){void 0===runDestroy&&(runDestroy=!0),Array.isArray(camera)||(camera=[camera]);for(var total=0,cameras=this.cameras,i=0;i<camera.length;i++){var index=cameras.indexOf(camera[i]);-1!==index&&(runDestroy?cameras[index].destroy():cameras[index].renderList=[],cameras.splice(index,1),total++)}return!this.main&&cameras[0]&&(this.main=cameras[0]),total},render:function(renderer,displayList){for(var scene=this.scene,cameras=this.cameras,i=0;i<cameras.length;i++){var camera=cameras[i];if(camera.visible&&camera.alpha>0){camera.preRender();var visibleChildren=this.getVisibleChildren(displayList.getChildren(),camera);renderer.render(scene,visibleChildren,camera)}}},getVisibleChildren:function(children,camera){return children.filter((function(child){return child.willRender(camera)}))},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(time,delta){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(time,delta)},onResize:function(gameSize,baseSize,displaySize,previousWidth,previousHeight){for(var i=0;i<this.cameras.length;i++){var cam=this.cameras[i];0===cam._x&&0===cam._y&&cam._width===previousWidth&&cam._height===previousHeight&&cam.setSize(baseSize.width,baseSize.height)}},resize:function(width,height){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(width,height)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.UPDATE,this.update,this),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(SceneEvents.START,this.start,this),this.systems.events.off(SceneEvents.DESTROY,this.destroy,this),this.systems.game.scale.off(ScaleEvents.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});PluginCache.register("CameraManager",CameraManager,"cameras"),module2.exports=CameraManager},5020:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(19715),Fade=new Class({initialize:function Fade2(camera){this.camera=camera,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(direction,duration,red,green,blue,force,callback,context){if(void 0===direction&&(direction=!0),void 0===duration&&(duration=1e3),void 0===red&&(red=0),void 0===green&&(green=0),void 0===blue&&(blue=0),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene),!force&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=duration,this.direction=direction,this.progress=0,this.red=red,this.green=green,this.blue=blue,this.alpha=direction?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=callback,this._onUpdateScope=context;var eventName=direction?Events2.FADE_OUT_START:Events2.FADE_IN_START;return this.camera.emit(eventName,this.camera,this,duration,red,green,blue),this.camera},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(ctx){if(!this.isRunning&&!this.isComplete)return!1;var camera=this.camera;return ctx.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",ctx.fillRect(camera.x,camera.y,camera.width,camera.height),!0},postRenderWebGL:function(pipeline,getTintFunction){if(!this.isRunning&&!this.isComplete)return!1;var camera=this.camera,red=this.red/255,green=this.green/255,blue=this.blue/255;return pipeline.drawFillRect(camera.x,camera.y,camera.width,camera.height,getTintFunction(blue,green,red,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var eventName=this.direction?Events2.FADE_OUT_COMPLETE:Events2.FADE_IN_COMPLETE;this.camera.emit(eventName,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module2.exports=Fade},10662:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(19715),Flash=new Class({initialize:function Flash2(camera){this.camera=camera,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(duration,red,green,blue,force,callback,context){return void 0===duration&&(duration=250),void 0===red&&(red=255),void 0===green&&(green=255),void 0===blue&&(blue=255),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene),!force&&this.isRunning||(this.isRunning=!0,this.duration=duration,this.progress=0,this.red=red,this.green=green,this.blue=blue,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=callback,this._onUpdateScope=context,this.camera.emit(Events2.FLASH_START,this.camera,this,duration,red,green,blue)),this.camera},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(ctx){if(!this.isRunning)return!1;var camera=this.camera;return ctx.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",ctx.fillRect(camera.x,camera.y,camera.width,camera.height),!0},postRenderWebGL:function(pipeline,getTintFunction){if(!this.isRunning)return!1;var camera=this.camera,red=this.red/255,green=this.green/255,blue=this.blue/255;return pipeline.drawFillRect(camera.x,camera.y,camera.width,camera.height,getTintFunction(blue,green,red,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Events2.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module2.exports=Flash},20359:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),EaseMap=__webpack_require__2(62640),Events2=__webpack_require__2(19715),Vector2=__webpack_require__2(26099),Pan=new Class({initialize:function Pan2(camera){this.camera=camera,this.isRunning=!1,this.duration=0,this.source=new Vector2,this.current=new Vector2,this.destination=new Vector2,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(x,y,duration,ease,force,callback,context){void 0===duration&&(duration=1e3),void 0===ease&&(ease=EaseMap.Linear),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene);var cam=this.camera;return!force&&this.isRunning||(this.isRunning=!0,this.duration=duration,this.progress=0,this.source.set(cam.scrollX,cam.scrollY),this.destination.set(x,y),cam.getScroll(x,y,this.current),"string"==typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"==typeof ease&&(this.ease=ease),this._elapsed=0,this._onUpdate=callback,this._onUpdateScope=context,this.camera.emit(Events2.PAN_START,this.camera,this,duration,x,y)),cam},update:function(time,delta){if(this.isRunning){this._elapsed+=delta;var progress=Clamp(this._elapsed/this.duration,0,1);this.progress=progress;var cam=this.camera;if(this._elapsed<this.duration){var v=this.ease(progress);cam.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v,y=this.source.y+(this.current.y-this.source.y)*v;cam.setScroll(x,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,cam,progress,x,y)}else cam.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,cam,progress,cam.scrollX,cam.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Events2.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});module2.exports=Pan},34208:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Jason Nicholls <nicholls.jason@gmail.com>
               * @copyright    2018 Photon Storm Ltd.
               * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(19715),EaseMap=__webpack_require__2(62640),RotateTo=new Class({initialize:function RotateTo2(camera){this.camera=camera,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(radians,shortestPath,duration,ease,force,callback,context){void 0===duration&&(duration=1e3),void 0===ease&&(ease=EaseMap.Linear),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene),void 0===shortestPath&&(shortestPath=!1),this.shortestPath=shortestPath;var tmpDestination=radians;radians<0?(tmpDestination=-1*radians,this.clockwise=!1):this.clockwise=!0;var maxRad=360*Math.PI/180;tmpDestination-=Math.floor(tmpDestination/maxRad)*maxRad;var cam=this.camera;if(!force&&this.isRunning)return cam;if(this.isRunning=!0,this.duration=duration,this.progress=0,this.source=cam.rotation,this.destination=tmpDestination,"string"==typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"==typeof ease&&(this.ease=ease),this._elapsed=0,this._onUpdate=callback,this._onUpdateScope=context,this.shortestPath){var cwDist=0,acwDist=0;(cwDist=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+maxRad)-this.source)<(acwDist=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+maxRad)-this.destination)?this.clockwise=!0:cwDist>acwDist&&(this.clockwise=!1)}return this.camera.emit(Events2.ROTATE_START,this.camera,this,duration,tmpDestination),cam},update:function(time,delta){if(this.isRunning){this._elapsed+=delta;var progress=Clamp(this._elapsed/this.duration,0,1);this.progress=progress;var cam=this.camera;if(this._elapsed<this.duration){var v=this.ease(progress);this.current=cam.rotation;var distance=0,maxRad=360*Math.PI/180,target2=this.destination,current=this.current;!1===this.clockwise&&(target2=this.current,current=this.destination),distance=target2>=current?Math.abs(target2-current):Math.abs(target2+maxRad)-current;var r=0;r=this.clockwise?cam.rotation+distance*v:cam.rotation-distance*v,cam.rotation=r,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,cam,progress,r)}else cam.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,cam,progress,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Events2.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});module2.exports=RotateTo},30330:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(19715),Vector2=__webpack_require__2(26099),Shake=new Class({initialize:function Shake2(camera){this.camera=camera,this.isRunning=!1,this.duration=0,this.intensity=new Vector2,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(duration,intensity,force,callback,context){return void 0===duration&&(duration=100),void 0===intensity&&(intensity=.05),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene),!force&&this.isRunning||(this.isRunning=!0,this.duration=duration,this.progress=0,"number"==typeof intensity?this.intensity.set(intensity):this.intensity.set(intensity.x,intensity.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=callback,this._onUpdateScope=context,this.camera.emit(Events2.SHAKE_START,this.camera,this,duration,intensity)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(time,delta){if(this.isRunning)if(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var intensity=this.intensity,width=this.camera.width,height=this.camera.height,zoom=this.camera.zoom;this._offsetX=(Math.random()*intensity.x*width*2-intensity.x*width)*zoom,this._offsetY=(Math.random()*intensity.y*height*2-intensity.y*height)*zoom,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Events2.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});module2.exports=Shake},45641:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),EaseMap=__webpack_require__2(62640),Events2=__webpack_require__2(19715),Zoom=new Class({initialize:function Zoom2(camera){this.camera=camera,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(zoom,duration,ease,force,callback,context){void 0===duration&&(duration=1e3),void 0===ease&&(ease=EaseMap.Linear),void 0===force&&(force=!1),void 0===callback&&(callback=null),void 0===context&&(context=this.camera.scene);var cam=this.camera;return!force&&this.isRunning||(this.isRunning=!0,this.duration=duration,this.progress=0,this.source=cam.zoom,this.destination=zoom,"string"==typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"==typeof ease&&(this.ease=ease),this._elapsed=0,this._onUpdate=callback,this._onUpdateScope=context,this.camera.emit(Events2.ZOOM_START,this.camera,this,duration,zoom)),cam},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Events2.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});module2.exports=Zoom},20052:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Fade:__webpack_require__2(5020),Flash:__webpack_require__2(10662),Pan:__webpack_require__2(20359),Shake:__webpack_require__2(30330),RotateTo:__webpack_require__2(34208),Zoom:__webpack_require__2(45641)}},16438:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="cameradestroy"},32726:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerafadeincomplete"},87807:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerafadeinstart"},45917:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerafadeoutcomplete"},95666:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerafadeoutstart"},47056:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="cameraflashcomplete"},91261:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="cameraflashstart"},45047:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="followupdate"},81927:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerapancomplete"},74264:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerapanstart"},54419:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="postrender"},79330:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="prerender"},93183:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerarotatecomplete"},80112:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerarotatestart"},62252:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerashakecomplete"},86017:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerashakestart"},539:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerazoomcomplete"},51892:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="camerazoomstart"},19715:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={DESTROY:__webpack_require__2(16438),FADE_IN_COMPLETE:__webpack_require__2(32726),FADE_IN_START:__webpack_require__2(87807),FADE_OUT_COMPLETE:__webpack_require__2(45917),FADE_OUT_START:__webpack_require__2(95666),FLASH_COMPLETE:__webpack_require__2(47056),FLASH_START:__webpack_require__2(91261),FOLLOW_UPDATE:__webpack_require__2(45047),PAN_COMPLETE:__webpack_require__2(81927),PAN_START:__webpack_require__2(74264),POST_RENDER:__webpack_require__2(54419),PRE_RENDER:__webpack_require__2(79330),ROTATE_COMPLETE:__webpack_require__2(93183),ROTATE_START:__webpack_require__2(80112),SHAKE_COMPLETE:__webpack_require__2(62252),SHAKE_START:__webpack_require__2(86017),ZOOM_COMPLETE:__webpack_require__2(539),ZOOM_START:__webpack_require__2(51892)}},87969:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Camera:__webpack_require__2(38058),BaseCamera:__webpack_require__2(71911),CameraManager:__webpack_require__2(32743),Effects:__webpack_require__2(20052),Events:__webpack_require__2(19715)}},63091:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetValue=__webpack_require__2(35154),FixedKeyControl=new Class({initialize:function FixedKeyControl2(config2){this.camera=GetValue(config2,"camera",null),this.left=GetValue(config2,"left",null),this.right=GetValue(config2,"right",null),this.up=GetValue(config2,"up",null),this.down=GetValue(config2,"down",null),this.zoomIn=GetValue(config2,"zoomIn",null),this.zoomOut=GetValue(config2,"zoomOut",null),this.zoomSpeed=GetValue(config2,"zoomSpeed",.01),this.minZoom=GetValue(config2,"minZoom",.001),this.maxZoom=GetValue(config2,"maxZoom",1e3),this.speedX=0,this.speedY=0;var speed=GetValue(config2,"speed",null);"number"==typeof speed?(this.speedX=speed,this.speedY=speed):(this.speedX=GetValue(config2,"speed.x",0),this.speedY=GetValue(config2,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(camera){return this.camera=camera,this},update:function(delta){if(this.active){void 0===delta&&(delta=1);var cam=this.camera;this.up&&this.up.isDown?cam.scrollY-=this.speedY*delta|0:this.down&&this.down.isDown&&(cam.scrollY+=this.speedY*delta|0),this.left&&this.left.isDown?cam.scrollX-=this.speedX*delta|0:this.right&&this.right.isDown&&(cam.scrollX+=this.speedX*delta|0),this.zoomIn&&this.zoomIn.isDown?(cam.zoom-=this.zoomSpeed,cam.zoom<this.minZoom&&(cam.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(cam.zoom+=this.zoomSpeed,cam.zoom>this.maxZoom&&(cam.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module2.exports=FixedKeyControl},58818:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetValue=__webpack_require__2(35154),SmoothedKeyControl=new Class({initialize:function SmoothedKeyControl2(config2){this.camera=GetValue(config2,"camera",null),this.left=GetValue(config2,"left",null),this.right=GetValue(config2,"right",null),this.up=GetValue(config2,"up",null),this.down=GetValue(config2,"down",null),this.zoomIn=GetValue(config2,"zoomIn",null),this.zoomOut=GetValue(config2,"zoomOut",null),this.zoomSpeed=GetValue(config2,"zoomSpeed",.01),this.minZoom=GetValue(config2,"minZoom",.001),this.maxZoom=GetValue(config2,"maxZoom",1e3),this.accelX=0,this.accelY=0;var accel=GetValue(config2,"acceleration",null);"number"==typeof accel?(this.accelX=accel,this.accelY=accel):(this.accelX=GetValue(config2,"acceleration.x",0),this.accelY=GetValue(config2,"acceleration.y",0)),this.dragX=0,this.dragY=0;var drag=GetValue(config2,"drag",null);"number"==typeof drag?(this.dragX=drag,this.dragY=drag):(this.dragX=GetValue(config2,"drag.x",0),this.dragY=GetValue(config2,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var maxSpeed=GetValue(config2,"maxSpeed",null);"number"==typeof maxSpeed?(this.maxSpeedX=maxSpeed,this.maxSpeedY=maxSpeed):(this.maxSpeedX=GetValue(config2,"maxSpeed.x",0),this.maxSpeedY=GetValue(config2,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(camera){return this.camera=camera,this},update:function(delta){if(this.active){void 0===delta&&(delta=1);var cam=this.camera;this._speedX>0?(this._speedX-=this.dragX*delta,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*delta,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*delta,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*delta,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(cam.scrollX-=this._speedX*delta|0),0!==this._speedY&&(cam.scrollY-=this._speedY*delta|0),0!==this._zoom&&(cam.zoom+=this._zoom,cam.zoom<this.minZoom?cam.zoom=this.minZoom:cam.zoom>this.maxZoom&&(cam.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});module2.exports=SmoothedKeyControl},38865:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={FixedKeyControl:__webpack_require__2(63091),SmoothedKeyControl:__webpack_require__2(58818)}},26638:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Controls:__webpack_require__2(38865),Scene2D:__webpack_require__2(87969)}},8054:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:__webpack_require__2(10312),ScaleModes:__webpack_require__2(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};module2.exports=CONST},69547:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(8054),DefaultPlugins=__webpack_require__2(42363),Device=__webpack_require__2(82264),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),IsPlainObject=__webpack_require__2(41212),NOOP=__webpack_require__2(29747),PhaserMath=__webpack_require__2(75508),PIPELINE_CONST=__webpack_require__2(36060),ValueToColor=__webpack_require__2(80333),Config=new Class({initialize:function Config2(config2){void 0===config2&&(config2={});var scaleConfig=GetValue(config2,"scale",null);this.width=GetValue(scaleConfig,"width",1024,config2),this.height=GetValue(scaleConfig,"height",768,config2),this.zoom=GetValue(scaleConfig,"zoom",1,config2),this.parent=GetValue(scaleConfig,"parent",void 0,config2),this.scaleMode=GetValue(scaleConfig,scaleConfig?"mode":"scaleMode",0,config2),this.expandParent=GetValue(scaleConfig,"expandParent",!0,config2),this.autoRound=GetValue(scaleConfig,"autoRound",!1,config2),this.autoCenter=GetValue(scaleConfig,"autoCenter",0,config2),this.resizeInterval=GetValue(scaleConfig,"resizeInterval",500,config2),this.fullscreenTarget=GetValue(scaleConfig,"fullscreenTarget",null,config2),this.minWidth=GetValue(scaleConfig,"min.width",0,config2),this.maxWidth=GetValue(scaleConfig,"max.width",0,config2),this.minHeight=GetValue(scaleConfig,"min.height",0,config2),this.maxHeight=GetValue(scaleConfig,"max.height",0,config2),this.snapWidth=GetValue(scaleConfig,"snap.width",0,config2),this.snapHeight=GetValue(scaleConfig,"snap.height",0,config2),this.renderType=GetValue(config2,"type",CONST.AUTO),this.canvas=GetValue(config2,"canvas",null),this.context=GetValue(config2,"context",null),this.canvasStyle=GetValue(config2,"canvasStyle",null),this.customEnvironment=GetValue(config2,"customEnvironment",!1),this.sceneConfig=GetValue(config2,"scene",null),this.seed=GetValue(config2,"seed",[(Date.now()*Math.random()).toString()]),PhaserMath.RND=new PhaserMath.RandomDataGenerator(this.seed),this.gameTitle=GetValue(config2,"title",""),this.gameURL=GetValue(config2,"url","https://phaser.io/"+CONST.LOG_VERSION),this.gameVersion=GetValue(config2,"version",""),this.autoFocus=GetValue(config2,"autoFocus",!0),this.stableSort=GetValue(config2,"stableSort",-1),-1===this.stableSort&&(this.stableSort=Device.browser.es2019?1:0),Device.features.stableSort=this.stableSort,this.domCreateContainer=GetValue(config2,"dom.createContainer",!1),this.domPointerEvents=GetValue(config2,"dom.pointerEvents","none"),this.inputKeyboard=GetValue(config2,"input.keyboard",!0),this.inputKeyboardEventTarget=GetValue(config2,"input.keyboard.target",window),this.inputKeyboardCapture=GetValue(config2,"input.keyboard.capture",[]),this.inputMouse=GetValue(config2,"input.mouse",!0),this.inputMouseEventTarget=GetValue(config2,"input.mouse.target",null),this.inputMousePreventDefaultDown=GetValue(config2,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=GetValue(config2,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=GetValue(config2,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=GetValue(config2,"input.mouse.preventDefaultWheel",!0),this.inputTouch=GetValue(config2,"input.touch",Device.input.touch),this.inputTouchEventTarget=GetValue(config2,"input.touch.target",null),this.inputTouchCapture=GetValue(config2,"input.touch.capture",!0),this.inputActivePointers=GetValue(config2,"input.activePointers",1),this.inputSmoothFactor=GetValue(config2,"input.smoothFactor",0),this.inputWindowEvents=GetValue(config2,"input.windowEvents",!0),this.inputGamepad=GetValue(config2,"input.gamepad",!1),this.inputGamepadEventTarget=GetValue(config2,"input.gamepad.target",window),this.disableContextMenu=GetValue(config2,"disableContextMenu",!1),this.audio=GetValue(config2,"audio",{}),this.hideBanner=!1===GetValue(config2,"banner",null),this.hidePhaser=GetValue(config2,"banner.hidePhaser",!1),this.bannerTextColor=GetValue(config2,"banner.text","#ffffff"),this.bannerBackgroundColor=GetValue(config2,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=GetValue(config2,"fps",null),this.disablePreFX=GetValue(config2,"disablePreFX",!1),this.disablePostFX=GetValue(config2,"disablePostFX",!1);var renderConfig=GetValue(config2,"render",null);this.pipeline=GetValue(renderConfig,"pipeline",null,config2),this.autoMobilePipeline=GetValue(renderConfig,"autoMobilePipeline",!0,config2),this.defaultPipeline=GetValue(renderConfig,"defaultPipeline",PIPELINE_CONST.MULTI_PIPELINE,config2),this.antialias=GetValue(renderConfig,"antialias",!0,config2),this.antialiasGL=GetValue(renderConfig,"antialiasGL",!0,config2),this.mipmapFilter=GetValue(renderConfig,"mipmapFilter","",config2),this.desynchronized=GetValue(renderConfig,"desynchronized",!1,config2),this.roundPixels=GetValue(renderConfig,"roundPixels",!1,config2),this.pixelArt=GetValue(renderConfig,"pixelArt",1!==this.zoom,config2),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=GetValue(renderConfig,"transparent",!1,config2),this.clearBeforeRender=GetValue(renderConfig,"clearBeforeRender",!0,config2),this.preserveDrawingBuffer=GetValue(renderConfig,"preserveDrawingBuffer",!1,config2),this.premultipliedAlpha=GetValue(renderConfig,"premultipliedAlpha",!0,config2),this.failIfMajorPerformanceCaveat=GetValue(renderConfig,"failIfMajorPerformanceCaveat",!1,config2),this.powerPreference=GetValue(renderConfig,"powerPreference","default",config2),this.batchSize=GetValue(renderConfig,"batchSize",4096,config2),this.maxTextures=GetValue(renderConfig,"maxTextures",-1,config2),this.maxLights=GetValue(renderConfig,"maxLights",10,config2);var bgc=GetValue(config2,"backgroundColor",0);this.backgroundColor=ValueToColor(bgc),this.transparent&&(this.backgroundColor=ValueToColor(0),this.backgroundColor.alpha=0),this.preBoot=GetValue(config2,"callbacks.preBoot",NOOP),this.postBoot=GetValue(config2,"callbacks.postBoot",NOOP),this.physics=GetValue(config2,"physics",{}),this.defaultPhysicsSystem=GetValue(this.physics,"default",!1),this.loaderBaseURL=GetValue(config2,"loader.baseURL",""),this.loaderPath=GetValue(config2,"loader.path",""),this.loaderMaxParallelDownloads=GetValue(config2,"loader.maxParallelDownloads",Device.os.android?6:32),this.loaderCrossOrigin=GetValue(config2,"loader.crossOrigin",void 0),this.loaderResponseType=GetValue(config2,"loader.responseType",""),this.loaderAsync=GetValue(config2,"loader.async",!0),this.loaderUser=GetValue(config2,"loader.user",""),this.loaderPassword=GetValue(config2,"loader.password",""),this.loaderTimeout=GetValue(config2,"loader.timeout",0),this.loaderMaxRetries=GetValue(config2,"loader.maxRetries",2),this.loaderWithCredentials=GetValue(config2,"loader.withCredentials",!1),this.loaderImageLoadType=GetValue(config2,"loader.imageLoadType","XHR"),this.loaderLocalScheme=GetValue(config2,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=GetValue(config2,"fx.glow.quality",.1),this.glowFXDistance=GetValue(config2,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var plugins=GetValue(config2,"plugins",null),defaultPlugins=DefaultPlugins.DefaultScene;plugins&&(Array.isArray(plugins)?this.defaultPlugins=plugins:IsPlainObject(plugins)&&(this.installGlobalPlugins=GetFastValue(plugins,"global",[]),this.installScenePlugins=GetFastValue(plugins,"scene",[]),Array.isArray(plugins.default)?defaultPlugins=plugins.default:Array.isArray(plugins.defaultMerge)&&(defaultPlugins=defaultPlugins.concat(plugins.defaultMerge)))),this.defaultPlugins=defaultPlugins;var pngPrefix="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=GetValue(config2,"images.default",pngPrefix+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=GetValue(config2,"images.missing",pngPrefix+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=GetValue(config2,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=CONST.WEBGL:window.FORCE_CANVAS&&(this.renderType=CONST.CANVAS))}});module2.exports=Config},86054:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasInterpolation=__webpack_require__2(20623),CanvasPool=__webpack_require__2(27919),CONST=__webpack_require__2(8054),Features=__webpack_require__2(89357);module2.exports=function(game){var config2=game.config;if((config2.customEnvironment||config2.canvas)&&config2.renderType===CONST.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!config2.customEnvironment&&!config2.canvas&&config2.renderType!==CONST.HEADLESS)if(config2.renderType===CONST.AUTO&&(config2.renderType=Features.webGL?CONST.WEBGL:CONST.CANVAS),config2.renderType===CONST.WEBGL){if(!Features.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(config2.renderType!==CONST.CANVAS)throw new Error("Unknown value for renderer type: "+config2.renderType);if(!Features.canvas)throw new Error("Cannot create Canvas context, aborting.")}config2.antialias||CanvasPool.disableSmoothing();var CanvasRenderer,WebGLRenderer,baseSize=game.scale.baseSize,width=baseSize.width,height=baseSize.height;config2.canvas?(game.canvas=config2.canvas,game.canvas.width=width,game.canvas.height=height):game.canvas=CanvasPool.create(game,width,height,config2.renderType),config2.canvasStyle&&(game.canvas.style=config2.canvasStyle),config2.antialias||CanvasInterpolation.setCrisp(game.canvas),config2.renderType!==CONST.HEADLESS&&(CanvasRenderer=__webpack_require__2(68627),WebGLRenderer=__webpack_require__2(74797),config2.renderType===CONST.WEBGL?game.renderer=new WebGLRenderer(game):(game.renderer=new CanvasRenderer(game),game.context=game.renderer.gameContext))}},96391:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(8054);module2.exports=function(game){var config2=game.config;if(!config2.hideBanner){var renderType="WebGL";config2.renderType===CONST.CANVAS?renderType="Canvas":config2.renderType===CONST.HEADLESS&&(renderType="Headless");var audioType,audioConfig=config2.audio,deviceAudio=game.device.audio;if(audioType=deviceAudio.webAudio&&!audioConfig.disableWebAudio?"Web Audio":audioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData?"No Audio":"HTML5 Audio",game.device.browser.ie)window.console&&console.log("Phaser v"+CONST.VERSION+" / https://phaser.io");else{var lastColor,c="",args=[c];Array.isArray(config2.bannerBackgroundColor)?(config2.bannerBackgroundColor.forEach((function(color){c=c.concat("%c "),args.push("background: "+color),lastColor=color})),args[args.length-1]="color: "+config2.bannerTextColor+"; background: "+lastColor):(c=c.concat("%c "),args.push("color: "+config2.bannerTextColor+"; background: "+config2.bannerBackgroundColor)),args.push("background: transparent"),config2.gameTitle&&(c=c.concat(config2.gameTitle),config2.gameVersion&&(c=c.concat(" v"+config2.gameVersion)),config2.hidePhaser||(c=c.concat(" / "))),config2.hidePhaser||(c=c.concat("Phaser v"+CONST.VERSION+" ("+renderType+" | "+audioType+")")),c=c.concat(" %c "+config2.gameURL),args[0]=c,console.log.apply(console,args)}}}},50127:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddToDOM=__webpack_require__2(40366),AnimationManager=__webpack_require__2(60848),CacheManager=__webpack_require__2(24047),CanvasPool=__webpack_require__2(27919),Class=__webpack_require__2(83419),Config=__webpack_require__2(69547),CreateDOMContainer=__webpack_require__2(83719),CreateRenderer=__webpack_require__2(86054),DataManager=__webpack_require__2(45893),DebugHeader=__webpack_require__2(96391),Device=__webpack_require__2(82264),DOMContentLoaded=__webpack_require__2(57264),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(8443),InputManager=__webpack_require__2(7003),PluginCache=__webpack_require__2(37277),PluginManager=__webpack_require__2(77332),ScaleManager=__webpack_require__2(76531),SceneManager=__webpack_require__2(60903),TextureEvents=__webpack_require__2(69442),TextureManager=__webpack_require__2(17130),TimeStep=__webpack_require__2(65898),VisibilityHandler=__webpack_require__2(51085),SoundManagerCreator=__webpack_require__2(14747),Game2=new Class({initialize:function Game3(config2){this.config=new Config(config2),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new EventEmitter2,this.anims=new AnimationManager(this),this.textures=new TextureManager(this),this.cache=new CacheManager(this),this.registry=new DataManager(this,new EventEmitter2),this.input=new InputManager(this,this.config),this.scene=new SceneManager(this,this.config.sceneConfig),this.device=Device,this.scale=new ScaleManager(this,this.config),this.sound=null,this.sound=SoundManagerCreator.create(this),this.loop=new TimeStep(this,this.config.fps),this.plugins=new PluginManager(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,DOMContentLoaded(this.boot.bind(this))},boot:function(){PluginCache.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),CreateRenderer(this),CreateDOMContainer(this),DebugHeader(this),AddToDOM(this.canvas,this.config.parent),this.textures.once(TextureEvents.READY,this.texturesReady,this),this.events.emit(Events2.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(Events2.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),VisibilityHandler(this);var eventEmitter=this.events;eventEmitter.on(Events2.HIDDEN,this.onHidden,this),eventEmitter.on(Events2.VISIBLE,this.onVisible,this),eventEmitter.on(Events2.BLUR,this.onBlur,this),eventEmitter.on(Events2.FOCUS,this.onFocus,this)},step:function(time,delta){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var eventEmitter=this.events;eventEmitter.emit(Events2.PRE_STEP,time,delta),eventEmitter.emit(Events2.STEP,time,delta),this.scene.update(time,delta),eventEmitter.emit(Events2.POST_STEP,time,delta);var renderer=this.renderer;renderer.preRender(),eventEmitter.emit(Events2.PRE_RENDER,renderer,time,delta),this.scene.render(renderer),renderer.postRender(),eventEmitter.emit(Events2.POST_RENDER,renderer,time,delta)}},headlessStep:function(time,delta){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var eventEmitter=this.events;eventEmitter.emit(Events2.PRE_STEP,time,delta),eventEmitter.emit(Events2.STEP,time,delta),this.scene.update(time,delta),eventEmitter.emit(Events2.POST_STEP,time,delta),this.scene.isProcessing=!1,eventEmitter.emit(Events2.PRE_RENDER,null,time,delta),eventEmitter.emit(Events2.POST_RENDER,null,time,delta)}},onHidden:function(){this.loop.pause(),this.events.emit(Events2.PAUSE)},pause:function(){var wasPaused=this.isPaused;this.isPaused=!0,wasPaused||this.events.emit(Events2.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(Events2.RESUME,this.loop.pauseDuration)},resume:function(){var wasPaused=this.isPaused;this.isPaused=!1,wasPaused&&this.events.emit(Events2.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(removeCanvas,noReturn){void 0===noReturn&&(noReturn=!1),this.pendingDestroy=!0,this.removeCanvas=removeCanvas,this.noReturn=noReturn},runDestroy:function(){this.scene.destroy(),this.events.emit(Events2.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(CanvasPool.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});module2.exports=Game2},65898:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetValue=__webpack_require__2(35154),NOOP=__webpack_require__2(29747),RequestAnimationFrame=__webpack_require__2(43092),TimeStep=new Class({initialize:function TimeStep2(game,config2){this.game=game,this.raf=new RequestAnimationFrame,this.started=!1,this.running=!1,this.minFps=GetValue(config2,"min",5),this.targetFps=GetValue(config2,"target",60),this.fpsLimit=GetValue(config2,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=NOOP,this.forceSetTimeOut=GetValue(config2,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=GetValue(config2,"deltaHistory",10),this.panicMax=GetValue(config2,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=GetValue(config2,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var now=window.performance.now();this.time=now,this.lastTime=now,this.nextFpsUpdate=now+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(callback){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=callback;var step=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(step,this.forceSetTimeOut,this._target)},smoothDelta:function(delta){var idx=this.deltaIndex,history=this.deltaHistory,max=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,delta=Math.min(delta,this._target)),delta>this._min&&(delta=history[idx],delta=Math.min(delta,this._min)),history[idx]=delta,this.deltaIndex++,this.deltaIndex>=max&&(this.deltaIndex=0);for(var avg=0,i=0;i<max;i++)avg+=history[i];return avg/=max},updateFPS:function(time){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=time+1e3,this.framesThisSecond=0},stepLimitFPS:function(time){this.now=time;var delta=Math.max(0,time-this.lastTime);this.rawDelta=delta,this.time+=this.rawDelta,this.smoothStep&&(delta=this.smoothDelta(delta)),this.delta+=delta,time>=this.nextFpsUpdate&&this.updateFPS(time),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(time,this.delta),this.delta=0),this.lastTime=time,this.frame++},step:function(time){this.now=time;var delta=Math.max(0,time-this.lastTime);this.rawDelta=delta,this.time+=this.rawDelta,this.smoothStep&&(delta=this.smoothDelta(delta)),this.delta=delta,time>=this.nextFpsUpdate&&this.updateFPS(time),this.framesThisSecond++,this.callback(time,delta),this.lastTime=time,this.frame++},tick:function(){var now=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(now):this.step(now)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(seamless){void 0===seamless&&(seamless=!1);var now=window.performance.now();if(!this.running){seamless&&(this.startTime+=-this.lastTime+(this.lastTime+now));var step=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(step,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=now+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});module2.exports=TimeStep},51085:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Events2=__webpack_require__2(8443);module2.exports=function(game){var hiddenVar,eventEmitter=game.events;void 0!==document.hidden?hiddenVar="visibilitychange":["webkit","moz","ms"].forEach((function(prefix){void 0!==document[prefix+"Hidden"]&&(document.hidden=function(){return document[prefix+"Hidden"]},hiddenVar=prefix+"visibilitychange")})),hiddenVar&&document.addEventListener(hiddenVar,(function(event){document.hidden||"pause"===event.type?eventEmitter.emit(Events2.HIDDEN):eventEmitter.emit(Events2.VISIBLE)}),!1),window.onblur=function(){eventEmitter.emit(Events2.BLUR)},window.onfocus=function(){eventEmitter.emit(Events2.FOCUS)},window.focus&&game.config.autoFocus&&window.focus()}},97217:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="blur"},47548:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="boot"},19814:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="contextlost"},68446:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},41700:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="focus"},25432:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="hidden"},65942:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},59211:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="postrender"},47789:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="poststep"},39066:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="prerender"},460:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="prestep"},16175:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="ready"},42331:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},11966:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="step"},32969:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="systemready"},94830:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="visible"},8443:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BLUR:__webpack_require__2(97217),BOOT:__webpack_require__2(47548),CONTEXT_LOST:__webpack_require__2(19814),DESTROY:__webpack_require__2(68446),FOCUS:__webpack_require__2(41700),HIDDEN:__webpack_require__2(25432),PAUSE:__webpack_require__2(65942),POST_RENDER:__webpack_require__2(59211),POST_STEP:__webpack_require__2(47789),PRE_RENDER:__webpack_require__2(39066),PRE_STEP:__webpack_require__2(460),READY:__webpack_require__2(16175),RESUME:__webpack_require__2(42331),STEP:__webpack_require__2(11966),SYSTEM_READY:__webpack_require__2(32969),VISIBLE:__webpack_require__2(94830)}},42857:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Config:__webpack_require__2(69547),CreateRenderer:__webpack_require__2(86054),DebugHeader:__webpack_require__2(96391),Events:__webpack_require__2(8443),TimeStep:__webpack_require__2(65898),VisibilityHandler:__webpack_require__2(51085)}},99584:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Arne16=__webpack_require__2(5290),CanvasPool=__webpack_require__2(27919),GetValue=__webpack_require__2(35154);module2.exports=function(config2){var data=GetValue(config2,"data",[]),canvas=GetValue(config2,"canvas",null),palette=GetValue(config2,"palette",Arne16),pixelWidth=GetValue(config2,"pixelWidth",1),pixelHeight=GetValue(config2,"pixelHeight",pixelWidth),resizeCanvas=GetValue(config2,"resizeCanvas",!0),clearCanvas=GetValue(config2,"clearCanvas",!0),preRender=GetValue(config2,"preRender",null),postRender=GetValue(config2,"postRender",null),width=Math.floor(Math.abs(data[0].length*pixelWidth)),height=Math.floor(Math.abs(data.length*pixelHeight));canvas||(canvas=CanvasPool.create2D(this,width,height),resizeCanvas=!1,clearCanvas=!1),resizeCanvas&&(canvas.width=width,canvas.height=height);var ctx=canvas.getContext("2d",{willReadFrequently:!0});clearCanvas&&ctx.clearRect(0,0,width,height),preRender&&preRender(canvas,ctx);for(var y=0;y<data.length;y++)for(var row=data[y],x=0;x<row.length;x++){var d=row[x];"."!==d&&" "!==d&&(ctx.fillStyle=palette[d],ctx.fillRect(x*pixelWidth,y*pixelHeight,pixelWidth,pixelHeight))}return postRender&&postRender(canvas,ctx),canvas}},15822:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={GenerateTexture:__webpack_require__2(99584),Palettes:__webpack_require__2(57763)}},5290:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ARNE16:__webpack_require__2(5290),C64:__webpack_require__2(23816),CGA:__webpack_require__2(9866),JMP:__webpack_require__2(77552),MSX:__webpack_require__2(92259)}},46728:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CubicBezier=__webpack_require__2(36316),Curve=__webpack_require__2(80021),Vector2=__webpack_require__2(26099),CubicBezierCurve=new Class({Extends:Curve,initialize:function CubicBezierCurve2(p0,p1,p2,p3){Curve.call(this,"CubicBezierCurve"),Array.isArray(p0)&&(p3=new Vector2(p0[6],p0[7]),p2=new Vector2(p0[4],p0[5]),p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1])),this.p0=p0,this.p1=p1,this.p2=p2,this.p3=p3},getStartPoint:function(out){return void 0===out&&(out=new Vector2),out.copy(this.p0)},getResolution:function(divisions){return divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);var p0=this.p0,p1=this.p1,p2=this.p2,p3=this.p3;return out.set(CubicBezier(t,p0.x,p1.x,p2.x,p3.x),CubicBezier(t,p0.y,p1.y,p2.y,p3.y))},draw:function(graphics,pointsTotal){void 0===pointsTotal&&(pointsTotal=32);var points=this.getPoints(pointsTotal);graphics.beginPath(),graphics.moveTo(this.p0.x,this.p0.y);for(var i=1;i<points.length;i++)graphics.lineTo(points[i].x,points[i].y);return graphics.strokePath(),graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});CubicBezierCurve.fromJSON=function(data){var points=data.points,p0=new Vector2(points[0],points[1]),p1=new Vector2(points[2],points[3]),p2=new Vector2(points[4],points[5]),p3=new Vector2(points[6],points[7]);return new CubicBezierCurve(p0,p1,p2,p3)},module2.exports=CubicBezierCurve},80021:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FromPoints=__webpack_require__2(19217),Rectangle=__webpack_require__2(87841),Vector2=__webpack_require__2(26099),Curve=new Class({initialize:function Curve2(type){this.type=type,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new Vector2,this._tmpVec2B=new Vector2},draw:function(graphics,pointsTotal){return void 0===pointsTotal&&(pointsTotal=32),graphics.strokePoints(this.getPoints(pointsTotal))},getBounds:function(out,accuracy){out||(out=new Rectangle),void 0===accuracy&&(accuracy=16);var len=this.getLength();accuracy>len&&(accuracy=len/2);var spaced=Math.max(1,Math.round(len/accuracy));return FromPoints(this.getSpacedPoints(spaced),out)},getDistancePoints:function(distance){var len=this.getLength(),spaced=Math.max(1,len/distance);return this.getSpacedPoints(spaced)},getEndPoint:function(out){return void 0===out&&(out=new Vector2),this.getPointAt(1,out)},getLength:function(){var lengths=this.getLengths();return lengths[lengths.length-1]},getLengths:function(divisions){if(void 0===divisions&&(divisions=this.arcLengthDivisions),this.cacheArcLengths.length===divisions+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var current,cache=[],last=this.getPoint(0,this._tmpVec2A),sum=0;cache.push(0);for(var p=1;p<=divisions;p++)sum+=(current=this.getPoint(p/divisions,this._tmpVec2B)).distance(last),cache.push(sum),last.copy(current);return this.cacheArcLengths=cache,cache},getPointAt:function(u,out){var t=this.getUtoTmapping(u);return this.getPoint(t,out)},getPoints:function(divisions,stepRate,out){void 0===out&&(out=[]),divisions||(divisions=stepRate?this.getLength()/stepRate:this.defaultDivisions);for(var d=0;d<=divisions;d++)out.push(this.getPoint(d/divisions));return out},getRandomPoint:function(out){return void 0===out&&(out=new Vector2),this.getPoint(Math.random(),out)},getSpacedPoints:function(divisions,stepRate,out){void 0===out&&(out=[]),divisions||(divisions=stepRate?this.getLength()/stepRate:this.defaultDivisions);for(var d=0;d<=divisions;d++){var t=this.getUtoTmapping(d/divisions,null,divisions);out.push(this.getPoint(t))}return out},getStartPoint:function(out){return void 0===out&&(out=new Vector2),this.getPointAt(0,out)},getTangent:function(t,out){void 0===out&&(out=new Vector2);var t1=t-1e-4,t2=t+1e-4;return t1<0&&(t1=0),t2>1&&(t2=1),this.getPoint(t1,this._tmpVec2A),this.getPoint(t2,out),out.subtract(this._tmpVec2A).normalize()},getTangentAt:function(u,out){var t=this.getUtoTmapping(u);return this.getTangent(t,out)},getTFromDistance:function(distance,divisions){return distance<=0?0:this.getUtoTmapping(0,distance,divisions)},getUtoTmapping:function(u,distance,divisions){var targetArcLength,arcLengths=this.getLengths(divisions),i=0,il=arcLengths.length;targetArcLength=distance?Math.min(distance,arcLengths[il-1]):u*arcLengths[il-1];for(var comparison,low=0,high=il-1;low<=high;)if((comparison=arcLengths[i=Math.floor(low+(high-low)/2)]-targetArcLength)<0)low=i+1;else{if(!(comparison>0)){high=i;break}high=i-1}if(arcLengths[i=high]===targetArcLength)return i/(il-1);var lengthBefore=arcLengths[i];return(i+(targetArcLength-lengthBefore)/(arcLengths[i+1]-lengthBefore))/(il-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});module2.exports=Curve},73825:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Curve=__webpack_require__2(80021),DegToRad=__webpack_require__2(39506),GetValue=__webpack_require__2(35154),RadToDeg=__webpack_require__2(43396),Vector2=__webpack_require__2(26099),EllipseCurve=new Class({Extends:Curve,initialize:function EllipseCurve2(x,y,xRadius,yRadius,startAngle,endAngle,clockwise,rotation){if("object"==typeof x){var config2=x;x=GetValue(config2,"x",0),y=GetValue(config2,"y",0),xRadius=GetValue(config2,"xRadius",0),yRadius=GetValue(config2,"yRadius",xRadius),startAngle=GetValue(config2,"startAngle",0),endAngle=GetValue(config2,"endAngle",360),clockwise=GetValue(config2,"clockwise",!1),rotation=GetValue(config2,"rotation",0)}else void 0===yRadius&&(yRadius=xRadius),void 0===startAngle&&(startAngle=0),void 0===endAngle&&(endAngle=360),void 0===clockwise&&(clockwise=!1),void 0===rotation&&(rotation=0);Curve.call(this,"EllipseCurve"),this.p0=new Vector2(x,y),this._xRadius=xRadius,this._yRadius=yRadius,this._startAngle=DegToRad(startAngle),this._endAngle=DegToRad(endAngle),this._clockwise=clockwise,this._rotation=DegToRad(rotation)},getStartPoint:function(out){return void 0===out&&(out=new Vector2),this.getPoint(0,out)},getResolution:function(divisions){return 2*divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);for(var twoPi=2*Math.PI,deltaAngle=this._endAngle-this._startAngle,samePoints=Math.abs(deltaAngle)<Number.EPSILON;deltaAngle<0;)deltaAngle+=twoPi;for(;deltaAngle>twoPi;)deltaAngle-=twoPi;deltaAngle<Number.EPSILON&&(deltaAngle=samePoints?0:twoPi),this._clockwise&&!samePoints&&(deltaAngle===twoPi?deltaAngle=-twoPi:deltaAngle-=twoPi);var angle=this._startAngle+t*deltaAngle,x=this.p0.x+this._xRadius*Math.cos(angle),y=this.p0.y+this._yRadius*Math.sin(angle);if(0!==this._rotation){var cos=Math.cos(this._rotation),sin=Math.sin(this._rotation),tx=x-this.p0.x,ty=y-this.p0.y;x=tx*cos-ty*sin+this.p0.x,y=tx*sin+ty*cos+this.p0.y}return out.set(x,y)},setXRadius:function(value){return this.xRadius=value,this},setYRadius:function(value){return this.yRadius=value,this},setWidth:function(value){return this.xRadius=value/2,this},setHeight:function(value){return this.yRadius=value/2,this},setStartAngle:function(value){return this.startAngle=value,this},setEndAngle:function(value){return this.endAngle=value,this},setClockwise:function(value){return this.clockwise=value,this},setRotation:function(value){return this.rotation=value,this},x:{get:function(){return this.p0.x},set:function(value){this.p0.x=value}},y:{get:function(){return this.p0.y},set:function(value){this.p0.y=value}},xRadius:{get:function(){return this._xRadius},set:function(value){this._xRadius=value}},yRadius:{get:function(){return this._yRadius},set:function(value){this._yRadius=value}},startAngle:{get:function(){return RadToDeg(this._startAngle)},set:function(value){this._startAngle=DegToRad(value)}},endAngle:{get:function(){return RadToDeg(this._endAngle)},set:function(value){this._endAngle=DegToRad(value)}},clockwise:{get:function(){return this._clockwise},set:function(value){this._clockwise=value}},angle:{get:function(){return RadToDeg(this._rotation)},set:function(value){this._rotation=DegToRad(value)}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=value}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:RadToDeg(this._startAngle),endAngle:RadToDeg(this._endAngle),clockwise:this._clockwise,rotation:RadToDeg(this._rotation)}}});EllipseCurve.fromJSON=function(data){return new EllipseCurve(data)},module2.exports=EllipseCurve},33951:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Curve=__webpack_require__2(80021),FromPoints=__webpack_require__2(19217),Rectangle=__webpack_require__2(87841),Vector2=__webpack_require__2(26099),LineCurve=new Class({Extends:Curve,initialize:function LineCurve2(p0,p1){Curve.call(this,"LineCurve"),Array.isArray(p0)&&(p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1])),this.p0=p0,this.p1=p1,this.arcLengthDivisions=1},getBounds:function(out){return void 0===out&&(out=new Rectangle),FromPoints([this.p0,this.p1],out)},getStartPoint:function(out){return void 0===out&&(out=new Vector2),out.copy(this.p0)},getResolution:function(divisions){return void 0===divisions&&(divisions=1),divisions},getPoint:function(t,out){return void 0===out&&(out=new Vector2),1===t?out.copy(this.p1):(out.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),out)},getPointAt:function(u,out){return this.getPoint(u,out)},getTangent:function(t,out){return void 0===out&&(out=new Vector2),out.copy(this.p1).subtract(this.p0).normalize(),out},getUtoTmapping:function(u,distance,divisions){var t;if(distance){var arcLengths=this.getLengths(divisions),lineLength=arcLengths[arcLengths.length-1];t=Math.min(distance,lineLength)/lineLength}else t=u;return t},draw:function(graphics){return graphics.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});LineCurve.fromJSON=function(data){var points=data.points,p0=new Vector2(points[0],points[1]),p1=new Vector2(points[2],points[3]);return new LineCurve(p0,p1)},module2.exports=LineCurve},14744:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Curve=__webpack_require__2(80021),QuadraticBezierInterpolation=__webpack_require__2(32112),Vector2=__webpack_require__2(26099),QuadraticBezier=new Class({Extends:Curve,initialize:function QuadraticBezier2(p0,p1,p2){Curve.call(this,"QuadraticBezierCurve"),Array.isArray(p0)&&(p2=new Vector2(p0[4],p0[5]),p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1])),this.p0=p0,this.p1=p1,this.p2=p2},getStartPoint:function(out){return void 0===out&&(out=new Vector2),out.copy(this.p0)},getResolution:function(divisions){return divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);var p0=this.p0,p1=this.p1,p2=this.p2;return out.set(QuadraticBezierInterpolation(t,p0.x,p1.x,p2.x),QuadraticBezierInterpolation(t,p0.y,p1.y,p2.y))},draw:function(graphics,pointsTotal){void 0===pointsTotal&&(pointsTotal=32);var points=this.getPoints(pointsTotal);graphics.beginPath(),graphics.moveTo(this.p0.x,this.p0.y);for(var i=1;i<points.length;i++)graphics.lineTo(points[i].x,points[i].y);return graphics.strokePath(),graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});QuadraticBezier.fromJSON=function(data){var points=data.points,p0=new Vector2(points[0],points[1]),p1=new Vector2(points[2],points[3]),p2=new Vector2(points[4],points[5]);return new QuadraticBezier(p0,p1,p2)},module2.exports=QuadraticBezier},42534:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CatmullRom=__webpack_require__2(87842),Class=__webpack_require__2(83419),Curve=__webpack_require__2(80021),Vector2=__webpack_require__2(26099),SplineCurve=new Class({Extends:Curve,initialize:function SplineCurve2(points){void 0===points&&(points=[]),Curve.call(this,"SplineCurve"),this.points=[],this.addPoints(points)},addPoints:function(points){for(var i=0;i<points.length;i++){var p=new Vector2;"number"==typeof points[i]?(p.x=points[i],p.y=points[i+1],i++):Array.isArray(points[i])?(p.x=points[i][0],p.y=points[i][1]):(p.x=points[i].x,p.y=points[i].y),this.points.push(p)}return this},addPoint:function(x,y){var vec=new Vector2(x,y);return this.points.push(vec),vec},getStartPoint:function(out){return void 0===out&&(out=new Vector2),out.copy(this.points[0])},getResolution:function(divisions){return divisions*this.points.length},getPoint:function(t,out){void 0===out&&(out=new Vector2);var points=this.points,point=(points.length-1)*t,intPoint=Math.floor(point),weight=point-intPoint,p0=points[0===intPoint?intPoint:intPoint-1],p1=points[intPoint],p2=points[intPoint>points.length-2?points.length-1:intPoint+1],p3=points[intPoint>points.length-3?points.length-1:intPoint+2];return out.set(CatmullRom(weight,p0.x,p1.x,p2.x,p3.x),CatmullRom(weight,p0.y,p1.y,p2.y,p3.y))},toJSON:function(){for(var points=[],i=0;i<this.points.length;i++)points.push(this.points[i].x),points.push(this.points[i].y);return{type:this.type,points:points}}});SplineCurve.fromJSON=function(data){return new SplineCurve(data.points)},module2.exports=SplineCurve},25410:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Path:__webpack_require__2(46669),MoveTo:__webpack_require__2(68618),CubicBezier:__webpack_require__2(46728),Curve:__webpack_require__2(80021),Ellipse:__webpack_require__2(73825),Line:__webpack_require__2(33951),QuadraticBezier:__webpack_require__2(14744),Spline:__webpack_require__2(42534)}},68618:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Vector2=__webpack_require__2(26099),MoveTo=new Class({initialize:function MoveTo2(x,y){this.active=!1,this.p0=new Vector2(x,y)},getPoint:function(t,out){return void 0===out&&(out=new Vector2),out.copy(this.p0)},getPointAt:function(u,out){return this.getPoint(u,out)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});module2.exports=MoveTo},46669:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CubicBezierCurve=__webpack_require__2(46728),EllipseCurve=__webpack_require__2(73825),GameObjectFactory=__webpack_require__2(39429),LineCurve=__webpack_require__2(33951),MovePathTo=__webpack_require__2(68618),QuadraticBezierCurve=__webpack_require__2(14744),Rectangle=__webpack_require__2(87841),SplineCurve=__webpack_require__2(42534),Vector2=__webpack_require__2(26099),MATH_CONST=__webpack_require__2(36383),Path=new Class({initialize:function Path2(x,y){void 0===x&&(x=0),void 0===y&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new Vector2,this._tmpVec2A=new Vector2,this._tmpVec2B=new Vector2,"object"==typeof x?this.fromJSON(x):this.startPoint.set(x,y)},add:function(curve){return this.curves.push(curve),this},circleTo:function(radius,clockwise,rotation){return void 0===clockwise&&(clockwise=!1),this.ellipseTo(radius,radius,0,360,clockwise,rotation)},closePath:function(){var startPoint=this.curves[0].getPoint(0),endPoint=this.curves[this.curves.length-1].getPoint(1);return startPoint.equals(endPoint)||this.curves.push(new LineCurve(endPoint,startPoint)),this},cubicBezierTo:function(x,y,control1X,control1Y,control2X,control2Y){var p1,p2,p3,p0=this.getEndPoint();return x instanceof Vector2?(p1=x,p2=y,p3=control1X):(p1=new Vector2(control1X,control1Y),p2=new Vector2(control2X,control2Y),p3=new Vector2(x,y)),this.add(new CubicBezierCurve(p0,p1,p2,p3))},quadraticBezierTo:function(x,y,controlX,controlY){var p1,p2,p0=this.getEndPoint();return x instanceof Vector2?(p1=x,p2=y):(p1=new Vector2(controlX,controlY),p2=new Vector2(x,y)),this.add(new QuadraticBezierCurve(p0,p1,p2))},draw:function(graphics,pointsTotal){for(var i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&curve.draw(graphics,pointsTotal)}return graphics},ellipseTo:function(xRadius,yRadius,startAngle,endAngle,clockwise,rotation){var ellipse=new EllipseCurve(0,0,xRadius,yRadius,startAngle,endAngle,clockwise,rotation),end=this.getEndPoint(this._tmpVec2A),start=ellipse.getStartPoint(this._tmpVec2B);return end.subtract(start),ellipse.x=end.x,ellipse.y=end.y,this.add(ellipse)},fromJSON:function(data){this.curves=[],this.cacheLengths=[],this.startPoint.set(data.x,data.y),this.autoClose=data.autoClose;for(var i=0;i<data.curves.length;i++){var curve=data.curves[i];switch(curve.type){case"LineCurve":this.add(LineCurve.fromJSON(curve));break;case"EllipseCurve":this.add(EllipseCurve.fromJSON(curve));break;case"SplineCurve":this.add(SplineCurve.fromJSON(curve));break;case"CubicBezierCurve":this.add(CubicBezierCurve.fromJSON(curve));break;case"QuadraticBezierCurve":this.add(QuadraticBezierCurve.fromJSON(curve))}}return this},getBounds:function(out,accuracy){void 0===out&&(out=new Rectangle),void 0===accuracy&&(accuracy=16),out.x=Number.MAX_VALUE,out.y=Number.MAX_VALUE;for(var bounds=new Rectangle,maxRight=MATH_CONST.MIN_SAFE_INTEGER,maxBottom=MATH_CONST.MIN_SAFE_INTEGER,i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&(curve.getBounds(bounds,accuracy),out.x=Math.min(out.x,bounds.x),out.y=Math.min(out.y,bounds.y),maxRight=Math.max(maxRight,bounds.right),maxBottom=Math.max(maxBottom,bounds.bottom))}return out.right=maxRight,out.bottom=maxBottom,out},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var lengths=[],sums=0,i=0;i<this.curves.length;i++)sums+=this.curves[i].getLength(),lengths.push(sums);return this.cacheLengths=lengths,lengths},getCurveAt:function(t){for(var d=t*this.getLength(),curveLengths=this.getCurveLengths(),i=0;i<curveLengths.length;){if(curveLengths[i]>=d)return this.curves[i];i++}return null},getEndPoint:function(out){return void 0===out&&(out=new Vector2),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,out):out.copy(this.startPoint),out},getLength:function(){var lens=this.getCurveLengths();return lens[lens.length-1]},getPoint:function(t,out){void 0===out&&(out=new Vector2);for(var d=t*this.getLength(),curveLengths=this.getCurveLengths(),i=0;i<curveLengths.length;){if(curveLengths[i]>=d){var diff=curveLengths[i]-d,curve=this.curves[i],segmentLength=curve.getLength(),u=0===segmentLength?0:1-diff/segmentLength;return curve.getPointAt(u,out)}i++}return null},getPoints:function(divisions,stepRate){divisions||stepRate||(divisions=this.defaultDivisions);for(var last,points=[],i=0;i<this.curves.length;i++){var curve=this.curves[i];if(curve.active)for(var resolution=curve.getResolution(divisions),pts=curve.getPoints(resolution,stepRate),j=0;j<pts.length;j++){var point=pts[j];last&&last.equals(point)||(points.push(point),last=point)}}return this.autoClose&&points.length>1&&!points[points.length-1].equals(points[0])&&points.push(points[0]),points},getRandomPoint:function(out){return void 0===out&&(out=new Vector2),this.getPoint(Math.random(),out)},getSpacedPoints:function(divisions){void 0===divisions&&(divisions=40);for(var points=[],i=0;i<=divisions;i++)points.push(this.getPoint(i/divisions));return this.autoClose&&points.push(points[0]),points},getStartPoint:function(out){return void 0===out&&(out=new Vector2),out.copy(this.startPoint)},getTangent:function(t,out){void 0===out&&(out=new Vector2);for(var d=t*this.getLength(),curveLengths=this.getCurveLengths(),i=0;i<curveLengths.length;){if(curveLengths[i]>=d){var diff=curveLengths[i]-d,curve=this.curves[i],segmentLength=curve.getLength(),u=0===segmentLength?0:1-diff/segmentLength;return curve.getTangentAt(u,out)}i++}return null},lineTo:function(x,y){x instanceof Vector2?this._tmpVec2B.copy(x):"object"==typeof x?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,y);var end=this.getEndPoint(this._tmpVec2A);return this.add(new LineCurve([end.x,end.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(points){return points.unshift(this.getEndPoint()),this.add(new SplineCurve(points))},moveTo:function(x,y){return x instanceof Vector2?this.add(new MovePathTo(x.x,x.y)):this.add(new MovePathTo(x,y))},toJSON:function(){for(var out=[],i=0;i<this.curves.length;i++)out.push(this.curves[i].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:out}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});GameObjectFactory.register("path",(function(x,y){return new Path(x,y)})),module2.exports=Path},45893:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(24882),DataManager=new Class({initialize:function DataManager2(parent,eventEmitter){this.parent=parent,this.events=eventEmitter,eventEmitter||(this.events=parent.events?parent.events:parent),this.list={},this.values={},this._frozen=!1,!parent.hasOwnProperty("sys")&&this.events&&this.events.once(Events2.DESTROY,this.destroy,this)},get:function(key){var list=this.list;if(Array.isArray(key)){for(var output=[],i=0;i<key.length;i++)output.push(list[key[i]]);return output}return list[key]},getAll:function(){var results={};for(var key in this.list)this.list.hasOwnProperty(key)&&(results[key]=this.list[key]);return results},query:function(search){var results={};for(var key in this.list)this.list.hasOwnProperty(key)&&key.match(search)&&(results[key]=this.list[key]);return results},set:function(key,data){if(this._frozen)return this;if("string"==typeof key)return this.setValue(key,data);for(var entry in key)this.setValue(entry,key[entry]);return this},inc:function(key,amount){if(this._frozen)return this;void 0===amount&&(amount=1);var value=this.get(key);return void 0===value&&(value=0),this.set(key,value+amount),this},toggle:function(key){return this._frozen||this.set(key,!this.get(key)),this},setValue:function(key,data){if(this._frozen)return this;if(this.has(key))this.values[key]=data;else{var _this=this,list=this.list,events=this.events,parent=this.parent;Object.defineProperty(this.values,key,{enumerable:!0,configurable:!0,get:function(){return list[key]},set:function(value){if(!_this._frozen){var previousValue=list[key];list[key]=value,events.emit(Events2.CHANGE_DATA,parent,key,value,previousValue),events.emit(Events2.CHANGE_DATA_KEY+key,parent,value,previousValue)}}}),list[key]=data,events.emit(Events2.SET_DATA,parent,key,data)}return this},each:function(callback,context){for(var args=[this.parent,null,void 0],i=1;i<arguments.length;i++)args.push(arguments[i]);for(var key in this.list)args[1]=key,args[2]=this.list[key],callback.apply(context,args);return this},merge:function(data,overwrite){for(var key in void 0===overwrite&&(overwrite=!0),data)data.hasOwnProperty(key)&&(overwrite||!overwrite&&!this.has(key))&&this.setValue(key,data[key]);return this},remove:function(key){if(this._frozen)return this;if(!Array.isArray(key))return this.removeValue(key);for(var i=0;i<key.length;i++)this.removeValue(key[i]);return this},removeValue:function(key){if(this.has(key)){var data=this.list[key];delete this.list[key],delete this.values[key],this.events.emit(Events2.REMOVE_DATA,this.parent,key,data)}return this},pop:function(key){var data=void 0;return!this._frozen&&this.has(key)&&(data=this.list[key],delete this.list[key],delete this.values[key],this.events.emit(Events2.REMOVE_DATA,this.parent,key,data)),data},has:function(key){return this.list.hasOwnProperty(key)},setFreeze:function(value){return this._frozen=value,this},reset:function(){for(var key in this.list)delete this.list[key],delete this.values[key];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(Events2.CHANGE_DATA),this.events.off(Events2.SET_DATA),this.events.off(Events2.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(value){this._frozen=!!value}},count:{get:function(){var i=0;for(var key in this.list)void 0!==this.list[key]&&i++;return i}}});module2.exports=DataManager},63646:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),DataManager=__webpack_require__2(45893),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),DataManagerPlugin=new Class({Extends:DataManager,initialize:function DataManagerPlugin2(scene){DataManager.call(this,scene,scene.sys.events),this.scene=scene,this.systems=scene.sys,scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){DataManager.prototype.destroy.call(this),this.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null}});PluginCache.register("DataManagerPlugin",DataManagerPlugin,"data"),module2.exports=DataManagerPlugin},10700:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="changedata"},93608:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="changedata-"},60883:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},69780:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="removedata"},22166:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="setdata"},24882:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CHANGE_DATA:__webpack_require__2(10700),CHANGE_DATA_KEY:__webpack_require__2(93608),DESTROY:__webpack_require__2(60883),REMOVE_DATA:__webpack_require__2(69780),SET_DATA:__webpack_require__2(22166)}},44965:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={DataManager:__webpack_require__2(45893),DataManagerPlugin:__webpack_require__2(63646),Events:__webpack_require__2(24882)}},7098:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Browser=__webpack_require__2(84148),Audio2={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};module2.exports=function init(){if("function"==typeof importScripts)return Audio2;Audio2.audioData=!!window.Audio,Audio2.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var audioElement=document.createElement("audio"),result=!!audioElement.canPlayType;try{if(result){var CanPlay=function(type1,type2){var canPlayType1=audioElement.canPlayType("audio/"+type1).replace(/^no$/,"");return type2?Boolean(canPlayType1||audioElement.canPlayType("audio/"+type2).replace(/^no$/,"")):Boolean(canPlayType1)};if(Audio2.ogg=CanPlay('ogg; codecs="vorbis"'),Audio2.opus=CanPlay('ogg; codecs="opus"',"opus"),Audio2.mp3=CanPlay("mpeg"),Audio2.wav=CanPlay("wav"),Audio2.m4a=CanPlay("x-m4a"),Audio2.aac=CanPlay("aac"),Audio2.flac=CanPlay("flac","x-flac"),Audio2.webm=CanPlay('webm; codecs="vorbis"'),""!==audioElement.canPlayType('audio/mp4; codecs="ec-3"'))if(Browser.edge)Audio2.dolby=!0;else if(Browser.safari&&Browser.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var major=parseInt(RegExp.$1,10),minor=parseInt(RegExp.$2,10);(10===major&&minor>=11||major>10)&&(Audio2.dolby=!0)}}}catch(e){}return Audio2}()},84148:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OS=__webpack_require__2(25892),Browser={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};module2.exports=function init(){var ua=navigator.userAgent;return/Edg\/\d+/.test(ua)?(Browser.edge=!0,Browser.es2019=!0):/OPR/.test(ua)?(Browser.opera=!0,Browser.es2019=!0):/Chrome\/(\d+)/.test(ua)&&!OS.windowsPhone?(Browser.chrome=!0,Browser.chromeVersion=parseInt(RegExp.$1,10),Browser.es2019=Browser.chromeVersion>69):/Firefox\D+(\d+)/.test(ua)?(Browser.firefox=!0,Browser.firefoxVersion=parseInt(RegExp.$1,10),Browser.es2019=Browser.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(ua)&&OS.iOS?(Browser.mobileSafari=!0,Browser.es2019=!0):/MSIE (\d+\.\d+);/.test(ua)?(Browser.ie=!0,Browser.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(ua)&&!OS.windowsPhone?(Browser.safari=!0,Browser.safariVersion=parseInt(RegExp.$1,10),Browser.es2019=Browser.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(ua)&&(Browser.ie=!0,Browser.trident=!0,Browser.tridentVersion=parseInt(RegExp.$1,10),Browser.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(ua)&&(Browser.silk=!0),Browser}()},89289:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),CanvasFeatures={supportInverseAlpha:!1,supportNewBlendModes:!1};module2.exports=function init(){return"function"!=typeof importScripts&&void 0!==document&&(CanvasFeatures.supportNewBlendModes=function checkBlendMode(){var pngHead="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",pngEnd="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",magenta=new Image;return magenta.onload=function(){var yellow=new Image;yellow.onload=function(){var context=CanvasPool.create2D(yellow,6).getContext("2d",{willReadFrequently:!0});if(context.globalCompositeOperation="multiply",context.drawImage(magenta,0,0),context.drawImage(yellow,2,0),!context.getImageData(2,0,1,1))return!1;var data=context.getImageData(2,0,1,1).data;CanvasPool.remove(yellow),CanvasFeatures.supportNewBlendModes=255===data[0]&&0===data[1]&&0===data[2]},yellow.src=pngHead+"/wCKxvRF"+pngEnd},magenta.src=pngHead+"AP804Oa6"+pngEnd,!1}(),CanvasFeatures.supportInverseAlpha=function checkInverseAlpha(){var context=CanvasPool.create2D(this,2).getContext("2d",{willReadFrequently:!0});context.fillStyle="rgba(10, 20, 30, 0.5)",context.fillRect(0,0,1,1);var s1=context.getImageData(0,0,1,1);if(null===s1)return!1;context.putImageData(s1,1,0);var s2=context.getImageData(1,0,1,1),result=s2.data[0]===s1.data[0]&&s2.data[1]===s1.data[1]&&s2.data[2]===s1.data[2]&&s2.data[3]===s1.data[3];return CanvasPool.remove(this),result}()),CanvasFeatures}()},89357:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OS=__webpack_require__2(25892),Browser=__webpack_require__2(84148),CanvasPool=__webpack_require__2(27919),Features={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};module2.exports=function init(){if("function"==typeof importScripts)return Features;Features.canvas=!!window.CanvasRenderingContext2D;try{Features.localStorage=!!localStorage.getItem}catch(error){Features.localStorage=!1}Features.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),Features.fileSystem=!!window.requestFileSystem;var isUint8=!1;return Features.webGL=function(){if(window.WebGLRenderingContext)try{var canvas=CanvasPool.createWebGL(this),ctx=canvas.getContext("webgl")||canvas.getContext("experimental-webgl"),canvas2D=CanvasPool.create2D(this),image=canvas2D.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return isUint8=image.data instanceof Uint8ClampedArray,CanvasPool.remove(canvas),CanvasPool.remove(canvas2D),!!ctx}catch(e){return!1}return!1}(),Features.worker=!!window.Worker,Features.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,Features.getUserMedia=Features.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,Browser.firefox&&Browser.firefoxVersion<21&&(Features.getUserMedia=!1),!OS.iOS&&(Browser.ie||Browser.firefox||Browser.chrome)&&(Features.canvasBitBltShift=!0),(Browser.safari||Browser.mobileSafari)&&(Features.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(Features.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(Features.littleEndian=function checkIsLittleEndian(){var a=new ArrayBuffer(4),b=new Uint8Array(a),c=new Uint32Array(a);return b[0]=161,b[1]=178,b[2]=195,b[3]=212,3569595041===c[0]||2712847316!==c[0]&&null}()),Features.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==Features.littleEndian&&isUint8,Features}()},91639:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Fullscreen={available:!1,cancel:"",keyboard:!1,request:""};module2.exports=function init(){if("function"==typeof importScripts)return Fullscreen;var i,suffix1="Fullscreen",suffix2="FullScreen",fs=["request"+suffix1,"request"+suffix2,"webkitRequest"+suffix1,"webkitRequest"+suffix2,"msRequest"+suffix1,"msRequest"+suffix2,"mozRequest"+suffix2,"mozRequest"+suffix1];for(i=0;i<fs.length;i++)if(document.documentElement[fs[i]]){Fullscreen.available=!0,Fullscreen.request=fs[i];break}var cfs=["cancel"+suffix2,"exit"+suffix1,"webkitCancel"+suffix2,"webkitExit"+suffix1,"msCancel"+suffix2,"msExit"+suffix1,"mozCancel"+suffix2,"mozExit"+suffix1];if(Fullscreen.available)for(i=0;i<cfs.length;i++)if(document[cfs[i]]){Fullscreen.cancel=cfs[i];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(Fullscreen.keyboard=!0),Object.defineProperty(Fullscreen,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Fullscreen}()},31784:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Browser=__webpack_require__2(84148),Input={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};module2.exports=function init(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(Input.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(Input.mspointer=!0),navigator.getGamepads&&(Input.gamepads=!0),"onwheel"in window||Browser.ie&&"WheelEvent"in window?Input.wheelEvent="wheel":"onmousewheel"in window?Input.wheelEvent="mousewheel":Browser.firefox&&"MouseScrollEvent"in window&&(Input.wheelEvent="DOMMouseScroll")),Input}()},25892:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OS={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};module2.exports=function init(){if("function"==typeof importScripts)return OS;var ua=navigator.userAgent;/Windows/.test(ua)?OS.windows=!0:/Mac OS/.test(ua)&&!/like Mac OS/.test(ua)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(OS.iOS=!0,OS.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),OS.iOSVersion=parseInt(RegExp.$1,10)):OS.macOS=!0:/Android/.test(ua)?OS.android=!0:/Linux/.test(ua)?OS.linux=!0:/iP[ao]d|iPhone/i.test(ua)?(OS.iOS=!0,navigator.appVersion.match(/OS (\d+)/),OS.iOSVersion=parseInt(RegExp.$1,10),OS.iPhone=-1!==ua.toLowerCase().indexOf("iphone"),OS.iPad=-1!==ua.toLowerCase().indexOf("ipad")):/Kindle/.test(ua)||/\bKF[A-Z][A-Z]+/.test(ua)||/Silk.*Mobile Safari/.test(ua)?OS.kindle=!0:/CrOS/.test(ua)&&(OS.chromeOS=!0),(/Windows Phone/i.test(ua)||/IEMobile/i.test(ua))&&(OS.android=!1,OS.iOS=!1,OS.macOS=!1,OS.windows=!0,OS.windowsPhone=!0);var silk=/Silk/.test(ua);return(OS.windows||OS.macOS||OS.linux&&!silk||OS.chromeOS)&&(OS.desktop=!0),(OS.windowsPhone||/Windows NT/i.test(ua)&&/Touch/i.test(ua))&&(OS.desktop=!1),navigator.standalone&&(OS.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(OS.cordova=!0),void 0!==window.ejecta&&(OS.ejecta=!0)),"undefined"!=typeof process&&process.versions&&process.versions.node&&(OS.node=!0),OS.node&&"object"==typeof process.versions&&(OS.nodeWebkit=!!process.versions["node-webkit"],OS.electron=!!process.versions.electron),/Crosswalk/.test(ua)&&(OS.crosswalk=!0),OS.pixelRatio=window.devicePixelRatio||1,OS}()},43267:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540),Video2={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};module2.exports=function init(){if("function"==typeof importScripts)return Video2;var videoElement=document.createElement("video"),result=!!videoElement.canPlayType,no=/^no$/;try{result&&(videoElement.canPlayType('video/ogg; codecs="theora"').replace(no,"")&&(Video2.ogg=!0),videoElement.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(no,"")&&(Video2.h264=!0,Video2.mp4=!0),videoElement.canPlayType("video/x-m4v").replace(no,"")&&(Video2.m4v=!0),videoElement.canPlayType('video/webm; codecs="vp8, vorbis"').replace(no,"")&&(Video2.webm=!0),videoElement.canPlayType('video/webm; codecs="vp9"').replace(no,"")&&(Video2.vp9=!0),videoElement.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(no,"")&&(Video2.hls=!0))}catch(e){}return videoElement.parentNode&&videoElement.parentNode.removeChild(videoElement),Video2.getVideoURL=function(urls){Array.isArray(urls)||(urls=[urls]);for(var i=0;i<urls.length;i++){var videoType,url=GetFastValue(urls[i],"url",urls[i]);if(0===url.indexOf("blob:"))return{url:url,type:""};if(videoType=0===url.indexOf("data:")?url.split(",")[0].match(/\/(.*?);/):url.match(/\.([a-zA-Z0-9]+)($|\?)/),videoType=GetFastValue(urls[i],"type",videoType?videoType[1]:"").toLowerCase(),Video2[videoType])return{url:url,type:videoType}}return null},Video2}()},82264:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={os:__webpack_require__2(25892),browser:__webpack_require__2(84148),features:__webpack_require__2(89357),input:__webpack_require__2(31784),audio:__webpack_require__2(7098),video:__webpack_require__2(43267),fullscreen:__webpack_require__2(91639),canvasFeatures:__webpack_require__2(89289)}},89422:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),tempMatrix=new Float32Array(20),ColorMatrix=new Class({initialize:function ColorMatrix2(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(value){return this._matrix.set(value),this._dirty=!0,this},reset:function(){var m=this._matrix;return m.fill(0),m[0]=1,m[6]=1,m[12]=1,m[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var data=this._data;return this._dirty&&(data.set(this._matrix),data[4]/=255,data[9]/=255,data[14]/=255,data[19]/=255,this._dirty=!1),data},brightness:function(value,multiply){void 0===value&&(value=0),void 0===multiply&&(multiply=!1);var b=value;return this.multiply([b,0,0,0,0,0,b,0,0,0,0,0,b,0,0,0,0,0,1,0],multiply)},saturate:function(value,multiply){void 0===value&&(value=0),void 0===multiply&&(multiply=!1);var x=2*value/3+1,y=-.5*(x-1);return this.multiply([x,y,y,0,0,y,x,y,0,0,y,y,x,0,0,0,0,0,1,0],multiply)},desaturate:function(multiply){return void 0===multiply&&(multiply=!1),this.saturate(-1,multiply)},hue:function(rotation,multiply){void 0===rotation&&(rotation=0),void 0===multiply&&(multiply=!1),rotation=rotation/180*Math.PI;var cos=Math.cos(rotation),sin=Math.sin(rotation);return this.multiply([.213+.787*cos+-.213*sin,.715+-.715*cos+-.715*sin,.072+-.072*cos+.928*sin,0,0,.213+-.213*cos+.143*sin,.715+cos*(1-.715)+.14*sin,.072+-.072*cos+-.283*sin,0,0,.213+-.213*cos+-.787*sin,.715+-.715*cos+.715*sin,.072+.928*cos+.072*sin,0,0,0,0,0,1,0],multiply)},grayscale:function(value,multiply){return void 0===value&&(value=1),void 0===multiply&&(multiply=!1),this.saturate(-value,multiply)},blackWhite:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.BLACK_WHITE,multiply)},contrast:function(value,multiply){void 0===value&&(value=0),void 0===multiply&&(multiply=!1);var v=value+1,o=-.5*(v-1);return this.multiply([v,0,0,0,o,0,v,0,0,o,0,0,v,0,o,0,0,0,1,0],multiply)},negative:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.NEGATIVE,multiply)},desaturateLuminance:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.DESATURATE_LUMINANCE,multiply)},sepia:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.SEPIA,multiply)},night:function(intensity,multiply){return void 0===intensity&&(intensity=.1),void 0===multiply&&(multiply=!1),this.multiply([-2*intensity,-intensity,0,0,0,-intensity,0,intensity,0,0,0,intensity,2*intensity,0,0,0,0,0,1,0],multiply)},lsd:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.LSD,multiply)},brown:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.BROWN,multiply)},vintagePinhole:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.VINTAGE,multiply)},kodachrome:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.KODACHROME,multiply)},technicolor:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.TECHNICOLOR,multiply)},polaroid:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.POLAROID,multiply)},shiftToBGR:function(multiply){return void 0===multiply&&(multiply=!1),this.multiply(ColorMatrix.SHIFT_BGR,multiply)},multiply:function(a,multiply){void 0===multiply&&(multiply=!1),multiply||this.reset();var m=this._matrix,c=tempMatrix;return c.set(m),m.set([c[0]*a[0]+c[1]*a[5]+c[2]*a[10]+c[3]*a[15],c[0]*a[1]+c[1]*a[6]+c[2]*a[11]+c[3]*a[16],c[0]*a[2]+c[1]*a[7]+c[2]*a[12]+c[3]*a[17],c[0]*a[3]+c[1]*a[8]+c[2]*a[13]+c[3]*a[18],c[0]*a[4]+c[1]*a[9]+c[2]*a[14]+c[3]*a[19]+c[4],c[5]*a[0]+c[6]*a[5]+c[7]*a[10]+c[8]*a[15],c[5]*a[1]+c[6]*a[6]+c[7]*a[11]+c[8]*a[16],c[5]*a[2]+c[6]*a[7]+c[7]*a[12]+c[8]*a[17],c[5]*a[3]+c[6]*a[8]+c[7]*a[13]+c[8]*a[18],c[5]*a[4]+c[6]*a[9]+c[7]*a[14]+c[8]*a[19]+c[9],c[10]*a[0]+c[11]*a[5]+c[12]*a[10]+c[13]*a[15],c[10]*a[1]+c[11]*a[6]+c[12]*a[11]+c[13]*a[16],c[10]*a[2]+c[11]*a[7]+c[12]*a[12]+c[13]*a[17],c[10]*a[3]+c[11]*a[8]+c[12]*a[13]+c[13]*a[18],c[10]*a[4]+c[11]*a[9]+c[12]*a[14]+c[13]*a[19]+c[14],c[15]*a[0]+c[16]*a[5]+c[17]*a[10]+c[18]*a[15],c[15]*a[1]+c[16]*a[6]+c[17]*a[11]+c[18]*a[16],c[15]*a[2]+c[16]*a[7]+c[17]*a[12]+c[18]*a[17],c[15]*a[3]+c[16]*a[8]+c[17]*a[13]+c[18]*a[18],c[15]*a[4]+c[16]*a[9]+c[17]*a[14]+c[18]*a[19]+c[19]]),this._dirty=!0,this}});ColorMatrix.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],ColorMatrix.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],ColorMatrix.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],ColorMatrix.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],ColorMatrix.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],ColorMatrix.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],ColorMatrix.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],ColorMatrix.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],ColorMatrix.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],ColorMatrix.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],ColorMatrix.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],module2.exports=ColorMatrix},51767:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),NOOP=__webpack_require__2(29747),RGB=new Class({initialize:function RGB2(red,green,blue){this._rgb=[0,0,0],this.onChangeCallback=NOOP,this.dirty=!1,this.set(red,green,blue)},set:function(red,green,blue){return void 0===red&&(red=0),void 0===green&&(green=0),void 0===blue&&(blue=0),this._rgb=[red,green,blue],this.onChange(),this},equals:function(red,green,blue){var rgb=this._rgb;return rgb[0]===red&&rgb[1]===green&&rgb[2]===blue},onChange:function(){this.dirty=!0;var rgb=this._rgb;this.onChangeCallback.call(this,rgb[0],rgb[1],rgb[2])},r:{get:function(){return this._rgb[0]},set:function(value){this._rgb[0]=value,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(value){this._rgb[1]=value,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(value){this._rgb[2]=value,this.onChange()}},destroy:function(){this.onChangeCallback=null}});module2.exports=RGB},60461:module2=>{module2.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetCenterX=__webpack_require__2(35893),SetBottom=__webpack_require__2(86327),SetCenterX=__webpack_require__2(88417);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetCenterX(gameObject,GetCenterX(alignIn)+offsetX),SetBottom(gameObject,GetBottom(alignIn)+offsetY),gameObject}},46768:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetLeft=__webpack_require__2(26541),SetBottom=__webpack_require__2(86327),SetLeft=__webpack_require__2(385);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetLeft(alignIn)-offsetX),SetBottom(gameObject,GetBottom(alignIn)+offsetY),gameObject}},35827:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetRight=__webpack_require__2(54380),SetBottom=__webpack_require__2(86327),SetRight=__webpack_require__2(40136);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetRight(alignIn)+offsetX),SetBottom(gameObject,GetBottom(alignIn)+offsetY),gameObject}},46871:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CenterOn=__webpack_require__2(66786),GetCenterX=__webpack_require__2(35893),GetCenterY=__webpack_require__2(7702);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),CenterOn(gameObject,GetCenterX(alignIn)+offsetX,GetCenterY(alignIn)+offsetY),gameObject}},5198:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterY=__webpack_require__2(7702),GetLeft=__webpack_require__2(26541),SetCenterY=__webpack_require__2(20786),SetLeft=__webpack_require__2(385);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetLeft(alignIn)-offsetX),SetCenterY(gameObject,GetCenterY(alignIn)+offsetY),gameObject}},11879:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ALIGN_CONST=__webpack_require__2(60461),AlignInMap=[];AlignInMap[ALIGN_CONST.BOTTOM_CENTER]=__webpack_require__2(54312),AlignInMap[ALIGN_CONST.BOTTOM_LEFT]=__webpack_require__2(46768),AlignInMap[ALIGN_CONST.BOTTOM_RIGHT]=__webpack_require__2(35827),AlignInMap[ALIGN_CONST.CENTER]=__webpack_require__2(46871),AlignInMap[ALIGN_CONST.LEFT_CENTER]=__webpack_require__2(5198),AlignInMap[ALIGN_CONST.RIGHT_CENTER]=__webpack_require__2(80503),AlignInMap[ALIGN_CONST.TOP_CENTER]=__webpack_require__2(89698),AlignInMap[ALIGN_CONST.TOP_LEFT]=__webpack_require__2(922),AlignInMap[ALIGN_CONST.TOP_RIGHT]=__webpack_require__2(21373),AlignInMap[ALIGN_CONST.LEFT_BOTTOM]=AlignInMap[ALIGN_CONST.BOTTOM_LEFT],AlignInMap[ALIGN_CONST.LEFT_TOP]=AlignInMap[ALIGN_CONST.TOP_LEFT],AlignInMap[ALIGN_CONST.RIGHT_BOTTOM]=AlignInMap[ALIGN_CONST.BOTTOM_RIGHT],AlignInMap[ALIGN_CONST.RIGHT_TOP]=AlignInMap[ALIGN_CONST.TOP_RIGHT],module2.exports=function(child,alignIn,position2,offsetX,offsetY){return AlignInMap[position2](child,alignIn,offsetX,offsetY)}},80503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterY=__webpack_require__2(7702),GetRight=__webpack_require__2(54380),SetCenterY=__webpack_require__2(20786),SetRight=__webpack_require__2(40136);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetRight(alignIn)+offsetX),SetCenterY(gameObject,GetCenterY(alignIn)+offsetY),gameObject}},89698:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterX=__webpack_require__2(35893),GetTop=__webpack_require__2(17717),SetCenterX=__webpack_require__2(88417),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetCenterX(gameObject,GetCenterX(alignIn)+offsetX),SetTop(gameObject,GetTop(alignIn)-offsetY),gameObject}},922:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLeft=__webpack_require__2(26541),GetTop=__webpack_require__2(17717),SetLeft=__webpack_require__2(385),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetLeft(alignIn)-offsetX),SetTop(gameObject,GetTop(alignIn)-offsetY),gameObject}},21373:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetRight=__webpack_require__2(54380),GetTop=__webpack_require__2(17717),SetRight=__webpack_require__2(40136),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignIn,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetRight(alignIn)+offsetX),SetTop(gameObject,GetTop(alignIn)-offsetY),gameObject}},91660:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BottomCenter:__webpack_require__2(54312),BottomLeft:__webpack_require__2(46768),BottomRight:__webpack_require__2(35827),Center:__webpack_require__2(46871),LeftCenter:__webpack_require__2(5198),QuickSet:__webpack_require__2(11879),RightCenter:__webpack_require__2(80503),TopCenter:__webpack_require__2(89698),TopLeft:__webpack_require__2(922),TopRight:__webpack_require__2(21373)}},71926:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(60461),Extend=__webpack_require__2(79291),Align={In:__webpack_require__2(91660),To:__webpack_require__2(16694)};Align=Extend(!1,Align,CONST),module2.exports=Align},21578:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetCenterX=__webpack_require__2(35893),SetCenterX=__webpack_require__2(88417),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetCenterX(gameObject,GetCenterX(alignTo)+offsetX),SetTop(gameObject,GetBottom(alignTo)+offsetY),gameObject}},10210:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetLeft=__webpack_require__2(26541),SetLeft=__webpack_require__2(385),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetLeft(alignTo)-offsetX),SetTop(gameObject,GetBottom(alignTo)+offsetY),gameObject}},82341:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetRight=__webpack_require__2(54380),SetRight=__webpack_require__2(40136),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetRight(alignTo)+offsetX),SetTop(gameObject,GetBottom(alignTo)+offsetY),gameObject}},87958:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetLeft=__webpack_require__2(26541),SetBottom=__webpack_require__2(86327),SetRight=__webpack_require__2(40136);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetLeft(alignTo)-offsetX),SetBottom(gameObject,GetBottom(alignTo)+offsetY),gameObject}},40080:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterY=__webpack_require__2(7702),GetLeft=__webpack_require__2(26541),SetCenterY=__webpack_require__2(20786),SetRight=__webpack_require__2(40136);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetLeft(alignTo)-offsetX),SetCenterY(gameObject,GetCenterY(alignTo)+offsetY),gameObject}},88466:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLeft=__webpack_require__2(26541),GetTop=__webpack_require__2(17717),SetRight=__webpack_require__2(40136),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetLeft(alignTo)-offsetX),SetTop(gameObject,GetTop(alignTo)-offsetY),gameObject}},38829:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ALIGN_CONST=__webpack_require__2(60461),AlignToMap=[];AlignToMap[ALIGN_CONST.BOTTOM_CENTER]=__webpack_require__2(21578),AlignToMap[ALIGN_CONST.BOTTOM_LEFT]=__webpack_require__2(10210),AlignToMap[ALIGN_CONST.BOTTOM_RIGHT]=__webpack_require__2(82341),AlignToMap[ALIGN_CONST.LEFT_BOTTOM]=__webpack_require__2(87958),AlignToMap[ALIGN_CONST.LEFT_CENTER]=__webpack_require__2(40080),AlignToMap[ALIGN_CONST.LEFT_TOP]=__webpack_require__2(88466),AlignToMap[ALIGN_CONST.RIGHT_BOTTOM]=__webpack_require__2(19211),AlignToMap[ALIGN_CONST.RIGHT_CENTER]=__webpack_require__2(34609),AlignToMap[ALIGN_CONST.RIGHT_TOP]=__webpack_require__2(48741),AlignToMap[ALIGN_CONST.TOP_CENTER]=__webpack_require__2(49440),AlignToMap[ALIGN_CONST.TOP_LEFT]=__webpack_require__2(81288),AlignToMap[ALIGN_CONST.TOP_RIGHT]=__webpack_require__2(61323),module2.exports=function(child,alignTo,position2,offsetX,offsetY){return AlignToMap[position2](child,alignTo,offsetX,offsetY)}},19211:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetRight=__webpack_require__2(54380),SetBottom=__webpack_require__2(86327),SetLeft=__webpack_require__2(385);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetRight(alignTo)+offsetX),SetBottom(gameObject,GetBottom(alignTo)+offsetY),gameObject}},34609:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterY=__webpack_require__2(7702),GetRight=__webpack_require__2(54380),SetCenterY=__webpack_require__2(20786),SetLeft=__webpack_require__2(385);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetRight(alignTo)+offsetX),SetCenterY(gameObject,GetCenterY(alignTo)+offsetY),gameObject}},48741:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetRight=__webpack_require__2(54380),GetTop=__webpack_require__2(17717),SetLeft=__webpack_require__2(385),SetTop=__webpack_require__2(66737);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetRight(alignTo)+offsetX),SetTop(gameObject,GetTop(alignTo)-offsetY),gameObject}},49440:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterX=__webpack_require__2(35893),GetTop=__webpack_require__2(17717),SetBottom=__webpack_require__2(86327),SetCenterX=__webpack_require__2(88417);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetCenterX(gameObject,GetCenterX(alignTo)+offsetX),SetBottom(gameObject,GetTop(alignTo)-offsetY),gameObject}},81288:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLeft=__webpack_require__2(26541),GetTop=__webpack_require__2(17717),SetBottom=__webpack_require__2(86327),SetLeft=__webpack_require__2(385);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetLeft(gameObject,GetLeft(alignTo)-offsetX),SetBottom(gameObject,GetTop(alignTo)-offsetY),gameObject}},61323:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetRight=__webpack_require__2(54380),GetTop=__webpack_require__2(17717),SetBottom=__webpack_require__2(86327),SetRight=__webpack_require__2(40136);module2.exports=function(gameObject,alignTo,offsetX,offsetY){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),SetRight(gameObject,GetRight(alignTo)+offsetX),SetBottom(gameObject,GetTop(alignTo)-offsetY),gameObject}},16694:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BottomCenter:__webpack_require__2(21578),BottomLeft:__webpack_require__2(10210),BottomRight:__webpack_require__2(82341),LeftBottom:__webpack_require__2(87958),LeftCenter:__webpack_require__2(40080),LeftTop:__webpack_require__2(88466),QuickSet:__webpack_require__2(38829),RightBottom:__webpack_require__2(19211),RightCenter:__webpack_require__2(34609),RightTop:__webpack_require__2(48741),TopCenter:__webpack_require__2(49440),TopLeft:__webpack_require__2(81288),TopRight:__webpack_require__2(61323)}},66786:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetCenterX=__webpack_require__2(88417),SetCenterY=__webpack_require__2(20786);module2.exports=function(gameObject,x,y){return SetCenterX(gameObject,x),SetCenterY(gameObject,y)}},62235:module2=>{module2.exports=function(gameObject){return gameObject.y+gameObject.height-gameObject.height*gameObject.originY}},72873:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=__webpack_require__2(62235),GetLeft=__webpack_require__2(26541),GetRight=__webpack_require__2(54380),GetTop=__webpack_require__2(17717),Rectangle=__webpack_require__2(87841);module2.exports=function(gameObject,output){void 0===output&&(output=new Rectangle);var left=GetLeft(gameObject),top=GetTop(gameObject);return output.x=left,output.y=top,output.width=GetRight(gameObject)-left,output.height=GetBottom(gameObject)-top,output}},35893:module2=>{module2.exports=function(gameObject){return gameObject.x-gameObject.width*gameObject.originX+.5*gameObject.width}},7702:module2=>{module2.exports=function(gameObject){return gameObject.y-gameObject.height*gameObject.originY+.5*gameObject.height}},26541:module2=>{module2.exports=function(gameObject){return gameObject.x-gameObject.width*gameObject.originX}},87431:module2=>{module2.exports=function(gameObject){return gameObject.width*gameObject.originX}},46928:module2=>{module2.exports=function(gameObject){return gameObject.height*gameObject.originY}},54380:module2=>{module2.exports=function(gameObject){return gameObject.x+gameObject.width-gameObject.width*gameObject.originX}},17717:module2=>{module2.exports=function(gameObject){return gameObject.y-gameObject.height*gameObject.originY}},86327:module2=>{module2.exports=function(gameObject,value){return gameObject.y=value-gameObject.height+gameObject.height*gameObject.originY,gameObject}},88417:module2=>{module2.exports=function(gameObject,x){var offsetX=gameObject.width*gameObject.originX;return gameObject.x=x+offsetX-.5*gameObject.width,gameObject}},20786:module2=>{module2.exports=function(gameObject,y){var offsetY=gameObject.height*gameObject.originY;return gameObject.y=y+offsetY-.5*gameObject.height,gameObject}},385:module2=>{module2.exports=function(gameObject,value){return gameObject.x=value+gameObject.width*gameObject.originX,gameObject}},40136:module2=>{module2.exports=function(gameObject,value){return gameObject.x=value-gameObject.width+gameObject.width*gameObject.originX,gameObject}},66737:module2=>{module2.exports=function(gameObject,value){return gameObject.y=value+gameObject.height*gameObject.originY,gameObject}},58724:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CenterOn:__webpack_require__2(66786),GetBottom:__webpack_require__2(62235),GetBounds:__webpack_require__2(72873),GetCenterX:__webpack_require__2(35893),GetCenterY:__webpack_require__2(7702),GetLeft:__webpack_require__2(26541),GetOffsetX:__webpack_require__2(87431),GetOffsetY:__webpack_require__2(46928),GetRight:__webpack_require__2(54380),GetTop:__webpack_require__2(17717),SetBottom:__webpack_require__2(86327),SetCenterX:__webpack_require__2(88417),SetCenterY:__webpack_require__2(20786),SetLeft:__webpack_require__2(385),SetRight:__webpack_require__2(40136),SetTop:__webpack_require__2(66737)}},20623:module2=>{module2.exports={setCrisp:function(canvas){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach((function(type){canvas.style["image-rendering"]=type})),canvas.style.msInterpolationMode="nearest-neighbor",canvas},setBicubic:function(canvas){return canvas.style["image-rendering"]="auto",canvas.style.msInterpolationMode="bicubic",canvas}}},27919:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var create,first,total,CONST=__webpack_require__2(8054),Smoothing=__webpack_require__2(68703),pool=[],_disableContextSmoothing=!1;module2.exports=(create=function(parent,width,height,canvasType,selfParent){var canvas;void 0===width&&(width=1),void 0===height&&(height=1),void 0===canvasType&&(canvasType=CONST.CANVAS),void 0===selfParent&&(selfParent=!1);var container=first(canvasType);return null===container?(container={parent:parent,canvas:document.createElement("canvas"),type:canvasType},canvasType===CONST.CANVAS&&pool.push(container),canvas=container.canvas):(container.parent=parent,canvas=container.canvas),selfParent&&(container.parent=canvas),canvas.width=width,canvas.height=height,_disableContextSmoothing&&canvasType===CONST.CANVAS&&Smoothing.disable(canvas.getContext("2d",{willReadFrequently:!1})),canvas},first=function(canvasType){if(void 0===canvasType&&(canvasType=CONST.CANVAS),canvasType===CONST.WEBGL)return null;for(var i=0;i<pool.length;i++){var container=pool[i];if(!container.parent&&container.type===canvasType)return container}return null},total=function(){var c=0;return pool.forEach((function(container){container.parent&&c++})),c},{create2D:function(parent,width,height){return create(parent,width,height,CONST.CANVAS)},create:create,createWebGL:function(parent,width,height){return create(parent,width,height,CONST.WEBGL)},disableSmoothing:function(){_disableContextSmoothing=!0},enableSmoothing:function(){_disableContextSmoothing=!1},first:first,free:function(){return pool.length-total()},pool:pool,remove:function(parent){var isCanvas=parent instanceof HTMLCanvasElement;pool.forEach((function(container){(isCanvas&&container.canvas===parent||!isCanvas&&container.parent===parent)&&(container.parent=null,container.canvas.width=1,container.canvas.height=1)}))},total:total})},68703:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var getPrefix,prefix="";module2.exports=(getPrefix=function(context){for(var vendors=["i","webkitI","msI","mozI","oI"],i=0;i<vendors.length;i++){var s=vendors[i]+"mageSmoothingEnabled";if(s in context)return s}return null},{disable:function(context){return""===prefix&&(prefix=getPrefix(context)),prefix&&(context[prefix]=!1),context},enable:function(context){return""===prefix&&(prefix=getPrefix(context)),prefix&&(context[prefix]=!0),context},getPrefix:getPrefix,isEnabled:function(context){return null!==prefix?context[prefix]:null}})},65208:module2=>{module2.exports=function(canvas,value){return void 0===value&&(value="none"),canvas.style.msTouchAction=value,canvas.style["ms-touch-action"]=value,canvas.style["touch-action"]=value,canvas}},91610:module2=>{module2.exports=function(canvas,value){return void 0===value&&(value="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach((function(vendor){canvas.style[vendor+"user-select"]=value})),canvas.style["-webkit-touch-callout"]=value,canvas.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",canvas}},26253:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CanvasInterpolation:__webpack_require__2(20623),CanvasPool:__webpack_require__2(27919),Smoothing:__webpack_require__2(68703),TouchAction:__webpack_require__2(65208),UserSelect:__webpack_require__2(91610)}},40987:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetColor=__webpack_require__2(37589),GetColor32=__webpack_require__2(1e3),HSVToRGB=__webpack_require__2(7537),RGBToHSV=__webpack_require__2(87837),Color=new Class({initialize:function Color2(red,green,blue,alpha){void 0===red&&(red=0),void 0===green&&(green=0),void 0===blue&&(blue=0),void 0===alpha&&(alpha=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(red,green,blue,alpha)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(red,green,blue,alpha,updateHSV){return void 0===alpha&&(alpha=255),void 0===updateHSV&&(updateHSV=!0),this._locked=!0,this.red=red,this.green=green,this.blue=blue,this.alpha=alpha,this._locked=!1,this.update(updateHSV)},setGLTo:function(red,green,blue,alpha){return void 0===alpha&&(alpha=1),this._locked=!0,this.redGL=red,this.greenGL=green,this.blueGL=blue,this.alphaGL=alpha,this._locked=!1,this.update(!0)},setFromRGB:function(color){return this._locked=!0,this.red=color.r,this.green=color.g,this.blue=color.b,color.hasOwnProperty("a")&&(this.alpha=color.a),this._locked=!1,this.update(!0)},setFromHSV:function(h,s,v){return HSVToRGB(h,s,v,this)},update:function(updateHSV){if(void 0===updateHSV&&(updateHSV=!1),this._locked)return this;var r=this.r,g=this.g,b=this.b,a=this.a;return this._color=GetColor(r,g,b),this._color32=GetColor32(r,g,b,a),this._rgba="rgba("+r+","+g+","+b+","+a/255+")",updateHSV&&RGBToHSV(r,g,b,this),this},updateHSV:function(){var r=this.r,g=this.g,b=this.b;return RGBToHSV(r,g,b,this),this},clone:function(){return new Color(this.r,this.g,this.b,this.a)},gray:function(shade){return this.setTo(shade,shade,shade)},random:function(min,max){void 0===min&&(min=0),void 0===max&&(max=255);var r=Math.floor(min+Math.random()*(max-min)),g=Math.floor(min+Math.random()*(max-min)),b=Math.floor(min+Math.random()*(max-min));return this.setTo(r,g,b)},randomGray:function(min,max){void 0===min&&(min=0),void 0===max&&(max=255);var s=Math.floor(min+Math.random()*(max-min));return this.setTo(s,s,s)},saturate:function(amount){return this.s+=amount/100,this},desaturate:function(amount){return this.s-=amount/100,this},lighten:function(amount){return this.v+=amount/100,this},darken:function(amount){return this.v-=amount/100,this},brighten:function(amount){var r=this.r,g=this.g,b=this.b;return r=Math.max(0,Math.min(255,r-Math.round(-amount/100*255))),g=Math.max(0,Math.min(255,g-Math.round(-amount/100*255))),b=Math.max(0,Math.min(255,b-Math.round(-amount/100*255))),this.setTo(r,g,b)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(value){this.gl[0]=Math.min(Math.abs(value),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(value){this.gl[1]=Math.min(Math.abs(value),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(value){this.gl[2]=Math.min(Math.abs(value),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(value){this.gl[3]=Math.min(Math.abs(value),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(value){value=Math.floor(Math.abs(value)),this.r=Math.min(value,255),this.gl[0]=value/255,this.update(!0)}},green:{get:function(){return this.g},set:function(value){value=Math.floor(Math.abs(value)),this.g=Math.min(value,255),this.gl[1]=value/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(value){value=Math.floor(Math.abs(value)),this.b=Math.min(value,255),this.gl[2]=value/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(value){value=Math.floor(Math.abs(value)),this.a=Math.min(value,255),this.gl[3]=value/255,this.update()}},h:{get:function(){return this._h},set:function(value){this._h=value,HSVToRGB(value,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(value){this._s=value,HSVToRGB(this._h,value,this._v,this)}},v:{get:function(){return this._v},set:function(value){this._v=value,HSVToRGB(this._h,this._s,value,this)}}});module2.exports=Color},92728:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetColor=__webpack_require__2(37589);module2.exports=function(limit){void 0===limit&&(limit=1024);var i,colors=[],r=255,g=0,b=0;for(i=0;i<=255;i++)colors.push({r:r,g:i,b:b,color:GetColor(r,i,b)});for(g=255,i=255;i>=0;i--)colors.push({r:i,g:g,b:b,color:GetColor(i,g,b)});for(r=0,i=0;i<=255;i++,g--)colors.push({r:r,g:g,b:i,color:GetColor(r,g,i)});for(g=0,b=255,i=0;i<=255;i++,b--,r++)colors.push({r:r,g:g,b:b,color:GetColor(r,g,b)});if(1024===limit)return colors;var out=[],t=0,inc=1024/limit;for(i=0;i<limit;i++)out.push(colors[Math.floor(t)]),t+=inc;return out}},91588:module2=>{module2.exports=function(color){var output={r:color>>16&255,g:color>>8&255,b:255&color,a:255};return color>16777215&&(output.a=color>>>24),output}},62957:module2=>{module2.exports=function(color){var hex=color.toString(16);return 1===hex.length?"0"+hex:hex}},37589:module2=>{module2.exports=function(red,green,blue){return red<<16|green<<8|blue}},1e3:module2=>{module2.exports=function(red,green,blue,alpha){return alpha<<24|red<<16|green<<8|blue}},62183:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987),HueToComponent=__webpack_require__2(89528);module2.exports=function(h,s,l){var r=l,g=l,b=l;if(0!==s){var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=HueToComponent(p,q,h+1/3),g=HueToComponent(p,q,h),b=HueToComponent(p,q,h-1/3)}return(new Color).setGLTo(r,g,b,1)}},27939:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HSVToRGB=__webpack_require__2(7537);module2.exports=function(s,v){void 0===s&&(s=1),void 0===v&&(v=1);for(var colors=[],c=0;c<=359;c++)colors.push(HSVToRGB(c/359,s,v));return colors}},7537:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetColor=__webpack_require__2(37589);function ConvertValue(n,h,s,v){var k=(n+6*h)%6,min=Math.min(k,4-k,1);return Math.round(255*(v-v*s*Math.max(0,min)))}module2.exports=function(h,s,v,out){void 0===s&&(s=1),void 0===v&&(v=1);var r=ConvertValue(5,h,s,v),g=ConvertValue(3,h,s,v),b=ConvertValue(1,h,s,v);return out?out.setTo?out.setTo(r,g,b,out.alpha,!0):(out.r=r,out.g=g,out.b=b,out.color=GetColor(r,g,b),out):{r:r,g:g,b:b,color:GetColor(r,g,b)}}},70238:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987);module2.exports=function(hex){var color=new Color;hex=hex.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(m,r2,g2,b2){return r2+r2+g2+g2+b2+b2}));var result=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);if(result){var r=parseInt(result[1],16),g=parseInt(result[2],16),b=parseInt(result[3],16);color.setTo(r,g,b)}return color}},89528:module2=>{module2.exports=function(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}},30100:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987),IntegerToRGB=__webpack_require__2(90664);module2.exports=function(input){var rgb=IntegerToRGB(input);return new Color(rgb.r,rgb.g,rgb.b,rgb.a)}},90664:module2=>{module2.exports=function(color){return color>16777215?{a:color>>>24,r:color>>16&255,g:color>>8&255,b:255&color}:{a:255,r:color>>16&255,g:color>>8&255,b:255&color}}},13699:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Linear=__webpack_require__2(28915),RGBWithRGB=function(r1,g1,b1,r2,g2,b2,length,index){void 0===length&&(length=100),void 0===index&&(index=0);var t=index/length;return{r:Linear(r1,r2,t),g:Linear(g1,g2,t),b:Linear(b1,b2,t)}};module2.exports={RGBWithRGB:RGBWithRGB,ColorWithRGB:function(color,r,g,b,length,index){return void 0===length&&(length=100),void 0===index&&(index=0),RGBWithRGB(color.r,color.g,color.b,r,g,b,length,index)},ColorWithColor:function(color1,color2,length,index){return void 0===length&&(length=100),void 0===index&&(index=0),RGBWithRGB(color1.r,color1.g,color1.b,color2.r,color2.g,color2.b,length,index)}}},68957:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987);module2.exports=function(input){return new Color(input.r,input.g,input.b,input.a)}},87388:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987);module2.exports=function(rgb){var color=new Color,result=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(rgb.toLowerCase());if(result){var r=parseInt(result[1],10),g=parseInt(result[2],10),b=parseInt(result[3],10),a=void 0!==result[4]?parseFloat(result[4]):1;color.setTo(r,g,b,255*a)}return color}},87837:module2=>{module2.exports=function(r,g,b,out){void 0===out&&(out={h:0,s:0,v:0}),r/=255,g/=255,b/=255;var min=Math.min(r,g,b),max=Math.max(r,g,b),d=max-min,h=0,s=0===max?0:d/max,v=max;return max!==min&&(max===r?h=(g-b)/d+(g<b?6:0):max===g?h=(b-r)/d+2:max===b&&(h=(r-g)/d+4),h/=6),out.hasOwnProperty("_h")?(out._h=h,out._s=s,out._v=v):(out.h=h,out.s=s,out.v=v),out}},75723:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ComponentToHex=__webpack_require__2(62957);module2.exports=function(r,g,b,a,prefix){return void 0===a&&(a=255),void 0===prefix&&(prefix="#"),"#"===prefix?"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1,7):"0x"+ComponentToHex(a)+ComponentToHex(r)+ComponentToHex(g)+ComponentToHex(b)}},85386:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=__webpack_require__2(30976),Color=__webpack_require__2(40987);module2.exports=function(min,max){return void 0===min&&(min=0),void 0===max&&(max=255),new Color(Between(min,max),Between(min,max),Between(min,max))}},80333:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HexStringToColor=__webpack_require__2(70238),IntegerToColor=__webpack_require__2(30100),ObjectToColor=__webpack_require__2(68957),RGBStringToColor=__webpack_require__2(87388);module2.exports=function(input){switch(typeof input){case"string":return"rgb"===input.substr(0,3).toLowerCase()?RGBStringToColor(input):HexStringToColor(input);case"number":return IntegerToColor(input);case"object":return ObjectToColor(input)}}},3956:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Color=__webpack_require__2(40987);Color.ColorSpectrum=__webpack_require__2(92728),Color.ColorToRGBA=__webpack_require__2(91588),Color.ComponentToHex=__webpack_require__2(62957),Color.GetColor=__webpack_require__2(37589),Color.GetColor32=__webpack_require__2(1e3),Color.HexStringToColor=__webpack_require__2(70238),Color.HSLToColor=__webpack_require__2(62183),Color.HSVColorWheel=__webpack_require__2(27939),Color.HSVToRGB=__webpack_require__2(7537),Color.HueToComponent=__webpack_require__2(89528),Color.IntegerToColor=__webpack_require__2(30100),Color.IntegerToRGB=__webpack_require__2(90664),Color.Interpolate=__webpack_require__2(13699),Color.ObjectToColor=__webpack_require__2(68957),Color.RandomRGB=__webpack_require__2(85386),Color.RGBStringToColor=__webpack_require__2(87388),Color.RGBToHSV=__webpack_require__2(87837),Color.RGBToString=__webpack_require__2(75723),Color.ValueToColor=__webpack_require__2(80333),module2.exports=Color},27460:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Align:__webpack_require__2(71926),BaseShader:__webpack_require__2(73894),Bounds:__webpack_require__2(58724),Canvas:__webpack_require__2(26253),Color:__webpack_require__2(3956),ColorMatrix:__webpack_require__2(89422),Masks:__webpack_require__2(69781),RGB:__webpack_require__2(51767)}},6858:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GameObjectFactory=__webpack_require__2(39429),BitmapMask=new Class({initialize:function BitmapMask2(scene,maskObject,x,y,texture,frame){maskObject||(maskObject=scene.sys.make.image({x:x,y:y,key:texture,frame:frame,add:!1})),this.bitmapMask=maskObject,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(maskObject){this.bitmapMask=maskObject},preRenderWebGL:function(renderer,maskedObject,camera){renderer.pipelines.BITMAPMASK_PIPELINE.beginMask(this,maskedObject,camera)},postRenderWebGL:function(renderer,camera,renderTarget){renderer.pipelines.BITMAPMASK_PIPELINE.endMask(this,camera,renderTarget)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});GameObjectFactory.register("bitmapMask",(function(maskObject,x,y,key,frame){return new BitmapMask(this.scene,maskObject,x,y,key,frame)})),module2.exports=BitmapMask},80661:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GeometryMask=new(__webpack_require__2(83419))({initialize:function GeometryMask2(scene,graphicsGeometry){this.geometryMask=graphicsGeometry,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(graphicsGeometry){return this.geometryMask=graphicsGeometry,this},setInvertAlpha:function(value){return void 0===value&&(value=!0),this.invertAlpha=value,this},preRenderWebGL:function(renderer,child,camera){var gl=renderer.gl;renderer.flush(),0===renderer.maskStack.length&&(gl.enable(gl.STENCIL_TEST),gl.clear(gl.STENCIL_BUFFER_BIT),renderer.maskCount=0),renderer.currentCameraMask.mask!==this&&(renderer.currentMask.mask=this),renderer.maskStack.push({mask:this,camera:camera}),this.applyStencil(renderer,camera,!0),renderer.maskCount++},applyStencil:function(renderer,camera,inc){var gl=renderer.gl,geometryMask=this.geometryMask,level=renderer.maskCount;gl.colorMask(!1,!1,!1,!1),inc?(gl.stencilFunc(gl.EQUAL,level,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR),level++):(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)),this.level=level,geometryMask.renderWebGL(renderer,geometryMask,camera),renderer.flush(),gl.colorMask(!0,!0,!0,!0),gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP),this.invertAlpha?gl.stencilFunc(gl.NOTEQUAL,level,255):gl.stencilFunc(gl.EQUAL,level,255)},postRenderWebGL:function(renderer){var gl=renderer.gl;renderer.maskStack.pop(),renderer.maskCount--,renderer.flush();var current=renderer.currentMask;if(0===renderer.maskStack.length)current.mask=null,gl.disable(gl.STENCIL_TEST);else{var prev=renderer.maskStack[renderer.maskStack.length-1];prev.mask.applyStencil(renderer,prev.camera,!1),renderer.currentCameraMask.mask!==prev.mask?(current.mask=prev.mask,current.camera=prev.camera):current.mask=null}},preRenderCanvas:function(renderer,mask,camera){var geometryMask=this.geometryMask;renderer.currentContext.save(),geometryMask.renderCanvas(renderer,geometryMask,camera,null,null,!0),renderer.currentContext.clip()},postRenderCanvas:function(renderer){renderer.currentContext.restore()},destroy:function(){this.geometryMask=null}});module2.exports=GeometryMask},69781:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BitmapMask:__webpack_require__2(6858),GeometryMask:__webpack_require__2(80661)}},73894:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseShader=new(__webpack_require__2(83419))({initialize:function BaseShader2(key,fragmentSrc,vertexSrc,uniforms){fragmentSrc&&""!==fragmentSrc||(fragmentSrc=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),vertexSrc&&""!==vertexSrc||(vertexSrc=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===uniforms&&(uniforms=null),this.key=key,this.fragmentSrc=fragmentSrc,this.vertexSrc=vertexSrc,this.uniforms=uniforms}});module2.exports=BaseShader},40366:module2=>{module2.exports=function(element,parent){var target2;if(parent)"string"==typeof parent?target2=document.getElementById(parent):"object"==typeof parent&&1===parent.nodeType&&(target2=parent);else if(element.parentElement||null===parent)return element;return target2||(target2=document.body),target2.appendChild(element),element}},83719:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddToDOM=__webpack_require__2(40366);module2.exports=function(game){var config2=game.config;if(config2.parent&&config2.domCreateContainer){var div=document.createElement("div");div.style.cssText=["display: block;","width: "+game.scale.width+"px;","height: "+game.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+config2.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),game.domContainer=div,AddToDOM(div,config2.parent)}}},57264:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OS=__webpack_require__2(25892);module2.exports=function(callback){if("complete"!==document.readyState&&"interactive"!==document.readyState){var check=function(){document.removeEventListener("deviceready",check,!0),document.removeEventListener("DOMContentLoaded",check,!0),window.removeEventListener("load",check,!0),callback()};document.body?OS.cordova?document.addEventListener("deviceready",check,!1):(document.addEventListener("DOMContentLoaded",check,!0),window.addEventListener("load",check,!0)):window.setTimeout(check,20)}else callback()}},57811:module2=>{module2.exports=function(iOS){if(!iOS)return window.innerHeight;var axis=Math.abs(window.orientation),size={w:0,h:0},ruler=document.createElement("div");return ruler.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(ruler),size.w=90===axis?ruler.offsetHeight:window.innerWidth,size.h=90===axis?window.innerWidth:ruler.offsetHeight,document.documentElement.removeChild(ruler),ruler=null,90!==Math.abs(window.orientation)?size.h:size.w}},45818:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(13560);module2.exports=function(width,height){var screen2=window.screen,orientation=!!screen2&&(screen2.orientation||screen2.mozOrientation||screen2.msOrientation);return orientation&&"string"==typeof orientation.type?orientation.type:"string"==typeof orientation?orientation:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?CONST.ORIENTATION.PORTRAIT:CONST.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?CONST.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?CONST.ORIENTATION.LANDSCAPE:void 0:height>width?CONST.ORIENTATION.PORTRAIT:CONST.ORIENTATION.LANDSCAPE}},74403:module2=>{module2.exports=function(element){var target2;return""!==element&&("string"==typeof element?target2=document.getElementById(element):element&&1===element.nodeType&&(target2=element)),target2||(target2=document.body),target2}},56836:module2=>{module2.exports=function(data){var xml="";try{window.DOMParser?xml=(new DOMParser).parseFromString(data,"text/xml"):(xml=new ActiveXObject("Microsoft.XMLDOM")).loadXML(data)}catch(e){xml=null}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length?xml:null}},35846:module2=>{module2.exports=function(element){element.parentNode&&element.parentNode.removeChild(element)}},43092:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),NOOP=__webpack_require__2(29747),RequestAnimationFrame=new Class({initialize:function RequestAnimationFrame2(){this.isRunning=!1,this.callback=NOOP,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var _this=this;this.step=function step(time){_this.callback(time),_this.isRunning&&(_this.timeOutID=window.requestAnimationFrame(step))},this.stepTimeout=function stepTimeout(){_this.isRunning&&(_this.timeOutID=window.setTimeout(stepTimeout,_this.delay)),_this.callback(window.performance.now())}},start:function(callback,forceSetTimeOut,delay){this.isRunning||(this.callback=callback,this.isSetTimeOut=forceSetTimeOut,this.delay=delay,this.isRunning=!0,this.timeOutID=forceSetTimeOut?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=NOOP}});module2.exports=RequestAnimationFrame},84902:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Dom={AddToDOM:__webpack_require__2(40366),DOMContentLoaded:__webpack_require__2(57264),GetInnerHeight:__webpack_require__2(57811),GetScreenOrientation:__webpack_require__2(45818),GetTarget:__webpack_require__2(74403),ParseXML:__webpack_require__2(56836),RemoveFromDOM:__webpack_require__2(35846),RequestAnimationFrame:__webpack_require__2(43092)};module2.exports=Dom},47565:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EE=__webpack_require__2(50792),PluginCache=__webpack_require__2(37277),EventEmitter2=new Class({Extends:EE,initialize:function EventEmitter3(){EE.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});PluginCache.register("EventEmitter",EventEmitter2,"events"),module2.exports=EventEmitter2},93055:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={EventEmitter:__webpack_require__2(47565)}},20122:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Barrel=new Class({Extends:Controller,initialize:function Barrel2(gameObject,amount){void 0===amount&&(amount=1),Controller.call(this,FX_CONST.BARREL,gameObject),this.amount=amount}});module2.exports=Barrel},32251:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Bloom=new Class({Extends:Controller,initialize:function Bloom2(gameObject,color,offsetX,offsetY,blurStrength,strength,steps){void 0===offsetX&&(offsetX=1),void 0===offsetY&&(offsetY=1),void 0===blurStrength&&(blurStrength=1),void 0===strength&&(strength=1),void 0===steps&&(steps=4),Controller.call(this,FX_CONST.BLOOM,gameObject),this.steps=steps,this.offsetX=offsetX,this.offsetY=offsetY,this.blurStrength=blurStrength,this.strength=strength,this.glcolor=[1,1,1],null!=color&&(this.color=color)},color:{get:function(){var color=this.glcolor;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}}});module2.exports=Bloom},9047:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Blur=new Class({Extends:Controller,initialize:function Blur2(gameObject,quality,x,y,strength,color,steps){void 0===quality&&(quality=0),void 0===x&&(x=2),void 0===y&&(y=2),void 0===strength&&(strength=1),void 0===steps&&(steps=4),Controller.call(this,FX_CONST.BLUR,gameObject),this.quality=quality,this.x=x,this.y=y,this.steps=steps,this.strength=strength,this.glcolor=[1,1,1],null!=color&&(this.color=color)},color:{get:function(){var color=this.glcolor;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}}});module2.exports=Blur},27885:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Bokeh=new Class({Extends:Controller,initialize:function Bokeh2(gameObject,radius,amount,contrast,isTiltShift,blurX,blurY,strength){void 0===radius&&(radius=.5),void 0===amount&&(amount=1),void 0===contrast&&(contrast=.2),void 0===isTiltShift&&(isTiltShift=!1),void 0===blurX&&(blurX=1),void 0===blurY&&(blurY=1),void 0===strength&&(strength=1),Controller.call(this,FX_CONST.BOKEH,gameObject),this.radius=radius,this.amount=amount,this.contrast=contrast,this.isTiltShift=isTiltShift,this.strength=strength,this.blurX=blurX,this.blurY=blurY}});module2.exports=Bokeh},12578:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Circle=new Class({Extends:Controller,initialize:function Circle2(gameObject,thickness,color,backgroundColor,scale,feather){void 0===thickness&&(thickness=8),void 0===scale&&(scale=1),void 0===feather&&(feather=.005),Controller.call(this,FX_CONST.CIRCLE,gameObject),this.scale=scale,this.feather=feather,this.thickness=thickness,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=color&&(this.color=color),null!=backgroundColor&&(this.backgroundColor=backgroundColor)},color:{get:function(){var color=this.glcolor;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}},backgroundColor:{get:function(){var color=this.glcolor2;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor2;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(value){this.glcolor2[3]=value}}});module2.exports=Circle},15802:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),BaseColorMatrix=__webpack_require__2(89422),FX_CONST=__webpack_require__2(14811),ColorMatrix=new Class({Extends:BaseColorMatrix,initialize:function ColorMatrix2(gameObject){BaseColorMatrix.call(this),this.type=FX_CONST.COLOR_MATRIX,this.gameObject=gameObject,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});module2.exports=ColorMatrix},72898:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Controller=new(__webpack_require__2(83419))({initialize:function Controller2(type,gameObject){this.type=type,this.gameObject=gameObject,this.active=!0},setActive:function(value){return this.active=value,this},destroy:function(){this.gameObject=null,this.active=!1}});module2.exports=Controller},44553:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Displacement=new Class({Extends:Controller,initialize:function Displacement2(gameObject,texture,x,y){void 0===texture&&(texture="__WHITE"),void 0===x&&(x=.005),void 0===y&&(y=.005),Controller.call(this,FX_CONST.DISPLACEMENT,gameObject),this.x=x,this.y=y,this.glTexture,this.setTexture(texture)},setTexture:function(texture){var phaserTexture=this.gameObject.scene.sys.textures.getFrame(texture);return phaserTexture&&(this.glTexture=phaserTexture.glTexture),this}});module2.exports=Displacement},68531:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Glow=new Class({Extends:Controller,initialize:function Glow2(gameObject,color,outerStrength,innerStrength,knockout){void 0===outerStrength&&(outerStrength=4),void 0===innerStrength&&(innerStrength=0),void 0===knockout&&(knockout=!1),Controller.call(this,FX_CONST.GLOW,gameObject),this.outerStrength=outerStrength,this.innerStrength=innerStrength,this.knockout=knockout,this.glcolor=[1,1,1,1],void 0!==color&&(this.color=color)},color:{get:function(){var color=this.glcolor;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}}});module2.exports=Glow},37102:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Gradient=new Class({Extends:Controller,initialize:function Gradient2(gameObject,color1,color2,alpha,fromX,fromY,toX,toY,size){void 0===alpha&&(alpha=.2),void 0===fromX&&(fromX=0),void 0===fromY&&(fromY=0),void 0===toX&&(toX=0),void 0===toY&&(toY=1),void 0===size&&(size=0),Controller.call(this,FX_CONST.GRADIENT,gameObject),this.alpha=alpha,this.size=size,this.fromX=fromX,this.fromY=fromY,this.toX=toX,this.toY=toY,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=color1&&(this.color1=color1),null!=color2&&(this.color2=color2)},color1:{get:function(){var color=this.glcolor1;return(color[0]<<16)+(color[1]<<8)+(0|color[2])},set:function(value){var color=this.glcolor1;color[0]=value>>16&255,color[1]=value>>8&255,color[2]=255&value}},color2:{get:function(){var color=this.glcolor2;return(color[0]<<16)+(color[1]<<8)+(0|color[2])},set:function(value){var color=this.glcolor2;color[0]=value>>16&255,color[1]=value>>8&255,color[2]=255&value}}});module2.exports=Gradient},86886:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Pixelate=new Class({Extends:Controller,initialize:function Pixelate2(gameObject,amount){void 0===amount&&(amount=1),Controller.call(this,FX_CONST.PIXELATE,gameObject),this.amount=amount}});module2.exports=Pixelate},92322:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Shadow=new Class({Extends:Controller,initialize:function Shadow2(gameObject,x,y,decay,power,color,samples,intensity){void 0===x&&(x=0),void 0===y&&(y=0),void 0===decay&&(decay=.1),void 0===power&&(power=1),void 0===samples&&(samples=6),void 0===intensity&&(intensity=1),Controller.call(this,FX_CONST.SHADOW,gameObject),this.x=x,this.y=y,this.decay=decay,this.power=power,this.glcolor=[0,0,0,1],this.samples=samples,this.intensity=intensity,void 0!==color&&(this.color=color)},color:{get:function(){var color=this.glcolor;return(255*color[0]<<16)+(255*color[1]<<8)+(255*color[2]|0)},set:function(value){var color=this.glcolor;color[0]=(value>>16&255)/255,color[1]=(value>>8&255)/255,color[2]=(255&value)/255}}});module2.exports=Shadow},39563:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Shine=new Class({Extends:Controller,initialize:function Shine2(gameObject,speed,lineWidth,gradient,reveal){void 0===speed&&(speed=.5),void 0===lineWidth&&(lineWidth=.5),void 0===gradient&&(gradient=3),void 0===reveal&&(reveal=!1),Controller.call(this,FX_CONST.SHINE,gameObject),this.speed=speed,this.lineWidth=lineWidth,this.gradient=gradient,this.reveal=reveal}});module2.exports=Shine},56448:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Vignette=new Class({Extends:Controller,initialize:function Vignette2(gameObject,x,y,radius,strength){void 0===x&&(x=.5),void 0===y&&(y=.5),void 0===radius&&(radius=.5),void 0===strength&&(strength=.5),Controller.call(this,FX_CONST.VIGNETTE,gameObject),this.x=x,this.y=y,this.radius=radius,this.strength=strength}});module2.exports=Vignette},38433:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Controller=__webpack_require__2(72898),FX_CONST=__webpack_require__2(14811),Wipe=new Class({Extends:Controller,initialize:function Wipe2(gameObject,wipeWidth,direction,axis,reveal){void 0===wipeWidth&&(wipeWidth=.1),void 0===direction&&(direction=0),void 0===axis&&(axis=0),void 0===reveal&&(reveal=!1),Controller.call(this,FX_CONST.WIPE,gameObject),this.progress=0,this.wipeWidth=wipeWidth,this.direction=direction,this.axis=axis,this.reveal=reveal}});module2.exports=Wipe},14811:module2=>{module2.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291),FX_CONST=__webpack_require__2(14811),FX={Barrel:__webpack_require__2(20122),Controller:__webpack_require__2(72898),Bloom:__webpack_require__2(32251),Blur:__webpack_require__2(9047),Bokeh:__webpack_require__2(27885),Circle:__webpack_require__2(12578),ColorMatrix:__webpack_require__2(15802),Displacement:__webpack_require__2(44553),Glow:__webpack_require__2(68531),Gradient:__webpack_require__2(37102),Pixelate:__webpack_require__2(86886),Shadow:__webpack_require__2(92322),Shine:__webpack_require__2(39563),Vignette:__webpack_require__2(56448),Wipe:__webpack_require__2(38433)};FX=Extend(!1,FX,FX_CONST),module2.exports=FX},25305:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),GetAdvancedValue=__webpack_require__2(23568);module2.exports=function(scene,gameObject,config2){gameObject.x=GetAdvancedValue(config2,"x",0),gameObject.y=GetAdvancedValue(config2,"y",0),gameObject.depth=GetAdvancedValue(config2,"depth",0),gameObject.flipX=GetAdvancedValue(config2,"flipX",!1),gameObject.flipY=GetAdvancedValue(config2,"flipY",!1);var scale=GetAdvancedValue(config2,"scale",null);"number"==typeof scale?gameObject.setScale(scale):null!==scale&&(gameObject.scaleX=GetAdvancedValue(scale,"x",1),gameObject.scaleY=GetAdvancedValue(scale,"y",1));var scrollFactor=GetAdvancedValue(config2,"scrollFactor",null);"number"==typeof scrollFactor?gameObject.setScrollFactor(scrollFactor):null!==scrollFactor&&(gameObject.scrollFactorX=GetAdvancedValue(scrollFactor,"x",1),gameObject.scrollFactorY=GetAdvancedValue(scrollFactor,"y",1)),gameObject.rotation=GetAdvancedValue(config2,"rotation",0);var angle=GetAdvancedValue(config2,"angle",null);null!==angle&&(gameObject.angle=angle),gameObject.alpha=GetAdvancedValue(config2,"alpha",1);var origin=GetAdvancedValue(config2,"origin",null);if("number"==typeof origin)gameObject.setOrigin(origin);else if(null!==origin){var ox=GetAdvancedValue(origin,"x",.5),oy=GetAdvancedValue(origin,"y",.5);gameObject.setOrigin(ox,oy)}return gameObject.blendMode=GetAdvancedValue(config2,"blendMode",BlendModes.NORMAL),gameObject.visible=GetAdvancedValue(config2,"visible",!0),GetAdvancedValue(config2,"add",!0)&&scene.sys.displayList.add(gameObject),gameObject.preUpdate&&scene.sys.updateList.add(gameObject),gameObject}},13059:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetAdvancedValue=__webpack_require__2(23568);module2.exports=function(sprite,config2){var animConfig=GetAdvancedValue(config2,"anims",null);if(null===animConfig)return sprite;if("string"==typeof animConfig)sprite.anims.play(animConfig);else if("object"==typeof animConfig){var anims=sprite.anims,key=GetAdvancedValue(animConfig,"key",void 0);if(key){var startFrame=GetAdvancedValue(animConfig,"startFrame",void 0),delay=GetAdvancedValue(animConfig,"delay",0),repeat=GetAdvancedValue(animConfig,"repeat",0),repeatDelay=GetAdvancedValue(animConfig,"repeatDelay",0),yoyo=GetAdvancedValue(animConfig,"yoyo",!1),play=GetAdvancedValue(animConfig,"play",!1),delayedPlay=GetAdvancedValue(animConfig,"delayedPlay",0),playConfig={key:key,delay:delay,repeat:repeat,repeatDelay:repeatDelay,yoyo:yoyo,startFrame:startFrame};play?anims.play(playConfig):delayedPlay>0?anims.playAfterDelay(playConfig,delayedPlay):anims.load(playConfig)}}return sprite}},8050:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),List=__webpack_require__2(73162),PluginCache=__webpack_require__2(37277),GameObjectEvents=__webpack_require__2(51708),SceneEvents=__webpack_require__2(44594),StableSort=__webpack_require__2(19186),DisplayList=new Class({Extends:List,initialize:function DisplayList2(scene){List.call(this,scene),this.sortChildrenFlag=!1,this.scene=scene,this.systems=scene.sys,this.events=scene.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(SceneEvents.BOOT,this.boot,this),this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.events.once(SceneEvents.DESTROY,this.destroy,this)},addChildCallback:function(gameObject){gameObject.displayList&&gameObject.displayList!==this&&gameObject.removeFromDisplayList(),gameObject.parentContainer&&gameObject.parentContainer.remove(gameObject),gameObject.displayList||(this.queueDepthSort(),gameObject.displayList=this,gameObject.emit(GameObjectEvents.ADDED_TO_SCENE,gameObject,this.scene),this.events.emit(SceneEvents.ADDED_TO_SCENE,gameObject,this.scene))},removeChildCallback:function(gameObject){this.queueDepthSort(),gameObject.displayList=null,gameObject.emit(GameObjectEvents.REMOVED_FROM_SCENE,gameObject,this.scene),this.events.emit(SceneEvents.REMOVED_FROM_SCENE,gameObject,this.scene)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(StableSort(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(childA,childB){return childA._depth-childB._depth},getChildren:function(){return this.list},shutdown:function(){for(var list=this.list;list.length;)list[0].destroy(!0);this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});PluginCache.register("DisplayList",DisplayList,"displayList"),module2.exports=DisplayList},95643:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ComponentsToJSON=__webpack_require__2(53774),DataManager=__webpack_require__2(45893),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(51708),SceneEvents=__webpack_require__2(44594),GameObject=new Class({Extends:EventEmitter2,initialize:function GameObject2(scene,type){EventEmitter2.call(this),this.scene=scene,this.displayList=null,this.type=type,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(Events2.ADDED_TO_SCENE,this.addedToScene,this),this.on(Events2.REMOVED_FROM_SCENE,this.removedFromScene,this),scene.sys.queueDepthSort()},setActive:function(value){return this.active=value,this},setName:function(value){return this.name=value,this},setState:function(value){return this.state=value,this},setDataEnabled:function(){return this.data||(this.data=new DataManager(this)),this},setData:function(key,value){return this.data||(this.data=new DataManager(this)),this.data.set(key,value),this},incData:function(key,amount){return this.data||(this.data=new DataManager(this)),this.data.inc(key,amount),this},toggleData:function(key){return this.data||(this.data=new DataManager(this)),this.data.toggle(key),this},getData:function(key){return this.data||(this.data=new DataManager(this)),this.data.get(key)},setInteractive:function(hitArea,hitAreaCallback,dropZone){return this.scene.sys.input.enable(this,hitArea,hitAreaCallback,dropZone),this},disableInteractive:function(resetCursor){return void 0===resetCursor&&(resetCursor=!1),this.scene.sys.input.disable(this,resetCursor),this},removeInteractive:function(resetCursor){return void 0===resetCursor&&(resetCursor=!1),this.scene.sys.input.clear(this),resetCursor&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return ComponentsToJSON(this)},willRender:function(camera){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(camera)||GameObject.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},getIndexList:function(){for(var child=this,parent=this.parentContainer,indexes=[];parent&&(indexes.unshift(parent.getIndex(child)),child=parent,parent.parentContainer);)parent=parent.parentContainer;return this.displayList?indexes.unshift(this.displayList.getIndex(child)):indexes.unshift(this.scene.sys.displayList.getIndex(child)),indexes},addToDisplayList:function(displayList){return void 0===displayList&&(displayList=this.scene.sys.displayList),this.displayList&&this.displayList!==displayList&&this.removeFromDisplayList(),displayList.exists(this)||(this.displayList=displayList,displayList.add(this,!0),displayList.queueDepthSort(),this.emit(Events2.ADDED_TO_SCENE,this,this.scene),displayList.events.emit(SceneEvents.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var displayList=this.displayList||this.scene.sys.displayList;return displayList&&displayList.exists(this)&&(displayList.remove(this,!0),displayList.queueDepthSort(),this.displayList=null,this.emit(Events2.REMOVED_FROM_SCENE,this,this.scene),displayList.events.emit(SceneEvents.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var list=null;return this.parentContainer?list=this.parentContainer.list:this.displayList&&(list=this.displayList.list),list},destroy:function(fromScene){this.scene&&!this.ignoreDestroy&&(void 0===fromScene&&(fromScene=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(Events2.DESTROY,this,fromScene),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});GameObject.RENDER_MASK=15,module2.exports=GameObject},44603:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),GameObjectCreator=new Class({initialize:function GameObjectCreator2(scene){this.scene=scene,this.systems=scene.sys,this.events=scene.sys.events,this.displayList,this.updateList,this.events.once(SceneEvents.BOOT,this.boot,this),this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});GameObjectCreator.register=function(factoryType,factoryFunction){GameObjectCreator.prototype.hasOwnProperty(factoryType)||(GameObjectCreator.prototype[factoryType]=factoryFunction)},GameObjectCreator.remove=function(factoryType){GameObjectCreator.prototype.hasOwnProperty(factoryType)&&delete GameObjectCreator.prototype[factoryType]},PluginCache.register("GameObjectCreator",GameObjectCreator,"make"),module2.exports=GameObjectCreator},39429:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),GameObjectFactory=new Class({initialize:function GameObjectFactory2(scene){this.scene=scene,this.systems=scene.sys,this.events=scene.sys.events,this.displayList,this.updateList,this.events.once(SceneEvents.BOOT,this.boot,this),this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},existing:function(child){return(child.renderCanvas||child.renderWebGL)&&this.displayList.add(child),child.preUpdate&&this.updateList.add(child),child},shutdown:function(){this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});GameObjectFactory.register=function(factoryType,factoryFunction){GameObjectFactory.prototype.hasOwnProperty(factoryType)||(GameObjectFactory.prototype[factoryType]=factoryFunction)},GameObjectFactory.remove=function(factoryType){GameObjectFactory.prototype.hasOwnProperty(factoryType)&&delete GameObjectFactory.prototype[factoryType]},PluginCache.register("GameObjectFactory",GameObjectFactory,"add"),module2.exports=GameObjectFactory},91296:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TransformMatrix=__webpack_require__2(61340),tempMatrix1=new TransformMatrix,tempMatrix2=new TransformMatrix,tempMatrix3=new TransformMatrix,result={camera:tempMatrix1,sprite:tempMatrix2,calc:tempMatrix3};module2.exports=function(src2,camera,parentMatrix){var camMatrix=tempMatrix1,spriteMatrix=tempMatrix2,calcMatrix=tempMatrix3;return spriteMatrix.applyITRS(src2.x,src2.y,src2.rotation,src2.scaleX,src2.scaleY),camMatrix.copyFrom(camera.matrix),parentMatrix?(camMatrix.multiplyWithOffset(parentMatrix,-camera.scrollX*src2.scrollFactorX,-camera.scrollY*src2.scrollFactorY),spriteMatrix.e=src2.x,spriteMatrix.f=src2.y):(spriteMatrix.e-=camera.scrollX*src2.scrollFactorX,spriteMatrix.f-=camera.scrollY*src2.scrollFactorY),camMatrix.multiply(spriteMatrix,calcMatrix),result}},45027:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ProcessQueue=__webpack_require__2(25774),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),UpdateList=new Class({Extends:ProcessQueue,initialize:function UpdateList2(scene){ProcessQueue.call(this),this.checkQueue=!0,this.scene=scene,this.systems=scene.sys,scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.PRE_UPDATE,this.update,this),eventEmitter.on(SceneEvents.UPDATE,this.sceneUpdate,this),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(time,delta){for(var list=this._active,length=list.length,i=0;i<length;i++){var gameObject=list[i];gameObject.active&&gameObject.preUpdate.call(gameObject,time,delta)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.PRE_UPDATE,this.update,this),eventEmitter.off(SceneEvents.UPDATE,this.sceneUpdate,this),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null}});PluginCache.register("UpdateList",UpdateList,"updateList"),module2.exports=UpdateList},3217:module2=>{module2.exports=function(pipeline,src2,char,glyph,offsetX,offsetY,calcMatrix,roundPixels,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit){var x=char.x-src2.displayOriginX+offsetX,y=char.y-src2.displayOriginY+offsetY,xw=x+char.w,yh=y+char.h,a=calcMatrix.a,b=calcMatrix.b,c=calcMatrix.c,d=calcMatrix.d,e=calcMatrix.e,f=calcMatrix.f,tx0=x*a+y*c+e,ty0=x*b+y*d+f,tx1=x*a+yh*c+e,ty1=x*b+yh*d+f,tx2=xw*a+yh*c+e,ty2=xw*b+yh*d+f,tx3=xw*a+y*c+e,ty3=xw*b+y*d+f;roundPixels&&(tx0=Math.round(tx0),ty0=Math.round(ty0),tx1=Math.round(tx1),ty1=Math.round(ty1),tx2=Math.round(tx2),ty2=Math.round(ty2),tx3=Math.round(tx3),ty3=Math.round(ty3)),pipeline.batchQuad(src2,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3,glyph.u0,glyph.v0,glyph.u1,glyph.v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit)}},53048:module2=>{module2.exports=function(src2,round2,updateOrigin,out){if(void 0===updateOrigin&&(updateOrigin=!1),void 0===out)return out={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var i,j,lines,text=src2.text,textLength=text.length,maxWidth=src2.maxWidth,wordWrapCharCode=src2.wordWrapCharCode,bx=Number.MAX_VALUE,by=Number.MAX_VALUE,bw=0,bh=0,chars=src2.fontData.chars,lineHeight=src2.fontData.lineHeight,letterSpacing=src2.letterSpacing,lineSpacing=src2.lineSpacing,xAdvance=0,yAdvance=0,charCode=0,glyph=null,align=src2._align,x=0,y=0,scale=src2.fontSize/src2.fontData.size,sx=scale*src2.scaleX,sy=scale*src2.scaleY,lastGlyph=null,lastCharCode=0,lineWidths=[],shortestLine=Number.MAX_VALUE,longestLine=0,currentLine=0,currentLineWidth=0,words=[],characters=[],current=null,measureTextWidth=function(text2,fontData){for(var width=0,i2=0;i2<text2.length;i2++){var charCode2=text2.charCodeAt(i2),glyph2=fontData.chars[charCode2];glyph2&&(width+=glyph2.xAdvance)}return width*sx};if(maxWidth>0){lines=text.split("\n");var wrappedLines=[];for(i=0;i<lines.length;i++){var line=lines[i],word="",wrappedLine="",lineToCheck="",lineWithWord="";for(j=0;j<line.length;j++)charCode=line.charCodeAt(j),word+=line[j],(charCode===wordWrapCharCode||j===line.length-1)&&(measureTextWidth(lineWithWord=lineToCheck+word,src2.fontData)<=maxWidth?lineToCheck=lineWithWord:(wrappedLine=wrappedLine.slice(0,-1),wrappedLine+=(wrappedLine?"\n":"")+lineToCheck,lineToCheck=word),word="");wrappedLine=wrappedLine.slice(0,-1),wrappedLine+=(wrappedLine?"\n":"")+lineToCheck,wrappedLines.push(wrappedLine)}text=wrappedLines.join("\n"),out.wrappedText=text,textLength=text.length}var charIndex=0;for(i=0;i<textLength;i++)if(10!==(charCode=text.charCodeAt(i))){if(glyph=chars[charCode]){if(x=xAdvance,y=yAdvance,null!==lastGlyph){var kerningOffset=glyph.kerning[lastCharCode];x+=void 0!==kerningOffset?kerningOffset:0}bx>x&&(bx=x),by>y&&(by=y);var gw=x+glyph.xAdvance,gh=y+lineHeight;bw<gw&&(bw=gw),bh<gh&&(bh=gh);var charWidth=glyph.xOffset+glyph.xAdvance+(void 0!==kerningOffset?kerningOffset:0);charCode===wordWrapCharCode?null!==current&&(words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy}),current=null):(null===current&&(current={word:"",i:charIndex,x:xAdvance,y:yAdvance,w:0,h:lineHeight}),current.word=current.word.concat(text[i]),current.w+=charWidth),characters.push({i:charIndex,idx:i,char:text[i],code:charCode,x:(glyph.xOffset+x)*scale,y:(glyph.yOffset+yAdvance)*scale,w:glyph.width*scale,h:glyph.height*scale,t:yAdvance*scale,r:gw*scale,b:lineHeight*scale,line:currentLine,glyph:glyph}),xAdvance+=glyph.xAdvance+letterSpacing+(void 0!==kerningOffset?kerningOffset:0),lastGlyph=glyph,lastCharCode=charCode,currentLineWidth=gw*scale,charIndex++}}else null!==current&&(words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy}),current=null),lastGlyph=null,lineWidths[currentLine]=currentLineWidth,currentLineWidth>longestLine&&(longestLine=currentLineWidth),currentLineWidth<shortestLine&&(shortestLine=currentLineWidth),currentLineWidth=0,xAdvance=0,yAdvance=(lineHeight+lineSpacing)*++currentLine;if(null!==current&&words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy}),lineWidths[currentLine]=currentLineWidth,currentLineWidth>longestLine&&(longestLine=currentLineWidth),currentLineWidth<shortestLine&&(shortestLine=currentLineWidth),align>0)for(var c=0;c<characters.length;c++){var currentChar=characters[c];if(1===align){var ax1=(longestLine-lineWidths[currentChar.line])/2;currentChar.x+=ax1,currentChar.r+=ax1}else if(2===align){var ax2=longestLine-lineWidths[currentChar.line];currentChar.x+=ax2,currentChar.r+=ax2}}var local=out.local,global2=out.global;return lines=out.lines,local.x=bx*scale,local.y=by*scale,local.width=bw*scale,local.height=bh*scale,global2.x=src2.x-src2._displayOriginX+bx*sx,global2.y=src2.y-src2._displayOriginY+by*sy,global2.width=bw*sx,global2.height=bh*sy,lines.shortest=shortestLine,lines.longest=longestLine,lines.lengths=lineWidths,round2&&(local.x=Math.ceil(local.x),local.y=Math.ceil(local.y),local.width=Math.ceil(local.width),local.height=Math.ceil(local.height),global2.x=Math.ceil(global2.x),global2.y=Math.ceil(global2.y),global2.width=Math.ceil(global2.width),global2.height=Math.ceil(global2.height),lines.shortest=Math.ceil(shortestLine),lines.longest=Math.ceil(longestLine)),updateOrigin&&(src2._displayOriginX=src2.originX*local.width,src2._displayOriginY=src2.originY*local.height,global2.x=src2.x-src2._displayOriginX*src2.scaleX,global2.y=src2.y-src2._displayOriginY*src2.scaleY,round2&&(global2.x=Math.ceil(global2.x),global2.y=Math.ceil(global2.y))),out.words=words,out.characters=characters,out.lines.height=lineHeight,out.scale=scale,out.scaleX=src2.scaleX,out.scaleY=src2.scaleY,out}},61327:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ParseXMLBitmapFont=__webpack_require__2(21859);module2.exports=function(scene,fontName,textureKey,frameKey,xmlKey,xSpacing,ySpacing){var texture=scene.sys.textures.get(textureKey),frame=texture.get(frameKey),xml=scene.sys.cache.xml.get(xmlKey);if(frame&&xml){var data=ParseXMLBitmapFont(xml,frame,xSpacing,ySpacing,texture);return scene.sys.cache.bitmapFont.add(fontName,{data:data,texture:textureKey,frame:frameKey,fromAtlas:!0}),!0}return!1}},6925:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=__webpack_require__2(35154);module2.exports=function(scene,config2){var w=config2.width,h=config2.height,cx=Math.floor(w/2),cy=Math.floor(h/2),letters=GetValue(config2,"chars","");if(""!==letters){var key=GetValue(config2,"image",""),frame=scene.sys.textures.getFrame(key),textureX=frame.cutX,textureY=frame.cutY,textureWidth=frame.source.width,textureHeight=frame.source.height,offsetX=GetValue(config2,"offset.x",0),offsetY=GetValue(config2,"offset.y",0),spacingX=GetValue(config2,"spacing.x",0),spacingY=GetValue(config2,"spacing.y",0),lineSpacing=GetValue(config2,"lineSpacing",0),charsPerRow=GetValue(config2,"charsPerRow",null);null===charsPerRow&&(charsPerRow=textureWidth/w)>letters.length&&(charsPerRow=letters.length);for(var x=offsetX,y=offsetY,data={retroFont:!0,font:key,size:w,lineHeight:h+lineSpacing,chars:{}},r=0,i=0;i<letters.length;i++){var charCode=letters.charCodeAt(i),u0=(textureX+x)/textureWidth,v0=(textureY+y)/textureHeight,u1=(textureX+x+w)/textureWidth,v1=(textureY+y+h)/textureHeight;data.chars[charCode]={x:x,y:y,width:w,height:h,centerX:cx,centerY:cy,xOffset:0,yOffset:0,xAdvance:w,data:{},kerning:{},u0:u0,v0:v0,u1:u1,v1:v1},++r===charsPerRow?(r=0,x=offsetX,y+=h+spacingY):x+=w+spacingX}return{data:data,frame:null,texture:key}}}},21859:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function getValue(node,attribute){return parseInt(node.getAttribute(attribute),10)}module2.exports=function(xml,frame,xSpacing,ySpacing,texture){void 0===xSpacing&&(xSpacing=0),void 0===ySpacing&&(ySpacing=0);var textureX=frame.cutX,textureY=frame.cutY,textureWidth=frame.source.width,textureHeight=frame.source.height,sourceIndex=frame.sourceIndex,data={},info=xml.getElementsByTagName("info")[0],common=xml.getElementsByTagName("common")[0];data.font=info.getAttribute("face"),data.size=getValue(info,"size"),data.lineHeight=getValue(common,"lineHeight")+ySpacing,data.chars={};var letters=xml.getElementsByTagName("char"),adjustForTrim=void 0!==frame&&frame.trimmed;if(adjustForTrim)var top=frame.height,left=frame.width;for(var i=0;i<letters.length;i++){var node=letters[i],charCode=getValue(node,"id"),letter=String.fromCharCode(charCode),gx=getValue(node,"x"),gy=getValue(node,"y"),gw=getValue(node,"width"),gh=getValue(node,"height");adjustForTrim&&(gx<left&&(left=gx),gy<top&&(top=gy)),adjustForTrim&&0!==top&&0!==left&&(gx-=frame.x,gy-=frame.y);var u0=(textureX+gx)/textureWidth,v0=(textureY+gy)/textureHeight,u1=(textureX+gx+gw)/textureWidth,v1=(textureY+gy+gh)/textureHeight;if(data.chars[charCode]={x:gx,y:gy,width:gw,height:gh,centerX:Math.floor(gw/2),centerY:Math.floor(gh/2),xOffset:getValue(node,"xoffset"),yOffset:getValue(node,"yoffset"),xAdvance:getValue(node,"xadvance")+xSpacing,data:{},kerning:{},u0:u0,v0:v0,u1:u1,v1:v1},texture&&0!==gw&&0!==gh){var charFrame=texture.add(letter,sourceIndex,gx,gy,gw,gh);charFrame&&charFrame.setUVs(gw,gh,u0,v0,u1,v1)}}var kernings=xml.getElementsByTagName("kerning");for(i=0;i<kernings.length;i++){var kern=kernings[i],first=getValue(kern,"first"),second=getValue(kern,"second"),amount=getValue(kern,"amount");data.chars[second].kerning[first]=amount}return data}},196:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RETRO_FONT_CONST=__webpack_require__2(87662),Extend=__webpack_require__2(79291),RetroFont={Parse:__webpack_require__2(6925)};RetroFont=Extend(!1,RetroFont,RETRO_FONT_CONST),module2.exports=RetroFont},87662:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RETRO_FONT_CONST={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"};module2.exports=RETRO_FONT_CONST},2638:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BitmapText=__webpack_require__2(22186),Class=__webpack_require__2(83419),Render=__webpack_require__2(12310),DynamicBitmapText=new Class({Extends:BitmapText,Mixins:[Render],initialize:function DynamicBitmapText2(scene,x,y,font,text,size,align){BitmapText.call(this,scene,x,y,font,text,size,align),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(width,height){return this.cropWidth=width,this.cropHeight=height,this},setDisplayCallback:function(callback){return this.displayCallback=callback,this},setScrollX:function(value){return this.scrollX=value,this},setScrollY:function(value){return this.scrollY=value,this}});module2.exports=DynamicBitmapText},86741:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){var text=src2._text,textLength=text.length,ctx=renderer.currentContext;if(0!==textLength&&SetTransform(renderer,ctx,src2,camera,parentMatrix)){camera.addToRenderList(src2);var textureFrame=src2.fromAtlas?src2.frame:src2.texture.frames.__BASE,displayCallback=src2.displayCallback,callbackData=src2.callbackData,chars=src2.fontData.chars,lineHeight=src2.fontData.lineHeight,letterSpacing=src2._letterSpacing,xAdvance=0,yAdvance=0,charCode=0,glyph=null,glyphX=0,glyphY=0,glyphW=0,glyphH=0,x=0,y=0,lastGlyph=null,lastCharCode=0,image=src2.frame.source.image,textureX=textureFrame.cutX,textureY=textureFrame.cutY,rotation=0,scale=0,baseScale=src2._fontSize/src2.fontData.size,align=src2._align,currentLine=0,lineOffsetX=0;src2.getTextBounds(!1);var lineData=src2._bounds.lines;1===align?lineOffsetX=(lineData.longest-lineData.lengths[0])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[0]),ctx.translate(-src2.displayOriginX,-src2.displayOriginY);var roundPixels=camera.roundPixels;src2.cropWidth>0&&src2.cropHeight>0&&(ctx.beginPath(),ctx.rect(0,0,src2.cropWidth,src2.cropHeight),ctx.clip());for(var i=0;i<textLength;i++)if(scale=baseScale,rotation=0,10!==(charCode=text.charCodeAt(i))){if(glyph=chars[charCode]){if(glyphX=textureX+glyph.x,glyphY=textureY+glyph.y,glyphW=glyph.width,glyphH=glyph.height,x=glyph.xOffset+xAdvance-src2.scrollX,y=glyph.yOffset+yAdvance-src2.scrollY,null!==lastGlyph){var kerningOffset=glyph.kerning[lastCharCode];x+=void 0!==kerningOffset?kerningOffset:0}if(displayCallback){callbackData.index=i,callbackData.charCode=charCode,callbackData.x=x,callbackData.y=y,callbackData.scale=scale,callbackData.rotation=rotation,callbackData.data=glyph.data;var output=displayCallback(callbackData);x=output.x,y=output.y,scale=output.scale,rotation=output.rotation}x*=scale,y*=scale,x+=lineOffsetX,xAdvance+=glyph.xAdvance+letterSpacing+(void 0!==kerningOffset?kerningOffset:0),lastGlyph=glyph,lastCharCode=charCode,0!==glyphW&&0!==glyphH&&32!==charCode&&(roundPixels&&(x=Math.round(x),y=Math.round(y)),ctx.save(),ctx.translate(x,y),ctx.rotate(rotation),ctx.scale(scale,scale),ctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH),ctx.restore())}}else currentLine++,1===align?lineOffsetX=(lineData.longest-lineData.lengths[currentLine])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[currentLine]),xAdvance=0,yAdvance+=lineHeight,lastGlyph=null;ctx.restore()}}},11164:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BitmapText=__webpack_require__2(2638),BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568);GameObjectCreator.register("dynamicBitmapText",(function(config2,addToScene){void 0===config2&&(config2={});var font=GetAdvancedValue(config2,"font",""),text=GetAdvancedValue(config2,"text",""),size=GetAdvancedValue(config2,"size",!1),bitmapText=new BitmapText(this.scene,0,0,font,text,size);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,bitmapText,config2),bitmapText}))},72566:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DynamicBitmapText=__webpack_require__2(2638);__webpack_require__2(39429).register("dynamicBitmapText",(function(x,y,font,text,size){return this.displayList.add(new DynamicBitmapText(this.scene,x,y,font,text,size))}))},12310:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(73482),renderCanvas=__webpack_require__2(86741),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},73482:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),TransformMatrix=__webpack_require__2(61340),Utils=__webpack_require__2(70554),tempMatrix=new TransformMatrix;module2.exports=function(renderer,src2,camera,parentMatrix){var text=src2.text,textLength=text.length;if(0!==textLength){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2),result=GetCalcMatrix(src2,camera,parentMatrix);renderer.pipelines.preBatch(src2);var spriteMatrix=result.sprite,calcMatrix=result.calc,fontMatrix=tempMatrix,crop=src2.cropWidth>0||src2.cropHeight>0;crop&&(pipeline.flush(),renderer.pushScissor(calcMatrix.tx,calcMatrix.ty,src2.cropWidth*calcMatrix.scaleX,src2.cropHeight*calcMatrix.scaleY));var glyph,lastGlyph,texture=src2.frame.glTexture,tintEffect=src2.tintFill,tintTL=Utils.getTintAppendFloatAlpha(src2.tintTopLeft,camera.alpha*src2._alphaTL),tintTR=Utils.getTintAppendFloatAlpha(src2.tintTopRight,camera.alpha*src2._alphaTR),tintBL=Utils.getTintAppendFloatAlpha(src2.tintBottomLeft,camera.alpha*src2._alphaBL),tintBR=Utils.getTintAppendFloatAlpha(src2.tintBottomRight,camera.alpha*src2._alphaBR),textureUnit=pipeline.setGameObject(src2),xAdvance=0,yAdvance=0,charCode=0,lastCharCode=0,letterSpacing=src2.letterSpacing,glyphW=0,glyphH=0,scrollX=src2.scrollX,scrollY=src2.scrollY,fontData=src2.fontData,chars=fontData.chars,lineHeight=fontData.lineHeight,scale=src2.fontSize/fontData.size,rotation=0,align=src2._align,currentLine=0,lineOffsetX=0,bounds=src2.getTextBounds(!1);src2.maxWidth>0&&(textLength=(text=bounds.wrappedText).length);var lineData=src2._bounds.lines;1===align?lineOffsetX=(lineData.longest-lineData.lengths[0])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[0]);for(var roundPixels=camera.roundPixels,displayCallback=src2.displayCallback,callbackData=src2.callbackData,i=0;i<textLength;i++)if(10!==(charCode=text.charCodeAt(i))){if(glyph=chars[charCode]){glyphW=glyph.width,glyphH=glyph.height;var x=glyph.xOffset+xAdvance-scrollX,y=glyph.yOffset+yAdvance-scrollY;if(null!==lastGlyph){var kerningOffset=glyph.kerning[lastCharCode]||0;x+=kerningOffset,xAdvance+=kerningOffset}if(xAdvance+=glyph.xAdvance+letterSpacing,lastGlyph=glyph,lastCharCode=charCode,0!==glyphW&&0!==glyphH&&32!==charCode){if(scale=src2.fontSize/src2.fontData.size,rotation=0,displayCallback){callbackData.color=0,callbackData.tint.topLeft=tintTL,callbackData.tint.topRight=tintTR,callbackData.tint.bottomLeft=tintBL,callbackData.tint.bottomRight=tintBR,callbackData.index=i,callbackData.charCode=charCode,callbackData.x=x,callbackData.y=y,callbackData.scale=scale,callbackData.rotation=rotation,callbackData.data=glyph.data;var output=displayCallback(callbackData);x=output.x,y=output.y,scale=output.scale,rotation=output.rotation,output.color?(tintTL=output.color,tintTR=output.color,tintBL=output.color,tintBR=output.color):(tintTL=output.tint.topLeft,tintTR=output.tint.topRight,tintBL=output.tint.bottomLeft,tintBR=output.tint.bottomRight),tintTL=Utils.getTintAppendFloatAlpha(tintTL,camera.alpha*src2._alphaTL),tintTR=Utils.getTintAppendFloatAlpha(tintTR,camera.alpha*src2._alphaTR),tintBL=Utils.getTintAppendFloatAlpha(tintBL,camera.alpha*src2._alphaBL),tintBR=Utils.getTintAppendFloatAlpha(tintBR,camera.alpha*src2._alphaBR)}x*=scale,y*=scale,x-=src2.displayOriginX,y-=src2.displayOriginY,x+=lineOffsetX,fontMatrix.applyITRS(x,y,rotation,scale,scale),calcMatrix.multiply(fontMatrix,spriteMatrix);var u0=glyph.u0,v0=glyph.v0,u1=glyph.u1,v1=glyph.v1,xw=glyphW,yh=glyphH,tx0=spriteMatrix.e,ty0=spriteMatrix.f,tx1=yh*spriteMatrix.c+spriteMatrix.e,ty1=yh*spriteMatrix.d+spriteMatrix.f,tx2=xw*spriteMatrix.a+yh*spriteMatrix.c+spriteMatrix.e,ty2=xw*spriteMatrix.b+yh*spriteMatrix.d+spriteMatrix.f,tx3=xw*spriteMatrix.a+spriteMatrix.e,ty3=xw*spriteMatrix.b+spriteMatrix.f;roundPixels&&(tx0=Math.round(tx0),ty0=Math.round(ty0),tx1=Math.round(tx1),ty1=Math.round(ty1),tx2=Math.round(tx2),ty2=Math.round(ty2),tx3=Math.round(tx3),ty3=Math.round(ty3)),pipeline.shouldFlush(6)&&(pipeline.flush(),textureUnit=pipeline.setGameObject(src2)),pipeline.batchQuad(src2,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit)}}}else currentLine++,1===align?lineOffsetX=(lineData.longest-lineData.lengths[currentLine])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[currentLine]),xAdvance=0,yAdvance+=lineHeight,lastGlyph=null;crop&&(pipeline.flush(),renderer.popScissor()),renderer.pipelines.postBatch(src2)}}},22186:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Clamp=__webpack_require__2(45319),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),GetBitmapTextSize=__webpack_require__2(53048),ParseFromAtlas=__webpack_require__2(61327),ParseXMLBitmapFont=__webpack_require__2(21859),Rectangle=__webpack_require__2(87841),Render=__webpack_require__2(18658),BitmapText=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Texture,Components.Tint,Components.Transform,Components.Visible,Render],initialize:function BitmapText2(scene,x,y,font,text,size,align){void 0===text&&(text=""),void 0===align&&(align=0),GameObject.call(this,scene,"BitmapText"),this.font=font;var entry=this.scene.sys.cache.bitmapFont.get(font);if(!entry)throw new Error("Invalid BitmapText key: "+font);this.fontData=entry.data,this._text="",this._fontSize=size||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=align,this._bounds=GetBitmapTextSize(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=entry.fromAtlas,this.setTexture(entry.texture,entry.frame),this.setPosition(x,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(text)},setLeftAlign:function(){return this._align=BitmapText.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=BitmapText.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=BitmapText.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(size){return this._fontSize=size,this._dirty=!0,this},setLetterSpacing:function(spacing){return void 0===spacing&&(spacing=0),this._letterSpacing=spacing,this._dirty=!0,this},setLineSpacing:function(spacing){return void 0===spacing&&(spacing=0),this.lineSpacing=spacing,this},setText:function(value){return value||0===value||(value=""),Array.isArray(value)&&(value=value.join("\n")),value!==this.text&&(this._text=value.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(x,y,color,alpha){return void 0===x&&(x=0),void 0===y&&(y=0),void 0===color&&(color=0),void 0===alpha&&(alpha=.5),this.dropShadowX=x,this.dropShadowY=y,this.dropShadowColor=color,this.dropShadowAlpha=alpha,this},setCharacterTint:function(start,length,tintFill,topLeft,topRight,bottomLeft,bottomRight){void 0===start&&(start=0),void 0===length&&(length=1),void 0===tintFill&&(tintFill=!1),void 0===topLeft&&(topLeft=-1),void 0===topRight&&(topRight=topLeft,bottomLeft=topLeft,bottomRight=topLeft);var len=this.text.length;-1===length&&(length=len),start<0&&(start=len+start),start=Clamp(start,0,len-1);for(var end=Clamp(start+length,start,len),charColors=this.charColors,i=start;i<end;i++){var color=charColors[i];if(-1===topLeft)charColors[i]=null;else{var tintEffect=tintFill?1:0;color?(color.tintEffect=tintEffect,color.tintTL=topLeft,color.tintTR=topRight,color.tintBL=bottomLeft,color.tintBR=bottomRight):charColors[i]={tintEffect:tintEffect,tintTL:topLeft,tintTR:topRight,tintBL:bottomLeft,tintBR:bottomRight}}}return this},setWordTint:function(word,count,tintFill,topLeft,topRight,bottomLeft,bottomRight){void 0===count&&(count=1);for(var words=this.getTextBounds().words,wordIsNumber="number"==typeof word,total=0,i=0;i<words.length;i++){var lineword=words[i];if((wordIsNumber&&i===word||!wordIsNumber&&lineword.word===word)&&(this.setCharacterTint(lineword.i,lineword.word.length,tintFill,topLeft,topRight,bottomLeft,bottomRight),++total===count))return this}return this},getTextBounds:function(round2){var bounds=this._bounds;return(this._dirty||round2||this.scaleX!==bounds.scaleX||this.scaleY!==bounds.scaleY)&&(GetBitmapTextSize(this,round2,!0,bounds),this._dirty=!1),bounds},getCharacterAt:function(x,y,camera){for(var point=this.getLocalPoint(x,y,null,camera),chars=this.getTextBounds().characters,tempRect=new Rectangle,i=0;i<chars.length;i++){var char=chars[i];if(tempRect.setTo(char.x,char.t,char.r-char.x,char.b),tempRect.contains(point.x,point.y))return char}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(key,size,align){void 0===size&&(size=this._fontSize),void 0===align&&(align=this._align);var entry=this.scene.sys.cache.bitmapFont.get(key);return entry&&(this.font=key,this.fontData=entry.data,this._fontSize=size,this._align=align,this.fromAtlas=!0===entry.fromAtlas,this.setTexture(entry.texture,entry.frame),GetBitmapTextSize(this,!1,!0,this._bounds)),this},setMaxWidth:function(value,wordWrapCharCode){return this._maxWidth=value,this._dirty=!0,void 0!==wordWrapCharCode&&(this.wordWrapCharCode=wordWrapCharCode),this},align:{set:function(value){this._align=value,this._dirty=!0},get:function(){return this._align}},text:{set:function(value){this.setText(value)},get:function(){return this._text}},fontSize:{set:function(value){this._fontSize=value,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(value){this._letterSpacing=value,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(value){this._lineSpacing=value,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(value){this._maxWidth=value,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var out=Components.ToJSON(this),data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return out.data=data,out},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});BitmapText.ALIGN_LEFT=0,BitmapText.ALIGN_CENTER=1,BitmapText.ALIGN_RIGHT=2,BitmapText.ParseFromAtlas=ParseFromAtlas,BitmapText.ParseXMLBitmapFont=ParseXMLBitmapFont,module2.exports=BitmapText},37289:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){var text=src2._text,textLength=text.length,ctx=renderer.currentContext;if(0!==textLength&&SetTransform(renderer,ctx,src2,camera,parentMatrix)){camera.addToRenderList(src2);var textureFrame=src2.fromAtlas?src2.frame:src2.texture.frames.__BASE,chars=src2.fontData.chars,lineHeight=src2.fontData.lineHeight,letterSpacing=src2._letterSpacing,lineSpacing=src2._lineSpacing,xAdvance=0,yAdvance=0,charCode=0,glyph=null,glyphX=0,glyphY=0,glyphW=0,glyphH=0,x=0,y=0,lastGlyph=null,lastCharCode=0,image=textureFrame.source.image,textureX=textureFrame.cutX,textureY=textureFrame.cutY,scale=src2._fontSize/src2.fontData.size,align=src2._align,currentLine=0,lineOffsetX=0,bounds=src2.getTextBounds(!1);src2.maxWidth>0&&(textLength=(text=bounds.wrappedText).length);var lineData=src2._bounds.lines;1===align?lineOffsetX=(lineData.longest-lineData.lengths[0])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[0]),ctx.translate(-src2.displayOriginX,-src2.displayOriginY);for(var roundPixels=camera.roundPixels,i=0;i<textLength;i++)if(10!==(charCode=text.charCodeAt(i))){if(glyph=chars[charCode]){if(glyphX=textureX+glyph.x,glyphY=textureY+glyph.y,glyphW=glyph.width,glyphH=glyph.height,x=glyph.xOffset+xAdvance,y=glyph.yOffset+yAdvance,null!==lastGlyph){var kerningOffset=glyph.kerning[lastCharCode];x+=void 0!==kerningOffset?kerningOffset:0}x*=scale,y*=scale,x+=lineOffsetX,xAdvance+=glyph.xAdvance+letterSpacing+(void 0!==kerningOffset?kerningOffset:0),lastGlyph=glyph,lastCharCode=charCode,0!==glyphW&&0!==glyphH&&32!==charCode&&(roundPixels&&(x=Math.round(x),y=Math.round(y)),ctx.save(),ctx.translate(x,y),ctx.scale(scale,scale),ctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH),ctx.restore())}}else currentLine++,1===align?lineOffsetX=(lineData.longest-lineData.lengths[currentLine])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[currentLine]),xAdvance=0,yAdvance+=lineHeight+lineSpacing,lastGlyph=null;ctx.restore()}}},57336:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BitmapText=__webpack_require__2(22186),BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154);GameObjectCreator.register("bitmapText",(function(config2,addToScene){void 0===config2&&(config2={});var font=GetValue(config2,"font",""),text=GetAdvancedValue(config2,"text",""),size=GetAdvancedValue(config2,"size",!1),align=GetValue(config2,"align",0),bitmapText=new BitmapText(this.scene,0,0,font,text,size,align);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,bitmapText,config2),bitmapText}))},34914:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BitmapText=__webpack_require__2(22186);__webpack_require__2(39429).register("bitmapText",(function(x,y,font,text,size,align){return this.displayList.add(new BitmapText(this.scene,x,y,font,text,size,align))}))},18658:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(33590),renderCanvas=__webpack_require__2(37289),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},33590:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BatchChar=__webpack_require__2(3217),GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){if(0!==src2._text.length){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2),calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc;renderer.pipelines.preBatch(src2);var i,char,glyph,roundPixels=camera.roundPixels,cameraAlpha=camera.alpha,charColors=src2.charColors,tintEffect=src2.tintFill,getTint=Utils.getTintAppendFloatAlpha,tintTL=getTint(src2.tintTopLeft,cameraAlpha*src2._alphaTL),tintTR=getTint(src2.tintTopRight,cameraAlpha*src2._alphaTR),tintBL=getTint(src2.tintBottomLeft,cameraAlpha*src2._alphaBL),tintBR=getTint(src2.tintBottomRight,cameraAlpha*src2._alphaBR),texture=src2.frame.glTexture,textureUnit=pipeline.setGameObject(src2),characters=src2.getTextBounds(!1).characters,dropShadowX=src2.dropShadowX,dropShadowY=src2.dropShadowY;if(0!==dropShadowX||0!==dropShadowY){var srcShadowColor=src2.dropShadowColor,srcShadowAlpha=src2.dropShadowAlpha,shadowTL=getTint(srcShadowColor,cameraAlpha*srcShadowAlpha*src2._alphaTL),shadowTR=getTint(srcShadowColor,cameraAlpha*srcShadowAlpha*src2._alphaTR),shadowBL=getTint(srcShadowColor,cameraAlpha*srcShadowAlpha*src2._alphaBL),shadowBR=getTint(srcShadowColor,cameraAlpha*srcShadowAlpha*src2._alphaBR);for(i=0;i<characters.length;i++)glyph=(char=characters[i]).glyph,32!==char.code&&0!==glyph.width&&0!==glyph.height&&BatchChar(pipeline,src2,char,glyph,dropShadowX,dropShadowY,calcMatrix,roundPixels,shadowTL,shadowTR,shadowBL,shadowBR,1,texture,textureUnit)}for(i=0;i<characters.length;i++)if(glyph=(char=characters[i]).glyph,32!==char.code&&0!==glyph.width&&0!==glyph.height)if(pipeline.shouldFlush(6)&&(pipeline.flush(),textureUnit=pipeline.setGameObject(src2)),charColors[char.i]){var color=charColors[char.i],charTintEffect=color.tintEffect,charTintTL=getTint(color.tintTL,cameraAlpha*src2._alphaTL),charTintTR=getTint(color.tintTR,cameraAlpha*src2._alphaTR),charTintBL=getTint(color.tintBL,cameraAlpha*src2._alphaBL),charTintBR=getTint(color.tintBR,cameraAlpha*src2._alphaBR);BatchChar(pipeline,src2,char,glyph,0,0,calcMatrix,roundPixels,charTintTL,charTintTR,charTintBL,charTintBR,charTintEffect,texture,textureUnit)}else BatchChar(pipeline,src2,char,glyph,0,0,calcMatrix,roundPixels,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit);renderer.pipelines.postBatch(src2)}}},6107:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlitterRender=__webpack_require__2(48011),Bob=__webpack_require__2(46590),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),Frame=__webpack_require__2(4327),GameObject=__webpack_require__2(95643),List=__webpack_require__2(73162),Blitter=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Size,Components.Texture,Components.Transform,Components.Visible,BlitterRender],initialize:function Blitter2(scene,x,y,texture,frame){GameObject.call(this,scene,"Blitter"),this.setTexture(texture,frame),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(),this.children=new List,this.renderList=[],this.dirty=!1},create:function(x,y,frame,visible,index){void 0===visible&&(visible=!0),void 0===index&&(index=this.children.length),void 0===frame?frame=this.frame:frame instanceof Frame||(frame=this.texture.get(frame));var bob=new Bob(this,x,y,frame,visible);return this.children.addAt(bob,index,!1),this.dirty=!0,bob},createFromCallback:function(callback,quantity,frame,visible){for(var bobs=this.createMultiple(quantity,frame,visible),i=0;i<bobs.length;i++){var bob=bobs[i];callback.call(this,bob,i)}return bobs},createMultiple:function(quantity,frame,visible){void 0===frame&&(frame=this.frame.name),void 0===visible&&(visible=!0),Array.isArray(frame)||(frame=[frame]);var bobs=[],_this=this;return frame.forEach((function(singleFrame){for(var i=0;i<quantity;i++)bobs.push(_this.create(0,0,singleFrame,visible))})),bobs},childCanRender:function(child){return child.visible&&child.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});module2.exports=Blitter},72396:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){var list=src2.getRenderList();if(0!==list.length){var ctx=renderer.currentContext,alpha=camera.alpha*src2.alpha;if(0!==alpha){camera.addToRenderList(src2),ctx.globalCompositeOperation=renderer.blendModes[src2.blendMode],ctx.imageSmoothingEnabled=!src2.frame.source.scaleMode;var cameraScrollX=src2.x-camera.scrollX*src2.scrollFactorX,cameraScrollY=src2.y-camera.scrollY*src2.scrollFactorY;ctx.save(),parentMatrix&&parentMatrix.copyToContext(ctx);for(var roundPixels=camera.roundPixels,i=0;i<list.length;i++){var bob=list[i],flip=bob.flipX||bob.flipY,frame=bob.frame,cd=frame.canvasData,dx=frame.x,dy=frame.y,fx=1,fy=1,bobAlpha=bob.alpha*alpha;0!==bobAlpha&&(ctx.globalAlpha=bobAlpha,flip?(bob.flipX&&(fx=-1,dx-=cd.width),bob.flipY&&(fy=-1,dy-=cd.height),cd.width>0&&cd.height>0&&(ctx.save(),ctx.translate(bob.x+cameraScrollX,bob.y+cameraScrollY),ctx.scale(fx,fy),ctx.drawImage(frame.source.image,cd.x,cd.y,cd.width,cd.height,dx,dy,cd.width,cd.height),ctx.restore())):(roundPixels&&(dx=Math.round(dx),dy=Math.round(dy)),cd.width>0&&cd.height>0&&ctx.drawImage(frame.source.image,cd.x,cd.y,cd.width,cd.height,dx+bob.x+cameraScrollX,dy+bob.y+cameraScrollY,cd.width,cd.height)))}ctx.restore()}}}},9403:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Blitter=__webpack_require__2(6107),BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568);GameObjectCreator.register("blitter",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),blitter=new Blitter(this.scene,0,0,key,frame);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,blitter,config2),blitter}))},12709:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Blitter=__webpack_require__2(6107);__webpack_require__2(39429).register("blitter",(function(x,y,texture,frame){return this.displayList.add(new Blitter(this.scene,x,y,texture,frame))}))},48011:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(99485),renderCanvas=__webpack_require__2(72396),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},99485:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TransformMatrix=__webpack_require__2(61340),Utils=__webpack_require__2(70554),tempMatrix=new TransformMatrix;module2.exports=function(renderer,src2,camera,parentMatrix){var list=src2.getRenderList(),alpha=camera.alpha*src2.alpha;if(0!==list.length&&0!==alpha){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(this.pipeline,src2),cameraScrollX=camera.scrollX*src2.scrollFactorX,cameraScrollY=camera.scrollY*src2.scrollFactorY,calcMatrix=tempMatrix.copyFrom(camera.matrix);parentMatrix&&(calcMatrix.multiplyWithOffset(parentMatrix,-cameraScrollX,-cameraScrollY),cameraScrollX=0,cameraScrollY=0);var blitterX=src2.x-cameraScrollX,blitterY=src2.y-cameraScrollY,prevTextureSourceIndex=-1,roundPixels=camera.roundPixels;renderer.pipelines.preBatch(src2);for(var i=0;i<list.length;i++){var bob=list[i],frame=bob.frame,bobAlpha=bob.alpha*alpha;if(0!==bobAlpha){var width=frame.width,height=frame.height,x=blitterX+bob.x+frame.x,y=blitterY+bob.y+frame.y;bob.flipX&&(width*=-1,x+=frame.width),bob.flipY&&(height*=-1,y+=frame.height);var quad=calcMatrix.setQuad(x,y,x+width,y+height,roundPixels),tint=Utils.getTintAppendFloatAlpha(bob.tint,bobAlpha);if(frame.sourceIndex!==prevTextureSourceIndex){var textureUnit=pipeline.setGameObject(src2,frame);prevTextureSourceIndex=frame.sourceIndex}pipeline.batchQuad(src2,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],frame.u0,frame.v0,frame.u1,frame.v1,tint,tint,tint,tint,!1,frame.glTexture,textureUnit)&&(prevTextureSourceIndex=-1)}}renderer.pipelines.postBatch(src2)}}},46590:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Frame=__webpack_require__2(4327),Bob=new Class({initialize:function Bob2(blitter,x,y,frame,visible){this.parent=blitter,this.x=x,this.y=y,this.frame=frame,this.data={},this.tint=16777215,this._visible=visible,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(frame){return void 0===frame?this.frame=this.parent.frame:frame instanceof Frame&&frame.texture===this.parent.texture?this.frame=frame:this.frame=this.parent.texture.get(frame),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(x,y,frame){return this.x=x,this.y=y,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,frame&&this.setFrame(frame),this},setPosition:function(x,y){return this.x=x,this.y=y,this},setFlipX:function(value){return this.flipX=value,this},setFlipY:function(value){return this.flipY=value,this},setFlip:function(x,y){return this.flipX=x,this.flipY=y,this},setVisible:function(value){return this.visible=value,this},setAlpha:function(value){return this.alpha=value,this},setTint:function(value){return this.tint=value,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(value){this.parent.dirty|=this._visible!==value,this._visible=value}},alpha:{get:function(){return this._alpha},set:function(value){this.parent.dirty|=this._alpha>0!=value>0,this._alpha=value}}});module2.exports=Bob},16005:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Alpha={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(topLeft,topRight,bottomLeft,bottomRight){return void 0===topLeft&&(topLeft=1),void 0===topRight?this.alpha=topLeft:(this._alphaTL=Clamp(topLeft,0,1),this._alphaTR=Clamp(topRight,0,1),this._alphaBL=Clamp(bottomLeft,0,1),this._alphaBR=Clamp(bottomRight,0,1)),this},alpha:{get:function(){return this._alpha},set:function(value){var v=Clamp(value,0,1);this._alpha=v,this._alphaTL=v,this._alphaTR=v,this._alphaBL=v,this._alphaBR=v,0===v?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(value){var v=Clamp(value,0,1);this._alphaTL=v,0!==v&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(value){var v=Clamp(value,0,1);this._alphaTR=v,0!==v&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(value){var v=Clamp(value,0,1);this._alphaBL=v,0!==v&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(value){var v=Clamp(value,0,1);this._alphaBR=v,0!==v&&(this.renderFlags|=2)}}};module2.exports=Alpha},88509:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),AlphaSingle={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(value){return void 0===value&&(value=1),this.alpha=value,this},alpha:{get:function(){return this._alpha},set:function(value){var v=Clamp(value,0,1);this._alpha=v,0===v?this.renderFlags&=-3:this.renderFlags|=2}}};module2.exports=AlphaSingle},90065:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),BlendMode={_blendMode:BlendModes.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(value){"string"==typeof value&&(value=BlendModes[value]),(value|=0)>=-1&&(this._blendMode=value)}},setBlendMode:function(value){return this.blendMode=value,this}};module2.exports=BlendMode},94215:module2=>{module2.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}},setSize:function(width,height){return this.width=width,this.height=height,this},setDisplaySize:function(width,height){return this.displayWidth=width,this.displayHeight=height,this}}},61683:module2=>{module2.exports={texture:null,frame:null,isCropped:!1,setCrop:function(x,y,width,height){if(void 0===x)this.isCropped=!1;else if(this.frame){if("number"==typeof x)this.frame.setCropUVs(this._crop,x,y,width,height,this.flipX,this.flipY);else{var rect=x;this.frame.setCropUVs(this._crop,rect.x,rect.y,rect.width,rect.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayUtils=__webpack_require__2(37105),Depth={_depth:0,depth:{get:function(){return this._depth},set:function(value){this.displayList&&this.displayList.queueDepthSort(),this._depth=value}},setDepth:function(value){return void 0===value&&(value=0),this.depth=value,this},setToTop:function(){var list=this.getDisplayList();return list&&ArrayUtils.BringToTop(list,this),this},setToBack:function(){var list=this.getDisplayList();return list&&ArrayUtils.SendToBack(list,this),this},setAbove:function(gameObject){var list=this.getDisplayList();return list&&gameObject&&ArrayUtils.MoveAbove(list,this,gameObject),this},setBelow:function(gameObject){var list=this.getDisplayList();return list&&gameObject&&ArrayUtils.MoveBelow(list,this,gameObject),this}};module2.exports=Depth},47059:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Effects=__webpack_require__2(66064),SpliceOne=__webpack_require__2(19133),FX=new Class({initialize:function FX2(gameObject,isPost){this.gameObject=gameObject,this.isPost=isPost,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(padding){return void 0===padding&&(padding=0),this.padding=padding,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(padding){if(!this.isPost){var renderer=this.gameObject.scene.sys.renderer;renderer&&renderer.pipelines?(this.gameObject.pipeline=renderer.pipelines.FX_PIPELINE,void 0!==padding&&(this.padding=padding),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var list=this.list,i=0;i<list.length;i++)list[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(fx){var i;if(this.isPost){var pipelines=this.gameObject.getPostPipeline(String(fx.type));for(Array.isArray(pipelines)||(pipelines=[pipelines]),i=0;i<pipelines.length;i++){var pipeline=pipelines[i];if(pipeline.controller===fx){this.gameObject.removePostPipeline(pipeline),fx.destroy();break}}}else{var list=this.list;for(i=0;i<list.length;i++)list[i]===fx&&(SpliceOne(list,i),fx.destroy())}return this.gameObject},disable:function(clear){return void 0===clear&&(clear=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,clear&&this.clear(),this.gameObject},add:function(fx,config2){if(!this.isPost)return this.enabled||this.enable(),this.list.push(fx),fx;var type=String(fx.type);this.gameObject.setPostPipeline(type,config2);var pipeline=this.gameObject.getPostPipeline(type);return pipeline?(Array.isArray(pipeline)&&(pipeline=pipeline.pop()),pipeline&&(pipeline.controller=fx),fx):void 0},addGlow:function(color,outerStrength,innerStrength,knockout,quality,distance){return this.add(new Effects.Glow(this.gameObject,color,outerStrength,innerStrength,knockout),{quality:quality,distance:distance})},addShadow:function(x,y,decay,power,color,samples,intensity){return this.add(new Effects.Shadow(this.gameObject,x,y,decay,power,color,samples,intensity))},addPixelate:function(amount){return this.add(new Effects.Pixelate(this.gameObject,amount))},addVignette:function(x,y,radius,strength){return this.add(new Effects.Vignette(this.gameObject,x,y,radius,strength))},addShine:function(speed,lineWidth,gradient,reveal){return this.add(new Effects.Shine(this.gameObject,speed,lineWidth,gradient,reveal))},addBlur:function(quality,x,y,strength,color,steps){return this.add(new Effects.Blur(this.gameObject,quality,x,y,strength,color,steps))},addGradient:function(color1,color2,alpha,fromX,fromY,toX,toY,size){return this.add(new Effects.Gradient(this.gameObject,color1,color2,alpha,fromX,fromY,toX,toY,size))},addBloom:function(color,offsetX,offsetY,blurStrength,strength,steps){return this.add(new Effects.Bloom(this.gameObject,color,offsetX,offsetY,blurStrength,strength,steps))},addColorMatrix:function(){return this.add(new Effects.ColorMatrix(this.gameObject))},addCircle:function(thickness,color,backgroundColor,scale,feather){return this.add(new Effects.Circle(this.gameObject,thickness,color,backgroundColor,scale,feather))},addBarrel:function(amount){return this.add(new Effects.Barrel(this.gameObject,amount))},addDisplacement:function(texture,x,y){return this.add(new Effects.Displacement(this.gameObject,texture,x,y))},addWipe:function(wipeWidth,direction,axis){return this.add(new Effects.Wipe(this.gameObject,wipeWidth,direction,axis))},addReveal:function(wipeWidth,direction,axis){return this.add(new Effects.Wipe(this.gameObject,wipeWidth,direction,axis,!0))},addBokeh:function(radius,amount,contrast){return this.add(new Effects.Bokeh(this.gameObject,radius,amount,contrast))},addTiltShift:function(radius,amount,contrast,blurX,blurY,strength){return this.add(new Effects.Bokeh(this.gameObject,radius,amount,contrast,!0,blurX,blurY,strength))},destroy:function(){this.clear(),this.gameObject=null}});module2.exports=FX},54434:module2=>{module2.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(value){return this.flipX=value,this},setFlipY:function(value){return this.flipY=value,this},setFlip:function(x,y){return this.flipX=x,this.flipY=y,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841),RotateAround=__webpack_require__2(11520),Vector2=__webpack_require__2(26099),GetBounds={prepareBoundsOutput:function(output,includeParent){return void 0===includeParent&&(includeParent=!1),0!==this.rotation&&RotateAround(output,this.x,this.y,this.rotation),includeParent&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(output.x,output.y,output),output},getCenter:function(output,includeParent){return void 0===output&&(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,output.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(output,includeParent)},getTopLeft:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX,output.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(output,includeParent)},getTopCenter:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,output.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(output,includeParent)},getTopRight:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth,output.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(output,includeParent)},getLeftCenter:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX,output.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(output,includeParent)},getRightCenter:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth,output.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(output,includeParent)},getBottomLeft:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX,output.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(output,includeParent)},getBottomCenter:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,output.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(output,includeParent)},getBottomRight:function(output,includeParent){return output||(output=new Vector2),output.x=this.x-this.displayWidth*this.originX+this.displayWidth,output.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(output,includeParent)},getBounds:function(output){var TLx,TLy,TRx,TRy,BLx,BLy,BRx,BRy;if(void 0===output&&(output=new Rectangle),this.parentContainer){var parentMatrix=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(output),parentMatrix.transformPoint(output.x,output.y,output),TLx=output.x,TLy=output.y,this.getTopRight(output),parentMatrix.transformPoint(output.x,output.y,output),TRx=output.x,TRy=output.y,this.getBottomLeft(output),parentMatrix.transformPoint(output.x,output.y,output),BLx=output.x,BLy=output.y,this.getBottomRight(output),parentMatrix.transformPoint(output.x,output.y,output),BRx=output.x,BRy=output.y}else this.getTopLeft(output),TLx=output.x,TLy=output.y,this.getTopRight(output),TRx=output.x,TRy=output.y,this.getBottomLeft(output),BLx=output.x,BLy=output.y,this.getBottomRight(output),BRx=output.x,BRy=output.y;return output.x=Math.min(TLx,TRx,BLx,BRx),output.y=Math.min(TLy,TRy,BLy,BRy),output.width=Math.max(TLx,TRx,BLx,BRx)-output.x,output.height=Math.max(TLy,TRy,BLy,BRy)-output.y,output}};module2.exports=GetBounds},8573:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BitmapMask=__webpack_require__2(6858),GeometryMask=__webpack_require__2(80661),Mask={mask:null,setMask:function(mask){return this.mask=mask,this},clearMask:function(destroyMask){return void 0===destroyMask&&(destroyMask=!1),destroyMask&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(maskObject,x,y,texture,frame){return void 0===maskObject&&(this.texture||this.shader||this.geom)&&(maskObject=this),new BitmapMask(this.scene,maskObject,x,y,texture,frame)},createGeometryMask:function(graphics){return void 0!==graphics||"Graphics"!==this.type&&!this.geom||(graphics=this),new GeometryMask(this.scene,graphics)}};module2.exports=Mask},27387:module2=>{module2.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(value){this._displayOriginX=value,this.originX=value/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(value){this._displayOriginY=value,this.originY=value/this.height}},setOrigin:function(x,y){return void 0===x&&(x=.5),void 0===y&&(y=x),this.originX=x,this.originY=y,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=x),this.displayOriginX=x,this.displayOriginY=y,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DegToRad=__webpack_require__2(39506),GetBoolean=__webpack_require__2(57355),GetValue=__webpack_require__2(35154),TWEEN_CONST=__webpack_require__2(86353),Vector2=__webpack_require__2(26099),PathFollower={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:TWEEN_CONST.PLAYING_FORWARD,setPath:function(path,config2){void 0===config2&&(config2=this.pathConfig);var tween=this.pathTween;return tween&&tween.isPlaying()&&tween.stop(),this.path=path,config2&&this.startFollow(config2),this},setRotateToPath:function(value,offset){return void 0===offset&&(offset=0),this.rotateToPath=value,this.pathRotationOffset=offset,this},isFollowing:function(){var tween=this.pathTween;return tween&&tween.isPlaying()},startFollow:function(config2,startAt){void 0===config2&&(config2={}),void 0===startAt&&(startAt=0);var tween=this.pathTween;tween&&tween.isPlaying()&&tween.stop(),"number"==typeof config2&&(config2={duration:config2}),config2.from=GetValue(config2,"from",0),config2.to=GetValue(config2,"to",1);var positionOnPath=GetBoolean(config2,"positionOnPath",!1);this.rotateToPath=GetBoolean(config2,"rotateToPath",!1),this.pathRotationOffset=GetValue(config2,"rotationOffset",0);var seek=GetValue(config2,"startAt",startAt);if(seek&&(config2.onStart=function(tween2){var tweenData=tween2.data[0];tweenData.progress=seek,tweenData.elapsed=tweenData.duration*seek;var v=tweenData.ease(tweenData.progress);tweenData.current=tweenData.start+(tweenData.end-tweenData.start)*v,tweenData.setTargetValue()}),this.pathOffset||(this.pathOffset=new Vector2(this.x,this.y)),this.pathVector||(this.pathVector=new Vector2),this.pathDelta||(this.pathDelta=new Vector2),this.pathDelta.reset(),config2.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(config2),this.path.getStartPoint(this.pathOffset),positionOnPath&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=TWEEN_CONST.PLAYING_FORWARD,this.rotateToPath){var nextPoint=this.path.getPoint(.1);this.rotation=Math.atan2(nextPoint.y-this.y,nextPoint.x-this.x)+DegToRad(this.pathRotationOffset)}return this.pathConfig=config2,this},pauseFollow:function(){var tween=this.pathTween;return tween&&tween.isPlaying()&&tween.pause(),this},resumeFollow:function(){var tween=this.pathTween;return tween&&tween.isPaused()&&tween.resume(),this},stopFollow:function(){var tween=this.pathTween;return tween&&tween.isPlaying()&&tween.stop(),this},pathUpdate:function(){var tween=this.pathTween;if(tween&&tween.data){var tweenData=tween.data[0],pathDelta=this.pathDelta,pathVector=this.pathVector;if(pathDelta.copy(pathVector).negate(),tweenData.state===TWEEN_CONST.COMPLETE)return this.path.getPoint(tweenData.end,pathVector),pathDelta.add(pathVector),pathVector.add(this.pathOffset),void this.setPosition(pathVector.x,pathVector.y);if(tweenData.state!==TWEEN_CONST.PLAYING_FORWARD&&tweenData.state!==TWEEN_CONST.PLAYING_BACKWARD)return;this.path.getPoint(tween.getValue(),pathVector),pathDelta.add(pathVector),pathVector.add(this.pathOffset);var oldX=this.x,oldY=this.y;this.setPosition(pathVector.x,pathVector.y);var speedX=this.x-oldX,speedY=this.y-oldY;if(0===speedX&&0===speedY)return;if(tweenData.state!==this._prevDirection)return void(this._prevDirection=tweenData.state);this.rotateToPath&&(this.rotation=Math.atan2(speedY,speedX)+DegToRad(this.pathRotationOffset))}}};module2.exports=PathFollower},72699:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeepCopy=__webpack_require__2(62644),Pipeline={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(pipeline){this.pipelineData={};var renderer=this.scene.sys.renderer;if(!renderer)return!1;var pipelines=renderer.pipelines;if(pipelines){void 0===pipeline&&(pipeline=pipelines.default);var instance=pipelines.get(pipeline);if(instance)return this.defaultPipeline=instance,this.pipeline=instance,!0}return!1},setPipeline:function(pipeline,pipelineData,copyData){var renderer=this.scene.sys.renderer;if(!renderer)return this;var pipelines=renderer.pipelines;if(pipelines){var instance=pipelines.get(pipeline);instance&&(this.pipeline=instance),pipelineData&&(this.pipelineData=copyData?DeepCopy(pipelineData):pipelineData)}return this},setPipelineData:function(key,value){var data=this.pipelineData;return void 0===value?delete data[key]:data[key]=value,this},resetPipeline:function(resetData){return void 0===resetData&&(resetData=!1),this.pipeline=this.defaultPipeline,resetData&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}};module2.exports=Pipeline},17581:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeepCopy=__webpack_require__2(62644),FX=__webpack_require__2(47059),SpliceOne=__webpack_require__2(19133),PostPipeline={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(preFX){this.postPipelines=[],this.postPipelineData={},this.postFX=new FX(this,!0),preFX&&(this.preFX=new FX(this,!1))},setPostPipeline:function(pipelines,pipelineData,copyData){var renderer=this.scene.sys.renderer;if(!renderer)return this;var pipelineManager=renderer.pipelines;if(pipelineManager){Array.isArray(pipelines)||(pipelines=[pipelines]);for(var i=0;i<pipelines.length;i++){var instance=pipelineManager.getPostPipeline(pipelines[i],this,pipelineData);instance&&this.postPipelines.push(instance)}pipelineData&&(this.postPipelineData=copyData?DeepCopy(pipelineData):pipelineData)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(key,value){var data=this.postPipelineData;return void 0===value?delete data[key]:data[key]=value,this},getPostPipeline:function(pipeline){for(var isString="string"==typeof pipeline,pipelines=this.postPipelines,results=[],i=0;i<pipelines.length;i++){var instance=pipelines[i];(isString&&instance.name===pipeline||!isString&&instance instanceof pipeline)&&results.push(instance)}return 1===results.length?results[0]:results},resetPostPipeline:function(resetData){void 0===resetData&&(resetData=!1);for(var pipelines=this.postPipelines,i=0;i<pipelines.length;i++)pipelines[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,resetData&&(this.postPipelineData={})},removePostPipeline:function(pipeline){for(var isString="string"==typeof pipeline,pipelines=this.postPipelines,i=pipelines.length-1;i>=0;i--){var instance=pipelines[i];(isString&&instance.name===pipeline||!isString&&instance===pipeline)&&(instance.destroy(),SpliceOne(pipelines,i))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};module2.exports=PostPipeline},80227:module2=>{module2.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(x,y){return void 0===y&&(y=x),this.scrollFactorX=x,this.scrollFactorY=y,this}}},16736:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Size={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(value){this.scaleX=value/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(value){this.scaleY=value/this.frame.realHeight}},setSizeToFrame:function(frame){frame||(frame=this.frame),this.width=frame.realWidth,this.height=frame.realHeight;var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=this.width,input.hitArea.height=this.height),this},setSize:function(width,height){return this.width=width,this.height=height,this},setDisplaySize:function(width,height){return this.displayWidth=width,this.displayHeight=height,this}};module2.exports=Size},37726:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Frame=__webpack_require__2(4327),Texture={texture:null,frame:null,isCropped:!1,setTexture:function(key,frame,updateSize,updateOrigin){return this.texture=this.scene.sys.textures.get(key),this.setFrame(frame,updateSize,updateOrigin)},setFrame:function(frame,updateSize,updateOrigin){return void 0===updateSize&&(updateSize=!0),void 0===updateOrigin&&(updateOrigin=!0),frame instanceof Frame?(this.texture=this.scene.sys.textures.get(frame.texture.key),this.frame=frame):this.frame=this.texture.get(frame),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&updateSize&&this.setSizeToFrame(),this._originComponent&&updateOrigin&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};module2.exports=Texture},79812:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Frame=__webpack_require__2(4327),TextureCrop={texture:null,frame:null,isCropped:!1,setCrop:function(x,y,width,height){if(void 0===x)this.isCropped=!1;else if(this.frame){if("number"==typeof x)this.frame.setCropUVs(this._crop,x,y,width,height,this.flipX,this.flipY);else{var rect=x;this.frame.setCropUVs(this._crop,rect.x,rect.y,rect.width,rect.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(key,frame){return this.texture=this.scene.sys.textures.get(key),this.setFrame(frame)},setFrame:function(frame,updateSize,updateOrigin){return void 0===updateSize&&(updateSize=!0),void 0===updateOrigin&&(updateOrigin=!0),frame instanceof Frame?(this.texture=this.scene.sys.textures.get(frame.texture.key),this.frame=frame):this.frame=this.texture.get(frame),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&updateSize&&this.setSizeToFrame(),this._originComponent&&updateOrigin&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};module2.exports=TextureCrop},27472:module2=>{module2.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(topLeft,topRight,bottomLeft,bottomRight){return void 0===topLeft&&(topLeft=16777215),void 0===topRight&&(topRight=topLeft,bottomLeft=topLeft,bottomRight=topLeft),this.tintTopLeft=topLeft,this.tintTopRight=topRight,this.tintBottomLeft=bottomLeft,this.tintBottomRight=bottomRight,this.tintFill=!1,this},setTintFill:function(topLeft,topRight,bottomLeft,bottomRight){return this.setTint(topLeft,topRight,bottomLeft,bottomRight),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(value){this.setTint(value,value,value,value)}},isTinted:{get:function(){return this.tintFill||16777215!==this.tintTopLeft||16777215!==this.tintTopRight||16777215!==this.tintBottomLeft||16777215!==this.tintBottomRight}}}},53774:module2=>{module2.exports=function(gameObject){var out={name:gameObject.name,type:gameObject.type,x:gameObject.x,y:gameObject.y,depth:gameObject.depth,scale:{x:gameObject.scaleX,y:gameObject.scaleY},origin:{x:gameObject.originX,y:gameObject.originY},flipX:gameObject.flipX,flipY:gameObject.flipY,rotation:gameObject.rotation,alpha:gameObject.alpha,visible:gameObject.visible,blendMode:gameObject.blendMode,textureKey:"",frameKey:"",data:{}};return gameObject.texture&&(out.textureKey=gameObject.texture.key,out.frameKey=gameObject.frame.name),out}},16901:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383),TransformMatrix=__webpack_require__2(61340),TransformXY=__webpack_require__2(85955),WrapAngle=__webpack_require__2(86554),WrapAngleDegrees=__webpack_require__2(30954),Vector2=__webpack_require__2(26099),Transform={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(value){this._scaleX=value,this._scaleY=value,0===value?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(value){this._scaleX=value,0===value?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(value){this._scaleY=value,0===value?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return WrapAngleDegrees(this._rotation*MATH_CONST.RAD_TO_DEG)},set:function(value){this.rotation=WrapAngleDegrees(value)*MATH_CONST.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=WrapAngle(value)}},setPosition:function(x,y,z2,w){return void 0===x&&(x=0),void 0===y&&(y=x),void 0===z2&&(z2=0),void 0===w&&(w=0),this.x=x,this.y=y,this.z=z2,this.w=w,this},copyPosition:function(source){return void 0!==source.x&&(this.x=source.x),void 0!==source.y&&(this.y=source.y),void 0!==source.z&&(this.z=source.z),void 0!==source.w&&(this.w=source.w),this},setRandomPosition:function(x,y,width,height){return void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.scene.sys.scale.width),void 0===height&&(height=this.scene.sys.scale.height),this.x=x+Math.random()*width,this.y=y+Math.random()*height,this},setRotation:function(radians){return void 0===radians&&(radians=0),this.rotation=radians,this},setAngle:function(degrees){return void 0===degrees&&(degrees=0),this.angle=degrees,this},setScale:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),this.scaleX=x,this.scaleY=y,this},setX:function(value){return void 0===value&&(value=0),this.x=value,this},setY:function(value){return void 0===value&&(value=0),this.y=value,this},setZ:function(value){return void 0===value&&(value=0),this.z=value,this},setW:function(value){return void 0===value&&(value=0),this.w=value,this},getLocalTransformMatrix:function(tempMatrix){return void 0===tempMatrix&&(tempMatrix=new TransformMatrix),tempMatrix.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(tempMatrix,parentMatrix){void 0===tempMatrix&&(tempMatrix=new TransformMatrix);var parent=this.parentContainer;if(!parent)return this.getLocalTransformMatrix(tempMatrix);for(parentMatrix||(parentMatrix=new TransformMatrix),tempMatrix.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);parent;)parentMatrix.applyITRS(parent.x,parent.y,parent._rotation,parent._scaleX,parent._scaleY),parentMatrix.multiply(tempMatrix,tempMatrix),parent=parent.parentContainer;return tempMatrix},getLocalPoint:function(x,y,point,camera){point||(point=new Vector2),camera||(camera=this.scene.sys.cameras.main);var csx=camera.scrollX,csy=camera.scrollY,px=x+csx*this.scrollFactorX-csx,py=y+csy*this.scrollFactorY-csy;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(px,py,point):TransformXY(px,py,this.x,this.y,this.rotation,this.scaleX,this.scaleY,point),this._originComponent&&(point.x+=this._displayOriginX,point.y+=this._displayOriginY),point},getParentRotation:function(){for(var rotation=0,parent=this.parentContainer;parent;)rotation+=parent.rotation,parent=parent.parentContainer;return rotation}};module2.exports=Transform},61340:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),MATH_CONST=__webpack_require__2(36383),Vector2=__webpack_require__2(26099),TransformMatrix=new Class({initialize:function TransformMatrix2(a,b,c,d,tx,ty){void 0===a&&(a=1),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=1),void 0===tx&&(tx=0),void 0===ty&&(ty=0),this.matrix=new Float32Array([a,b,c,d,tx,ty,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(value){this.matrix[0]=value}},b:{get:function(){return this.matrix[1]},set:function(value){this.matrix[1]=value}},c:{get:function(){return this.matrix[2]},set:function(value){this.matrix[2]=value}},d:{get:function(){return this.matrix[3]},set:function(value){this.matrix[3]=value}},e:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},f:{get:function(){return this.matrix[5]},set:function(value){this.matrix[5]=value}},tx:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},ty:{get:function(){return this.matrix[5]},set:function(value){this.matrix[5]=value}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3];return a||b?b>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||d?MATH_CONST.TAU-(d>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var matrix=this.matrix;return matrix[0]=1,matrix[1]=0,matrix[2]=0,matrix[3]=1,matrix[4]=0,matrix[5]=0,this},translate:function(x,y){var matrix=this.matrix;return matrix[4]=matrix[0]*x+matrix[2]*y+matrix[4],matrix[5]=matrix[1]*x+matrix[3]*y+matrix[5],this},scale:function(x,y){var matrix=this.matrix;return matrix[0]*=x,matrix[1]*=x,matrix[2]*=y,matrix[3]*=y,this},rotate:function(angle){var sin=Math.sin(angle),cos=Math.cos(angle),matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3];return matrix[0]=a*cos+c*sin,matrix[1]=b*cos+d*sin,matrix[2]=a*-sin+c*cos,matrix[3]=b*-sin+d*cos,this},multiply:function(rhs,out){var matrix=this.matrix,source=rhs.matrix,localA=matrix[0],localB=matrix[1],localC=matrix[2],localD=matrix[3],localE=matrix[4],localF=matrix[5],sourceA=source[0],sourceB=source[1],sourceC=source[2],sourceD=source[3],sourceE=source[4],sourceF=source[5],destinationMatrix=void 0===out?matrix:out.matrix;return destinationMatrix[0]=sourceA*localA+sourceB*localC,destinationMatrix[1]=sourceA*localB+sourceB*localD,destinationMatrix[2]=sourceC*localA+sourceD*localC,destinationMatrix[3]=sourceC*localB+sourceD*localD,destinationMatrix[4]=sourceE*localA+sourceF*localC+localE,destinationMatrix[5]=sourceE*localB+sourceF*localD+localF,destinationMatrix},multiplyWithOffset:function(src2,offsetX,offsetY){var matrix=this.matrix,otherMatrix=src2.matrix,a0=matrix[0],b0=matrix[1],c0=matrix[2],d0=matrix[3],pse=offsetX*a0+offsetY*c0+matrix[4],psf=offsetX*b0+offsetY*d0+matrix[5],a1=otherMatrix[0],b1=otherMatrix[1],c1=otherMatrix[2],d1=otherMatrix[3],tx1=otherMatrix[4],ty1=otherMatrix[5];return matrix[0]=a1*a0+b1*c0,matrix[1]=a1*b0+b1*d0,matrix[2]=c1*a0+d1*c0,matrix[3]=c1*b0+d1*d0,matrix[4]=tx1*a0+ty1*c0+pse,matrix[5]=tx1*b0+ty1*d0+psf,this},transform:function(a,b,c,d,tx,ty){var matrix=this.matrix,a0=matrix[0],b0=matrix[1],c0=matrix[2],d0=matrix[3],tx0=matrix[4],ty0=matrix[5];return matrix[0]=a*a0+b*c0,matrix[1]=a*b0+b*d0,matrix[2]=c*a0+d*c0,matrix[3]=c*b0+d*d0,matrix[4]=tx*a0+ty*c0+tx0,matrix[5]=tx*b0+ty*d0+ty0,this},transformPoint:function(x,y,point){void 0===point&&(point={x:0,y:0});var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5];return point.x=x*a+y*c+tx,point.y=x*b+y*d+ty,point},invert:function(){var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],n=a*d-b*c;return matrix[0]=d/n,matrix[1]=-b/n,matrix[2]=-c/n,matrix[3]=a/n,matrix[4]=(c*ty-d*tx)/n,matrix[5]=-(a*ty-b*tx)/n,this},copyFrom:function(src2){var matrix=this.matrix;return matrix[0]=src2.a,matrix[1]=src2.b,matrix[2]=src2.c,matrix[3]=src2.d,matrix[4]=src2.e,matrix[5]=src2.f,this},copyFromArray:function(src2){var matrix=this.matrix;return matrix[0]=src2[0],matrix[1]=src2[1],matrix[2]=src2[2],matrix[3]=src2[3],matrix[4]=src2[4],matrix[5]=src2[5],this},copyToContext:function(ctx){var matrix=this.matrix;return ctx.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),ctx},setToContext:function(ctx){return ctx.setTransform(this),ctx},copyToArray:function(out){var matrix=this.matrix;return void 0===out?out=[matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]]:(out[0]=matrix[0],out[1]=matrix[1],out[2]=matrix[2],out[3]=matrix[3],out[4]=matrix[4],out[5]=matrix[5]),out},setTransform:function(a,b,c,d,tx,ty){var matrix=this.matrix;return matrix[0]=a,matrix[1]=b,matrix[2]=c,matrix[3]=d,matrix[4]=tx,matrix[5]=ty,this},decomposeMatrix:function(){var decomposedMatrix=this.decomposedMatrix,matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],determ=a*d-b*c;if(decomposedMatrix.translateX=matrix[4],decomposedMatrix.translateY=matrix[5],a||b){var r=Math.sqrt(a*a+b*b);decomposedMatrix.rotation=b>0?Math.acos(a/r):-Math.acos(a/r),decomposedMatrix.scaleX=r,decomposedMatrix.scaleY=determ/r}else if(c||d){var s=Math.sqrt(c*c+d*d);decomposedMatrix.rotation=.5*Math.PI-(d>0?Math.acos(-c/s):-Math.acos(c/s)),decomposedMatrix.scaleX=determ/s,decomposedMatrix.scaleY=s}else decomposedMatrix.rotation=0,decomposedMatrix.scaleX=0,decomposedMatrix.scaleY=0;return decomposedMatrix},applyITRS:function(x,y,rotation,scaleX,scaleY){var matrix=this.matrix,radianSin=Math.sin(rotation),radianCos=Math.cos(rotation);return matrix[4]=x,matrix[5]=y,matrix[0]=radianCos*scaleX,matrix[1]=radianSin*scaleX,matrix[2]=-radianSin*scaleY,matrix[3]=radianCos*scaleY,this},applyInverse:function(x,y,output){void 0===output&&(output=new Vector2);var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],id=1/(a*d+c*-b);return output.x=d*id*x+-c*id*y+(ty*c-tx*d)*id,output.y=a*id*y+-b*id*x+(-ty*a+tx*b)*id,output},setQuad:function(x,y,xw,yh,roundPixels,quad){void 0===roundPixels&&(roundPixels=!1),void 0===quad&&(quad=this.quad);var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],e=matrix[4],f=matrix[5],x0=x*a+y*c+e,y0=x*b+y*d+f,x1=x*a+yh*c+e,y1=x*b+yh*d+f,x2=xw*a+yh*c+e,y2=xw*b+yh*d+f,x3=xw*a+y*c+e,y3=xw*b+y*d+f;if(roundPixels){var rx0=Math.floor(x0+.5),ry0=Math.floor(y0+.5),dx=rx0-x0,dy=ry0-y0;quad[0]=rx0,quad[1]=ry0,quad[2]=x1+dx,quad[3]=y1+dy,quad[4]=x2+dx,quad[5]=y2+dy,quad[6]=x3+dx,quad[7]=y3+dy}else quad[0]=x0,quad[1]=y0,quad[2]=x1,quad[3]=y1,quad[4]=x2,quad[5]=y2,quad[6]=x3,quad[7]=y3;return quad},getX:function(x,y){return x*this.a+y*this.c+this.e},getY:function(x,y){return x*this.b+y*this.d+this.f},getXRound:function(x,y,round2){var v=this.getX(x,y);return round2&&(v=Math.floor(v+.5)),v},getYRound:function(x,y,round2){var v=this.getY(x,y);return round2&&(v=Math.floor(v+.5)),v},getCSSMatrix:function(){var m=this.matrix;return"matrix("+m[0]+","+m[1]+","+m[2]+","+m[3]+","+m[4]+","+m[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});module2.exports=TransformMatrix},59715:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Visible={_visible:!0,visible:{get:function(){return this._visible},set:function(value){value?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(value){return this.visible=value,this}};module2.exports=Visible},31401:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Alpha:__webpack_require__2(16005),AlphaSingle:__webpack_require__2(88509),BlendMode:__webpack_require__2(90065),ComputedSize:__webpack_require__2(94215),Crop:__webpack_require__2(61683),Depth:__webpack_require__2(89272),Flip:__webpack_require__2(54434),FX:__webpack_require__2(47059),GetBounds:__webpack_require__2(8004),Mask:__webpack_require__2(8573),Origin:__webpack_require__2(27387),PathFollower:__webpack_require__2(37640),Pipeline:__webpack_require__2(72699),PostPipeline:__webpack_require__2(17581),ScrollFactor:__webpack_require__2(80227),Size:__webpack_require__2(16736),Texture:__webpack_require__2(37726),TextureCrop:__webpack_require__2(79812),Tint:__webpack_require__2(27472),ToJSON:__webpack_require__2(53774),Transform:__webpack_require__2(16901),TransformMatrix:__webpack_require__2(61340),Visible:__webpack_require__2(59715)}},31559:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayUtils=__webpack_require__2(37105),BlendModes=__webpack_require__2(10312),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),Events2=__webpack_require__2(51708),GameObject=__webpack_require__2(95643),Rectangle=__webpack_require__2(87841),Render=__webpack_require__2(29959),Union=__webpack_require__2(36899),Vector2=__webpack_require__2(26099),tempTransformMatrix=new Components.TransformMatrix,Container=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Mask,Components.PostPipeline,Components.Transform,Components.Visible,Render],initialize:function Container2(scene,x,y,children){GameObject.call(this,scene,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new Components.TransformMatrix,this._sortKey="",this._sysEvents=scene.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(x,y),this.setBlendMode(BlendModes.SKIP_CHECK),children&&this.add(children)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(value){return void 0===value&&(value=!0),this.exclusive=value,this},getBounds:function(output){if(void 0===output&&(output=new Rectangle),output.setTo(this.x,this.y,0,0),this.parentContainer){var transformedPosition=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);output.setTo(transformedPosition.x,transformedPosition.y,0,0)}if(this.list.length>0){var children=this.list,tempRect=new Rectangle,hasSetFirst=!1;output.setEmpty();for(var i=0;i<children.length;i++){var entry=children[i];entry.getBounds&&(entry.getBounds(tempRect),hasSetFirst?Union(tempRect,output,output):(output.setTo(tempRect.x,tempRect.y,tempRect.width,tempRect.height),hasSetFirst=!0))}}return output},addHandler:function(gameObject){gameObject.once(Events2.DESTROY,this.onChildDestroyed,this),this.exclusive&&(gameObject.parentContainer&&gameObject.parentContainer.remove(gameObject),gameObject.parentContainer=this,gameObject.removeFromDisplayList(),gameObject.addedToScene())},removeHandler:function(gameObject){gameObject.off(Events2.DESTROY,this.remove,this),this.exclusive&&(gameObject.parentContainer=null,gameObject.removedFromScene(),gameObject.addToDisplayList())},pointToContainer:function(source,output){void 0===output&&(output=new Vector2),this.parentContainer?this.parentContainer.pointToContainer(source,output):(output.x=source.x,output.y=source.y);var tempMatrix=tempTransformMatrix;return tempMatrix.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),tempMatrix.invert(),tempMatrix.transformPoint(source.x,source.y,output),output},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(tempTransformMatrix,this.localTransform)},add:function(child){return ArrayUtils.Add(this.list,child,this.maxSize,this.addHandler,this),this},addAt:function(child,index){return ArrayUtils.AddAt(this.list,child,index,this.maxSize,this.addHandler,this),this},getAt:function(index){return this.list[index]},getIndex:function(child){return this.list.indexOf(child)},sort:function(property,handler){return property?(void 0===handler&&(handler=function(childA,childB){return childA[property]-childB[property]}),ArrayUtils.StableSort(this.list,handler),this):this},getByName:function(name){return ArrayUtils.GetFirst(this.list,"name",name)},getRandom:function(startIndex,length){return ArrayUtils.GetRandom(this.list,startIndex,length)},getFirst:function(property,value,startIndex,endIndex){return ArrayUtils.GetFirst(this.list,property,value,startIndex,endIndex)},getAll:function(property,value,startIndex,endIndex){return ArrayUtils.GetAll(this.list,property,value,startIndex,endIndex)},count:function(property,value,startIndex,endIndex){return ArrayUtils.CountAllMatching(this.list,property,value,startIndex,endIndex)},swap:function(child1,child2){return ArrayUtils.Swap(this.list,child1,child2),this},moveTo:function(child,index){return ArrayUtils.MoveTo(this.list,child,index),this},moveAbove:function(child1,child2){return ArrayUtils.MoveAbove(this.list,child1,child2),this},moveBelow:function(child1,child2){return ArrayUtils.MoveBelow(this.list,child1,child2),this},remove:function(child,destroyChild){var removed=ArrayUtils.Remove(this.list,child,this.removeHandler,this);if(destroyChild&&removed){Array.isArray(removed)||(removed=[removed]);for(var i=0;i<removed.length;i++)removed[i].destroy()}return this},removeAt:function(index,destroyChild){var removed=ArrayUtils.RemoveAt(this.list,index,this.removeHandler,this);return destroyChild&&removed&&removed.destroy(),this},removeBetween:function(startIndex,endIndex,destroyChild){var removed=ArrayUtils.RemoveBetween(this.list,startIndex,endIndex,this.removeHandler,this);if(destroyChild)for(var i=0;i<removed.length;i++)removed[i].destroy();return this},removeAll:function(destroyChild){var list=this.list;if(destroyChild){for(var i=0;i<list.length;i++)list[i]&&list[i].scene&&(list[i].off(Events2.DESTROY,this.onChildDestroyed,this),list[i].destroy());this.list=[]}else ArrayUtils.RemoveBetween(list,0,list.length,this.removeHandler,this);return this},bringToTop:function(child){return ArrayUtils.BringToTop(this.list,child),this},sendToBack:function(child){return ArrayUtils.SendToBack(this.list,child),this},moveUp:function(child){return ArrayUtils.MoveUp(this.list,child),this},moveDown:function(child){return ArrayUtils.MoveDown(this.list,child),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return ArrayUtils.Shuffle(this.list),this},replace:function(oldChild,newChild,destroyChild){return ArrayUtils.Replace(this.list,oldChild,newChild)&&(this.addHandler(newChild),this.removeHandler(oldChild),destroyChild&&oldChild.destroy()),this},exists:function(child){return this.list.indexOf(child)>-1},setAll:function(property,value,startIndex,endIndex){return ArrayUtils.SetAll(this.list,property,value,startIndex,endIndex),this},each:function(callback,context){var i,args=[null],temp=this.list.slice(),len=temp.length;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<len;i++)args[0]=temp[i],callback.apply(context,args);return this},iterate:function(callback,context){var i,args=[null];for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<this.list.length;i++)args[0]=this.list[i],callback.apply(context,args);return this},setScrollFactor:function(x,y,updateChildren){return void 0===y&&(y=x),void 0===updateChildren&&(updateChildren=!1),this.scrollFactorX=x,this.scrollFactorY=y,updateChildren&&(ArrayUtils.SetAll(this.list,"scrollFactorX",x),ArrayUtils.SetAll(this.list,"scrollFactorY",y)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(gameObject){ArrayUtils.Remove(this.list,gameObject),this.exclusive&&(gameObject.parentContainer=null,gameObject.removedFromScene())}});module2.exports=Container},53584:module2=>{module2.exports=function(renderer,container,camera,parentMatrix){camera.addToRenderList(container);var children=container.list;if(0!==children.length){var transformMatrix=container.localTransform;parentMatrix?(transformMatrix.loadIdentity(),transformMatrix.multiply(parentMatrix),transformMatrix.translate(container.x,container.y),transformMatrix.rotate(container.rotation),transformMatrix.scale(container.scaleX,container.scaleY)):transformMatrix.applyITRS(container.x,container.y,container.rotation,container.scaleX,container.scaleY);var containerHasBlendMode=-1!==container.blendMode;containerHasBlendMode||renderer.setBlendMode(0);var alpha=container._alpha,scrollFactorX=container.scrollFactorX,scrollFactorY=container.scrollFactorY;container.mask&&container.mask.preRenderCanvas(renderer,null,camera);for(var i=0;i<children.length;i++){var child=children[i];if(child.willRender(camera)){var childAlpha=child.alpha,childScrollFactorX=child.scrollFactorX,childScrollFactorY=child.scrollFactorY;containerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode),child.setScrollFactor(childScrollFactorX*scrollFactorX,childScrollFactorY*scrollFactorY),child.setAlpha(childAlpha*alpha),child.renderCanvas(renderer,child,camera,transformMatrix),child.setAlpha(childAlpha),child.setScrollFactor(childScrollFactorX,childScrollFactorY)}}container.mask&&container.mask.postRenderCanvas(renderer)}}},77143:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),Container=__webpack_require__2(31559),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetFastValue=__webpack_require__2(95540);GameObjectCreator.register("container",(function(config2,addToScene){void 0===config2&&(config2={});var x=GetAdvancedValue(config2,"x",0),y=GetAdvancedValue(config2,"y",0),children=GetFastValue(config2,"children",null),container=new Container(this.scene,x,y,children);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,container,config2),container}))},24961:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Container=__webpack_require__2(31559);__webpack_require__2(39429).register("container",(function(x,y,children){return this.displayList.add(new Container(this.scene,x,y,children))}))},29959:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(72249),renderCanvas=__webpack_require__2(53584),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},72249:module2=>{module2.exports=function(renderer,container,camera,parentMatrix){camera.addToRenderList(container);var children=container.list,childCount=children.length;if(0!==childCount){var transformMatrix=container.localTransform;parentMatrix?(transformMatrix.loadIdentity(),transformMatrix.multiply(parentMatrix),transformMatrix.translate(container.x,container.y),transformMatrix.rotate(container.rotation),transformMatrix.scale(container.scaleX,container.scaleY)):transformMatrix.applyITRS(container.x,container.y,container.rotation,container.scaleX,container.scaleY),renderer.pipelines.preBatch(container);var containerHasBlendMode=-1!==container.blendMode;containerHasBlendMode||renderer.setBlendMode(0);for(var alpha=container.alpha,scrollFactorX=container.scrollFactorX,scrollFactorY=container.scrollFactorY,i=0;i<childCount;i++){var child=children[i];if(child.willRender(camera)){var childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight;if(void 0!==child.alphaTopLeft)childAlphaTopLeft=child.alphaTopLeft,childAlphaTopRight=child.alphaTopRight,childAlphaBottomLeft=child.alphaBottomLeft,childAlphaBottomRight=child.alphaBottomRight;else{var childAlpha=child.alpha;childAlphaTopLeft=childAlpha,childAlphaTopRight=childAlpha,childAlphaBottomLeft=childAlpha,childAlphaBottomRight=childAlpha}var childScrollFactorX=child.scrollFactorX,childScrollFactorY=child.scrollFactorY;containerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);var mask=child.mask;mask&&mask.preRenderWebGL(renderer,child,camera);var type=child.type;type!==renderer.currentType&&(renderer.newType=!0,renderer.currentType=type),renderer.nextTypeMatch=i<childCount-1&&children[i+1].type===renderer.currentType,child.setScrollFactor(childScrollFactorX*scrollFactorX,childScrollFactorY*scrollFactorY),child.setAlpha(childAlphaTopLeft*alpha,childAlphaTopRight*alpha,childAlphaBottomLeft*alpha,childAlphaBottomRight*alpha),child.renderWebGL(renderer,child,camera,transformMatrix,container),child.setAlpha(childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight),child.setScrollFactor(childScrollFactorX,childScrollFactorY),mask&&mask.postRenderWebGL(renderer,camera),renderer.newType=!1}}renderer.pipelines.postBatch(container)}}},47407:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),DOMElementRender=__webpack_require__2(441),GameObject=__webpack_require__2(95643),IsPlainObject=__webpack_require__2(41212),RemoveFromDOM=__webpack_require__2(35846),SCENE_EVENTS=__webpack_require__2(44594),Vector4=__webpack_require__2(61369),DOMElement=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Origin,Components.ScrollFactor,Components.Transform,Components.Visible,DOMElementRender],initialize:function DOMElement2(scene,x,y,element,style,innerText){GameObject.call(this,scene,"DOMElement"),this.parent=scene.sys.game.domContainer,this.cache=scene.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new Vector4,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,y),"string"==typeof element?"#"===element[0]?this.setElement(element.substr(1),style,innerText):this.createElement(element,style,innerText):element&&this.setElement(element,style,innerText),scene.sys.events.on(SCENE_EVENTS.SLEEP,this.handleSceneEvent,this),scene.sys.events.on(SCENE_EVENTS.WAKE,this.handleSceneEvent,this),scene.sys.events.on(SCENE_EVENTS.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(sys){var node=this.node,style=node.style;node&&(style.display=sys.settings.visible?"block":"none")},setSkew:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=x),this.skewX=x,this.skewY=y,this},setPerspective:function(value){return this.parent.style.perspective=value+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(value){this.parent.style.perspective=value+"px"}},addListener:function(events){if(this.node){events=events.split(" ");for(var i=0;i<events.length;i++)this.node.addEventListener(events[i],this.handler,!1)}return this},removeListener:function(events){if(this.node){events=events.split(" ");for(var i=0;i<events.length;i++)this.node.removeEventListener(events[i],this.handler)}return this},dispatchNativeEvent:function(event){this.emit(event.type,event)},createElement:function(tagName,style,innerText){return this.setElement(document.createElement(tagName),style,innerText)},setElement:function(element,style,innerText){var target2;if(this.removeElement(),"string"==typeof element?("#"===element[0]&&(element=element.substr(1)),target2=document.getElementById(element)):"object"==typeof element&&1===element.nodeType&&(target2=element),!target2)return this;if(this.node=target2,style&&IsPlainObject(style))for(var key in style)target2.style[key]=style[key];else"string"==typeof style&&(target2.style=style);return target2.style.zIndex="0",target2.style.display="inline",target2.style.position="absolute",target2.phaser=this,this.parent&&this.parent.appendChild(target2),innerText&&(target2.innerText=innerText),this.updateSize()},createFromCache:function(key,tagName){var html=this.cache.get(key);return html&&this.createFromHTML(html,tagName),this},createFromHTML:function(html,tagName){void 0===tagName&&(tagName="div"),this.removeElement();var element=document.createElement(tagName);return this.node=element,element.style.zIndex="0",element.style.display="inline",element.style.position="absolute",element.phaser=this,this.parent&&this.parent.appendChild(element),element.innerHTML=html,this.updateSize()},removeElement:function(){return this.node&&(RemoveFromDOM(this.node),this.node=null),this},updateSize:function(){var node=this.node,nodeBounds=node.getBoundingClientRect();return this.width=node.clientWidth,this.height=node.clientHeight,this.displayWidth=nodeBounds.width||0,this.displayHeight=nodeBounds.height||0,this},getChildByProperty:function(property,value){if(this.node)for(var children=this.node.querySelectorAll("*"),i=0;i<children.length;i++)if(children[i][property]===value)return children[i];return null},getChildByID:function(id){return this.getChildByProperty("id",id)},getChildByName:function(name){return this.getChildByProperty("name",name)},setClassName:function(className){return this.node&&(this.node.className=className,this.updateSize()),this},setText:function(text){return this.node&&(this.node.innerText=text,this.updateSize()),this},setHTML:function(html){return this.node&&(this.node.innerHTML=html,this.updateSize()),this},preRender:function(){var parent=this.parentContainer,node=this.node;node&&parent&&!parent.willRender()&&(node.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(SCENE_EVENTS.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(SCENE_EVENTS.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(SCENE_EVENTS.PRE_RENDER,this.preRender,this)}});module2.exports=DOMElement},49381:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CSSBlendModes=__webpack_require__2(47407),GameObject=__webpack_require__2(95643),TransformMatrix=__webpack_require__2(61340),tempMatrix1=new TransformMatrix,tempMatrix2=new TransformMatrix,tempMatrix3=new TransformMatrix;module2.exports=function(renderer,src2,camera,parentMatrix){if(src2.node){var style=src2.node.style,settings=src2.scene.sys.settings;if(!style||!settings.visible||GameObject.RENDER_MASK!==src2.renderFlags||0!==src2.cameraFilter&&src2.cameraFilter&camera.id||src2.parentContainer&&!src2.parentContainer.willRender())style.display="none";else{var parent=src2.parentContainer,alpha=camera.alpha*src2.alpha;parent&&(alpha*=parent.alpha);var camMatrix=tempMatrix1,srcMatrix=tempMatrix2,calcMatrix=tempMatrix3,dx=0,dy=0,tx="0%",ty="0%";parentMatrix?(dx=src2.width*src2.scaleX*src2.originX,dy=src2.height*src2.scaleY*src2.originY,srcMatrix.applyITRS(src2.x-dx,src2.y-dy,src2.rotation,src2.scaleX,src2.scaleY),camMatrix.copyFrom(camera.matrix),camMatrix.multiplyWithOffset(parentMatrix,-camera.scrollX*src2.scrollFactorX,-camera.scrollY*src2.scrollFactorY),srcMatrix.e=src2.x-dx,srcMatrix.f=src2.y-dy,camMatrix.multiply(srcMatrix,calcMatrix)):(dx=src2.width*src2.originX,dy=src2.height*src2.originY,srcMatrix.applyITRS(src2.x,src2.y,src2.rotation,src2.scaleX,src2.scaleY),camMatrix.copyFrom(camera.matrix),tx=100*src2.originX+"%",ty=100*src2.originY+"%",srcMatrix.e-=camera.scrollX*src2.scrollFactorX,srcMatrix.f-=camera.scrollY*src2.scrollFactorY,camMatrix.multiply(srcMatrix,calcMatrix),calcMatrix.e-=dx,calcMatrix.f-=dy),src2.transformOnly||(style.display="block",style.opacity=alpha,style.zIndex=src2._depth,style.pointerEvents=src2.pointerEvents,style.mixBlendMode=CSSBlendModes[src2._blendMode]),style.transform=calcMatrix.getCSSMatrix()+" skew("+src2.skewX+"rad, "+src2.skewY+"rad) rotate3d("+src2.rotate3d.x+","+src2.rotate3d.y+","+src2.rotate3d.z+","+src2.rotate3d.w+src2.rotate3dAngle+")",style.transformOrigin=tx+" "+ty}}}},2611:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DOMElement=__webpack_require__2(3069);__webpack_require__2(39429).register("dom",(function(x,y,element,style,innerText){var gameObject=new DOMElement(this.scene,x,y,element,style,innerText);return this.displayList.add(gameObject),gameObject}))},441:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(49381),renderCanvas=__webpack_require__2(49381),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},62980:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="addedtoscene"},41337:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},44947:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="removedfromscene"},49358:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},35163:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="created"},97249:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="error"},19483:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="locked"},56059:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="loop"},26772:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="metadata"},64437:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="playing"},83411:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="play"},75780:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="seeked"},67799:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="seeking"},63500:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stalled"},55541:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stop"},53208:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="textureready"},4992:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="unlocked"},12:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="unsupported"},51708:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADDED_TO_SCENE:__webpack_require__2(62980),DESTROY:__webpack_require__2(41337),REMOVED_FROM_SCENE:__webpack_require__2(44947),VIDEO_COMPLETE:__webpack_require__2(49358),VIDEO_CREATED:__webpack_require__2(35163),VIDEO_ERROR:__webpack_require__2(97249),VIDEO_LOCKED:__webpack_require__2(19483),VIDEO_LOOP:__webpack_require__2(56059),VIDEO_METADATA:__webpack_require__2(26772),VIDEO_PLAY:__webpack_require__2(83411),VIDEO_PLAYING:__webpack_require__2(64437),VIDEO_SEEKED:__webpack_require__2(75780),VIDEO_SEEKING:__webpack_require__2(67799),VIDEO_STALLED:__webpack_require__2(63500),VIDEO_STOP:__webpack_require__2(55541),VIDEO_TEXTURE:__webpack_require__2(53208),VIDEO_UNLOCKED:__webpack_require__2(4992),VIDEO_UNSUPPORTED:__webpack_require__2(12)}},42421:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),ExternRender=__webpack_require__2(64993),Extern=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.Origin,Components.ScrollFactor,Components.Size,Components.Texture,Components.Tint,Components.Transform,Components.Visible,ExternRender],initialize:function Extern2(scene){GameObject.call(this,scene,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});module2.exports=Extern},70217:()=>{},56315:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extern=__webpack_require__2(42421);__webpack_require__2(39429).register("extern",(function(){var extern=new Extern(this.scene);return this.displayList.add(extern),extern}))},64993:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(80287),renderCanvas=__webpack_require__2(70217),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},80287:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296);module2.exports=function(renderer,src2,camera,parentMatrix){renderer.pipelines.clear();var calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc;src2.render.call(src2,renderer,camera,calcMatrix),renderer.pipelines.rebind()}},85592:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseCamera=__webpack_require__2(71911),Class=__webpack_require__2(83419),Commands2=__webpack_require__2(85592),Components=__webpack_require__2(31401),Ellipse=__webpack_require__2(8497),GameObject=__webpack_require__2(95643),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),MATH_CONST=__webpack_require__2(36383),Render=__webpack_require__2(84503),Graphics=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.Transform,Components.Visible,Components.ScrollFactor,Render],initialize:function Graphics2(scene,options){var x=GetValue(options,"x",0),y=GetValue(options,"y",0);GameObject.call(this,scene,"Graphics"),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(options)},setDefaultStyles:function(options){return GetValue(options,"lineStyle",null)&&(this.defaultStrokeWidth=GetValue(options,"lineStyle.width",1),this.defaultStrokeColor=GetValue(options,"lineStyle.color",16777215),this.defaultStrokeAlpha=GetValue(options,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),GetValue(options,"fillStyle",null)&&(this.defaultFillColor=GetValue(options,"fillStyle.color",16777215),this.defaultFillAlpha=GetValue(options,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(lineWidth,color,alpha){return void 0===alpha&&(alpha=1),this.commandBuffer.push(Commands2.LINE_STYLE,lineWidth,color,alpha),this._lineWidth=lineWidth,this},fillStyle:function(color,alpha){return void 0===alpha&&(alpha=1),this.commandBuffer.push(Commands2.FILL_STYLE,color,alpha),this},fillGradientStyle:function(topLeft,topRight,bottomLeft,bottomRight,alphaTopLeft,alphaTopRight,alphaBottomLeft,alphaBottomRight){return void 0===alphaTopLeft&&(alphaTopLeft=1),void 0===alphaTopRight&&(alphaTopRight=alphaTopLeft),void 0===alphaBottomLeft&&(alphaBottomLeft=alphaTopLeft),void 0===alphaBottomRight&&(alphaBottomRight=alphaTopLeft),this.commandBuffer.push(Commands2.GRADIENT_FILL_STYLE,alphaTopLeft,alphaTopRight,alphaBottomLeft,alphaBottomRight,topLeft,topRight,bottomLeft,bottomRight),this},lineGradientStyle:function(lineWidth,topLeft,topRight,bottomLeft,bottomRight,alpha){return void 0===alpha&&(alpha=1),this.commandBuffer.push(Commands2.GRADIENT_LINE_STYLE,lineWidth,alpha,topLeft,topRight,bottomLeft,bottomRight),this},beginPath:function(){return this.commandBuffer.push(Commands2.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(Commands2.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(Commands2.FILL_PATH),this},fill:function(){return this.commandBuffer.push(Commands2.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(Commands2.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(Commands2.STROKE_PATH),this},fillCircleShape:function(circle){return this.fillCircle(circle.x,circle.y,circle.radius)},strokeCircleShape:function(circle){return this.strokeCircle(circle.x,circle.y,circle.radius)},fillCircle:function(x,y,radius){return this.beginPath(),this.arc(x,y,radius,0,MATH_CONST.PI2),this.fillPath(),this},strokeCircle:function(x,y,radius){return this.beginPath(),this.arc(x,y,radius,0,MATH_CONST.PI2),this.strokePath(),this},fillRectShape:function(rect){return this.fillRect(rect.x,rect.y,rect.width,rect.height)},strokeRectShape:function(rect){return this.strokeRect(rect.x,rect.y,rect.width,rect.height)},fillRect:function(x,y,width,height){return this.commandBuffer.push(Commands2.FILL_RECT,x,y,width,height),this},strokeRect:function(x,y,width,height){var lineWidthHalf=this._lineWidth/2,minx=x-lineWidthHalf,maxx=x+lineWidthHalf;return this.beginPath(),this.moveTo(x,y),this.lineTo(x,y+height),this.strokePath(),this.beginPath(),this.moveTo(x+width,y),this.lineTo(x+width,y+height),this.strokePath(),this.beginPath(),this.moveTo(minx,y),this.lineTo(maxx+width,y),this.strokePath(),this.beginPath(),this.moveTo(minx,y+height),this.lineTo(maxx+width,y+height),this.strokePath(),this},fillRoundedRect:function(x,y,width,height,radius){void 0===radius&&(radius=20);var tl=radius,tr=radius,bl=radius,br=radius;"number"!=typeof radius&&(tl=GetFastValue(radius,"tl",20),tr=GetFastValue(radius,"tr",20),bl=GetFastValue(radius,"bl",20),br=GetFastValue(radius,"br",20));var convexTL=tl>=0,convexTR=tr>=0,convexBL=bl>=0,convexBR=br>=0;return tl=Math.abs(tl),tr=Math.abs(tr),bl=Math.abs(bl),br=Math.abs(br),this.beginPath(),this.moveTo(x+tl,y),this.lineTo(x+width-tr,y),convexTR?this.arc(x+width-tr,y+tr,tr,-MATH_CONST.TAU,0):this.arc(x+width,y,tr,Math.PI,MATH_CONST.TAU,!0),this.lineTo(x+width,y+height-br),convexBR?this.arc(x+width-br,y+height-br,br,0,MATH_CONST.TAU):this.arc(x+width,y+height,br,-MATH_CONST.TAU,Math.PI,!0),this.lineTo(x+bl,y+height),convexBL?this.arc(x+bl,y+height-bl,bl,MATH_CONST.TAU,Math.PI):this.arc(x,y+height,bl,0,-MATH_CONST.TAU,!0),this.lineTo(x,y+tl),convexTL?this.arc(x+tl,y+tl,tl,-Math.PI,-MATH_CONST.TAU):this.arc(x,y,tl,MATH_CONST.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,y,width,height,radius){void 0===radius&&(radius=20);var tl=radius,tr=radius,bl=radius,br=radius,maxRadius=Math.min(width,height)/2;"number"!=typeof radius&&(tl=GetFastValue(radius,"tl",20),tr=GetFastValue(radius,"tr",20),bl=GetFastValue(radius,"bl",20),br=GetFastValue(radius,"br",20));var convexTL=tl>=0,convexTR=tr>=0,convexBL=bl>=0,convexBR=br>=0;return tl=Math.min(Math.abs(tl),maxRadius),tr=Math.min(Math.abs(tr),maxRadius),bl=Math.min(Math.abs(bl),maxRadius),br=Math.min(Math.abs(br),maxRadius),this.beginPath(),this.moveTo(x+tl,y),this.lineTo(x+width-tr,y),this.moveTo(x+width-tr,y),convexTR?this.arc(x+width-tr,y+tr,tr,-MATH_CONST.TAU,0):this.arc(x+width,y,tr,Math.PI,MATH_CONST.TAU,!0),this.lineTo(x+width,y+height-br),this.moveTo(x+width,y+height-br),convexBR?this.arc(x+width-br,y+height-br,br,0,MATH_CONST.TAU):this.arc(x+width,y+height,br,-MATH_CONST.TAU,Math.PI,!0),this.lineTo(x+bl,y+height),this.moveTo(x+bl,y+height),convexBL?this.arc(x+bl,y+height-bl,bl,MATH_CONST.TAU,Math.PI):this.arc(x,y+height,bl,0,-MATH_CONST.TAU,!0),this.lineTo(x,y+tl),this.moveTo(x,y+tl),convexTL?this.arc(x+tl,y+tl,tl,-Math.PI,-MATH_CONST.TAU):this.arc(x,y,tl,MATH_CONST.TAU,0,!0),this.strokePath(),this},fillPointShape:function(point,size){return this.fillPoint(point.x,point.y,size)},fillPoint:function(x,y,size){return!size||size<1?size=1:(x-=size/2,y-=size/2),this.commandBuffer.push(Commands2.FILL_RECT,x,y,size,size),this},fillTriangleShape:function(triangle){return this.fillTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3)},strokeTriangleShape:function(triangle){return this.strokeTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3)},fillTriangle:function(x0,y0,x1,y1,x2,y2){return this.commandBuffer.push(Commands2.FILL_TRIANGLE,x0,y0,x1,y1,x2,y2),this},strokeTriangle:function(x0,y0,x1,y1,x2,y2){return this.commandBuffer.push(Commands2.STROKE_TRIANGLE,x0,y0,x1,y1,x2,y2),this},strokeLineShape:function(line){return this.lineBetween(line.x1,line.y1,line.x2,line.y2)},lineBetween:function(x1,y1,x2,y2){return this.beginPath(),this.moveTo(x1,y1),this.lineTo(x2,y2),this.strokePath(),this},lineTo:function(x,y){return this.commandBuffer.push(Commands2.LINE_TO,x,y),this},moveTo:function(x,y){return this.commandBuffer.push(Commands2.MOVE_TO,x,y),this},strokePoints:function(points,closeShape,closePath,endIndex){void 0===closeShape&&(closeShape=!1),void 0===closePath&&(closePath=!1),void 0===endIndex&&(endIndex=points.length),this.beginPath(),this.moveTo(points[0].x,points[0].y);for(var i=1;i<endIndex;i++)this.lineTo(points[i].x,points[i].y);return closeShape&&this.lineTo(points[0].x,points[0].y),closePath&&this.closePath(),this.strokePath(),this},fillPoints:function(points,closeShape,closePath,endIndex){void 0===closeShape&&(closeShape=!1),void 0===closePath&&(closePath=!1),void 0===endIndex&&(endIndex=points.length),this.beginPath(),this.moveTo(points[0].x,points[0].y);for(var i=1;i<endIndex;i++)this.lineTo(points[i].x,points[i].y);return closeShape&&this.lineTo(points[0].x,points[0].y),closePath&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(ellipse,smoothness){void 0===smoothness&&(smoothness=32);var points=ellipse.getPoints(smoothness);return this.strokePoints(points,!0)},strokeEllipse:function(x,y,width,height,smoothness){void 0===smoothness&&(smoothness=32);var points=new Ellipse(x,y,width,height).getPoints(smoothness);return this.strokePoints(points,!0)},fillEllipseShape:function(ellipse,smoothness){void 0===smoothness&&(smoothness=32);var points=ellipse.getPoints(smoothness);return this.fillPoints(points,!0)},fillEllipse:function(x,y,width,height,smoothness){void 0===smoothness&&(smoothness=32);var points=new Ellipse(x,y,width,height).getPoints(smoothness);return this.fillPoints(points,!0)},arc:function(x,y,radius,startAngle,endAngle,anticlockwise,overshoot){return void 0===anticlockwise&&(anticlockwise=!1),void 0===overshoot&&(overshoot=0),this.commandBuffer.push(Commands2.ARC,x,y,radius,startAngle,endAngle,anticlockwise,overshoot),this},slice:function(x,y,radius,startAngle,endAngle,anticlockwise,overshoot){return void 0===anticlockwise&&(anticlockwise=!1),void 0===overshoot&&(overshoot=0),this.commandBuffer.push(Commands2.BEGIN_PATH),this.commandBuffer.push(Commands2.MOVE_TO,x,y),this.commandBuffer.push(Commands2.ARC,x,y,radius,startAngle,endAngle,anticlockwise,overshoot),this.commandBuffer.push(Commands2.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(Commands2.SAVE),this},restore:function(){return this.commandBuffer.push(Commands2.RESTORE),this},translateCanvas:function(x,y){return this.commandBuffer.push(Commands2.TRANSLATE,x,y),this},scaleCanvas:function(x,y){return this.commandBuffer.push(Commands2.SCALE,x,y),this},rotateCanvas:function(radians){return this.commandBuffer.push(Commands2.ROTATE,radians),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(key,width,height){var texture,ctx,sys=this.scene.sys,renderer=sys.game.renderer;void 0===width&&(width=sys.scale.width),void 0===height&&(height=sys.scale.height),Graphics.TargetCamera.setScene(this.scene),Graphics.TargetCamera.setViewport(0,0,width,height),Graphics.TargetCamera.scrollX=this.x,Graphics.TargetCamera.scrollY=this.y;var willRead={willReadFrequently:!0};if("string"==typeof key)if(sys.textures.exists(key)){var src2=(texture=sys.textures.get(key)).getSourceImage();src2 instanceof HTMLCanvasElement&&(ctx=src2.getContext("2d",willRead))}else ctx=(texture=sys.textures.createCanvas(key,width,height)).getSourceImage().getContext("2d",willRead);else key instanceof HTMLCanvasElement&&(ctx=key.getContext("2d",willRead));return ctx&&(this.renderCanvas(renderer,this,Graphics.TargetCamera,null,ctx,!1),texture&&texture.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});Graphics.TargetCamera=new BaseCamera,module2.exports=Graphics},32768:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Commands2=__webpack_require__2(85592),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix,renderTargetCtx,allowClip){var commandBuffer=src2.commandBuffer,commandBufferLength=commandBuffer.length,ctx=renderTargetCtx||renderer.currentContext;if(0!==commandBufferLength&&SetTransform(renderer,ctx,src2,camera,parentMatrix)){camera.addToRenderList(src2);var lineAlpha=1,fillAlpha=1,lineColor=0,fillColor=0,lineWidth=1,red=0,green=0,blue=0;ctx.beginPath();for(var index=0;index<commandBufferLength;++index)switch(commandBuffer[index]){case Commands2.ARC:ctx.arc(commandBuffer[index+1],commandBuffer[index+2],commandBuffer[index+3],commandBuffer[index+4],commandBuffer[index+5],commandBuffer[index+6]),index+=7;break;case Commands2.LINE_STYLE:lineWidth=commandBuffer[index+1],lineColor=commandBuffer[index+2],lineAlpha=commandBuffer[index+3],red=(16711680&lineColor)>>>16,green=(65280&lineColor)>>>8,blue=255&lineColor,ctx.strokeStyle="rgba("+red+","+green+","+blue+","+lineAlpha+")",ctx.lineWidth=lineWidth,index+=3;break;case Commands2.FILL_STYLE:fillColor=commandBuffer[index+1],fillAlpha=commandBuffer[index+2],red=(16711680&fillColor)>>>16,green=(65280&fillColor)>>>8,blue=255&fillColor,ctx.fillStyle="rgba("+red+","+green+","+blue+","+fillAlpha+")",index+=2;break;case Commands2.BEGIN_PATH:ctx.beginPath();break;case Commands2.CLOSE_PATH:ctx.closePath();break;case Commands2.FILL_PATH:allowClip||ctx.fill();break;case Commands2.STROKE_PATH:allowClip||ctx.stroke();break;case Commands2.FILL_RECT:allowClip?ctx.rect(commandBuffer[index+1],commandBuffer[index+2],commandBuffer[index+3],commandBuffer[index+4]):ctx.fillRect(commandBuffer[index+1],commandBuffer[index+2],commandBuffer[index+3],commandBuffer[index+4]),index+=4;break;case Commands2.FILL_TRIANGLE:ctx.beginPath(),ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]),ctx.lineTo(commandBuffer[index+3],commandBuffer[index+4]),ctx.lineTo(commandBuffer[index+5],commandBuffer[index+6]),ctx.closePath(),allowClip||ctx.fill(),index+=6;break;case Commands2.STROKE_TRIANGLE:ctx.beginPath(),ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]),ctx.lineTo(commandBuffer[index+3],commandBuffer[index+4]),ctx.lineTo(commandBuffer[index+5],commandBuffer[index+6]),ctx.closePath(),allowClip||ctx.stroke(),index+=6;break;case Commands2.LINE_TO:ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]),index+=2;break;case Commands2.MOVE_TO:ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]),index+=2;break;case Commands2.LINE_FX_TO:ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]),index+=5;break;case Commands2.MOVE_FX_TO:ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]),index+=5;break;case Commands2.SAVE:ctx.save();break;case Commands2.RESTORE:ctx.restore();break;case Commands2.TRANSLATE:ctx.translate(commandBuffer[index+1],commandBuffer[index+2]),index+=2;break;case Commands2.SCALE:ctx.scale(commandBuffer[index+1],commandBuffer[index+2]),index+=2;break;case Commands2.ROTATE:ctx.rotate(commandBuffer[index+1]),index+=1;break;case Commands2.GRADIENT_FILL_STYLE:index+=5;break;case Commands2.GRADIENT_LINE_STYLE:index+=6}ctx.restore()}}},87079:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectCreator=__webpack_require__2(44603),Graphics=__webpack_require__2(43831);GameObjectCreator.register("graphics",(function(config2,addToScene){void 0===config2&&(config2={}),void 0!==addToScene&&(config2.add=addToScene);var graphics=new Graphics(this.scene,config2);return config2.add&&this.scene.sys.displayList.add(graphics),graphics}))},1201:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Graphics=__webpack_require__2(43831);__webpack_require__2(39429).register("graphics",(function(config2){return this.displayList.add(new Graphics(this.scene,config2))}))},84503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(77545),__webpack_require__2(32768),renderCanvas=__webpack_require__2(32768),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},77545:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Commands2=__webpack_require__2(85592),GetCalcMatrix=__webpack_require__2(91296),TransformMatrix=__webpack_require__2(61340),Utils=__webpack_require__2(70554),Point=function(x,y,width){this.x=x,this.y=y,this.width=width},Path=function(x,y,width){this.points=[],this.pointsLength=1,this.points[0]=new Point(x,y,width)},matrixStack=[],tempMatrix=new TransformMatrix;module2.exports=function(renderer,src2,camera,parentMatrix){if(0!==src2.commandBuffer.length){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2);renderer.pipelines.preBatch(src2);for(var calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc,currentMatrix=tempMatrix.loadIdentity(),commands2=src2.commandBuffer,alpha=camera.alpha*src2.alpha,lineWidth=1,fillTint=pipeline.fillTint,strokeTint=pipeline.strokeTint,tx=0,ty=0,ta=0,PI2=2*Math.PI,path=[],pathIndex=0,pathOpen=!0,lastPath=null,getTint=Utils.getTintAppendFloatAlpha,cmdIndex=0;cmdIndex<commands2.length;cmdIndex++)switch(commands2[cmdIndex]){case Commands2.BEGIN_PATH:path.length=0,lastPath=null,pathOpen=!0;break;case Commands2.CLOSE_PATH:pathOpen=!1,lastPath&&lastPath.points.length&&lastPath.points.push(lastPath.points[0]);break;case Commands2.FILL_PATH:for(pathIndex=0;pathIndex<path.length;pathIndex++)pipeline.batchFillPath(path[pathIndex].points,currentMatrix,calcMatrix);break;case Commands2.STROKE_PATH:for(pathIndex=0;pathIndex<path.length;pathIndex++)pipeline.batchStrokePath(path[pathIndex].points,lineWidth,pathOpen,currentMatrix,calcMatrix);break;case Commands2.LINE_STYLE:lineWidth=commands2[++cmdIndex];var strokeTintColor=getTint(commands2[++cmdIndex],commands2[++cmdIndex]*alpha);strokeTint.TL=strokeTintColor,strokeTint.TR=strokeTintColor,strokeTint.BL=strokeTintColor,strokeTint.BR=strokeTintColor;break;case Commands2.FILL_STYLE:var fillTintColor=getTint(commands2[++cmdIndex],commands2[++cmdIndex]*alpha);fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor;break;case Commands2.GRADIENT_FILL_STYLE:var alphaTL=commands2[++cmdIndex]*alpha,alphaTR=commands2[++cmdIndex]*alpha,alphaBL=commands2[++cmdIndex]*alpha,alphaBR=commands2[++cmdIndex]*alpha;fillTint.TL=getTint(commands2[++cmdIndex],alphaTL),fillTint.TR=getTint(commands2[++cmdIndex],alphaTR),fillTint.BL=getTint(commands2[++cmdIndex],alphaBL),fillTint.BR=getTint(commands2[++cmdIndex],alphaBR);break;case Commands2.GRADIENT_LINE_STYLE:lineWidth=commands2[++cmdIndex];var gradientLineAlpha=commands2[++cmdIndex]*alpha;strokeTint.TL=getTint(commands2[++cmdIndex],gradientLineAlpha),strokeTint.TR=getTint(commands2[++cmdIndex],gradientLineAlpha),strokeTint.BL=getTint(commands2[++cmdIndex],gradientLineAlpha),strokeTint.BR=getTint(commands2[++cmdIndex],gradientLineAlpha);break;case Commands2.ARC:var iteration=0,x=commands2[++cmdIndex],y=commands2[++cmdIndex],radius=commands2[++cmdIndex],startAngle=commands2[++cmdIndex],endAngle=commands2[++cmdIndex],anticlockwise=commands2[++cmdIndex],overshoot=commands2[++cmdIndex];for(endAngle-=startAngle,anticlockwise?endAngle<-PI2?endAngle=-PI2:endAngle>0&&(endAngle=endAngle%PI2-PI2):endAngle>PI2?endAngle=PI2:endAngle<0&&(endAngle=PI2+endAngle%PI2),null===lastPath&&(lastPath=new Path(x+Math.cos(startAngle)*radius,y+Math.sin(startAngle)*radius,lineWidth),path.push(lastPath),iteration+=.01);iteration<1+overshoot;)ta=endAngle*iteration+startAngle,tx=x+Math.cos(ta)*radius,ty=y+Math.sin(ta)*radius,lastPath.points.push(new Point(tx,ty,lineWidth)),iteration+=.01;ta=endAngle+startAngle,tx=x+Math.cos(ta)*radius,ty=y+Math.sin(ta)*radius,lastPath.points.push(new Point(tx,ty,lineWidth));break;case Commands2.FILL_RECT:pipeline.batchFillRect(commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],currentMatrix,calcMatrix);break;case Commands2.FILL_TRIANGLE:pipeline.batchFillTriangle(commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],currentMatrix,calcMatrix);break;case Commands2.STROKE_TRIANGLE:pipeline.batchStrokeTriangle(commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],commands2[++cmdIndex],lineWidth,currentMatrix,calcMatrix);break;case Commands2.LINE_TO:null!==lastPath?lastPath.points.push(new Point(commands2[++cmdIndex],commands2[++cmdIndex],lineWidth)):(lastPath=new Path(commands2[++cmdIndex],commands2[++cmdIndex],lineWidth),path.push(lastPath));break;case Commands2.MOVE_TO:lastPath=new Path(commands2[++cmdIndex],commands2[++cmdIndex],lineWidth),path.push(lastPath);break;case Commands2.SAVE:matrixStack.push(currentMatrix.copyToArray());break;case Commands2.RESTORE:currentMatrix.copyFromArray(matrixStack.pop());break;case Commands2.TRANSLATE:x=commands2[++cmdIndex],y=commands2[++cmdIndex],currentMatrix.translate(x,y);break;case Commands2.SCALE:x=commands2[++cmdIndex],y=commands2[++cmdIndex],currentMatrix.scale(x,y);break;case Commands2.ROTATE:currentMatrix.rotate(commands2[++cmdIndex])}renderer.pipelines.postBatch(src2)}}},26479:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Actions=__webpack_require__2(61061),Class=__webpack_require__2(83419),Events2=__webpack_require__2(51708),EventEmitter2=__webpack_require__2(50792),GetAll=__webpack_require__2(46710),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),HasValue=__webpack_require__2(97022),IsPlainObject=__webpack_require__2(41212),Range=__webpack_require__2(88492),Set2=__webpack_require__2(35072),Sprite=__webpack_require__2(68287),Group=new Class({Extends:EventEmitter2,initialize:function Group2(scene,children,config2){EventEmitter2.call(this),config2?children&&!Array.isArray(children)&&(children=[children]):Array.isArray(children)?IsPlainObject(children[0])&&(config2=children,children=null):IsPlainObject(children)&&(config2=children,children=null),this.scene=scene,this.children=new Set2,this.isParent=!0,this.type="Group",this.classType=GetFastValue(config2,"classType",Sprite),this.name=GetFastValue(config2,"name",""),this.active=GetFastValue(config2,"active",!0),this.maxSize=GetFastValue(config2,"maxSize",-1),this.defaultKey=GetFastValue(config2,"defaultKey",null),this.defaultFrame=GetFastValue(config2,"defaultFrame",null),this.runChildUpdate=GetFastValue(config2,"runChildUpdate",!1),this.createCallback=GetFastValue(config2,"createCallback",null),this.removeCallback=GetFastValue(config2,"removeCallback",null),this.createMultipleCallback=GetFastValue(config2,"createMultipleCallback",null),this.internalCreateCallback=GetFastValue(config2,"internalCreateCallback",null),this.internalRemoveCallback=GetFastValue(config2,"internalRemoveCallback",null),children&&this.addMultiple(children),config2&&this.createMultiple(config2),this.on(Events2.ADDED_TO_SCENE,this.addedToScene,this),this.on(Events2.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(x,y,key,frame,visible,active){if(void 0===x&&(x=0),void 0===y&&(y=0),void 0===key&&(key=this.defaultKey),void 0===frame&&(frame=this.defaultFrame),void 0===visible&&(visible=!0),void 0===active&&(active=!0),this.isFull())return null;var child=new this.classType(this.scene,x,y,key,frame);return child.addToDisplayList(this.scene.sys.displayList),child.addToUpdateList(),child.visible=visible,child.setActive(active),this.add(child),child},createMultiple:function(config2){if(this.isFull())return[];Array.isArray(config2)||(config2=[config2]);var output=[];if(config2[0].key)for(var i=0;i<config2.length;i++){var entries=this.createFromConfig(config2[i]);output=output.concat(entries)}return output},createFromConfig:function(options){if(this.isFull())return[];this.classType=GetFastValue(options,"classType",this.classType);var key=GetFastValue(options,"key",void 0),frame=GetFastValue(options,"frame",null),visible=GetFastValue(options,"visible",!0),active=GetFastValue(options,"active",!0),entries=[];if(void 0===key)return entries;Array.isArray(key)||(key=[key]),Array.isArray(frame)||(frame=[frame]);var repeat=GetFastValue(options,"repeat",0),randomKey=GetFastValue(options,"randomKey",!1),randomFrame=GetFastValue(options,"randomFrame",!1),yoyo=GetFastValue(options,"yoyo",!1),quantity=GetFastValue(options,"quantity",!1),frameQuantity=GetFastValue(options,"frameQuantity",1),max=GetFastValue(options,"max",0),range=Range(key,frame,{max:max,qty:quantity||frameQuantity,random:randomKey,randomB:randomFrame,repeat:repeat,yoyo:yoyo});options.createCallback&&(this.createCallback=options.createCallback),options.removeCallback&&(this.removeCallback=options.removeCallback),options.internalCreateCallback&&(this.internalCreateCallback=options.internalCreateCallback),options.internalRemoveCallback&&(this.internalRemoveCallback=options.internalRemoveCallback);for(var c=0;c<range.length;c++){var created=this.create(0,0,range[c].a,range[c].b,visible,active);if(!created)break;entries.push(created)}if(HasValue(options,"setXY")){var x=GetValue(options,"setXY.x",0),y=GetValue(options,"setXY.y",0),stepX=GetValue(options,"setXY.stepX",0),stepY=GetValue(options,"setXY.stepY",0);Actions.SetXY(entries,x,y,stepX,stepY)}if(HasValue(options,"setRotation")){var rotation=GetValue(options,"setRotation.value",0),stepRotation=GetValue(options,"setRotation.step",0);Actions.SetRotation(entries,rotation,stepRotation)}if(HasValue(options,"setScale")){var scaleX=GetValue(options,"setScale.x",1),scaleY=GetValue(options,"setScale.y",scaleX),stepScaleX=GetValue(options,"setScale.stepX",0),stepScaleY=GetValue(options,"setScale.stepY",0);Actions.SetScale(entries,scaleX,scaleY,stepScaleX,stepScaleY)}if(HasValue(options,"setOrigin")){var originX=GetValue(options,"setOrigin.x",.5),originY=GetValue(options,"setOrigin.y",originX),stepOriginX=GetValue(options,"setOrigin.stepX",0),stepOriginY=GetValue(options,"setOrigin.stepY",0);Actions.SetOrigin(entries,originX,originY,stepOriginX,stepOriginY)}if(HasValue(options,"setAlpha")){var alpha=GetValue(options,"setAlpha.value",1),stepAlpha=GetValue(options,"setAlpha.step",0);Actions.SetAlpha(entries,alpha,stepAlpha)}if(HasValue(options,"setDepth")){var depth=GetValue(options,"setDepth.value",0),stepDepth=GetValue(options,"setDepth.step",0);Actions.SetDepth(entries,depth,stepDepth)}if(HasValue(options,"setScrollFactor")){var scrollFactorX=GetValue(options,"setScrollFactor.x",1),scrollFactorY=GetValue(options,"setScrollFactor.y",scrollFactorX),stepScrollFactorX=GetValue(options,"setScrollFactor.stepX",0),stepScrollFactorY=GetValue(options,"setScrollFactor.stepY",0);Actions.SetScrollFactor(entries,scrollFactorX,scrollFactorY,stepScrollFactorX,stepScrollFactorY)}var hitArea=GetFastValue(options,"hitArea",null),hitAreaCallback=GetFastValue(options,"hitAreaCallback",null);hitArea&&Actions.SetHitArea(entries,hitArea,hitAreaCallback);var grid=GetFastValue(options,"gridAlign",!1);return grid&&Actions.GridAlign(entries,grid),this.createMultipleCallback&&this.createMultipleCallback.call(this,entries),entries},preUpdate:function(time,delta){if(this.runChildUpdate&&0!==this.children.size)for(var temp=this.children.entries.slice(),i=0;i<temp.length;i++){var item=temp[i];item.active&&item.update(time,delta)}},add:function(child,addToScene){return void 0===addToScene&&(addToScene=!1),this.isFull()||(this.children.set(child),this.internalCreateCallback&&this.internalCreateCallback.call(this,child),this.createCallback&&this.createCallback.call(this,child),addToScene&&(child.addToDisplayList(this.scene.sys.displayList),child.addToUpdateList()),child.on(Events2.DESTROY,this.remove,this)),this},addMultiple:function(children,addToScene){if(void 0===addToScene&&(addToScene=!1),Array.isArray(children))for(var i=0;i<children.length;i++)this.add(children[i],addToScene);return this},remove:function(child,removeFromScene,destroyChild){return void 0===removeFromScene&&(removeFromScene=!1),void 0===destroyChild&&(destroyChild=!1),this.children.contains(child)?(this.children.delete(child),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,child),this.removeCallback&&this.removeCallback.call(this,child),child.off(Events2.DESTROY,this.remove,this),destroyChild?child.destroy():removeFromScene&&(child.removeFromDisplayList(),child.removeFromUpdateList()),this):this},clear:function(removeFromScene,destroyChild){void 0===removeFromScene&&(removeFromScene=!1),void 0===destroyChild&&(destroyChild=!1);for(var children=this.children,i=0;i<children.size;i++){var gameObject=children.entries[i];gameObject.off(Events2.DESTROY,this.remove,this),destroyChild?gameObject.destroy():removeFromScene&&(gameObject.removeFromDisplayList(),gameObject.removeFromUpdateList())}return this.children.clear(),this},contains:function(child){return this.children.contains(child)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(property,value,startIndex,endIndex){return GetAll(this.children.entries,property,value,startIndex,endIndex)},getFirst:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,1,state,createIfNull,x,y,key,frame,visible)},getFirstNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,nth,state,createIfNull,x,y,key,frame,visible)},getLast:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,1,state,createIfNull,x,y,key,frame,visible)},getLastNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,nth,state,createIfNull,x,y,key,frame,visible)},getHandler:function(forwards,nth,state,createIfNull,x,y,key,frame,visible){var gameObject,i;void 0===state&&(state=!1),void 0===createIfNull&&(createIfNull=!1);var total=0,children=this.children.entries;if(forwards)for(i=0;i<children.length;i++)if((gameObject=children[i]).active===state){if(++total===nth)break}else gameObject=null;else for(i=children.length-1;i>=0;i--)if((gameObject=children[i]).active===state){if(++total===nth)break}else gameObject=null;return gameObject?("number"==typeof x&&(gameObject.x=x),"number"==typeof y&&(gameObject.y=y),gameObject):createIfNull?this.create(x,y,key,frame,visible):null},get:function(x,y,key,frame,visible){return this.getFirst(!1,!0,x,y,key,frame,visible)},getFirstAlive:function(createIfNull,x,y,key,frame,visible){return this.getFirst(!0,createIfNull,x,y,key,frame,visible)},getFirstDead:function(createIfNull,x,y,key,frame,visible){return this.getFirst(!1,createIfNull,x,y,key,frame,visible)},playAnimation:function(key,startFrame){return Actions.PlayAnimation(this.children.entries,key,startFrame),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(value){void 0===value&&(value=!0);for(var total=0,i=0;i<this.children.size;i++)this.children.entries[i].active===value&&total++;return total},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var used=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-used},setActive:function(value){return this.active=value,this},setName:function(value){return this.name=value,this},propertyValueSet:function(key,value,step,index,direction){return Actions.PropertyValueSet(this.children.entries,key,value,step,index,direction),this},propertyValueInc:function(key,value,step,index,direction){return Actions.PropertyValueInc(this.children.entries,key,value,step,index,direction),this},setX:function(value,step){return Actions.SetX(this.children.entries,value,step),this},setY:function(value,step){return Actions.SetY(this.children.entries,value,step),this},setXY:function(x,y,stepX,stepY){return Actions.SetXY(this.children.entries,x,y,stepX,stepY),this},incX:function(value,step){return Actions.IncX(this.children.entries,value,step),this},incY:function(value,step){return Actions.IncY(this.children.entries,value,step),this},incXY:function(x,y,stepX,stepY){return Actions.IncXY(this.children.entries,x,y,stepX,stepY),this},shiftPosition:function(x,y,direction){return Actions.ShiftPosition(this.children.entries,x,y,direction),this},angle:function(value,step){return Actions.Angle(this.children.entries,value,step),this},rotate:function(value,step){return Actions.Rotate(this.children.entries,value,step),this},rotateAround:function(point,angle){return Actions.RotateAround(this.children.entries,point,angle),this},rotateAroundDistance:function(point,angle,distance){return Actions.RotateAroundDistance(this.children.entries,point,angle,distance),this},setAlpha:function(value,step){return Actions.SetAlpha(this.children.entries,value,step),this},setTint:function(topLeft,topRight,bottomLeft,bottomRight){return Actions.SetTint(this.children.entries,topLeft,topRight,bottomLeft,bottomRight),this},setOrigin:function(originX,originY,stepX,stepY){return Actions.SetOrigin(this.children.entries,originX,originY,stepX,stepY),this},scaleX:function(value,step){return Actions.ScaleX(this.children.entries,value,step),this},scaleY:function(value,step){return Actions.ScaleY(this.children.entries,value,step),this},scaleXY:function(scaleX,scaleY,stepX,stepY){return Actions.ScaleXY(this.children.entries,scaleX,scaleY,stepX,stepY),this},setDepth:function(value,step){return Actions.SetDepth(this.children.entries,value,step),this},setBlendMode:function(value){return Actions.SetBlendMode(this.children.entries,value),this},setHitArea:function(hitArea,hitAreaCallback){return Actions.SetHitArea(this.children.entries,hitArea,hitAreaCallback),this},shuffle:function(){return Actions.Shuffle(this.children.entries),this},kill:function(gameObject){this.children.contains(gameObject)&&gameObject.setActive(!1)},killAndHide:function(gameObject){this.children.contains(gameObject)&&(gameObject.setActive(!1),gameObject.setVisible(!1))},setVisible:function(value,index,direction){return Actions.SetVisible(this.children.entries,value,index,direction),this},toggleVisible:function(){return Actions.ToggleVisible(this.children.entries),this},destroy:function(destroyChildren,removeFromScene){void 0===destroyChildren&&(destroyChildren=!1),void 0===removeFromScene&&(removeFromScene=!1),this.scene&&!this.ignoreDestroy&&(this.emit(Events2.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(removeFromScene,destroyChildren),this.scene=void 0,this.children=void 0)}});module2.exports=Group},94975:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectCreator=__webpack_require__2(44603),Group=__webpack_require__2(26479);GameObjectCreator.register("group",(function(config2){return new Group(this.scene,null,config2)}))},3385:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Group=__webpack_require__2(26479);__webpack_require__2(39429).register("group",(function(children,config2){return this.updateList.add(new Group(this.scene,children,config2))}))},88571:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),ImageRender=__webpack_require__2(59819),Image2=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Size,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,ImageRender],initialize:function Image3(scene,x,y,texture,frame){GameObject.call(this,scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(texture,frame),this.setPosition(x,y),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});module2.exports=Image2},40652:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2),renderer.batchSprite(src2,src2.frame,camera,parentMatrix)}},82459:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Image2=__webpack_require__2(88571);GameObjectCreator.register("image",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),image=new Image2(this.scene,0,0,key,frame);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,image,config2),image}))},2117:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Image2=__webpack_require__2(88571);__webpack_require__2(39429).register("image",(function(x,y,texture,frame){return this.displayList.add(new Image2(this.scene,x,y,texture,frame))}))},59819:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(99517),renderCanvas=__webpack_require__2(40652),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},99517:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2),this.pipeline.batchSprite(src2,camera,parentMatrix)}},77856:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjects={Events:__webpack_require__2(51708),DisplayList:__webpack_require__2(8050),GameObjectCreator:__webpack_require__2(44603),GameObjectFactory:__webpack_require__2(39429),UpdateList:__webpack_require__2(45027),Components:__webpack_require__2(31401),GetCalcMatrix:__webpack_require__2(91296),BuildGameObject:__webpack_require__2(25305),BuildGameObjectAnimation:__webpack_require__2(13059),GameObject:__webpack_require__2(95643),BitmapText:__webpack_require__2(22186),Blitter:__webpack_require__2(6107),Bob:__webpack_require__2(46590),Container:__webpack_require__2(31559),DOMElement:__webpack_require__2(3069),DynamicBitmapText:__webpack_require__2(2638),Extern:__webpack_require__2(42421),Graphics:__webpack_require__2(43831),Group:__webpack_require__2(26479),Image:__webpack_require__2(88571),Layer:__webpack_require__2(93595),Particles:__webpack_require__2(18404),PathFollower:__webpack_require__2(1159),RenderTexture:__webpack_require__2(591),RetroFont:__webpack_require__2(196),Rope:__webpack_require__2(77757),Sprite:__webpack_require__2(68287),Text:__webpack_require__2(50171),GetTextSize:__webpack_require__2(14220),MeasureText:__webpack_require__2(79557),TextStyle:__webpack_require__2(35762),TileSprite:__webpack_require__2(20839),Zone:__webpack_require__2(41481),Video:__webpack_require__2(18471),Shape:__webpack_require__2(17803),Arc:__webpack_require__2(23629),Curve:__webpack_require__2(89),Ellipse:__webpack_require__2(19921),Grid:__webpack_require__2(30479),IsoBox:__webpack_require__2(61475),IsoTriangle:__webpack_require__2(16933),Line:__webpack_require__2(57847),Polygon:__webpack_require__2(24949),Rectangle:__webpack_require__2(74561),Star:__webpack_require__2(55911),Triangle:__webpack_require__2(36931),Factories:{Blitter:__webpack_require__2(12709),Container:__webpack_require__2(24961),DOMElement:__webpack_require__2(2611),DynamicBitmapText:__webpack_require__2(72566),Extern:__webpack_require__2(56315),Graphics:__webpack_require__2(1201),Group:__webpack_require__2(3385),Image:__webpack_require__2(2117),Layer:__webpack_require__2(20005),Particles:__webpack_require__2(676),PathFollower:__webpack_require__2(90145),RenderTexture:__webpack_require__2(60505),Rope:__webpack_require__2(96819),Sprite:__webpack_require__2(46409),StaticBitmapText:__webpack_require__2(34914),Text:__webpack_require__2(68005),TileSprite:__webpack_require__2(91681),Zone:__webpack_require__2(84175),Video:__webpack_require__2(89025),Arc:__webpack_require__2(42563),Curve:__webpack_require__2(40511),Ellipse:__webpack_require__2(1543),Grid:__webpack_require__2(34137),IsoBox:__webpack_require__2(3933),IsoTriangle:__webpack_require__2(49803),Line:__webpack_require__2(2481),Polygon:__webpack_require__2(64827),Rectangle:__webpack_require__2(87959),Star:__webpack_require__2(93697),Triangle:__webpack_require__2(45245)},Creators:{Blitter:__webpack_require__2(9403),Container:__webpack_require__2(77143),DynamicBitmapText:__webpack_require__2(11164),Graphics:__webpack_require__2(87079),Group:__webpack_require__2(94975),Image:__webpack_require__2(82459),Layer:__webpack_require__2(25179),Particles:__webpack_require__2(92730),RenderTexture:__webpack_require__2(34495),Rope:__webpack_require__2(26209),Sprite:__webpack_require__2(15567),StaticBitmapText:__webpack_require__2(57336),Text:__webpack_require__2(71259),TileSprite:__webpack_require__2(14167),Zone:__webpack_require__2(95261),Video:__webpack_require__2(11511)}};GameObjects.Shader=__webpack_require__2(20071),GameObjects.Mesh=__webpack_require__2(4703),GameObjects.NineSlice=__webpack_require__2(28103),GameObjects.PointLight=__webpack_require__2(80321),GameObjects.Plane=__webpack_require__2(33663),GameObjects.Factories.Shader=__webpack_require__2(74177),GameObjects.Factories.Mesh=__webpack_require__2(9225),GameObjects.Factories.NineSlice=__webpack_require__2(47521),GameObjects.Factories.PointLight=__webpack_require__2(71255),GameObjects.Factories.Plane=__webpack_require__2(30985),GameObjects.Creators.Shader=__webpack_require__2(54935),GameObjects.Creators.Mesh=__webpack_require__2(20527),GameObjects.Creators.NineSlice=__webpack_require__2(28279),GameObjects.Creators.PointLight=__webpack_require__2(39829),GameObjects.Creators.Plane=__webpack_require__2(56015),GameObjects.Light=__webpack_require__2(41432),GameObjects.LightsManager=__webpack_require__2(61356),GameObjects.LightsPlugin=__webpack_require__2(88992),module2.exports=GameObjects},93595:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),ComponentsToJSON=__webpack_require__2(53774),DataManager=__webpack_require__2(45893),EventEmitter2=__webpack_require__2(50792),GameObjectEvents=__webpack_require__2(51708),List=__webpack_require__2(73162),Render=__webpack_require__2(33963),SceneEvents=__webpack_require__2(44594),StableSort=__webpack_require__2(19186),Layer=new Class({Extends:List,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.PostPipeline,Components.Visible,EventEmitter2,Render],initialize:function Layer2(scene,children){List.call(this,scene),EventEmitter2.call(this),this.scene=scene,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=scene.sys,this.events=scene.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(BlendModes.SKIP_CHECK),children&&this.add(children),scene.sys.queueDepthSort()},setActive:function(value){return this.active=value,this},setName:function(value){return this.name=value,this},setState:function(value){return this.state=value,this},setDataEnabled:function(){return this.data||(this.data=new DataManager(this)),this},setData:function(key,value){return this.data||(this.data=new DataManager(this)),this.data.set(key,value),this},incData:function(key,value){return this.data||(this.data=new DataManager(this)),this.data.inc(key,value),this},toggleData:function(key){return this.data||(this.data=new DataManager(this)),this.data.toggle(key),this},getData:function(key){return this.data||(this.data=new DataManager(this)),this.data.get(key)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return ComponentsToJSON(this)},willRender:function(camera){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&camera.id)},getIndexList:function(){for(var child=this,parent=this.parentContainer,indexes=[];parent&&(indexes.unshift(parent.getIndex(child)),child=parent,parent.parentContainer);)parent=parent.parentContainer;return indexes.unshift(this.displayList.getIndex(child)),indexes},addChildCallback:function(gameObject){var displayList=gameObject.displayList;displayList&&displayList!==this&&gameObject.removeFromDisplayList(),gameObject.displayList||(this.queueDepthSort(),gameObject.displayList=this,gameObject.emit(GameObjectEvents.ADDED_TO_SCENE,gameObject,this.scene),this.events.emit(SceneEvents.ADDED_TO_SCENE,gameObject,this.scene))},removeChildCallback:function(gameObject){this.queueDepthSort(),gameObject.displayList=null,gameObject.emit(GameObjectEvents.REMOVED_FROM_SCENE,gameObject,this.scene),this.events.emit(SceneEvents.REMOVED_FROM_SCENE,gameObject,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(StableSort(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(childA,childB){return childA._depth-childB._depth},getChildren:function(){return this.list},addToDisplayList:function(displayList){return void 0===displayList&&(displayList=this.scene.sys.displayList),this.displayList&&this.displayList!==displayList&&this.removeFromDisplayList(),displayList.exists(this)||(this.displayList=displayList,displayList.add(this,!0),displayList.queueDepthSort(),this.emit(GameObjectEvents.ADDED_TO_SCENE,this,this.scene),displayList.events.emit(SceneEvents.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var displayList=this.displayList||this.scene.sys.displayList;return displayList.exists(this)&&(displayList.remove(this,!0),displayList.queueDepthSort(),this.displayList=null,this.emit(GameObjectEvents.REMOVED_FROM_SCENE,this,this.scene),displayList.events.emit(SceneEvents.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(fromScene){if(this.scene&&!this.ignoreDestroy){this.emit(GameObjectEvents.DESTROY,this);for(var list=this.list;list.length;)list[0].destroy(fromScene);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});module2.exports=Layer},2956:module2=>{module2.exports=function(renderer,layer,camera){var children=layer.list;if(0!==children.length){layer.depthSort();var layerHasBlendMode=-1!==layer.blendMode;layerHasBlendMode||renderer.setBlendMode(0);var alpha=layer._alpha;layer.mask&&layer.mask.preRenderCanvas(renderer,null,camera);for(var i=0;i<children.length;i++){var child=children[i];if(child.willRender(camera)){var childAlpha=child.alpha;layerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode),child.setAlpha(childAlpha*alpha),child.renderCanvas(renderer,child,camera),child.setAlpha(childAlpha)}}layer.mask&&layer.mask.postRenderCanvas(renderer)}}},25179:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),Layer=__webpack_require__2(93595),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568);GameObjectCreator.register("layer",(function(config2,addToScene){void 0===config2&&(config2={});var children=GetAdvancedValue(config2,"children",null),layer=new Layer(this.scene,children);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,layer,config2),layer}))},20005:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Layer=__webpack_require__2(93595);__webpack_require__2(39429).register("layer",(function(children){return this.displayList.add(new Layer(this.scene,children))}))},33963:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(15869),renderCanvas=__webpack_require__2(2956),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},15869:module2=>{module2.exports=function(renderer,layer,camera){var children=layer.list,childCount=children.length;if(0!==childCount){layer.depthSort(),renderer.pipelines.preBatch(layer);var layerHasBlendMode=-1!==layer.blendMode;layerHasBlendMode||renderer.setBlendMode(0);for(var alpha=layer.alpha,i=0;i<childCount;i++){var child=children[i];if(child.willRender(camera)){var childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight;if(void 0!==child.alphaTopLeft)childAlphaTopLeft=child.alphaTopLeft,childAlphaTopRight=child.alphaTopRight,childAlphaBottomLeft=child.alphaBottomLeft,childAlphaBottomRight=child.alphaBottomRight;else{var childAlpha=child.alpha;childAlphaTopLeft=childAlpha,childAlphaTopRight=childAlpha,childAlphaBottomLeft=childAlpha,childAlphaBottomRight=childAlpha}layerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);var mask=child.mask;mask&&mask.preRenderWebGL(renderer,child,camera);var type=child.type;type!==renderer.currentType&&(renderer.newType=!0,renderer.currentType=type),renderer.nextTypeMatch=i<childCount-1&&children[i+1].type===renderer.currentType,child.setAlpha(childAlphaTopLeft*alpha,childAlphaTopRight*alpha,childAlphaBottomLeft*alpha,childAlphaBottomRight*alpha),child.renderWebGL(renderer,child,camera),child.setAlpha(childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight),mask&&mask.postRenderWebGL(renderer,camera),renderer.newType=!1}}renderer.pipelines.postBatch(layer)}}},41432:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circle=__webpack_require__2(96503),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),RGB=__webpack_require__2(51767),Utils=__webpack_require__2(70554),Light=new Class({Extends:Circle,Mixins:[Components.Origin,Components.ScrollFactor,Components.Visible],initialize:function Light2(x,y,radius,r,g,b,intensity){Circle.call(this,x,y,radius),this.color=new RGB(r,g,b),this.intensity=intensity,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(radius)},displayWidth:{get:function(){return this.diameter},set:function(value){this.diameter=value}},displayHeight:{get:function(){return this.diameter},set:function(value){this.diameter=value}},width:{get:function(){return this.diameter},set:function(value){this.diameter=value}},height:{get:function(){return this.diameter},set:function(value){this.diameter=value}},willRender:function(camera){return!(Light.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},setColor:function(rgb){var color=Utils.getFloatsFromUintRGB(rgb);return this.color.set(color[0],color[1],color[2]),this},setIntensity:function(intensity){return this.intensity=intensity,this},setRadius:function(radius){return this.radius=radius,this}});Light.RENDER_MASK=15,module2.exports=Light},61356:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CircleToRectangle=__webpack_require__2(81491),Class=__webpack_require__2(83419),DistanceBetween=__webpack_require__2(20339),Light=__webpack_require__2(41432),PointLight=__webpack_require__2(80321),RGB=__webpack_require__2(51767),SpliceOne=__webpack_require__2(19133),StableSort=__webpack_require__2(19186),Utils=__webpack_require__2(70554),LightsManager=new Class({initialize:function LightsManager2(){this.lights=[],this.ambientColor=new RGB(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(x,y,color,radius,intensity,attenuation){return this.systems.displayList.add(new PointLight(this.scene,x,y,color,radius,intensity,attenuation))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(camera){for(var lights=this.lights,worldView=camera.worldView,visibleLights=[],i=0;i<lights.length;i++){var light=lights[i];light.willRender(camera)&&CircleToRectangle(light,worldView)&&visibleLights.push({light:light,distance:DistanceBetween(light.x,light.y,worldView.centerX,worldView.centerY)})}return visibleLights.length>this.maxLights&&(StableSort(visibleLights,this.sortByDistance),visibleLights=visibleLights.slice(0,this.maxLights)),this.visibleLights=visibleLights.length,visibleLights},sortByDistance:function(a,b){return a.distance>=b.distance},setAmbientColor:function(rgb){var color=Utils.getFloatsFromUintRGB(rgb);return this.ambientColor.set(color[0],color[1],color[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(x,y,radius,rgb,intensity){void 0===x&&(x=0),void 0===y&&(y=0),void 0===radius&&(radius=128),void 0===rgb&&(rgb=16777215),void 0===intensity&&(intensity=1);var color=Utils.getFloatsFromUintRGB(rgb),light=new Light(x,y,radius,color[0],color[1],color[2],intensity);return this.lights.push(light),light},removeLight:function(light){var index=this.lights.indexOf(light);return index>=0&&SpliceOne(this.lights,index),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});module2.exports=LightsManager},88992:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),LightsManager=__webpack_require__2(61356),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),LightsPlugin=new Class({Extends:LightsManager,initialize:function LightsPlugin2(scene){this.scene=scene,this.systems=scene.sys,scene.sys.settings.isBooted||scene.sys.events.once(SceneEvents.BOOT,this.boot,this),LightsManager.call(this)},boot:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.SHUTDOWN,this.shutdown,this),eventEmitter.on(SceneEvents.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});PluginCache.register("LightsPlugin",LightsPlugin,"lights"),module2.exports=LightsPlugin},4703:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),DegToRad=__webpack_require__2(39506),Face=__webpack_require__2(83997),GameObject=__webpack_require__2(95643),GenerateObjVerts=__webpack_require__2(34684),GenerateVerts=__webpack_require__2(92515),GetCalcMatrix=__webpack_require__2(91296),Matrix4=__webpack_require__2(37867),MeshRender=__webpack_require__2(29807),RadToDeg=__webpack_require__2(43396),StableSort=__webpack_require__2(19186),Vector3=__webpack_require__2(25836),Vertex=__webpack_require__2(39318),Mesh=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Size,Components.Texture,Components.Transform,Components.Visible,MeshRender],initialize:function Mesh2(scene,x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas){void 0===x&&(x=0),void 0===y&&(y=0),void 0===texture&&(texture="__WHITE"),GameObject.call(this,scene,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new Vector3,this.modelScale=new Vector3(1,1,1),this.modelRotation=new Vector3,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new Matrix4,this.viewPosition=new Vector3,this.viewMatrix=new Matrix4,this.projectionMatrix=new Matrix4,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var renderer=scene.sys.renderer;this.setPosition(x,y),this.setTexture(texture,frame),this.setSize(renderer.width,renderer.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(renderer.width,renderer.height),vertices&&this.addVertices(vertices,uvs,indicies,containsZ,normals,colors,alphas)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(v){return this.viewPosition.addScale(Vector3.LEFT,v),this.dirtyCache[10]=1,this},panY:function(v){return this.viewPosition.y+=Vector3.DOWN.y*v,this.dirtyCache[10]=1,this},panZ:function(amount){return this.viewPosition.z+=amount,this.dirtyCache[10]=1,this},setPerspective:function(width,height,fov,near,far){return void 0===fov&&(fov=45),void 0===near&&(near=.01),void 0===far&&(far=1e3),this.fov=fov,this.projectionMatrix.perspective(DegToRad(fov),width/height,near,far),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(scaleX,scaleY,near,far){return void 0===scaleX&&(scaleX=this.scene.sys.renderer.getAspectRatio()),void 0===scaleY&&(scaleY=1),void 0===near&&(near=-1e3),void 0===far&&(far=1e3),this.fov=0,this.projectionMatrix.ortho(-scaleX,scaleX,-scaleY,scaleY,near,far),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach((function(face){face.destroy()})),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(key,scale,x,y,z2,rotateX,rotateY,rotateZ,zIsUp){var parsedData,data=this.scene.sys.cache.obj.get(key);return data&&(parsedData=GenerateObjVerts(data,this,scale,x,y,z2,rotateX,rotateY,rotateZ,zIsUp)),parsedData&&0!==parsedData.verts.length||console.warn("Mesh.addVerticesFromObj data empty:",key),this},sortByDepth:function(faceA,faceB){return faceA.depth-faceB.depth},depthSort:function(){return StableSort(this.faces,this.sortByDepth),this},addVertex:function(x,y,z2,u,v,color,alpha){var vert=new Vertex(x,y,z2,u,v,color,alpha);return this.vertices.push(vert),vert},addFace:function(vertex1,vertex2,vertex3){var face=new Face(vertex1,vertex2,vertex3);return this.faces.push(face),this.dirtyCache[9]=-1,face},addVertices:function(vertices,uvs,indicies,containsZ,normals,colors,alphas){var result=GenerateVerts(vertices,uvs,indicies,containsZ,normals,colors,alphas);return result?(this.faces=this.faces.concat(result.faces),this.vertices=this.vertices.concat(result.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(index){return this.faces[index]},hasFaceAt:function(x,y,camera){void 0===camera&&(camera=this.scene.sys.cameras.main);for(var calcMatrix=GetCalcMatrix(this,camera).calc,faces=this.faces,i=0;i<faces.length;i++)if(faces[i].contains(x,y,calcMatrix))return!0;return!1},getFaceAt:function(x,y,camera){void 0===camera&&(camera=this.scene.sys.cameras.main);for(var calcMatrix=GetCalcMatrix(this,camera).calc,faces=this.faces,results=[],i=0;i<faces.length;i++){var face=faces[i];face.contains(x,y,calcMatrix)&&results.push(face)}return StableSort(results,this.sortByDepth)},setDebug:function(graphic,callback){return this.debugGraphic=graphic,this.debugCallback=graphic||callback?callback||this.renderDebug:null,this},isDirty:function(){var position2=this.modelPosition,rotation=this.modelRotation,scale=this.modelScale,dirtyCache=this.dirtyCache,px=position2.x,py=position2.y,pz=position2.z,rx=rotation.x,ry=rotation.y,rz=rotation.z,sx=scale.x,sy=scale.y,sz=scale.z,faces=this.getFaceCount(),pxCached=dirtyCache[0],pyCached=dirtyCache[1],pzCached=dirtyCache[2],rxCached=dirtyCache[3],ryCached=dirtyCache[4],rzCached=dirtyCache[5],sxCached=dirtyCache[6],syCached=dirtyCache[7],szCached=dirtyCache[8],fCached=dirtyCache[9];return dirtyCache[0]=px,dirtyCache[1]=py,dirtyCache[2]=pz,dirtyCache[3]=rx,dirtyCache[4]=ry,dirtyCache[5]=rz,dirtyCache[6]=sx,dirtyCache[7]=sy,dirtyCache[8]=sz,dirtyCache[9]=faces,pxCached!==px||pyCached!==py||pzCached!==pz||rxCached!==rx||ryCached!==ry||rzCached!==rz||sxCached!==sx||syCached!==sy||szCached!==sz||fCached!==faces},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var dirty=this.dirtyCache;if(this.ignoreDirtyCache||dirty[10]||this.isDirty()){var width=this.width,height=this.height,viewMatrix=this.viewMatrix,viewPosition=this.viewPosition;dirty[10]&&(viewMatrix.identity(),viewMatrix.translate(viewPosition),viewMatrix.invert(),dirty[10]=0);var transformMatrix=this.transformMatrix;transformMatrix.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var z2=viewPosition.z,faces=this.faces,i=0;i<faces.length;i++)faces[i].transformCoordinatesLocal(transformMatrix,width,height,z2);this.depthSort()}},renderDebug:function(src2,faces){for(var graphic=src2.debugGraphic,i=0;i<faces.length;i++){var face=faces[i],x0=face.vertex1.tx,y0=face.vertex1.ty,x1=face.vertex2.tx,y1=face.vertex2.ty,x2=face.vertex3.tx,y2=face.vertex3.ty;graphic.strokeTriangle(x0,y0,x1,y1,x2,y2)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(config2){void 0===config2&&(config2={});var hitAreaCallback=function(area,x,y){for(var faces=this.faces,i=0;i<faces.length;i++)if(faces[i].contains(x,y))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,config2,hitAreaCallback),this},setTint:function(tint){void 0===tint&&(tint=16777215);for(var vertices=this.vertices,i=0;i<vertices.length;i++)vertices[i].color=tint;return this},uvScroll:function(x,y){for(var faces=this.faces,i=0;i<faces.length;i++)faces[i].scrollUV(x,y);return this},uvScale:function(x,y){for(var faces=this.faces,i=0;i<faces.length;i++)faces[i].scaleUV(x,y);return this},tint:{set:function(value){this.setTint(value)}},rotateX:{get:function(){return RadToDeg(this.modelRotation.x)},set:function(value){this.modelRotation.x=DegToRad(value)}},rotateY:{get:function(){return RadToDeg(this.modelRotation.y)},set:function(value){this.modelRotation.y=DegToRad(value)}},rotateZ:{get:function(){return RadToDeg(this.modelRotation.z)},set:function(value){this.modelRotation.z=DegToRad(value)}}});module2.exports=Mesh},36488:module2=>{module2.exports=function(){}},20527:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154),Mesh=__webpack_require__2(4703);GameObjectCreator.register("mesh",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),vertices=GetValue(config2,"vertices",[]),uvs=GetValue(config2,"uvs",[]),indicies=GetValue(config2,"indicies",[]),containsZ=GetValue(config2,"containsZ",!1),normals=GetValue(config2,"normals",[]),colors=GetValue(config2,"colors",16777215),alphas=GetValue(config2,"alphas",1),mesh=new Mesh(this.scene,0,0,key,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,mesh,config2),mesh}))},9225:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Mesh=__webpack_require__2(4703);__webpack_require__2(39429).register("mesh",(function(x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas){return this.displayList.add(new Mesh(this.scene,x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas))}))},29807:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(48833),renderCanvas=__webpack_require__2(36488),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},48833:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296);module2.exports=function(renderer,src2,camera,parentMatrix){var faces=src2.faces,totalFaces=faces.length;if(0!==totalFaces){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2),calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc;renderer.pipelines.preBatch(src2);for(var textureUnit=pipeline.setGameObject(src2),F32=pipeline.vertexViewF32,U32=pipeline.vertexViewU32,vertexOffset=pipeline.vertexCount*pipeline.currentShader.vertexComponentCount-1,tintEffect=src2.tintFill,debugFaces=[],debugCallback=src2.debugCallback,a=calcMatrix.a,b=calcMatrix.b,c=calcMatrix.c,d=calcMatrix.d,e=calcMatrix.e,f=calcMatrix.f,z2=src2.viewPosition.z,hideCCW=src2.hideCCW,roundPixels=camera.roundPixels,alpha=camera.alpha*src2.alpha,totalFacesRendered=0,i=0;i<totalFaces;i++){var face=faces[i];face.isInView(camera,hideCCW,z2,alpha,a,b,c,d,e,f,roundPixels)&&(pipeline.shouldFlush(3)&&(pipeline.flush(),textureUnit=pipeline.setGameObject(src2),vertexOffset=pipeline.vertexCount*pipeline.currentShader.vertexComponentCount-1),vertexOffset=face.load(F32,U32,vertexOffset,textureUnit,tintEffect),totalFacesRendered++,pipeline.vertexCount+=3,pipeline.currentBatch.count=pipeline.vertexCount-pipeline.currentBatch.start,debugCallback&&debugFaces.push(face))}src2.totalFrame+=totalFacesRendered,debugCallback&&debugCallback.call(src2,src2,debugFaces),renderer.pipelines.postBatch(src2)}}},28103:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),NineSliceRender=__webpack_require__2(78023),Vertex=__webpack_require__2(39318),NineSlice=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Texture,Components.Transform,Components.Visible,NineSliceRender],initialize:function NineSlice2(scene,x,y,texture,frame,width,height,leftWidth,rightWidth,topHeight,bottomHeight){GameObject.call(this,scene,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var textureFrame=scene.textures.getFrame(texture,frame);this.is3Slice=!topHeight&&!bottomHeight,textureFrame&&textureFrame.scale9&&(this.is3Slice=textureFrame.is3Slice);for(var size=this.is3Slice?18:54,i=0;i<size;i++)this.vertices.push(new Vertex);this.setPosition(x,y),this.setTexture(texture,frame),this.setSlices(width,height,leftWidth,rightWidth,topHeight,bottomHeight,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(width,height,leftWidth,rightWidth,topHeight,bottomHeight,skipScale9){void 0===leftWidth&&(leftWidth=10),void 0===rightWidth&&(rightWidth=10),void 0===topHeight&&(topHeight=0),void 0===bottomHeight&&(bottomHeight=0),void 0===skipScale9&&(skipScale9=!1);var frame=this.frame,sliceChange=!1;if(this.is3Slice&&skipScale9&&0!==topHeight&&0!==bottomHeight&&(sliceChange=!0),sliceChange)console.warn("Cannot change 9 slice to 3 slice");else{if(frame&&frame.scale9&&!skipScale9){var data=frame.data.scale9Borders,x=data.x,y=data.y;leftWidth=x,rightWidth=frame.width-data.w-x,topHeight=y,bottomHeight=frame.height-data.h-y,void 0===width&&(width=frame.width),void 0===height&&(height=frame.height)}else void 0===width&&(width=256),void 0===height&&(height=256);this._width=width,this._height=height,this.leftWidth=leftWidth,this.rightWidth=rightWidth,this.topHeight=topHeight,this.bottomHeight=bottomHeight,this.is3Slice&&(height=frame.height,this._height=height,this.topHeight=height,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var left=this.leftWidth,right=this.rightWidth,top=this.topHeight,bot=this.bottomHeight,width=this.frame.width,height=this.frame.height;this.updateQuadUVs(0,0,0,left/width,top/height),this.updateQuadUVs(6,left/width,0,1-right/width,top/height),this.updateQuadUVs(12,1-right/width,0,1,top/height),this.is3Slice||(this.updateQuadUVs(18,0,top/height,left/width,1-bot/height),this.updateQuadUVs(24,left/width,top/height,1-right/width,1-bot/height),this.updateQuadUVs(30,1-right/width,top/height,1,1-bot/height),this.updateQuadUVs(36,0,1-bot/height,left/width,1),this.updateQuadUVs(42,left/width,1-bot/height,1-right/width,1),this.updateQuadUVs(48,1-right/width,1-bot/height,1,1))},updateVertices:function(){var left=this.leftWidth,right=this.rightWidth,top=this.topHeight,bot=this.bottomHeight,width=this.width,height=this.height;this.updateQuad(0,-.5,.5,left/width-.5,.5-top/height),this.updateQuad(6,left/width-.5,.5,.5-right/width,.5-top/height),this.updateQuad(12,.5-right/width,.5,.5,.5-top/height),this.is3Slice||(this.updateQuad(18,-.5,.5-top/height,left/width-.5,bot/height-.5),this.updateQuad(24,left/width-.5,.5-top/height,.5-right/width,bot/height-.5),this.updateQuad(30,.5-right/width,.5-top/height,.5,bot/height-.5),this.updateQuad(36,-.5,bot/height-.5,left/width-.5,-.5),this.updateQuad(42,left/width-.5,bot/height-.5,.5-right/width,-.5),this.updateQuad(48,.5-right/width,bot/height-.5,.5,-.5))},updateQuad:function(offset,x1,y1,x2,y2){var width=this.width,height=this.height,originX=this.originX,originY=this.originY,verts=this.vertices;verts[offset+0].resize(x1,y1,width,height,originX,originY),verts[offset+1].resize(x1,y2,width,height,originX,originY),verts[offset+2].resize(x2,y1,width,height,originX,originY),verts[offset+3].resize(x1,y2,width,height,originX,originY),verts[offset+4].resize(x2,y2,width,height,originX,originY),verts[offset+5].resize(x2,y1,width,height,originX,originY)},updateQuadUVs:function(offset,u1,v1,u2,v2){var verts=this.vertices,frame=this.frame,fu1=frame.u0,fv1=frame.v0,fu2=frame.u1,fv2=frame.v1;if(0!==fu1||1!==fu2){var udiff=fu2-fu1;u1=fu1+u1*udiff,u2=fu1+u2*udiff}if(0!==fv1||1!==fv2){var vdiff=fv2-fv1;v1=fv1+v1*vdiff,v2=fv1+v2*vdiff}verts[offset+0].setUVs(u1,v1),verts[offset+1].setUVs(u1,v2),verts[offset+2].setUVs(u2,v1),verts[offset+3].setUVs(u1,v2),verts[offset+4].setUVs(u2,v2),verts[offset+5].setUVs(u2,v1)},clearTint:function(){return this.setTint(16777215),this},setTint:function(color){return void 0===color&&(color=16777215),this.tint=color,this.tintFill=!1,this},setTintFill:function(color){return this.setTint(color),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(value){this._width=Math.max(value,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(value){this.is3Slice||(this._height=Math.max(value,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}},setSize:function(width,height){this.width=width,this.height=height,this.updateDisplayOrigin();var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=this.width,input.hitArea.height=this.height),this},setDisplaySize:function(width,height){return this.displayWidth=width,this.displayHeight=height,this},originX:{get:function(){return this._originX},set:function(value){this._originX=value,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(value){this._originY=value,this.updateVertices()}},setOrigin:function(x,y){return void 0===x&&(x=.5),void 0===y&&(y=x),this._originX=x,this._originY=y,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var height=this.frame.height;this._height=height,this.topHeight=height,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});module2.exports=NineSlice},28279:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154),NineSlice=__webpack_require__2(28103);GameObjectCreator.register("nineslice",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),width=GetValue(config2,"width",256),height=GetValue(config2,"height",256),leftWidth=GetValue(config2,"leftWidth",10),rightWidth=GetValue(config2,"rightWidth",10),topHeight=GetValue(config2,"topHeight",0),bottomHeight=GetValue(config2,"bottomHeight",0),nineslice=new NineSlice(this.scene,0,0,key,frame,width,height,leftWidth,rightWidth,topHeight,bottomHeight);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,nineslice,config2),nineslice}))},47521:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var NineSlice=__webpack_require__2(28103);__webpack_require__2(39429).register("nineslice",(function(x,y,texture,frame,width,height,leftWidth,rightWidth,topHeight,bottomHeight){return this.displayList.add(new NineSlice(this.scene,x,y,texture,frame,width,height,leftWidth,rightWidth,topHeight,bottomHeight))}))},78023:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,NOOP=__webpack_require__2(29747),renderCanvas=NOOP;renderWebGL=__webpack_require__2(52230),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},52230:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){var verts=src2.vertices,totalVerts=verts.length;if(0!==totalVerts){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2),calcMatrix=GetCalcMatrix(src2,camera,parentMatrix,!1).calc;renderer.pipelines.preBatch(src2);var textureUnit=pipeline.setGameObject(src2),F32=pipeline.vertexViewF32,U32=pipeline.vertexViewU32,vertexOffset=pipeline.vertexCount*pipeline.currentShader.vertexComponentCount-1,roundPixels=camera.roundPixels,tintEffect=src2.tintFill,alpha=camera.alpha*src2.alpha,color=Utils.getTintAppendFloatAlpha(src2.tint,alpha),available=pipeline.vertexAvailable(),flushCount=-1;available<totalVerts&&(flushCount=available);for(var i=0;i<totalVerts;i++){var vert=verts[i];i===flushCount&&(pipeline.flush(),textureUnit=pipeline.setGameObject(src2),vertexOffset=0),F32[++vertexOffset]=calcMatrix.getXRound(vert.vx,vert.vy,roundPixels),F32[++vertexOffset]=calcMatrix.getYRound(vert.vx,vert.vy,roundPixels),F32[++vertexOffset]=vert.u,F32[++vertexOffset]=vert.v,F32[++vertexOffset]=textureUnit,F32[++vertexOffset]=tintEffect,U32[++vertexOffset]=color,pipeline.vertexCount++,pipeline.currentBatch.count=pipeline.vertexCount-pipeline.currentBatch.start}renderer.pipelines.postBatch(src2)}}},76472:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EmitterOp=__webpack_require__2(44777),GetColor=__webpack_require__2(37589),GetEaseFunction=__webpack_require__2(6113),GetInterpolationFunction=__webpack_require__2(91389),IntegerToRGB=__webpack_require__2(90664),EmitterColorOp=new Class({Extends:EmitterOp,initialize:function EmitterColorOp2(key){EmitterOp.call(this,key,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var value=this.propertyValue,current=value,onEmit=this.defaultEmit,onUpdate=this.defaultUpdate;if(9===this.method){this.start=value[0],this.ease=GetEaseFunction("Linear"),this.interpolation=GetInterpolationFunction("linear"),onEmit=this.easedValueEmit,onUpdate=this.easeValueUpdate,current=value[0],this.active=!0;for(var i=0;i<value.length;i++){var color=IntegerToRGB(value[i]);this.r.push(color.r),this.g.push(color.g),this.b.push(color.b)}}return this.onEmit=onEmit,this.onUpdate=onUpdate,this.current=current,this},setEase:function(value){this.easeName=value,this.ease=GetEaseFunction(value)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(particle,key,t){var v=this.ease(t),r=this.interpolation(this.r,v),g=this.interpolation(this.g,v),b=this.interpolation(this.b,v),current=GetColor(r,g,b);return this.current=current,current}});module2.exports=EmitterColorOp},44777:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=__webpack_require__2(30976),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),FloatBetween=__webpack_require__2(99472),GetEaseFunction=__webpack_require__2(6113),GetFastValue=__webpack_require__2(95540),GetInterpolationFunction=__webpack_require__2(91389),SnapTo=__webpack_require__2(77720),Wrap=__webpack_require__2(15994),EmitterOp=new Class({initialize:function EmitterOp2(key,defaultValue,emitOnly){void 0===emitOnly&&(emitOnly=!1),this.propertyKey=key,this.propertyValue=defaultValue,this.defaultValue=defaultValue,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=emitOnly,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(config2,newKey){void 0===config2&&(config2={}),newKey&&(this.propertyKey=newKey),this.propertyValue=GetFastValue(config2,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(value){var current;switch(this.method){case 1:case 3:case 8:current=value;break;case 2:this.propertyValue.indexOf(value)>=0&&(current=value);break;case 4:var step=(this.end-this.start)/this.steps;current=SnapTo(value,step),this.counter=current;break;case 5:case 6:case 7:current=Clamp(value,this.start,this.end);break;case 9:current=this.start[0]}return this.current=current,this},getMethod:function(){var value=this.propertyValue;if(null===value)return 0;var t=typeof value;if("number"===t)return 1;if(Array.isArray(value))return 2;if("function"===t)return 3;if("object"===t){if(this.hasBoth(value,"start","end"))return this.has(value,"steps")?4:5;if(this.hasBoth(value,"min","max"))return 6;if(this.has(value,"random"))return 7;if(this.hasEither(value,"onEmit","onUpdate"))return 8;if(this.hasEither(value,"values","interpolation"))return 9}return 0},setMethods:function(){var value=this.propertyValue,current=value,onEmit=this.defaultEmit,onUpdate=this.defaultUpdate;switch(this.method){case 1:onEmit=this.staticValueEmit;break;case 2:onEmit=this.randomStaticValueEmit,current=value[0];break;case 3:this._onEmit=value,onEmit=this.proxyEmit;break;case 4:this.start=value.start,this.end=value.end,this.steps=value.steps,this.counter=this.start,this.yoyo=!!this.has(value,"yoyo")&&value.yoyo,this.direction=0,onEmit=this.steppedEmit,current=this.start;break;case 5:this.start=value.start,this.end=value.end;var easeType=this.has(value,"ease")?value.ease:"Linear";this.ease=GetEaseFunction(easeType,value.easeParams),onEmit=this.has(value,"random")&&value.random?this.randomRangedValueEmit:this.easedValueEmit,onUpdate=this.easeValueUpdate,current=this.start;break;case 6:this.start=value.min,this.end=value.max,onEmit=this.has(value,"int")&&value.int?this.randomRangedIntEmit:this.randomRangedValueEmit,current=this.start;break;case 7:var rnd=value.random;Array.isArray(rnd)&&(this.start=rnd[0],this.end=rnd[1]),onEmit=this.randomRangedIntEmit,current=this.start;break;case 8:this._onEmit=this.has(value,"onEmit")?value.onEmit:this.defaultEmit,this._onUpdate=this.has(value,"onUpdate")?value.onUpdate:this.defaultUpdate,onEmit=this.proxyEmit,onUpdate=this.proxyUpdate;break;case 9:this.start=value.values;var easeTypeI=this.has(value,"ease")?value.ease:"Linear";this.ease=GetEaseFunction(easeTypeI,value.easeParams),this.interpolation=GetInterpolationFunction(value.interpolation),onEmit=this.easedValueEmit,onUpdate=this.easeValueUpdate,current=this.start[0]}return this.onEmit=onEmit,this.onUpdate=onUpdate,this.current=current,this},has:function(object,key){return object.hasOwnProperty(key)},hasBoth:function(object,key1,key2){return object.hasOwnProperty(key1)&&object.hasOwnProperty(key2)},hasEither:function(object,key1,key2){return object.hasOwnProperty(key1)||object.hasOwnProperty(key2)},defaultEmit:function(particle,key,value){return value},defaultUpdate:function(particle,key,t,value){return value},proxyEmit:function(particle,key,value){var result=this._onEmit(particle,key,value);return this.current=result,result},proxyUpdate:function(particle,key,t,value){var result=this._onUpdate(particle,key,t,value);return this.current=result,result},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var randomIndex=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[randomIndex],this.current},randomRangedValueEmit:function(particle,key){var value=FloatBetween(this.start,this.end);return particle&&particle.data[key]&&(particle.data[key].min=value,particle.data[key].max=this.end),this.current=value,value},randomRangedIntEmit:function(particle,key){var value=Between(this.start,this.end);return particle&&particle.data[key]&&(particle.data[key].min=value,particle.data[key].max=this.end),this.current=value,value},steppedEmit:function(){var over,current=this.counter,next=current,step=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(next+=step)>=this.end&&(over=next-this.end,next=this.end-over,this.direction=1):(next-=step)<=this.start&&(over=this.start-next,next=this.start+over,this.direction=0),this.counter=next):this.counter=Wrap(next+step,this.start,this.end),this.current=current,current},easedValueEmit:function(particle,key){if(particle&&particle.data[key]){var data=particle.data[key];data.min=this.start,data.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(particle,key,t){var current,data=particle.data[key],v=this.ease(t);return current=this.interpolation?this.interpolation(this.start,v):(data.max-data.min)*v+data.min,this.current=current,current},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});module2.exports=EmitterOp},24502:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),ParticleProcessor=__webpack_require__2(20286),GravityWell=new Class({Extends:ParticleProcessor,initialize:function GravityWell2(x,y,power,epsilon,gravity){if("object"==typeof x){var config2=x;x=GetFastValue(config2,"x",0),y=GetFastValue(config2,"y",0),power=GetFastValue(config2,"power",0),epsilon=GetFastValue(config2,"epsilon",100),gravity=GetFastValue(config2,"gravity",50)}else void 0===x&&(x=0),void 0===y&&(y=0),void 0===power&&(power=0),void 0===epsilon&&(epsilon=100),void 0===gravity&&(gravity=50);ParticleProcessor.call(this,x,y,!0),this._gravity=gravity,this._power=power*gravity,this._epsilon=epsilon*epsilon},update:function(particle,delta){var x=this.x-particle.x,y=this.y-particle.y,dSq=x*x+y*y;if(0!==dSq){var d=Math.sqrt(dSq);dSq<this._epsilon&&(dSq=this._epsilon);var factor=this._power*delta/(dSq*d)*100;particle.velocityX+=x*factor,particle.velocityY+=y*factor}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(value){this._epsilon=value*value}},power:{get:function(){return this._power/this._gravity},set:function(value){this._power=value*this._gravity}},gravity:{get:function(){return this._gravity},set:function(value){var pwr=this.power;this._gravity=value,this.power=pwr}}});module2.exports=GravityWell},56480:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationState=__webpack_require__2(9674),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),DegToRad=__webpack_require__2(39506),Rectangle=__webpack_require__2(87841),RotateAround=__webpack_require__2(11520),Vector2=__webpack_require__2(26099),Particle=new Class({initialize:function Particle2(emitter){this.emitter=emitter,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new Vector2,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=emitter.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new AnimationState(this)),this.bounds=new Rectangle},emit:function(event,a1,a2,a3,a4,a5){return this.emitter.emit(event,a1,a2,a3,a4,a5)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(x,y){void 0===x&&(x=0),void 0===y&&(y=0),this.x=x,this.y=y},fire:function(x,y){var emitter=this.emitter,ops=emitter.ops,anim=emitter.getAnim();if(anim?this.anims.play(anim):(this.frame=emitter.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(emitter.getEmitZone(this),void 0===x?this.x+=ops.x.onEmit(this,"x"):ops.x.steps>0?this.x+=x+ops.x.onEmit(this,"x"):this.x+=x,void 0===y?this.y+=ops.y.onEmit(this,"y"):ops.y.steps>0?this.y+=y+ops.y.onEmit(this,"y"):this.y+=y,this.life=ops.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=ops.delay.onEmit(this,"delay"),this.holdCurrent=ops.hold.onEmit(this,"hold"),this.scaleX=ops.scaleX.onEmit(this,"scaleX"),this.scaleY=ops.scaleY.active?ops.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=ops.rotate.onEmit(this,"rotate"),this.rotation=DegToRad(this.angle),emitter.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&emitter.getDeathZone(this))return this.lifeCurrent=0,!1;var sx=ops.speedX.onEmit(this,"speedX"),sy=ops.speedY.active?ops.speedY.onEmit(this,"speedY"):sx;if(emitter.radial){var rad=DegToRad(ops.angle.onEmit(this,"angle"));this.velocityX=Math.cos(rad)*Math.abs(sx),this.velocityY=Math.sin(rad)*Math.abs(sy)}else if(emitter.moveTo){var mx=ops.moveToX.onEmit(this,"moveToX"),my=ops.moveToY.onEmit(this,"moveToY"),lifeS=this.life/1e3;this.velocityX=(mx-this.x)/lifeS,this.velocityY=(my-this.y)/lifeS}else this.velocityX=sx,this.velocityY=sy;return emitter.acceleration&&(this.accelerationX=ops.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=ops.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=ops.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=ops.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=ops.bounce.onEmit(this,"bounce"),this.alpha=ops.alpha.onEmit(this,"alpha"),ops.color.active?this.tint=ops.color.onEmit(this,"tint"):this.tint=ops.tint.onEmit(this,"tint"),!0},update:function(delta,step,processors){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=delta,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=delta,!1;this.anims&&this.anims.update(0,delta);var emitter=this.emitter,ops=emitter.ops,t=1-this.lifeCurrent/this.life;if(this.lifeT=t,this.x=ops.x.onUpdate(this,"x",t,this.x),this.y=ops.y.onUpdate(this,"y",t,this.y),emitter.moveTo){var mx=ops.moveToX.onUpdate(this,"moveToX",t,emitter.moveToX),my=ops.moveToY.onUpdate(this,"moveToY",t,emitter.moveToY),lifeS=this.lifeCurrent/1e3;this.velocityX=(mx-this.x)/lifeS,this.velocityY=(my-this.y)/lifeS}return this.computeVelocity(emitter,delta,step,processors,t),this.scaleX=ops.scaleX.onUpdate(this,"scaleX",t,this.scaleX),ops.scaleY.active?this.scaleY=ops.scaleY.onUpdate(this,"scaleY",t,this.scaleY):this.scaleY=this.scaleX,this.angle=ops.rotate.onUpdate(this,"rotate",t,this.angle),this.rotation=DegToRad(this.angle),emitter.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=Clamp(ops.alpha.onUpdate(this,"alpha",t,this.alpha),0,1),ops.color.active?this.tint=ops.color.onUpdate(this,"color",t,this.tint):this.tint=ops.tint.onUpdate(this,"tint",t,this.tint),this.lifeCurrent-=delta,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(emitter,delta,step,processors,t){var ops=emitter.ops,vx=this.velocityX,vy=this.velocityY,ax=ops.accelerationX.onUpdate(this,"accelerationX",t,this.accelerationX),ay=ops.accelerationY.onUpdate(this,"accelerationY",t,this.accelerationY),mx=ops.maxVelocityX.onUpdate(this,"maxVelocityX",t,this.maxVelocityX),my=ops.maxVelocityY.onUpdate(this,"maxVelocityY",t,this.maxVelocityY);this.bounce=ops.bounce.onUpdate(this,"bounce",t,this.bounce),vx+=emitter.gravityX*step+ax*step,vy+=emitter.gravityY*step+ay*step,vx=Clamp(vx,-mx,mx),vy=Clamp(vy,-my,my),this.velocityX=vx,this.velocityY=vy,this.x+=vx*step,this.y+=vy*step,emitter.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var i=0;i<processors.length;i++){var processor=processors[i];processor.active&&processor.update(this,delta,step,t)}},setSizeToFrame:function(){},getBounds:function(matrix){void 0===matrix&&(matrix=this.emitter.getWorldTransformMatrix());var sx=Math.abs(matrix.scaleX)*this.scaleX,sy=Math.abs(matrix.scaleY)*this.scaleY,x=this.x,y=this.y,rotation=this.rotation,width=this.frame.width*sx/2,height=this.frame.height*sy/2,bounds=this.bounds,topLeft=new Vector2(x-width,y-height),topRight=new Vector2(x+width,y-height),bottomLeft=new Vector2(x-width,y+height),bottomRight=new Vector2(x+width,y+height);return 0!==rotation&&(RotateAround(topLeft,x,y,rotation),RotateAround(topRight,x,y,rotation),RotateAround(bottomLeft,x,y,rotation),RotateAround(bottomRight,x,y,rotation)),matrix.transformPoint(topLeft.x,topLeft.y,topLeft),matrix.transformPoint(topRight.x,topRight.y,topRight),matrix.transformPoint(bottomLeft.x,bottomLeft.y,bottomLeft),matrix.transformPoint(bottomRight.x,bottomRight.y,bottomRight),bounds.x=Math.min(topLeft.x,topRight.x,bottomLeft.x,bottomRight.x),bounds.y=Math.min(topLeft.y,topRight.y,bottomLeft.y,bottomRight.y),bounds.width=Math.max(topLeft.x,topRight.x,bottomLeft.x,bottomRight.x)-bounds.x,bounds.height=Math.max(topLeft.y,topRight.y,bottomLeft.y,bottomRight.y)-bounds.y,bounds},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});module2.exports=Particle},69601:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ParticleProcessor=__webpack_require__2(20286),Rectangle=__webpack_require__2(87841),ParticleBounds=new Class({Extends:ParticleProcessor,initialize:function ParticleBounds2(x,y,width,height,collideLeft,collideRight,collideTop,collideBottom){void 0===collideLeft&&(collideLeft=!0),void 0===collideRight&&(collideRight=!0),void 0===collideTop&&(collideTop=!0),void 0===collideBottom&&(collideBottom=!0),ParticleProcessor.call(this,x,y,!0),this.bounds=new Rectangle(x,y,width,height),this.collideLeft=collideLeft,this.collideRight=collideRight,this.collideTop=collideTop,this.collideBottom=collideBottom},update:function(particle){var bounds=this.bounds,bounce=-particle.bounce,pos=particle.worldPosition;pos.x<bounds.x&&this.collideLeft?(particle.x+=bounds.x-pos.x,particle.velocityX*=bounce):pos.x>bounds.right&&this.collideRight&&(particle.x-=pos.x-bounds.right,particle.velocityX*=bounce),pos.y<bounds.y&&this.collideTop?(particle.y+=bounds.y-pos.y,particle.velocityY*=bounce):pos.y>bounds.bottom&&this.collideBottom&&(particle.y-=pos.y-bounds.bottom,particle.velocityY*=bounce)}});module2.exports=ParticleBounds},31600:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),ComponentsToJSON=__webpack_require__2(53774),CopyFrom=__webpack_require__2(43459),DeathZone=__webpack_require__2(26388),EdgeZone=__webpack_require__2(19909),EmitterColorOp=__webpack_require__2(76472),EmitterOp=__webpack_require__2(44777),Events2=__webpack_require__2(20696),GameObject=__webpack_require__2(95643),GetFastValue=__webpack_require__2(95540),GetRandom=__webpack_require__2(26546),GravityWell=__webpack_require__2(24502),HasAny=__webpack_require__2(1985),HasValue=__webpack_require__2(97022),Inflate=__webpack_require__2(86091),List=__webpack_require__2(73162),MergeRect=__webpack_require__2(20074),MergeRight=__webpack_require__2(269),Particle=__webpack_require__2(56480),ParticleBounds=__webpack_require__2(69601),RandomZone=__webpack_require__2(68875),Rectangle=__webpack_require__2(87841),RectangleToRectangle=__webpack_require__2(59996),Remove=__webpack_require__2(72905),Render=__webpack_require__2(90668),StableSort=__webpack_require__2(19186),TransformMatrix=__webpack_require__2(61340),Vector2=__webpack_require__2(26099),Wrap=__webpack_require__2(15994),configFastMap=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],configOpMap=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],ParticleEmitter=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Texture,Components.Transform,Components.Visible,Render],initialize:function ParticleEmitter2(scene,x,y,texture,config2){GameObject.call(this,scene,"ParticleEmitter"),this.particleClass=Particle,this.config=null,this.ops={accelerationX:new EmitterOp("accelerationX",0),accelerationY:new EmitterOp("accelerationY",0),alpha:new EmitterOp("alpha",1),angle:new EmitterOp("angle",{min:0,max:360},!0),bounce:new EmitterOp("bounce",0),color:new EmitterColorOp("color"),delay:new EmitterOp("delay",0,!0),hold:new EmitterOp("hold",0,!0),lifespan:new EmitterOp("lifespan",1e3,!0),maxVelocityX:new EmitterOp("maxVelocityX",1e4),maxVelocityY:new EmitterOp("maxVelocityY",1e4),moveToX:new EmitterOp("moveToX",0),moveToY:new EmitterOp("moveToY",0),quantity:new EmitterOp("quantity",1,!0),rotate:new EmitterOp("rotate",0),scaleX:new EmitterOp("scaleX",1),scaleY:new EmitterOp("scaleY",1),speedX:new EmitterOp("speedX",0,!0),speedY:new EmitterOp("speedY",0,!0),tint:new EmitterOp("tint",16777215),x:new EmitterOp("x",0),y:new EmitterOp("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Vector2,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new TransformMatrix,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new List(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(x,y),this.setTexture(texture),config2&&this.setConfig(config2)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(config2){if(!config2)return this;this.config=config2;var i=0,key="",ops=this.ops;for(i=0;i<configOpMap.length;i++)ops[key=configOpMap[i]].loadConfig(config2);for(i=0;i<configFastMap.length;i++)HasValue(config2,key=configFastMap[i])&&(this[key]=GetFastValue(config2,key));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,HasValue(config2,"speed")&&(ops.speedX.loadConfig(config2,"speed"),ops.speedY.active=!1),(HasAny(config2,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),HasValue(config2,"scale")&&(ops.scaleX.loadConfig(config2,"scale"),ops.scaleY.active=!1),HasValue(config2,"callbackScope")){var callbackScope=GetFastValue(config2,"callbackScope",null);this.emitCallbackScope=callbackScope,this.deathCallbackScope=callbackScope}if(HasValue(config2,"emitZone")&&this.addEmitZone(config2.emitZone),HasValue(config2,"deathZone")&&this.addDeathZone(config2.deathZone),HasValue(config2,"bounds")){var bounds=this.addParticleBounds(config2.bounds);bounds.collideLeft=GetFastValue(config2,"collideLeft",!0),bounds.collideRight=GetFastValue(config2,"collideRight",!0),bounds.collideTop=GetFastValue(config2,"collideTop",!0),bounds.collideBottom=GetFastValue(config2,"collideBottom",!0)}return HasValue(config2,"followOffset")&&this.followOffset.setFromObject(GetFastValue(config2,"followOffset",0)),HasValue(config2,"texture")&&this.setTexture(config2.texture),HasValue(config2,"frame")?this.setEmitterFrame(config2.frame):HasValue(config2,"anim")&&this.setAnim(config2.anim),HasValue(config2,"reserve")&&this.reserve(config2.reserve),HasValue(config2,"advance")&&this.fastForward(config2.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(Events2.START,this),this},updateConfig:function(config2){return config2&&(this.config?this.setConfig(MergeRight(this.config,config2)):this.setConfig(config2)),this},toJSON:function(){var output=ComponentsToJSON(this),i=0,key="";for(i=0;i<configFastMap.length;i++)output[key=configFastMap[i]]=this[key];var ops=this.ops;for(i=0;i<configOpMap.length;i++)ops[key=configOpMap[i]]&&(output[key]=ops[key].toJSON());return ops.speedY.active||(delete output.speedX,output.speed=ops.speedX.toJSON()),this.scaleX===this.scaleY&&(delete output.scaleX,delete output.scaleY,output.scale=ops.scaleX.toJSON()),output},resetCounters:function(frequency,on){var counters=this.counters;counters.fill(0),counters[0]=frequency,on&&(counters[5]=1)},startFollow:function(target2,offsetX,offsetY,trackVisible){return void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0),void 0===trackVisible&&(trackVisible=!1),this.follow=target2,this.followOffset.set(offsetX,offsetY),this.trackVisible=trackVisible,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var current,frames=this.frames,len=frames.length;return 1===len?current=frames[0]:this.randomFrame?current=GetRandom(frames):(current=frames[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===len&&(this.currentFrame=0))),this.texture.get(current)},setEmitterFrame:function(frames,pickRandom,quantity){void 0===pickRandom&&(pickRandom=!0),void 0===quantity&&(quantity=1),this.randomFrame=pickRandom,this.frameQuantity=quantity,this.currentFrame=0;var t=typeof frames;if(this.frames.length=0,Array.isArray(frames))this.frames=this.frames.concat(frames);else if("string"===t||"number"===t)this.frames.push(frames);else if("object"===t){var frameConfig=frames;(frames=GetFastValue(frameConfig,"frames",null))&&(this.frames=this.frames.concat(frames));var isCycle=GetFastValue(frameConfig,"cycle",!1);this.randomFrame=!isCycle,this.frameQuantity=GetFastValue(frameConfig,"quantity",quantity)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var anims=this.anims,len=anims.length;if(0===len)return null;if(1===len)return anims[0];if(this.randomAnim)return GetRandom(anims);var anim=anims[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Wrap(this.currentAnim+1,0,len)),anim},setAnim:function(anims,pickRandom,quantity){void 0===pickRandom&&(pickRandom=!0),void 0===quantity&&(quantity=1),this.randomAnim=pickRandom,this.animQuantity=quantity,this.currentAnim=0;var t=typeof anims;if(this.anims.length=0,Array.isArray(anims))this.anims=this.anims.concat(anims);else if("string"===t)this.anims.push(anims);else if("object"===t){var animConfig=anims;(anims=GetFastValue(animConfig,"anims",null))&&(this.anims=this.anims.concat(anims));var isCycle=GetFastValue(animConfig,"cycle",!1);this.randomAnim=!isCycle,this.animQuantity=GetFastValue(animConfig,"quantity",quantity)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(value){return void 0===value&&(value=!0),this.radial=value,this},addParticleBounds:function(x,y,width,height,collideLeft,collideRight,collideTop,collideBottom){if("object"==typeof x){var obj=x;x=obj.x,y=obj.y,width=HasValue(obj,"w")?obj.w:obj.width,height=HasValue(obj,"h")?obj.h:obj.height}return this.addParticleProcessor(new ParticleBounds(x,y,width,height,collideLeft,collideRight,collideTop,collideBottom))},setParticleSpeed:function(x,y){return void 0===y&&(y=x),this.ops.speedX.onChange(x),x===y?this.ops.speedY.active=!1:this.ops.speedY.onChange(y),this.radial=!0,this},setParticleScale:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),this.ops.scaleX.onChange(x),this.ops.scaleY.onChange(y),this},setParticleGravity:function(x,y){return this.gravityX=x,this.gravityY=y,this},setParticleAlpha:function(value){return this.ops.alpha.onChange(value),this},setParticleTint:function(value){return this.ops.tint.onChange(value),this},setEmitterAngle:function(value){return this.ops.angle.onChange(value),this},setParticleLifespan:function(value){return this.ops.lifespan.onChange(value),this},setQuantity:function(quantity){return this.quantity=quantity,this},setFrequency:function(frequency,quantity){return this.frequency=frequency,this.flowCounter=frequency>0?frequency:0,quantity&&(this.quantity=quantity),this},addDeathZone:function(config2){var zone;Array.isArray(config2)||(config2=[config2]);for(var output=[],i=0;i<config2.length;i++)if((zone=config2[i])instanceof DeathZone)output.push(zone);else if("function"==typeof zone.contains)zone=new DeathZone(zone,!0),output.push(zone);else{var type=GetFastValue(zone,"type","onEnter"),source=GetFastValue(zone,"source",null);source&&"function"==typeof source.contains&&(zone=new DeathZone(source,"onEnter"===type),output.push(zone))}return this.deathZones=this.deathZones.concat(output),output},removeDeathZone:function(zone){return Remove(this.deathZones,zone),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(config2){var zone;Array.isArray(config2)||(config2=[config2]);for(var output=[],i=0;i<config2.length;i++)if((zone=config2[i])instanceof RandomZone||zone instanceof EdgeZone)output.push(zone);else{var source=GetFastValue(zone,"source",null);if(source){var type=GetFastValue(zone,"type","random");if("random"===type&&"function"==typeof source.getRandomPoint)zone=new RandomZone(source),output.push(zone);else if("edge"===type&&"function"==typeof source.getPoints){var quantity=GetFastValue(zone,"quantity",1),stepRate=GetFastValue(zone,"stepRate",0),yoyo=GetFastValue(zone,"yoyo",!1),seamless=GetFastValue(zone,"seamless",!0),total=GetFastValue(zone,"total",-1);zone=new EdgeZone(source,quantity,stepRate,yoyo,seamless,total),output.push(zone)}}}return this.emitZones=this.emitZones.concat(output),output},removeEmitZone:function(zone){return Remove(this.emitZones,zone),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(particle){var zones=this.emitZones,len=zones.length;if(0!==len){var zone=zones[this.zoneIndex];zone.getPoint(particle),zone.total>-1&&(this.zoneTotal++,this.zoneTotal===zone.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===len&&(this.zoneIndex=0)))}},getDeathZone:function(particle){for(var zones=this.deathZones,i=0;i<zones.length;i++){var zone=zones[i];if(zone.willKill(particle))return this.emit(Events2.DEATH_ZONE,this,particle,zone),!0}return!1},setEmitZone:function(zone){var index;return(index=isFinite(zone)?zone:this.emitZones.indexOf(zone))>=0&&(this.zoneIndex=index),this},addParticleProcessor:function(processor){return this.processors.exists(processor)||(processor.emitter&&processor.emitter.removeParticleProcessor(processor),this.processors.add(processor),processor.emitter=this),processor},removeParticleProcessor:function(processor){return this.processors.exists(processor)&&(this.processors.remove(processor,!0),processor.emitter=null),processor},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(config2){return this.addParticleProcessor(new GravityWell(config2))},reserve:function(count){var dead=this.dead;if(this.maxParticles>0){var total=this.getParticleCount();total+count>this.maxParticles&&(count=this.maxParticles-(total+count))}for(var i=0;i<count;i++)dead.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(callback,context){return void 0===callback?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof callback&&(this.emitCallback=callback,context&&(this.emitCallbackScope=context)),this},onParticleDeath:function(callback,context){return void 0===callback?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof callback&&(this.deathCallback=callback,context&&(this.deathCallbackScope=context)),this},killAll:function(){for(var dead=this.dead,alive=this.alive;alive.length>0;)dead.push(alive.pop());return this},forEachAlive:function(callback,context){for(var alive=this.alive,length=alive.length,i=0;i<length;i++)callback.call(context,alive[i],this);return this},forEachDead:function(callback,context){for(var dead=this.dead,length=dead.length,i=0;i<length;i++)callback.call(context,dead[i],this);return this},start:function(advance,duration){return void 0===advance&&(advance=0),this.emitting||(advance>0&&this.fastForward(advance),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==duration&&(this.duration=Math.abs(duration)),this.emit(Events2.START,this)),this},stop:function(kill){return void 0===kill&&(kill=!1),this.emitting&&(this.emitting=!1,kill&&this.killAll(),this.emit(Events2.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(property,ascending){return void 0===property&&(property=""),void 0===ascending&&(ascending=this.true),this.sortProperty=property,this.sortOrderAsc=ascending,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(callback){return callback=""!==this.sortProperty?this.depthSortCallback:null,this.sortCallback=callback,this},depthSort:function(){return StableSort(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(a,b){var key=this.sortProperty;return this.sortOrderAsc?a[key]-b[key]:b[key]-a[key]},flow:function(frequency,count,stopAfter){return void 0===count&&(count=1),this.emitting=!1,this.frequency=frequency,this.quantity=count,void 0!==stopAfter&&(this.stopAfter=stopAfter),this.start()},explode:function(count,x,y){this.frequency=-1,this.resetCounters(-1,!0);var particle=this.emitParticle(count,x,y);return this.emit(Events2.EXPLODE,this,particle),particle},emitParticleAt:function(x,y,count){return this.emitParticle(count,x,y)},emitParticle:function(count,x,y){if(!this.atLimit()){void 0===count&&(count=this.ops.quantity.onEmit());for(var dead=this.dead,stopAfter=this.stopAfter,followX=this.follow?this.follow.x+this.followOffset.x:x,followY=this.follow?this.follow.y+this.followOffset.y:y,i=0;i<count;i++){var particle=dead.pop();if(particle||(particle=new this.particleClass(this)),particle.fire(followX,followY)?(this.particleBringToTop?this.alive.push(particle):this.alive.unshift(particle),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,particle,this)):this.dead.push(particle),stopAfter>0&&(this.stopCounter++,this.stopCounter>=stopAfter))break;if(this.atLimit())break}return particle}},fastForward:function(time,delta){void 0===delta&&(delta=1e3/60);var total=0;for(this.skipping=!0;total<Math.abs(time);)this.preUpdate(0,delta),total+=delta;return this.skipping=!1,this},preUpdate:function(time,delta){var step=(delta*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var processors=this.getProcessors(),particles=this.alive,dead=this.dead,i=0,rip=[],length=particles.length;for(i=0;i<length;i++){var particle=particles[i];particle.update(delta,step,processors)&&rip.push({index:i,particle:particle})}if((length=rip.length)>0){var deathCallback=this.deathCallback,deathCallbackScope=this.deathCallbackScope;for(i=length-1;i>=0;i--){var entry=rip[i];particles.splice(entry.index,1),dead.push(entry.particle),deathCallback&&deathCallback.call(deathCallbackScope,entry.particle),entry.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=delta;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=delta,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===particles.length&&(this.completeFlag=0,this.emit(Events2.COMPLETE,this))},overlap:function(target2){for(var matrix=this.getWorldTransformMatrix(),alive=this.alive,length=alive.length,output=[],i=0;i<length;i++){var particle=alive[i];RectangleToRectangle(target2,particle.getBounds(matrix))&&output.push(particle)}return output},getBounds:function(padding,advance,delta,output){void 0===padding&&(padding=0),void 0===advance&&(advance=0),void 0===delta&&(delta=1e3/60),void 0===output&&(output=new Rectangle);var i,bounds,matrix=this.getWorldTransformMatrix(),alive=this.alive,setFirst=!1;if(output.setTo(0,0,0,0),advance>0){var total=0;for(this.skipping=!0;total<Math.abs(advance);){for(this.preUpdate(0,delta),i=0;i<alive.length;i++)bounds=alive[i].getBounds(matrix),setFirst?MergeRect(output,bounds):(setFirst=!0,CopyFrom(bounds,output));total+=delta}this.skipping=!1}else for(i=0;i<alive.length;i++)bounds=alive[i].getBounds(matrix),setFirst?MergeRect(output,bounds):(setFirst=!0,CopyFrom(bounds,output));return padding>0&&Inflate(output,padding,padding),output},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(value){this.ops.x.onChange(value)}},particleY:{get:function(){return this.ops.y.current},set:function(value){this.ops.y.onChange(value)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(value){this.ops.accelerationX.onChange(value)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(value){this.ops.accelerationY.onChange(value)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(value){this.ops.maxVelocityX.onChange(value)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(value){this.ops.maxVelocityY.onChange(value)}},speed:{get:function(){return this.ops.speedX.current},set:function(value){this.ops.speedX.onChange(value),this.ops.speedY.onChange(value)}},speedX:{get:function(){return this.ops.speedX.current},set:function(value){this.ops.speedX.onChange(value)}},speedY:{get:function(){return this.ops.speedY.current},set:function(value){this.ops.speedY.onChange(value)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(value){this.ops.moveToX.onChange(value)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(value){this.ops.moveToY.onChange(value)}},bounce:{get:function(){return this.ops.bounce.current},set:function(value){this.ops.bounce.onChange(value)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(value){this.ops.scaleX.onChange(value)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(value){this.ops.scaleY.onChange(value)}},particleColor:{get:function(){return this.ops.color.current},set:function(value){this.ops.color.onChange(value)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(value){this.ops.color.setEase(value)}},particleTint:{get:function(){return this.ops.tint.current},set:function(value){this.ops.tint.onChange(value)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(value){this.ops.alpha.onChange(value)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(value){this.ops.lifespan.onChange(value)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(value){this.ops.angle.onChange(value)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(value){this.ops.rotate.onChange(value)}},quantity:{get:function(){return this.ops.quantity.current},set:function(value){this.ops.quantity.onChange(value)}},delay:{get:function(){return this.ops.delay.current},set:function(value){this.ops.delay.onChange(value)}},hold:{get:function(){return this.ops.hold.current},set:function(value){this.ops.hold.onChange(value)}},flowCounter:{get:function(){return this.counters[0]},set:function(value){this.counters[0]=value}},frameCounter:{get:function(){return this.counters[1]},set:function(value){this.counters[1]=value}},animCounter:{get:function(){return this.counters[2]},set:function(value){this.counters[2]=value}},elapsed:{get:function(){return this.counters[3]},set:function(value){this.counters[3]=value}},stopCounter:{get:function(){return this.counters[4]},set:function(value){this.counters[4]=value}},completeFlag:{get:function(){return this.counters[5]},set:function(value){this.counters[5]=value}},zoneIndex:{get:function(){return this.counters[6]},set:function(value){this.counters[6]=value}},zoneTotal:{get:function(){return this.counters[7]},set:function(value){this.counters[7]=value}},currentFrame:{get:function(){return this.counters[8]},set:function(value){this.counters[8]=value}},currentAnim:{get:function(){return this.counters[9]},set:function(value){this.counters[9]=value}},preDestroy:function(){var i;this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var ops=this.ops;for(i=0;i<configOpMap.length;i++)ops[configOpMap[i]].destroy();for(i=0;i<this.alive.length;i++)this.alive[i].destroy();for(i=0;i<this.dead.length;i++)this.dead[i].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});module2.exports=ParticleEmitter},9871:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RectangleToRectangle=__webpack_require__2(59996),TransformMatrix=__webpack_require__2(61340),tempMatrix1=new TransformMatrix,tempMatrix2=new TransformMatrix,tempMatrix3=new TransformMatrix,tempMatrix4=new TransformMatrix;module2.exports=function(renderer,emitter,camera,parentMatrix){var camMatrix=tempMatrix1,calcMatrix=tempMatrix2,particleMatrix=tempMatrix3,managerMatrix=tempMatrix4;parentMatrix?(managerMatrix.loadIdentity(),managerMatrix.multiply(parentMatrix),managerMatrix.translate(emitter.x,emitter.y),managerMatrix.rotate(emitter.rotation),managerMatrix.scale(emitter.scaleX,emitter.scaleY)):managerMatrix.applyITRS(emitter.x,emitter.y,emitter.rotation,emitter.scaleX,emitter.scaleY);var ctx=renderer.currentContext,roundPixels=camera.roundPixels,camerAlpha=camera.alpha,emitterAlpha=emitter.alpha,particles=emitter.alive,particleCount=particles.length,viewBounds=emitter.viewBounds;if(emitter.visible&&0!==particleCount&&(!viewBounds||RectangleToRectangle(viewBounds,camera.worldView))){emitter.sortCallback&&emitter.depthSort(),camera.addToRenderList(emitter);var scrollFactorX=emitter.scrollFactorX,scrollFactorY=emitter.scrollFactorY;ctx.save(),ctx.globalCompositeOperation=renderer.blendModes[emitter.blendMode];for(var i=0;i<particleCount;i++){var particle=particles[i],alpha=particle.alpha*emitterAlpha*camerAlpha;if(!(alpha<=0||0===particle.scaleX||0===particle.scaleY)){particleMatrix.applyITRS(particle.x,particle.y,particle.rotation,particle.scaleX,particle.scaleY),camMatrix.copyFrom(camera.matrix),camMatrix.multiplyWithOffset(managerMatrix,-camera.scrollX*scrollFactorX,-camera.scrollY*scrollFactorY),particleMatrix.e=particle.x,particleMatrix.f=particle.y,camMatrix.multiply(particleMatrix,calcMatrix);var frame=particle.frame,cd=frame.canvasData;if(cd.width>0&&cd.height>0){var x=-frame.halfWidth,y=-frame.halfHeight;ctx.globalAlpha=alpha,ctx.save(),calcMatrix.setToContext(ctx),roundPixels&&(x=Math.round(x),y=Math.round(y)),ctx.imageSmoothingEnabled=!frame.source.scaleMode,ctx.drawImage(frame.source.image,cd.x,cd.y,cd.width,cd.height,x,y,cd.width,cd.height),ctx.restore()}}}ctx.restore()}}},92730:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetFastValue=__webpack_require__2(95540),ParticleEmitter=__webpack_require__2(31600);GameObjectCreator.register("particles",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),emitterConfig=GetFastValue(config2,"config",null),emitter=new ParticleEmitter(this.scene,0,0,key);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,emitter,config2),emitterConfig&&emitter.setConfig(emitterConfig),emitter}))},676:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),ParticleEmitter=__webpack_require__2(31600);GameObjectFactory.register("particles",(function(x,y,texture,config2){return void 0!==x&&"string"==typeof x&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new ParticleEmitter(this.scene,x,y,texture,config2))}))},90668:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(21188),renderCanvas=__webpack_require__2(9871),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},21188:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RectangleToRectangle=__webpack_require__2(59996),TransformMatrix=__webpack_require__2(61340),Utils=__webpack_require__2(70554),tempMatrix1=new TransformMatrix,tempMatrix2=new TransformMatrix,tempMatrix3=new TransformMatrix,tempMatrix4=new TransformMatrix;module2.exports=function(renderer,emitter,camera,parentMatrix){var pipeline=renderer.pipelines.set(emitter.pipeline),camMatrix=tempMatrix1,calcMatrix=tempMatrix2,particleMatrix=tempMatrix3,managerMatrix=tempMatrix4;parentMatrix?(managerMatrix.loadIdentity(),managerMatrix.multiply(parentMatrix),managerMatrix.translate(emitter.x,emitter.y),managerMatrix.rotate(emitter.rotation),managerMatrix.scale(emitter.scaleX,emitter.scaleY)):managerMatrix.applyITRS(emitter.x,emitter.y,emitter.rotation,emitter.scaleX,emitter.scaleY);var getTint=Utils.getTintAppendFloatAlpha,camerAlpha=camera.alpha,emitterAlpha=emitter.alpha;renderer.pipelines.preBatch(emitter);var particles=emitter.alive,particleCount=particles.length,viewBounds=emitter.viewBounds;if(0!==particleCount&&(!viewBounds||RectangleToRectangle(viewBounds,camera.worldView))){emitter.sortCallback&&emitter.depthSort(),camera.addToRenderList(emitter),camMatrix.copyFrom(camera.matrix),camMatrix.multiplyWithOffset(managerMatrix,-camera.scrollX*emitter.scrollFactorX,-camera.scrollY*emitter.scrollFactorY),renderer.setBlendMode(emitter.blendMode),emitter.mask&&(emitter.mask.preRenderWebGL(renderer,emitter,camera),renderer.pipelines.set(emitter.pipeline));for(var textureUnit,glTexture,tintEffect=emitter.tintFill,i=0;i<particleCount;i++){var particle=particles[i],alpha=particle.alpha*emitterAlpha*camerAlpha;if(!(alpha<=0||0===particle.scaleX||0===particle.scaleY)){particleMatrix.applyITRS(particle.x,particle.y,particle.rotation,particle.scaleX,particle.scaleY),particleMatrix.e=particle.x,particleMatrix.f=particle.y,camMatrix.multiply(particleMatrix,calcMatrix);var frame=particle.frame;frame.glTexture!==glTexture&&(glTexture=frame.glTexture,textureUnit=pipeline.setGameObject(emitter,frame));var x=-frame.halfWidth,y=-frame.halfHeight,quad=calcMatrix.setQuad(x,y,x+frame.width,y+frame.height),tint=getTint(particle.tint,alpha);pipeline.shouldFlush(6)&&(pipeline.flush(),textureUnit=pipeline.setGameObject(emitter,frame)),pipeline.batchQuad(emitter,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],frame.u0,frame.v0,frame.u1,frame.v1,tint,tint,tint,tint,tintEffect,glTexture,textureUnit)}}emitter.mask&&emitter.mask.postRenderWebGL(renderer,camera),renderer.pipelines.postBatch(emitter)}}},20286:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ParticleProcessor=new(__webpack_require__2(83419))({initialize:function ParticleProcessor2(x,y,active){void 0===x&&(x=0),void 0===y&&(y=0),void 0===active&&(active=!0),this.emitter,this.x=x,this.y=y,this.active=active},update:function(){},destroy:function(){this.emitter=null}});module2.exports=ParticleProcessor},9774:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},812:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="deathzone"},30522:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="explode"},96695:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="start"},18677:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stop"},20696:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={COMPLETE:__webpack_require__2(9774),DEATH_ZONE:__webpack_require__2(812),EXPLODE:__webpack_require__2(30522),START:__webpack_require__2(96695),STOP:__webpack_require__2(18677)}},18404:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={EmitterColorOp:__webpack_require__2(76472),EmitterOp:__webpack_require__2(44777),Events:__webpack_require__2(20696),GravityWell:__webpack_require__2(24502),Particle:__webpack_require__2(56480),ParticleBounds:__webpack_require__2(69601),ParticleEmitter:__webpack_require__2(31600),ParticleProcessor:__webpack_require__2(20286),Zones:__webpack_require__2(21024)}},26388:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeathZone=new(__webpack_require__2(83419))({initialize:function DeathZone2(source,killOnEnter){this.source=source,this.killOnEnter=killOnEnter},willKill:function(particle){var withinZone=this.source.contains(particle.x,particle.y);return withinZone&&this.killOnEnter||!withinZone&&!this.killOnEnter}});module2.exports=DeathZone},19909:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var EdgeZone=new(__webpack_require__2(83419))({initialize:function EdgeZone2(source,quantity,stepRate,yoyo,seamless,total){void 0===yoyo&&(yoyo=!1),void 0===seamless&&(seamless=!0),void 0===total&&(total=-1),this.source=source,this.points=[],this.quantity=quantity,this.stepRate=stepRate,this.yoyo=yoyo,this.counter=-1,this.seamless=seamless,this._length=0,this._direction=0,this.total=total,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],b=this.points[this.points.length-1];a.x===b.x&&a.y===b.y&&this.points.pop()}var oldLength=this._length;return this._length=this.points.length,this._length<oldLength&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(source){return this.source=source,this.updateSource()},getPoint:function(particle){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var point=this.points[this.counter];point&&(particle.x=point.x,particle.y=point.y)}});module2.exports=EdgeZone},68875:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Vector2=__webpack_require__2(26099),RandomZone=new Class({initialize:function RandomZone2(source){this.source=source,this._tempVec=new Vector2,this.total=-1},getPoint:function(particle){var vec=this._tempVec;this.source.getRandomPoint(vec),particle.x=vec.x,particle.y=vec.y}});module2.exports=RandomZone},21024:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={DeathZone:__webpack_require__2(26388),EdgeZone:__webpack_require__2(19909),RandomZone:__webpack_require__2(68875)}},1159:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),Sprite=__webpack_require__2(68287),PathFollower=new Class({Extends:Sprite,Mixins:[Components.PathFollower],initialize:function PathFollower2(scene,path,x,y,texture,frame){Sprite.call(this,scene,x,y,texture,frame),this.path=path},preUpdate:function(time,delta){this.anims.update(time,delta),this.pathUpdate(time)}});module2.exports=PathFollower},90145:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),PathFollower=__webpack_require__2(1159);GameObjectFactory.register("follower",(function(path,x,y,key,frame){var sprite=new PathFollower(this.scene,path,x,y,key,frame);return this.displayList.add(sprite),this.updateList.add(sprite),sprite}))},33663:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationState=__webpack_require__2(9674),Class=__webpack_require__2(83419),GenerateGridVerts=__webpack_require__2(48803),IntegerToRGB=__webpack_require__2(90664),Mesh=__webpack_require__2(4703),UUID=__webpack_require__2(45650),Plane=new Class({Extends:Mesh,initialize:function Plane2(scene,x,y,texture,frame,width,height,tile){texture||(texture="__DEFAULT"),Mesh.call(this,scene,x,y,texture,frame),this.type="Plane",this.anims=new AnimationState(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(width,height,tile),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(width,height,tile){void 0===width&&(width=8),void 0===height&&(height=8),void 0===tile&&(tile=!1);var flipY=!1;return tile&&(flipY=!0),this.gridWidth=width,this.gridHeight=height,this.isTiled=tile,this.clear(),GenerateGridVerts({mesh:this,widthSegments:width,heightSegments:height,isOrtho:!1,tile:tile,flipY:flipY}),this},setSizeToFrame:function(resetUV){void 0===resetUV&&(resetUV=!0);var frame=this.frame;if(this.setPerspective(this.width/frame.width,this.height/frame.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!resetUV)return this;var x,y,gridX=this.gridWidth,gridY=this.gridHeight,verts=this.vertices,frameU0=frame.u0,frameU1=frame.u1,frameV0=frame.v0,frameV1=frame.v1,i=0;if(this.isTiled)for(frameV0=frame.v1,frameV1=frame.v0,y=0;y<gridY;y++)for(x=0;x<gridX;x++)verts[i++].setUVs(frameU0,frameV1),verts[i++].setUVs(frameU0,frameV0),verts[i++].setUVs(frameU1,frameV1),verts[i++].setUVs(frameU0,frameV0),verts[i++].setUVs(frameU1,frameV0),verts[i++].setUVs(frameU1,frameV1);else{var gridX1=gridX+1,gridY1=gridY+1,frameU=frameU1-frameU0,frameV=frameV1-frameV0,uvs=[];for(y=0;y<gridY1;y++)for(x=0;x<gridX1;x++){var tu=frameU0+frameU*(x/gridX),tv=frameV0+frameV*(y/gridY);uvs.push(tu,tv)}for(y=0;y<gridY;y++)for(x=0;x<gridX;x++){var a=2*(x+gridX1*y),b=2*(x+gridX1*(y+1)),c=2*(x+1+gridX1*(y+1)),d=2*(x+1+gridX1*y);verts[i++].setUVs(uvs[a],uvs[a+1]),verts[i++].setUVs(uvs[b],uvs[b+1]),verts[i++].setUVs(uvs[d],uvs[d+1]),verts[i++].setUVs(uvs[b],uvs[b+1]),verts[i++].setUVs(uvs[c],uvs[c+1]),verts[i++].setUVs(uvs[d],uvs[d+1])}}return this},setViewHeight:function(value){void 0===value&&(value=this.frame.height);var vFOV=this.fov*(Math.PI/180);this.viewPosition.z=this.height/value/Math.tan(vFOV/2),this.dirtyCache[10]=1},createCheckerboard:function(color1,color2,alpha1,alpha2,height){void 0===color1&&(color1=16777215),void 0===color2&&(color2=255),void 0===alpha1&&(alpha1=255),void 0===alpha2&&(alpha2=255),void 0===height&&(height=128);for(var c1=IntegerToRGB(color1),c2=IntegerToRGB(color2),colors=[],h=0;h<16;h++)for(var w=0;w<16;w++)h<8&&w<8||h>7&&w>7?colors.push(c1.r,c1.g,c1.b,alpha1):colors.push(c2.r,c2.g,c2.b,alpha2);var texture=this.scene.sys.textures.addUint8Array(UUID(),new Uint8Array(colors),16,16);return this.removeCheckerboard(),this.setTexture(texture),this.setSizeToFrame(),this.setViewHeight(height),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(key,ignoreIfPlaying){return this.anims.play(key,ignoreIfPlaying)},playReverse:function(key,ignoreIfPlaying){return this.anims.playReverse(key,ignoreIfPlaying)},playAfterDelay:function(key,delay){return this.anims.playAfterDelay(key,delay)},playAfterRepeat:function(key,repeatCount){return this.anims.playAfterRepeat(key,repeatCount)},stop:function(){return this.anims.stop()},stopAfterDelay:function(delay){return this.anims.stopAfterDelay(delay)},stopAfterRepeat:function(repeatCount){return this.anims.stopAfterRepeat(repeatCount)},stopOnFrame:function(frame){return this.anims.stopOnFrame(frame)},preUpdate:function(time,delta){Mesh.prototype.preUpdate.call(this,time,delta),this.anims.update(time,delta)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});module2.exports=Plane},56015:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),BuildGameObjectAnimation=__webpack_require__2(13059),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154),Plane=__webpack_require__2(33663);GameObjectCreator.register("plane",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),width=GetValue(config2,"width",8),height=GetValue(config2,"height",8),tile=GetValue(config2,"tile",!1),plane=new Plane(this.scene,0,0,key,frame,width,height,tile);void 0!==addToScene&&(config2.add=addToScene);var checkerboard=GetValue(config2,"checkerboard",null);if(checkerboard){var color1=GetValue(checkerboard,"color1",16777215),color2=GetValue(checkerboard,"color2",255),alpha1=GetValue(checkerboard,"alpha1",255),alpha2=GetValue(checkerboard,"alpha2",255),checkheight=GetValue(checkerboard,"height",128);plane.createCheckerboard(color1,color2,alpha1,alpha2,checkheight)}return BuildGameObject(this.scene,plane,config2),BuildGameObjectAnimation(plane,config2),plane}))},30985:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Plane=__webpack_require__2(33663);__webpack_require__2(39429).register("plane",(function(x,y,texture,frame,width,height,tile){return this.displayList.add(new Plane(this.scene,x,y,texture,frame,width,height,tile))}))},80321:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),IntegerToColor=__webpack_require__2(30100),PIPELINES_CONST=__webpack_require__2(36060),Render=__webpack_require__2(67277),PointLight=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Transform,Components.Visible,Render],initialize:function PointLight2(scene,x,y,color,radius,intensity,attenuation){void 0===color&&(color=16777215),void 0===radius&&(radius=128),void 0===intensity&&(intensity=1),void 0===attenuation&&(attenuation=.1),GameObject.call(this,scene,"PointLight"),this.initPipeline(PIPELINES_CONST.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(x,y),this.color=IntegerToColor(color),this.intensity=intensity,this.attenuation=attenuation,this.width=2*radius,this.height=2*radius,this._radius=radius},radius:{get:function(){return this._radius},set:function(value){this._radius=value,this.width=2*value,this.height=2*value}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});module2.exports=PointLight},39829:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),PointLight=__webpack_require__2(80321);GameObjectCreator.register("pointlight",(function(config2,addToScene){void 0===config2&&(config2={});var color=GetAdvancedValue(config2,"color",16777215),radius=GetAdvancedValue(config2,"radius",128),intensity=GetAdvancedValue(config2,"intensity",1),attenuation=GetAdvancedValue(config2,"attenuation",.1),layer=new PointLight(this.scene,0,0,color,radius,intensity,attenuation);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,layer,config2),layer}))},71255:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),PointLight=__webpack_require__2(80321);GameObjectFactory.register("pointlight",(function(x,y,color,radius,intensity,attenuation){return this.displayList.add(new PointLight(this.scene,x,y,color,radius,intensity,attenuation))}))},67277:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,NOOP=__webpack_require__2(29747),renderCanvas=NOOP;renderWebGL=__webpack_require__2(57787),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},57787:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc,width=src2.width,height=src2.height,x=-src2._radius,y=-src2._radius,xw=x+width,yh=y+height,lightX=calcMatrix.getX(0,0),lightY=calcMatrix.getY(0,0),tx0=calcMatrix.getX(x,y),ty0=calcMatrix.getY(x,y),tx1=calcMatrix.getX(x,yh),ty1=calcMatrix.getY(x,yh),tx2=calcMatrix.getX(xw,yh),ty2=calcMatrix.getY(xw,yh),tx3=calcMatrix.getX(xw,y),ty3=calcMatrix.getY(xw,y);renderer.pipelines.preBatch(src2),pipeline.batchPointLight(src2,camera,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3,lightX,lightY),renderer.pipelines.postBatch(src2)}},591:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),DynamicTexture=__webpack_require__2(81320),Image2=__webpack_require__2(88571),RenderTexture=new Class({Extends:Image2,initialize:function RenderTexture2(scene,x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=32),void 0===height&&(height=32);var dynamicTexture=new DynamicTexture(scene.sys.textures,"",width,height);Image2.call(this,scene,x,y,dynamicTexture),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(width,height){this.width=width,this.height=height,this.texture.setSize(width,height),this.updateDisplayOrigin();var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=width,input.hitArea.height=height),this},resize:function(width,height){return this.setSize(width,height),this},saveTexture:function(key){var texture=this.texture;return texture.key=key,texture.manager.addDynamicTexture(texture)&&(this._saved=!0),texture},fill:function(rgb,alpha,x,y,width,height){return this.texture.fill(rgb,alpha,x,y,width,height),this},clear:function(){return this.texture.clear(),this},stamp:function(key,frame,x,y,config2){return this.texture.stamp(key,frame,x,y,config2),this},erase:function(entries,x,y){return this.texture.erase(entries,x,y),this},draw:function(entries,x,y,alpha,tint){return this.texture.draw(entries,x,y,alpha,tint),this},drawFrame:function(key,frame,x,y,alpha,tint){return this.texture.drawFrame(key,frame,x,y,alpha,tint),this},repeat:function(key,frame,x,y,width,height,alpha,tint,skipBatch){return this.texture.repeat(key,frame,x,y,width,height,alpha,tint,skipBatch),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(entries,x,y,alpha,tint){return this.texture.batchDraw(entries,x,y,alpha,tint),this},batchDrawFrame:function(key,frame,x,y,alpha,tint){return this.texture.batchDrawFrame(key,frame,x,y,alpha,tint),this},endDraw:function(erase){return this.texture.endDraw(erase),this},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){return this.texture.snapshotArea(x,y,width,height,callback,type,encoderOptions),this},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.width,this.height,callback,type,encoderOptions)},snapshotPixel:function(x,y,callback){return this.snapshotArea(x,y,1,1,callback,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});module2.exports=RenderTexture},34495:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),RenderTexture=__webpack_require__2(591);GameObjectCreator.register("renderTexture",(function(config2,addToScene){void 0===config2&&(config2={});var x=GetAdvancedValue(config2,"x",0),y=GetAdvancedValue(config2,"y",0),width=GetAdvancedValue(config2,"width",32),height=GetAdvancedValue(config2,"height",32),renderTexture=new RenderTexture(this.scene,x,y,width,height);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,renderTexture,config2),renderTexture}))},60505:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),RenderTexture=__webpack_require__2(591);GameObjectFactory.register("renderTexture",(function(x,y,width,height){return this.displayList.add(new RenderTexture(this.scene,x,y,width,height))}))},77757:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationState=__webpack_require__2(9674),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),PIPELINE_CONST=__webpack_require__2(36060),RopeRender=__webpack_require__2(38745),Vector2=__webpack_require__2(26099),Rope=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Flip,Components.Mask,Components.Pipeline,Components.PostPipeline,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,RopeRender],initialize:function Rope2(scene,x,y,texture,frame,points,horizontal,colors,alphas){void 0===texture&&(texture="__DEFAULT"),void 0===points&&(points=2),void 0===horizontal&&(horizontal=!0),GameObject.call(this,scene,"Rope"),this.anims=new AnimationState(this),this.points=points,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===texture,this.dirty=!1,this.horizontal=horizontal,this._flipX=!1,this._flipY=!1,this._perp=new Vector2,this.debugCallback=null,this.debugGraphic=null,this.setTexture(texture,frame),this.setPosition(x,y),this.setSizeToFrame(),this.initPipeline(PIPELINE_CONST.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(points)&&this.resizeArrays(points.length),this.setPoints(points,colors,alphas),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(time,delta){var prevFrame=this.anims.currentFrame;this.anims.update(time,delta),this.anims.currentFrame!==prevFrame&&(this.updateUVs(),this.updateVertices())},play:function(key,ignoreIfPlaying,startFrame){return this.anims.play(key,ignoreIfPlaying,startFrame),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(points,colors,alphas){return void 0===points&&(points=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(points,colors,alphas))},setVertical:function(points,colors,alphas){return void 0===points&&(points=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(points,colors,alphas)):this},setTintFill:function(value){return void 0===value&&(value=!1),this.tintFill=value,this},setAlphas:function(alphas,bottomAlpha){var total=this.points.length;if(total<1)return this;var i,currentAlphas=this.alphas;void 0===alphas?alphas=[1]:Array.isArray(alphas)||void 0!==bottomAlpha||(alphas=[alphas]);var index=0;if(void 0!==bottomAlpha)for(i=0;i<total;i++)currentAlphas[index=2*i]=alphas,currentAlphas[index+1]=bottomAlpha;else if(alphas.length===total)for(i=0;i<total;i++)currentAlphas[index=2*i]=alphas[i],currentAlphas[index+1]=alphas[i];else{var prevAlpha=alphas[0];for(i=0;i<total;i++)index=2*i,alphas.length>index&&(prevAlpha=alphas[index]),currentAlphas[index]=prevAlpha,alphas.length>index+1&&(prevAlpha=alphas[index+1]),currentAlphas[index+1]=prevAlpha}return this},setColors:function(colors){var total=this.points.length;if(total<1)return this;var i,currentColors=this.colors;void 0===colors?colors=[16777215]:Array.isArray(colors)||(colors=[colors]);var index=0;if(colors.length===total)for(i=0;i<total;i++)currentColors[index=2*i]=colors[i],currentColors[index+1]=colors[i];else{var prevColor=colors[0];for(i=0;i<total;i++)index=2*i,colors.length>index&&(prevColor=colors[index]),currentColors[index]=prevColor,colors.length>index+1&&(prevColor=colors[index+1]),currentColors[index+1]=prevColor}return this},setPoints:function(points,colors,alphas){if(void 0===points&&(points=2),"number"==typeof points){var s,frameSegment,offset,segments=points;if(segments<2&&(segments=2),points=[],this.horizontal)for(offset=-this.frame.halfWidth,frameSegment=this.frame.width/(segments-1),s=0;s<segments;s++)points.push({x:offset+s*frameSegment,y:0});else for(offset=-this.frame.halfHeight,frameSegment=this.frame.height/(segments-1),s=0;s<segments;s++)points.push({x:0,y:offset+s*frameSegment})}var total=points.length,currentTotal=this.points.length;return total<1?(console.warn("Rope: Not enough points given"),this):(1===total&&(points.unshift({x:0,y:0}),total++),currentTotal!==total&&this.resizeArrays(total),this.dirty=!0,this.points=points,this.updateUVs(),null!=colors&&this.setColors(colors),null!=alphas&&this.setAlphas(alphas),this)},updateUVs:function(){for(var currentUVs=this.uv,total=this.points.length,u0=this.frame.u0,v0=this.frame.v0,u1=this.frame.u1,v1=this.frame.v1,partH=(u1-u0)/(total-1),partV=(v1-v0)/(total-1),i=0;i<total;i++){var uv0,uv1,uv2,uv3,index=4*i;this.horizontal?(this._flipX?(uv0=u1-i*partH,uv2=u1-i*partH):(uv0=u0+i*partH,uv2=u0+i*partH),this._flipY?(uv1=v1,uv3=v0):(uv1=v0,uv3=v1)):(this._flipX?(uv0=u0,uv2=u1):(uv0=u1,uv2=u0),this._flipY?(uv1=v1-i*partV,uv3=v1-i*partV):(uv1=v0+i*partV,uv3=v0+i*partV)),currentUVs[index+0]=uv0,currentUVs[index+1]=uv1,currentUVs[index+2]=uv2,currentUVs[index+3]=uv3}return this},resizeArrays:function(newSize){var colors=this.colors,alphas=this.alphas;this.vertices=new Float32Array(4*newSize),this.uv=new Float32Array(4*newSize),colors=new Uint32Array(2*newSize),alphas=new Float32Array(2*newSize);for(var i=0;i<2*newSize;i++)colors[i]=16777215,alphas[i]=1;return this.colors=colors,this.alphas=alphas,this.dirty=!0,this},updateVertices:function(){var perp=this._perp,points=this.points,vertices=this.vertices,total=points.length;if(this.dirty=!1,!(total<1)){for(var nextPoint,lastPoint=points[0],frameSize=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,i=0;i<total;i++){var point=points[i],index=4*i;nextPoint=i<total-1?points[i+1]:point,perp.x=nextPoint.y-lastPoint.y,perp.y=-(nextPoint.x-lastPoint.x);var perpLength=perp.length();perp.x/=perpLength,perp.y/=perpLength,perp.x*=frameSize,perp.y*=frameSize,vertices[index]=point.x+perp.x,vertices[index+1]=point.y+perp.y,vertices[index+2]=point.x-perp.x,vertices[index+3]=point.y-perp.y,lastPoint=point}return this}},setDebug:function(graphic,callback){return this.debugGraphic=graphic,this.debugCallback=graphic||callback?callback||this.renderDebugVerts:null,this},renderDebugVerts:function(src2,meshLength,verts){var graphic=src2.debugGraphic,px0=verts[0],py0=verts[1],px1=verts[2],py1=verts[3];graphic.lineBetween(px0,py0,px1,py1);for(var i=4;i<meshLength;i+=4){var x0=verts[i+0],y0=verts[i+1],x1=verts[i+2],y1=verts[i+3];graphic.lineBetween(px0,py0,x0,y0),graphic.lineBetween(px1,py1,x1,y1),graphic.lineBetween(px1,py1,x0,y0),graphic.lineBetween(x0,y0,x1,y1),px0=x0,py0=y0,px1=x1,py1=y1}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(value){return this._flipX=value,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(value){return this._flipY=value,this.updateUVs()}}});module2.exports=Rope},95262:module2=>{module2.exports=function(){}},26209:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154),Rope=__webpack_require__2(77757);GameObjectCreator.register("rope",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),horizontal=GetAdvancedValue(config2,"horizontal",!0),points=GetValue(config2,"points",void 0),colors=GetValue(config2,"colors",void 0),alphas=GetValue(config2,"alphas",void 0),rope=new Rope(this.scene,0,0,key,frame,points,horizontal,colors,alphas);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,rope,config2),rope}))},96819:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rope=__webpack_require__2(77757);__webpack_require__2(39429).register("rope",(function(x,y,texture,frame,points,horizontal,colors,alphas){return this.displayList.add(new Rope(this.scene,x,y,texture,frame,points,horizontal,colors,alphas))}))},38745:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(20439),renderCanvas=__webpack_require__2(95262),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},20439:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline,src2),calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc,vertices=src2.vertices,uvs=src2.uv,colors=src2.colors,alphas=src2.alphas,alpha=src2.alpha,getTint=Utils.getTintAppendFloatAlpha,roundPixels=camera.roundPixels,meshVerticesLength=vertices.length,vertexCount=Math.floor(.5*meshVerticesLength);pipeline.flush(),renderer.pipelines.preBatch(src2);var textureUnit=pipeline.setGameObject(src2),vertexViewF32=pipeline.vertexViewF32,vertexViewU32=pipeline.vertexViewU32,vertexOffset=pipeline.vertexCount*pipeline.currentShader.vertexComponentCount-1,colorIndex=0,tintEffect=src2.tintFill;src2.dirty&&src2.updateVertices();for(var debugCallback=src2.debugCallback,debugVerts=[],i=0;i<meshVerticesLength;i+=2){var x=vertices[i+0],y=vertices[i+1],tx=x*calcMatrix.a+y*calcMatrix.c+calcMatrix.e,ty=x*calcMatrix.b+y*calcMatrix.d+calcMatrix.f;roundPixels&&(tx=Math.round(tx),ty=Math.round(ty)),vertexViewF32[++vertexOffset]=tx,vertexViewF32[++vertexOffset]=ty,vertexViewF32[++vertexOffset]=uvs[i+0],vertexViewF32[++vertexOffset]=uvs[i+1],vertexViewF32[++vertexOffset]=textureUnit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=getTint(colors[colorIndex],camera.alpha*(alphas[colorIndex]*alpha)),colorIndex++,debugCallback&&(debugVerts[i+0]=tx,debugVerts[i+1]=ty)}debugCallback&&debugCallback.call(src2,src2,meshVerticesLength,debugVerts),pipeline.vertexCount+=vertexCount,pipeline.currentBatch.count=pipeline.vertexCount-pipeline.currentBatch.start,renderer.pipelines.postBatch(src2)}},20071:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),GetFastValue=__webpack_require__2(95540),Extend=__webpack_require__2(79291),SetValue=__webpack_require__2(61622),ShaderRender=__webpack_require__2(25479),TransformMatrix=__webpack_require__2(61340),ArrayEach=__webpack_require__2(95428),RenderEvents=__webpack_require__2(92503),Shader=new Class({Extends:GameObject,Mixins:[Components.ComputedSize,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.ScrollFactor,Components.Transform,Components.Visible,ShaderRender],initialize:function Shader2(scene,key,x,y,width,height,textures,textureData){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=128),void 0===height&&(height=128),GameObject.call(this,scene,"Shader"),this.blendMode=-1,this.shader;var renderer=scene.sys.renderer;this.renderer=renderer,this.gl=renderer.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=renderer.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new TransformMatrix,this._tempMatrix2=new TransformMatrix,this._tempMatrix3=new TransformMatrix,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=renderer.width,this._rendererHeight=renderer.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,y),this.setSize(width,height),this.setOrigin(.5,.5),this.setShader(key,textures,textureData),this.renderer.on(RenderEvents.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(camera){return!!this.renderToTexture||!(GameObject.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},setRenderToTexture:function(key,flipY){if(!this.renderToTexture){var width=this.width,height=this.height,renderer=this.renderer;this.glTexture=renderer.createTextureFromSource(null,width,height,0),this.framebuffer=renderer.createFramebuffer(width,height,this.glTexture,!1),this._rendererWidth=width,this._rendererHeight=height,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),key&&(this.texture=this.scene.sys.textures.addGLTexture(key,this.glTexture))}return this.shader&&(renderer.pipelines.clear(),this.load(),this.flush(),renderer.pipelines.rebind()),this},setShader:function(key,textures,textureData){if(this.renderer.contextLost)return this._deferSetShader={key:key,textures:textures,textureData:textureData},this;if(void 0===textures&&(textures=[]),"string"==typeof key){var cache=this.scene.sys.cache.shader;if(!cache.has(key))return console.warn("Shader missing: "+key),this;this.shader=cache.get(key)}else this.shader=key;var gl=this.gl,renderer=this.renderer;this.program&&renderer.deleteProgram(this.program);var program=renderer.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);gl.uniformMatrix4fv(gl.getUniformLocation(program.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),gl.uniformMatrix4fv(gl.getUniformLocation(program.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),gl.uniform2f(gl.getUniformLocation(program.webGLProgram,"uResolution"),this.width,this.height),this.program=program;var d=new Date,defaultUniforms={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[d.getFullYear(),d.getMonth(),d.getDate(),60*d.getHours()*60+60*d.getMinutes()+d.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=Extend(!0,{},this.shader.uniforms,defaultUniforms):this.uniforms=defaultUniforms;for(var i=0;i<4;i++)textures[i]&&this.setSampler2D("iChannel"+i,textures[i],i,textureData);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(pointer){return this.pointer=pointer,this},projOrtho:function(left,right,bottom,top){if(this.renderer.contextLost)this._deferProjOrtho={left:left,right:right,bottom:bottom,top:top};else{var leftRight=1/(left-right),bottomTop=1/(bottom-top),pm=this.projectionMatrix;pm[0]=-2*leftRight,pm[5]=-2*bottomTop,pm[10]=-.001,pm[12]=(left+right)*leftRight,pm[13]=(top+bottom)*bottomTop,pm[14]=-0;var program=this.program,gl=this.gl;this.renderer.setProgram(program),gl.uniformMatrix4fv(gl.getUniformLocation(program.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=right,this._rendererHeight=bottom}},initUniforms:function(){var map=this.renderer.glFuncMap,program=this.program;for(var key in this._textureCount=0,this.uniforms){var uniform=this.uniforms[key],type=uniform.type,data=map[type];uniform.uniformLocation=this.renderer.createUniformLocation(program,key),"sampler2D"!==type&&(uniform.glMatrix=data.matrix,uniform.glValueLength=data.length,uniform.glFunc=data.func)}},setSampler2DBuffer:function(uniformKey,texture,width,height,textureIndex,textureData){void 0===textureIndex&&(textureIndex=0),void 0===textureData&&(textureData={});var uniform=this.uniforms[uniformKey];return uniform.value=texture,textureData.width=width,textureData.height=height,uniform.textureData=textureData,this._textureCount=textureIndex,this.initSampler2D(uniform),this},setSampler2D:function(uniformKey,textureKey,textureIndex,textureData){void 0===textureIndex&&(textureIndex=0);var textureManager=this.scene.sys.textures;if(textureManager.exists(textureKey)){var frame=textureManager.getFrame(textureKey);if(frame.glTexture&&frame.glTexture.isRenderTexture)return this.setSampler2DBuffer(uniformKey,frame.glTexture,frame.width,frame.height,textureIndex,textureData);var uniform=this.uniforms[uniformKey],source=frame.source;uniform.textureKey=textureKey,uniform.source=source.image,uniform.value=frame.glTexture,source.isGLTexture&&(textureData||(textureData={}),textureData.width=source.width,textureData.height=source.height),textureData&&(uniform.textureData=textureData),this._textureCount=textureIndex,this.initSampler2D(uniform)}return this},setUniform:function(key,value){return SetValue(this.uniforms,key,value),this},getUniform:function(key){return GetFastValue(this.uniforms,key,null)},setChannel0:function(textureKey,textureData){return this.setSampler2D("iChannel0",textureKey,0,textureData)},setChannel1:function(textureKey,textureData){return this.setSampler2D("iChannel1",textureKey,1,textureData)},setChannel2:function(textureKey,textureData){return this.setSampler2D("iChannel2",textureKey,2,textureData)},setChannel3:function(textureKey,textureData){return this.setSampler2D("iChannel3",textureKey,3,textureData)},initSampler2D:function(uniform){if(uniform.value){var data=uniform.textureData;if(data&&!uniform.value.isRenderTexture){var gl=this.gl,wrapper=uniform.value,magFilter=gl[GetFastValue(data,"magFilter","linear").toUpperCase()],minFilter=gl[GetFastValue(data,"minFilter","linear").toUpperCase()],wrapS=gl[GetFastValue(data,"wrapS","repeat").toUpperCase()],wrapT=gl[GetFastValue(data,"wrapT","repeat").toUpperCase()],format=gl[GetFastValue(data,"format","rgba").toUpperCase()],flipY=GetFastValue(data,"flipY",!1),width=GetFastValue(data,"width",wrapper.width),height=GetFastValue(data,"height",wrapper.height),source=GetFastValue(data,"source",wrapper.pixels);data.repeat&&(wrapS=gl.REPEAT,wrapT=gl.REPEAT),data.width&&(source=null),wrapper.update(source,width,height,flipY,wrapS,wrapT,minFilter,magFilter,format)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var uniform,length,glFunc,location2,value,gl=this.gl,uniforms=this.uniforms,textureCount=0;for(var key in uniforms)glFunc=(uniform=uniforms[key]).glFunc,length=uniform.glValueLength,location2=uniform.uniformLocation,null!==(value=uniform.value)&&(1===length?uniform.glMatrix?glFunc.call(gl,location2.webGLUniformLocation,uniform.transpose,value):glFunc.call(gl,location2.webGLUniformLocation,value):2===length?glFunc.call(gl,location2.webGLUniformLocation,value.x,value.y):3===length?glFunc.call(gl,location2.webGLUniformLocation,value.x,value.y,value.z):4===length?glFunc.call(gl,location2.webGLUniformLocation,value.x,value.y,value.z,value.w):"sampler2D"===uniform.type&&(gl.activeTexture(gl.TEXTURE0+textureCount),gl.bindTexture(gl.TEXTURE_2D,value.webGLTexture),gl.uniform1i(location2.webGLUniformLocation,textureCount),textureCount++))},load:function(matrix2D){var gl=this.gl,width=this.width,height=this.height,renderer=this.renderer,program=this.program,vm=this.viewMatrix;if(!this.renderToTexture){var x=-this._displayOriginX,y=-this._displayOriginY;vm[0]=matrix2D[0],vm[1]=matrix2D[1],vm[4]=matrix2D[2],vm[5]=matrix2D[3],vm[8]=matrix2D[4],vm[9]=matrix2D[5],vm[12]=vm[0]*x+vm[4]*y,vm[13]=vm[1]*x+vm[5]*y}gl.useProgram(program.webGLProgram),gl.uniformMatrix4fv(gl.getUniformLocation(program.webGLProgram,"uViewMatrix"),!1,vm),gl.uniformMatrix4fv(gl.getUniformLocation(program.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),gl.uniform2f(gl.getUniformLocation(program.webGLProgram,"uResolution"),this.width,this.height);var uniforms=this.uniforms,res=uniforms.resolution;res.value.x=width,res.value.y=height,uniforms.time.value=renderer.game.loop.getDuration();var pointer=this.pointer;if(pointer){var mouse=uniforms.mouse,px=pointer.x/width,py=1-pointer.y/height;mouse.value.x=px.toFixed(2),mouse.value.y=py.toFixed(2)}this.syncUniforms()},flush:function(){var width=this.width,height=this.height,program=this.program,gl=this.gl,vertexBuffer=this.vertexBuffer,renderer=this.renderer,vertexSize=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(renderer.setFramebuffer(this.framebuffer),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT)),gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer.webGLBuffer);var location2=gl.getAttribLocation(program.webGLProgram,"inPosition");-1!==location2&&(gl.enableVertexAttribArray(location2),gl.vertexAttribPointer(location2,2,gl.FLOAT,!1,vertexSize,0));var vf=this.vertexViewF32;vf[3]=height,vf[4]=width,vf[5]=height,vf[8]=width,vf[9]=height,vf[10]=width,gl.bufferSubData(gl.ARRAY_BUFFER,0,this.bytes.subarray(0,6*vertexSize)),gl.drawArrays(gl.TRIANGLES,0,6),this.renderToTexture&&renderer.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var key=this._deferSetShader.key,textures=this._deferSetShader.textures,textureData=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(key,textures,textureData)}if(null!==this._deferProjOrtho){var left=this._deferProjOrtho.left,right=this._deferProjOrtho.right,bottom=this._deferProjOrtho.bottom,top=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(left,right,bottom,top)}},preDestroy:function(){var renderer=this.renderer;renderer.off(RenderEvents.RESTORE_WEBGL,this.onContextRestored,this),renderer.deleteProgram(this.program),renderer.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),ArrayEach(this.uniforms,(function(uniform){renderer.deleteUniformLocation(uniform.uniformLocation),uniform.uniformLocation=null}))}});module2.exports=Shader},80464:module2=>{module2.exports=function(){}},54935:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Shader=__webpack_require__2(20071);GameObjectCreator.register("shader",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),x=GetAdvancedValue(config2,"x",0),y=GetAdvancedValue(config2,"y",0),width=GetAdvancedValue(config2,"width",128),height=GetAdvancedValue(config2,"height",128),shader=new Shader(this.scene,key,x,y,width,height);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,shader,config2),shader}))},74177:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Shader=__webpack_require__2(20071);__webpack_require__2(39429).register("shader",(function(key,x,y,width,height,textures,textureData){return this.displayList.add(new Shader(this.scene,key,x,y,width,height,textures,textureData))}))},25479:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(19257),renderCanvas=__webpack_require__2(80464),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},19257:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296);module2.exports=function(renderer,src2,camera,parentMatrix){if(src2.shader){if(camera.addToRenderList(src2),renderer.pipelines.clear(),src2.renderToTexture)src2.load(),src2.flush();else{var calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc;renderer.width===src2._rendererWidth&&renderer.height===src2._rendererHeight||src2.projOrtho(0,renderer.width,renderer.height,0),src2.load(calcMatrix.matrix),src2.flush()}renderer.pipelines.rebind()}}},10441:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Utils=__webpack_require__2(70554);module2.exports=function(pipeline,calcMatrix,src2,alpha,dx,dy){for(var fillTintColor=Utils.getTintAppendFloatAlpha(src2.fillColor,src2.fillAlpha*alpha),path=src2.pathData,pathIndexes=src2.pathIndexes,i=0;i<pathIndexes.length;i+=3){var p0=2*pathIndexes[i],p1=2*pathIndexes[i+1],p2=2*pathIndexes[i+2],x0=path[p0+0]-dx,y0=path[p0+1]-dy,x1=path[p1+0]-dx,y1=path[p1+1]-dy,x2=path[p2+0]-dx,y2=path[p2+1]-dy,tx0=calcMatrix.getX(x0,y0),ty0=calcMatrix.getY(x0,y0),tx1=calcMatrix.getX(x1,y1),ty1=calcMatrix.getY(x1,y1),tx2=calcMatrix.getX(x2,y2),ty2=calcMatrix.getY(x2,y2);pipeline.batchTri(src2,tx0,ty0,tx1,ty1,tx2,ty2,0,0,1,1,fillTintColor,fillTintColor,fillTintColor,2)}}},65960:module2=>{module2.exports=function(ctx,src2,altColor,altAlpha){var fillColor=altColor||src2.fillColor,fillAlpha=altAlpha||src2.fillAlpha,red=(16711680&fillColor)>>>16,green=(65280&fillColor)>>>8,blue=255&fillColor;ctx.fillStyle="rgba("+red+","+green+","+blue+","+fillAlpha+")"}},75177:module2=>{module2.exports=function(ctx,src2,altColor,altAlpha){var strokeColor=altColor||src2.strokeColor,strokeAlpha=altAlpha||src2.strokeAlpha,red=(16711680&strokeColor)>>>16,green=(65280&strokeColor)>>>8,blue=255&strokeColor;ctx.strokeStyle="rgba("+red+","+green+","+blue+","+strokeAlpha+")",ctx.lineWidth=src2.lineWidth}},17803:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),Line=__webpack_require__2(23031),Shape=new Class({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Transform,Components.Visible],initialize:function Shape2(scene,type,data){void 0===type&&(type="Shape"),GameObject.call(this,scene,type),this.geom=data,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new Line,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(color,alpha){return void 0===alpha&&(alpha=1),void 0===color?this.isFilled=!1:(this.fillColor=color,this.fillAlpha=alpha,this.isFilled=!0),this},setStrokeStyle:function(lineWidth,color,alpha){return void 0===alpha&&(alpha=1),void 0===lineWidth?this.isStroked=!1:(this.lineWidth=lineWidth,this.strokeColor=color,this.strokeAlpha=alpha,this.isStroked=!0),this},setClosePath:function(value){return this.closePath=value,this},setSize:function(width,height){return this.width=width,this.height=height,this},setDisplaySize:function(width,height){return this.displayWidth=width,this.displayHeight=height,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}}});module2.exports=Shape},34682:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Utils=__webpack_require__2(70554);module2.exports=function(pipeline,src2,alpha,dx,dy){var strokeTint=pipeline.strokeTint,strokeTintColor=Utils.getTintAppendFloatAlpha(src2.strokeColor,src2.strokeAlpha*alpha);strokeTint.TL=strokeTintColor,strokeTint.TR=strokeTintColor,strokeTint.BL=strokeTintColor,strokeTint.BR=strokeTintColor;var path=src2.pathData,pathLength=path.length-1,lineWidth=src2.lineWidth,halfLineWidth=lineWidth/2,px1=path[0]-dx,py1=path[1]-dy;src2.closePath||(pathLength-=2);for(var i=2;i<pathLength;i+=2){var px2=path[i]-dx,py2=path[i+1]-dy;pipeline.batchLine(px1,py1,px2,py2,halfLineWidth,halfLineWidth,lineWidth,i-2,!!src2.closePath&&i===pathLength-1),px1=px2,py1=py2}}},23629:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArcRender=__webpack_require__2(13609),Class=__webpack_require__2(83419),DegToRad=__webpack_require__2(39506),Earcut=__webpack_require__2(94811),GeomCircle=__webpack_require__2(96503),MATH_CONST=__webpack_require__2(36383),Shape=__webpack_require__2(17803),Arc=new Class({Extends:Shape,Mixins:[ArcRender],initialize:function Arc2(scene,x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===radius&&(radius=128),void 0===startAngle&&(startAngle=0),void 0===endAngle&&(endAngle=360),void 0===anticlockwise&&(anticlockwise=!1),Shape.call(this,scene,"Arc",new GeomCircle(0,0,radius)),this._startAngle=startAngle,this._endAngle=endAngle,this._anticlockwise=anticlockwise,this._iterations=.01,this.setPosition(x,y);var diameter=2*this.geom.radius;this.setSize(diameter,diameter),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(value){this._iterations=value,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(value){this.geom.radius=value;var diameter=2*value;this.setSize(diameter,diameter),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(value){this._startAngle=value,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(value){this._endAngle=value,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(value){this._anticlockwise=value,this.updateData()}},setRadius:function(value){return this.radius=value,this},setIterations:function(value){return void 0===value&&(value=.01),this.iterations=value,this},setStartAngle:function(angle,anticlockwise){return this._startAngle=angle,void 0!==anticlockwise&&(this._anticlockwise=anticlockwise),this.updateData()},setEndAngle:function(angle,anticlockwise){return this._endAngle=angle,void 0!==anticlockwise&&(this._anticlockwise=anticlockwise),this.updateData()},updateData:function(){var step=this._iterations,iteration=step,radius=this.geom.radius,startAngle=DegToRad(this._startAngle),endAngle=DegToRad(this._endAngle),x=radius,y=radius;endAngle-=startAngle,this._anticlockwise?endAngle<-MATH_CONST.PI2?endAngle=-MATH_CONST.PI2:endAngle>0&&(endAngle=-MATH_CONST.PI2+endAngle%MATH_CONST.PI2):endAngle>MATH_CONST.PI2?endAngle=MATH_CONST.PI2:endAngle<0&&(endAngle=MATH_CONST.PI2+endAngle%MATH_CONST.PI2);for(var ta,path=[x+Math.cos(startAngle)*radius,y+Math.sin(startAngle)*radius];iteration<1;)ta=endAngle*iteration+startAngle,path.push(x+Math.cos(ta)*radius,y+Math.sin(ta)*radius),iteration+=step;return ta=endAngle+startAngle,path.push(x+Math.cos(ta)*radius,y+Math.sin(ta)*radius),path.push(x+Math.cos(startAngle)*radius,y+Math.sin(startAngle)*radius),this.pathIndexes=Earcut(path),this.pathData=path,this}});module2.exports=Arc},42542:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DegToRad=__webpack_require__2(39506),FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var radius=src2.radius;ctx.beginPath(),ctx.arc(radius-src2.originX*(2*radius),radius-src2.originY*(2*radius),radius,DegToRad(src2._startAngle),DegToRad(src2._endAngle),src2.anticlockwise),src2.closePath&&ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},42563:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Arc=__webpack_require__2(23629),GameObjectFactory=__webpack_require__2(39429);GameObjectFactory.register("arc",(function(x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha){return this.displayList.add(new Arc(this.scene,x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha))})),GameObjectFactory.register("circle",(function(x,y,radius,fillColor,fillAlpha){return this.displayList.add(new Arc(this.scene,x,y,radius,0,360,!1,fillColor,fillAlpha))}))},13609:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(41447),renderCanvas=__webpack_require__2(42542),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},41447:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),FillPathWebGL=__webpack_require__2(10441),StrokePathWebGL=__webpack_require__2(34682);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;renderer.pipelines.preBatch(src2),src2.isFilled&&FillPathWebGL(pipeline,calcMatrix,src2,alpha,dx,dy),src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},89:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CurveRender=__webpack_require__2(33141),Earcut=__webpack_require__2(94811),Rectangle=__webpack_require__2(87841),Shape=__webpack_require__2(17803),Curve=new Class({Extends:Shape,Mixins:[CurveRender],initialize:function Curve2(scene,x,y,curve,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),Shape.call(this,scene,"Curve",curve),this._smoothness=32,this._curveBounds=new Rectangle,this.closePath=!1,this.setPosition(x,y),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(value){this._smoothness=value,this.updateData()}},setSmoothness:function(value){return this._smoothness=value,this.updateData()},updateData:function(){var bounds=this._curveBounds,smoothness=this._smoothness;this.geom.getBounds(bounds,smoothness),this.setSize(bounds.width,bounds.height),this.updateDisplayOrigin();for(var path=[],points=this.geom.getPoints(smoothness),i=0;i<points.length;i++)path.push(points[i].x,points[i].y);return path.push(points[0].x,points[0].y),this.pathIndexes=Earcut(path),this.pathData=path,this}});module2.exports=Curve},3170:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX+src2._curveBounds.x,dy=src2._displayOriginY+src2._curveBounds.y,path=src2.pathData,pathLength=path.length-1,px1=path[0]-dx,py1=path[1]-dy;ctx.beginPath(),ctx.moveTo(px1,py1),src2.closePath||(pathLength-=2);for(var i=2;i<pathLength;i+=2){var px2=path[i]-dx,py2=path[i+1]-dy;ctx.lineTo(px2,py2)}src2.closePath&&ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},40511:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Curve=__webpack_require__2(89);GameObjectFactory.register("curve",(function(x,y,curve,fillColor,fillAlpha){return this.displayList.add(new Curve(this.scene,x,y,curve,fillColor,fillAlpha))}))},33141:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(53987),renderCanvas=__webpack_require__2(3170),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},53987:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillPathWebGL=__webpack_require__2(10441),GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),dx=src2._displayOriginX+src2._curveBounds.x,dy=src2._displayOriginY+src2._curveBounds.y,alpha=camera.alpha*src2.alpha;renderer.pipelines.preBatch(src2),src2.isFilled&&FillPathWebGL(pipeline,calcMatrix,src2,alpha,dx,dy),src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},19921:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Earcut=__webpack_require__2(94811),EllipseRender=__webpack_require__2(54205),GeomEllipse=__webpack_require__2(8497),Shape=__webpack_require__2(17803),Ellipse=new Class({Extends:Shape,Mixins:[EllipseRender],initialize:function Ellipse2(scene,x,y,width,height,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=128),void 0===height&&(height=128),Shape.call(this,scene,"Ellipse",new GeomEllipse(width/2,height/2,width,height)),this._smoothness=64,this.setPosition(x,y),this.width=width,this.height=height,void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(value){this._smoothness=value,this.updateData()}},setSize:function(width,height){return this.width=width,this.height=height,this.geom.setPosition(width/2,height/2),this.geom.setSize(width,height),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(value){return this._smoothness=value,this.updateData()},updateData:function(){for(var path=[],points=this.geom.getPoints(this._smoothness),i=0;i<points.length;i++)path.push(points[i].x,points[i].y);return path.push(points[0].x,points[0].y),this.pathIndexes=Earcut(path),this.pathData=path,this}});module2.exports=Ellipse},7930:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY,path=src2.pathData,pathLength=path.length-1,px1=path[0]-dx,py1=path[1]-dy;ctx.beginPath(),ctx.moveTo(px1,py1),src2.closePath||(pathLength-=2);for(var i=2;i<pathLength;i+=2){var px2=path[i]-dx,py2=path[i+1]-dy;ctx.lineTo(px2,py2)}ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},1543:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ellipse=__webpack_require__2(19921);__webpack_require__2(39429).register("ellipse",(function(x,y,width,height,fillColor,fillAlpha){return this.displayList.add(new Ellipse(this.scene,x,y,width,height,fillColor,fillAlpha))}))},54205:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(19467),renderCanvas=__webpack_require__2(7930),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},19467:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillPathWebGL=__webpack_require__2(10441),GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;renderer.pipelines.preBatch(src2),src2.isFilled&&FillPathWebGL(pipeline,calcMatrix,src2,alpha,dx,dy),src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},30479:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Shape=__webpack_require__2(17803),GridRender=__webpack_require__2(26015),Grid=new Class({Extends:Shape,Mixins:[GridRender],initialize:function Grid2(scene,x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,outlineFillColor,outlineFillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=128),void 0===height&&(height=128),void 0===cellWidth&&(cellWidth=32),void 0===cellHeight&&(cellHeight=32),Shape.call(this,scene,"Grid",null),this.cellWidth=cellWidth,this.cellHeight=cellHeight,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(x,y),this.setSize(width,height),this.setFillStyle(fillColor,fillAlpha),void 0!==outlineFillColor&&this.setOutlineStyle(outlineFillColor,outlineFillAlpha),this.updateDisplayOrigin()},setFillStyle:function(fillColor,fillAlpha){return void 0===fillAlpha&&(fillAlpha=1),void 0===fillColor?this.showCells=!1:(this.fillColor=fillColor,this.fillAlpha=fillAlpha,this.showCells=!0),this},setAltFillStyle:function(fillColor,fillAlpha){return void 0===fillAlpha&&(fillAlpha=1),void 0===fillColor?this.showAltCells=!1:(this.altFillColor=fillColor,this.altFillAlpha=fillAlpha,this.showAltCells=!0),this},setOutlineStyle:function(fillColor,fillAlpha){return void 0===fillAlpha&&(fillAlpha=1),void 0===fillColor?this.showOutline=!1:(this.outlineFillColor=fillColor,this.outlineFillAlpha=fillAlpha,this.showOutline=!0),this}});module2.exports=Grid},49912:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=-src2._displayOriginX,dy=-src2._displayOriginY,alpha=camera.alpha*src2.alpha,width=src2.width,height=src2.height,cellWidth=src2.cellWidth,cellHeight=src2.cellHeight,gridWidth=Math.ceil(width/cellWidth),gridHeight=Math.ceil(height/cellHeight),cellWidthA=cellWidth,cellHeightA=cellHeight,cellWidthB=cellWidth-(gridWidth*cellWidth-width),cellHeightB=cellHeight-(gridHeight*cellHeight-height),showCells=src2.showCells,showAltCells=src2.showAltCells,showOutline=src2.showOutline,x=0,y=0,r=0,cw=0,ch=0;if(showOutline&&(cellWidthA--,cellHeightA--,cellWidthB===cellWidth&&cellWidthB--,cellHeightB===cellHeight&&cellHeightB--),showCells&&src2.fillAlpha>0)for(FillStyleCanvas(ctx,src2),y=0;y<gridHeight;y++)for(showAltCells&&(r=y%2),x=0;x<gridWidth;x++)showAltCells&&r?r=0:(r++,cw=x<gridWidth-1?cellWidthA:cellWidthB,ch=y<gridHeight-1?cellHeightA:cellHeightB,ctx.fillRect(dx+x*cellWidth,dy+y*cellHeight,cw,ch));if(showAltCells&&src2.altFillAlpha>0)for(FillStyleCanvas(ctx,src2,src2.altFillColor,src2.altFillAlpha*alpha),y=0;y<gridHeight;y++)for(showAltCells&&(r=y%2),x=0;x<gridWidth;x++)!showAltCells||r?(r=0,cw=x<gridWidth-1?cellWidthA:cellWidthB,ch=y<gridHeight-1?cellHeightA:cellHeightB,ctx.fillRect(dx+x*cellWidth,dy+y*cellHeight,cw,ch)):r=1;if(showOutline&&src2.outlineFillAlpha>0){for(LineStyleCanvas(ctx,src2,src2.outlineFillColor,src2.outlineFillAlpha*alpha),x=1;x<gridWidth;x++){var x1=x*cellWidth;ctx.beginPath(),ctx.moveTo(x1+dx,dy),ctx.lineTo(x1+dx,height+dy),ctx.stroke()}for(y=1;y<gridHeight;y++){var y1=y*cellHeight;ctx.beginPath(),ctx.moveTo(dx,y1+dy),ctx.lineTo(dx+width,y1+dy),ctx.stroke()}}ctx.restore()}}},34137:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Grid=__webpack_require__2(30479);GameObjectFactory.register("grid",(function(x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,outlineFillColor,outlineFillAlpha){return this.displayList.add(new Grid(this.scene,x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,outlineFillColor,outlineFillAlpha))}))},26015:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(46161),renderCanvas=__webpack_require__2(49912),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},46161:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix);pipeline.calcMatrix.copyFrom(result.calc).translate(-src2._displayOriginX,-src2._displayOriginY);var fillTint,fillTintColor,alpha=camera.alpha*src2.alpha,width=src2.width,height=src2.height,cellWidth=src2.cellWidth,cellHeight=src2.cellHeight,gridWidth=Math.ceil(width/cellWidth),gridHeight=Math.ceil(height/cellHeight),cellWidthA=cellWidth,cellHeightA=cellHeight,cellWidthB=cellWidth-(gridWidth*cellWidth-width),cellHeightB=cellHeight-(gridHeight*cellHeight-height),showCells=src2.showCells,showAltCells=src2.showAltCells,showOutline=src2.showOutline,x=0,y=0,r=0,cw=0,ch=0;if(showOutline&&(cellWidthA--,cellHeightA--,cellWidthB===cellWidth&&cellWidthB--,cellHeightB===cellHeight&&cellHeightB--),renderer.pipelines.preBatch(src2),showCells&&src2.fillAlpha>0)for(fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src2.fillColor,src2.fillAlpha*alpha),fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor,y=0;y<gridHeight;y++)for(showAltCells&&(r=y%2),x=0;x<gridWidth;x++)showAltCells&&r?r=0:(r++,cw=x<gridWidth-1?cellWidthA:cellWidthB,ch=y<gridHeight-1?cellHeightA:cellHeightB,pipeline.batchFillRect(x*cellWidth,y*cellHeight,cw,ch));if(showAltCells&&src2.altFillAlpha>0)for(fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src2.altFillColor,src2.altFillAlpha*alpha),fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor,y=0;y<gridHeight;y++)for(showAltCells&&(r=y%2),x=0;x<gridWidth;x++)!showAltCells||r?(r=0,cw=x<gridWidth-1?cellWidthA:cellWidthB,ch=y<gridHeight-1?cellHeightA:cellHeightB,pipeline.batchFillRect(x*cellWidth,y*cellHeight,cw,ch)):r=1;if(showOutline&&src2.outlineFillAlpha>0){var strokeTint=pipeline.strokeTint,color=Utils.getTintAppendFloatAlpha(src2.outlineFillColor,src2.outlineFillAlpha*alpha);for(strokeTint.TL=color,strokeTint.TR=color,strokeTint.BL=color,strokeTint.BR=color,x=1;x<gridWidth;x++){var x1=x*cellWidth;pipeline.batchLine(x1,0,x1,height,1,1,1,0,!1)}for(y=1;y<gridHeight;y++){var y1=y*cellHeight;pipeline.batchLine(0,y1,width,y1,1,1,1,0,!1)}}renderer.pipelines.postBatch(src2)}},61475:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsoBoxRender=__webpack_require__2(99651),Class=__webpack_require__2(83419),Shape=__webpack_require__2(17803),IsoBox=new Class({Extends:Shape,Mixins:[IsoBoxRender],initialize:function IsoBox2(scene,x,y,size,height,fillTop,fillLeft,fillRight){void 0===x&&(x=0),void 0===y&&(y=0),void 0===size&&(size=48),void 0===height&&(height=32),void 0===fillTop&&(fillTop=15658734),void 0===fillLeft&&(fillLeft=10066329),void 0===fillRight&&(fillRight=13421772),Shape.call(this,scene,"IsoBox",null),this.projection=4,this.fillTop=fillTop,this.fillLeft=fillLeft,this.fillRight=fillRight,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(x,y),this.setSize(size,height),this.updateDisplayOrigin()},setProjection:function(value){return this.projection=value,this},setFaces:function(showTop,showLeft,showRight){return void 0===showTop&&(showTop=!0),void 0===showLeft&&(showLeft=!0),void 0===showRight&&(showRight=!0),this.showTop=showTop,this.showLeft=showLeft,this.showRight=showRight,this},setFillStyle:function(fillTop,fillLeft,fillRight){return this.fillTop=fillTop,this.fillLeft=fillLeft,this.fillRight=fillRight,this.isFilled=!0,this}});module2.exports=IsoBox},11508:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)&&src2.isFilled){var size=src2.width,height=src2.height,sizeA=size/2,sizeB=size/src2.projection;src2.showTop&&(FillStyleCanvas(ctx,src2,src2.fillTop),ctx.beginPath(),ctx.moveTo(-sizeA,-height),ctx.lineTo(0,-sizeB-height),ctx.lineTo(sizeA,-height),ctx.lineTo(sizeA,-1),ctx.lineTo(0,sizeB-1),ctx.lineTo(-sizeA,-1),ctx.lineTo(-sizeA,-height),ctx.fill()),src2.showLeft&&(FillStyleCanvas(ctx,src2,src2.fillLeft),ctx.beginPath(),ctx.moveTo(-sizeA,0),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height),ctx.lineTo(-sizeA,-height),ctx.lineTo(-sizeA,0),ctx.fill()),src2.showRight&&(FillStyleCanvas(ctx,src2,src2.fillRight),ctx.beginPath(),ctx.moveTo(sizeA,0),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height),ctx.lineTo(sizeA,-height),ctx.lineTo(sizeA,0),ctx.fill()),ctx.restore()}}},3933:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),IsoBox=__webpack_require__2(61475);GameObjectFactory.register("isobox",(function(x,y,size,height,fillTop,fillLeft,fillRight){return this.displayList.add(new IsoBox(this.scene,x,y,size,height,fillTop,fillLeft,fillRight))}))},99651:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(68149),renderCanvas=__webpack_require__2(11508),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},68149:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var tint,x0,y0,x1,y1,x2,y2,x3,y3,pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),size=src2.width,height=src2.height,sizeA=size/2,sizeB=size/src2.projection,alpha=camera.alpha*src2.alpha;src2.isFilled&&(renderer.pipelines.preBatch(src2),src2.showTop&&(tint=Utils.getTintAppendFloatAlpha(src2.fillTop,alpha),x0=calcMatrix.getX(-sizeA,-height),y0=calcMatrix.getY(-sizeA,-height),x1=calcMatrix.getX(0,-sizeB-height),y1=calcMatrix.getY(0,-sizeB-height),x2=calcMatrix.getX(sizeA,-height),y2=calcMatrix.getY(sizeA,-height),x3=calcMatrix.getX(0,sizeB-height),y3=calcMatrix.getY(0,sizeB-height),pipeline.batchQuad(src2,x0,y0,x1,y1,x2,y2,x3,y3,0,0,1,1,tint,tint,tint,tint,2)),src2.showLeft&&(tint=Utils.getTintAppendFloatAlpha(src2.fillLeft,alpha),x0=calcMatrix.getX(-sizeA,0),y0=calcMatrix.getY(-sizeA,0),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height),x3=calcMatrix.getX(-sizeA,-height),y3=calcMatrix.getY(-sizeA,-height),pipeline.batchQuad(src2,x0,y0,x1,y1,x2,y2,x3,y3,0,0,1,1,tint,tint,tint,tint,2)),src2.showRight&&(tint=Utils.getTintAppendFloatAlpha(src2.fillRight,alpha),x0=calcMatrix.getX(sizeA,0),y0=calcMatrix.getY(sizeA,0),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height),x3=calcMatrix.getX(sizeA,-height),y3=calcMatrix.getY(sizeA,-height),pipeline.batchQuad(src2,x0,y0,x1,y1,x2,y2,x3,y3,0,0,1,1,tint,tint,tint,tint,2)),renderer.pipelines.postBatch(src2))}},16933:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),IsoTriangleRender=__webpack_require__2(60561),Shape=__webpack_require__2(17803),IsoTriangle=new Class({Extends:Shape,Mixins:[IsoTriangleRender],initialize:function IsoTriangle2(scene,x,y,size,height,reversed,fillTop,fillLeft,fillRight){void 0===x&&(x=0),void 0===y&&(y=0),void 0===size&&(size=48),void 0===height&&(height=32),void 0===reversed&&(reversed=!1),void 0===fillTop&&(fillTop=15658734),void 0===fillLeft&&(fillLeft=10066329),void 0===fillRight&&(fillRight=13421772),Shape.call(this,scene,"IsoTriangle",null),this.projection=4,this.fillTop=fillTop,this.fillLeft=fillLeft,this.fillRight=fillRight,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=reversed,this.isFilled=!0,this.setPosition(x,y),this.setSize(size,height),this.updateDisplayOrigin()},setProjection:function(value){return this.projection=value,this},setReversed:function(reversed){return this.isReversed=reversed,this},setFaces:function(showTop,showLeft,showRight){return void 0===showTop&&(showTop=!0),void 0===showLeft&&(showLeft=!0),void 0===showRight&&(showRight=!0),this.showTop=showTop,this.showLeft=showLeft,this.showRight=showRight,this},setFillStyle:function(fillTop,fillLeft,fillRight){return this.fillTop=fillTop,this.fillLeft=fillLeft,this.fillRight=fillRight,this.isFilled=!0,this}});module2.exports=IsoTriangle},79590:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)&&src2.isFilled){var size=src2.width,height=src2.height,sizeA=size/2,sizeB=size/src2.projection,reversed=src2.isReversed;src2.showTop&&reversed&&(FillStyleCanvas(ctx,src2,src2.fillTop),ctx.beginPath(),ctx.moveTo(-sizeA,-height),ctx.lineTo(0,-sizeB-height),ctx.lineTo(sizeA,-height),ctx.lineTo(0,sizeB-height),ctx.fill()),src2.showLeft&&(FillStyleCanvas(ctx,src2,src2.fillLeft),ctx.beginPath(),reversed?(ctx.moveTo(-sizeA,-height),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height)):(ctx.moveTo(-sizeA,0),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height)),ctx.fill()),src2.showRight&&(FillStyleCanvas(ctx,src2,src2.fillRight),ctx.beginPath(),reversed?(ctx.moveTo(sizeA,-height),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height)):(ctx.moveTo(sizeA,0),ctx.lineTo(0,sizeB),ctx.lineTo(0,sizeB-height)),ctx.fill()),ctx.restore()}}},49803:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),IsoTriangle=__webpack_require__2(16933);GameObjectFactory.register("isotriangle",(function(x,y,size,height,reversed,fillTop,fillLeft,fillRight){return this.displayList.add(new IsoTriangle(this.scene,x,y,size,height,reversed,fillTop,fillLeft,fillRight))}))},60561:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(51503),renderCanvas=__webpack_require__2(79590),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},51503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),size=src2.width,height=src2.height,sizeA=size/2,sizeB=size/src2.projection,reversed=src2.isReversed,alpha=camera.alpha*src2.alpha;if(src2.isFilled){var tint,x0,y0,x1,y1,x2,y2;if(renderer.pipelines.preBatch(src2),src2.showTop&&reversed){tint=Utils.getTintAppendFloatAlpha(src2.fillTop,alpha),x0=calcMatrix.getX(-sizeA,-height),y0=calcMatrix.getY(-sizeA,-height),x1=calcMatrix.getX(0,-sizeB-height),y1=calcMatrix.getY(0,-sizeB-height),x2=calcMatrix.getX(sizeA,-height),y2=calcMatrix.getY(sizeA,-height);var x3=calcMatrix.getX(0,sizeB-height),y3=calcMatrix.getY(0,sizeB-height);pipeline.batchQuad(src2,x0,y0,x1,y1,x2,y2,x3,y3,0,0,1,1,tint,tint,tint,tint,2)}src2.showLeft&&(tint=Utils.getTintAppendFloatAlpha(src2.fillLeft,alpha),reversed?(x0=calcMatrix.getX(-sizeA,-height),y0=calcMatrix.getY(-sizeA,-height),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height)):(x0=calcMatrix.getX(-sizeA,0),y0=calcMatrix.getY(-sizeA,0),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height)),pipeline.batchTri(src2,x0,y0,x1,y1,x2,y2,0,0,1,1,tint,tint,tint,2)),src2.showRight&&(tint=Utils.getTintAppendFloatAlpha(src2.fillRight,alpha),reversed?(x0=calcMatrix.getX(sizeA,-height),y0=calcMatrix.getY(sizeA,-height),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height)):(x0=calcMatrix.getX(sizeA,0),y0=calcMatrix.getY(sizeA,0),x1=calcMatrix.getX(0,sizeB),y1=calcMatrix.getY(0,sizeB),x2=calcMatrix.getX(0,sizeB-height),y2=calcMatrix.getY(0,sizeB-height)),pipeline.batchTri(src2,x0,y0,x1,y1,x2,y2,0,0,1,1,tint,tint,tint,2)),renderer.pipelines.postBatch(src2)}}},57847:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Shape=__webpack_require__2(17803),GeomLine=__webpack_require__2(23031),LineRender=__webpack_require__2(36823),Line=new Class({Extends:Shape,Mixins:[LineRender],initialize:function Line2(scene,x,y,x1,y1,x2,y2,strokeColor,strokeAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===x1&&(x1=0),void 0===y1&&(y1=0),void 0===x2&&(x2=128),void 0===y2&&(y2=0),Shape.call(this,scene,"Line",new GeomLine(x1,y1,x2,y2));var width=Math.max(1,this.geom.right-this.geom.left),height=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(x,y),this.setSize(width,height),void 0!==strokeColor&&this.setStrokeStyle(1,strokeColor,strokeAlpha),this.updateDisplayOrigin()},setLineWidth:function(startWidth,endWidth){return void 0===endWidth&&(endWidth=startWidth),this._startWidth=startWidth,this._endWidth=endWidth,this.lineWidth=startWidth,this},setTo:function(x1,y1,x2,y2){return this.geom.setTo(x1,y1,x2,y2),this}});module2.exports=Line},17440:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY;src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.beginPath(),ctx.moveTo(src2.geom.x1-dx,src2.geom.y1-dy),ctx.lineTo(src2.geom.x2-dx,src2.geom.y2-dy),ctx.stroke()),ctx.restore()}}},2481:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Line=__webpack_require__2(57847);GameObjectFactory.register("line",(function(x,y,x1,y1,x2,y2,strokeColor,strokeAlpha){return this.displayList.add(new Line(this.scene,x,y,x1,y1,x2,y2,strokeColor,strokeAlpha))}))},36823:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(77385),renderCanvas=__webpack_require__2(17440),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},77385:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix);pipeline.calcMatrix.copyFrom(result.calc);var dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;if(renderer.pipelines.preBatch(src2),src2.isStroked){var strokeTint=pipeline.strokeTint,color=Utils.getTintAppendFloatAlpha(src2.strokeColor,src2.strokeAlpha*alpha);strokeTint.TL=color,strokeTint.TR=color,strokeTint.BL=color,strokeTint.BR=color,pipeline.batchLine(src2.geom.x1-dx,src2.geom.y1-dy,src2.geom.x2-dx,src2.geom.y2-dy,src2._startWidth/2,src2._endWidth/2,1,0,!1,result.sprite,result.camera)}renderer.pipelines.postBatch(src2)}},24949:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PolygonRender=__webpack_require__2(90273),Class=__webpack_require__2(83419),Earcut=__webpack_require__2(94811),GetAABB=__webpack_require__2(13829),GeomPolygon=__webpack_require__2(25717),Shape=__webpack_require__2(17803),Smooth=__webpack_require__2(5469),Polygon=new Class({Extends:Shape,Mixins:[PolygonRender],initialize:function Polygon2(scene,x,y,points,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),Shape.call(this,scene,"Polygon",new GeomPolygon(points));var bounds=GetAABB(this.geom);this.setPosition(x,y),this.setSize(bounds.width,bounds.height),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},smooth:function(iterations){void 0===iterations&&(iterations=1);for(var i=0;i<iterations;i++)Smooth(this.geom);return this.updateData()},setTo:function(points){this.geom.setTo(points);var bounds=GetAABB(this.geom);return this.setSize(bounds.width,bounds.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var path=[],points=this.geom.points,i=0;i<points.length;i++)path.push(points[i].x,points[i].y);return path.push(points[0].x,points[0].y),this.pathIndexes=Earcut(path),this.pathData=path,this}});module2.exports=Polygon},38710:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY,path=src2.pathData,pathLength=path.length-1,px1=path[0]-dx,py1=path[1]-dy;ctx.beginPath(),ctx.moveTo(px1,py1),src2.closePath||(pathLength-=2);for(var i=2;i<pathLength;i+=2){var px2=path[i]-dx,py2=path[i+1]-dy;ctx.lineTo(px2,py2)}src2.closePath&&ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},64827:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Polygon=__webpack_require__2(24949);GameObjectFactory.register("polygon",(function(x,y,points,fillColor,fillAlpha){return this.displayList.add(new Polygon(this.scene,x,y,points,fillColor,fillAlpha))}))},90273:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(73695),renderCanvas=__webpack_require__2(38710),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},73695:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillPathWebGL=__webpack_require__2(10441),GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;renderer.pipelines.preBatch(src2),src2.isFilled&&FillPathWebGL(pipeline,calcMatrix,src2,alpha,dx,dy),src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},74561:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GeomRectangle=__webpack_require__2(87841),Shape=__webpack_require__2(17803),RectangleRender=__webpack_require__2(95597),Rectangle=new Class({Extends:Shape,Mixins:[RectangleRender],initialize:function Rectangle2(scene,x,y,width,height,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=128),void 0===height&&(height=128),Shape.call(this,scene,"Rectangle",new GeomRectangle(0,0,width,height)),this.setPosition(x,y),this.setSize(width,height),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},setSize:function(width,height){this.width=width,this.height=height,this.geom.setSize(width,height),this.updateData(),this.updateDisplayOrigin();var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=width,input.hitArea.height=height),this},updateData:function(){var path=[],rect=this.geom,line=this._tempLine;return rect.getLineA(line),path.push(line.x1,line.y1,line.x2,line.y2),rect.getLineB(line),path.push(line.x2,line.y2),rect.getLineC(line),path.push(line.x2,line.y2),rect.getLineD(line),path.push(line.x2,line.y2),this.pathData=path,this}});module2.exports=Rectangle},48682:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY;src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fillRect(-dx,-dy,src2.width,src2.height)),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.beginPath(),ctx.rect(-dx,-dy,src2.width,src2.height),ctx.stroke()),ctx.restore()}}},87959:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Rectangle=__webpack_require__2(74561);GameObjectFactory.register("rectangle",(function(x,y,width,height,fillColor,fillAlpha){return this.displayList.add(new Rectangle(this.scene,x,y,width,height,fillColor,fillAlpha))}))},95597:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(52059),renderCanvas=__webpack_require__2(48682),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},52059:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix);pipeline.calcMatrix.copyFrom(result.calc);var dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;if(renderer.pipelines.preBatch(src2),src2.isFilled){var fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src2.fillColor,src2.fillAlpha*alpha);fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor,pipeline.batchFillRect(-dx,-dy,src2.width,src2.height)}src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},55911:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var StarRender=__webpack_require__2(81991),Class=__webpack_require__2(83419),Earcut=__webpack_require__2(94811),Shape=__webpack_require__2(17803),Star=new Class({Extends:Shape,Mixins:[StarRender],initialize:function Star2(scene,x,y,points,innerRadius,outerRadius,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===points&&(points=5),void 0===innerRadius&&(innerRadius=32),void 0===outerRadius&&(outerRadius=64),Shape.call(this,scene,"Star",null),this._points=points,this._innerRadius=innerRadius,this._outerRadius=outerRadius,this.setPosition(x,y),this.setSize(2*outerRadius,2*outerRadius),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},setPoints:function(value){return this._points=value,this.updateData()},setInnerRadius:function(value){return this._innerRadius=value,this.updateData()},setOuterRadius:function(value){return this._outerRadius=value,this.updateData()},points:{get:function(){return this._points},set:function(value){this._points=value,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(value){this._innerRadius=value,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(value){this._outerRadius=value,this.updateData()}},updateData:function(){var path=[],points=this._points,innerRadius=this._innerRadius,outerRadius=this._outerRadius,rot=Math.PI/2*3,step=Math.PI/points,x=outerRadius,y=outerRadius;path.push(x,y+-outerRadius);for(var i=0;i<points;i++)path.push(x+Math.cos(rot)*outerRadius,y+Math.sin(rot)*outerRadius),rot+=step,path.push(x+Math.cos(rot)*innerRadius,y+Math.sin(rot)*innerRadius),rot+=step;return path.push(x,y+-outerRadius),this.pathIndexes=Earcut(path),this.pathData=path,this}});module2.exports=Star},64272:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY,path=src2.pathData,pathLength=path.length-1,px1=path[0]-dx,py1=path[1]-dy;ctx.beginPath(),ctx.moveTo(px1,py1),src2.closePath||(pathLength-=2);for(var i=2;i<pathLength;i+=2){var px2=path[i]-dx,py2=path[i+1]-dy;ctx.lineTo(px2,py2)}ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},93697:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Star=__webpack_require__2(55911);__webpack_require__2(39429).register("star",(function(x,y,points,innerRadius,outerRadius,fillColor,fillAlpha){return this.displayList.add(new Star(this.scene,x,y,points,innerRadius,outerRadius,fillColor,fillAlpha))}))},81991:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(57017),renderCanvas=__webpack_require__2(64272),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},57017:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillPathWebGL=__webpack_require__2(10441),GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix),calcMatrix=pipeline.calcMatrix.copyFrom(result.calc),dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;renderer.pipelines.preBatch(src2),src2.isFilled&&FillPathWebGL(pipeline,calcMatrix,src2,alpha,dx,dy),src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},36931:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Shape=__webpack_require__2(17803),GeomTriangle=__webpack_require__2(16483),TriangleRender=__webpack_require__2(96195),Triangle=new Class({Extends:Shape,Mixins:[TriangleRender],initialize:function Triangle2(scene,x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha){void 0===x&&(x=0),void 0===y&&(y=0),void 0===x1&&(x1=0),void 0===y1&&(y1=128),void 0===x2&&(x2=64),void 0===y2&&(y2=0),void 0===x3&&(x3=128),void 0===y3&&(y3=128),Shape.call(this,scene,"Triangle",new GeomTriangle(x1,y1,x2,y2,x3,y3));var width=this.geom.right-this.geom.left,height=this.geom.bottom-this.geom.top;this.setPosition(x,y),this.setSize(width,height),void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha),this.updateDisplayOrigin(),this.updateData()},setTo:function(x1,y1,x2,y2,x3,y3){return this.geom.setTo(x1,y1,x2,y2,x3,y3),this.updateData()},updateData:function(){var path=[],tri=this.geom,line=this._tempLine;return tri.getLineA(line),path.push(line.x1,line.y1,line.x2,line.y2),tri.getLineB(line),path.push(line.x2,line.y2),tri.getLineC(line),path.push(line.x2,line.y2),this.pathData=path,this}});module2.exports=Triangle},85172:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=__webpack_require__2(65960),LineStyleCanvas=__webpack_require__2(75177),SetTransform=__webpack_require__2(20926);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src2,camera,parentMatrix)){var dx=src2._displayOriginX,dy=src2._displayOriginY,x1=src2.geom.x1-dx,y1=src2.geom.y1-dy,x2=src2.geom.x2-dx,y2=src2.geom.y2-dy,x3=src2.geom.x3-dx,y3=src2.geom.y3-dy;ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.lineTo(x3,y3),ctx.closePath(),src2.isFilled&&(FillStyleCanvas(ctx,src2),ctx.fill()),src2.isStroked&&(LineStyleCanvas(ctx,src2),ctx.stroke()),ctx.restore()}}},45245:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Triangle=__webpack_require__2(36931);GameObjectFactory.register("triangle",(function(x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha){return this.displayList.add(new Triangle(this.scene,x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha))}))},96195:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(83253),renderCanvas=__webpack_require__2(85172),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},83253:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296),StrokePathWebGL=__webpack_require__2(34682),Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2);var pipeline=renderer.pipelines.set(src2.pipeline),result=GetCalcMatrix(src2,camera,parentMatrix);pipeline.calcMatrix.copyFrom(result.calc);var dx=src2._displayOriginX,dy=src2._displayOriginY,alpha=camera.alpha*src2.alpha;if(renderer.pipelines.preBatch(src2),src2.isFilled){var fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src2.fillColor,src2.fillAlpha*alpha);fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor;var x1=src2.geom.x1-dx,y1=src2.geom.y1-dy,x2=src2.geom.x2-dx,y2=src2.geom.y2-dy,x3=src2.geom.x3-dx,y3=src2.geom.y3-dy;pipeline.batchFillTriangle(x1,y1,x2,y2,x3,y3,result.sprite,result.camera)}src2.isStroked&&StrokePathWebGL(pipeline,src2,alpha,dx,dy),renderer.pipelines.postBatch(src2)}},68287:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationState=__webpack_require__2(9674),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),SpriteRender=__webpack_require__2(92751),Sprite=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Size,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,SpriteRender],initialize:function Sprite2(scene,x,y,texture,frame){GameObject.call(this,scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new AnimationState(this),this.setTexture(texture,frame),this.setPosition(x,y),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(time,delta){this.anims.update(time,delta)},play:function(key,ignoreIfPlaying){return this.anims.play(key,ignoreIfPlaying)},playReverse:function(key,ignoreIfPlaying){return this.anims.playReverse(key,ignoreIfPlaying)},playAfterDelay:function(key,delay){return this.anims.playAfterDelay(key,delay)},playAfterRepeat:function(key,repeatCount){return this.anims.playAfterRepeat(key,repeatCount)},chain:function(key){return this.anims.chain(key)},stop:function(){return this.anims.stop()},stopAfterDelay:function(delay){return this.anims.stopAfterDelay(delay)},stopAfterRepeat:function(repeatCount){return this.anims.stopAfterRepeat(repeatCount)},stopOnFrame:function(frame){return this.anims.stopOnFrame(frame)},toJSON:function(){return Components.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});module2.exports=Sprite},76552:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2),renderer.batchSprite(src2,src2.frame,camera,parentMatrix)}},15567:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),BuildGameObjectAnimation=__webpack_require__2(13059),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Sprite=__webpack_require__2(68287);GameObjectCreator.register("sprite",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),frame=GetAdvancedValue(config2,"frame",null),sprite=new Sprite(this.scene,0,0,key,frame);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,sprite,config2),BuildGameObjectAnimation(sprite,config2),sprite}))},46409:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),Sprite=__webpack_require__2(68287);GameObjectFactory.register("sprite",(function(x,y,texture,frame){return this.displayList.add(new Sprite(this.scene,x,y,texture,frame))}))},92751:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(9409),renderCanvas=__webpack_require__2(76552),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},9409:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){camera.addToRenderList(src2),src2.pipeline.batchSprite(src2,camera,parentMatrix)}},14220:module2=>{module2.exports=function(text,size,lines){var canvas=text.canvas,context=text.context,style=text.style,lineWidths=[],maxLineWidth=0,drawnLines=lines.length;style.maxLines>0&&style.maxLines<lines.length&&(drawnLines=style.maxLines),style.syncFont(canvas,context);for(var letterSpacing=text.letterSpacing,i=0;i<drawnLines;i++){var lineWidth=style.strokeThickness;if(0===letterSpacing)lineWidth+=context.measureText(lines[i]).width;else{for(var line=lines[i],j=0;j<line.length;j++)lineWidth+=context.measureText(line[j]).width;line.length>1&&(lineWidth+=letterSpacing*(line.length-1))}style.wordWrap&&(lineWidth-=context.measureText(" ").width),lineWidths[i]=Math.ceil(lineWidth),maxLineWidth=Math.max(maxLineWidth,lineWidths[i])}var lineHeight=size.fontSize+style.strokeThickness,height=lineHeight*drawnLines,lineSpacing=text.lineSpacing;return drawnLines>1&&(height+=lineSpacing*(drawnLines-1)),{width:maxLineWidth,height:height,lines:drawnLines,lineWidths:lineWidths,lineSpacing:lineSpacing,lineHeight:lineHeight}}},79557:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919);module2.exports=function(textStyle){var canvas=CanvasPool.create(this),context=canvas.getContext("2d",{willReadFrequently:!0});textStyle.syncFont(canvas,context);var metrics=context.measureText(textStyle.testString);if("actualBoundingBoxAscent"in metrics){var ascent=metrics.actualBoundingBoxAscent,descent=metrics.actualBoundingBoxDescent;return CanvasPool.remove(canvas),{ascent:ascent,descent:descent,fontSize:ascent+descent}}var width=Math.ceil(metrics.width*textStyle.baselineX),baseline=width,height=2*baseline;baseline=baseline*textStyle.baselineY|0,canvas.width=width,canvas.height=height,context.fillStyle="#f00",context.fillRect(0,0,width,height),context.font=textStyle._font,context.textBaseline="alphabetic",context.fillStyle="#000",context.fillText(textStyle.testString,0,baseline);var output={ascent:0,descent:0,fontSize:0},imagedata=context.getImageData(0,0,width,height);if(!imagedata)return output.ascent=baseline,output.descent=baseline+6,output.fontSize=output.ascent+output.descent,CanvasPool.remove(canvas),output;var i,j,pixels=imagedata.data,numPixels=pixels.length,line=4*width,idx=0,stop=!1;for(i=0;i<baseline;i++){for(j=0;j<line;j+=4)if(255!==pixels[idx+j]){stop=!0;break}if(stop)break;idx+=line}for(output.ascent=baseline-i,idx=numPixels-line,stop=!1,i=height;i>baseline;i--){for(j=0;j<line;j+=4)if(255!==pixels[idx+j]){stop=!0;break}if(stop)break;idx-=line}return output.descent=i-baseline,output.fontSize=output.ascent+output.descent,CanvasPool.remove(canvas),output}},50171:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddToDOM=__webpack_require__2(40366),CanvasPool=__webpack_require__2(27919),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),GetTextSize=__webpack_require__2(14220),GetValue=__webpack_require__2(35154),RemoveFromDOM=__webpack_require__2(35846),TextRender=__webpack_require__2(61771),TextStyle=__webpack_require__2(35762),UUID=__webpack_require__2(45650),Text=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Crop,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Tint,Components.Transform,Components.Visible,TextRender],initialize:function Text2(scene,x,y,text,style){void 0===x&&(x=0),void 0===y&&(y=0),GameObject.call(this,scene,"Text"),this.renderer=scene.sys.renderer,this.setPosition(x,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=CanvasPool.create(this),this.context,this.style=new TextStyle(this,style),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=UUID(),this.texture=scene.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(text),style&&style.padding&&this.setPadding(style.padding),style&&style.lineSpacing&&this.setLineSpacing(style.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",AddToDOM(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(text){var style=this.style;if(style.wordWrapCallback){var wrappedLines=style.wordWrapCallback.call(style.wordWrapCallbackScope,text,this);return Array.isArray(wrappedLines)&&(wrappedLines=wrappedLines.join("\n")),wrappedLines}return style.wordWrapWidth?style.wordWrapUseAdvanced?this.advancedWordWrap(text,this.context,this.style.wordWrapWidth):this.basicWordWrap(text,this.context,this.style.wordWrapWidth):text},advancedWordWrap:function(text,context,wordWrapWidth){for(var output="",lines=text.replace(/ +/gi," ").split(this.splitRegExp),linesCount=lines.length,i=0;i<linesCount;i++){var line=lines[i],out="";if(line=line.replace(/^ *|\s*$/gi,""),context.measureText(line).width<wordWrapWidth)output+=line+"\n";else{for(var currentLineWidth=wordWrapWidth,words=line.split(" "),j=0;j<words.length;j++){var word=words[j],wordWithSpace=word+" ",wordWidth=context.measureText(wordWithSpace).width;if(wordWidth>currentLineWidth){if(0===j){for(var newWord=wordWithSpace;newWord.length&&(newWord=newWord.slice(0,-1),!((wordWidth=context.measureText(newWord).width)<=currentLineWidth)););if(!newWord.length)throw new Error("wordWrapWidth < a single character");var secondPart=word.substr(newWord.length);words[j]=secondPart,out+=newWord}var offset=words[j].length?j:j+1,remainder=words.slice(offset).join(" ").replace(/[ \n]*$/gi,"");lines.splice(i+1,0,remainder),linesCount=lines.length;break}out+=wordWithSpace,currentLineWidth-=wordWidth}output+=out.replace(/[ \n]*$/gi,"")+"\n"}}return output=output.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(text,context,wordWrapWidth){for(var result="",lines=text.split(this.splitRegExp),lastLineIndex=lines.length-1,whiteSpaceWidth=context.measureText(" ").width,i=0;i<=lastLineIndex;i++){for(var spaceLeft=wordWrapWidth,words=lines[i].split(" "),lastWordIndex=words.length-1,j=0;j<=lastWordIndex;j++){var word=words[j],wordWidth=context.measureText(word).width,wordWidthWithSpace=wordWidth;j<lastWordIndex&&(wordWidthWithSpace+=whiteSpaceWidth),wordWidthWithSpace>spaceLeft&&j>0&&(result+="\n",spaceLeft=wordWrapWidth),result+=word,j<lastWordIndex?(result+=" ",spaceLeft-=wordWidthWithSpace):spaceLeft-=wordWidth}i<lastLineIndex&&(result+="\n")}return result},getWrappedText:function(text){return void 0===text&&(text=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(text).split(this.splitRegExp)},setText:function(value){return value||0===value||(value=""),Array.isArray(value)&&(value=value.join("\n")),value!==this._text&&(this._text=value.toString(),this.updateText()),this},appendText:function(value,addCR){void 0===addCR&&(addCR=!0),value||0===value||(value=""),Array.isArray(value)&&(value=value.join("\n")),value=value.toString();var newText=this._text.concat(addCR?"\n"+value:value);return newText!==this._text&&(this._text=newText,this.updateText()),this},setStyle:function(style){return this.style.setStyle(style)},setFont:function(font){return this.style.setFont(font)},setFontFamily:function(family){return this.style.setFontFamily(family)},setFontSize:function(size){return this.style.setFontSize(size)},setFontStyle:function(style){return this.style.setFontStyle(style)},setFixedSize:function(width,height){return this.style.setFixedSize(width,height)},setBackgroundColor:function(color){return this.style.setBackgroundColor(color)},setFill:function(fillStyle){return this.style.setFill(fillStyle)},setColor:function(color){return this.style.setColor(color)},setStroke:function(color,thickness){return this.style.setStroke(color,thickness)},setShadow:function(x,y,color,blur,shadowStroke,shadowFill){return this.style.setShadow(x,y,color,blur,shadowStroke,shadowFill)},setShadowOffset:function(x,y){return this.style.setShadowOffset(x,y)},setShadowColor:function(color){return this.style.setShadowColor(color)},setShadowBlur:function(blur){return this.style.setShadowBlur(blur)},setShadowStroke:function(enabled){return this.style.setShadowStroke(enabled)},setShadowFill:function(enabled){return this.style.setShadowFill(enabled)},setWordWrapWidth:function(width,useAdvancedWrap){return this.style.setWordWrapWidth(width,useAdvancedWrap)},setWordWrapCallback:function(callback,scope){return this.style.setWordWrapCallback(callback,scope)},setAlign:function(align){return this.style.setAlign(align)},setResolution:function(value){return this.style.setResolution(value)},setLineSpacing:function(value){return this.lineSpacing=value,this.updateText()},setLetterSpacing:function(value){return this.letterSpacing=value,this.updateText()},setPadding:function(left,top,right,bottom){if("object"==typeof left){var config2=left,x=GetValue(config2,"x",null);null!==x?(left=x,right=x):(left=GetValue(config2,"left",0),right=GetValue(config2,"right",left));var y=GetValue(config2,"y",null);null!==y?(top=y,bottom=y):(top=GetValue(config2,"top",0),bottom=GetValue(config2,"bottom",top))}else void 0===left&&(left=0),void 0===top&&(top=left),void 0===right&&(right=left),void 0===bottom&&(bottom=top);return this.padding.left=left,this.padding.top=top,this.padding.right=right,this.padding.bottom=bottom,this.updateText()},setMaxLines:function(max){return this.style.setMaxLines(max)},setRTL:function(rtl){void 0===rtl&&(rtl=!0);var style=this.style;return style.rtl===rtl||(style.rtl=rtl,rtl?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",AddToDOM(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===style.align?style.align="right":"right"===style.align&&(style.align="left")),this},updateText:function(){var canvas=this.canvas,context=this.context,style=this.style,resolution=style.resolution,size=style.metrics;style.syncFont(canvas,context);var outputText=this._text;(style.wordWrapWidth||style.wordWrapCallback)&&(outputText=this.runWordWrap(this._text));var textWidth,lines=outputText.split(this.splitRegExp),textSize=GetTextSize(this,size,lines),padding=this.padding;0===style.fixedWidth?(this.width=textSize.width+padding.left+padding.right,textWidth=textSize.width):(this.width=style.fixedWidth,(textWidth=this.width-padding.left-padding.right)<textSize.width&&(textWidth=textSize.width)),0===style.fixedHeight?this.height=textSize.height+padding.top+padding.bottom:this.height=style.fixedHeight;var linePositionX,linePositionY,w=this.width,h=this.height;this.updateDisplayOrigin(),w*=resolution,h*=resolution,w=Math.max(w,1),h=Math.max(h,1),canvas.width!==w||canvas.height!==h?(canvas.width=w,canvas.height=h,this.frame.setSize(w,h),style.syncFont(canvas,context),style.rtl&&(context.direction="rtl")):context.clearRect(0,0,w,h),context.save(),context.scale(resolution,resolution),style.backgroundColor&&(context.fillStyle=style.backgroundColor,context.fillRect(0,0,w,h)),style.syncStyle(canvas,context),context.translate(padding.left,padding.top);for(var i=0;i<textSize.lines;i++){if(linePositionX=style.strokeThickness/2,linePositionY=style.strokeThickness/2+i*textSize.lineHeight+size.ascent,i>0&&(linePositionY+=textSize.lineSpacing*i),style.rtl)linePositionX=w-linePositionX-padding.left-padding.right;else if("right"===style.align)linePositionX+=textWidth-textSize.lineWidths[i];else if("center"===style.align)linePositionX+=(textWidth-textSize.lineWidths[i])/2;else if("justify"===style.align&&textSize.lineWidths[i]/textSize.width>=.85){var extraSpace=textSize.width-textSize.lineWidths[i],spaceSize=context.measureText(" ").width,trimmedLine=lines[i].trim(),array=trimmedLine.split(" ");extraSpace+=(lines[i].length-trimmedLine.length)*spaceSize;for(var extraSpaceCharacters=Math.floor(extraSpace/spaceSize),idx=0;extraSpaceCharacters>0;)array[idx]+=" ",idx=(idx+1)%(array.length-1||1),--extraSpaceCharacters;lines[i]=array.join(" ")}this.autoRound&&(linePositionX=Math.round(linePositionX),linePositionY=Math.round(linePositionY));var letterSpacing=this.letterSpacing;if(style.strokeThickness&&0===letterSpacing&&(style.syncShadow(context,style.shadowStroke),context.strokeText(lines[i],linePositionX,linePositionY)),style.color)if(style.syncShadow(context,style.shadowFill),0!==letterSpacing)for(var charPositionX=0,line=lines[i].split(""),l=0;l<line.length;l++)style.strokeThickness&&(style.syncShadow(context,style.shadowStroke),context.strokeText(line[l],linePositionX+charPositionX,linePositionY),style.syncShadow(context,style.shadowFill)),context.fillText(line[l],linePositionX+charPositionX,linePositionY),charPositionX+=context.measureText(line[l]).width+letterSpacing;else context.fillText(lines[i],linePositionX,linePositionY)}context.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(canvas,this.frame.source.glTexture,!0));var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=this.width,input.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(value){this.setText(value)}},toJSON:function(){var out=Components.ToJSON(this),data={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return out.data=data,out},preDestroy:function(){RemoveFromDOM(this.canvas),CanvasPool.remove(this.canvas);var texture=this.texture;texture&&texture.destroy()}});module2.exports=Text},79724:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){0!==src2.width&&0!==src2.height&&(camera.addToRenderList(src2),renderer.batchSprite(src2,src2.frame,camera,parentMatrix))}},71259:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Text=__webpack_require__2(50171);GameObjectCreator.register("text",(function(config2,addToScene){void 0===config2&&(config2={});var content=GetAdvancedValue(config2,"text",""),style=GetAdvancedValue(config2,"style",null),padding=GetAdvancedValue(config2,"padding",null);null!==padding&&(style.padding=padding);var text=new Text(this.scene,0,0,content,style);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,text,config2),text.autoRound=GetAdvancedValue(config2,"autoRound",!0),text.resolution=GetAdvancedValue(config2,"resolution",1),text}))},68005:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Text=__webpack_require__2(50171);__webpack_require__2(39429).register("text",(function(x,y,text,style){return this.displayList.add(new Text(this.scene,x,y,text,style))}))},61771:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(34397),renderCanvas=__webpack_require__2(79724),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},35762:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetAdvancedValue=__webpack_require__2(23568),GetValue=__webpack_require__2(35154),MeasureText=__webpack_require__2(79557),propertyMap={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},TextStyle=new Class({initialize:function TextStyle2(text,style){this.parent=text,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(style,!1,!0)},setStyle:function(style,updateText,setDefaults){for(var key in void 0===updateText&&(updateText=!0),void 0===setDefaults&&(setDefaults=!1),propertyMap){var value=setDefaults?propertyMap[key][1]:this[key];"wordWrapCallback"===key||"wordWrapCallbackScope"===key?this[key]=GetValue(style,propertyMap[key][0],value):style&&"fontSize"===key&&"number"==typeof style.fontSize?this[key]=style.fontSize.toString()+"px":this[key]=GetAdvancedValue(style,propertyMap[key][0],value)}var font=GetValue(style,"font",null);null!==font&&this.setFont(font,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var fill=GetValue(style,"fill",null);null!==fill&&(this.color=fill);var metrics=GetValue(style,"metrics",!1);return metrics?this.metrics={ascent:GetValue(metrics,"ascent",0),descent:GetValue(metrics,"descent",0),fontSize:GetValue(metrics,"fontSize",0)}:!updateText&&this.metrics||(this.metrics=MeasureText(this)),updateText?this.parent.updateText():this.parent},syncFont:function(canvas,context){context.font=this._font},syncStyle:function(canvas,context){context.textBaseline="alphabetic",context.fillStyle=this.color,context.strokeStyle=this.stroke,context.lineWidth=this.strokeThickness,context.lineCap="round",context.lineJoin="round"},syncShadow:function(context,enabled){enabled?(context.shadowOffsetX=this.shadowOffsetX,context.shadowOffsetY=this.shadowOffsetY,context.shadowColor=this.shadowColor,context.shadowBlur=this.shadowBlur):(context.shadowOffsetX=0,context.shadowOffsetY=0,context.shadowColor=0,context.shadowBlur=0)},update:function(recalculateMetrics){return recalculateMetrics&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=MeasureText(this)),this.parent.updateText()},setFont:function(font,updateText){void 0===updateText&&(updateText=!0);var fontFamily=font,fontSize="",fontStyle="";if("string"!=typeof font)fontFamily=GetValue(font,"fontFamily","Courier"),fontSize=GetValue(font,"fontSize","16px"),fontStyle=GetValue(font,"fontStyle","");else{var fontSplit=font.split(" "),i=0;fontStyle=fontSplit.length>2?fontSplit[i++]:"",fontSize=fontSplit[i++]||"16px",fontFamily=fontSplit[i++]||"Courier"}return fontFamily===this.fontFamily&&fontSize===this.fontSize&&fontStyle===this.fontStyle||(this.fontFamily=fontFamily,this.fontSize=fontSize,this.fontStyle=fontStyle,updateText&&this.update(!0)),this.parent},setFontFamily:function(family){return this.fontFamily!==family&&(this.fontFamily=family,this.update(!0)),this.parent},setFontStyle:function(style){return this.fontStyle!==style&&(this.fontStyle=style,this.update(!0)),this.parent},setFontSize:function(size){return"number"==typeof size&&(size=size.toString()+"px"),this.fontSize!==size&&(this.fontSize=size,this.update(!0)),this.parent},setTestString:function(string){return this.testString=string,this.update(!0)},setFixedSize:function(width,height){return this.fixedWidth=width,this.fixedHeight=height,width&&(this.parent.width=width),height&&(this.parent.height=height),this.update(!1)},setBackgroundColor:function(color){return this.backgroundColor=color,this.update(!1)},setFill:function(color){return this.color=color,this.update(!1)},setColor:function(color){return this.color=color,this.update(!1)},setResolution:function(value){return this.resolution=value,this.update(!1)},setStroke:function(color,thickness){return void 0===thickness&&(thickness=this.strokeThickness),void 0===color&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===color&&this.strokeThickness===thickness||(this.stroke=color,this.strokeThickness=thickness,this.update(!0)),this.parent},setShadow:function(x,y,color,blur,shadowStroke,shadowFill){return void 0===x&&(x=0),void 0===y&&(y=0),void 0===color&&(color="#000"),void 0===blur&&(blur=0),void 0===shadowStroke&&(shadowStroke=!1),void 0===shadowFill&&(shadowFill=!0),this.shadowOffsetX=x,this.shadowOffsetY=y,this.shadowColor=color,this.shadowBlur=blur,this.shadowStroke=shadowStroke,this.shadowFill=shadowFill,this.update(!1)},setShadowOffset:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=x),this.shadowOffsetX=x,this.shadowOffsetY=y,this.update(!1)},setShadowColor:function(color){return void 0===color&&(color="#000"),this.shadowColor=color,this.update(!1)},setShadowBlur:function(blur){return void 0===blur&&(blur=0),this.shadowBlur=blur,this.update(!1)},setShadowStroke:function(enabled){return this.shadowStroke=enabled,this.update(!1)},setShadowFill:function(enabled){return this.shadowFill=enabled,this.update(!1)},setWordWrapWidth:function(width,useAdvancedWrap){return void 0===useAdvancedWrap&&(useAdvancedWrap=!1),this.wordWrapWidth=width,this.wordWrapUseAdvanced=useAdvancedWrap,this.update(!1)},setWordWrapCallback:function(callback,scope){return void 0===scope&&(scope=null),this.wordWrapCallback=callback,this.wordWrapCallbackScope=scope,this.update(!1)},setAlign:function(align){return void 0===align&&(align="left"),this.align=align,this.update(!1)},setMaxLines:function(max){return void 0===max&&(max=0),this.maxLines=max,this.update(!1)},getTextMetrics:function(){var metrics=this.metrics;return{ascent:metrics.ascent,descent:metrics.descent,fontSize:metrics.fontSize}},toJSON:function(){var output={};for(var key in propertyMap)output[key]=this[key];return output.metrics=this.getTextMetrics(),output},destroy:function(){this.parent=void 0}});module2.exports=TextStyle},34397:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){if(0!==src2.width&&0!==src2.height){camera.addToRenderList(src2);var frame=src2.frame,width=frame.width,height=frame.height,getTint=Utils.getTintAppendFloatAlpha,pipeline=renderer.pipelines.set(src2.pipeline,src2),textureUnit=pipeline.setTexture2D(frame.glTexture,src2);pipeline.batchTexture(src2,frame.glTexture,width,height,src2.x,src2.y,width/src2.style.resolution,height/src2.style.resolution,src2.scaleX,src2.scaleY,src2.rotation,src2.flipX,src2.flipY,src2.scrollFactorX,src2.scrollFactorY,src2.displayOriginX,src2.displayOriginY,0,0,width,height,getTint(src2.tintTopLeft,camera.alpha*src2._alphaTL),getTint(src2.tintTopRight,camera.alpha*src2._alphaTR),getTint(src2.tintBottomLeft,camera.alpha*src2._alphaBL),getTint(src2.tintBottomRight,camera.alpha*src2._alphaBR),src2.tintFill,0,0,camera,parentMatrix,!1,textureUnit)}}},20839:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),GetPowerOfTwo=__webpack_require__2(98439),Smoothing=__webpack_require__2(68703),TileSpriteRender=__webpack_require__2(56295),UUID=__webpack_require__2(45650),Vector2=__webpack_require__2(26099),TileSprite=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Crop,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.Tint,Components.Transform,Components.Visible,TileSpriteRender],initialize:function TileSprite2(scene,x,y,width,height,textureKey,frameKey){var renderer=scene.sys.renderer;GameObject.call(this,scene,"TileSprite");var displayTexture=scene.sys.textures.get(textureKey),displayFrame=displayTexture.get(frameKey);displayFrame.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),displayFrame=(displayTexture=scene.sys.textures.get("__MISSING")).get()),"DynamicTexture"===displayTexture.type&&(console.warn("TileSprite cannot use Dynamic Texture"),displayFrame=(displayTexture=scene.sys.textures.get("__MISSING")).get()),width&&height?(width=Math.floor(width),height=Math.floor(height)):(width=width||displayFrame.width,height=height||displayFrame.height),this._tilePosition=new Vector2,this._tileScale=new Vector2(1,1),this.dirty=!1,this.renderer=renderer,this.canvas=CanvasPool.create(this,width,height),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=displayTexture,this.displayFrame=displayFrame,this._crop=this.resetCropObject(),this._textureKey=UUID(),this.texture=scene.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=GetPowerOfTwo(displayFrame.width),this.potHeight=GetPowerOfTwo(displayFrame.height),this.fillCanvas=CanvasPool.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(x,y),this.setSize(width,height),this.setFrame(frameKey),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(key,frame){return this.displayTexture=this.scene.sys.textures.get(key),this.setFrame(frame)},setFrame:function(frame){var newFrame=this.displayTexture.get(frame);return this.potWidth=GetPowerOfTwo(newFrame.width),this.potHeight=GetPowerOfTwo(newFrame.height),this.canvas.width=0,newFrame.cutWidth&&newFrame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=newFrame,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,y){return void 0!==x&&(this.tilePositionX=x),void 0!==y&&(this.tilePositionY=y),this},setTileScale:function(x,y){return void 0===x&&(x=this.tileScaleX),void 0===y&&(y=x),this.tileScaleX=x,this.tileScaleY=y,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var frame=this.displayFrame;if(frame.source.isRenderTexture||frame.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var ctx=this.fillContext,canvas=this.fillCanvas,fw=this.potWidth,fh=this.potHeight;this.renderer&&this.renderer.gl||(fw=frame.cutWidth,fh=frame.cutHeight),ctx.clearRect(0,0,fw,fh),canvas.width=fw,canvas.height=fh,ctx.drawImage(frame.source.image,frame.cutX,frame.cutY,frame.cutWidth,frame.cutHeight,0,0,fw,fh),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(canvas,this.fillPattern):this.fillPattern=ctx.createPattern(canvas,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var canvas=this.canvas;if(canvas.width===this.width&&canvas.height===this.height||(canvas.width=this.width,canvas.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var ctx=this.context;this.scene.sys.game.config.antialias||Smoothing.disable(ctx);var scaleX=this._tileScale.x,scaleY=this._tileScale.y,positionX=this._tilePosition.x,positionY=this._tilePosition.y;ctx.clearRect(0,0,this.width,this.height),ctx.save(),ctx.scale(scaleX,scaleY),ctx.translate(-positionX,-positionY),ctx.fillStyle=this.fillPattern,ctx.fillRect(positionX,positionY,this.width/scaleX,this.height/scaleY),ctx.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),CanvasPool.remove(this.canvas),CanvasPool.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var texture=this.texture;texture&&texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(value){this._tilePosition.x=value,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(value){this._tilePosition.y=value,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(value){this._tileScale.x=value,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(value){this._tileScale.y=value,this.dirty=!0}}});module2.exports=TileSprite},46992:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){src2.updateCanvas(),camera.addToRenderList(src2),renderer.batchSprite(src2,src2.frame,camera,parentMatrix)}},14167:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),TileSprite=__webpack_require__2(20839);GameObjectCreator.register("tileSprite",(function(config2,addToScene){void 0===config2&&(config2={});var x=GetAdvancedValue(config2,"x",0),y=GetAdvancedValue(config2,"y",0),width=GetAdvancedValue(config2,"width",512),height=GetAdvancedValue(config2,"height",512),key=GetAdvancedValue(config2,"key",""),frame=GetAdvancedValue(config2,"frame",""),tile=new TileSprite(this.scene,x,y,width,height,key,frame);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,tile,config2),tile}))},91681:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileSprite=__webpack_require__2(20839);__webpack_require__2(39429).register("tileSprite",(function(x,y,width,height,texture,frame){return this.displayList.add(new TileSprite(this.scene,x,y,width,height,texture,frame))}))},56295:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(18553),renderCanvas=__webpack_require__2(46992),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},18553:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera,parentMatrix){src2.updateCanvas();var width=src2.width,height=src2.height;if(0!==width&&0!==height){camera.addToRenderList(src2);var getTint=Utils.getTintAppendFloatAlpha,pipeline=renderer.pipelines.set(src2.pipeline,src2),textureUnit=pipeline.setTexture2D(src2.fillPattern,src2);pipeline.batchTexture(src2,src2.fillPattern,src2.displayFrame.width*src2.tileScaleX,src2.displayFrame.height*src2.tileScaleY,src2.x,src2.y,width,height,src2.scaleX,src2.scaleY,src2.rotation,src2.flipX,src2.flipY,src2.scrollFactorX,src2.scrollFactorY,src2.originX*width,src2.originY*height,0,0,width,height,getTint(src2.tintTopLeft,camera.alpha*src2._alphaTL),getTint(src2.tintTopRight,camera.alpha*src2._alphaTR),getTint(src2.tintBottomLeft,camera.alpha*src2._alphaBL),getTint(src2.tintBottomRight,camera.alpha*src2._alphaBR),src2.tintFill,src2.tilePositionX%src2.displayFrame.width/src2.displayFrame.width,src2.tilePositionY%src2.displayFrame.height/src2.displayFrame.height,camera,parentMatrix,!1,textureUnit)}}},18471:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),Events2=__webpack_require__2(51708),GameEvents=__webpack_require__2(8443),GameObject=__webpack_require__2(95643),MATH_CONST=__webpack_require__2(36383),SoundEvents=__webpack_require__2(14463),UUID=__webpack_require__2(45650),VideoRender=__webpack_require__2(10247),Video2=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.ScrollFactor,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,VideoRender],initialize:function Video3(scene,x,y,key){GameObject.call(this,scene,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=UUID(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var game=scene.sys.game;this._device=game.device.video,this.setPosition(x,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),game.events.on(GameEvents.PAUSE,this.globalPause,this),game.events.on(GameEvents.RESUME,this.globalResume,this);var sound=scene.sys.sound;sound&&sound.on(SoundEvents.GLOBAL_MUTE,this.globalMute,this),key&&this.load(key)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(key){var video=this.scene.sys.cache.video.get(key);return video?(this.cacheKey=key,this.loadHandler(video.url,video.noAudio,video.crossOrigin)):console.warn("No video in cache for key: "+key),this},changeSource:function(key,autoplay,loop,markerIn,markerOut){void 0===autoplay&&(autoplay=!0),void 0===loop&&(loop=!1),this.cacheKey!==key&&(this.load(key),autoplay&&this.play(loop,markerIn,markerOut))},getVideoKey:function(){return this.cacheKey},loadURL:function(urls,noAudio,crossOrigin){void 0===noAudio&&(noAudio=!1);var urlConfig=this._device.getVideoURL(urls);return urlConfig?(this.cacheKey="",this.loadHandler(urlConfig.url,noAudio,crossOrigin)):console.warn("No supported video format found for "+urls),this},loadMediaStream:function(stream,noAudio,crossOrigin){return this.loadHandler(null,noAudio,crossOrigin,stream)},loadHandler:function(url,noAudio,crossOrigin,stream){noAudio||(noAudio=!1);var video=this.video;if(video?(this.removeLoadEventHandlers(),this.stop()):((video=document.createElement("video")).controls=!1,video.setAttribute("playsinline","playsinline"),video.setAttribute("preload","auto"),video.setAttribute("disablePictureInPicture","true")),noAudio?(video.muted=!0,video.defaultMuted=!0,video.setAttribute("autoplay","autoplay")):(video.muted=!1,video.defaultMuted=!1,video.removeAttribute("autoplay")),crossOrigin?video.setAttribute("crossorigin",crossOrigin):video.removeAttribute("crossorigin"),stream)if("srcObject"in video)try{video.srcObject=stream}catch(err){if("TypeError"!==err.name)throw err;video.src=URL.createObjectURL(stream)}else video.src=URL.createObjectURL(stream);else video.src=url;this.retry=0,this.video=video,this._playCalled=!1,video.load(),this.addLoadEventHandlers();var texture=this.scene.sys.textures.get(this._key);return this.setTexture(texture),this},requestVideoFrame:function(now,metadata){var video=this.video;if(video){var width=metadata.width,height=metadata.height,texture=this.videoTexture,textureSource=this.videoTextureSource,newVideo=!texture||textureSource.source!==video;newVideo?(this._codePaused=video.paused,this._codeMuted=video.muted,texture?(textureSource.source=video,textureSource.width=width,textureSource.height=height,texture.get().setSize(width,height)):((texture=this.scene.sys.textures.create(this._key,video,width,height)).add("__BASE",0,0,0,width,height),this.setTexture(texture),this.videoTexture=texture,this.videoTextureSource=texture.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(Events2.VIDEO_TEXTURE,this,texture)),this.setSizeToFrame(),this.updateDisplayOrigin()):textureSource.update(),this.isStalled=!1,this.metadata=metadata;var currentTime=metadata.mediaTime;newVideo&&(this._lastUpdate=currentTime,this.emit(Events2.VIDEO_CREATED,this,width,height),this.frameReady||(this.frameReady=!0,this.emit(Events2.VIDEO_PLAY,this))),this._playingMarker?currentTime>=this._markerOut&&(video.loop?(video.currentTime=this._markerIn,this.emit(Events2.VIDEO_LOOP,this)):(this.stop(!1),this.emit(Events2.VIDEO_COMPLETE,this))):currentTime<this._lastUpdate&&this.emit(Events2.VIDEO_LOOP,this),this._lastUpdate=currentTime,this._getFrame?(this.removeEventHandlers(),video.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(loop,markerIn,markerOut){void 0===markerIn&&(markerIn=-1),void 0===markerOut&&(markerOut=MATH_CONST.MAX_SAFE_INTEGER);var video=this.video;return!video||this.isPlaying()?(video||console.warn("Video not loaded"),this):(void 0===loop&&(loop=video.loop),video.loop=loop,this._markerIn=markerIn,this._markerOut=markerOut,this._playingMarker=markerIn>-1&&markerOut>markerIn&&markerOut<MATH_CONST.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=video.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var video=this.video;return!video||this.isPlaying()?(video||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=video.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var video=this.video;video&&(video.addEventListener("error",this._loadCallbackHandler),video.addEventListener("abort",this._loadCallbackHandler),video.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var video=this.video;video&&(video.removeEventListener("error",this._loadCallbackHandler),video.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var video=this.video;if(video){var callbacks=this._callbacks;for(var callback in callbacks)video.addEventListener(callback,callbacks[callback])}},removeEventHandlers:function(){var video=this.video;if(video){var callbacks=this._callbacks;for(var callback in callbacks)video.removeEventListener(callback,callbacks[callback])}},createPlayPromise:function(catchError){void 0===catchError&&(catchError=!0);var video=this.video,playPromise=video.play();if(void 0!==playPromise){var success=this.playSuccess.bind(this),error=this.playError.bind(this);if(!catchError){var _this=this;error=function(){_this.failedPlayAttempts++}}playPromise.then(success).catch(error)}else video.addEventListener("playing",this._callbacks.legacy),catchError||this.failedPlayAttempts++},addMarker:function(key,markerIn,markerOut){return!isNaN(markerIn)&&markerIn>=0&&!isNaN(markerOut)&&markerOut>markerIn&&(this.markers[key]=[markerIn,markerOut]),this},playMarker:function(key,loop){var marker=this.markers[key];return marker&&this.play(loop,marker[0],marker[1]),this},removeMarker:function(key){return delete this.markers[key],this},snapshot:function(width,height){return void 0===width&&(width=this.width),void 0===height&&(height=this.height),this.snapshotArea(0,0,this.width,this.height,width,height)},snapshotArea:function(x,y,srcWidth,srcHeight,destWidth,destHeight){void 0===x&&(x=0),void 0===y&&(y=0),void 0===srcWidth&&(srcWidth=this.width),void 0===srcHeight&&(srcHeight=this.height),void 0===destWidth&&(destWidth=srcWidth),void 0===destHeight&&(destHeight=srcHeight);var video=this.video,snap=this.snapshotTexture;return snap?(snap.setSize(destWidth,destHeight),video&&snap.context.drawImage(video,x,y,srcWidth,srcHeight,0,0,destWidth,destHeight)):(snap=this.scene.sys.textures.createCanvas(UUID(),destWidth,destHeight),this.snapshotTexture=snap,video&&snap.context.drawImage(video,x,y,srcWidth,srcHeight,0,0,destWidth,destHeight)),snap.update()},saveSnapshotTexture:function(key){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,key):this.snapshotTexture=this.scene.sys.textures.createCanvas(key,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(Events2.VIDEO_UNLOCKED,this));var sound=this.scene.sys.sound;sound&&sound.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(error){var name=error.name;"NotAllowedError"===name?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(Events2.VIDEO_LOCKED,this)):"NotSupportedError"===name?(this.stop(!1),this.emit(Events2.VIDEO_UNSUPPORTED,this,error)):(this.stop(!1),this.emit(Events2.VIDEO_ERROR,this,error))},legacyPlayHandler:function(){var video=this.video;video&&(this.playSuccess(),video.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(Events2.VIDEO_PLAYING,this)},loadErrorHandler:function(event){this.stop(!1),this.emit(Events2.VIDEO_ERROR,this,event)},metadataHandler:function(event){this.emit(Events2.VIDEO_METADATA,this,event)},setSizeToFrame:function(frame){frame||(frame=this.frame),this.width=frame.realWidth,this.height=frame.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var input=this.input;return input&&!input.customHitArea&&(input.hitArea.width=this.width,input.hitArea.height=this.height),this},stalledHandler:function(event){this.isStalled=!0,this.emit(Events2.VIDEO_STALLED,this,event)},completeHandler:function(){this._playCalled=!1,this.emit(Events2.VIDEO_COMPLETE,this)},preUpdate:function(time,delta){this.video&&this._playCalled&&this.touchLocked&&this.playWhenUnlocked&&(this.retry+=delta,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(value){var video=this.video;if(video){var duration=video.duration;if(duration!==1/0&&!isNaN(duration)){var seekTime=duration*value;this.setCurrentTime(seekTime)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(value){var video=this.video;if(video){if("string"==typeof value){var op=value[0],num=parseFloat(value.substr(1));"+"===op?value=video.currentTime+num:"-"===op&&(value=video.currentTime-num)}video.currentTime=value}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(Events2.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(Events2.VIDEO_SEEKED,this)},getProgress:function(){var video=this.video;if(video){var duration=video.duration;if(duration!==1/0&&!isNaN(duration))return video.currentTime/duration}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(value){void 0===value&&(value=!0),this._codeMuted=value;var video=this.video;return video&&(video.muted=!!this._systemMuted||value),this},isMuted:function(){return this._codeMuted},globalMute:function(soundManager,value){this._systemMuted=value;var video=this.video;video&&(video.muted=!!this._codeMuted||value)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,!this.video||this._codePaused||this.video.ended||this.createPlayPromise()},setPaused:function(value){void 0===value&&(value=!0);var video=this.video;return this._codePaused=value,video&&!video.ended&&(value?video.paused||(this.removeEventHandlers(),video.pause()):value||(this._playCalled?video.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(value){return void 0===value&&(value=1),this.video&&(this.video.volume=Clamp(value,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(rate){return this.video&&(this.video.playbackRate=rate),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(value){return void 0===value&&(value=!0),this.video&&(this.video.loop=value),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(key,flipY){return void 0===flipY&&(flipY=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,key),this.videoTextureSource.setFlipY(flipY)),this._key=key,this.flipY=flipY,!!this.videoTexture},stop:function(emitStopEvent){void 0===emitStopEvent&&(emitStopEvent=!0);var video=this.video;return video&&(this.removeEventHandlers(),video.cancelVideoFrameCallback(this._rfvCallbackId),video.pause()),this.retry=0,this._playCalled=!1,emitStopEvent&&this.emit(Events2.VIDEO_STOP,this),this},removeVideoElement:function(){var video=this.video;if(video){for(video.parentNode&&video.parentNode.removeChild(video);video.hasChildNodes();)video.removeChild(video.firstChild);video.removeAttribute("autoplay"),video.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var game=this.scene.sys.game.events;game.off(GameEvents.PAUSE,this.globalPause,this),game.off(GameEvents.RESUME,this.globalResume,this);var sound=this.scene.sys.sound;sound&&sound.off(SoundEvents.GLOBAL_MUTE,this.globalMute,this)}});module2.exports=Video2},58352:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){src2.videoTexture&&(camera.addToRenderList(src2),renderer.batchSprite(src2,src2.frame,camera,parentMatrix))}},11511:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildGameObject=__webpack_require__2(25305),GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Video2=__webpack_require__2(18471);GameObjectCreator.register("video",(function(config2,addToScene){void 0===config2&&(config2={});var key=GetAdvancedValue(config2,"key",null),video=new Video2(this.scene,0,0,key);return void 0!==addToScene&&(config2.add=addToScene),BuildGameObject(this.scene,video,config2),video}))},89025:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Video2=__webpack_require__2(18471);__webpack_require__2(39429).register("video",(function(x,y,key){return this.displayList.add(new Video2(this.scene,x,y,key))}))},10247:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(29849),renderCanvas=__webpack_require__2(58352),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},29849:module2=>{module2.exports=function(renderer,src2,camera,parentMatrix){src2.videoTexture&&(camera.addToRenderList(src2),src2.pipeline.batchSprite(src2,camera,parentMatrix))}},41481:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),Circle=__webpack_require__2(96503),CircleContains=__webpack_require__2(87902),Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),Rectangle=__webpack_require__2(87841),RectangleContains=__webpack_require__2(37303),Zone=new Class({Extends:GameObject,Mixins:[Components.Depth,Components.GetBounds,Components.Origin,Components.Transform,Components.ScrollFactor,Components.Visible],initialize:function Zone2(scene,x,y,width,height){void 0===width&&(width=1),void 0===height&&(height=width),GameObject.call(this,scene,"Zone"),this.setPosition(x,y),this.width=width,this.height=height,this.blendMode=BlendModes.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}},setSize:function(width,height,resizeInput){void 0===resizeInput&&(resizeInput=!0),this.width=width,this.height=height,this.updateDisplayOrigin();var input=this.input;return resizeInput&&input&&!input.customHitArea&&(input.hitArea.width=width,input.hitArea.height=height),this},setDisplaySize:function(width,height){return this.displayWidth=width,this.displayHeight=height,this},setCircleDropZone:function(radius){return this.setDropZone(new Circle(0,0,radius),CircleContains)},setRectangleDropZone:function(width,height){return this.setDropZone(new Rectangle(0,0,width,height),RectangleContains)},setDropZone:function(hitArea,hitAreaCallback){return this.input||this.setInteractive(hitArea,hitAreaCallback,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(renderer,src2,camera){camera.addToRenderList(src2)},renderWebGL:function(renderer,src2,camera){camera.addToRenderList(src2)}});module2.exports=Zone},95261:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectCreator=__webpack_require__2(44603),GetAdvancedValue=__webpack_require__2(23568),Zone=__webpack_require__2(41481);GameObjectCreator.register("zone",(function(config2){var x=GetAdvancedValue(config2,"x",0),y=GetAdvancedValue(config2,"y",0),width=GetAdvancedValue(config2,"width",1),height=GetAdvancedValue(config2,"height",width);return new Zone(this.scene,x,y,width,height)}))},84175:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Zone=__webpack_require__2(41481);__webpack_require__2(39429).register("zone",(function(x,y,width,height){return this.displayList.add(new Zone(this.scene,x,y,width,height))}))},95166:module2=>{module2.exports=function(circle){return circle.radius>0?Math.PI*circle.radius*circle.radius:0}},96503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Contains=__webpack_require__2(87902),GetPoint=__webpack_require__2(26241),GetPoints=__webpack_require__2(79124),GEOM_CONST=__webpack_require__2(23777),Random=__webpack_require__2(28176),Circle=new Class({initialize:function Circle2(x,y,radius){void 0===x&&(x=0),void 0===y&&(y=0),void 0===radius&&(radius=0),this.type=GEOM_CONST.CIRCLE,this.x=x,this.y=y,this._radius=radius,this._diameter=2*radius},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position2,point){return GetPoint(this,position2,point)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,radius){return this.x=x,this.y=y,this._radius=radius,this._diameter=2*radius,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(x,y){return void 0===y&&(y=x),this.x=x,this.y=y,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(value){this._radius=value,this._diameter=2*value}},diameter:{get:function(){return this._diameter},set:function(value){this._diameter=value,this._radius=.5*value}},left:{get:function(){return this.x-this._radius},set:function(value){this.x=value+this._radius}},right:{get:function(){return this.x+this._radius},set:function(value){this.x=value-this._radius}},top:{get:function(){return this.y-this._radius},set:function(value){this.y=value+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(value){this.y=value-this._radius}}});module2.exports=Circle},71562:module2=>{module2.exports=function(circle){return Math.PI*circle.radius*2}},92110:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(circle,angle,out){return void 0===out&&(out=new Point),out.x=circle.x+circle.radius*Math.cos(angle),out.y=circle.y+circle.radius*Math.sin(angle),out}},42250:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circle=__webpack_require__2(96503);module2.exports=function(source){return new Circle(source.x,source.y,source.radius)}},87902:module2=>{module2.exports=function(circle,x,y){return circle.radius>0&&x>=circle.left&&x<=circle.right&&y>=circle.top&&y<=circle.bottom&&(circle.x-x)*(circle.x-x)+(circle.y-y)*(circle.y-y)<=circle.radius*circle.radius}},5698:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(87902);module2.exports=function(circle,point){return Contains(circle,point.x,point.y)}},70588:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(87902);module2.exports=function(circle,rect){return Contains(circle,rect.x,rect.y)&&Contains(circle,rect.right,rect.y)&&Contains(circle,rect.x,rect.bottom)&&Contains(circle,rect.right,rect.bottom)}},26394:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x,source.y,source.radius)}},76278:module2=>{module2.exports=function(circle,toCompare){return circle.x===toCompare.x&&circle.y===toCompare.y&&circle.radius===toCompare.radius}},2074:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(circle,out){return void 0===out&&(out=new Rectangle),out.x=circle.left,out.y=circle.top,out.width=circle.diameter,out.height=circle.diameter,out}},26241:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CircumferencePoint=__webpack_require__2(92110),FromPercent=__webpack_require__2(62945),MATH_CONST=__webpack_require__2(36383),Point=__webpack_require__2(2141);module2.exports=function(circle,position2,out){void 0===out&&(out=new Point);var angle=FromPercent(position2,0,MATH_CONST.PI2);return CircumferencePoint(circle,angle,out)}},79124:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circumference=__webpack_require__2(71562),CircumferencePoint=__webpack_require__2(92110),FromPercent=__webpack_require__2(62945),MATH_CONST=__webpack_require__2(36383);module2.exports=function(circle,quantity,stepRate,out){void 0===out&&(out=[]),!quantity&&stepRate>0&&(quantity=Circumference(circle)/stepRate);for(var i=0;i<quantity;i++){var angle=FromPercent(i/quantity,0,MATH_CONST.PI2);out.push(CircumferencePoint(circle,angle))}return out}},50884:module2=>{module2.exports=function(circle,x,y){return circle.x+=x,circle.y+=y,circle}},39212:module2=>{module2.exports=function(circle,point){return circle.x+=point.x,circle.y+=point.y,circle}},28176:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(circle,out){void 0===out&&(out=new Point);var t=2*Math.PI*Math.random(),u=Math.random()+Math.random(),r=u>1?2-u:u,x=r*Math.cos(t),y=r*Math.sin(t);return out.x=circle.x+x*circle.radius,out.y=circle.y+y*circle.radius,out}},88911:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circle=__webpack_require__2(96503);Circle.Area=__webpack_require__2(95166),Circle.Circumference=__webpack_require__2(71562),Circle.CircumferencePoint=__webpack_require__2(92110),Circle.Clone=__webpack_require__2(42250),Circle.Contains=__webpack_require__2(87902),Circle.ContainsPoint=__webpack_require__2(5698),Circle.ContainsRect=__webpack_require__2(70588),Circle.CopyFrom=__webpack_require__2(26394),Circle.Equals=__webpack_require__2(76278),Circle.GetBounds=__webpack_require__2(2074),Circle.GetPoint=__webpack_require__2(26241),Circle.GetPoints=__webpack_require__2(79124),Circle.Offset=__webpack_require__2(50884),Circle.OffsetPoint=__webpack_require__2(39212),Circle.Random=__webpack_require__2(28176),module2.exports=Circle},23777:module2=>{module2.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:module2=>{module2.exports=function(ellipse){return ellipse.isEmpty()?0:ellipse.getMajorRadius()*ellipse.getMinorRadius()*Math.PI}},92990:module2=>{module2.exports=function(ellipse){var rx=ellipse.width/2,ry=ellipse.height/2,h=Math.pow(rx-ry,2)/Math.pow(rx+ry,2);return Math.PI*(rx+ry)*(1+3*h/(10+Math.sqrt(4-3*h)))}},79522:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(ellipse,angle,out){void 0===out&&(out=new Point);var halfWidth=ellipse.width/2,halfHeight=ellipse.height/2;return out.x=ellipse.x+halfWidth*Math.cos(angle),out.y=ellipse.y+halfHeight*Math.sin(angle),out}},58102:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ellipse=__webpack_require__2(8497);module2.exports=function(source){return new Ellipse(source.x,source.y,source.width,source.height)}},81154:module2=>{module2.exports=function(ellipse,x,y){if(ellipse.width<=0||ellipse.height<=0)return!1;var normx=(x-ellipse.x)/ellipse.width,normy=(y-ellipse.y)/ellipse.height;return(normx*=normx)+(normy*=normy)<.25}},46662:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(81154);module2.exports=function(ellipse,point){return Contains(ellipse,point.x,point.y)}},1632:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(81154);module2.exports=function(ellipse,rect){return Contains(ellipse,rect.x,rect.y)&&Contains(ellipse,rect.right,rect.y)&&Contains(ellipse,rect.x,rect.bottom)&&Contains(ellipse,rect.right,rect.bottom)}},65534:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x,source.y,source.width,source.height)}},8497:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Contains=__webpack_require__2(81154),GetPoint=__webpack_require__2(90549),GetPoints=__webpack_require__2(48320),GEOM_CONST=__webpack_require__2(23777),Random=__webpack_require__2(24820),Ellipse=new Class({initialize:function Ellipse2(x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0),this.type=GEOM_CONST.ELLIPSE,this.x=x,this.y=y,this.width=width,this.height=height},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position2,point){return GetPoint(this,position2,point)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,width,height){return this.x=x,this.y=y,this.width=width,this.height=height,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(x,y){return void 0===y&&(y=x),this.x=x,this.y=y,this},setSize:function(width,height){return void 0===height&&(height=width),this.width=width,this.height=height,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(value){this.x=value+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(value){this.x=value-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(value){this.y=value+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(value){this.y=value-this.height/2}}});module2.exports=Ellipse},36146:module2=>{module2.exports=function(ellipse,toCompare){return ellipse.x===toCompare.x&&ellipse.y===toCompare.y&&ellipse.width===toCompare.width&&ellipse.height===toCompare.height}},23694:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(ellipse,out){return void 0===out&&(out=new Rectangle),out.x=ellipse.left,out.y=ellipse.top,out.width=ellipse.width,out.height=ellipse.height,out}},90549:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CircumferencePoint=__webpack_require__2(79522),FromPercent=__webpack_require__2(62945),MATH_CONST=__webpack_require__2(36383),Point=__webpack_require__2(2141);module2.exports=function(ellipse,position2,out){void 0===out&&(out=new Point);var angle=FromPercent(position2,0,MATH_CONST.PI2);return CircumferencePoint(ellipse,angle,out)}},48320:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circumference=__webpack_require__2(92990),CircumferencePoint=__webpack_require__2(79522),FromPercent=__webpack_require__2(62945),MATH_CONST=__webpack_require__2(36383);module2.exports=function(ellipse,quantity,stepRate,out){void 0===out&&(out=[]),!quantity&&stepRate>0&&(quantity=Circumference(ellipse)/stepRate);for(var i=0;i<quantity;i++){var angle=FromPercent(i/quantity,0,MATH_CONST.PI2);out.push(CircumferencePoint(ellipse,angle))}return out}},73424:module2=>{module2.exports=function(ellipse,x,y){return ellipse.x+=x,ellipse.y+=y,ellipse}},44808:module2=>{module2.exports=function(ellipse,point){return ellipse.x+=point.x,ellipse.y+=point.y,ellipse}},24820:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(ellipse,out){void 0===out&&(out=new Point);var p=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());return out.x=ellipse.x+s*Math.cos(p)*ellipse.width/2,out.y=ellipse.y+s*Math.sin(p)*ellipse.height/2,out}},49203:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ellipse=__webpack_require__2(8497);Ellipse.Area=__webpack_require__2(78874),Ellipse.Circumference=__webpack_require__2(92990),Ellipse.CircumferencePoint=__webpack_require__2(79522),Ellipse.Clone=__webpack_require__2(58102),Ellipse.Contains=__webpack_require__2(81154),Ellipse.ContainsPoint=__webpack_require__2(46662),Ellipse.ContainsRect=__webpack_require__2(1632),Ellipse.CopyFrom=__webpack_require__2(65534),Ellipse.Equals=__webpack_require__2(36146),Ellipse.GetBounds=__webpack_require__2(23694),Ellipse.GetPoint=__webpack_require__2(90549),Ellipse.GetPoints=__webpack_require__2(48320),Ellipse.Offset=__webpack_require__2(73424),Ellipse.OffsetPoint=__webpack_require__2(44808),Ellipse.Random=__webpack_require__2(24820),module2.exports=Ellipse},55738:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(23777),Extend=__webpack_require__2(79291),Geom={Circle:__webpack_require__2(88911),Ellipse:__webpack_require__2(49203),Intersects:__webpack_require__2(91865),Line:__webpack_require__2(2529),Mesh:__webpack_require__2(73090),Point:__webpack_require__2(43711),Polygon:__webpack_require__2(58423),Rectangle:__webpack_require__2(93232),Triangle:__webpack_require__2(84435)};Geom=Extend(!1,Geom,CONST),module2.exports=Geom},2044:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceBetween=__webpack_require__2(20339);module2.exports=function(circleA,circleB){return DistanceBetween(circleA.x,circleA.y,circleB.x,circleB.y)<=circleA.radius+circleB.radius}},81491:module2=>{module2.exports=function(circle,rect){var halfWidth=rect.width/2,halfHeight=rect.height/2,cx=Math.abs(circle.x-rect.x-halfWidth),cy=Math.abs(circle.y-rect.y-halfHeight),xDist=halfWidth+circle.radius,yDist=halfHeight+circle.radius;if(cx>xDist||cy>yDist)return!1;if(cx<=halfWidth||cy<=halfHeight)return!0;var xCornerDist=cx-halfWidth,yCornerDist=cy-halfHeight;return xCornerDist*xCornerDist+yCornerDist*yCornerDist<=circle.radius*circle.radius}},63376:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),CircleToCircle=__webpack_require__2(2044);module2.exports=function(circleA,circleB,out){if(void 0===out&&(out=[]),CircleToCircle(circleA,circleB)){var coefficientA,coefficientB,lambda,x,x0=circleA.x,y0=circleA.y,r0=circleA.radius,x1=circleB.x,y1=circleB.y,r1=circleB.radius;if(y0===y1)0==(lambda=(coefficientB=-2*y1)*coefficientB-4*(coefficientA=1)*(x1*x1+(x=(r1*r1-r0*r0-x1*x1+x0*x0)/(2*(x0-x1)))*x-2*x1*x+y1*y1-r1*r1))?out.push(new Point(x,-coefficientB/(2*coefficientA))):lambda>0&&(out.push(new Point(x,(-coefficientB+Math.sqrt(lambda))/(2*coefficientA))),out.push(new Point(x,(-coefficientB-Math.sqrt(lambda))/(2*coefficientA))));else{var v1=(x0-x1)/(y0-y1),n=(r1*r1-r0*r0-x1*x1+x0*x0-y1*y1+y0*y0)/(2*(y0-y1));0==(lambda=(coefficientB=2*y0*v1-2*n*v1-2*x0)*coefficientB-4*(coefficientA=v1*v1+1)*(x0*x0+y0*y0+n*n-r0*r0-2*y0*n))?(x=-coefficientB/(2*coefficientA),out.push(new Point(x,n-x*v1))):lambda>0&&(x=(-coefficientB+Math.sqrt(lambda))/(2*coefficientA),out.push(new Point(x,n-x*v1)),x=(-coefficientB-Math.sqrt(lambda))/(2*coefficientA),out.push(new Point(x,n-x*v1)))}}return out}},97439:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLineToCircle=__webpack_require__2(4042),CircleToRectangle=__webpack_require__2(81491);module2.exports=function(circle,rect,out){if(void 0===out&&(out=[]),CircleToRectangle(circle,rect)){var lineA=rect.getLineA(),lineB=rect.getLineB(),lineC=rect.getLineC(),lineD=rect.getLineD();GetLineToCircle(lineA,circle,out),GetLineToCircle(lineB,circle,out),GetLineToCircle(lineC,circle,out),GetLineToCircle(lineD,circle,out)}return out}},4042:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),LineToCircle=__webpack_require__2(80462);module2.exports=function(line,circle,out){if(void 0===out&&(out=[]),LineToCircle(line,circle)){var x,y,lx1=line.x1,ly1=line.y1,lx2=line.x2,ly2=line.y2,cx=circle.x,cy=circle.y,cr=circle.radius,lDirX=lx2-lx1,lDirY=ly2-ly1,oDirX=lx1-cx,oDirY=ly1-cy,coefficientA=lDirX*lDirX+lDirY*lDirY,coefficientB=2*(lDirX*oDirX+lDirY*oDirY),lambda=coefficientB*coefficientB-4*coefficientA*(oDirX*oDirX+oDirY*oDirY-cr*cr);if(0===lambda){var root=-coefficientB/(2*coefficientA);x=lx1+root*lDirX,y=ly1+root*lDirY,root>=0&&root<=1&&out.push(new Point(x,y))}else if(lambda>0){var root1=(-coefficientB-Math.sqrt(lambda))/(2*coefficientA);x=lx1+root1*lDirX,y=ly1+root1*lDirY,root1>=0&&root1<=1&&out.push(new Point(x,y));var root2=(-coefficientB+Math.sqrt(lambda))/(2*coefficientA);x=lx1+root2*lDirX,y=ly1+root2*lDirY,root2>=0&&root2<=1&&out.push(new Point(x,y))}}return out}},36100:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector3=__webpack_require__2(25836);module2.exports=function(line1,line2,isRay,out){void 0===isRay&&(isRay=!1);var t,u,s,x1=line1.x1,y1=line1.y1,x2=line1.x2,y2=line1.y2,x3=line2.x1,y3=line2.y1,dx1=x2-x1,dy1=y2-y1,dx2=line2.x2-x3,dy2=line2.y2-y3,denom=dx1*dy2-dy1*dx2;if(0===denom)return null;if(isRay){if(t=(dx1*(y3-y1)+dy1*(x1-x3))/(dx2*dy1-dy2*dx1),0!==dx1)u=(x3+dx2*t-x1)/dx1;else{if(0===dy1)return null;u=(y3+dy2*t-y1)/dy1}if(u<0||t<0||t>1)return null;s=u}else{if(u=((y1-y3)*dx1-(x1-x3)*dy1)/denom,(t=((x3-x1)*dy2-(y3-y1)*dx2)/denom)<0||t>1||u<0||u>1)return null;s=t}return void 0===out&&(out=new Vector3),out.set(x1+dx1*s,y1+dy1*s,s)}},3073:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLineToLine=__webpack_require__2(36100),Line=__webpack_require__2(23031),Vector3=__webpack_require__2(25836),segment=new Line,tempIntersect=new Vector3;module2.exports=function(line,points,isRay,out){void 0===isRay&&(isRay=!1),void 0===out&&(out=new Vector3);var closestIntersect=!1;out.set(),tempIntersect.set();for(var prev=points[points.length-1],i=0;i<points.length;i++){var current=points[i];segment.setTo(prev.x,prev.y,current.x,current.y),prev=current,GetLineToLine(line,segment,isRay,tempIntersect)&&(!closestIntersect||tempIntersect.z<out.z)&&(out.copy(tempIntersect),closestIntersect=!0)}return closestIntersect?out:null}},56362:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector3=__webpack_require__2(25836),Vector4=__webpack_require__2(61369),GetLineToPoints=__webpack_require__2(3073),tempIntersect=new Vector3;module2.exports=function(line,polygons,isRay,out){void 0===out&&(out=new Vector4),Array.isArray(polygons)||(polygons=[polygons]);var closestIntersect=!1;out.set(),tempIntersect.set();for(var i=0;i<polygons.length;i++)GetLineToPoints(line,polygons[i].points,isRay,tempIntersect)&&(!closestIntersect||tempIntersect.z<out.z)&&(out.set(tempIntersect.x,tempIntersect.y,tempIntersect.z,i),closestIntersect=!0);return closestIntersect?out:null}},60646:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),LineToLine=__webpack_require__2(76112),LineToRectangle=__webpack_require__2(92773);module2.exports=function(line,rect,out){if(void 0===out&&(out=[]),LineToRectangle(line,rect))for(var lineA=rect.getLineA(),lineB=rect.getLineB(),lineC=rect.getLineC(),lineD=rect.getLineD(),output=[new Point,new Point,new Point,new Point],result=[LineToLine(lineA,line,output[0]),LineToLine(lineB,line,output[1]),LineToLine(lineC,line,output[2]),LineToLine(lineD,line,output[3])],i=0;i<4;i++)result[i]&&out.push(output[i]);return out}},71147:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector4=__webpack_require__2(61369),GetLineToPolygon=__webpack_require__2(56362),segment=new(__webpack_require__2(23031));function CheckIntersects(angle,x,y,polygons,intersects){var dx=Math.cos(angle),dy=Math.sin(angle);segment.setTo(x,y,x+dx,y+dy);var closestIntersect=GetLineToPolygon(segment,polygons,!0);closestIntersect&&intersects.push(new Vector4(closestIntersect.x,closestIntersect.y,angle,closestIntersect.w))}function SortIntersects(a,b){return a.z-b.z}module2.exports=function(x,y,polygons){Array.isArray(polygons)||(polygons=[polygons]);for(var intersects=[],angles=[],i=0;i<polygons.length;i++)for(var points=polygons[i].points,p=0;p<points.length;p++){var angle=Math.atan2(points[p].y-y,points[p].x-x);-1===angles.indexOf(angle)&&(CheckIntersects(angle,x,y,polygons,intersects),CheckIntersects(angle-1e-5,x,y,polygons,intersects),CheckIntersects(angle+1e-5,x,y,polygons,intersects),angles.push(angle))}return intersects.sort(SortIntersects)}},68389:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841),RectangleToRectangle=__webpack_require__2(59996);module2.exports=function(rectA,rectB,output){return void 0===output&&(output=new Rectangle),RectangleToRectangle(rectA,rectB)&&(output.x=Math.max(rectA.x,rectB.x),output.y=Math.max(rectA.y,rectB.y),output.width=Math.min(rectA.right,rectB.right)-output.x,output.height=Math.min(rectA.bottom,rectB.bottom)-output.y),output}},52784:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLineToRectangle=__webpack_require__2(60646),RectangleToRectangle=__webpack_require__2(59996);module2.exports=function(rectA,rectB,out){if(void 0===out&&(out=[]),RectangleToRectangle(rectA,rectB)){var lineA=rectA.getLineA(),lineB=rectA.getLineB(),lineC=rectA.getLineC(),lineD=rectA.getLineD();GetLineToRectangle(lineA,rectB,out),GetLineToRectangle(lineB,rectB,out),GetLineToRectangle(lineC,rectB,out),GetLineToRectangle(lineD,rectB,out)}return out}},26341:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RectangleToTriangle=__webpack_require__2(89265),GetLineToRectangle=__webpack_require__2(60646);module2.exports=function(rect,triangle,out){if(void 0===out&&(out=[]),RectangleToTriangle(rect,triangle)){var lineA=triangle.getLineA(),lineB=triangle.getLineB(),lineC=triangle.getLineC();GetLineToRectangle(lineA,rect,out),GetLineToRectangle(lineB,rect,out),GetLineToRectangle(lineC,rect,out)}return out}},38720:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLineToCircle=__webpack_require__2(4042),TriangleToCircle=__webpack_require__2(67636);module2.exports=function(triangle,circle,out){if(void 0===out&&(out=[]),TriangleToCircle(triangle,circle)){var lineA=triangle.getLineA(),lineB=triangle.getLineB(),lineC=triangle.getLineC();GetLineToCircle(lineA,circle,out),GetLineToCircle(lineB,circle,out),GetLineToCircle(lineC,circle,out)}return out}},13882:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),TriangleToLine=__webpack_require__2(2822),LineToLine=__webpack_require__2(76112);module2.exports=function(triangle,line,out){if(void 0===out&&(out=[]),TriangleToLine(triangle,line))for(var lineA=triangle.getLineA(),lineB=triangle.getLineB(),lineC=triangle.getLineC(),output=[new Point,new Point,new Point],result=[LineToLine(lineA,line,output[0]),LineToLine(lineB,line,output[1]),LineToLine(lineC,line,output[2])],i=0;i<3;i++)result[i]&&out.push(output[i]);return out}},75636:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TriangleToTriangle=__webpack_require__2(82944),GetTriangleToLine=__webpack_require__2(13882);module2.exports=function(triangleA,triangleB,out){if(void 0===out&&(out=[]),TriangleToTriangle(triangleA,triangleB)){var lineA=triangleB.getLineA(),lineB=triangleB.getLineB(),lineC=triangleB.getLineC();GetTriangleToLine(triangleA,lineA,out),GetTriangleToLine(triangleA,lineB,out),GetTriangleToLine(triangleA,lineC,out)}return out}},80462:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(87902),tmp=new(__webpack_require__2(2141));module2.exports=function(line,circle,nearest){if(void 0===nearest&&(nearest=tmp),Contains(circle,line.x1,line.y1))return nearest.x=line.x1,nearest.y=line.y1,!0;if(Contains(circle,line.x2,line.y2))return nearest.x=line.x2,nearest.y=line.y2,!0;var dx=line.x2-line.x1,dy=line.y2-line.y1,lcx=circle.x-line.x1,lcy=circle.y-line.y1,dLen2=dx*dx+dy*dy,px=dx,py=dy;if(dLen2>0){var dp=(lcx*dx+lcy*dy)/dLen2;px*=dp,py*=dp}return nearest.x=line.x1+px,nearest.y=line.y1+py,px*px+py*py<=dLen2&&px*dx+py*dy>=0&&Contains(circle,nearest.x,nearest.y)}},76112:module2=>{module2.exports=function(line1,line2,out){var x1=line1.x1,y1=line1.y1,x2=line1.x2,y2=line1.y2,x3=line2.x1,y3=line2.y1,x4=line2.x2,y4=line2.y2;if(x1===x2&&y1===y2||x3===x4&&y3===y4)return!1;var denom=(y4-y3)*(x2-x1)-(x4-x3)*(y2-y1);if(0===denom)return!1;var ua=((x4-x3)*(y1-y3)-(y4-y3)*(x1-x3))/denom,ub=((x2-x1)*(y1-y3)-(y2-y1)*(x1-x3))/denom;return!(ua<0||ua>1||ub<0||ub>1||(out&&(out.x=x1+ua*(x2-x1),out.y=y1+ua*(y2-y1)),0))}},92773:module2=>{module2.exports=function(line,rect){var x1=line.x1,y1=line.y1,x2=line.x2,y2=line.y2,bx1=rect.x,by1=rect.y,bx2=rect.right,by2=rect.bottom,t=0;if(x1>=bx1&&x1<=bx2&&y1>=by1&&y1<=by2||x2>=bx1&&x2<=bx2&&y2>=by1&&y2<=by2)return!0;if(x1<bx1&&x2>=bx1){if((t=y1+(y2-y1)*(bx1-x1)/(x2-x1))>by1&&t<=by2)return!0}else if(x1>bx2&&x2<=bx2&&(t=y1+(y2-y1)*(bx2-x1)/(x2-x1))>=by1&&t<=by2)return!0;if(y1<by1&&y2>=by1){if((t=x1+(x2-x1)*(by1-y1)/(y2-y1))>=bx1&&t<=bx2)return!0}else if(y1>by2&&y2<=by2&&(t=x1+(x2-x1)*(by2-y1)/(y2-y1))>=bx1&&t<=bx2)return!0;return!1}},16204:module2=>{module2.exports=function(point,line,lineThickness){void 0===lineThickness&&(lineThickness=1);var x1=line.x1,y1=line.y1,x2=line.x2,y2=line.y2,px=point.x,py=point.y,L2=(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1);if(0===L2)return!1;var r=((px-x1)*(x2-x1)+(py-y1)*(y2-y1))/L2;if(r<0)return Math.sqrt((x1-px)*(x1-px)+(y1-py)*(y1-py))<=lineThickness;if(r>=0&&r<=1){var s=((y1-py)*(x2-x1)-(x1-px)*(y2-y1))/L2;return Math.abs(s)*Math.sqrt(L2)<=lineThickness}return Math.sqrt((x2-px)*(x2-px)+(y2-py)*(y2-py))<=lineThickness}},14199:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PointToLine=__webpack_require__2(16204);module2.exports=function(point,line){if(!PointToLine(point,line))return!1;var xMin=Math.min(line.x1,line.x2),xMax=Math.max(line.x1,line.x2),yMin=Math.min(line.y1,line.y2),yMax=Math.max(line.y1,line.y2);return point.x>=xMin&&point.x<=xMax&&point.y>=yMin&&point.y<=yMax}},59996:module2=>{module2.exports=function(rectA,rectB){return!(rectA.width<=0||rectA.height<=0||rectB.width<=0||rectB.height<=0||rectA.right<rectB.x||rectA.bottom<rectB.y||rectA.x>rectB.right||rectA.y>rectB.bottom)}},89265:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineToLine=__webpack_require__2(76112),Contains=__webpack_require__2(37303),ContainsArray=__webpack_require__2(48653),Decompose=__webpack_require__2(77493);module2.exports=function(rect,triangle){if(triangle.left>rect.right||triangle.right<rect.left||triangle.top>rect.bottom||triangle.bottom<rect.top)return!1;var triA=triangle.getLineA(),triB=triangle.getLineB(),triC=triangle.getLineC();if(Contains(rect,triA.x1,triA.y1)||Contains(rect,triA.x2,triA.y2))return!0;if(Contains(rect,triB.x1,triB.y1)||Contains(rect,triB.x2,triB.y2))return!0;if(Contains(rect,triC.x1,triC.y1)||Contains(rect,triC.x2,triC.y2))return!0;var rectA=rect.getLineA(),rectB=rect.getLineB(),rectC=rect.getLineC(),rectD=rect.getLineD();if(LineToLine(triA,rectA)||LineToLine(triA,rectB)||LineToLine(triA,rectC)||LineToLine(triA,rectD))return!0;if(LineToLine(triB,rectA)||LineToLine(triB,rectB)||LineToLine(triB,rectC)||LineToLine(triB,rectD))return!0;if(LineToLine(triC,rectA)||LineToLine(triC,rectB)||LineToLine(triC,rectC)||LineToLine(triC,rectD))return!0;var points=Decompose(rect);return ContainsArray(triangle,points,!0).length>0}},84411:module2=>{module2.exports=function(rect,left,right,top,bottom,tolerance){return void 0===tolerance&&(tolerance=0),!(left>rect.right+tolerance||right<rect.left-tolerance||top>rect.bottom+tolerance||bottom<rect.top-tolerance)}},67636:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineToCircle=__webpack_require__2(80462),Contains=__webpack_require__2(10690);module2.exports=function(triangle,circle){return!(triangle.left>circle.right||triangle.right<circle.left||triangle.top>circle.bottom||triangle.bottom<circle.top||!Contains(triangle,circle.x,circle.y)&&!LineToCircle(triangle.getLineA(),circle)&&!LineToCircle(triangle.getLineB(),circle)&&!LineToCircle(triangle.getLineC(),circle))}},2822:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineToLine=__webpack_require__2(76112);module2.exports=function(triangle,line){return!!(triangle.contains(line.x1,line.y1)||triangle.contains(line.x2,line.y2)||LineToLine(triangle.getLineA(),line)||LineToLine(triangle.getLineB(),line)||LineToLine(triangle.getLineC(),line))}},82944:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ContainsArray=__webpack_require__2(48653),Decompose=__webpack_require__2(71694),LineToLine=__webpack_require__2(76112);module2.exports=function(triangleA,triangleB){if(triangleA.left>triangleB.right||triangleA.right<triangleB.left||triangleA.top>triangleB.bottom||triangleA.bottom<triangleB.top)return!1;var lineAA=triangleA.getLineA(),lineAB=triangleA.getLineB(),lineAC=triangleA.getLineC(),lineBA=triangleB.getLineA(),lineBB=triangleB.getLineB(),lineBC=triangleB.getLineC();if(LineToLine(lineAA,lineBA)||LineToLine(lineAA,lineBB)||LineToLine(lineAA,lineBC))return!0;if(LineToLine(lineAB,lineBA)||LineToLine(lineAB,lineBB)||LineToLine(lineAB,lineBC))return!0;if(LineToLine(lineAC,lineBA)||LineToLine(lineAC,lineBB)||LineToLine(lineAC,lineBC))return!0;var points=Decompose(triangleA),within=ContainsArray(triangleB,points,!0);return within.length>0||(points=Decompose(triangleB),(within=ContainsArray(triangleA,points,!0)).length>0)}},91865:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CircleToCircle:__webpack_require__2(2044),CircleToRectangle:__webpack_require__2(81491),GetCircleToCircle:__webpack_require__2(63376),GetCircleToRectangle:__webpack_require__2(97439),GetLineToCircle:__webpack_require__2(4042),GetLineToLine:__webpack_require__2(36100),GetLineToPoints:__webpack_require__2(3073),GetLineToPolygon:__webpack_require__2(56362),GetLineToRectangle:__webpack_require__2(60646),GetRaysFromPointToPolygon:__webpack_require__2(71147),GetRectangleIntersection:__webpack_require__2(68389),GetRectangleToRectangle:__webpack_require__2(52784),GetRectangleToTriangle:__webpack_require__2(26341),GetTriangleToCircle:__webpack_require__2(38720),GetTriangleToLine:__webpack_require__2(13882),GetTriangleToTriangle:__webpack_require__2(75636),LineToCircle:__webpack_require__2(80462),LineToLine:__webpack_require__2(76112),LineToRectangle:__webpack_require__2(92773),PointToLine:__webpack_require__2(16204),PointToLineSegment:__webpack_require__2(14199),RectangleToRectangle:__webpack_require__2(59996),RectangleToTriangle:__webpack_require__2(89265),RectangleToValues:__webpack_require__2(84411),TriangleToCircle:__webpack_require__2(67636),TriangleToLine:__webpack_require__2(2822),TriangleToTriangle:__webpack_require__2(82944)}},91938:module2=>{module2.exports=function(line){return Math.atan2(line.y2-line.y1,line.x2-line.x1)}},84993:module2=>{module2.exports=function(line,stepRate,results){void 0===stepRate&&(stepRate=1),void 0===results&&(results=[]);var x1=Math.round(line.x1),y1=Math.round(line.y1),x2=Math.round(line.x2),y2=Math.round(line.y2),dx=Math.abs(x2-x1),dy=Math.abs(y2-y1),sx=x1<x2?1:-1,sy=y1<y2?1:-1,err=dx-dy;results.push({x:x1,y:y1});for(var i=1;x1!==x2||y1!==y2;){var e2=err<<1;e2>-dy&&(err-=dy,x1+=sx),e2<dx&&(err+=dx,y1+=sy),i%stepRate===0&&results.push({x:x1,y:y1}),i++}return results}},36469:module2=>{module2.exports=function(line,x,y){var tx=x-(line.x1+line.x2)/2,ty=y-(line.y1+line.y2)/2;return line.x1+=tx,line.y1+=ty,line.x2+=tx,line.y2+=ty,line}},31116:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Line=__webpack_require__2(23031);module2.exports=function(source){return new Line(source.x1,source.y1,source.x2,source.y2)}},59944:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x1,source.y1,source.x2,source.y2)}},59220:module2=>{module2.exports=function(line,toCompare){return line.x1===toCompare.x1&&line.y1===toCompare.y1&&line.x2===toCompare.x2&&line.y2===toCompare.y2}},78177:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001);module2.exports=function(line,left,right){void 0===right&&(right=left);var length=Length(line),slopX=line.x2-line.x1,slopY=line.y2-line.y1;return left&&(line.x1=line.x1-slopX/length*left,line.y1=line.y1-slopY/length*left),right&&(line.x2=line.x2+slopX/length*right,line.y2=line.y2+slopY/length*right),line}},26708:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceBetweenPoints=__webpack_require__2(52816),GetEaseFunction=__webpack_require__2(6113),Point=__webpack_require__2(2141);module2.exports=function(line,ease,quantity,collinearThreshold,easeParams){void 0===collinearThreshold&&(collinearThreshold=0),void 0===easeParams&&(easeParams=[]);var i,v,results=[],x1=line.x1,y1=line.y1,spaceX=line.x2-x1,spaceY=line.y2-y1,easeFunc=GetEaseFunction(ease,easeParams),q=quantity-1;for(i=0;i<q;i++)v=easeFunc(i/q),results.push(new Point(x1+spaceX*v,y1+spaceY*v));if(v=easeFunc(1),results.push(new Point(x1+spaceX*v,y1+spaceY*v)),collinearThreshold>0){var prevPoint=results[0],sortedResults=[prevPoint];for(i=1;i<results.length-1;i++){var point=results[i];DistanceBetweenPoints(prevPoint,point)>=collinearThreshold&&(sortedResults.push(point),prevPoint=point)}var endPoint=results[results.length-1];return DistanceBetweenPoints(prevPoint,endPoint)<collinearThreshold&&sortedResults.pop(),sortedResults.push(endPoint),sortedResults}return results}},32125:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(line,out){return void 0===out&&(out=new Point),out.x=(line.x1+line.x2)/2,out.y=(line.y1+line.y2)/2,out}},99569:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Florian Mertens
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(line,point,out){void 0===out&&(out=new Point);var x1=line.x1,y1=line.y1,x2=line.x2,y2=line.y2,L2=(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1);if(0===L2)return out;var r=((point.x-x1)*(x2-x1)+(point.y-y1)*(y2-y1))/L2;return out.x=x1+r*(x2-x1),out.y=y1+r*(y2-y1),out}},34638:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383),Angle=__webpack_require__2(91938),Point=__webpack_require__2(2141);module2.exports=function(line,out){void 0===out&&(out=new Point);var a=Angle(line)-MATH_CONST.TAU;return out.x=Math.cos(a),out.y=Math.sin(a),out}},13151:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(line,position2,out){return void 0===out&&(out=new Point),out.x=line.x1+(line.x2-line.x1)*position2,out.y=line.y1+(line.y2-line.y1)*position2,out}},15258:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001),Point=__webpack_require__2(2141);module2.exports=function(line,quantity,stepRate,out){void 0===out&&(out=[]),!quantity&&stepRate>0&&(quantity=Length(line)/stepRate);for(var x1=line.x1,y1=line.y1,x2=line.x2,y2=line.y2,i=0;i<quantity;i++){var position2=i/quantity,x=x1+(x2-x1)*position2,y=y1+(y2-y1)*position2;out.push(new Point(x,y))}return out}},26408:module2=>{module2.exports=function(line,point){var x1=line.x1,y1=line.y1,x2=line.x2,y2=line.y2,L2=(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1);if(0===L2)return!1;var s=((y1-point.y)*(x2-x1)-(x1-point.x)*(y2-y1))/L2;return Math.abs(s)*Math.sqrt(L2)}},98770:module2=>{module2.exports=function(line){return Math.abs(line.y1-line.y2)}},35001:module2=>{module2.exports=function(line){return Math.sqrt((line.x2-line.x1)*(line.x2-line.x1)+(line.y2-line.y1)*(line.y2-line.y1))}},23031:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetPoint=__webpack_require__2(13151),GetPoints=__webpack_require__2(15258),GEOM_CONST=__webpack_require__2(23777),Random=__webpack_require__2(65822),Vector2=__webpack_require__2(26099),Line=new Class({initialize:function Line2(x1,y1,x2,y2){void 0===x1&&(x1=0),void 0===y1&&(y1=0),void 0===x2&&(x2=0),void 0===y2&&(y2=0),this.type=GEOM_CONST.LINE,this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2},getPoint:function(position2,output){return GetPoint(this,position2,output)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x1,y1,x2,y2){return void 0===x1&&(x1=0),void 0===y1&&(y1=0),void 0===x2&&(x2=0),void 0===y2&&(y2=0),this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2,this},setFromObjects:function(start,end){return this.x1=start.x,this.y1=start.y,this.x2=end.x,this.y2=end.y,this},getPointA:function(vec2){return void 0===vec2&&(vec2=new Vector2),vec2.set(this.x1,this.y1),vec2},getPointB:function(vec2){return void 0===vec2&&(vec2=new Vector2),vec2.set(this.x2,this.y2),vec2},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(value){this.x1<=this.x2?this.x1=value:this.x2=value}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(value){this.x1>this.x2?this.x1=value:this.x2=value}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(value){this.y1<=this.y2?this.y1=value:this.y2=value}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(value){this.y1>this.y2?this.y1=value:this.y2=value}}});module2.exports=Line},64795:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383),Wrap=__webpack_require__2(15994),Angle=__webpack_require__2(91938);module2.exports=function(line){var angle=Angle(line)-MATH_CONST.TAU;return Wrap(angle,-Math.PI,Math.PI)}},52616:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383),Angle=__webpack_require__2(91938);module2.exports=function(line){return Math.cos(Angle(line)-MATH_CONST.TAU)}},87231:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383),Angle=__webpack_require__2(91938);module2.exports=function(line){return Math.sin(Angle(line)-MATH_CONST.TAU)}},89662:module2=>{module2.exports=function(line,x,y){return line.x1+=x,line.y1+=y,line.x2+=x,line.y2+=y,line}},71165:module2=>{module2.exports=function(line){return-(line.x2-line.x1)/(line.y2-line.y1)}},65822:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(line,out){void 0===out&&(out=new Point);var t=Math.random();return out.x=line.x1+t*(line.x2-line.x1),out.y=line.y1+t*(line.y2-line.y1),out}},69777:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Angle=__webpack_require__2(91938),NormalAngle=__webpack_require__2(64795);module2.exports=function(lineA,lineB){return 2*NormalAngle(lineB)-Math.PI-Angle(lineA)}},39706:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=__webpack_require__2(64400);module2.exports=function(line,angle){var x=(line.x1+line.x2)/2,y=(line.y1+line.y2)/2;return RotateAroundXY(line,x,y,angle)}},82585:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=__webpack_require__2(64400);module2.exports=function(line,point,angle){return RotateAroundXY(line,point.x,point.y,angle)}},64400:module2=>{module2.exports=function(line,x,y,angle){var c=Math.cos(angle),s=Math.sin(angle),tx=line.x1-x,ty=line.y1-y;return line.x1=tx*c-ty*s+x,line.y1=tx*s+ty*c+y,tx=line.x2-x,ty=line.y2-y,line.x2=tx*c-ty*s+x,line.y2=tx*s+ty*c+y,line}},62377:module2=>{module2.exports=function(line,x,y,angle,length){return line.x1=x,line.y1=y,line.x2=x+Math.cos(angle)*length,line.y2=y+Math.sin(angle)*length,line}},71366:module2=>{module2.exports=function(line){return(line.y2-line.y1)/(line.x2-line.x1)}},10809:module2=>{module2.exports=function(line){return Math.abs(line.x1-line.x2)}},2529:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Line=__webpack_require__2(23031);Line.Angle=__webpack_require__2(91938),Line.BresenhamPoints=__webpack_require__2(84993),Line.CenterOn=__webpack_require__2(36469),Line.Clone=__webpack_require__2(31116),Line.CopyFrom=__webpack_require__2(59944),Line.Equals=__webpack_require__2(59220),Line.Extend=__webpack_require__2(78177),Line.GetEasedPoints=__webpack_require__2(26708),Line.GetMidPoint=__webpack_require__2(32125),Line.GetNearestPoint=__webpack_require__2(99569),Line.GetNormal=__webpack_require__2(34638),Line.GetPoint=__webpack_require__2(13151),Line.GetPoints=__webpack_require__2(15258),Line.GetShortestDistance=__webpack_require__2(26408),Line.Height=__webpack_require__2(98770),Line.Length=__webpack_require__2(35001),Line.NormalAngle=__webpack_require__2(64795),Line.NormalX=__webpack_require__2(52616),Line.NormalY=__webpack_require__2(87231),Line.Offset=__webpack_require__2(89662),Line.PerpSlope=__webpack_require__2(71165),Line.Random=__webpack_require__2(65822),Line.ReflectAngle=__webpack_require__2(69777),Line.Rotate=__webpack_require__2(39706),Line.RotateAroundPoint=__webpack_require__2(82585),Line.RotateAroundXY=__webpack_require__2(64400),Line.SetToAngle=__webpack_require__2(62377),Line.Slope=__webpack_require__2(71366),Line.Width=__webpack_require__2(10809),module2.exports=Line},83997:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Rectangle=__webpack_require__2(87841),Vector2=__webpack_require__2(26099);function GetLength(x1,y1,x2,y2){var x=x1-x2,y=y1-y2,magnitude=x*x+y*y;return Math.sqrt(magnitude)}var Face=new Class({initialize:function Face2(vertex1,vertex2,vertex3){this.vertex1=vertex1,this.vertex2=vertex2,this.vertex3=vertex3,this.bounds=new Rectangle,this._inCenter=new Vector2},getInCenter:function(local){void 0===local&&(local=!0);var v1x,v1y,v2x,v2y,v3x,v3y,v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;local?(v1x=v1.x,v1y=v1.y,v2x=v2.x,v2y=v2.y,v3x=v3.x,v3y=v3.y):(v1x=v1.vx,v1y=v1.vy,v2x=v2.vx,v2y=v2.vy,v3x=v3.vx,v3y=v3.vy);var d1=GetLength(v3x,v3y,v2x,v2y),d2=GetLength(v1x,v1y,v3x,v3y),d3=GetLength(v2x,v2y,v1x,v1y),p=d1+d2+d3;return this._inCenter.set((v1x*d1+v2x*d2+v3x*d3)/p,(v1y*d1+v2y*d2+v3y*d3)/p)},contains:function(x,y,calcMatrix){var vertex1=this.vertex1,vertex2=this.vertex2,vertex3=this.vertex3,v1x=vertex1.vx,v1y=vertex1.vy,v2x=vertex2.vx,v2y=vertex2.vy,v3x=vertex3.vx,v3y=vertex3.vy;if(calcMatrix){var a=calcMatrix.a,b=calcMatrix.b,c=calcMatrix.c,d=calcMatrix.d,e=calcMatrix.e,f=calcMatrix.f;v1x=vertex1.vx*a+vertex1.vy*c+e,v1y=vertex1.vx*b+vertex1.vy*d+f,v2x=vertex2.vx*a+vertex2.vy*c+e,v2y=vertex2.vx*b+vertex2.vy*d+f,v3x=vertex3.vx*a+vertex3.vy*c+e,v3y=vertex3.vx*b+vertex3.vy*d+f}var t0x=v3x-v1x,t0y=v3y-v1y,t1x=v2x-v1x,t1y=v2y-v1y,t2x=x-v1x,t2y=y-v1y,dot00=t0x*t0x+t0y*t0y,dot01=t0x*t1x+t0y*t1y,dot02=t0x*t2x+t0y*t2y,dot11=t1x*t1x+t1y*t1y,dot12=t1x*t2x+t1y*t2y,bc=dot00*dot11-dot01*dot01,inv=0===bc?0:1/bc,u=(dot11*dot02-dot01*dot12)*inv,v=(dot00*dot12-dot01*dot02)*inv;return u>=0&&v>=0&&u+v<1},isCounterClockwise:function(z2){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3,d=(v2.vx-v1.vx)*(v3.vy-v1.vy)-(v2.vy-v1.vy)*(v3.vx-v1.vx);return z2<=0?d>=0:d<0},load:function(F32,U32,offset,textureUnit,tintEffect){return offset=this.vertex1.load(F32,U32,offset,textureUnit,tintEffect),offset=this.vertex2.load(F32,U32,offset,textureUnit,tintEffect),offset=this.vertex3.load(F32,U32,offset,textureUnit,tintEffect)},transformCoordinatesLocal:function(transformMatrix,width,height,cameraZ){return this.vertex1.transformCoordinatesLocal(transformMatrix,width,height,cameraZ),this.vertex2.transformCoordinatesLocal(transformMatrix,width,height,cameraZ),this.vertex3.transformCoordinatesLocal(transformMatrix,width,height,cameraZ),this},updateBounds:function(){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3,bounds=this.bounds;return bounds.x=Math.min(v1.vx,v2.vx,v3.vx),bounds.y=Math.min(v1.vy,v2.vy,v3.vy),bounds.width=Math.max(v1.vx,v2.vx,v3.vx)-bounds.x,bounds.height=Math.max(v1.vy,v2.vy,v3.vy)-bounds.y,this},isInView:function(camera,hideCCW,z2,alpha,a,b,c,d,e,f,roundPixels){this.update(alpha,a,b,c,d,e,f,roundPixels);var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;if(v1.ta<=0&&v2.ta<=0&&v3.ta<=0)return!1;if(hideCCW&&!this.isCounterClockwise(z2))return!1;var bounds=this.bounds;bounds.x=Math.min(v1.tx,v2.tx,v3.tx),bounds.y=Math.min(v1.ty,v2.ty,v3.ty),bounds.width=Math.max(v1.tx,v2.tx,v3.tx)-bounds.x,bounds.height=Math.max(v1.ty,v2.ty,v3.ty)-bounds.y;var cr=camera.x+camera.width,cb=camera.y+camera.height;return!(bounds.width<=0||bounds.height<=0||camera.width<=0||camera.height<=0||bounds.right<camera.x||bounds.bottom<camera.y||bounds.x>cr||bounds.y>cb)},scrollUV:function(x,y){return this.vertex1.scrollUV(x,y),this.vertex2.scrollUV(x,y),this.vertex3.scrollUV(x,y),this},scaleUV:function(x,y){return this.vertex1.scaleUV(x,y),this.vertex2.scaleUV(x,y),this.vertex3.scaleUV(x,y),this},setColor:function(color){return this.vertex1.color=color,this.vertex2.color=color,this.vertex3.color=color,this},update:function(alpha,a,b,c,d,e,f,roundPixels){return this.vertex1.update(a,b,c,d,e,f,roundPixels,alpha),this.vertex2.update(a,b,c,d,e,f,roundPixels,alpha),this.vertex3.update(a,b,c,d,e,f,roundPixels,alpha),this},translate:function(x,y){void 0===y&&(y=0);var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;return v1.x+=x,v1.y+=y,v2.x+=x,v2.y+=y,v3.x+=x,v3.y+=y,this},x:{get:function(){return this.getInCenter().x},set:function(value){var current=this.getInCenter();this.translate(value-current.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(value){var current=this.getInCenter();this.translate(0,value-current.y)}},alpha:{get:function(){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;return(v1.alpha+v2.alpha+v3.alpha)/3},set:function(value){this.vertex1.alpha=value,this.vertex2.alpha=value,this.vertex3.alpha=value}},depth:{get:function(){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;return(v1.vz+v2.vz+v3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});module2.exports=Face},48803:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Face=__webpack_require__2(83997),GetFastValue=__webpack_require__2(95540),Matrix4=__webpack_require__2(37867),Vector3=__webpack_require__2(25836),Vertex=__webpack_require__2(39318),tempPosition=new Vector3,tempRotation=new Vector3,tempMatrix=new Matrix4;module2.exports=function(config2){var textureFrame,mesh=GetFastValue(config2,"mesh"),texture=GetFastValue(config2,"texture",null),frame=GetFastValue(config2,"frame"),width=GetFastValue(config2,"width",1),height=GetFastValue(config2,"height",width),widthSegments=GetFastValue(config2,"widthSegments",1),heightSegments=GetFastValue(config2,"heightSegments",widthSegments),posX=GetFastValue(config2,"x",0),posY=GetFastValue(config2,"y",0),posZ=GetFastValue(config2,"z",0),rotateX=GetFastValue(config2,"rotateX",0),rotateY=GetFastValue(config2,"rotateY",0),rotateZ=GetFastValue(config2,"rotateZ",0),zIsUp=GetFastValue(config2,"zIsUp",!0),isOrtho=GetFastValue(config2,"isOrtho",!!mesh&&mesh.dirtyCache[11]),colors=GetFastValue(config2,"colors",[16777215]),alphas=GetFastValue(config2,"alphas",[1]),tile=GetFastValue(config2,"tile",!1),flipY=GetFastValue(config2,"flipY",!1),widthSet=GetFastValue(config2,"width",null),result={faces:[],verts:[]};if(tempPosition.set(posX,posY,posZ),tempRotation.set(rotateX,rotateY,rotateZ),tempMatrix.fromRotationXYTranslation(tempRotation,tempPosition,zIsUp),!texture&&mesh)texture=mesh.texture,frame||(textureFrame=mesh.frame);else if(mesh&&"string"==typeof texture)texture=mesh.scene.sys.textures.get(texture);else if(!texture)return result;textureFrame||(textureFrame=texture.get(frame)),!widthSet&&isOrtho&&texture&&mesh&&(width=textureFrame.width/mesh.height,height=textureFrame.height/mesh.height);var ix,iy,halfWidth=width/2,halfHeight=height/2,gridX=Math.floor(widthSegments),gridY=Math.floor(heightSegments),gridX1=gridX+1,gridY1=gridY+1,segmentWidth=width/gridX,segmentHeight=height/gridY,uvs=[],vertices=[],frameU0=0,frameU1=1,frameV0=0,frameV1=1;textureFrame&&(frameU0=textureFrame.u0,frameU1=textureFrame.u1,flipY?(frameV0=textureFrame.v1,frameV1=textureFrame.v0):(frameV0=textureFrame.v0,frameV1=textureFrame.v1));var frameU=frameU1-frameU0,frameV=frameV1-frameV0;for(iy=0;iy<gridY1;iy++){var y=iy*segmentHeight-halfHeight;for(ix=0;ix<gridX1;ix++){var x=ix*segmentWidth-halfWidth;vertices.push(x,-y);var tu=frameU0+frameU*(ix/gridX),tv=frameV0+frameV*(iy/gridY);uvs.push(tu,tv)}}Array.isArray(colors)||(colors=[colors]),Array.isArray(alphas)||(alphas=[alphas]);var alphaIndex=0,colorIndex=0;for(iy=0;iy<gridY;iy++)for(ix=0;ix<gridX;ix++){var a=2*(ix+gridX1*iy),b=2*(ix+gridX1*(iy+1)),c=2*(ix+1+gridX1*(iy+1)),d=2*(ix+1+gridX1*iy),color=colors[colorIndex],alpha=alphas[alphaIndex],vert1=new Vertex(vertices[a],vertices[a+1],0,uvs[a],uvs[a+1],color,alpha).transformMat4(tempMatrix),vert2=new Vertex(vertices[b],vertices[b+1],0,uvs[b],uvs[b+1],color,alpha).transformMat4(tempMatrix),vert3=new Vertex(vertices[d],vertices[d+1],0,uvs[d],uvs[d+1],color,alpha).transformMat4(tempMatrix),vert4=new Vertex(vertices[b],vertices[b+1],0,uvs[b],uvs[b+1],color,alpha).transformMat4(tempMatrix),vert5=new Vertex(vertices[c],vertices[c+1],0,uvs[c],uvs[c+1],color,alpha).transformMat4(tempMatrix),vert6=new Vertex(vertices[d],vertices[d+1],0,uvs[d],uvs[d+1],color,alpha).transformMat4(tempMatrix);tile&&(vert1.setUVs(frameU0,frameV1),vert2.setUVs(frameU0,frameV0),vert3.setUVs(frameU1,frameV1),vert4.setUVs(frameU0,frameV0),vert5.setUVs(frameU1,frameV0),vert6.setUVs(frameU1,frameV1)),++colorIndex===colors.length&&(colorIndex=0),++alphaIndex===alphas.length&&(alphaIndex=0),result.verts.push(vert1,vert2,vert3,vert4,vert5,vert6),result.faces.push(new Face(vert1,vert2,vert3),new Face(vert4,vert5,vert6))}return mesh&&(mesh.faces=mesh.faces.concat(result.faces),mesh.vertices=mesh.vertices.concat(result.verts)),result}},34684:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Face=__webpack_require__2(83997),Matrix4=__webpack_require__2(37867),Vector3=__webpack_require__2(25836),Vertex=__webpack_require__2(39318),tempPosition=new Vector3,tempRotation=new Vector3,tempMatrix=new Matrix4;module2.exports=function(data,mesh,scale,x,y,z2,rotateX,rotateY,rotateZ,zIsUp){void 0===scale&&(scale=1),void 0===x&&(x=0),void 0===y&&(y=0),void 0===z2&&(z2=0),void 0===rotateX&&(rotateX=0),void 0===rotateY&&(rotateY=0),void 0===rotateZ&&(rotateZ=0),void 0===zIsUp&&(zIsUp=!0);var result={faces:[],verts:[]},materials=data.materials;tempPosition.set(x,y,z2),tempRotation.set(rotateX,rotateY,rotateZ),tempMatrix.fromRotationXYTranslation(tempRotation,tempPosition,zIsUp);for(var m=0;m<data.models.length;m++)for(var model=data.models[m],vertices=model.vertices,textureCoords=model.textureCoords,faces=model.faces,i=0;i<faces.length;i++){var face=faces[i],v1=face.vertices[0],v2=face.vertices[1],v3=face.vertices[2],m1=vertices[v1.vertexIndex],m2=vertices[v2.vertexIndex],m3=vertices[v3.vertexIndex],t1=v1.textureCoordsIndex,t2=v2.textureCoordsIndex,t3=v3.textureCoordsIndex,uv1=-1===t1?{u:0,v:1}:textureCoords[t1],uv2=-1===t2?{u:0,v:0}:textureCoords[t2],uv3=-1===t3?{u:1,v:1}:textureCoords[t3],color=16777215;""!==face.material&&materials[face.material]&&(color=materials[face.material]);var vert1=new Vertex(m1.x*scale,m1.y*scale,m1.z*scale,uv1.u,uv1.v,color).transformMat4(tempMatrix),vert2=new Vertex(m2.x*scale,m2.y*scale,m2.z*scale,uv2.u,uv2.v,color).transformMat4(tempMatrix),vert3=new Vertex(m3.x*scale,m3.y*scale,m3.z*scale,uv3.u,uv3.v,color).transformMat4(tempMatrix);result.verts.push(vert1,vert2,vert3),result.faces.push(new Face(vert1,vert2,vert3))}return mesh&&(mesh.faces=mesh.faces.concat(result.faces),mesh.vertices=mesh.vertices.concat(result.verts)),result}},92515:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Face=__webpack_require__2(83997),Vertex=__webpack_require__2(39318);module2.exports=function(vertices,uvs,indicies,containsZ,normals,colors,alphas,flipUV){if(void 0===containsZ&&(containsZ=!1),void 0===colors&&(colors=16777215),void 0===alphas&&(alphas=1),void 0===flipUV&&(flipUV=!1),vertices.length===uvs.length||containsZ){var i,x,y,z2,u,v,color,alpha,normalX,normalY,normalZ,result={faces:[],vertices:[]},iInc=containsZ?3:2,isColorArray=Array.isArray(colors),isAlphaArray=Array.isArray(alphas);if(Array.isArray(indicies)&&indicies.length>0)for(i=0;i<indicies.length;i++){var index1=indicies[i],index2=2*indicies[i],index3=indicies[i]*iInc;x=vertices[index3],y=vertices[index3+1],z2=containsZ?vertices[index3+2]:0,u=uvs[index2],v=uvs[index2+1],flipUV&&(v=1-v),color=isColorArray?colors[index1]:colors,alpha=isAlphaArray?alphas[index1]:alphas,normalX=0,normalY=0,normalZ=0,normals&&(normalX=normals[index3],normalY=normals[index3+1],normalZ=containsZ?normals[index3+2]:0),result.vertices.push(new Vertex(x,y,z2,u,v,color,alpha,normalX,normalY,normalZ))}else{var uvIndex=0,colorIndex=0;for(i=0;i<vertices.length;i+=iInc)x=vertices[i],y=vertices[i+1],z2=containsZ?vertices[i+2]:0,u=uvs[uvIndex],v=uvs[uvIndex+1],color=isColorArray?colors[colorIndex]:colors,alpha=isAlphaArray?alphas[colorIndex]:alphas,normalX=0,normalY=0,normalZ=0,normals&&(normalX=normals[i],normalY=normals[i+1],normalZ=containsZ?normals[i+2]:0),result.vertices.push(new Vertex(x,y,z2,u,v,color,alpha,normalX,normalY,normalZ)),uvIndex+=2,colorIndex++}for(i=0;i<result.vertices.length;i+=3){var vert1=result.vertices[i],vert2=result.vertices[i+1],vert3=result.vertices[i+2];result.faces.push(new Face(vert1,vert2,vert3))}return result}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var flip=!0,currentGroup="",currentMaterial="";function stripComments(line){var idx=line.indexOf("#");return idx>-1?line.substring(0,idx):line}function currentModel(result){return 0===result.models.length&&result.models.push({faces:[],name:"untitled",textureCoords:[],vertexNormals:[],vertices:[]}),currentGroup="",result.models[result.models.length-1]}function parseObject(lineItems,result){var modelName=lineItems.length>=2?lineItems[1]:"untitled";result.models.push({faces:[],name:modelName,textureCoords:[],vertexNormals:[],vertices:[]}),currentGroup=""}function parseGroup(lineItems){2===lineItems.length&&(currentGroup=lineItems[1])}function parseVertexCoords(lineItems,result){var len=lineItems.length,x=len>=2?parseFloat(lineItems[1]):0,y=len>=3?parseFloat(lineItems[2]):0,z2=len>=4?parseFloat(lineItems[3]):0;currentModel(result).vertices.push({x:x,y:y,z:z2})}function parseTextureCoords(lineItems,result){var len=lineItems.length,u=len>=2?parseFloat(lineItems[1]):0,v=len>=3?parseFloat(lineItems[2]):0,w=len>=4?parseFloat(lineItems[3]):0;isNaN(u)&&(u=0),isNaN(v)&&(v=0),isNaN(w)&&(w=0),flip&&(v=1-v),currentModel(result).textureCoords.push({u:u,v:v,w:w})}function parseVertexNormal(lineItems,result){var len=lineItems.length,x=len>=2?parseFloat(lineItems[1]):0,y=len>=3?parseFloat(lineItems[2]):0,z2=len>=4?parseFloat(lineItems[3]):0;currentModel(result).vertexNormals.push({x:x,y:y,z:z2})}function parsePolygon(lineItems,result){var totalVertices=lineItems.length-1;if(!(totalVertices<3)){for(var face={group:currentGroup,material:currentMaterial,vertices:[]},i=0;i<totalVertices;i++){var vertexValues=lineItems[i+1].split("/"),vvLen=vertexValues.length;if(!(vvLen<1||vvLen>3)){var vertexIndex=0,textureCoordsIndex=0,vertexNormalIndex=0;vertexIndex=parseInt(vertexValues[0],10),vvLen>1&&""!==vertexValues[1]&&(textureCoordsIndex=parseInt(vertexValues[1],10)),vvLen>2&&(vertexNormalIndex=parseInt(vertexValues[2],10)),0!==vertexIndex&&(vertexIndex<0&&(vertexIndex=currentModel(result).vertices.length+1+vertexIndex),textureCoordsIndex-=1,vertexIndex-=1,vertexNormalIndex-=1,face.vertices.push({textureCoordsIndex:textureCoordsIndex,vertexIndex:vertexIndex,vertexNormalIndex:vertexNormalIndex}))}}currentModel(result).faces.push(face)}}function parseMtlLib(lineItems,result){lineItems.length>=2&&result.materialLibraries.push(lineItems[1])}function parseUseMtl(lineItems){lineItems.length>=2&&(currentMaterial=lineItems[1])}module2.exports=function(data,flipUV){void 0===flipUV&&(flipUV=!0),flip=flipUV;var result={materials:{},materialLibraries:[],models:[]};currentGroup="",currentMaterial="";for(var lines=data.split("\n"),i=0;i<lines.length;i++){var lineItems=stripComments(lines[i]).replace(/\s\s+/g," ").trim().split(" ");switch(lineItems[0].toLowerCase()){case"o":parseObject(lineItems,result);break;case"g":parseGroup(lineItems);break;case"v":parseVertexCoords(lineItems,result);break;case"vt":parseTextureCoords(lineItems,result);break;case"vn":parseVertexNormal(lineItems,result);break;case"f":parsePolygon(lineItems,result);break;case"mtllib":parseMtlLib(lineItems,result);break;case"usemtl":parseUseMtl(lineItems)}}return result}},61485:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetColor=__webpack_require__2(37589);module2.exports=function(mtl){for(var output={},lines=mtl.split("\n"),currentMaterial="",i=0;i<lines.length;i++){var line=lines[i].trim();if(0!==line.indexOf("#")&&""!==line){var lineItems=line.replace(/\s\s+/g," ").trim().split(" ");switch(lineItems[0].toLowerCase()){case"newmtl":currentMaterial=lineItems[1];break;case"kd":var r=Math.floor(255*lineItems[1]),g=lineItems.length>=2?Math.floor(255*lineItems[2]):r,b=lineItems.length>=3?Math.floor(255*lineItems[3]):r;output[currentMaterial]=GetColor(r,g,b)}}}return output}},92570:module2=>{module2.exports=function(face,angle,cx,cy){var x,y;if(void 0===cx&&void 0===cy){var inCenter=face.getInCenter();x=inCenter.x,y=inCenter.y}var c=Math.cos(angle),s=Math.sin(angle),v1=face.vertex1,v2=face.vertex2,v3=face.vertex3,tx=v1.x-x,ty=v1.y-y;v1.set(tx*c-ty*s+x,tx*s+ty*c+y),tx=v2.x-x,ty=v2.y-y,v2.set(tx*c-ty*s+x,tx*s+ty*c+y),tx=v3.x-x,ty=v3.y-y,v3.set(tx*c-ty*s+x,tx*s+ty*c+y)}},39318:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Utils=__webpack_require__2(70554),Vector3=__webpack_require__2(25836),Vertex=new Class({Extends:Vector3,initialize:function Vertex2(x,y,z2,u,v,color,alpha,nx,ny,nz){void 0===color&&(color=16777215),void 0===alpha&&(alpha=1),void 0===nx&&(nx=0),void 0===ny&&(ny=0),void 0===nz&&(nz=0),Vector3.call(this,x,y,z2),this.vx=0,this.vy=0,this.vz=0,this.nx=nx,this.ny=ny,this.nz=nz,this.u=u,this.v=v,this.color=color,this.alpha=alpha,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(u,v){return this.u=u,this.v=v,this.tu=u,this.tv=v,this},scrollUV:function(x,y){return this.tu+=x,this.tv+=y,this},scaleUV:function(x,y){return this.tu=this.u*x,this.tv=this.v*y,this},transformCoordinatesLocal:function(transformMatrix,width,height,cameraZ){var x=this.x,y=this.y,z2=this.z,m=transformMatrix.val,tx=x*m[0]+y*m[4]+z2*m[8]+m[12],ty=x*m[1]+y*m[5]+z2*m[9]+m[13],tz=x*m[2]+y*m[6]+z2*m[10]+m[14],tw=x*m[3]+y*m[7]+z2*m[11]+m[15];this.vx=tx/tw*width,this.vy=-ty/tw*height,this.vz=cameraZ<=0?tz/tw:-tz/tw},resize:function(x,y,width,height,originX,originY){return this.x=x,this.y=y,this.vx=this.x*width,this.vy=-this.y*height,this.vz=0,originX<.5?this.vx+=width*(.5-originX):originX>.5&&(this.vx-=width*(originX-.5)),originY<.5?this.vy+=height*(.5-originY):originY>.5&&(this.vy-=height*(originY-.5)),this},update:function(a,b,c,d,e,f,roundPixels,alpha){var tx=this.vx*a+this.vy*c+e,ty=this.vx*b+this.vy*d+f;return roundPixels&&(tx=Math.round(tx),ty=Math.round(ty)),this.tx=tx,this.ty=ty,this.ta=this.alpha*alpha,this},load:function(F32,U32,offset,textureUnit,tintEffect){return F32[++offset]=this.tx,F32[++offset]=this.ty,F32[++offset]=this.tu,F32[++offset]=this.tv,F32[++offset]=textureUnit,F32[++offset]=tintEffect,U32[++offset]=Utils.getTintAppendFloatAlpha(this.color,this.ta),offset}});module2.exports=Vertex},73090:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Mesh={Face:__webpack_require__2(83997),GenerateGridVerts:__webpack_require__2(48803),GenerateObjVerts:__webpack_require__2(34684),GenerateVerts:__webpack_require__2(92515),ParseObj:__webpack_require__2(85048),ParseObjMaterial:__webpack_require__2(61485),RotateFace:__webpack_require__2(92570),Vertex:__webpack_require__2(39318)};module2.exports=Mesh},96550:module2=>{module2.exports=function(point){return point.setTo(Math.ceil(point.x),Math.ceil(point.y))}},99706:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(source){return new Point(source.x,source.y)}},68010:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x,source.y)}},27814:module2=>{module2.exports=function(point,toCompare){return point.x===toCompare.x&&point.y===toCompare.y}},73565:module2=>{module2.exports=function(point){return point.setTo(Math.floor(point.x),Math.floor(point.y))}},87555:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(points,out){if(void 0===out&&(out=new Point),!Array.isArray(points))throw new Error("GetCentroid points argument must be an array");var len=points.length;if(len<1)throw new Error("GetCentroid points array must not be empty");if(1===len)out.x=points[0].x,out.y=points[0].y;else{for(var i=0;i<len;i++)out.x+=points[i].x,out.y+=points[i].y;out.x/=len,out.y/=len}return out}},28793:module2=>{module2.exports=function(point){return Math.sqrt(point.x*point.x+point.y*point.y)}},44405:module2=>{module2.exports=function(point){return point.x*point.x+point.y*point.y}},20873:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(points,out){void 0===out&&(out=new Rectangle);for(var xMax=Number.NEGATIVE_INFINITY,xMin=Number.POSITIVE_INFINITY,yMax=Number.NEGATIVE_INFINITY,yMin=Number.POSITIVE_INFINITY,i=0;i<points.length;i++){var point=points[i];point.x>xMax&&(xMax=point.x),point.x<xMin&&(xMin=point.x),point.y>yMax&&(yMax=point.y),point.y<yMin&&(yMin=point.y)}return out.x=xMin,out.y=yMin,out.width=xMax-xMin,out.height=yMax-yMin,out}},26152:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(pointA,pointB,t,out){return void 0===t&&(t=0),void 0===out&&(out=new Point),out.x=pointA.x+(pointB.x-pointA.x)*t,out.y=pointA.y+(pointB.y-pointA.y)*t,out}},55767:module2=>{module2.exports=function(point){return point.setTo(point.y,point.x)}},79432:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(point,out){return void 0===out&&(out=new Point),out.setTo(-point.x,-point.y)}},2141:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GEOM_CONST=__webpack_require__2(23777),Point=new Class({initialize:function Point2(x,y){void 0===x&&(x=0),void 0===y&&(y=x),this.type=GEOM_CONST.POINT,this.x=x,this.y=y},setTo:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=x),this.x=x,this.y=y,this}});module2.exports=Point},72930:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),GetMagnitudeSq=__webpack_require__2(44405);module2.exports=function(pointA,pointB,out){void 0===out&&(out=new Point);var amt=(pointA.x*pointB.x+pointA.y*pointB.y)/GetMagnitudeSq(pointB);return 0!==amt&&(out.x=amt*pointB.x,out.y=amt*pointB.y),out}},62880:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(pointA,pointB,out){void 0===out&&(out=new Point);var amt=pointA.x*pointB.x+pointA.y*pointB.y;return 0!==amt&&(out.x=amt*pointB.x,out.y=amt*pointB.y),out}},15093:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetMagnitude=__webpack_require__2(28793);module2.exports=function(point,magnitude){if(0!==point.x||0!==point.y){var m=GetMagnitude(point);point.x/=m,point.y/=m}return point.x*=magnitude,point.y*=magnitude,point}},43711:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);Point.Ceil=__webpack_require__2(96550),Point.Clone=__webpack_require__2(99706),Point.CopyFrom=__webpack_require__2(68010),Point.Equals=__webpack_require__2(27814),Point.Floor=__webpack_require__2(73565),Point.GetCentroid=__webpack_require__2(87555),Point.GetMagnitude=__webpack_require__2(28793),Point.GetMagnitudeSq=__webpack_require__2(44405),Point.GetRectangleFromPoints=__webpack_require__2(20873),Point.Interpolate=__webpack_require__2(26152),Point.Invert=__webpack_require__2(55767),Point.Negative=__webpack_require__2(79432),Point.Project=__webpack_require__2(72930),Point.ProjectUnit=__webpack_require__2(62880),Point.SetMagnitude=__webpack_require__2(15093),module2.exports=Point},12306:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Polygon=__webpack_require__2(25717);module2.exports=function(polygon){return new Polygon(polygon.points)}},63814:module2=>{module2.exports=function(polygon,x,y){for(var inside=!1,i=-1,j=polygon.points.length-1;++i<polygon.points.length;j=i){var ix=polygon.points[i].x,iy=polygon.points[i].y,jx=polygon.points[j].x,jy=polygon.points[j].y;(iy<=y&&y<jy||jy<=y&&y<iy)&&x<(jx-ix)*(y-iy)/(jy-iy)+ix&&(inside=!inside)}return inside}},99338:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(63814);module2.exports=function(polygon,point){return Contains(polygon,point.x,point.y)}},94811:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,invSize,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim){var i,len,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)(list=linkedList(data,holeIndices[i]*dim,i<len-1?holeIndices[i+1]*dim:data.length,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)outerNode=eliminateHole(queue[i],outerNode);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)(x=data[i])<minX&&(minX=x),(y=data[i+1])<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=0!==(invSize=Math.max(maxX-minX,maxY-minY))?32767/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize,0),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){!pass&&invSize&&function indexCurve(start,minX,minY,invSize){var p=start;do{0===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim|0),triangles.push(ear.i/dim|0),triangles.push(next.i/dim|0),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(filterPoints(ear),triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,p=c.next;p!==a;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,minZ=zOrder(x0,y0,minX,minY,invSize),maxZ=zOrder(x1,y1,minX,minY,invSize),p=ear.prevZ,n=ear.nextZ;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim|0),triangles.push(p.i/dim|0),triangles.push(b.i/dim|0),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return filterPoints(p)}function splitEarcut(start,triangles,dim,minX,minY,invSize){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize,0),void earcutLinked(c,triangles,dim,minX,minY,invSize,0)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){var bridge=function findHoleBridge(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx&&(qx=x,m=p.x<p.next.x?p:p.next,x===hx))return m}p=p.next}while(p!==outerNode);if(!m)return null;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m;do{hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&(tan=Math.abs(hy-p.y)/(hx-p.x),locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))&&(m=p,tanMin=tan)),p=p.next}while(p!==stop);return m}(hole,outerNode);if(!bridge)return outerNode;var bridgeReverse=splitPolygon(bridge,hole);return filterPoints(bridgeReverse,bridgeReverse.next),filterPoints(bridge,bridge.next)}function sectorContainsSector(m,p){return area(m.prev,m,p.prev)<0&&area(p.next,m,m.next)<0}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=(x-minX)*invSize|0)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=(y-minY)*invSize|0)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)>=(ax-px)*(cy-py)&&(ax-px)*(by-py)>=(bx-px)*(ay-py)&&(bx-px)*(cy-py)>=(cx-px)*(by-py)}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||equals(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){var o1=sign(area(p1,q1,p2)),o2=sign(area(p1,q1,q2)),o3=sign(area(p2,q2,p1)),o4=sign(area(p2,q2,q1));return o1!==o2&&o3!==o4||!(0!==o1||!onSegment(p1,p2,q1))||!(0!==o2||!onSegment(p1,q2,q1))||!(0!==o3||!onSegment(p2,p1,q2))||!(0!==o4||!onSegment(p2,q1,q2))}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return num>0?1:num<0?-1:0}function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)},earcut.flatten=function(data){for(var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);i>0&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result},module2.exports=earcut},13829:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(polygon,out){void 0===out&&(out=new Rectangle);for(var p,minX=1/0,minY=1/0,maxX=-minX,maxY=-minY,i=0;i<polygon.points.length;i++)p=polygon.points[i],minX=Math.min(minX,p.x),minY=Math.min(minY,p.y),maxX=Math.max(maxX,p.x),maxY=Math.max(maxY,p.y);return out.x=minX,out.y=minY,out.width=maxX-minX,out.height=maxY-minY,out}},26173:module2=>{module2.exports=function(polygon,output){void 0===output&&(output=[]);for(var i=0;i<polygon.points.length;i++)output.push(polygon.points[i].x),output.push(polygon.points[i].y);return output}},9564:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001),Line=__webpack_require__2(23031),Perimeter=__webpack_require__2(30052);module2.exports=function(polygon,quantity,stepRate,out){void 0===out&&(out=[]);var points=polygon.points,perimeter=Perimeter(polygon);!quantity&&stepRate>0&&(quantity=perimeter/stepRate);for(var i=0;i<quantity;i++)for(var position2=perimeter*(i/quantity),accumulatedPerimeter=0,j=0;j<points.length;j++){var pointA=points[j],pointB=points[(j+1)%points.length],line=new Line(pointA.x,pointA.y,pointB.x,pointB.y),length=Length(line);if(!(position2<accumulatedPerimeter||position2>accumulatedPerimeter+length)){var point=line.getPoint((position2-accumulatedPerimeter)/length);out.push(point);break}accumulatedPerimeter+=length}return out}},30052:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001),Line=__webpack_require__2(23031);module2.exports=function(polygon){for(var points=polygon.points,perimeter=0,i=0;i<points.length;i++){var pointA=points[i],pointB=points[(i+1)%points.length],line=new Line(pointA.x,pointA.y,pointB.x,pointB.y);perimeter+=Length(line)}return perimeter}},25717:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Contains=__webpack_require__2(63814),GetPoints=__webpack_require__2(9564),GEOM_CONST=__webpack_require__2(23777),Polygon=new Class({initialize:function Polygon2(points){this.type=GEOM_CONST.POLYGON,this.area=0,this.points=[],points&&this.setTo(points)},contains:function(x,y){return Contains(this,x,y)},setTo:function(points){if(this.area=0,this.points=[],"string"==typeof points&&(points=points.split(" ")),!Array.isArray(points))return this;for(var p,i=0;i<points.length;i++)p={x:0,y:0},"number"==typeof points[i]||"string"==typeof points[i]?(p.x=parseFloat(points[i]),p.y=parseFloat(points[i+1]),i++):Array.isArray(points[i])?(p.x=points[i][0],p.y=points[i][1]):(p.x=points[i].x,p.y=points[i].y),this.points.push(p);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var p1,p2,sum=0,i=0;i<this.points.length-1;i++)p1=this.points[i],sum+=((p2=this.points[i+1]).x-p1.x)*(p1.y+p2.y);return p1=this.points[0],p2=this.points[this.points.length-1],sum+=(p1.x-p2.x)*(p2.y+p1.y),this.area=.5*-sum,this.area},getPoints:function(quantity,step,output){return GetPoints(this,quantity,step,output)}});module2.exports=Polygon},8133:module2=>{module2.exports=function(polygon){return polygon.points.reverse(),polygon}},29524:module2=>{function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(0!==dx||0!==dy){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);t>1?(x=p2.x,y=p2.y):t>0&&(x+=dx*t,y+=dy*t)}return(dx=p.x-x)*dx+(dy=p.y-y)*dy}function simplifyDPStep(points,first,last,sqTolerance,simplified){for(var index,maxSqDist=sqTolerance,i=first+1;i<last;i++){var sqDist=getSqSegDist(points[i],points[first],points[last]);sqDist>maxSqDist&&(index=i,maxSqDist=sqDist)}maxSqDist>sqTolerance&&(index-first>1&&simplifyDPStep(points,first,index,sqTolerance,simplified),simplified.push(points[index]),last-index>1&&simplifyDPStep(points,index,last,sqTolerance,simplified))}function simplifyDouglasPeucker(points,sqTolerance){var last=points.length-1,simplified=[points[0]];return simplifyDPStep(points,0,last,sqTolerance,simplified),simplified.push(points[last]),simplified}module2.exports=function(polygon,tolerance,highestQuality){void 0===tolerance&&(tolerance=1),void 0===highestQuality&&(highestQuality=!1);var points=polygon.points;if(points.length>2){var sqTolerance=tolerance*tolerance;highestQuality||(points=function simplifyRadialDist(points,sqTolerance){for(var point,p1,p2,dx,dy,prevPoint=points[0],newPoints=[prevPoint],i=1,len=points.length;i<len;i++)point=points[i],p2=prevPoint,dx=void 0,dy=void 0,dx=(p1=point).x-p2.x,dy=p1.y-p2.y,dx*dx+dy*dy>sqTolerance&&(newPoints.push(point),prevPoint=point);return prevPoint!==point&&newPoints.push(point),newPoints}(points,sqTolerance)),polygon.setTo(simplifyDouglasPeucker(points,sqTolerance))}return polygon}},5469:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var copy2=function(out,a){return out[0]=a[0],out[1]=a[1],out};module2.exports=function(polygon){var i,points=[],data=polygon.points;for(i=0;i<data.length;i++)points.push([data[i].x,data[i].y]);var output=[];for(points.length>0&&output.push(copy2([0,0],points[0])),i=0;i<points.length-1;i++){var p0=points[i],p1=points[i+1],p0x=p0[0],p0y=p0[1],p1x=p1[0],p1y=p1[1];output.push([.85*p0x+.15*p1x,.85*p0y+.15*p1y]),output.push([.15*p0x+.85*p1x,.15*p0y+.85*p1y])}return points.length>1&&output.push(copy2([0,0],points[points.length-1])),polygon.setTo(output)}},24709:module2=>{module2.exports=function(polygon,x,y){for(var points=polygon.points,i=0;i<points.length;i++)points[i].x+=x,points[i].y+=y;return polygon}},58423:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Polygon=__webpack_require__2(25717);Polygon.Clone=__webpack_require__2(12306),Polygon.Contains=__webpack_require__2(63814),Polygon.ContainsPoint=__webpack_require__2(99338),Polygon.Earcut=__webpack_require__2(94811),Polygon.GetAABB=__webpack_require__2(13829),Polygon.GetNumberArray=__webpack_require__2(26173),Polygon.GetPoints=__webpack_require__2(9564),Polygon.Perimeter=__webpack_require__2(30052),Polygon.Reverse=__webpack_require__2(8133),Polygon.Simplify=__webpack_require__2(29524),Polygon.Smooth=__webpack_require__2(5469),Polygon.Translate=__webpack_require__2(24709),module2.exports=Polygon},62224:module2=>{module2.exports=function(rect){return rect.width*rect.height}},98615:module2=>{module2.exports=function(rect){return rect.x=Math.ceil(rect.x),rect.y=Math.ceil(rect.y),rect}},31688:module2=>{module2.exports=function(rect){return rect.x=Math.ceil(rect.x),rect.y=Math.ceil(rect.y),rect.width=Math.ceil(rect.width),rect.height=Math.ceil(rect.height),rect}},67502:module2=>{module2.exports=function(rect,x,y){return rect.x=x-rect.width/2,rect.y=y-rect.height/2,rect}},65085:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(source){return new Rectangle(source.x,source.y,source.width,source.height)}},37303:module2=>{module2.exports=function(rect,x,y){return!(rect.width<=0||rect.height<=0)&&rect.x<=x&&rect.x+rect.width>=x&&rect.y<=y&&rect.y+rect.height>=y}},96553:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(37303);module2.exports=function(rect,point){return Contains(rect,point.x,point.y)}},70273:module2=>{module2.exports=function(rectA,rectB){return!(rectB.width*rectB.height>rectA.width*rectA.height)&&rectB.x>rectA.x&&rectB.x<rectA.right&&rectB.right>rectA.x&&rectB.right<rectA.right&&rectB.y>rectA.y&&rectB.y<rectA.bottom&&rectB.bottom>rectA.y&&rectB.bottom<rectA.bottom}},43459:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x,source.y,source.width,source.height)}},77493:module2=>{module2.exports=function(rect,out){return void 0===out&&(out=[]),out.push({x:rect.x,y:rect.y}),out.push({x:rect.right,y:rect.y}),out.push({x:rect.right,y:rect.bottom}),out.push({x:rect.x,y:rect.bottom}),out}},9219:module2=>{module2.exports=function(rect,toCompare){return rect.x===toCompare.x&&rect.y===toCompare.y&&rect.width===toCompare.width&&rect.height===toCompare.height}},53751:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetAspectRatio=__webpack_require__2(8249);module2.exports=function(target2,source){var ratio=GetAspectRatio(target2);return ratio<GetAspectRatio(source)?target2.setSize(source.height*ratio,source.height):target2.setSize(source.width,source.width/ratio),target2.setPosition(source.centerX-target2.width/2,source.centerY-target2.height/2)}},16088:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetAspectRatio=__webpack_require__2(8249);module2.exports=function(target2,source){var ratio=GetAspectRatio(target2);return ratio>GetAspectRatio(source)?target2.setSize(source.height*ratio,source.height):target2.setSize(source.width,source.width/ratio),target2.setPosition(source.centerX-target2.width/2,source.centerY-target2.height/2)}},80774:module2=>{module2.exports=function(rect){return rect.x=Math.floor(rect.x),rect.y=Math.floor(rect.y),rect}},83859:module2=>{module2.exports=function(rect){return rect.x=Math.floor(rect.x),rect.y=Math.floor(rect.y),rect.width=Math.floor(rect.width),rect.height=Math.floor(rect.height),rect}},19217:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841),MATH_CONST=__webpack_require__2(36383);module2.exports=function(points,out){if(void 0===out&&(out=new Rectangle),0===points.length)return out;for(var p,px,py,minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=MATH_CONST.MIN_SAFE_INTEGER,maxY=MATH_CONST.MIN_SAFE_INTEGER,i=0;i<points.length;i++)p=points[i],Array.isArray(p)?(px=p[0],py=p[1]):(px=p.x,py=p.y),minX=Math.min(minX,px),minY=Math.min(minY,py),maxX=Math.max(maxX,px),maxY=Math.max(maxY,py);return out.x=minX,out.y=minY,out.width=maxX-minX,out.height=maxY-minY,out}},9477:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(x1,y1,x2,y2,out){return void 0===out&&(out=new Rectangle),out.setTo(Math.min(x1,x2),Math.min(y1,y2),Math.abs(x1-x2),Math.abs(y1-y2))}},8249:module2=>{module2.exports=function(rect){return 0===rect.height?NaN:rect.width/rect.height}},27165:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(rect,out){return void 0===out&&(out=new Point),out.x=rect.centerX,out.y=rect.centerY,out}},20812:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Perimeter=__webpack_require__2(13019),Point=__webpack_require__2(2141);module2.exports=function(rectangle,position2,out){if(void 0===out&&(out=new Point),position2<=0||position2>=1)return out.x=rectangle.x,out.y=rectangle.y,out;var p=Perimeter(rectangle)*position2;return position2>.5?(p-=rectangle.width+rectangle.height)<=rectangle.width?(out.x=rectangle.right-p,out.y=rectangle.bottom):(out.x=rectangle.x,out.y=rectangle.bottom-(p-rectangle.width)):p<=rectangle.width?(out.x=rectangle.x+p,out.y=rectangle.y):(out.x=rectangle.right,out.y=rectangle.y+(p-rectangle.width)),out}},34819:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetPoint=__webpack_require__2(20812),Perimeter=__webpack_require__2(13019);module2.exports=function(rectangle,quantity,stepRate,out){void 0===out&&(out=[]),!quantity&&stepRate>0&&(quantity=Perimeter(rectangle)/stepRate);for(var i=0;i<quantity;i++){var position2=i/quantity;out.push(GetPoint(rectangle,position2))}return out}},51313:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(rect,out){return void 0===out&&(out=new Point),out.x=rect.width,out.y=rect.height,out}},86091:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CenterOn=__webpack_require__2(67502);module2.exports=function(rect,x,y){var cx=rect.centerX,cy=rect.centerY;return rect.setSize(rect.width+2*x,rect.height+2*y),CenterOn(rect,cx,cy)}},53951:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841),Intersects=__webpack_require__2(59996);module2.exports=function(rectA,rectB,out){return void 0===out&&(out=new Rectangle),Intersects(rectA,rectB)?(out.x=Math.max(rectA.x,rectB.x),out.y=Math.max(rectA.y,rectB.y),out.width=Math.min(rectA.right,rectB.right)-out.x,out.height=Math.min(rectA.bottom,rectB.bottom)-out.y):out.setEmpty(),out}},14649:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Perimeter=__webpack_require__2(13019),Point=__webpack_require__2(2141);module2.exports=function(rect,step,quantity,out){if(void 0===out&&(out=[]),!step&&!quantity)return out;step?quantity=Math.round(Perimeter(rect)/step):step=Perimeter(rect)/quantity;for(var x=rect.x,y=rect.y,face=0,i=0;i<quantity;i++)switch(out.push(new Point(x,y)),face){case 0:(x+=step)>=rect.right&&(face=1,y+=x-rect.right,x=rect.right);break;case 1:(y+=step)>=rect.bottom&&(face=2,x-=y-rect.bottom,y=rect.bottom);break;case 2:(x-=step)<=rect.left&&(face=3,y-=rect.left-x,x=rect.left);break;case 3:(y-=step)<=rect.top&&(face=0,y=rect.top)}return out}},33595:module2=>{module2.exports=function(target2,points){for(var minX=target2.x,maxX=target2.right,minY=target2.y,maxY=target2.bottom,i=0;i<points.length;i++)minX=Math.min(minX,points[i].x),maxX=Math.max(maxX,points[i].x),minY=Math.min(minY,points[i].y),maxY=Math.max(maxY,points[i].y);return target2.x=minX,target2.y=minY,target2.width=maxX-minX,target2.height=maxY-minY,target2}},20074:module2=>{module2.exports=function(target2,source){var minX=Math.min(target2.x,source.x),maxX=Math.max(target2.right,source.right);target2.x=minX,target2.width=maxX-minX;var minY=Math.min(target2.y,source.y),maxY=Math.max(target2.bottom,source.bottom);return target2.y=minY,target2.height=maxY-minY,target2}},92171:module2=>{module2.exports=function(target2,x,y){var minX=Math.min(target2.x,x),maxX=Math.max(target2.right,x);target2.x=minX,target2.width=maxX-minX;var minY=Math.min(target2.y,y),maxY=Math.max(target2.bottom,y);return target2.y=minY,target2.height=maxY-minY,target2}},42981:module2=>{module2.exports=function(rect,x,y){return rect.x+=x,rect.y+=y,rect}},46907:module2=>{module2.exports=function(rect,point){return rect.x+=point.x,rect.y+=point.y,rect}},60170:module2=>{module2.exports=function(rectA,rectB){return rectA.x<rectB.right&&rectA.right>rectB.x&&rectA.y<rectB.bottom&&rectA.bottom>rectB.y}},13019:module2=>{module2.exports=function(rect){return 2*(rect.width+rect.height)}},85133:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),DegToRad=__webpack_require__2(39506);module2.exports=function(rectangle,angle,out){void 0===out&&(out=new Point),angle=DegToRad(angle);var s=Math.sin(angle),c=Math.cos(angle),dx=c>0?rectangle.width/2:rectangle.width/-2,dy=s>0?rectangle.height/2:rectangle.height/-2;return Math.abs(dx*s)<Math.abs(dy*c)?dy=dx*s/c:dx=dy*c/s,out.x=dx+rectangle.centerX,out.y=dy+rectangle.centerY,out}},26597:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(rect,out){return void 0===out&&(out=new Point),out.x=rect.x+Math.random()*rect.width,out.y=rect.y+Math.random()*rect.height,out}},86470:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=__webpack_require__2(30976),ContainsRect=__webpack_require__2(70273),Point=__webpack_require__2(2141);module2.exports=function(outer,inner,out){if(void 0===out&&(out=new Point),ContainsRect(outer,inner))switch(Between(0,3)){case 0:out.x=outer.x+Math.random()*(inner.right-outer.x),out.y=outer.y+Math.random()*(inner.top-outer.y);break;case 1:out.x=inner.x+Math.random()*(outer.right-inner.x),out.y=inner.bottom+Math.random()*(outer.bottom-inner.bottom);break;case 2:out.x=outer.x+Math.random()*(inner.x-outer.x),out.y=inner.y+Math.random()*(outer.bottom-inner.y);break;case 3:out.x=inner.right+Math.random()*(outer.right-inner.right),out.y=outer.y+Math.random()*(inner.bottom-outer.y)}return out}},87841:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Contains=__webpack_require__2(37303),GetPoint=__webpack_require__2(20812),GetPoints=__webpack_require__2(34819),GEOM_CONST=__webpack_require__2(23777),Line=__webpack_require__2(23031),Random=__webpack_require__2(26597),Rectangle=new Class({initialize:function Rectangle2(x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0),this.type=GEOM_CONST.RECTANGLE,this.x=x,this.y=y,this.width=width,this.height=height},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position2,output){return GetPoint(this,position2,output)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,width,height){return this.x=x,this.y=y,this.width=width,this.height=height,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(x,y){return void 0===y&&(y=x),this.x=x,this.y=y,this},setSize:function(width,height){return void 0===height&&(height=width),this.width=width,this.height=height,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(line){return void 0===line&&(line=new Line),line.setTo(this.x,this.y,this.right,this.y),line},getLineB:function(line){return void 0===line&&(line=new Line),line.setTo(this.right,this.y,this.right,this.bottom),line},getLineC:function(line){return void 0===line&&(line=new Line),line.setTo(this.right,this.bottom,this.x,this.bottom),line},getLineD:function(line){return void 0===line&&(line=new Line),line.setTo(this.x,this.bottom,this.x,this.y),line},left:{get:function(){return this.x},set:function(value){value>=this.right?this.width=0:this.width=this.right-value,this.x=value}},right:{get:function(){return this.x+this.width},set:function(value){value<=this.x?this.width=0:this.width=value-this.x}},top:{get:function(){return this.y},set:function(value){value>=this.bottom?this.height=0:this.height=this.bottom-value,this.y=value}},bottom:{get:function(){return this.y+this.height},set:function(value){value<=this.y?this.height=0:this.height=value-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(value){this.x=value-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(value){this.y=value-this.height/2}}});module2.exports=Rectangle},94845:module2=>{module2.exports=function(rect,toCompare){return rect.width===toCompare.width&&rect.height===toCompare.height}},31730:module2=>{module2.exports=function(rect,x,y){return void 0===y&&(y=x),rect.width*=x,rect.height*=y,rect}},36899:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);module2.exports=function(rectA,rectB,out){void 0===out&&(out=new Rectangle);var x=Math.min(rectA.x,rectB.x),y=Math.min(rectA.y,rectB.y),w=Math.max(rectA.right,rectB.right)-x,h=Math.max(rectA.bottom,rectB.bottom)-y;return out.setTo(x,y,w,h)}},93232:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841);Rectangle.Area=__webpack_require__2(62224),Rectangle.Ceil=__webpack_require__2(98615),Rectangle.CeilAll=__webpack_require__2(31688),Rectangle.CenterOn=__webpack_require__2(67502),Rectangle.Clone=__webpack_require__2(65085),Rectangle.Contains=__webpack_require__2(37303),Rectangle.ContainsPoint=__webpack_require__2(96553),Rectangle.ContainsRect=__webpack_require__2(70273),Rectangle.CopyFrom=__webpack_require__2(43459),Rectangle.Decompose=__webpack_require__2(77493),Rectangle.Equals=__webpack_require__2(9219),Rectangle.FitInside=__webpack_require__2(53751),Rectangle.FitOutside=__webpack_require__2(16088),Rectangle.Floor=__webpack_require__2(80774),Rectangle.FloorAll=__webpack_require__2(83859),Rectangle.FromPoints=__webpack_require__2(19217),Rectangle.FromXY=__webpack_require__2(9477),Rectangle.GetAspectRatio=__webpack_require__2(8249),Rectangle.GetCenter=__webpack_require__2(27165),Rectangle.GetPoint=__webpack_require__2(20812),Rectangle.GetPoints=__webpack_require__2(34819),Rectangle.GetSize=__webpack_require__2(51313),Rectangle.Inflate=__webpack_require__2(86091),Rectangle.Intersection=__webpack_require__2(53951),Rectangle.MarchingAnts=__webpack_require__2(14649),Rectangle.MergePoints=__webpack_require__2(33595),Rectangle.MergeRect=__webpack_require__2(20074),Rectangle.MergeXY=__webpack_require__2(92171),Rectangle.Offset=__webpack_require__2(42981),Rectangle.OffsetPoint=__webpack_require__2(46907),Rectangle.Overlaps=__webpack_require__2(60170),Rectangle.Perimeter=__webpack_require__2(13019),Rectangle.PerimeterPoint=__webpack_require__2(85133),Rectangle.Random=__webpack_require__2(26597),Rectangle.RandomOutside=__webpack_require__2(86470),Rectangle.SameDimensions=__webpack_require__2(94845),Rectangle.Scale=__webpack_require__2(31730),Rectangle.Union=__webpack_require__2(36899),module2.exports=Rectangle},41658:module2=>{module2.exports=function(triangle){var x1=triangle.x1,y1=triangle.y1,x2=triangle.x2,y2=triangle.y2,x3=triangle.x3,y3=triangle.y3;return Math.abs(((x3-x1)*(y2-y1)-(x2-x1)*(y3-y1))/2)}},39208:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Triangle=__webpack_require__2(16483);module2.exports=function(x,y,length){var height=length*(Math.sqrt(3)/2);return new Triangle(x,y,x+length/2,y+height,x-length/2,y+height)}},39545:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var EarCut=__webpack_require__2(94811),Triangle=__webpack_require__2(16483);module2.exports=function(data,holes,scaleX,scaleY,out){void 0===holes&&(holes=null),void 0===scaleX&&(scaleX=1),void 0===scaleY&&(scaleY=1),void 0===out&&(out=[]);for(var a,b,c,x1,y1,x2,y2,x3,y3,tris=EarCut(data,holes),i=0;i<tris.length;i+=3)a=tris[i],b=tris[i+1],c=tris[i+2],x1=data[2*a]*scaleX,y1=data[2*a+1]*scaleY,x2=data[2*b]*scaleX,y2=data[2*b+1]*scaleY,x3=data[2*c]*scaleX,y3=data[2*c+1]*scaleY,out.push(new Triangle(x1,y1,x2,y2,x3,y3));return out}},90301:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Triangle=__webpack_require__2(16483);module2.exports=function(x,y,width,height){return void 0===height&&(height=width),new Triangle(x,y,x,y-height,x+width,y)}},23707:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Centroid=__webpack_require__2(97523),Offset=__webpack_require__2(13584);module2.exports=function(triangle,x,y,centerFunc){void 0===centerFunc&&(centerFunc=Centroid);var center=centerFunc(triangle),diffX=x-center.x,diffY=y-center.y;return Offset(triangle,diffX,diffY)}},97523:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(triangle,out){return void 0===out&&(out=new Point),out.x=(triangle.x1+triangle.x2+triangle.x3)/3,out.y=(triangle.y1+triangle.y2+triangle.y3)/3,out}},24951:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);function det(m00,m01,m10,m11){return m00*m11-m01*m10}module2.exports=function(triangle,out){void 0===out&&(out=new Vector2);var cx=triangle.x3,cy=triangle.y3,ax=triangle.x1-cx,ay=triangle.y1-cy,bx=triangle.x2-cx,by=triangle.y2-cy,denom=2*det(ax,ay,bx,by),numx=det(ay,ax*ax+ay*ay,by,bx*bx+by*by),numy=det(ax,ax*ax+ay*ay,bx,bx*bx+by*by);return out.x=cx-numx/denom,out.y=cy+numy/denom,out}},85614:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circle=__webpack_require__2(96503);module2.exports=function(triangle,out){void 0===out&&(out=new Circle);var dx,dy,x1=triangle.x1,y1=triangle.y1,x2=triangle.x2,y2=triangle.y2,x3=triangle.x3,y3=triangle.y3,A=x2-x1,B=y2-y1,C=x3-x1,D=y3-y1,E=A*(x1+x2)+B*(y1+y2),F=C*(x1+x3)+D*(y1+y3),G=2*(A*(y3-y2)-B*(x3-x2));if(Math.abs(G)<1e-6){var minX=Math.min(x1,x2,x3),minY=Math.min(y1,y2,y3);dx=.5*(Math.max(x1,x2,x3)-minX),dy=.5*(Math.max(y1,y2,y3)-minY),out.x=minX+dx,out.y=minY+dy,out.radius=Math.sqrt(dx*dx+dy*dy)}else out.x=(D*E-B*F)/G,out.y=(A*F-C*E)/G,dx=out.x-x1,dy=out.y-y1,out.radius=Math.sqrt(dx*dx+dy*dy);return out}},74422:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Triangle=__webpack_require__2(16483);module2.exports=function(source){return new Triangle(source.x1,source.y1,source.x2,source.y2,source.x3,source.y3)}},10690:module2=>{module2.exports=function(triangle,x,y){var v0x=triangle.x3-triangle.x1,v0y=triangle.y3-triangle.y1,v1x=triangle.x2-triangle.x1,v1y=triangle.y2-triangle.y1,v2x=x-triangle.x1,v2y=y-triangle.y1,dot00=v0x*v0x+v0y*v0y,dot01=v0x*v1x+v0y*v1y,dot02=v0x*v2x+v0y*v2y,dot11=v1x*v1x+v1y*v1y,dot12=v1x*v2x+v1y*v2y,b=dot00*dot11-dot01*dot01,inv=0===b?0:1/b,u=(dot11*dot02-dot01*dot12)*inv,v=(dot00*dot12-dot01*dot02)*inv;return u>=0&&v>=0&&u+v<1}},48653:module2=>{module2.exports=function(triangle,points,returnFirst,out){void 0===returnFirst&&(returnFirst=!1),void 0===out&&(out=[]);for(var u,v,v2x,v2y,dot02,dot12,v0x=triangle.x3-triangle.x1,v0y=triangle.y3-triangle.y1,v1x=triangle.x2-triangle.x1,v1y=triangle.y2-triangle.y1,dot00=v0x*v0x+v0y*v0y,dot01=v0x*v1x+v0y*v1y,dot11=v1x*v1x+v1y*v1y,b=dot00*dot11-dot01*dot01,inv=0===b?0:1/b,x1=triangle.x1,y1=triangle.y1,i=0;i<points.length&&(v=(dot00*(dot12=v1x*(v2x=points[i].x-x1)+v1y*(v2y=points[i].y-y1))-dot01*(dot02=v0x*v2x+v0y*v2y))*inv,!((u=(dot11*dot02-dot01*dot12)*inv)>=0&&v>=0&&u+v<1&&(out.push({x:points[i].x,y:points[i].y}),returnFirst)));i++);return out}},96006:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=__webpack_require__2(10690);module2.exports=function(triangle,point){return Contains(triangle,point.x,point.y)}},71326:module2=>{module2.exports=function(source,dest){return dest.setTo(source.x1,source.y1,source.x2,source.y2,source.x3,source.y3)}},71694:module2=>{module2.exports=function(triangle,out){return void 0===out&&(out=[]),out.push({x:triangle.x1,y:triangle.y1}),out.push({x:triangle.x2,y:triangle.y2}),out.push({x:triangle.x3,y:triangle.y3}),out}},33522:module2=>{module2.exports=function(triangle,toCompare){return triangle.x1===toCompare.x1&&triangle.y1===toCompare.y1&&triangle.x2===toCompare.x2&&triangle.y2===toCompare.y2&&triangle.x3===toCompare.x3&&triangle.y3===toCompare.y3}},20437:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141),Length=__webpack_require__2(35001);module2.exports=function(triangle,position2,out){void 0===out&&(out=new Point);var line1=triangle.getLineA(),line2=triangle.getLineB(),line3=triangle.getLineC();if(position2<=0||position2>=1)return out.x=line1.x1,out.y=line1.y1,out;var length1=Length(line1),length2=Length(line2),length3=Length(line3),p=(length1+length2+length3)*position2,localPosition=0;return p<length1?(localPosition=p/length1,out.x=line1.x1+(line1.x2-line1.x1)*localPosition,out.y=line1.y1+(line1.y2-line1.y1)*localPosition):p>length1+length2?(localPosition=(p-=length1+length2)/length3,out.x=line3.x1+(line3.x2-line3.x1)*localPosition,out.y=line3.y1+(line3.y2-line3.y1)*localPosition):(localPosition=(p-=length1)/length2,out.x=line2.x1+(line2.x2-line2.x1)*localPosition,out.y=line2.y1+(line2.y2-line2.y1)*localPosition),out}},80672:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001),Point=__webpack_require__2(2141);module2.exports=function(triangle,quantity,stepRate,out){void 0===out&&(out=[]);var line1=triangle.getLineA(),line2=triangle.getLineB(),line3=triangle.getLineC(),length1=Length(line1),length2=Length(line2),length3=Length(line3),perimeter=length1+length2+length3;!quantity&&stepRate>0&&(quantity=perimeter/stepRate);for(var i=0;i<quantity;i++){var p=perimeter*(i/quantity),localPosition=0,point=new Point;p<length1?(localPosition=p/length1,point.x=line1.x1+(line1.x2-line1.x1)*localPosition,point.y=line1.y1+(line1.y2-line1.y1)*localPosition):p>length1+length2?(localPosition=(p-=length1+length2)/length3,point.x=line3.x1+(line3.x2-line3.x1)*localPosition,point.y=line3.y1+(line3.y2-line3.y1)*localPosition):(localPosition=(p-=length1)/length2,point.x=line2.x1+(line2.x2-line2.x1)*localPosition,point.y=line2.y1+(line2.y2-line2.y1)*localPosition),out.push(point)}return out}},39757:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);function getLength(x1,y1,x2,y2){var x=x1-x2,y=y1-y2,magnitude=x*x+y*y;return Math.sqrt(magnitude)}module2.exports=function(triangle,out){void 0===out&&(out=new Point);var x1=triangle.x1,y1=triangle.y1,x2=triangle.x2,y2=triangle.y2,x3=triangle.x3,y3=triangle.y3,d1=getLength(x3,y3,x2,y2),d2=getLength(x1,y1,x3,y3),d3=getLength(x2,y2,x1,y1),p=d1+d2+d3;return out.x=(x1*d1+x2*d2+x3*d3)/p,out.y=(y1*d1+y2*d2+y3*d3)/p,out}},13584:module2=>{module2.exports=function(triangle,x,y){return triangle.x1+=x,triangle.y1+=y,triangle.x2+=x,triangle.y2+=y,triangle.x3+=x,triangle.y3+=y,triangle}},1376:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=__webpack_require__2(35001);module2.exports=function(triangle){var line1=triangle.getLineA(),line2=triangle.getLineB(),line3=triangle.getLineC();return Length(line1)+Length(line2)+Length(line3)}},90260:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Point=__webpack_require__2(2141);module2.exports=function(triangle,out){void 0===out&&(out=new Point);var ux=triangle.x2-triangle.x1,uy=triangle.y2-triangle.y1,vx=triangle.x3-triangle.x1,vy=triangle.y3-triangle.y1,r=Math.random(),s=Math.random();return r+s>=1&&(r=1-r,s=1-s),out.x=triangle.x1+(ux*r+vx*s),out.y=triangle.y1+(uy*r+vy*s),out}},52172:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=__webpack_require__2(99614),InCenter=__webpack_require__2(39757);module2.exports=function(triangle,angle){var point=InCenter(triangle);return RotateAroundXY(triangle,point.x,point.y,angle)}},49907:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=__webpack_require__2(99614);module2.exports=function(triangle,point,angle){return RotateAroundXY(triangle,point.x,point.y,angle)}},99614:module2=>{module2.exports=function(triangle,x,y,angle){var c=Math.cos(angle),s=Math.sin(angle),tx=triangle.x1-x,ty=triangle.y1-y;return triangle.x1=tx*c-ty*s+x,triangle.y1=tx*s+ty*c+y,tx=triangle.x2-x,ty=triangle.y2-y,triangle.x2=tx*c-ty*s+x,triangle.y2=tx*s+ty*c+y,tx=triangle.x3-x,ty=triangle.y3-y,triangle.x3=tx*c-ty*s+x,triangle.y3=tx*s+ty*c+y,triangle}},16483:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Contains=__webpack_require__2(10690),GetPoint=__webpack_require__2(20437),GetPoints=__webpack_require__2(80672),GEOM_CONST=__webpack_require__2(23777),Line=__webpack_require__2(23031),Random=__webpack_require__2(90260),Triangle=new Class({initialize:function Triangle2(x1,y1,x2,y2,x3,y3){void 0===x1&&(x1=0),void 0===y1&&(y1=0),void 0===x2&&(x2=0),void 0===y2&&(y2=0),void 0===x3&&(x3=0),void 0===y3&&(y3=0),this.type=GEOM_CONST.TRIANGLE,this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2,this.x3=x3,this.y3=y3},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position2,output){return GetPoint(this,position2,output)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x1,y1,x2,y2,x3,y3){return void 0===x1&&(x1=0),void 0===y1&&(y1=0),void 0===x2&&(x2=0),void 0===y2&&(y2=0),void 0===x3&&(x3=0),void 0===y3&&(y3=0),this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2,this.x3=x3,this.y3=y3,this},getLineA:function(line){return void 0===line&&(line=new Line),line.setTo(this.x1,this.y1,this.x2,this.y2),line},getLineB:function(line){return void 0===line&&(line=new Line),line.setTo(this.x2,this.y2,this.x3,this.y3),line},getLineC:function(line){return void 0===line&&(line=new Line),line.setTo(this.x3,this.y3,this.x1,this.y1),line},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(value){var diff=0;diff=this.x1<=this.x2&&this.x1<=this.x3?this.x1-value:this.x2<=this.x1&&this.x2<=this.x3?this.x2-value:this.x3-value,this.x1-=diff,this.x2-=diff,this.x3-=diff}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(value){var diff=0;diff=this.x1>=this.x2&&this.x1>=this.x3?this.x1-value:this.x2>=this.x1&&this.x2>=this.x3?this.x2-value:this.x3-value,this.x1-=diff,this.x2-=diff,this.x3-=diff}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(value){var diff=0;diff=this.y1<=this.y2&&this.y1<=this.y3?this.y1-value:this.y2<=this.y1&&this.y2<=this.y3?this.y2-value:this.y3-value,this.y1-=diff,this.y2-=diff,this.y3-=diff}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(value){var diff=0;diff=this.y1>=this.y2&&this.y1>=this.y3?this.y1-value:this.y2>=this.y1&&this.y2>=this.y3?this.y2-value:this.y3-value,this.y1-=diff,this.y2-=diff,this.y3-=diff}}});module2.exports=Triangle},84435:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Triangle=__webpack_require__2(16483);Triangle.Area=__webpack_require__2(41658),Triangle.BuildEquilateral=__webpack_require__2(39208),Triangle.BuildFromPolygon=__webpack_require__2(39545),Triangle.BuildRight=__webpack_require__2(90301),Triangle.CenterOn=__webpack_require__2(23707),Triangle.Centroid=__webpack_require__2(97523),Triangle.CircumCenter=__webpack_require__2(24951),Triangle.CircumCircle=__webpack_require__2(85614),Triangle.Clone=__webpack_require__2(74422),Triangle.Contains=__webpack_require__2(10690),Triangle.ContainsArray=__webpack_require__2(48653),Triangle.ContainsPoint=__webpack_require__2(96006),Triangle.CopyFrom=__webpack_require__2(71326),Triangle.Decompose=__webpack_require__2(71694),Triangle.Equals=__webpack_require__2(33522),Triangle.GetPoint=__webpack_require__2(20437),Triangle.GetPoints=__webpack_require__2(80672),Triangle.InCenter=__webpack_require__2(39757),Triangle.Perimeter=__webpack_require__2(1376),Triangle.Offset=__webpack_require__2(13584),Triangle.Random=__webpack_require__2(90260),Triangle.Rotate=__webpack_require__2(52172),Triangle.RotateAroundPoint=__webpack_require__2(49907),Triangle.RotateAroundXY=__webpack_require__2(99614),module2.exports=Triangle},74457:module2=>{module2.exports=function(gameObject,hitArea,hitAreaCallback){return{gameObject:gameObject,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:hitArea,hitAreaCallback:hitAreaCallback,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:module2=>{module2.exports=function(textureManager,alphaTolerance){return function(hitArea,x,y,gameObject){var alpha=textureManager.getPixelAlpha(x,y,gameObject.texture.key,gameObject.frame.name);return alpha&&alpha>=alphaTolerance}}},7003:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(93301),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(8214),GameEvents=__webpack_require__2(8443),Keyboard=__webpack_require__2(78970),Mouse=__webpack_require__2(85098),Pointer=__webpack_require__2(42515),Touch=__webpack_require__2(36210),TransformMatrix=__webpack_require__2(61340),TransformXY=__webpack_require__2(85955),InputManager=new Class({initialize:function InputManager2(game,config2){this.game=game,this.scaleManager,this.canvas,this.config=config2,this.enabled=!0,this.events=new EventEmitter2,this.isOver=!0,this.defaultCursor="",this.keyboard=config2.inputKeyboard?new Keyboard(this):null,this.mouse=config2.inputMouse?new Mouse(this):null,this.touch=config2.inputTouch?new Touch(this):null,this.pointers=[],this.pointersTotal=config2.inputActivePointers;for(var i=0;i<=this.pointersTotal;i++){var pointer=new Pointer(this,i);pointer.smoothFactor=config2.inputSmoothFactor,this.pointers.push(pointer)}this.mousePointer=config2.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new TransformMatrix,this._tempMatrix2=new TransformMatrix,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){var game=this.game,events=game.events;this.canvas=game.canvas,this.scaleManager=game.scale,this.events.emit(Events2.MANAGER_BOOT),events.on(GameEvents.PRE_RENDER,this.preRender,this),events.once(GameEvents.DESTROY,this.destroy,this)},setCanvasOver:function(event){this.isOver=!0,this.events.emit(Events2.GAME_OVER,event)},setCanvasOut:function(event){this.isOver=!1,this.events.emit(Events2.GAME_OUT,event)},preRender:function(){var time=this.game.loop.now,delta=this.game.loop.delta,scenes=this.game.scene.getScenes(!0,!0);this.time=time,this.events.emit(Events2.MANAGER_UPDATE);for(var i=0;i<scenes.length;i++){var scene=scenes[i];if(scene.sys.input&&scene.sys.input.updatePoll(time,delta)&&this.globalTopOnly)return}},setDefaultCursor:function(cursor){this.defaultCursor=cursor,this.canvas.style.cursor!==cursor&&(this.canvas.style.cursor=cursor)},setCursor:function(interactiveObject){interactiveObject.cursor&&(this.canvas.style.cursor=interactiveObject.cursor)},resetCursor:function(interactiveObject,forceReset){(forceReset||interactiveObject&&interactiveObject.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(quantity){void 0===quantity&&(quantity=1);var output=[];this.pointersTotal+quantity>10&&(quantity=10-this.pointersTotal);for(var i=0;i<quantity;i++){var id=this.pointers.length,pointer=new Pointer(this,id);pointer.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(pointer),this.pointersTotal++,output.push(pointer)}return output},updateInputPlugins:function(type,pointers){var scenes=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var i=0;i<scenes.length;i++){var scene=scenes[i];if(scene.sys.input&&(scene.sys.input.update(type,pointers)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<pointers.length;i++){var pointer=pointers[i];if(!pointer.active){pointer.touchstart(changedTouch,event),this.activePointer=pointer,changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_START,changed)},onTouchMove:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<pointers.length;i++){var pointer=pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){var overCanvas=document.elementFromPoint(changedTouch.clientX,changedTouch.clientY)===this.canvas;!this.isOver&&overCanvas?this.setCanvasOver(event):this.isOver&&!overCanvas&&this.setCanvasOut(event),this.isOver&&(pointer.touchmove(changedTouch,event),this.activePointer=pointer,changed.push(pointer));break}}this.updateInputPlugins(CONST.TOUCH_MOVE,changed)},onTouchEnd:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<pointers.length;i++){var pointer=pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){pointer.touchend(changedTouch,event),changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_END,changed)},onTouchCancel:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<pointers.length;i++){var pointer=pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){pointer.touchcancel(changedTouch,event),changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_CANCEL,changed)},onMouseDown:function(event){var mousePointer=this.mousePointer;mousePointer.down(event),mousePointer.updateMotion(),this.activePointer=mousePointer,this.updateInputPlugins(CONST.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(event){var mousePointer=this.mousePointer;mousePointer.move(event),mousePointer.updateMotion(),this.activePointer=mousePointer,this.updateInputPlugins(CONST.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(event){var mousePointer=this.mousePointer;mousePointer.up(event),mousePointer.updateMotion(),this.activePointer=mousePointer,this.updateInputPlugins(CONST.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(event){var mousePointer=this.mousePointer;mousePointer.wheel(event),this.activePointer=mousePointer,this.updateInputPlugins(CONST.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(event){var isLocked=this.mouse.locked;this.mousePointer.locked=isLocked,this.events.emit(Events2.POINTERLOCK_CHANGE,event,isLocked)},inputCandidate:function(gameObject,camera){var input=gameObject.input;if(!input||!input.enabled||!gameObject.willRender(camera))return!1;var visible=!0,parent=gameObject.parentContainer;if(parent)do{if(!parent.willRender(camera)){visible=!1;break}parent=parent.parentContainer}while(parent);return visible},hitTest:function(pointer,gameObjects,camera,output){void 0===output&&(output=this._tempHitTest);var tempPoint=this._tempPoint,csx=camera.scrollX,csy=camera.scrollY;output.length=0;var x=pointer.x,y=pointer.y;camera.getWorldPoint(x,y,tempPoint),pointer.worldX=tempPoint.x,pointer.worldY=tempPoint.y;for(var point={x:0,y:0},matrix=this._tempMatrix,parentMatrix=this._tempMatrix2,i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];if(this.inputCandidate(gameObject,camera)){var px=tempPoint.x+csx*gameObject.scrollFactorX-csx,py=tempPoint.y+csy*gameObject.scrollFactorY-csy;gameObject.parentContainer?(gameObject.getWorldTransformMatrix(matrix,parentMatrix),matrix.applyInverse(px,py,point)):TransformXY(px,py,gameObject.x,gameObject.y,gameObject.rotation,gameObject.scaleX,gameObject.scaleY,point),this.pointWithinHitArea(gameObject,point.x,point.y)&&output.push(gameObject)}}return output},pointWithinHitArea:function(gameObject,x,y){x+=gameObject.displayOriginX,y+=gameObject.displayOriginY;var input=gameObject.input;return!(!input||!input.hitAreaCallback(input.hitArea,x,y,gameObject)||(input.localX=x,input.localY=y,0))},pointWithinInteractiveObject:function(object,x,y){return!!object.hitArea&&(x+=object.gameObject.displayOriginX,y+=object.gameObject.displayOriginY,object.localX=x,object.localY=y,object.hitAreaCallback(object.hitArea,x,y,object))},transformPointer:function(pointer,pageX,pageY,wasMove){var p0=pointer.position,p1=pointer.prevPosition;p1.x=p0.x,p1.y=p0.y;var x=this.scaleManager.transformX(pageX),y=this.scaleManager.transformY(pageY),a=pointer.smoothFactor;wasMove&&0!==a?(p0.x=x*a+p1.x*(1-a),p0.y=y*a+p1.y*(1-a)):(p0.x=x,p0.y=y)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(GameEvents.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var i=0;i<this.pointers.length;i++)this.pointers[i].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});module2.exports=InputManager},48205:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circle=__webpack_require__2(96503),CircleContains=__webpack_require__2(87902),Class=__webpack_require__2(83419),CONST=__webpack_require__2(93301),CreateInteractiveObject=__webpack_require__2(74457),CreatePixelPerfectHandler=__webpack_require__2(84409),DistanceBetween=__webpack_require__2(20339),Ellipse=__webpack_require__2(8497),EllipseContains=__webpack_require__2(81154),Events2=__webpack_require__2(8214),EventEmitter2=__webpack_require__2(50792),GetFastValue=__webpack_require__2(95540),GEOM_CONST=__webpack_require__2(23777),InputPluginCache=__webpack_require__2(89639),IsPlainObject=__webpack_require__2(41212),PluginCache=__webpack_require__2(37277),Rectangle=__webpack_require__2(87841),RectangleContains=__webpack_require__2(37303),SceneEvents=__webpack_require__2(44594),Triangle=__webpack_require__2(16483),TriangleContains=__webpack_require__2(10690),InputPlugin=new Class({Extends:EventEmitter2,initialize:function InputPlugin2(scene){EventEmitter2.call(this),this.scene=scene,this.systems=scene.sys,this.settings=scene.sys.settings,this.manager=scene.sys.game.input,this.pluginEvents=new EventEmitter2,this.enabled=!0,this.displayList,this.cameras,InputPluginCache.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var _eventData={cancelled:!1};this._eventContainer={stopPropagation:function(){_eventData.cancelled=!0}},this._eventData=_eventData,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(SceneEvents.DESTROY,this.destroy,this),this.pluginEvents.emit(Events2.BOOT)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.TRANSITION_START,this.transitionIn,this),eventEmitter.on(SceneEvents.TRANSITION_OUT,this.transitionOut,this),eventEmitter.on(SceneEvents.TRANSITION_COMPLETE,this.transitionComplete,this),eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this),this.manager.events.on(Events2.GAME_OUT,this.onGameOut,this),this.manager.events.on(Events2.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(Events2.START)},onGameOver:function(event){this.isActive()&&this.emit(Events2.GAME_OVER,event.timeStamp,event)},onGameOut:function(event){this.isActive()&&this.emit(Events2.GAME_OUT,event.timeStamp,event)},preUpdate:function(){this.pluginEvents.emit(Events2.PRE_UPDATE);var removeList=this._pendingRemoval,insertList=this._pendingInsertion,toRemove=removeList.length,toInsert=insertList.length;if(0!==toRemove||0!==toInsert){for(var current=this._list,i=0;i<toRemove;i++){var gameObject=removeList[i],index=current.indexOf(gameObject);index>-1&&(current.splice(index,1),this.clear(gameObject,!0))}this._pendingRemoval.length=0,this._list=current.concat(insertList.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(interactiveObject){this.manager&&this.manager.setCursor(interactiveObject)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(time,delta){if(!this.isActive())return!1;if(this.pluginEvents.emit(Events2.UPDATE,time,delta),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,pointers=this.manager.pointers;for(i=0;i<pointers.length;i++)pointers[i].updateMotion();if(0===this._list.length)return!1;var rate=this.pollRate;if(-1===rate)return!1;if(rate>0){if(this._pollTimer-=delta,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var captured=!1;for(i=0;i<pointers.length;i++){var total=0,pointer=pointers[i];this._tempZones=[],this._temp=this.hitTestPointer(pointer),this.sortGameObjects(this._temp,pointer),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),total+=this.processOverOutEvents(pointer),2===this.getDragState(pointer)&&this.processDragThresholdEvent(pointer,time),total>0&&(captured=!0)}return captured},update:function(type,pointers){if(!this.isActive())return!1;for(var captured=!1,i=0;i<pointers.length;i++){var total=0,pointer=pointers[i];switch(this._tempZones=[],this._temp=this.hitTestPointer(pointer),this.sortGameObjects(this._temp,pointer),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),type){case CONST.MOUSE_DOWN:total+=this.processDragDownEvent(pointer),total+=this.processDownEvents(pointer),total+=this.processOverOutEvents(pointer);break;case CONST.MOUSE_UP:total+=this.processDragUpEvent(pointer),total+=this.processUpEvents(pointer),total+=this.processOverOutEvents(pointer);break;case CONST.TOUCH_START:total+=this.processDragDownEvent(pointer),total+=this.processDownEvents(pointer),total+=this.processOverEvents(pointer);break;case CONST.TOUCH_END:case CONST.TOUCH_CANCEL:total+=this.processDragUpEvent(pointer),total+=this.processUpEvents(pointer),total+=this.processOutEvents(pointer);break;case CONST.MOUSE_MOVE:case CONST.TOUCH_MOVE:total+=this.processDragMoveEvent(pointer),total+=this.processMoveEvents(pointer),total+=this.processOverOutEvents(pointer);break;case CONST.MOUSE_WHEEL:total+=this.processWheelEvent(pointer)}total>0&&(captured=!0)}return this._updatedThisFrame=!0,captured},clear:function(gameObject,skipQueue){void 0===skipQueue&&(skipQueue=!1),this.disable(gameObject);var input=gameObject.input;input&&(this.removeDebug(gameObject),this.manager.resetCursor(input),input.gameObject=void 0,input.target=void 0,input.hitArea=void 0,input.hitAreaCallback=void 0,input.callbackContext=void 0,gameObject.input=null),skipQueue||this.queueForRemoval(gameObject);var index=this._draggable.indexOf(gameObject);return index>-1&&this._draggable.splice(index,1),gameObject},disable:function(gameObject,resetCursor){void 0===resetCursor&&(resetCursor=!1);var input=gameObject.input;input&&(input.enabled=!1,input.dragState=0);for(var index,drag=this._drag,over=this._over,manager=this.manager,i=0;i<manager.pointers.length;i++)(index=drag[i].indexOf(gameObject))>-1&&drag[i].splice(index,1),(index=over[i].indexOf(gameObject))>-1&&over[i].splice(index,1);return resetCursor&&this.resetCursor(),this},enable:function(gameObject,hitArea,hitAreaCallback,dropZone){return void 0===dropZone&&(dropZone=!1),gameObject.input?gameObject.input.enabled=!0:this.setHitArea(gameObject,hitArea,hitAreaCallback),gameObject.input&&dropZone&&!gameObject.input.dropZone&&(gameObject.input.dropZone=dropZone),this},hitTestPointer:function(pointer){for(var cameras=this.cameras.getCamerasBelowPointer(pointer),c=0;c<cameras.length;c++){for(var camera=cameras[c],over=this.manager.hitTest(pointer,this._list,camera),i=0;i<over.length;i++){var obj=over[i];obj.input.dropZone&&this._tempZones.push(obj)}if(over.length>0)return pointer.camera=camera,over}return pointer.camera=cameras[0],[]},processDownEvents:function(pointer){var total=0,currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;for(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input&&gameObject.input.enabled){if(total++,gameObject.emit(Events2.GAMEOBJECT_POINTER_DOWN,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_DOWN,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}}return!_eventData.cancelled&&this.isActive()&&(pointer.downElement===this.manager.game.canvas?this.emit(Events2.POINTER_DOWN,pointer,currentlyOver):this.emit(Events2.POINTER_DOWN_OUTSIDE,pointer)),total},getDragState:function(pointer){return this._dragState[pointer.id]},setDragState:function(pointer,state){this._dragState[pointer.id]=state},processDragThresholdEvent:function(pointer,time){var passed=!1,timeThreshold=this.dragTimeThreshold,distanceThreshold=this.dragDistanceThreshold;if((distanceThreshold>0&&DistanceBetween(pointer.x,pointer.y,pointer.downX,pointer.downY)>=distanceThreshold||timeThreshold>0&&time>=pointer.downTime+timeThreshold)&&(passed=!0),passed)return this.setDragState(pointer,3),this.processDragStartList(pointer)},processDragStartList:function(pointer){if(3!==this.getDragState(pointer))return 0;var list=this._drag[pointer.id];list.length>1&&(list=list.slice(0));for(var i=0;i<list.length;i++){var gameObject=list[i],input=gameObject.input;input.dragState=2,input.dragStartX=gameObject.x,input.dragStartY=gameObject.y,input.dragStartXGlobal=pointer.worldX,input.dragStartYGlobal=pointer.worldY,input.dragStartCamera=pointer.camera,input.dragX=input.dragStartXGlobal-input.dragStartX,input.dragY=input.dragStartYGlobal-input.dragStartY,gameObject.emit(Events2.GAMEOBJECT_DRAG_START,pointer,input.dragX,input.dragY),this.emit(Events2.DRAG_START,pointer,gameObject)}return this.setDragState(pointer,4),list.length},processDragDownEvent:function(pointer){var currentlyOver=this._temp;if(0===this._draggable.length||0===currentlyOver.length||!pointer.primaryDown||0!==this.getDragState(pointer))return 0;this.setDragState(pointer,1);for(var draglist=[],i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];gameObject.input.draggable&&0===gameObject.input.dragState&&draglist.push(gameObject)}return 0===draglist.length?(this.setDragState(pointer,0),0):(draglist.length>1&&(this.sortGameObjects(draglist,pointer),this.topOnly&&draglist.splice(1)),this._drag[pointer.id]=draglist,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(pointer,3),this.processDragStartList(pointer)):(this.setDragState(pointer,2),0))},processDragMoveEvent:function(pointer){if(2===this.getDragState(pointer)&&this.processDragThresholdEvent(pointer,this.manager.game.loop.now),4!==this.getDragState(pointer))return 0;var dropZones=this._tempZones,list=this._drag[pointer.id];list.length>1&&(list=list.slice(0));for(var i=0;i<list.length;i++){var dragX,dragY,gameObject=list[i],input=gameObject.input,target2=input.target;if(target2){var index=dropZones.indexOf(target2);0===index?(gameObject.emit(Events2.GAMEOBJECT_DRAG_OVER,pointer,target2),this.emit(Events2.DRAG_OVER,pointer,gameObject,target2)):index>0?(gameObject.emit(Events2.GAMEOBJECT_DRAG_LEAVE,pointer,target2),this.emit(Events2.DRAG_LEAVE,pointer,gameObject,target2),input.target=dropZones[0],target2=input.target,gameObject.emit(Events2.GAMEOBJECT_DRAG_ENTER,pointer,target2),this.emit(Events2.DRAG_ENTER,pointer,gameObject,target2)):(gameObject.emit(Events2.GAMEOBJECT_DRAG_LEAVE,pointer,target2),this.emit(Events2.DRAG_LEAVE,pointer,gameObject,target2),dropZones[0]?(input.target=dropZones[0],target2=input.target,gameObject.emit(Events2.GAMEOBJECT_DRAG_ENTER,pointer,target2),this.emit(Events2.DRAG_ENTER,pointer,gameObject,target2)):input.target=null)}else!target2&&dropZones[0]&&(input.target=dropZones[0],target2=input.target,gameObject.emit(Events2.GAMEOBJECT_DRAG_ENTER,pointer,target2),this.emit(Events2.DRAG_ENTER,pointer,gameObject,target2));var dragWorldXY=pointer.positionToCamera(input.dragStartCamera);if(gameObject.parentContainer){var dx=dragWorldXY.x-input.dragStartXGlobal,dy=dragWorldXY.y-input.dragStartYGlobal,rotation=gameObject.getParentRotation(),dxRotated=dx*Math.cos(rotation)+dy*Math.sin(rotation),dyRotated=dy*Math.cos(rotation)-dx*Math.sin(rotation);dxRotated*=1/gameObject.parentContainer.scaleX,dyRotated*=1/gameObject.parentContainer.scaleY,dragX=dxRotated+input.dragStartX,dragY=dyRotated+input.dragStartY}else dragX=dragWorldXY.x-input.dragX,dragY=dragWorldXY.y-input.dragY;gameObject.emit(Events2.GAMEOBJECT_DRAG,pointer,dragX,dragY),this.emit(Events2.DRAG,pointer,gameObject,dragX,dragY)}return list.length},processDragUpEvent:function(pointer){var list=this._drag[pointer.id];list.length>1&&(list=list.slice(0));for(var i=0;i<list.length;i++){var gameObject=list[i],input=gameObject.input;if(input&&2===input.dragState){input.dragState=0,input.dragX=input.localX-gameObject.displayOriginX,input.dragY=input.localY-gameObject.displayOriginY,input.dragStartCamera=null;var dropped=!1,target2=input.target;target2&&(gameObject.emit(Events2.GAMEOBJECT_DROP,pointer,target2),this.emit(Events2.DROP,pointer,gameObject,target2),input.target=null,dropped=!0),gameObject.input&&gameObject.input.enabled&&(gameObject.emit(Events2.GAMEOBJECT_DRAG_END,pointer,input.dragX,input.dragY,dropped),this.emit(Events2.DRAG_END,pointer,gameObject,dropped))}}return this.setDragState(pointer,0),list.splice(0),0},processMoveEvents:function(pointer){var total=0,currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;for(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input&&gameObject.input.enabled){if(total++,gameObject.emit(Events2.GAMEOBJECT_POINTER_MOVE,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled){if(this.emit(Events2.GAMEOBJECT_MOVE,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive())break;if(this.topOnly)break}}}return!_eventData.cancelled&&this.isActive()&&this.emit(Events2.POINTER_MOVE,pointer,currentlyOver),total},processWheelEvent:function(pointer){var total=0,currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;for(var dx=pointer.deltaX,dy=pointer.deltaY,dz=pointer.deltaZ,i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input&&gameObject.input.enabled){if(total++,gameObject.emit(Events2.GAMEOBJECT_POINTER_WHEEL,pointer,dx,dy,dz,_eventContainer),_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_WHEEL,pointer,gameObject,dx,dy,dz,_eventContainer),_eventData.cancelled||!this.isActive()))break}}return!_eventData.cancelled&&this.isActive()&&this.emit(Events2.POINTER_WHEEL,pointer,currentlyOver,dx,dy,dz),total},processOverEvents:function(pointer){var currentlyOver=this._temp,totalInteracted=0,total=currentlyOver.length,justOver=[];if(total>0){var manager=this.manager,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;for(var i=0;i<total;i++){var gameObject=currentlyOver[i];if(gameObject.input&&gameObject.input.enabled){if(justOver.push(gameObject),manager.setCursor(gameObject.input),gameObject.emit(Events2.GAMEOBJECT_POINTER_OVER,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),totalInteracted++,_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_OVER,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}}!_eventData.cancelled&&this.isActive()&&this.emit(Events2.POINTER_OVER,pointer,justOver)}return this._over[pointer.id]=justOver,totalInteracted},processOutEvents:function(pointer){var previouslyOver=this._over[pointer.id],totalInteracted=0,total=previouslyOver.length;if(total>0){var manager=this.manager,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1,this.sortGameObjects(previouslyOver,pointer);for(var i=0;i<total;i++){var gameObject=previouslyOver[i];if((gameObject=previouslyOver[i]).input&&gameObject.input.enabled){if(manager.resetCursor(gameObject.input),gameObject.emit(Events2.GAMEOBJECT_POINTER_OUT,pointer,_eventContainer),totalInteracted++,_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_OUT,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}}!_eventData.cancelled&&this.isActive()&&this.emit(Events2.POINTER_OUT,pointer,previouslyOver),this._over[pointer.id]=[]}return totalInteracted},processOverOutEvents:function(pointer){var i,gameObject,currentlyOver=this._temp,justOut=[],justOver=[],stillOver=[],previouslyOver=this._over[pointer.id],currentlyDragging=this._drag[pointer.id],manager=this.manager;for(i=0;i<previouslyOver.length;i++)gameObject=previouslyOver[i],-1===currentlyOver.indexOf(gameObject)&&-1===currentlyDragging.indexOf(gameObject)?justOut.push(gameObject):stillOver.push(gameObject);for(i=0;i<currentlyOver.length;i++)gameObject=currentlyOver[i],-1===previouslyOver.indexOf(gameObject)&&justOver.push(gameObject);var total=justOut.length,totalInteracted=0,_eventData=this._eventData,_eventContainer=this._eventContainer;if(_eventData.cancelled=!1,total>0){for(this.sortGameObjects(justOut,pointer),i=0;i<total;i++)if((gameObject=justOut[i]).input&&gameObject.input.enabled){if(manager.resetCursor(gameObject.input),gameObject.emit(Events2.GAMEOBJECT_POINTER_OUT,pointer,_eventContainer),totalInteracted++,_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_OUT,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}_eventData.cancelled&&!this.isActive()||this.emit(Events2.POINTER_OUT,pointer,justOut)}if(total=justOver.length,_eventData.cancelled=!1,total>0){for(this.sortGameObjects(justOver,pointer),i=0;i<total;i++)if((gameObject=justOver[i]).input&&gameObject.input.enabled){if(manager.setCursor(gameObject.input),gameObject.emit(Events2.GAMEOBJECT_POINTER_OVER,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),totalInteracted++,_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_OVER,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}!_eventData.cancelled&&this.isActive()&&this.emit(Events2.POINTER_OVER,pointer,justOver)}return previouslyOver=stillOver.concat(justOver),this._over[pointer.id]=this.sortGameObjects(previouslyOver,pointer),totalInteracted},processUpEvents:function(pointer){var currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;for(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input&&gameObject.input.enabled){if(gameObject.emit(Events2.GAMEOBJECT_POINTER_UP,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),_eventData.cancelled||!this.isActive())break;if(gameObject.input&&gameObject.input.enabled&&(this.emit(Events2.GAMEOBJECT_UP,pointer,gameObject,_eventContainer),_eventData.cancelled||!this.isActive()))break}}return!_eventData.cancelled&&this.isActive()&&(pointer.upElement===this.manager.game.canvas?this.emit(Events2.POINTER_UP,pointer,currentlyOver):this.emit(Events2.POINTER_UP_OUTSIDE,pointer)),currentlyOver.length},forceDownState:function(pointer,gameObject){this.forceState(pointer,gameObject,Events2.GAMEOBJECT_POINTER_DOWN,Events2.GAMEOBJECT_DOWN,!1)},forceUpState:function(pointer,gameObject){this.forceState(pointer,gameObject,Events2.GAMEOBJECT_POINTER_UP,Events2.GAMEOBJECT_UP,!1)},forceOverState:function(pointer,gameObject){this.forceState(pointer,gameObject,Events2.GAMEOBJECT_POINTER_OVER,Events2.GAMEOBJECT_OVER,!0)},forceOutState:function(pointer,gameObject){this.forceState(pointer,gameObject,Events2.GAMEOBJECT_POINTER_OUT,Events2.GAMEOBJECT_OUT,!1)},forceState:function(pointer,gameObject,gameObjectEvent,inputPluginEvent,setCursor){var _eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1,gameObject.input&&gameObject.input.enabled&&(gameObject.emit(gameObjectEvent,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer),setCursor&&this.setCursor(gameObject.input),!_eventData.cancelled&&this.isActive()&&gameObject.input&&gameObject.input.enabled&&this.emit(inputPluginEvent,pointer,gameObject,_eventContainer))},queueForInsertion:function(child){return-1===this._pendingInsertion.indexOf(child)&&-1===this._list.indexOf(child)&&this._pendingInsertion.push(child),this},queueForRemoval:function(child){return this._pendingRemoval.push(child),this},setDraggable:function(gameObjects,value){void 0===value&&(value=!0),Array.isArray(gameObjects)||(gameObjects=[gameObjects]);for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];gameObject.input.draggable=value;var index=this._draggable.indexOf(gameObject);value&&-1===index?this._draggable.push(gameObject):!value&&index>-1&&this._draggable.splice(index,1)}return this},makePixelPerfect:function(alphaTolerance){void 0===alphaTolerance&&(alphaTolerance=1);var textureManager=this.systems.textures;return CreatePixelPerfectHandler(textureManager,alphaTolerance)},setHitArea:function(gameObjects,hitArea,hitAreaCallback){if(void 0===hitArea)return this.setHitAreaFromTexture(gameObjects);Array.isArray(gameObjects)||(gameObjects=[gameObjects]);var draggable=!1,dropZone=!1,cursor=!1,useHandCursor=!1,pixelPerfect=!1,customHitArea=!0;if(IsPlainObject(hitArea)&&Object.keys(hitArea).length){var config2=hitArea;if(!gameObjects.some((function(gameObject2){return gameObject2.hasOwnProperty("faces")}))){hitArea=GetFastValue(config2,"hitArea",null),hitAreaCallback=GetFastValue(config2,"hitAreaCallback",null),pixelPerfect=GetFastValue(config2,"pixelPerfect",!1);var alphaTolerance=GetFastValue(config2,"alphaTolerance",1);pixelPerfect&&(hitArea={},hitAreaCallback=this.makePixelPerfect(alphaTolerance))}draggable=GetFastValue(config2,"draggable",!1),dropZone=GetFastValue(config2,"dropZone",!1),cursor=GetFastValue(config2,"cursor",!1),useHandCursor=GetFastValue(config2,"useHandCursor",!1),hitArea&&hitAreaCallback||(this.setHitAreaFromTexture(gameObjects),customHitArea=!1)}else"function"!=typeof hitArea||hitAreaCallback||(hitAreaCallback=hitArea,hitArea={});for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];if(pixelPerfect&&"Container"===gameObject.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var io=gameObject.input?gameObject.input:CreateInteractiveObject(gameObject,hitArea,hitAreaCallback);io.customHitArea=customHitArea,io.dropZone=dropZone,io.cursor=useHandCursor?"pointer":cursor,gameObject.input=io,draggable&&this.setDraggable(gameObject),this.queueForInsertion(gameObject)}}return this},setHitAreaCircle:function(gameObjects,x,y,radius,callback){void 0===callback&&(callback=CircleContains);var shape=new Circle(x,y,radius);return this.setHitArea(gameObjects,shape,callback)},setHitAreaEllipse:function(gameObjects,x,y,width,height,callback){void 0===callback&&(callback=EllipseContains);var shape=new Ellipse(x,y,width,height);return this.setHitArea(gameObjects,shape,callback)},setHitAreaFromTexture:function(gameObjects,callback){void 0===callback&&(callback=RectangleContains),Array.isArray(gameObjects)||(gameObjects=[gameObjects]);for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i],frame=gameObject.frame,width=0,height=0;gameObject.width?(width=gameObject.width,height=gameObject.height):frame&&(width=frame.realWidth,height=frame.realHeight),"Container"!==gameObject.type||0!==width&&0!==height?0!==width&&0!==height&&(gameObject.input=CreateInteractiveObject(gameObject,new Rectangle(0,0,width,height),callback),this.queueForInsertion(gameObject)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(gameObjects,x,y,width,height,callback){void 0===callback&&(callback=RectangleContains);var shape=new Rectangle(x,y,width,height);return this.setHitArea(gameObjects,shape,callback)},setHitAreaTriangle:function(gameObjects,x1,y1,x2,y2,x3,y3,callback){void 0===callback&&(callback=TriangleContains);var shape=new Triangle(x1,y1,x2,y2,x3,y3);return this.setHitArea(gameObjects,shape,callback)},enableDebug:function(gameObject,color){void 0===color&&(color=65280);var input=gameObject.input;if(!input||!input.hitArea)return this;var shape=input.hitArea,shapeType=shape.type,debug=input.hitAreaDebug,factory=this.systems.add,updateList=this.systems.updateList;debug&&(updateList.remove(debug),debug.destroy(),debug=null);var offsetx=0,offsety=0;switch(shapeType){case GEOM_CONST.CIRCLE:debug=factory.arc(0,0,shape.radius),offsetx=shape.x-shape.radius,offsety=shape.y-shape.radius;break;case GEOM_CONST.ELLIPSE:debug=factory.ellipse(0,0,shape.width,shape.height),offsetx=shape.x-shape.width/2,offsety=shape.y-shape.height/2;break;case GEOM_CONST.LINE:debug=factory.line(0,0,shape.x1,shape.y1,shape.x2,shape.y2);break;case GEOM_CONST.POLYGON:debug=factory.polygon(0,0,shape.points);break;case GEOM_CONST.RECTANGLE:debug=factory.rectangle(0,0,shape.width,shape.height),offsetx=shape.x,offsety=shape.y;break;case GEOM_CONST.TRIANGLE:debug=factory.triangle(0,0,shape.x1,shape.y1,shape.x2,shape.y2,shape.x3,shape.y3)}return debug&&(debug.isFilled=!1,debug.strokeColor=color,debug.preUpdate=function(){debug.setVisible(gameObject.visible),debug.setStrokeStyle(1/gameObject.scale,debug.strokeColor),debug.setDisplayOrigin(gameObject.displayOriginX,gameObject.displayOriginY);var x=gameObject.x,y=gameObject.y,rotation=gameObject.rotation,scaleX=gameObject.scaleX,scaleY=gameObject.scaleY;if(gameObject.parentContainer){var matrix=gameObject.getWorldTransformMatrix();x=matrix.tx,y=matrix.ty,rotation=matrix.rotation,scaleX=matrix.scaleX,scaleY=matrix.scaleY}debug.setRotation(rotation),debug.setScale(scaleX,scaleY),debug.setPosition(x+offsetx*scaleX,y+offsety*scaleY),debug.setScrollFactor(gameObject.scrollFactorX,gameObject.scrollFactorY),debug.setDepth(gameObject.depth)},updateList.add(debug),input.hitAreaDebug=debug),this},removeDebug:function(gameObject){var input=gameObject.input;return input&&input.hitAreaDebug&&(input.hitAreaDebug.destroy(),input.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(value){return this.pollRate=value,this._pollTimer=0,this},setGlobalTopOnly:function(value){return this.manager.globalTopOnly=value,this},setTopOnly:function(value){return this.topOnly=value,this},sortGameObjects:function(gameObjects,pointer){if(gameObjects.length<2||!pointer.camera)return gameObjects;var list=pointer.camera.renderList;return gameObjects.sort((function(childA,childB){var indexA=Math.max(list.indexOf(childA),0);return Math.max(list.indexOf(childB),0)-indexA}))},sortDropZones:function(gameObjects){return gameObjects.length<2?gameObjects:(this.scene.sys.depthSort(),gameObjects.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(childA,childB){if(childA.parentContainer||childB.parentContainer){if(childA.parentContainer===childB.parentContainer)return childB.parentContainer.getIndex(childB)-childA.parentContainer.getIndex(childA);if(childA.parentContainer===childB)return-1;if(childB.parentContainer===childA)return 1;for(var listA=childA.getIndexList(),listB=childB.getIndexList(),len=Math.min(listA.length,listB.length),i=0;i<len;i++){var indexA=listA[i],indexB=listB[i];if(indexA!==indexB)return indexB-indexA}return listB.length-listA.length}return this.displayList.getIndex(childB)-this.displayList.getIndex(childA)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(quantity){return this.manager.addPointer(quantity)},setDefaultCursor:function(cursor){return this.manager.setDefaultCursor(cursor),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(Events2.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var i=0;i<10;i++)this._drag[i]=[],this._over[i]=[];this.removeAllListeners();var manager=this.manager;manager.canvas.style.cursor=manager.defaultCursor;var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.TRANSITION_START,this.transitionIn,this),eventEmitter.off(SceneEvents.TRANSITION_OUT,this.transitionOut,this),eventEmitter.off(SceneEvents.TRANSITION_COMPLETE,this.transitionComplete,this),eventEmitter.off(SceneEvents.PRE_UPDATE,this.preUpdate,this),manager.events.off(Events2.GAME_OUT,this.onGameOut,this),manager.events.off(Events2.GAME_OVER,this.onGameOver,this),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var pointers=this.manager.pointers,i=0;i<pointers.length;i++)pointers[i].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(Events2.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(SceneEvents.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});PluginCache.register("InputPlugin",InputPlugin,"input"),module2.exports=InputPlugin},89639:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=__webpack_require__2(35154),inputPlugins={},InputPluginCache={register:function(key,plugin,mapping,settingsKey,configKey){inputPlugins[key]={plugin:plugin,mapping:mapping,settingsKey:settingsKey,configKey:configKey}},getPlugin:function(key){return inputPlugins[key]},install:function(target2){var sys=target2.scene.sys,settings=sys.settings.input,config2=sys.game.config;for(var key in inputPlugins){var source=inputPlugins[key].plugin,mapping=inputPlugins[key].mapping,settingsKey=inputPlugins[key].settingsKey,configKey=inputPlugins[key].configKey;GetValue(settings,settingsKey,config2[configKey])&&(target2[mapping]=new source(target2))}},remove:function(key){inputPlugins.hasOwnProperty(key)&&delete inputPlugins[key]}};module2.exports=InputPluginCache},42515:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Angle=__webpack_require__2(31040),Class=__webpack_require__2(83419),Distance=__webpack_require__2(20339),FuzzyEqual=__webpack_require__2(43855),SmoothStepInterpolation=__webpack_require__2(47235),Vector2=__webpack_require__2(26099),OS=__webpack_require__2(25892),Pointer=new Class({initialize:function Pointer2(manager,id){this.manager=manager,this.id=id,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new Vector2,this.prevPosition=new Vector2,this.midPoint=new Vector2(-1,-1),this.velocity=new Vector2,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===id,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(camera){var temp=camera.getWorldPoint(this.x,this.y);return this.worldX=temp.x,this.worldY=temp.y,this},positionToCamera:function(camera,output){return camera.getWorldPoint(this.x,this.y,output)},updateMotion:function(){var cx=this.position.x,cy=this.position.y,mx=this.midPoint.x,my=this.midPoint.y;if(cx!==mx||cy!==my){var vx=SmoothStepInterpolation(this.motionFactor,mx,cx),vy=SmoothStepInterpolation(this.motionFactor,my,cy);FuzzyEqual(vx,cx,.1)&&(vx=cx),FuzzyEqual(vy,cy,.1)&&(vy=cy),this.midPoint.set(vx,vy);var dx=cx-vx,dy=cy-vy;this.velocity.set(dx,dy),this.angle=Angle(vx,vy,cx,cy),this.distance=Math.sqrt(dx*dx+dy*dy)}},up:function(event){"buttons"in event&&(this.buttons=event.buttons),this.event=event,this.button=event.button,this.upElement=event.target,this.manager.transformPointer(this,event.pageX,event.pageY,!1),0===event.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=event.timeStamp,this.wasTouch=!1)},down:function(event){"buttons"in event&&(this.buttons=event.buttons),this.event=event,this.button=event.button,this.downElement=event.target,this.manager.transformPointer(this,event.pageX,event.pageY,!1),0===event.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),OS.macOS&&event.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=event.timeStamp),this.wasTouch=!1},move:function(event){"buttons"in event&&(this.buttons=event.buttons),this.event=event,this.manager.transformPointer(this,event.pageX,event.pageY,!0),this.locked&&(this.movementX=event.movementX||event.mozMovementX||event.webkitMovementX||0,this.movementY=event.movementY||event.mozMovementY||event.webkitMovementY||0),this.moveTime=event.timeStamp,this.wasTouch=!1},wheel:function(event){"buttons"in event&&(this.buttons=event.buttons),this.event=event,this.manager.transformPointer(this,event.pageX,event.pageY,!1),this.deltaX=event.deltaX,this.deltaY=event.deltaY,this.deltaZ=event.deltaZ,this.wasTouch=!1},touchstart:function(touch,event){touch.pointerId&&(this.pointerId=touch.pointerId),this.identifier=touch.identifier,this.target=touch.target,this.active=!0,this.buttons=1,this.event=event,this.downElement=touch.target,this.manager.transformPointer(this,touch.pageX,touch.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=event.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(touch,event){this.event=event,this.manager.transformPointer(this,touch.pageX,touch.pageY,!0),this.moveTime=event.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(touch,event){this.buttons=0,this.event=event,this.upElement=touch.target,this.manager.transformPointer(this,touch.pageX,touch.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=event.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(touch,event){this.buttons=0,this.event=event,this.upElement=touch.target,this.manager.transformPointer(this,touch.pageX,touch.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=event.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?Distance(this.downX,this.downY,this.x,this.y):Distance(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?Angle(this.downX,this.downY,this.x,this.y):Angle(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(steps,out){void 0===steps&&(steps=10),void 0===out&&(out=[]);for(var prevX=this.prevPosition.x,prevY=this.prevPosition.y,curX=this.position.x,curY=this.position.y,i=0;i<steps;i++){var t=1/steps*i;out[i]={x:SmoothStepInterpolation(t,prevX,curX),y:SmoothStepInterpolation(t,prevY,curY)}}return out},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(value){this.position.x=value}},y:{get:function(){return this.position.y},set:function(value){this.position.y=value}},time:{get:function(){return this.event?this.event.timeStamp:0}}});module2.exports=Pointer},93301:module2=>{module2.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="boot"},85375:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},39843:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragend"},23388:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragenter"},16133:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="drag"},27829:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragleave"},53904:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragover"},56058:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragstart"},2642:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="drop"},88171:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectdown"},36147:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragend"},71692:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragenter"},96149:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="drag"},81285:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragleave"},74048:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragover"},21322:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragstart"},49378:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="drop"},86754:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectmove"},86433:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectout"},60709:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectover"},24081:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerdown"},11172:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointermove"},18907:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerout"},95579:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerover"},35368:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerup"},26972:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="wheel"},47078:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectup"},73802:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameobjectwheel"},56718:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameout"},25936:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="gameover"},27503:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="boot"},50852:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="process"},96438:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="update"},59152:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerlockchange"},47777:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerdown"},27957:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerdownoutside"},19444:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointermove"},54251:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerout"},18667:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerover"},27192:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerup"},24652:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pointerupoutside"},45132:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="wheel"},44512:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="preupdate"},15757:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="shutdown"},41637:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="start"},93802:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="update"},8214:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BOOT:__webpack_require__2(7179),DESTROY:__webpack_require__2(85375),DRAG_END:__webpack_require__2(39843),DRAG_ENTER:__webpack_require__2(23388),DRAG:__webpack_require__2(16133),DRAG_LEAVE:__webpack_require__2(27829),DRAG_OVER:__webpack_require__2(53904),DRAG_START:__webpack_require__2(56058),DROP:__webpack_require__2(2642),GAME_OUT:__webpack_require__2(56718),GAME_OVER:__webpack_require__2(25936),GAMEOBJECT_DOWN:__webpack_require__2(88171),GAMEOBJECT_DRAG_END:__webpack_require__2(36147),GAMEOBJECT_DRAG_ENTER:__webpack_require__2(71692),GAMEOBJECT_DRAG:__webpack_require__2(96149),GAMEOBJECT_DRAG_LEAVE:__webpack_require__2(81285),GAMEOBJECT_DRAG_OVER:__webpack_require__2(74048),GAMEOBJECT_DRAG_START:__webpack_require__2(21322),GAMEOBJECT_DROP:__webpack_require__2(49378),GAMEOBJECT_MOVE:__webpack_require__2(86754),GAMEOBJECT_OUT:__webpack_require__2(86433),GAMEOBJECT_OVER:__webpack_require__2(60709),GAMEOBJECT_POINTER_DOWN:__webpack_require__2(24081),GAMEOBJECT_POINTER_MOVE:__webpack_require__2(11172),GAMEOBJECT_POINTER_OUT:__webpack_require__2(18907),GAMEOBJECT_POINTER_OVER:__webpack_require__2(95579),GAMEOBJECT_POINTER_UP:__webpack_require__2(35368),GAMEOBJECT_POINTER_WHEEL:__webpack_require__2(26972),GAMEOBJECT_UP:__webpack_require__2(47078),GAMEOBJECT_WHEEL:__webpack_require__2(73802),MANAGER_BOOT:__webpack_require__2(27503),MANAGER_PROCESS:__webpack_require__2(50852),MANAGER_UPDATE:__webpack_require__2(96438),POINTER_DOWN:__webpack_require__2(47777),POINTER_DOWN_OUTSIDE:__webpack_require__2(27957),POINTER_MOVE:__webpack_require__2(19444),POINTER_OUT:__webpack_require__2(54251),POINTER_OVER:__webpack_require__2(18667),POINTER_UP:__webpack_require__2(27192),POINTER_UP_OUTSIDE:__webpack_require__2(24652),POINTER_WHEEL:__webpack_require__2(45132),POINTERLOCK_CHANGE:__webpack_require__2(59152),PRE_UPDATE:__webpack_require__2(44512),SHUTDOWN:__webpack_require__2(15757),START:__webpack_require__2(41637),UPDATE:__webpack_require__2(93802)}},97421:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Axis=new(__webpack_require__2(83419))({initialize:function Axis2(pad,index){this.pad=pad,this.events=pad.events,this.index=index,this.value=0,this.threshold=.1},update:function(value){this.value=value},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});module2.exports=Axis},28884:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(92734),Button=new Class({initialize:function Button2(pad,index){this.pad=pad,this.events=pad.manager,this.index=index,this.value=0,this.threshold=1,this.pressed=!1},update:function(value){this.value=value;var pad=this.pad,index=this.index;value>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(Events2.BUTTON_DOWN,pad,this,value),this.pad.emit(Events2.GAMEPAD_BUTTON_DOWN,index,value,this)):this.pressed&&(this.pressed=!1,this.events.emit(Events2.BUTTON_UP,pad,this,value),this.pad.emit(Events2.GAMEPAD_BUTTON_UP,index,value,this))},destroy:function(){this.pad=null,this.events=null}});module2.exports=Button},99125:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Axis=__webpack_require__2(97421),Button=__webpack_require__2(28884),Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Vector2=__webpack_require__2(26099),Gamepad=new Class({Extends:EventEmitter2,initialize:function Gamepad2(manager,pad){EventEmitter2.call(this),this.manager=manager,this.pad=pad,this.id=pad.id,this.index=pad.index;for(var buttons=[],i=0;i<pad.buttons.length;i++)buttons.push(new Button(this,i));this.buttons=buttons;var axes=[];for(i=0;i<pad.axes.length;i++)axes.push(new Axis(this,i));this.axes=axes,this.vibration=pad.vibrationActuator;var _noButton={value:0,pressed:!1};this._LCLeft=buttons[14]?buttons[14]:_noButton,this._LCRight=buttons[15]?buttons[15]:_noButton,this._LCTop=buttons[12]?buttons[12]:_noButton,this._LCBottom=buttons[13]?buttons[13]:_noButton,this._RCLeft=buttons[2]?buttons[2]:_noButton,this._RCRight=buttons[1]?buttons[1]:_noButton,this._RCTop=buttons[3]?buttons[3]:_noButton,this._RCBottom=buttons[0]?buttons[0]:_noButton,this._FBLeftTop=buttons[4]?buttons[4]:_noButton,this._FBLeftBottom=buttons[6]?buttons[6]:_noButton,this._FBRightTop=buttons[5]?buttons[5]:_noButton,this._FBRightBottom=buttons[7]?buttons[7]:_noButton;var _noAxis={value:0};this._HAxisLeft=axes[0]?axes[0]:_noAxis,this._VAxisLeft=axes[1]?axes[1]:_noAxis,this._HAxisRight=axes[2]?axes[2]:_noAxis,this._VAxisRight=axes[3]?axes[3]:_noAxis,this.leftStick=new Vector2,this.rightStick=new Vector2,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(index){return this.axes[index].getValue()},setAxisThreshold:function(value){for(var i=0;i<this.axes.length;i++)this.axes[i].threshold=value},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(index){return this.buttons[index].value},isButtonDown:function(index){return this.buttons[index].pressed},update:function(pad){if(!(pad.timestamp<this._created)){var i,localButtons=this.buttons,gamepadButtons=pad.buttons,len=localButtons.length;for(i=0;i<len;i++)localButtons[i].update(gamepadButtons[i].value);var localAxes=this.axes,gamepadAxes=pad.axes;for(len=localAxes.length,i=0;i<len;i++)localAxes[i].update(gamepadAxes[i]);len>=2&&(this.leftStick.set(localAxes[0].getValue(),localAxes[1].getValue()),len>=4&&this.rightStick.set(localAxes[2].getValue(),localAxes[3].getValue()))}},destroy:function(){var i;for(this.removeAllListeners(),this.manager=null,this.pad=null,i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});module2.exports=Gamepad},56654:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(92734),Gamepad=__webpack_require__2(99125),GetValue=__webpack_require__2(35154),InputPluginCache=__webpack_require__2(89639),InputEvents=__webpack_require__2(8214),GamepadPlugin=new Class({Extends:EventEmitter2,initialize:function GamepadPlugin2(sceneInputPlugin){EventEmitter2.call(this),this.scene=sceneInputPlugin.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=sceneInputPlugin,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,sceneInputPlugin.pluginEvents.once(InputEvents.BOOT,this.boot,this),sceneInputPlugin.pluginEvents.on(InputEvents.START,this.start,this)},boot:function(){var game=this.scene.sys.game,settings=this.settings.input,config2=game.config;this.enabled=GetValue(settings,"gamepad",config2.inputGamepad)&&game.device.input.gamepads,this.target=GetValue(settings,"gamepad.target",config2.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(InputEvents.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(InputEvents.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var _this=this,target2=this.target,handler=function(event){!event.defaultPrevented&&_this.isActive()&&(_this.refreshPads(),_this.queue.push(event))};this.onGamepadHandler=handler,target2.addEventListener("gamepadconnected",handler,!1),target2.addEventListener("gamepaddisconnected",handler,!1),this.sceneInputPlugin.pluginEvents.on(InputEvents.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(InputEvents.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var connectedPads=navigator.getGamepads();if(connectedPads)for(var currentPads=this.gamepads,i=0;i<connectedPads.length;i++){var livePad=connectedPads[i];if(livePad){var id=livePad.id,index=livePad.index,currentPad=currentPads[index];if(currentPad)currentPad.id!==id?(currentPad.destroy(),currentPads[index]=new Gamepad(this,livePad)):currentPad.update(livePad);else{var newPad=new Gamepad(this,livePad);currentPads[index]=newPad,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=newPad):this._pad3=newPad:this._pad2=newPad:this._pad1=newPad}}}else this.disconnectAll()},getAll:function(){for(var out=[],pads=this.gamepads,i=0;i<pads.length;i++)pads[i]&&out.push(pads[i]);return out},getPad:function(index){for(var pads=this.gamepads,i=0;i<pads.length;i++)if(pads[i]&&pads[i].index===index)return pads[i]},update:function(){if(this.enabled){this.refreshPads();var len=this.queue.length;if(0!==len)for(var queue=this.queue.splice(0,len),i=0;i<len;i++){var event=queue[i],pad=this.getPad(event.gamepad.index);"gamepadconnected"===event.type?this.emit(Events2.CONNECTED,pad,event):"gamepaddisconnected"===event.type&&this.emit(Events2.DISCONNECTED,pad,event)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});InputPluginCache.register("GamepadPlugin",GamepadPlugin,"gamepad","gamepad","inputGamepad"),module2.exports=GamepadPlugin},89651:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={DUALSHOCK_4:__webpack_require__2(65294),SNES_USB:__webpack_require__2(89651),XBOX_360:__webpack_require__2(90089)}},46008:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="down"},7629:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="up"},42206:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="connected"},86544:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="disconnected"},94784:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="down"},14325:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="up"},92734:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BUTTON_DOWN:__webpack_require__2(46008),BUTTON_UP:__webpack_require__2(7629),CONNECTED:__webpack_require__2(42206),DISCONNECTED:__webpack_require__2(86544),GAMEPAD_BUTTON_DOWN:__webpack_require__2(94784),GAMEPAD_BUTTON_UP:__webpack_require__2(14325)}},48646:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Axis:__webpack_require__2(97421),Button:__webpack_require__2(28884),Events:__webpack_require__2(92734),Gamepad:__webpack_require__2(99125),GamepadPlugin:__webpack_require__2(56654),Configs:__webpack_require__2(64894)}},14350:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(93301),Extend=__webpack_require__2(79291),Input={CreatePixelPerfectHandler:__webpack_require__2(84409),CreateInteractiveObject:__webpack_require__2(74457),Events:__webpack_require__2(8214),Gamepad:__webpack_require__2(48646),InputManager:__webpack_require__2(7003),InputPlugin:__webpack_require__2(48205),InputPluginCache:__webpack_require__2(89639),Keyboard:__webpack_require__2(51442),Mouse:__webpack_require__2(87078),Pointer:__webpack_require__2(42515),Touch:__webpack_require__2(95618)};Input=Extend(!1,Input,CONST),module2.exports=Input},78970:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayRemove=__webpack_require__2(72905),Class=__webpack_require__2(83419),GameEvents=__webpack_require__2(8443),InputEvents=__webpack_require__2(8214),KeyCodes=__webpack_require__2(46032),NOOP=__webpack_require__2(29747),KeyboardManager=new Class({initialize:function KeyboardManager2(inputManager){this.manager=inputManager,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=NOOP,this.onKeyUp=NOOP,inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config2=this.manager.config;this.enabled=config2.inputKeyboard,this.target=config2.inputKeyboardEventTarget,this.addCapture(config2.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(GameEvents.POST_STEP,this.postUpdate,this)},startListeners:function(){var _this=this;this.onKeyDown=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager){_this.queue.push(event),_this.manager.events.emit(InputEvents.MANAGER_PROCESS);var modified=event.altKey||event.ctrlKey||event.shiftKey||event.metaKey;_this.preventDefault&&!modified&&_this.captures.indexOf(event.keyCode)>-1&&event.preventDefault()}},this.onKeyUp=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager){_this.queue.push(event),_this.manager.events.emit(InputEvents.MANAGER_PROCESS);var modified=event.altKey||event.ctrlKey||event.shiftKey||event.metaKey;_this.preventDefault&&!modified&&_this.captures.indexOf(event.keyCode)>-1&&event.preventDefault()}};var target2=this.target;target2&&(target2.addEventListener("keydown",this.onKeyDown,!1),target2.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var target2=this.target;target2.removeEventListener("keydown",this.onKeyDown,!1),target2.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(keycode){"string"==typeof keycode&&(keycode=keycode.split(",")),Array.isArray(keycode)||(keycode=[keycode]);for(var captures=this.captures,i=0;i<keycode.length;i++){var code=keycode[i];"string"==typeof code&&(code=KeyCodes[code.trim().toUpperCase()]),-1===captures.indexOf(code)&&captures.push(code)}this.preventDefault=captures.length>0},removeCapture:function(keycode){"string"==typeof keycode&&(keycode=keycode.split(",")),Array.isArray(keycode)||(keycode=[keycode]);for(var captures=this.captures,i=0;i<keycode.length;i++){var code=keycode[i];"string"==typeof code&&(code=KeyCodes[code.toUpperCase()]),ArrayRemove(captures,code)}this.preventDefault=captures.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(GameEvents.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});module2.exports=KeyboardManager},28846:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(95922),GameEvents=__webpack_require__2(8443),GetValue=__webpack_require__2(35154),InputEvents=__webpack_require__2(8214),InputPluginCache=__webpack_require__2(89639),Key=__webpack_require__2(30472),KeyCodes=__webpack_require__2(46032),KeyCombo=__webpack_require__2(87960),KeyMap=__webpack_require__2(74600),SceneEvents=__webpack_require__2(44594),SnapFloor=__webpack_require__2(56583),KeyboardPlugin=new Class({Extends:EventEmitter2,initialize:function KeyboardPlugin2(sceneInputPlugin){EventEmitter2.call(this),this.game=sceneInputPlugin.systems.game,this.scene=sceneInputPlugin.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=sceneInputPlugin,this.manager=sceneInputPlugin.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,sceneInputPlugin.pluginEvents.once(InputEvents.BOOT,this.boot,this),sceneInputPlugin.pluginEvents.on(InputEvents.START,this.start,this)},boot:function(){var settings=this.settings.input;this.enabled=GetValue(settings,"keyboard",!0);var captures=GetValue(settings,"keyboard.capture",null);captures&&this.addCaptures(captures),this.sceneInputPlugin.pluginEvents.once(InputEvents.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(InputEvents.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(InputEvents.SHUTDOWN,this.shutdown,this),this.game.events.on(GameEvents.BLUR,this.resetKeys,this),this.scene.sys.events.on(SceneEvents.PAUSE,this.resetKeys,this),this.scene.sys.events.on(SceneEvents.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(keycode){return this.manager.addCapture(keycode),this},removeCapture:function(keycode){return this.manager.removeCapture(keycode),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:KeyCodes.UP,down:KeyCodes.DOWN,left:KeyCodes.LEFT,right:KeyCodes.RIGHT,space:KeyCodes.SPACE,shift:KeyCodes.SHIFT})},addKeys:function(keys,enableCapture,emitOnRepeat){void 0===enableCapture&&(enableCapture=!0),void 0===emitOnRepeat&&(emitOnRepeat=!1);var output={};if("string"==typeof keys){keys=keys.split(",");for(var i=0;i<keys.length;i++){var currentKey=keys[i].trim();currentKey&&(output[currentKey]=this.addKey(currentKey,enableCapture,emitOnRepeat))}}else for(var key in keys)output[key]=this.addKey(keys[key],enableCapture,emitOnRepeat);return output},addKey:function(key,enableCapture,emitOnRepeat){void 0===enableCapture&&(enableCapture=!0),void 0===emitOnRepeat&&(emitOnRepeat=!1);var keys=this.keys;if(key instanceof Key){var idx=keys.indexOf(key);return idx>-1?keys[idx]=key:keys[key.keyCode]=key,enableCapture&&this.addCapture(key.keyCode),key.setEmitOnRepeat(emitOnRepeat),key}return"string"==typeof key&&(key=KeyCodes[key.toUpperCase()]),keys[key]||(keys[key]=new Key(this,key),enableCapture&&this.addCapture(key),keys[key].setEmitOnRepeat(emitOnRepeat)),keys[key]},removeKey:function(key,destroy,removeCapture){void 0===destroy&&(destroy=!1),void 0===removeCapture&&(removeCapture=!1);var ref,keys=this.keys;if(key instanceof Key){var idx=keys.indexOf(key);idx>-1&&(ref=this.keys[idx],this.keys[idx]=void 0)}else"string"==typeof key&&(key=KeyCodes[key.toUpperCase()]);return keys[key]&&(ref=keys[key],keys[key]=void 0),ref&&(ref.plugin=null,removeCapture&&this.removeCapture(ref.keyCode),destroy&&ref.destroy()),this},removeAllKeys:function(destroy,removeCapture){void 0===destroy&&(destroy=!1),void 0===removeCapture&&(removeCapture=!1);for(var keys=this.keys,i=0;i<keys.length;i++){var key=keys[i];key&&(keys[i]=void 0,removeCapture&&this.removeCapture(key.keyCode),destroy&&key.destroy())}return this},createCombo:function(keys,config2){return new KeyCombo(this,keys,config2)},checkDown:function(key,duration){if(void 0===duration&&(duration=0),this.enabled&&key.isDown){var t=SnapFloor(this.time-key.timeDown,duration);if(t>key._tick)return key._tick=t,!0}return!1},update:function(){var queue=this.manager.queue,len=queue.length;if(this.isActive()&&0!==len)for(var keys=this.keys,i=0;i<len;i++){var event=queue[i],code=event.keyCode,key=keys[code],repeat=!1;void 0===event.cancelled&&(event.cancelled=0,event.stopImmediatePropagation=function(){event.cancelled=1},event.stopPropagation=function(){event.cancelled=-1}),-1!==event.cancelled&&(code===this.prevCode&&event.timeStamp===this.prevTime&&event.type===this.prevType||(this.prevCode=code,this.prevTime=event.timeStamp,this.prevType=event.type,"keydown"===event.type?(key&&(repeat=key.isDown,key.onDown(event)),event.cancelled||key&&repeat||(KeyMap[code]&&this.emit(Events2.KEY_DOWN+KeyMap[code],event),event.cancelled||this.emit(Events2.ANY_KEY_DOWN,event))):(key&&key.onUp(event),event.cancelled||(KeyMap[code]&&this.emit(Events2.KEY_UP+KeyMap[code],event),event.cancelled||this.emit(Events2.ANY_KEY_UP,event))),1===event.cancelled&&(event.cancelled=0)))}},resetKeys:function(){for(var keys=this.keys,i=0;i<keys.length;i++)keys[i]&&keys[i].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(InputEvents.MANAGER_PROCESS,this.update,this),this.game.events.off(GameEvents.BLUR,this.resetKeys),this.scene.sys.events.off(SceneEvents.PAUSE,this.resetKeys,this),this.scene.sys.events.off(SceneEvents.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var keys=this.keys,i=0;i<keys.length;i++)keys[i]&&keys[i].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});InputPluginCache.register("KeyboardPlugin",KeyboardPlugin,"keyboard","keyboard","inputKeyboard"),module2.exports=KeyboardPlugin},66970:module2=>{module2.exports=function(event,combo){return combo.timeLastMatched=event.timeStamp,combo.index++,combo.index===combo.size||(combo.current=combo.keyCodes[combo.index],!1)}},87960:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(95922),GetFastValue=__webpack_require__2(95540),ProcessKeyCombo=__webpack_require__2(68769),ResetKeyCombo=__webpack_require__2(92803),KeyCombo=new Class({initialize:function KeyCombo2(keyboardPlugin,keys,config2){if(void 0===config2&&(config2={}),keys.length<2)return!1;this.manager=keyboardPlugin,this.enabled=!0,this.keyCodes=[];for(var i=0;i<keys.length;i++){var char=keys[i];"string"==typeof char?this.keyCodes.push(char.toUpperCase().charCodeAt(0)):"number"==typeof char?this.keyCodes.push(char):char.hasOwnProperty("keyCode")&&this.keyCodes.push(char.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=GetFastValue(config2,"resetOnWrongKey",!0),this.maxKeyDelay=GetFastValue(config2,"maxKeyDelay",0),this.resetOnMatch=GetFastValue(config2,"resetOnMatch",!1),this.deleteOnMatch=GetFastValue(config2,"deleteOnMatch",!1);var _this=this;this.onKeyDown=function(event){!_this.matched&&_this.enabled&&ProcessKeyCombo(event,_this)&&(_this.manager.emit(Events2.COMBO_MATCH,_this,event),_this.resetOnMatch?ResetKeyCombo(_this):_this.deleteOnMatch&&_this.destroy())},this.manager.on(Events2.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(Events2.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});module2.exports=KeyCombo},68769:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AdvanceKeyCombo=__webpack_require__2(66970);module2.exports=function(event,combo){if(combo.matched)return!0;var comboMatched=!1,keyMatched=!1;if(event.keyCode===combo.current)if(combo.index>0&&combo.maxKeyDelay>0){var timeLimit=combo.timeLastMatched+combo.maxKeyDelay;event.timeStamp<=timeLimit&&(keyMatched=!0,comboMatched=AdvanceKeyCombo(event,combo))}else keyMatched=!0,comboMatched=AdvanceKeyCombo(event,combo);return!keyMatched&&combo.resetOnWrongKey&&(combo.index=0,combo.current=combo.keyCodes[0]),comboMatched&&(combo.timeLastMatched=event.timeStamp,combo.matched=!0,combo.timeMatched=event.timeStamp),comboMatched}},92803:module2=>{module2.exports=function(combo){return combo.current=combo.keyCodes[0],combo.index=0,combo.timeLastMatched=0,combo.matched=!1,combo.timeMatched=0,combo}},92612:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="keydown"},23345:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="keyup"},21957:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="keycombomatch"},44743:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="down"},3771:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="keydown-"},46358:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="keyup-"},75674:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="up"},95922:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ANY_KEY_DOWN:__webpack_require__2(92612),ANY_KEY_UP:__webpack_require__2(23345),COMBO_MATCH:__webpack_require__2(21957),DOWN:__webpack_require__2(44743),KEY_DOWN:__webpack_require__2(3771),KEY_UP:__webpack_require__2(46358),UP:__webpack_require__2(75674)}},51442:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Events:__webpack_require__2(95922),KeyboardManager:__webpack_require__2(78970),KeyboardPlugin:__webpack_require__2(28846),Key:__webpack_require__2(30472),KeyCodes:__webpack_require__2(46032),KeyCombo:__webpack_require__2(87960),AdvanceKeyCombo:__webpack_require__2(66970),ProcessKeyCombo:__webpack_require__2(68769),ResetKeyCombo:__webpack_require__2(92803),JustDown:__webpack_require__2(90229),JustUp:__webpack_require__2(38796),DownDuration:__webpack_require__2(37015),UpDuration:__webpack_require__2(41170)}},37015:module2=>{module2.exports=function(key,duration){void 0===duration&&(duration=50);var current=key.plugin.game.loop.time-key.timeDown;return key.isDown&&current<duration}},90229:module2=>{module2.exports=function(key){return!!key._justDown&&(key._justDown=!1,!0)}},38796:module2=>{module2.exports=function(key){return!!key._justUp&&(key._justUp=!1,!0)}},30472:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(95922),Key=new Class({Extends:EventEmitter2,initialize:function Key2(plugin,keyCode){EventEmitter2.call(this),this.plugin=plugin,this.keyCode=keyCode,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(value){return this.emitOnRepeat=value,this},onDown:function(event){this.originalEvent=event,this.enabled&&(this.altKey=event.altKey,this.ctrlKey=event.ctrlKey,this.shiftKey=event.shiftKey,this.metaKey=event.metaKey,this.location=event.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(Events2.DOWN,this,event):(this.isDown=!0,this.isUp=!1,this.timeDown=event.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(Events2.DOWN,this,event)))},onUp:function(event){this.originalEvent=event,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=event.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(Events2.UP,this,event))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});module2.exports=Key},46032:module2=>{module2.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var KeyCodes=__webpack_require__2(46032),KeyMap={};for(var key in KeyCodes)KeyMap[KeyCodes[key]]=key;module2.exports=KeyMap},41170:module2=>{module2.exports=function(key,duration){void 0===duration&&(duration=50);var current=key.plugin.game.loop.time-key.timeUp;return key.isUp&&current<duration}},85098:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Features=__webpack_require__2(89357),InputEvents=__webpack_require__2(8214),NOOP=__webpack_require__2(29747),MouseManager=new Class({initialize:function MouseManager2(inputManager){this.manager=inputManager,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=NOOP,this.onMouseDown=NOOP,this.onMouseUp=NOOP,this.onMouseDownWindow=NOOP,this.onMouseUpWindow=NOOP,this.onMouseOver=NOOP,this.onMouseOut=NOOP,this.onMouseWheel=NOOP,this.pointerLockChange=NOOP,this.isTop=!0,inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config2=this.manager.config;this.enabled=config2.inputMouse,this.target=config2.inputMouseEventTarget,this.passive=config2.inputMousePassive,this.preventDefaultDown=config2.inputMousePreventDefaultDown,this.preventDefaultUp=config2.inputMousePreventDefaultUp,this.preventDefaultMove=config2.inputMousePreventDefaultMove,this.preventDefaultWheel=config2.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,config2.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",(function(event){return event.preventDefault(),!1})),this},requestPointerLock:function(){if(Features.pointerLock){var element=this.target;element.requestPointerLock=element.requestPointerLock||element.mozRequestPointerLock||element.webkitRequestPointerLock,element.requestPointerLock()}},releasePointerLock:function(){Features.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var target2=this.target;if(target2){var _this=this,manager=this.manager,canvas=manager.canvas,autoFocus=window&&window.focus&&manager.game.config.autoFocus;this.onMouseMove=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onMouseMove(event),_this.preventDefaultMove&&event.preventDefault())},this.onMouseDown=function(event){autoFocus&&window.focus(),!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onMouseDown(event),_this.preventDefaultDown&&event.target===canvas&&event.preventDefault())},this.onMouseDownWindow=function(event){event.sourceCapabilities&&event.sourceCapabilities.firesTouchEvents||!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas&&manager.onMouseDown(event)},this.onMouseUp=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onMouseUp(event),_this.preventDefaultUp&&event.target===canvas&&event.preventDefault())},this.onMouseUpWindow=function(event){event.sourceCapabilities&&event.sourceCapabilities.firesTouchEvents||!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas&&manager.onMouseUp(event)},this.onMouseOver=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&manager.setCanvasOver(event)},this.onMouseOut=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&manager.setCanvasOut(event)},this.onMouseWheel=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&manager.onMouseWheel(event),_this.preventDefaultWheel&&event.target===canvas&&event.preventDefault()};var passive={passive:!0};if(target2.addEventListener("mousemove",this.onMouseMove),target2.addEventListener("mousedown",this.onMouseDown),target2.addEventListener("mouseup",this.onMouseUp),target2.addEventListener("mouseover",this.onMouseOver,passive),target2.addEventListener("mouseout",this.onMouseOut,passive),this.preventDefaultWheel?target2.addEventListener("wheel",this.onMouseWheel,{passive:!1}):target2.addEventListener("wheel",this.onMouseWheel,passive),window&&manager.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,passive),window.top.addEventListener("mouseup",this.onMouseUpWindow,passive)}catch(exception){window.addEventListener("mousedown",this.onMouseDownWindow,passive),window.addEventListener("mouseup",this.onMouseUpWindow,passive),this.isTop=!1}Features.pointerLock&&(this.pointerLockChange=function(event){var element=_this.target;_this.locked=document.pointerLockElement===element||document.mozPointerLockElement===element||document.webkitPointerLockElement===element,manager.onPointerLockChange(event)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var target2=this.target;target2.removeEventListener("mousemove",this.onMouseMove),target2.removeEventListener("mousedown",this.onMouseDown),target2.removeEventListener("mouseup",this.onMouseUp),target2.removeEventListener("mouseover",this.onMouseOver),target2.removeEventListener("mouseout",this.onMouseOut),window&&((target2=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),target2.removeEventListener("mouseup",this.onMouseUpWindow)),Features.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});module2.exports=MouseManager},87078:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={MouseManager:__webpack_require__2(85098)}},36210:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),InputEvents=__webpack_require__2(8214),NOOP=__webpack_require__2(29747),TouchManager=new Class({initialize:function TouchManager2(inputManager){this.manager=inputManager,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=NOOP,this.onTouchStartWindow=NOOP,this.onTouchMove=NOOP,this.onTouchEnd=NOOP,this.onTouchEndWindow=NOOP,this.onTouchCancel=NOOP,this.onTouchCancelWindow=NOOP,this.isTop=!0,inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config2=this.manager.config;this.enabled=config2.inputTouch,this.target=config2.inputTouchEventTarget,this.capture=config2.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,config2.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",(function(event){return event.preventDefault(),!1})),this},startListeners:function(){var target2=this.target;if(target2){var _this=this,manager=this.manager,canvas=manager.canvas,autoFocus=window&&window.focus&&manager.game.config.autoFocus;this.onTouchMove=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onTouchMove(event),_this.capture&&event.cancelable&&event.preventDefault())},this.onTouchStart=function(event){autoFocus&&window.focus(),!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onTouchStart(event),_this.capture&&event.cancelable&&event.target===canvas&&event.preventDefault())},this.onTouchStartWindow=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas&&manager.onTouchStart(event)},this.onTouchEnd=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onTouchEnd(event),_this.capture&&event.cancelable&&event.target===canvas&&event.preventDefault())},this.onTouchEndWindow=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas&&manager.onTouchEnd(event)},this.onTouchCancel=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onTouchCancel(event),_this.capture&&event.preventDefault())},this.onTouchCancelWindow=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&manager.onTouchCancel(event)};var capture=this.capture,passive={passive:!0},nonPassive={passive:!1};if(target2.addEventListener("touchstart",this.onTouchStart,capture?nonPassive:passive),target2.addEventListener("touchmove",this.onTouchMove,capture?nonPassive:passive),target2.addEventListener("touchend",this.onTouchEnd,capture?nonPassive:passive),target2.addEventListener("touchcancel",this.onTouchCancel,capture?nonPassive:passive),window&&manager.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,nonPassive),window.top.addEventListener("touchend",this.onTouchEndWindow,nonPassive),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,nonPassive)}catch(exception){window.addEventListener("touchstart",this.onTouchStartWindow,nonPassive),window.addEventListener("touchend",this.onTouchEndWindow,nonPassive),window.addEventListener("touchcancel",this.onTouchCancelWindow,nonPassive),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var target2=this.target;target2.removeEventListener("touchstart",this.onTouchStart),target2.removeEventListener("touchmove",this.onTouchMove),target2.removeEventListener("touchend",this.onTouchEnd),target2.removeEventListener("touchcancel",this.onTouchCancel),window&&((target2=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),target2.removeEventListener("touchend",this.onTouchEndWindow),target2.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});module2.exports=TouchManager},95618:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={TouchManager:__webpack_require__2(36210)}},41299:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),Events2=__webpack_require__2(54899),GetFastValue=__webpack_require__2(95540),GetURL=__webpack_require__2(98356),MergeXHRSettings=__webpack_require__2(3374),XHRLoader=__webpack_require__2(84376),XHRSettings=__webpack_require__2(92638),File=new Class({initialize:function File2(loader,fileConfig){if(this.loader=loader,this.cache=GetFastValue(fileConfig,"cache",!1),this.type=GetFastValue(fileConfig,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=GetFastValue(fileConfig,"key",!1);var loadKey=this.key;if(loader.prefix&&""!==loader.prefix&&(this.key=loader.prefix+loadKey),!this.key)throw new Error("Invalid File key: "+this.key);var url=GetFastValue(fileConfig,"url");void 0===url?url=loader.path+loadKey+"."+GetFastValue(fileConfig,"extension",""):"string"!=typeof url||url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)||(url=loader.path+url),this.url=url,this.src="",this.xhrSettings=XHRSettings(GetFastValue(fileConfig,"responseType",void 0)),GetFastValue(fileConfig,"xhrSettings",!1)&&(this.xhrSettings=MergeXHRSettings(this.xhrSettings,GetFastValue(fileConfig,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?CONST.FILE_POPULATED:CONST.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=GetFastValue(fileConfig,"config",{}),this.multiFile,this.linkFile,this.base64="string"==typeof url&&0===url.indexOf("data:"),this.retryAttempts=GetFastValue(fileConfig,"maxRetries",loader.maxRetries)},setLink:function(fileB){this.linkFile=fileB,fileB.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===CONST.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=CONST.FILE_LOADING,this.src=GetURL(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=XHRLoader(this,this.loader.xhr)}},onLoad:function(xhr2,event){var localFileOk=xhr2.responseURL&&this.loader.localSchemes.some((function(scheme){return 0===xhr2.responseURL.indexOf(scheme)}))&&0===event.target.status,success=!(event.target&&200!==event.target.status)||localFileOk;4===xhr2.readyState&&xhr2.status>=400&&xhr2.status<=599&&(success=!1),this.state=CONST.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,success)},onBase64Load:function(xhr2){this.xhrLoader=xhr2,this.state=CONST.FILE_LOADED,this.percentComplete=1,this.loader.emit(Events2.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(event){event.lengthComputable&&(this.bytesLoaded=event.loaded,this.bytesTotal=event.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(Events2.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=CONST.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=CONST.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(data){if(this.state!==CONST.FILE_PENDING_DESTROY){void 0===data&&(data=this.data);var key=this.key,type=this.type;this.loader.emit(Events2.FILE_COMPLETE,key,type,data),this.loader.emit(Events2.FILE_KEY_COMPLETE+type+"-"+key,key,type,data),this.loader.flagForRemoval(this),this.state=CONST.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});File.createObjectURL=function(image,blob,defaultType){if("function"==typeof URL)image.src=URL.createObjectURL(blob);else{var reader=new FileReader;reader.onload=function(){image.removeAttribute("crossOrigin"),image.src="data:"+(blob.type||defaultType)+";base64,"+reader.result.split(",")[1]},reader.onerror=image.onerror,reader.readAsDataURL(blob)}},File.revokeObjectURL=function(image){"function"==typeof URL&&URL.revokeObjectURL(image.src)},module2.exports=File},74099:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var types={},FileTypesManager={install:function(loader){for(var key in types)loader[key]=types[key]},register:function(key,factoryFunction){types[key]=factoryFunction},destroy:function(){types={}}};module2.exports=FileTypesManager},98356:module2=>{module2.exports=function(file,baseURL){return!!file.url&&(file.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?file.url:baseURL+file.url)}},74261:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),CustomSet=__webpack_require__2(35072),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(54899),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),IsPlainObject=__webpack_require__2(41212),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),XHRSettings=__webpack_require__2(92638),LoaderPlugin=new Class({Extends:EventEmitter2,initialize:function LoaderPlugin2(scene){EventEmitter2.call(this);var gameConfig=scene.sys.game.config,sceneConfig=scene.sys.settings.loader;this.scene=scene,this.systems=scene.sys,this.cacheManager=scene.sys.cache,this.textureManager=scene.sys.textures,this.sceneManager=scene.sys.game.scene,FileTypesManager.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(GetFastValue(sceneConfig,"baseURL",gameConfig.loaderBaseURL)),this.setPath(GetFastValue(sceneConfig,"path",gameConfig.loaderPath)),this.setPrefix(GetFastValue(sceneConfig,"prefix",gameConfig.loaderPrefix)),this.maxParallelDownloads=GetFastValue(sceneConfig,"maxParallelDownloads",gameConfig.loaderMaxParallelDownloads),this.xhr=XHRSettings(GetFastValue(sceneConfig,"responseType",gameConfig.loaderResponseType),GetFastValue(sceneConfig,"async",gameConfig.loaderAsync),GetFastValue(sceneConfig,"user",gameConfig.loaderUser),GetFastValue(sceneConfig,"password",gameConfig.loaderPassword),GetFastValue(sceneConfig,"timeout",gameConfig.loaderTimeout),GetFastValue(sceneConfig,"withCredentials",gameConfig.loaderWithCredentials)),this.crossOrigin=GetFastValue(sceneConfig,"crossOrigin",gameConfig.loaderCrossOrigin),this.imageLoadType=GetFastValue(sceneConfig,"imageLoadType",gameConfig.loaderImageLoadType),this.localSchemes=GetFastValue(sceneConfig,"localScheme",gameConfig.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new CustomSet,this.inflight=new CustomSet,this.queue=new CustomSet,this._deleteQueue=new CustomSet,this.totalFailed=0,this.totalComplete=0,this.state=CONST.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=GetFastValue(sceneConfig,"maxRetries",gameConfig.loaderMaxRetries),scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.pluginStart,this)},boot:function(){this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},setBaseURL:function(url){return void 0===url&&(url=""),""!==url&&"/"!==url.substr(-1)&&(url=url.concat("/")),this.baseURL=url,this},setPath:function(path){return void 0===path&&(path=""),""!==path&&"/"!==path.substr(-1)&&(path=path.concat("/")),this.path=path,this},setPrefix:function(prefix){return void 0===prefix&&(prefix=""),this.prefix=prefix,this},setCORS:function(crossOrigin){return this.crossOrigin=crossOrigin,this},addFile:function(file){Array.isArray(file)||(file=[file]);for(var i=0;i<file.length;i++){var item=file[i];this.keyExists(item)||(this.list.set(item),this.emit(Events2.ADD,item.key,item.type,this,item),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(file){var keyConflict=file.hasCacheConflict();return keyConflict||this.list.iterate((function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1})),!keyConflict&&this.isLoading()&&(this.inflight.iterate((function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1})),this.queue.iterate((function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1}))),keyConflict},addPack:function(pack2,packKey){if("string"==typeof packKey){var subPack=GetValue(pack2,packKey);subPack&&(pack2={packKey:subPack})}var total=0,currentBaseURL=this.baseURL,currentPath=this.path,currentPrefix=this.prefix;for(var key in pack2)if(Object.prototype.hasOwnProperty.call(pack2,key)){var config2=pack2[key],baseURL=GetFastValue(config2,"baseURL",currentBaseURL),path=GetFastValue(config2,"path",currentPath),prefix=GetFastValue(config2,"prefix",currentPrefix),files=GetFastValue(config2,"files",null),defaultType=GetFastValue(config2,"defaultType","void");if(Array.isArray(files)){this.setBaseURL(baseURL),this.setPath(path),this.setPrefix(prefix);for(var i=0;i<files.length;i++){var file=files[i],type=file.hasOwnProperty("type")?file.type:defaultType;this[type]&&(this[type](file),total++)}}}return this.setBaseURL(currentBaseURL),this.setPath(currentPath),this.setPrefix(currentPrefix),total>0},removePack:function(packKey,dataKey){var pack2,animationManager=this.systems.anims,cacheManager=this.cacheManager,textureManager=this.textureManager,cacheMap={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(IsPlainObject(packKey))pack2=packKey;else if(!(pack2=cacheManager.json.get(packKey)))return void console.warn("Asset Pack not found in JSON cache:",packKey);for(var configKey in dataKey&&(pack2={_:pack2[dataKey]}),pack2){var config2=pack2[configKey],prefix=GetFastValue(config2,"prefix",""),files=GetFastValue(config2,"files"),defaultType=GetFastValue(config2,"defaultType");if(Array.isArray(files))for(var i=0;i<files.length;i++){var file=files[i],type=file.hasOwnProperty("type")?file.type:defaultType;if(type){var fileKey=prefix+file.key;if("animation"===type&&animationManager.remove(fileKey),"aseprite"!==type&&"atlas"!==type&&"atlasXML"!==type&&"htmlTexture"!==type&&"image"!==type&&"multiatlas"!==type&&"spritesheet"!==type&&"svg"!==type&&"texture"!==type&&"unityAtlas"!==type||(textureManager.remove(fileKey),cacheMap[type]))if("pack"!==type){if("spine"===type){var spineAtlas=cacheManager.custom.spine.get(fileKey);if(!spineAtlas)continue;var spinePrefix=void 0===spineAtlas.prefix?"":spineAtlas.prefix;cacheManager.custom.spine.remove(fileKey);var spineTexture=cacheManager.custom.spineTextures.get(fileKey);if(!spineTexture)continue;cacheManager.custom.spineTextures.remove(fileKey);for(var j=0;j<spineTexture.pages.length;j++){var textureKey=spinePrefix+spineTexture.pages[j].name,altTextureKey=fileKey+":"+textureKey;textureManager.exists(altTextureKey)?textureManager.remove(altTextureKey):textureManager.remove(textureKey)}}var cacheName=cacheMap[type];null!==cacheName&&(cacheName?cacheManager[cacheName].remove(fileKey):console.warn("Unknown type:",type))}else this.removePack(fileKey,file.dataKey)}else console.warn("No type:",file)}}},isLoading:function(){return this.state===CONST.LOADER_LOADING||this.state===CONST.LOADER_PROCESSING},isReady:function(){return this.state===CONST.LOADER_IDLE||this.state===CONST.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(Events2.START,this),0===this.list.size?this.loadComplete():(this.state=CONST.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(SceneEvents.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(Events2.PROGRESS,this.progress)},update:function(){this.state===CONST.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each((function(file){if((file.state===CONST.FILE_POPULATED||file.state===CONST.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(file),this.list.delete(file),file.crossOrigin||(file.crossOrigin=this.crossOrigin),file.load()),this.inflight.size===this.maxParallelDownloads)return!1}),this)},nextFile:function(file,success){this.inflight&&(this.inflight.delete(file),this.updateProgress(),success?(this.totalComplete++,this.queue.set(file),this.emit(Events2.FILE_LOAD,file),file.onProcess()):(this.totalFailed++,this._deleteQueue.set(file),this.emit(Events2.FILE_LOAD_ERROR,file),this.fileProcessComplete(file)))},fileProcessComplete:function(file){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(file.state===CONST.FILE_ERRORED?file.multiFile&&file.multiFile.onFileFailed(file):file.state===CONST.FILE_COMPLETE&&(file.multiFile?file.multiFile.isReadyToProcess()&&(file.multiFile.addToCache(),file.multiFile.pendingDestroy()):(file.addToCache(),file.pendingDestroy())),this.queue.delete(file),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(Events2.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=CONST.LOADER_COMPLETE,this.systems.events.off(SceneEvents.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(Events2.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(file){this._deleteQueue.set(file)},saveJSON:function(data,filename){return this.save(JSON.stringify(data),filename)},save:function(data,filename,filetype){void 0===filename&&(filename="file.json"),void 0===filetype&&(filetype="application/json");var blob=new Blob([data],{type:filetype}),url=URL.createObjectURL(blob),a=document.createElement("a");return a.download=filename,a.textContent="Download "+filename,a.href=url,a.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var gameConfig=this.systems.game.config,sceneConfig=this.systems.settings.loader;this.setBaseURL(GetFastValue(sceneConfig,"baseURL",gameConfig.loaderBaseURL)),this.setPath(GetFastValue(sceneConfig,"path",gameConfig.loaderPath)),this.setPrefix(GetFastValue(sceneConfig,"prefix",gameConfig.loaderPrefix)),this.state=CONST.LOADER_IDLE},shutdown:function(){this.reset(),this.state=CONST.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(SceneEvents.UPDATE,this.update,this),this.systems.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=CONST.LOADER_DESTROYED,this.systems.events.off(SceneEvents.UPDATE,this.update,this),this.systems.events.off(SceneEvents.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});PluginCache.register("Loader",LoaderPlugin,"load"),module2.exports=LoaderPlugin},3374:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291),XHRSettings=__webpack_require__2(92638);module2.exports=function(global2,local){var output=void 0===global2?XHRSettings():Extend({},global2);if(local)for(var setting in local)void 0!==local[setting]&&(output[setting]=local[setting]);return output}},26430:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),Events2=__webpack_require__2(54899),MultiFile=new Class({initialize:function MultiFile2(loader,type,key,files){var finalFiles=[];files.forEach((function(file){file&&finalFiles.push(file)})),this.loader=loader,this.type=type,this.key=key;var loadKey=this.key;loader.prefix&&""!==loader.prefix&&(this.key=loader.prefix+loadKey),this.multiKeyIndex=loader.multiKeyIndex++,this.files=finalFiles,this.state=CONST.FILE_PENDING,this.complete=!1,this.pending=finalFiles.length,this.failed=0,this.config={},this.baseURL=loader.baseURL,this.path=loader.path,this.prefix=loader.prefix;for(var i=0;i<finalFiles.length;i++)finalFiles[i].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(file){return this.files.push(file),file.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(file){-1!==this.files.indexOf(file)&&this.pending--},onFileFailed:function(file){-1!==this.files.indexOf(file)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,file.type,file.key))},pendingDestroy:function(){if(this.state!==CONST.FILE_PENDING_DESTROY){var key=this.key,type=this.type;this.loader.emit(Events2.FILE_COMPLETE,key,type),this.loader.emit(Events2.FILE_KEY_COMPLETE+type+"-"+key,key,type),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=CONST.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});module2.exports=MultiFile},84376:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MergeXHRSettings=__webpack_require__2(3374);module2.exports=function(file,globalXHRSettings){var config2=MergeXHRSettings(globalXHRSettings,file.xhrSettings);if(!file.base64){var xhr2=new XMLHttpRequest;if(xhr2.open("GET",file.src,config2.async,config2.user,config2.password),xhr2.responseType=file.xhrSettings.responseType,xhr2.timeout=config2.timeout,config2.headers)for(var key in config2.headers)xhr2.setRequestHeader(key,config2.headers[key]);return config2.header&&config2.headerValue&&xhr2.setRequestHeader(config2.header,config2.headerValue),config2.requestedWith&&xhr2.setRequestHeader("X-Requested-With",config2.requestedWith),config2.overrideMimeType&&xhr2.overrideMimeType(config2.overrideMimeType),config2.withCredentials&&(xhr2.withCredentials=!0),xhr2.onload=file.onLoad.bind(file,xhr2),xhr2.onerror=file.onError.bind(file,xhr2),xhr2.onprogress=file.onProgress.bind(file),xhr2.ontimeout=file.onError.bind(file,xhr2),xhr2.send(),xhr2}var base64Data=file.url.split(";base64,").pop()||file.url.split(",").pop(),fakeXHR={responseText:atob(base64Data)};file.onBase64Load(fakeXHR)}},92638:module2=>{module2.exports=function(responseType,async,user,password,timeout,withCredentials){return void 0===responseType&&(responseType=""),void 0===async&&(async=!0),void 0===user&&(user=""),void 0===password&&(password=""),void 0===timeout&&(timeout=0),void 0===withCredentials&&(withCredentials=!1),{responseType:responseType,async:async,user:user,password:password,timeout:timeout,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:withCredentials}}},23906:module2=>{module2.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="addfile"},38991:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},27540:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="filecomplete"},87464:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="filecomplete-"},94486:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="loaderror"},13035:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="load"},38144:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="fileprogress"},97520:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="postprocess"},85595:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="progress"},55680:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="start"},54899:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADD:__webpack_require__2(42155),COMPLETE:__webpack_require__2(38991),FILE_COMPLETE:__webpack_require__2(27540),FILE_KEY_COMPLETE:__webpack_require__2(87464),FILE_LOAD_ERROR:__webpack_require__2(94486),FILE_LOAD:__webpack_require__2(13035),FILE_PROGRESS:__webpack_require__2(38144),POST_PROCESS:__webpack_require__2(97520),PROGRESS:__webpack_require__2(85595),START:__webpack_require__2(55680)}},14135:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),JSONFile=__webpack_require__2(518),LoaderEvents=__webpack_require__2(54899),AnimationJSONFile=new Class({Extends:JSONFile,initialize:function AnimationJSONFile2(loader,key,url,xhrSettings,dataKey){JSONFile.call(this,loader,key,url,xhrSettings,dataKey),this.type="animationJSON"},onProcess:function(){this.loader.once(LoaderEvents.POST_PROCESS,this.onLoadComplete,this),JSONFile.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});FileTypesManager.register("animation",(function(key,url,dataKey,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new AnimationJSONFile(this,key[i]));else this.addFile(new AnimationJSONFile(this,key,url,xhrSettings,dataKey));return this})),module2.exports=AnimationJSONFile},76272:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),JSONFile=__webpack_require__2(518),MultiFile=__webpack_require__2(26430),AsepriteFile=new Class({Extends:MultiFile,initialize:function AsepriteFile2(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var image,data;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),image=new ImageFile(loader,{key:key,url:GetFastValue(config2,"textureURL"),extension:GetFastValue(config2,"textureExtension","png"),normalMap:GetFastValue(config2,"normalMap"),xhrSettings:GetFastValue(config2,"textureXhrSettings")}),data=new JSONFile(loader,{key:key,url:GetFastValue(config2,"atlasURL"),extension:GetFastValue(config2,"atlasExtension","json"),xhrSettings:GetFastValue(config2,"atlasXhrSettings")})}else image=new ImageFile(loader,key,textureURL,textureXhrSettings),data=new JSONFile(loader,key,atlasURL,atlasXhrSettings);image.linkFile?MultiFile.call(this,loader,"atlasjson",key,[image,data,image.linkFile]):MultiFile.call(this,loader,"atlasjson",key,[image,data])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],json=this.files[1],normalMap=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(image.key,image.data,json.data,normalMap),json.addToCache(),this.complete=!0}}});FileTypesManager.register("aseprite",(function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new AsepriteFile(this,key[i]),this.addFile(multifile.files);else multifile=new AsepriteFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(multifile.files);return this})),module2.exports=AsepriteFile},38734:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),JSONFile=__webpack_require__2(518),MultiFile=__webpack_require__2(26430),AtlasJSONFile=new Class({Extends:MultiFile,initialize:function AtlasJSONFile2(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var image,data;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),image=new ImageFile(loader,{key:key,url:GetFastValue(config2,"textureURL"),extension:GetFastValue(config2,"textureExtension","png"),normalMap:GetFastValue(config2,"normalMap"),xhrSettings:GetFastValue(config2,"textureXhrSettings")}),data=new JSONFile(loader,{key:key,url:GetFastValue(config2,"atlasURL"),extension:GetFastValue(config2,"atlasExtension","json"),xhrSettings:GetFastValue(config2,"atlasXhrSettings")})}else image=new ImageFile(loader,key,textureURL,textureXhrSettings),data=new JSONFile(loader,key,atlasURL,atlasXhrSettings);image.linkFile?MultiFile.call(this,loader,"atlasjson",key,[image,data,image.linkFile]):MultiFile.call(this,loader,"atlasjson",key,[image,data])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],json=this.files[1],normalMap=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(image.key,image.data,json.data,normalMap),this.complete=!0}}});FileTypesManager.register("atlas",(function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new AtlasJSONFile(this,key[i]),this.addFile(multifile.files);else multifile=new AtlasJSONFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(multifile.files);return this})),module2.exports=AtlasJSONFile},74599:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),MultiFile=__webpack_require__2(26430),XMLFile=__webpack_require__2(57318),AtlasXMLFile=new Class({Extends:MultiFile,initialize:function AtlasXMLFile2(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var image,data;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),image=new ImageFile(loader,{key:key,url:GetFastValue(config2,"textureURL"),extension:GetFastValue(config2,"textureExtension","png"),normalMap:GetFastValue(config2,"normalMap"),xhrSettings:GetFastValue(config2,"textureXhrSettings")}),data=new XMLFile(loader,{key:key,url:GetFastValue(config2,"atlasURL"),extension:GetFastValue(config2,"atlasExtension","xml"),xhrSettings:GetFastValue(config2,"atlasXhrSettings")})}else image=new ImageFile(loader,key,textureURL,textureXhrSettings),data=new XMLFile(loader,key,atlasURL,atlasXhrSettings);image.linkFile?MultiFile.call(this,loader,"atlasxml",key,[image,data,image.linkFile]):MultiFile.call(this,loader,"atlasxml",key,[image,data])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],xml=this.files[1],normalMap=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(image.key,image.data,xml.data,normalMap),this.complete=!0}}});FileTypesManager.register("atlasXML",(function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new AtlasXMLFile(this,key[i]),this.addFile(multifile.files);else multifile=new AtlasXMLFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(multifile.files);return this})),module2.exports=AtlasXMLFile},21097:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),HTML5AudioFile=__webpack_require__2(89749),IsPlainObject=__webpack_require__2(41212),AudioFile=new Class({Extends:File,initialize:function AudioFile2(loader,key,urlConfig,xhrSettings,audioContext){if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),xhrSettings=GetFastValue(config2,"xhrSettings"),audioContext=GetFastValue(config2,"context",audioContext)}var fileConfig={type:"audio",cache:loader.cacheManager.audio,extension:urlConfig.type,responseType:"arraybuffer",key:key,url:urlConfig.url,xhrSettings:xhrSettings,config:{context:audioContext}};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING;var _this=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(audioBuffer){_this.data=audioBuffer,_this.onProcessComplete()}),(function(e){console.error("Error decoding audio: "+_this.key+" - ",e?e.message:null),_this.onProcessError()})),this.config.context=null}});AudioFile.create=function(loader,key,urls,config2,xhrSettings){var game=loader.systems.game,audioConfig=game.config.audio,deviceAudio=game.device.audio;IsPlainObject(key)&&(urls=GetFastValue(key,"url",[]),config2=GetFastValue(key,"config",{}));var urlConfig=AudioFile.getAudioURL(game,urls);return urlConfig?deviceAudio.webAudio&&!audioConfig.disableWebAudio?new AudioFile(loader,key,urlConfig,xhrSettings,game.sound.context):new HTML5AudioFile(loader,key,urlConfig,config2):(console.warn('No audio URLs for "%s" can play on this device',key),null)},AudioFile.getAudioURL=function(game,urls){Array.isArray(urls)||(urls=[urls]);for(var i=0;i<urls.length;i++){var url=GetFastValue(urls[i],"url",urls[i]);if(0===url.indexOf("blob:")||0===url.indexOf("data:"))return{url:url,type:""};var audioType=url.match(/\.([a-zA-Z0-9]+)($|\?)/);if(audioType=GetFastValue(urls[i],"type",audioType?audioType[1]:"").toLowerCase(),game.device.audio[audioType])return{url:url,type:audioType}}return null},FileTypesManager.register("audio",(function(key,urls,config2,xhrSettings){var audioFile,game=this.systems.game,audioConfig=game.config.audio,deviceAudio=game.device.audio;if(audioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData)return this;if(Array.isArray(key))for(var i=0;i<key.length;i++)(audioFile=AudioFile.create(this,key[i]))&&this.addFile(audioFile);else(audioFile=AudioFile.create(this,key,urls,config2,xhrSettings))&&this.addFile(audioFile);return this})),module2.exports=AudioFile},89524:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AudioFile=__webpack_require__2(21097),Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),JSONFile=__webpack_require__2(518),MultiFile=__webpack_require__2(26430),AudioSpriteFile=new Class({Extends:MultiFile,initialize:function AudioSpriteFile2(loader,key,jsonURL,audioURL,audioConfig,audioXhrSettings,jsonXhrSettings){if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),jsonURL=GetFastValue(config2,"jsonURL"),audioURL=GetFastValue(config2,"audioURL"),audioConfig=GetFastValue(config2,"audioConfig"),audioXhrSettings=GetFastValue(config2,"audioXhrSettings"),jsonXhrSettings=GetFastValue(config2,"jsonXhrSettings")}var data;if(audioURL){var audio=AudioFile.create(loader,key,audioURL,audioConfig,audioXhrSettings);audio&&(data=new JSONFile(loader,key,jsonURL,jsonXhrSettings),MultiFile.call(this,loader,"audiosprite",key,[audio,data]),this.config.resourceLoad=!1)}else data=new JSONFile(loader,key,jsonURL,jsonXhrSettings),MultiFile.call(this,loader,"audiosprite",key,[data]),this.config.resourceLoad=!0,this.config.audioConfig=audioConfig,this.config.audioXhrSettings=audioXhrSettings},onFileComplete:function(file){if(-1!==this.files.indexOf(file)&&(this.pending--,this.config.resourceLoad&&"json"===file.type&&file.data.hasOwnProperty("resources"))){var urls=file.data.resources,audioConfig=GetFastValue(this.config,"audioConfig"),audioXhrSettings=GetFastValue(this.config,"audioXhrSettings"),audio=AudioFile.create(this.loader,file.key,urls,audioConfig,audioXhrSettings);audio&&(this.addToMultiFile(audio),this.loader.addFile(audio))}},addToCache:function(){if(this.isReadyToProcess()){var fileA=this.files[0],fileB=this.files[1];fileA.addToCache(),fileB.addToCache(),this.complete=!0}}});FileTypesManager.register("audioSprite",(function(key,jsonURL,audioURL,audioConfig,audioXhrSettings,jsonXhrSettings){var multifile,game=this.systems.game,gameAudioConfig=game.config.audio,deviceAudio=game.device.audio;if(gameAudioConfig&&gameAudioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData)return this;if(Array.isArray(key))for(var i=0;i<key.length;i++)(multifile=new AudioSpriteFile(this,key[i])).files&&this.addFile(multifile.files);else(multifile=new AudioSpriteFile(this,key,jsonURL,audioURL,audioConfig,audioXhrSettings,jsonXhrSettings)).files&&this.addFile(multifile.files);return this}))},85722:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),BinaryFile=new Class({Extends:File,initialize:function BinaryFile2(loader,key,url,xhrSettings,dataType){var extension="bin";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),dataType=GetFastValue(config2,"dataType",dataType)}var fileConfig={type:"binary",cache:loader.cacheManager.binary,extension:extension,responseType:"arraybuffer",key:key,url:url,xhrSettings:xhrSettings,config:{dataType:dataType}};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING;var ctor=this.config.dataType;this.data=ctor?new ctor(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});FileTypesManager.register("binary",(function(key,url,dataType,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new BinaryFile(this,key[i]));else this.addFile(new BinaryFile(this,key,url,xhrSettings,dataType));return this})),module2.exports=BinaryFile},97025:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),MultiFile=__webpack_require__2(26430),ParseXMLBitmapFont=__webpack_require__2(21859),XMLFile=__webpack_require__2(57318),BitmapFontFile=new Class({Extends:MultiFile,initialize:function BitmapFontFile2(loader,key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings){var image,data;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),image=new ImageFile(loader,{key:key,url:GetFastValue(config2,"textureURL"),extension:GetFastValue(config2,"textureExtension","png"),normalMap:GetFastValue(config2,"normalMap"),xhrSettings:GetFastValue(config2,"textureXhrSettings")}),data=new XMLFile(loader,{key:key,url:GetFastValue(config2,"fontDataURL"),extension:GetFastValue(config2,"fontDataExtension","xml"),xhrSettings:GetFastValue(config2,"fontDataXhrSettings")})}else image=new ImageFile(loader,key,textureURL,textureXhrSettings),data=new XMLFile(loader,key,fontDataURL,fontDataXhrSettings);image.linkFile?MultiFile.call(this,loader,"bitmapfont",key,[image,data,image.linkFile]):MultiFile.call(this,loader,"bitmapfont",key,[image,data])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],xml=this.files[1];image.addToCache();var texture=image.cache.get(image.key),data=ParseXMLBitmapFont(xml.data,image.cache.getFrame(image.key),0,0,texture);this.loader.cacheManager.bitmapFont.add(image.key,{data:data,texture:image.key,frame:null}),this.complete=!0}}});FileTypesManager.register("bitmapFont",(function(key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new BitmapFontFile(this,key[i]),this.addFile(multifile.files);else multifile=new BitmapFontFile(this,key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings),this.addFile(multifile.files);return this})),module2.exports=BitmapFontFile},16024:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),CSSFile=new Class({Extends:File,initialize:function CSSFile2(loader,key,url,xhrSettings){var extension="css";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"script",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});FileTypesManager.register("css",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new CSSFile(this,key[i]));else this.addFile(new CSSFile(this,key,url,xhrSettings));return this})),module2.exports=CSSFile},69559:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AtlasJSONFile=__webpack_require__2(38734),BinaryFile=__webpack_require__2(85722),Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),JSONFile=__webpack_require__2(518),KTXParser=__webpack_require__2(31403),Merge=__webpack_require__2(46975),MultiAtlasFile=__webpack_require__2(59327),MultiFile=__webpack_require__2(26430),PVRParser=__webpack_require__2(82038),verifyCompressedTexture=__webpack_require__2(55222),CompressedTextureFile=new Class({Extends:MultiFile,initialize:function CompressedTextureFile2(loader,key,entry,xhrSettings){if(entry.multiAtlasURL){var multi=new JSONFile(loader,{key:key,url:entry.multiAtlasURL,xhrSettings:xhrSettings,config:entry});MultiFile.call(this,loader,"texture",key,[multi])}else{var extension=entry.textureURL.substr(entry.textureURL.length-3);entry.type||(entry.type="ktx"===extension.toLowerCase()?"KTX":"PVR");var image=new BinaryFile(loader,{key:key,url:entry.textureURL,extension:extension,xhrSettings:xhrSettings,config:entry});if(entry.atlasURL){var data=new JSONFile(loader,{key:key,url:entry.atlasURL,xhrSettings:xhrSettings,config:entry});MultiFile.call(this,loader,"texture",key,[image,data])}else MultiFile.call(this,loader,"texture",key,[image])}this.config=entry},onFileComplete:function(file){if(-1!==this.files.indexOf(file)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===file.type&&file.data.hasOwnProperty("textures")){var textures=file.data.textures,config2=this.config,loader=this.loader,currentBaseURL=loader.baseURL,currentPath=loader.path,currentPrefix=loader.prefix,baseURL=GetFastValue(config2,"multiBaseURL",this.baseURL),path=GetFastValue(config2,"multiPath",this.path),prefix=GetFastValue(config2,"prefix",this.prefix),textureXhrSettings=GetFastValue(config2,"textureXhrSettings");baseURL&&loader.setBaseURL(baseURL),path&&loader.setPath(path),prefix&&loader.setPrefix(prefix);for(var i=0;i<textures.length;i++){var textureURL=textures[i].image,key="CMA"+this.multiKeyIndex+"_"+textureURL,image=new BinaryFile(loader,key,textureURL,textureXhrSettings);if(this.addToMultiFile(image),loader.addFile(image),textures[i].normalMap){var normalMap=new BinaryFile(loader,key,textures[i].normalMap,textureXhrSettings);normalMap.type="normalMap",image.setLink(normalMap),this.addToMultiFile(normalMap),loader.addFile(normalMap)}}loader.setBaseURL(currentBaseURL),loader.setPath(currentPath),loader.setPrefix(currentPrefix)}}},addToCache:function(){function compressionWarning(message){console.warn('Compressed Texture Invalid: "'+image.key+'". '+message)}if(this.isReadyToProcess()){var entry=this.config;if(entry.multiAtlasURL)this.addMultiToCache();else{var textureData,renderer=this.loader.systems.renderer,textureManager=this.loader.textureManager,image=this.files[0],json=this.files[1];if("PVR"===entry.type?textureData=PVRParser(image.data):"KTX"===entry.type&&((textureData=KTXParser(image.data))||compressionWarning("KTX file contains unsupported format.")),textureData&&!verifyCompressedTexture(textureData)&&(compressionWarning("Texture dimensions failed verification. Check the texture format specifications for "+entry.format+" 0x"+textureData.internalFormat.toString(16)+"."),textureData=null),textureData&&!renderer.supportsCompressedTexture(entry.format,textureData.internalFormat)&&(compressionWarning("Texture format "+entry.format+" with internal format "+textureData.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),textureData=null),textureData){textureData.format=renderer.getCompressedTextureName(entry.format,textureData.internalFormat);var atlasData=json&&json.data?json.data:null;textureManager.addCompressedTexture(image.key,textureData,atlasData)}}this.complete=!0}},addMultiToCache:function(){for(var textureData,entry=this.config,json=this.files[0],data=[],images=[],normalMaps=[],renderer=this.loader.systems.renderer,textureManager=this.loader.textureManager,i=1;i<this.files.length;i++){var file=this.files[i];if("normalMap"!==file.type)for(var pos=file.key.indexOf("_"),key=file.key.substr(pos+1),image=file.data,t=0;t<json.data.textures.length;t++){var item=json.data.textures[t];if(item.image===key){"PVR"===entry.type?textureData=PVRParser(image):"KTX"===entry.type&&(textureData=KTXParser(image)),textureData&&renderer.supportsCompressedTexture(entry.format,textureData.internalFormat)&&(textureData.format=renderer.getCompressedTextureName(entry.format,textureData.internalFormat),images.push(textureData),data.push(item),file.linkFile&&normalMaps.push(file.linkFile.data));break}}}0===normalMaps.length&&(normalMaps=void 0),textureManager.addAtlasJSONArray(this.key,images,data,normalMaps),this.complete=!0}});FileTypesManager.register("texture",(function(key,url,xhrSettings){var renderer=this.systems.renderer,AddEntry=function(loader,key2,urls,xhrSettings2){var entry={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(IsPlainObject(key2)){var config2=key2;key2=GetFastValue(config2,"key"),urls=GetFastValue(config2,"url"),xhrSettings2=GetFastValue(config2,"xhrSettings")}var matched=!1;for(var textureBaseFormat in urls)if(renderer.supportsCompressedTexture(textureBaseFormat)){var urlEntry=urls[textureBaseFormat];"string"==typeof urlEntry?entry.textureURL=urlEntry:entry=Merge(urlEntry,entry),entry.format=textureBaseFormat.toUpperCase(),matched=!0;break}if(matched)if("IMG"===entry.format){var file;file=entry.multiAtlasURL?new MultiAtlasFile(loader,key2,entry.multiAtlasURL,entry.multiPath,entry.multiBaseURL,xhrSettings2).files:entry.atlasURL?new AtlasJSONFile(loader,key2,entry.textureURL,entry.atlasURL,xhrSettings2).files:new ImageFile(loader,key2,entry.textureURL,xhrSettings2),loader.addFile(file)}else{var texture=new CompressedTextureFile(loader,key2,entry,xhrSettings2);loader.addFile(texture.files)}else console.warn("No supported compressed texture format or IMG fallback",key2)};if(Array.isArray(key))for(var i=0;i<key.length;i++)AddEntry(this,key[i]);else AddEntry(this,key,url,xhrSettings);return this})),module2.exports=CompressedTextureFile},87674:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),GetURL=__webpack_require__2(98356),IsPlainObject=__webpack_require__2(41212),FontFile=new Class({Extends:File,initialize:function FontFile2(loader,key,url,format,descriptors,xhrSettings){var extension="ttf";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),format=GetFastValue(config2,"format","truetype"),descriptors=GetFastValue(config2,"descriptors",null),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}else void 0===format&&(format="truetype");var fileConfig={type:"font",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig),this.data={format:format,descriptors:descriptors},this.state=CONST.FILE_POPULATED},onProcess:function(){var font;this.state=CONST.FILE_PROCESSING,this.src=GetURL(this,this.loader.baseURL);var key=this.key,source="url("+this.src+') format("'+this.data.format+'")';font=this.data.descriptors?new FontFace(key,source,this.data.descriptors):new FontFace(key,source);var _this=this;font.load().then((function(){document.fonts.add(font),document.body.classList.add("fonts-loaded"),_this.onProcessComplete()})).catch((function(){console.warn("Font failed to load",source),_this.onProcessComplete()}))}});FileTypesManager.register("font",(function(key,url,format,descriptors,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new FontFile(this,key[i]));else this.addFile(new FontFile(this,key,url,format,descriptors,xhrSettings));return this})),module2.exports=FontFile},47931:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),Shader=__webpack_require__2(73894),GLSLFile=new Class({Extends:File,initialize:function GLSLFile2(loader,key,url,shaderType,xhrSettings){var extension="glsl";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),shaderType=GetFastValue(config2,"shaderType","fragment"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}else void 0===shaderType&&(shaderType="fragment");var fileConfig={type:"glsl",cache:loader.cacheManager.shader,extension:extension,responseType:"text",key:key,url:url,config:{shaderType:shaderType},xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var data=this.data.split("\n"),block=this.extractBlock(data,0);if(block)for(;block;){var key=this.getShaderName(block.header),shaderType=this.getShaderType(block.header),uniforms=this.getShaderUniforms(block.header),shaderSrc=block.shader;if(this.cache.has(key)){var shader=this.cache.get(key);"fragment"===shaderType?shader.fragmentSrc=shaderSrc:shader.vertexSrc=shaderSrc,shader.uniforms||(shader.uniforms=uniforms)}else"fragment"===shaderType?this.cache.add(key,new Shader(key,shaderSrc,"",uniforms)):this.cache.add(key,new Shader(key,"",shaderSrc,uniforms));block=this.extractBlock(data,block.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new Shader(this.key,this.data)):this.cache.add(this.key,new Shader(this.key,"",this.data))},getShaderName:function(headerSource){for(var i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("name:"===line.substring(0,5))return line.substring(5).trim()}return this.key},getShaderType:function(headerSource){for(var i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("type:"===line.substring(0,5))return line.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(headerSource){for(var uniforms={},i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("uniform."===line.substring(0,8)){var pos=line.indexOf(":");if(pos){var key=line.substring(8,pos);try{uniforms[key]=JSON.parse(line.substring(pos+1))}catch(e){console.warn("Invalid uniform JSON: "+key)}}}}return uniforms},extractBlock:function(data,offset){for(var headerStart=-1,headerEnd=-1,blockEnd=-1,headerOpen=!1,captureSource=!1,headerSource=[],shaderSource=[],i=offset;i<data.length;i++){var line=data[i].trim();if("---"===line)if(-1===headerStart)headerStart=i,headerOpen=!0;else{if(!headerOpen){captureSource=!1;break}headerEnd=i,headerOpen=!1,captureSource=!0}else headerOpen?headerSource.push(line):captureSource&&(shaderSource.push(line),blockEnd=i)}return headerOpen||-1===headerEnd?null:{header:headerSource,shader:shaderSource.join("\n"),offset:blockEnd}}});FileTypesManager.register("glsl",(function(key,url,shaderType,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new GLSLFile(this,key[i]));else this.addFile(new GLSLFile(this,key,url,shaderType,xhrSettings));return this})),module2.exports=GLSLFile},89749:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(54899),File=__webpack_require__2(41299),GetFastValue=__webpack_require__2(95540),GetURL=__webpack_require__2(98356),IsPlainObject=__webpack_require__2(41212),HTML5AudioFile=new Class({Extends:File,initialize:function HTML5AudioFile2(loader,key,urlConfig,audioConfig){if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),audioConfig=GetFastValue(config2,"config",audioConfig)}var fileConfig={type:"audio",cache:loader.cacheManager.audio,extension:urlConfig.type,key:key,url:urlConfig.url,config:audioConfig};File.call(this,loader,fileConfig),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var i=0;i<this.data.length;i++){var audio=this.data[i];audio.oncanplaythrough=null,audio.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(event){var audio=event.target;audio.oncanplaythrough=null,audio.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(Events2.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var instances=this.config&&this.config.instances||1;this.filesTotal=instances,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<instances;i++){var audio=new Audio;audio.dataset||(audio.dataset={}),audio.dataset.name=this.key+("0"+i).slice(-2),audio.dataset.used="false",this.locked?audio.dataset.locked="true":(audio.dataset.locked="false",audio.preload="auto",audio.oncanplaythrough=this.onProgress.bind(this),audio.onerror=this.onError.bind(this)),this.data.push(audio)}for(i=0;i<this.data.length;i++)(audio=this.data[i]).src=GetURL(this,this.loader.baseURL),this.locked||audio.load();this.locked&&setTimeout(this.onLoad.bind(this))}});module2.exports=HTML5AudioFile},88470:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),HTMLFile=new Class({Extends:File,initialize:function HTMLFile2(loader,key,url,xhrSettings){var extension="html";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"text",cache:loader.cacheManager.html,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});FileTypesManager.register("html",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new HTMLFile(this,key[i]));else this.addFile(new HTMLFile(this,key,url,xhrSettings));return this})),module2.exports=HTMLFile},14643:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),HTMLTextureFile=new Class({Extends:File,initialize:function HTMLTextureFile2(loader,key,url,width,height,xhrSettings){void 0===width&&(width=512),void 0===height&&(height=512);var extension="html";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),width=GetFastValue(config2,"width",width),height=GetFastValue(config2,"height",height)}var fileConfig={type:"html",cache:loader.textureManager,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{width:width,height:height}};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING;var w=this.config.width,h=this.config.height,data=[];data.push('<svg width="'+w+'px" height="'+h+'px" viewBox="0 0 '+w+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),data.push('<foreignObject width="100%" height="100%">'),data.push('<body xmlns="http://www.w3.org/1999/xhtml">'),data.push(this.xhrLoader.responseText),data.push("</body>"),data.push("</foreignObject>"),data.push("</svg>");var svg=[data.join("\n")],_this=this;try{var blob=new window.Blob(svg,{type:"image/svg+xml;charset=utf-8"})}catch(e){return _this.state=CONST.FILE_ERRORED,void _this.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){File.revokeObjectURL(_this.data),_this.onProcessComplete()},this.data.onerror=function(){File.revokeObjectURL(_this.data),_this.onProcessError()},File.createObjectURL(this.data,blob,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});FileTypesManager.register("htmlTexture",(function(key,url,width,height,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new HTMLTextureFile(this,key[i]));else this.addFile(new HTMLTextureFile(this,key,url,width,height,xhrSettings));return this})),module2.exports=HTMLTextureFile},19550:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),GetURL=__webpack_require__2(98356),ImageFile=new Class({Extends:File,initialize:function ImageFile2(loader,key,url,xhrSettings,frameConfig){var normalMapURL,extension="png";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),normalMapURL=GetFastValue(config2,"normalMap"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),frameConfig=GetFastValue(config2,"frameConfig")}Array.isArray(url)&&(normalMapURL=url[1],url=url[0]);var fileConfig={type:"image",cache:loader.textureManager,extension:extension,responseType:"blob",key:key,url:url,xhrSettings:xhrSettings,config:frameConfig};if(File.call(this,loader,fileConfig),normalMapURL){var normalMap=new ImageFile2(loader,this.key,normalMapURL,xhrSettings,frameConfig);normalMap.type="normalMap",this.setLink(normalMap),loader.addFile(normalMap)}this.useImageElementLoad="HTMLImageElement"===loader.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var _this=this;this.data.onload=function(){File.revokeObjectURL(_this.data),_this.onProcessComplete()},this.data.onerror=function(){File.revokeObjectURL(_this.data),_this.onProcessError()},File.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var result=this.state;this.state=CONST.FILE_PROCESSING,result===CONST.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=CONST.FILE_LOADING,this.src=GetURL(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var _this=this;this.data.onload=function(){_this.state=CONST.FILE_LOADED,_this.loader.nextFile(_this,!0)},this.data.onerror=function(){_this.loader.nextFile(_this,!1)},this.data.src=this.src},addToCache:function(){var linkFile=this.linkFile;linkFile?linkFile.state>=CONST.FILE_COMPLETE&&("spritesheet"===linkFile.type?linkFile.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,linkFile.data,this.data):this.cache.addImage(this.key,this.data,linkFile.data)):this.cache.addImage(this.key,this.data)}});FileTypesManager.register("image",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new ImageFile(this,key[i]));else this.addFile(new ImageFile(this,key,url,xhrSettings));return this})),module2.exports=ImageFile},518:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),IsPlainObject=__webpack_require__2(41212),JSONFile=new Class({Extends:File,initialize:function JSONFile2(loader,key,url,xhrSettings,dataKey){var extension="json";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),dataKey=GetFastValue(config2,"dataKey",dataKey)}var fileConfig={type:"json",cache:loader.cacheManager.json,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:dataKey};File.call(this,loader,fileConfig),IsPlainObject(url)&&(this.data=dataKey?GetValue(url,dataKey):url,this.state=CONST.FILE_POPULATED)},onProcess:function(){if(this.state!==CONST.FILE_POPULATED){this.state=CONST.FILE_PROCESSING;try{var json=JSON.parse(this.xhrLoader.responseText)}catch(e){throw this.onProcessError(),e}var key=this.config;this.data="string"==typeof key?GetValue(json,key,json):json}this.onProcessComplete()}});FileTypesManager.register("json",(function(key,url,dataKey,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new JSONFile(this,key[i]));else this.addFile(new JSONFile(this,key,url,xhrSettings,dataKey));return this})),module2.exports=JSONFile},59327:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),JSONFile=__webpack_require__2(518),MultiFile=__webpack_require__2(26430),MultiAtlasFile=new Class({Extends:MultiFile,initialize:function MultiAtlasFile2(loader,key,atlasURL,path,baseURL,atlasXhrSettings,textureXhrSettings){if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),atlasURL=GetFastValue(config2,"url",!1)?GetFastValue(config2,"url"):GetFastValue(config2,"atlasURL"),atlasXhrSettings=GetFastValue(config2,"xhrSettings"),path=GetFastValue(config2,"path"),baseURL=GetFastValue(config2,"baseURL"),textureXhrSettings=GetFastValue(config2,"textureXhrSettings")}var data=new JSONFile(loader,key,atlasURL,atlasXhrSettings);MultiFile.call(this,loader,"multiatlas",key,[data]),this.config.path=path,this.config.baseURL=baseURL,this.config.textureXhrSettings=textureXhrSettings},onFileComplete:function(file){if(-1!==this.files.indexOf(file)&&(this.pending--,"json"===file.type&&file.data.hasOwnProperty("textures"))){var textures=file.data.textures,config2=this.config,loader=this.loader,currentBaseURL=loader.baseURL,currentPath=loader.path,currentPrefix=loader.prefix,baseURL=GetFastValue(config2,"baseURL",this.baseURL),path=GetFastValue(config2,"path",this.path),prefix=GetFastValue(config2,"prefix",this.prefix),textureXhrSettings=GetFastValue(config2,"textureXhrSettings");loader.setBaseURL(baseURL),loader.setPath(path),loader.setPrefix(prefix);for(var i=0;i<textures.length;i++){var textureURL=textures[i].image,key="MA"+this.multiKeyIndex+"_"+textureURL,image=new ImageFile(loader,key,textureURL,textureXhrSettings);if(this.addToMultiFile(image),loader.addFile(image),textures[i].normalMap){var normalMap=new ImageFile(loader,key,textures[i].normalMap,textureXhrSettings);normalMap.type="normalMap",image.setLink(normalMap),this.addToMultiFile(normalMap),loader.addFile(normalMap)}}loader.setBaseURL(currentBaseURL),loader.setPath(currentPath),loader.setPrefix(currentPrefix)}},addToCache:function(){if(this.isReadyToProcess()){for(var fileJSON=this.files[0],data=[],images=[],normalMaps=[],i=1;i<this.files.length;i++){var file=this.files[i];if("normalMap"!==file.type)for(var pos=file.key.indexOf("_"),key=file.key.substr(pos+1),image=file.data,t=0;t<fileJSON.data.textures.length;t++){var item=fileJSON.data.textures[t];if(item.image===key){images.push(image),data.push(item),file.linkFile&&normalMaps.push(file.linkFile.data);break}}}0===normalMaps.length&&(normalMaps=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,images,data,normalMaps),this.complete=!0}}});FileTypesManager.register("multiatlas",(function(key,atlasURL,path,baseURL,atlasXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new MultiAtlasFile(this,key[i]),this.addFile(multifile.files);else multifile=new MultiAtlasFile(this,key,atlasURL,path,baseURL,atlasXhrSettings),this.addFile(multifile.files);return this})),module2.exports=MultiAtlasFile},99297:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),MultiFile=__webpack_require__2(26430),ScriptFile=__webpack_require__2(34328),MultiScriptFile=new Class({Extends:MultiFile,initialize:function MultiScriptFile2(loader,key,url,xhrSettings){var extension="js",files=[];if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}Array.isArray(url)||(url=[url]);for(var i=0;i<url.length;i++){var scriptFile=new ScriptFile(loader,{key:key+"_"+i.toString(),url:url[i],extension:extension,xhrSettings:xhrSettings});scriptFile.onProcess=function(){this.onProcessComplete()},files.push(scriptFile)}MultiFile.call(this,loader,"scripts",key,files)},addToCache:function(){if(this.isReadyToProcess()){for(var i=0;i<this.files.length;i++){var file=this.files[i];file.data=document.createElement("script"),file.data.language="javascript",file.data.type="text/javascript",file.data.defer=!1,file.data.text=file.xhrLoader.responseText,document.head.appendChild(file.data)}this.complete=!0}}});FileTypesManager.register("scripts",(function(key,url,xhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new MultiScriptFile(this,key[i]),this.addFile(multifile.files);else multifile=new MultiScriptFile(this,key,url,xhrSettings),this.addFile(multifile.files);return this})),module2.exports=MultiScriptFile},41846:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),MultiFile=__webpack_require__2(26430),ParseObj=__webpack_require__2(85048),ParseObjMaterial=__webpack_require__2(61485),TextFile=__webpack_require__2(78776),OBJFile=new Class({Extends:MultiFile,initialize:function OBJFile2(loader,key,objURL,matURL,flipUV,xhrSettings){var obj,mat,cache=loader.cacheManager.obj;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),obj=new TextFile(loader,{key:key,type:"obj",cache:cache,url:GetFastValue(config2,"url"),extension:GetFastValue(config2,"extension","obj"),xhrSettings:GetFastValue(config2,"xhrSettings"),config:{flipUV:GetFastValue(config2,"flipUV",flipUV)}}),(matURL=GetFastValue(config2,"matURL"))&&(mat=new TextFile(loader,{key:key,type:"mat",cache:cache,url:matURL,extension:GetFastValue(config2,"matExtension","mat"),xhrSettings:GetFastValue(config2,"xhrSettings")}))}else obj=new TextFile(loader,{key:key,url:objURL,type:"obj",cache:cache,extension:"obj",xhrSettings:xhrSettings,config:{flipUV:flipUV}}),matURL&&(mat=new TextFile(loader,{key:key,url:matURL,type:"mat",cache:cache,extension:"mat",xhrSettings:xhrSettings}));MultiFile.call(this,loader,"obj",key,[obj,mat])},addToCache:function(){if(this.isReadyToProcess()){var obj=this.files[0],mat=this.files[1],objData=ParseObj(obj.data,obj.config.flipUV);mat&&(objData.materials=ParseObjMaterial(mat.data)),obj.cache.add(obj.key,objData),this.complete=!0}}});FileTypesManager.register("obj",(function(key,objURL,matURL,flipUVs,xhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new OBJFile(this,key[i]),this.addFile(multifile.files);else multifile=new OBJFile(this,key,objURL,matURL,flipUVs,xhrSettings),this.addFile(multifile.files);return this})),module2.exports=OBJFile},58610:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),FileTypesManager=__webpack_require__2(74099),JSONFile=__webpack_require__2(518),PackFile=new Class({Extends:JSONFile,initialize:function PackFile2(loader,key,url,xhrSettings,dataKey){JSONFile.call(this,loader,key,url,xhrSettings,dataKey),this.type="packfile"},onProcess:function(){if(this.state!==CONST.FILE_POPULATED&&(this.state=CONST.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var newData={};newData[this.config]=this.data,this.data=newData}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});FileTypesManager.register("pack",(function(key,url,dataKey,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new PackFile(this,key[i]));else this.addFile(new PackFile(this,key,url,xhrSettings,dataKey));return this})),module2.exports=PackFile},48988:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),PluginFile=new Class({Extends:File,initialize:function PluginFile2(loader,key,url,start,mapping,xhrSettings){var extension="js";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),start=GetFastValue(config2,"start"),mapping=GetFastValue(config2,"mapping")}var fileConfig={type:"plugin",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{start:start,mapping:mapping}};File.call(this,loader,fileConfig),"function"==typeof url&&(this.data=url,this.state=CONST.FILE_POPULATED)},onProcess:function(){var pluginManager=this.loader.systems.plugins,config2=this.config,start=GetFastValue(config2,"start",!1),mapping=GetFastValue(config2,"mapping",null);if(this.state===CONST.FILE_POPULATED)pluginManager.install(this.key,this.data,start,mapping);else{this.state=CONST.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var plugin=pluginManager.install(this.key,window[this.key],start,mapping);(start||mapping)&&(this.loader.systems[mapping]=plugin,this.loader.scene[mapping]=plugin)}this.onProcessComplete()}});FileTypesManager.register("plugin",(function(key,url,start,mapping,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new PluginFile(this,key[i]));else this.addFile(new PluginFile(this,key,url,start,mapping,xhrSettings));return this})),module2.exports=PluginFile},67397:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),SVGFile=new Class({Extends:File,initialize:function SVGFile2(loader,key,url,svgConfig,xhrSettings){var extension="svg";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),svgConfig=GetFastValue(config2,"svgConfig",{}),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"svg",cache:loader.textureManager,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{width:GetFastValue(svgConfig,"width"),height:GetFastValue(svgConfig,"height"),scale:GetFastValue(svgConfig,"scale")}};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING;var text=this.xhrLoader.responseText,svg=[text],width=this.config.width,height=this.config.height,scale=this.config.scale;resize:if(width&&height||scale){var svgXML=(new DOMParser).parseFromString(text,"text/xml").getElementsByTagName("svg")[0],hasViewBox=svgXML.hasAttribute("viewBox"),svgWidth=parseFloat(svgXML.getAttribute("width")),svgHeight=parseFloat(svgXML.getAttribute("height"));if(!hasViewBox&&svgWidth&&svgHeight)svgXML.setAttribute("viewBox","0  0 "+svgWidth+" "+svgHeight);else if(hasViewBox&&!svgWidth&&!svgHeight){var viewBox=svgXML.getAttribute("viewBox").split(/\s+|,/);svgWidth=viewBox[2],svgHeight=viewBox[3]}if(scale){if(!svgWidth||!svgHeight)break resize;width=svgWidth*scale,height=svgHeight*scale}svgXML.setAttribute("width",width.toString()+"px"),svgXML.setAttribute("height",height.toString()+"px"),svg=[(new XMLSerializer).serializeToString(svgXML)]}try{var blob=new window.Blob(svg,{type:"image/svg+xml;charset=utf-8"})}catch(e){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var _this=this,retry=!1;this.data.onload=function(){retry||File.revokeObjectURL(_this.data),_this.onProcessComplete()},this.data.onerror=function(){retry?_this.onProcessError():(retry=!0,File.revokeObjectURL(_this.data),_this.data.src="data:image/svg+xml,"+encodeURIComponent(svg.join("")))},File.createObjectURL(this.data,blob,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});FileTypesManager.register("svg",(function(key,url,svgConfig,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new SVGFile(this,key[i]));else this.addFile(new SVGFile(this,key,url,svgConfig,xhrSettings));return this})),module2.exports=SVGFile},88423:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),SceneFile=new Class({Extends:File,initialize:function SceneFile2(loader,key,url,xhrSettings){var extension="js";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"text",extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var code=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),eval2=eval;this.loader.sceneManager.add(this.key,eval2(code)),this.complete=!0}});FileTypesManager.register("sceneFile",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new SceneFile(this,key[i]));else this.addFile(new SceneFile(this,key,url,xhrSettings));return this})),module2.exports=SceneFile},56812:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),ScenePluginFile=new Class({Extends:File,initialize:function ScenePluginFile2(loader,key,url,systemKey,sceneKey,xhrSettings){var extension="js";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),systemKey=GetFastValue(config2,"systemKey"),sceneKey=GetFastValue(config2,"sceneKey")}var fileConfig={type:"scenePlugin",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{systemKey:systemKey,sceneKey:sceneKey}};File.call(this,loader,fileConfig),"function"==typeof url&&(this.data=url,this.state=CONST.FILE_POPULATED)},onProcess:function(){var pluginManager=this.loader.systems.plugins,config2=this.config,key=this.key,systemKey=GetFastValue(config2,"systemKey",key),sceneKey=GetFastValue(config2,"sceneKey",key);this.state===CONST.FILE_POPULATED?pluginManager.installScenePlugin(systemKey,this.data,sceneKey,this.loader.scene,!0):(this.state=CONST.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),pluginManager.installScenePlugin(systemKey,window[this.key],sceneKey,this.loader.scene,!0)),this.onProcessComplete()}});FileTypesManager.register("scenePlugin",(function(key,url,systemKey,sceneKey,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new ScenePluginFile(this,key[i]));else this.addFile(new ScenePluginFile(this,key,url,systemKey,sceneKey,xhrSettings));return this})),module2.exports=ScenePluginFile},34328:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),ScriptFile=new Class({Extends:File,initialize:function ScriptFile2(loader,key,url,type,xhrSettings){var extension="js";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),type=GetFastValue(config2,"type","script"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}else void 0===type&&(type="script");var fileConfig={type:type,cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});FileTypesManager.register("script",(function(key,url,type,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new ScriptFile(this,key[i]));else this.addFile(new ScriptFile(this,key,url,type,xhrSettings));return this})),module2.exports=ScriptFile},85035:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),FileTypesManager=__webpack_require__2(74099),ImageFile=__webpack_require__2(19550),SpriteSheetFile=new Class({Extends:ImageFile,initialize:function SpriteSheetFile2(loader,key,url,frameConfig,xhrSettings){ImageFile.call(this,loader,key,url,xhrSettings,frameConfig),this.type="spritesheet"},addToCache:function(){var linkFile=this.linkFile;linkFile?linkFile.state>=CONST.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,linkFile.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,linkFile.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});FileTypesManager.register("spritesheet",(function(key,url,frameConfig,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new SpriteSheetFile(this,key[i]));else this.addFile(new SpriteSheetFile(this,key,url,frameConfig,xhrSettings));return this})),module2.exports=SpriteSheetFile},78776:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),TextFile=new Class({Extends:File,initialize:function TextFile2(loader,key,url,xhrSettings){var type="text",extension="txt",cache=loader.cacheManager.text;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension),type=GetFastValue(config2,"type",type),cache=GetFastValue(config2,"cache",cache)}var fileConfig={type:type,cache:cache,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});FileTypesManager.register("text",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new TextFile(this,key[i]));else this.addFile(new TextFile(this,key,url,xhrSettings));return this})),module2.exports=TextFile},49477:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),TILEMAP_FORMATS=__webpack_require__2(80341),TilemapCSVFile=new Class({Extends:File,initialize:function TilemapCSVFile2(loader,key,url,xhrSettings){var extension="csv";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"tilemapCSV",cache:loader.cacheManager.tilemap,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig),this.tilemapFormat=TILEMAP_FORMATS.CSV},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var tiledata={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,tiledata)}});FileTypesManager.register("tilemapCSV",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new TilemapCSVFile(this,key[i]));else this.addFile(new TilemapCSVFile(this,key,url,xhrSettings));return this})),module2.exports=TilemapCSVFile},40807:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),JSONFile=__webpack_require__2(518),TILEMAP_FORMATS=__webpack_require__2(80341),TilemapImpactFile=new Class({Extends:JSONFile,initialize:function TilemapImpactFile2(loader,key,url,xhrSettings){JSONFile.call(this,loader,key,url,xhrSettings),this.type="tilemapJSON",this.cache=loader.cacheManager.tilemap},addToCache:function(){var tiledata={format:TILEMAP_FORMATS.WELTMEISTER,data:this.data};this.cache.add(this.key,tiledata)}});FileTypesManager.register("tilemapImpact",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new TilemapImpactFile(this,key[i]));else this.addFile(new TilemapImpactFile(this,key,url,xhrSettings));return this})),module2.exports=TilemapImpactFile},56775:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),JSONFile=__webpack_require__2(518),TILEMAP_FORMATS=__webpack_require__2(80341),TilemapJSONFile=new Class({Extends:JSONFile,initialize:function TilemapJSONFile2(loader,key,url,xhrSettings){JSONFile.call(this,loader,key,url,xhrSettings),this.type="tilemapJSON",this.cache=loader.cacheManager.tilemap},addToCache:function(){var tiledata={format:TILEMAP_FORMATS.TILED_JSON,data:this.data};this.cache.add(this.key,tiledata)}});FileTypesManager.register("tilemapTiledJSON",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new TilemapJSONFile(this,key[i]));else this.addFile(new TilemapJSONFile(this,key,url,xhrSettings));return this})),module2.exports=TilemapJSONFile},25771:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),ImageFile=__webpack_require__2(19550),IsPlainObject=__webpack_require__2(41212),MultiFile=__webpack_require__2(26430),TextFile=__webpack_require__2(78776),UnityAtlasFile=new Class({Extends:MultiFile,initialize:function UnityAtlasFile2(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var image,data;if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),image=new ImageFile(loader,{key:key,url:GetFastValue(config2,"textureURL"),extension:GetFastValue(config2,"textureExtension","png"),normalMap:GetFastValue(config2,"normalMap"),xhrSettings:GetFastValue(config2,"textureXhrSettings")}),data=new TextFile(loader,{key:key,url:GetFastValue(config2,"atlasURL"),extension:GetFastValue(config2,"atlasExtension","txt"),xhrSettings:GetFastValue(config2,"atlasXhrSettings")})}else image=new ImageFile(loader,key,textureURL,textureXhrSettings),data=new TextFile(loader,key,atlasURL,atlasXhrSettings);image.linkFile?MultiFile.call(this,loader,"unityatlas",key,[image,data,image.linkFile]):MultiFile.call(this,loader,"unityatlas",key,[image,data])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],text=this.files[1],normalMap=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(image.key,image.data,text.data,normalMap),this.complete=!0}}});FileTypesManager.register("unityAtlas",(function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){var multifile;if(Array.isArray(key))for(var i=0;i<key.length;i++)multifile=new UnityAtlasFile(this,key[i]),this.addFile(multifile.files);else multifile=new UnityAtlasFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(multifile.files);return this})),module2.exports=UnityAtlasFile},33720:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetURL=__webpack_require__2(98356),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),VideoFile=new Class({Extends:File,initialize:function VideoFile2(loader,key,url,noAudio){if(void 0===noAudio&&(noAudio=!1),IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url",[]),noAudio=GetFastValue(config2,"noAudio",!1)}var urlConfig=loader.systems.game.device.video.getVideoURL(url);urlConfig||console.warn("VideoFile: No supported format for "+key);var fileConfig={type:"video",cache:loader.cacheManager.video,extension:urlConfig.type,key:key,url:urlConfig.url,config:{noAudio:noAudio}};File.call(this,loader,fileConfig)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=GetURL(this,this.loader.baseURL),this.state=CONST.FILE_LOADED,this.loader.nextFile(this,!0)}});FileTypesManager.register("video",(function(key,urls,noAudio){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new VideoFile(this,key[i]));else this.addFile(new VideoFile(this,key,urls,noAudio));return this})),module2.exports=VideoFile},57318:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(23906),File=__webpack_require__2(41299),FileTypesManager=__webpack_require__2(74099),GetFastValue=__webpack_require__2(95540),IsPlainObject=__webpack_require__2(41212),ParseXML=__webpack_require__2(56836),XMLFile=new Class({Extends:File,initialize:function XMLFile2(loader,key,url,xhrSettings){var extension="xml";if(IsPlainObject(key)){var config2=key;key=GetFastValue(config2,"key"),url=GetFastValue(config2,"url"),xhrSettings=GetFastValue(config2,"xhrSettings"),extension=GetFastValue(config2,"extension",extension)}var fileConfig={type:"xml",cache:loader.cacheManager.xml,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings};File.call(this,loader,fileConfig)},onProcess:function(){this.state=CONST.FILE_PROCESSING,this.data=ParseXML(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});FileTypesManager.register("xml",(function(key,url,xhrSettings){if(Array.isArray(key))for(var i=0;i<key.length;i++)this.addFile(new XMLFile(this,key[i]));else this.addFile(new XMLFile(this,key,url,xhrSettings));return this})),module2.exports=XMLFile},64589:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AnimationJSONFile:__webpack_require__2(14135),AsepriteFile:__webpack_require__2(76272),AtlasJSONFile:__webpack_require__2(38734),AtlasXMLFile:__webpack_require__2(74599),AudioFile:__webpack_require__2(21097),AudioSpriteFile:__webpack_require__2(89524),BinaryFile:__webpack_require__2(85722),BitmapFontFile:__webpack_require__2(97025),CompressedTextureFile:__webpack_require__2(69559),CSSFile:__webpack_require__2(16024),FontFile:__webpack_require__2(87674),GLSLFile:__webpack_require__2(47931),HTML5AudioFile:__webpack_require__2(89749),HTMLFile:__webpack_require__2(88470),HTMLTextureFile:__webpack_require__2(14643),ImageFile:__webpack_require__2(19550),JSONFile:__webpack_require__2(518),MultiAtlasFile:__webpack_require__2(59327),MultiScriptFile:__webpack_require__2(99297),OBJFile:__webpack_require__2(41846),PackFile:__webpack_require__2(58610),PluginFile:__webpack_require__2(48988),SceneFile:__webpack_require__2(88423),ScenePluginFile:__webpack_require__2(56812),ScriptFile:__webpack_require__2(34328),SpriteSheetFile:__webpack_require__2(85035),SVGFile:__webpack_require__2(67397),TextFile:__webpack_require__2(78776),TilemapCSVFile:__webpack_require__2(49477),TilemapImpactFile:__webpack_require__2(40807),TilemapJSONFile:__webpack_require__2(56775),UnityAtlasFile:__webpack_require__2(25771),VideoFile:__webpack_require__2(33720),XMLFile:__webpack_require__2(57318)}},57777:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(23906),Extend=__webpack_require__2(79291),Loader={Events:__webpack_require__2(54899),FileTypes:__webpack_require__2(64589),File:__webpack_require__2(41299),FileTypesManager:__webpack_require__2(74099),GetURL:__webpack_require__2(98356),LoaderPlugin:__webpack_require__2(74261),MergeXHRSettings:__webpack_require__2(3374),MultiFile:__webpack_require__2(26430),XHRLoader:__webpack_require__2(84376),XHRSettings:__webpack_require__2(92638)};Loader=Extend(!1,Loader,CONST),module2.exports=Loader},53307:module2=>{module2.exports=function(values){for(var sum=0,i=0;i<values.length;i++)sum+=+values[i];return sum/values.length}},85710:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Factorial=__webpack_require__2(6411);module2.exports=function(n,i){return Factorial(n)/Factorial(i)/Factorial(n-i)}},30976:module2=>{module2.exports=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)}},87842:module2=>{module2.exports=function(t,p0,p1,p2,p3){var v0=.5*(p2-p0),v1=.5*(p3-p1),t2=t*t;return(2*p1-2*p2+v0+v1)*(t*t2)+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1}},26302:module2=>{module2.exports=function(value,place,base){void 0===place&&(place=0),void 0===base&&(base=10);var p=Math.pow(base,-place);return Math.ceil(value*p)/p}},45319:module2=>{module2.exports=function(value,min,max){return Math.max(min,Math.min(max,value))}},39506:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(36383);module2.exports=function(degrees){return degrees*CONST.DEG_TO_RAD}},61241:module2=>{module2.exports=function(a,b){return Math.abs(a-b)}},38857:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Matrix4=__webpack_require__2(37867),NOOP=__webpack_require__2(29747),tempMatrix=new Matrix4,Euler=new Class({initialize:function Euler2(x,y,z2,order){void 0===x&&(x=0),void 0===y&&(y=0),void 0===z2&&(z2=0),void 0===order&&(order=Euler2.DefaultOrder),this._x=x,this._y=y,this._z=z2,this._order=order,this.onChangeCallback=NOOP},x:{get:function(){return this._x},set:function(value){this._x=value,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(value){this._y=value,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(value){this._z=value,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(value){this._order=value,this.onChangeCallback(this)}},set:function(x,y,z2,order){return void 0===order&&(order=this._order),this._x=x,this._y=y,this._z=z2,this._order=order,this.onChangeCallback(this),this},copy:function(euler){return this.set(euler.x,euler.y,euler.z,euler.order)},setFromQuaternion:function(quaternion,order,update){return void 0===order&&(order=this._order),void 0===update&&(update=!1),tempMatrix.fromQuat(quaternion),this.setFromRotationMatrix(tempMatrix,order,update)},setFromRotationMatrix:function(matrix,order,update){void 0===order&&(order=this._order),void 0===update&&(update=!1);var elements=matrix.val,m11=elements[0],m12=elements[4],m13=elements[8],m21=elements[1],m22=elements[5],m23=elements[9],m31=elements[2],m32=elements[6],m33=elements[10],x=0,y=0,z2=0;switch(order){case"XYZ":y=Math.asin(Clamp(m13,-1,1)),Math.abs(m13)<.99999?(x=Math.atan2(-m23,m33),z2=Math.atan2(-m12,m11)):x=Math.atan2(m32,m22);break;case"YXZ":x=Math.asin(-Clamp(m23,-1,1)),Math.abs(m23)<.99999?(y=Math.atan2(m13,m33),z2=Math.atan2(m21,m22)):y=Math.atan2(-m31,m11);break;case"ZXY":x=Math.asin(Clamp(m32,-1,1)),Math.abs(m32)<.99999?(y=Math.atan2(-m31,m33),z2=Math.atan2(-m12,m22)):z2=Math.atan2(m21,m11);break;case"ZYX":y=Math.asin(-Clamp(m31,-1,1)),Math.abs(m31)<.99999?(x=Math.atan2(m32,m33),z2=Math.atan2(m21,m11)):z2=Math.atan2(-m12,m22);break;case"YZX":z2=Math.asin(Clamp(m21,-1,1)),Math.abs(m21)<.99999?(x=Math.atan2(-m23,m22),y=Math.atan2(-m31,m11)):y=Math.atan2(m13,m33);break;case"XZY":z2=Math.asin(-Clamp(m12,-1,1)),Math.abs(m12)<.99999?(x=Math.atan2(m32,m22),y=Math.atan2(m13,m11)):x=Math.atan2(-m23,m33)}return this._x=x,this._y=y,this._z=z2,this._order=order,update&&this.onChangeCallback(this),this}});Euler.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],Euler.DefaultOrder="XYZ",module2.exports=Euler},6411:module2=>{module2.exports=function(value){if(0===value)return 1;for(var res=value;--value;)res*=value;return res}},99472:module2=>{module2.exports=function(min,max){return Math.random()*(max-min)+min}},77623:module2=>{module2.exports=function(value,place,base){void 0===place&&(place=0),void 0===base&&(base=10);var p=Math.pow(base,-place);return Math.floor(value*p)/p}},62945:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319);module2.exports=function(percent,min,max){return(max-min)*(percent=Clamp(percent,0,1))+min}},38265:module2=>{module2.exports=function(distance,time){return distance/time/1e3}},78702:module2=>{module2.exports=function(value){return value==parseFloat(value)?!(value%2):void 0}},94883:module2=>{module2.exports=function(value){return value===parseFloat(value)?!(value%2):void 0}},28915:module2=>{module2.exports=function(p0,p1,t){return(p1-p0)*t+p0}},94908:module2=>{module2.exports=function(vector1,vector2,t){return void 0===t&&(t=0),vector1.clone().lerp(vector2,t)}},94434:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Matrix3=new(__webpack_require__2(83419))({initialize:function Matrix32(m){this.val=new Float32Array(9),m?this.copy(m):this.identity()},clone:function(){return new Matrix3(this)},set:function(src2){return this.copy(src2)},copy:function(src2){var out=this.val,a=src2.val;return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],this},fromMat4:function(m){var a=m.val,out=this.val;return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],this},fromArray:function(a){var out=this.val;return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],this},identity:function(){var out=this.val;return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,this},transpose:function(){var a=this.val,a01=a[1],a02=a[2],a12=a[5];return a[1]=a[3],a[2]=a[6],a[3]=a01,a[5]=a[7],a[6]=a02,a[7]=a12,this},invert:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,a[0]=b01*det,a[1]=(-a22*a01+a02*a21)*det,a[2]=(a12*a01-a02*a11)*det,a[3]=b11*det,a[4]=(a22*a00-a02*a20)*det,a[5]=(-a12*a00+a02*a10)*det,a[6]=b21*det,a[7]=(-a21*a00+a01*a20)*det,a[8]=(a11*a00-a01*a10)*det,this):null},adjoint:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a[0]=a11*a22-a12*a21,a[1]=a02*a21-a01*a22,a[2]=a01*a12-a02*a11,a[3]=a12*a20-a10*a22,a[4]=a00*a22-a02*a20,a[5]=a02*a10-a00*a12,a[6]=a10*a21-a11*a20,a[7]=a01*a20-a00*a21,a[8]=a00*a11-a01*a10,this},determinant:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)},multiply:function(src2){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b=src2.val,b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return a[0]=b00*a00+b01*a10+b02*a20,a[1]=b00*a01+b01*a11+b02*a21,a[2]=b00*a02+b01*a12+b02*a22,a[3]=b10*a00+b11*a10+b12*a20,a[4]=b10*a01+b11*a11+b12*a21,a[5]=b10*a02+b11*a12+b12*a22,a[6]=b20*a00+b21*a10+b22*a20,a[7]=b20*a01+b21*a11+b22*a21,a[8]=b20*a02+b21*a12+b22*a22,this},translate:function(v){var a=this.val,x=v.x,y=v.y;return a[6]=x*a[0]+y*a[3]+a[6],a[7]=x*a[1]+y*a[4]+a[7],a[8]=x*a[2]+y*a[5]+a[8],this},rotate:function(rad){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],s=Math.sin(rad),c=Math.cos(rad);return a[0]=c*a00+s*a10,a[1]=c*a01+s*a11,a[2]=c*a02+s*a12,a[3]=c*a10-s*a00,a[4]=c*a11-s*a01,a[5]=c*a12-s*a02,this},scale:function(v){var a=this.val,x=v.x,y=v.y;return a[0]=x*a[0],a[1]=x*a[1],a[2]=x*a[2],a[3]=y*a[3],a[4]=y*a[4],a[5]=y*a[5],this},fromQuat:function(q){var x=q.x,y=q.y,z2=q.z,w=q.w,x2=x+x,y2=y+y,z22=z2+z2,xx=x*x2,xy=x*y2,xz=x*z22,yy=y*y2,yz=y*z22,zz=z2*z22,wx=w*x2,wy=w*y2,wz=w*z22,out=this.val;return out[0]=1-(yy+zz),out[3]=xy+wz,out[6]=xz-wy,out[1]=xy-wz,out[4]=1-(xx+zz),out[7]=yz+wx,out[2]=xz+wy,out[5]=yz-wx,out[8]=1-(xx+yy),this},normalFromMat4:function(m){var a=m.val,out=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,this):null}});module2.exports=Matrix3},37867:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Vector3=__webpack_require__2(25836),Matrix4=new Class({initialize:function Matrix42(m){this.val=new Float32Array(16),m?this.copy(m):this.identity()},clone:function(){return new Matrix4(this)},set:function(src2){return this.copy(src2)},setValues:function(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=this.val;return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,this},copy:function(src2){var a=src2.val;return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},fromArray:function(a){return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(position2,scale,rotation){var rm=_tempMat1.fromQuat(rotation).val,sx=scale.x,sy=scale.y,sz=scale.z;return this.setValues(rm[0]*sx,rm[1]*sx,rm[2]*sx,0,rm[4]*sy,rm[5]*sy,rm[6]*sy,0,rm[8]*sz,rm[9]*sz,rm[10]*sz,0,position2.x,position2.y,position2.z,1)},xyz:function(x,y,z2){this.identity();var out=this.val;return out[12]=x,out[13]=y,out[14]=z2,this},scaling:function(x,y,z2){this.zero();var out=this.val;return out[0]=x,out[5]=y,out[10]=z2,out[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var a=this.val,a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=a01,a[6]=a[9],a[7]=a[13],a[8]=a02,a[9]=a12,a[11]=a[14],a[12]=a03,a[13]=a13,a[14]=a23,this},getInverse:function(m){return this.copy(m),this.invert()},invert:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,this.setValues((a11*b11-a12*b10+a13*b09)*det,(a02*b10-a01*b11-a03*b09)*det,(a31*b05-a32*b04+a33*b03)*det,(a22*b04-a21*b05-a23*b03)*det,(a12*b08-a10*b11-a13*b07)*det,(a00*b11-a02*b08+a03*b07)*det,(a32*b02-a30*b05-a33*b01)*det,(a20*b05-a22*b02+a23*b01)*det,(a10*b10-a11*b08+a13*b06)*det,(a01*b08-a00*b10-a03*b06)*det,(a30*b04-a31*b02+a33*b00)*det,(a21*b02-a20*b04-a23*b00)*det,(a11*b07-a10*b09-a12*b06)*det,(a00*b09-a01*b07+a02*b06)*det,(a31*b01-a30*b03-a32*b00)*det,(a20*b03-a21*b01+a22*b00)*det)):this},adjoint:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return this.setValues(a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11))},determinant:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)},multiply:function(src2){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b=src2.val,b0=b[0],b1=b[1],b2=b[2],b3=b[3];return a[0]=b0*a00+b1*a10+b2*a20+b3*a30,a[1]=b0*a01+b1*a11+b2*a21+b3*a31,a[2]=b0*a02+b1*a12+b2*a22+b3*a32,a[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],a[4]=b0*a00+b1*a10+b2*a20+b3*a30,a[5]=b0*a01+b1*a11+b2*a21+b3*a31,a[6]=b0*a02+b1*a12+b2*a22+b3*a32,a[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],a[8]=b0*a00+b1*a10+b2*a20+b3*a30,a[9]=b0*a01+b1*a11+b2*a21+b3*a31,a[10]=b0*a02+b1*a12+b2*a22+b3*a32,a[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],a[12]=b0*a00+b1*a10+b2*a20+b3*a30,a[13]=b0*a01+b1*a11+b2*a21+b3*a31,a[14]=b0*a02+b1*a12+b2*a22+b3*a32,a[15]=b0*a03+b1*a13+b2*a23+b3*a33,this},multiplyLocal:function(src2){var a=this.val,b=src2.val;return this.setValues(a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12],a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13],a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14],a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15],a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12],a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13],a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14],a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15],a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12],a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13],a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14],a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15],a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12],a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13],a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14],a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15])},premultiply:function(m){return this.multiplyMatrices(m,this)},multiplyMatrices:function(a,b){var am=a.val,bm=b.val,a11=am[0],a12=am[4],a13=am[8],a14=am[12],a21=am[1],a22=am[5],a23=am[9],a24=am[13],a31=am[2],a32=am[6],a33=am[10],a34=am[14],a41=am[3],a42=am[7],a43=am[11],a44=am[15],b11=bm[0],b12=bm[4],b13=bm[8],b14=bm[12],b21=bm[1],b22=bm[5],b23=bm[9],b24=bm[13],b31=bm[2],b32=bm[6],b33=bm[10],b34=bm[14],b41=bm[3],b42=bm[7],b43=bm[11],b44=bm[15];return this.setValues(a11*b11+a12*b21+a13*b31+a14*b41,a21*b11+a22*b21+a23*b31+a24*b41,a31*b11+a32*b21+a33*b31+a34*b41,a41*b11+a42*b21+a43*b31+a44*b41,a11*b12+a12*b22+a13*b32+a14*b42,a21*b12+a22*b22+a23*b32+a24*b42,a31*b12+a32*b22+a33*b32+a34*b42,a41*b12+a42*b22+a43*b32+a44*b42,a11*b13+a12*b23+a13*b33+a14*b43,a21*b13+a22*b23+a23*b33+a24*b43,a31*b13+a32*b23+a33*b33+a34*b43,a41*b13+a42*b23+a43*b33+a44*b43,a11*b14+a12*b24+a13*b34+a14*b44,a21*b14+a22*b24+a23*b34+a24*b44,a31*b14+a32*b24+a33*b34+a34*b44,a41*b14+a42*b24+a43*b34+a44*b44)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(x,y,z2){var a=this.val;return a[12]=a[0]*x+a[4]*y+a[8]*z2+a[12],a[13]=a[1]*x+a[5]*y+a[9]*z2+a[13],a[14]=a[2]*x+a[6]*y+a[10]*z2+a[14],a[15]=a[3]*x+a[7]*y+a[11]*z2+a[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(x,y,z2){var a=this.val;return a[0]=a[0]*x,a[1]=a[1]*x,a[2]=a[2]*x,a[3]=a[3]*x,a[4]=a[4]*y,a[5]=a[5]*y,a[6]=a[6]*y,a[7]=a[7]*y,a[8]=a[8]*z2,a[9]=a[9]*z2,a[10]=a[10]*z2,a[11]=a[11]*z2,this},makeRotationAxis:function(axis,angle){var c=Math.cos(angle),s=Math.sin(angle),t=1-c,x=axis.x,y=axis.y,z2=axis.z,tx=t*x,ty=t*y;return this.setValues(tx*x+c,tx*y-s*z2,tx*z2+s*y,0,tx*y+s*z2,ty*y+c,ty*z2-s*x,0,tx*z2-s*y,ty*z2+s*x,t*z2*z2+c,0,0,0,0,1)},rotate:function(rad,axis){var a=this.val,x=axis.x,y=axis.y,z2=axis.z,len=Math.sqrt(x*x+y*y+z2*z2);if(Math.abs(len)<1e-6)return this;x*=len=1/len,y*=len,z2*=len;var s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=x*x*t+c,b01=y*x*t+z2*s,b02=z2*x*t-y*s,b10=x*y*t-z2*s,b11=y*y*t+c,b12=z2*y*t+x*s,b20=x*z2*t+y*s,b21=y*z2*t-x*s,b22=z2*z2*t+c;return this.setValues(a00*b00+a10*b01+a20*b02,a01*b00+a11*b01+a21*b02,a02*b00+a12*b01+a22*b02,a03*b00+a13*b01+a23*b02,a00*b10+a10*b11+a20*b12,a01*b10+a11*b11+a21*b12,a02*b10+a12*b11+a22*b12,a03*b10+a13*b11+a23*b12,a00*b20+a10*b21+a20*b22,a01*b20+a11*b21+a21*b22,a02*b20+a12*b21+a22*b22,a03*b20+a13*b21+a23*b22,a30,a31,a32,a33)},rotateX:function(rad){var a=this.val,s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a[4]=a10*c+a20*s,a[5]=a11*c+a21*s,a[6]=a12*c+a22*s,a[7]=a13*c+a23*s,a[8]=a20*c-a10*s,a[9]=a21*c-a11*s,a[10]=a22*c-a12*s,a[11]=a23*c-a13*s,this},rotateY:function(rad){var a=this.val,s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a[0]=a00*c-a20*s,a[1]=a01*c-a21*s,a[2]=a02*c-a22*s,a[3]=a03*c-a23*s,a[8]=a00*s+a20*c,a[9]=a01*s+a21*c,a[10]=a02*s+a22*c,a[11]=a03*s+a23*c,this},rotateZ:function(rad){var a=this.val,s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a[0]=a00*c+a10*s,a[1]=a01*c+a11*s,a[2]=a02*c+a12*s,a[3]=a03*c+a13*s,a[4]=a10*c-a00*s,a[5]=a11*c-a01*s,a[6]=a12*c-a02*s,a[7]=a13*c-a03*s,this},fromRotationTranslation:function(q,v){var x=q.x,y=q.y,z2=q.z,w=q.w,x2=x+x,y2=y+y,z22=z2+z2,xx=x*x2,xy=x*y2,xz=x*z22,yy=y*y2,yz=y*z22,zz=z2*z22,wx=w*x2,wy=w*y2,wz=w*z22;return this.setValues(1-(yy+zz),xy+wz,xz-wy,0,xy-wz,1-(xx+zz),yz+wx,0,xz+wy,yz-wx,1-(xx+yy),0,v.x,v.y,v.z,1)},fromQuat:function(q){var x=q.x,y=q.y,z2=q.z,w=q.w,x2=x+x,y2=y+y,z22=z2+z2,xx=x*x2,xy=x*y2,xz=x*z22,yy=y*y2,yz=y*z22,zz=z2*z22,wx=w*x2,wy=w*y2,wz=w*z22;return this.setValues(1-(yy+zz),xy+wz,xz-wy,0,xy-wz,1-(xx+zz),yz+wx,0,xz+wy,yz-wx,1-(xx+yy),0,0,0,0,1)},frustum:function(left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return this.setValues(2*near*rl,0,0,0,0,2*near*tb,0,0,(right+left)*rl,(top+bottom)*tb,(far+near)*nf,-1,0,0,far*near*2*nf,0)},perspective:function(fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return this.setValues(f/aspect,0,0,0,0,f,0,0,0,0,(far+near)*nf,-1,0,0,2*far*near*nf,0)},perspectiveLH:function(width,height,near,far){return this.setValues(2*near/width,0,0,0,0,2*near/height,0,0,0,0,-far/(near-far),1,0,0,near*far/(near-far),0)},ortho:function(left,right,bottom,top,near,far){var lr=left-right,bt=bottom-top,nf=near-far;return lr=0===lr?lr:1/lr,bt=0===bt?bt:1/bt,nf=0===nf?nf:1/nf,this.setValues(-2*lr,0,0,0,0,-2*bt,0,0,0,0,2*nf,0,(left+right)*lr,(top+bottom)*bt,(far+near)*nf,1)},lookAtRH:function(eye,target2,up){var m=this.val;return _z.subVectors(eye,target2),0===_z.lengthSq()&&(_z.z=1),_z.normalize(),_x.crossVectors(up,_z),0===_x.lengthSq()&&(1===Math.abs(up.z)?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(up,_z)),_x.normalize(),_y.crossVectors(_z,_x),m[0]=_x.x,m[1]=_x.y,m[2]=_x.z,m[4]=_y.x,m[5]=_y.y,m[6]=_y.z,m[8]=_z.x,m[9]=_z.y,m[10]=_z.z,this},lookAt:function(eye,center,up){var eyex=eye.x,eyey=eye.y,eyez=eye.z,upx=up.x,upy=up.y,upz=up.z,centerx=center.x,centery=center.y,centerz=center.z;if(Math.abs(eyex-centerx)<1e-6&&Math.abs(eyey-centery)<1e-6&&Math.abs(eyez-centerz)<1e-6)return this.identity();var z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),x0=upy*(z2*=len)-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0;(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0);var y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0;return(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),this.setValues(x0,y0,z0,0,x1,y1,z1,0,x2,y2,z2,0,-(x0*eyex+x1*eyey+x2*eyez),-(y0*eyex+y1*eyey+y2*eyez),-(z0*eyex+z1*eyey+z2*eyez),1)},yawPitchRoll:function(yaw,pitch,roll){this.zero(),_tempMat1.zero(),_tempMat2.zero();var m0=this.val,m1=_tempMat1.val,m2=_tempMat2.val,s=Math.sin(roll),c=Math.cos(roll);return m0[10]=1,m0[15]=1,m0[0]=c,m0[1]=s,m0[4]=-s,m0[5]=c,s=Math.sin(pitch),c=Math.cos(pitch),m1[0]=1,m1[15]=1,m1[5]=c,m1[10]=c,m1[9]=-s,m1[6]=s,s=Math.sin(yaw),c=Math.cos(yaw),m2[5]=1,m2[15]=1,m2[0]=c,m2[2]=-s,m2[8]=s,m2[10]=c,this.multiplyLocal(_tempMat1),this.multiplyLocal(_tempMat2),this},setWorldMatrix:function(rotation,position2,scale,viewMatrix,projectionMatrix){return this.yawPitchRoll(rotation.y,rotation.x,rotation.z),_tempMat1.scaling(scale.x,scale.y,scale.z),_tempMat2.xyz(position2.x,position2.y,position2.z),this.multiplyLocal(_tempMat1),this.multiplyLocal(_tempMat2),viewMatrix&&this.multiplyLocal(viewMatrix),projectionMatrix&&this.multiplyLocal(projectionMatrix),this},multiplyToMat4:function(src2,out){var a=this.val,b=src2.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=b[0],b01=b[1],b02=b[2],b03=b[3],b10=b[4],b11=b[5],b12=b[6],b13=b[7],b20=b[8],b21=b[9],b22=b[10],b23=b[11],b30=b[12],b31=b[13],b32=b[14],b33=b[15];return out.setValues(b00*a00+b01*a10+b02*a20+b03*a30,b01*a01+b01*a11+b02*a21+b03*a31,b02*a02+b01*a12+b02*a22+b03*a32,b03*a03+b01*a13+b02*a23+b03*a33,b10*a00+b11*a10+b12*a20+b13*a30,b10*a01+b11*a11+b12*a21+b13*a31,b10*a02+b11*a12+b12*a22+b13*a32,b10*a03+b11*a13+b12*a23+b13*a33,b20*a00+b21*a10+b22*a20+b23*a30,b20*a01+b21*a11+b22*a21+b23*a31,b20*a02+b21*a12+b22*a22+b23*a32,b20*a03+b21*a13+b22*a23+b23*a33,b30*a00+b31*a10+b32*a20+b33*a30,b30*a01+b31*a11+b32*a21+b33*a31,b30*a02+b31*a12+b32*a22+b33*a32,b30*a03+b31*a13+b32*a23+b33*a33)},fromRotationXYTranslation:function(rotation,position2,translateFirst){var x=position2.x,y=position2.y,z2=position2.z,sx=Math.sin(rotation.x),cx=Math.cos(rotation.x),sy=Math.sin(rotation.y),cy=Math.cos(rotation.y),a30=x,a31=y,a32=z2,b21=-sx,c01=0-b21*sy,c02=0-cx*sy,c21=b21*cy,c22=cx*cy;return translateFirst||(a30=cy*x+sy*z2,a31=c01*x+cx*y+c21*z2,a32=c02*x+sx*y+c22*z2),this.setValues(cy,c01,c02,0,0,cx,sx,0,sy,c21,c22,0,a30,a31,a32,1)},getMaxScaleOnAxis:function(){var m=this.val,scaleXSq=m[0]*m[0]+m[1]*m[1]+m[2]*m[2],scaleYSq=m[4]*m[4]+m[5]*m[5]+m[6]*m[6],scaleZSq=m[8]*m[8]+m[9]*m[9]+m[10]*m[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq))}}),_tempMat1=new Matrix4,_tempMat2=new Matrix4,_x=new Vector3,_y=new Vector3,_z=new Vector3;module2.exports=Matrix4},86883:module2=>{module2.exports=function(value,amount,max){return Math.min(value+amount,max)}},50040:module2=>{module2.exports=function(values){var valuesNum=values.length;if(0===valuesNum)return 0;values.sort((function(a,b){return a-b}));var halfIndex=Math.floor(valuesNum/2);return valuesNum%2==0?(values[halfIndex]+values[halfIndex-1])/2:values[halfIndex]}},37204:module2=>{module2.exports=function(value,amount,min){return Math.max(value-amount,min)}},65201:module2=>{module2.exports=function(value,min,max,upperMax){void 0===max&&(max=min+1);var percentage=(value-min)/(max-min);return percentage>1?void 0!==upperMax?(percentage=(upperMax-value)/(upperMax-max))<0&&(percentage=0):percentage=1:percentage<0&&(percentage=0),percentage}},15746:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Matrix3=__webpack_require__2(94434),NOOP=__webpack_require__2(29747),Vector3=__webpack_require__2(25836),siNext=new Int8Array([1,2,0]),tmp=new Float32Array([0,0,0]),xUnitVec3=new Vector3(1,0,0),yUnitVec3=new Vector3(0,1,0),tmpvec=new Vector3,tmpMat3=new Matrix3,Quaternion=new Class({initialize:function Quaternion2(x,y,z2,w){this.onChangeCallback=NOOP,this.set(x,y,z2,w)},x:{get:function(){return this._x},set:function(value){this._x=value,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(value){this._y=value,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(value){this._z=value,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(value){this._w=value,this.onChangeCallback(this)}},copy:function(src2){return this.set(src2)},set:function(x,y,z2,w,update){return void 0===update&&(update=!0),"object"==typeof x?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=y||0,this._z=z2||0,this._w=w||0),update&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(scale){return this._x*=scale,this._y*=scale,this._z*=scale,this._w*=scale,this.onChangeCallback(this),this},length:function(){var x=this.x,y=this.y,z2=this.z,w=this.w;return Math.sqrt(x*x+y*y+z2*z2+w*w)},lengthSq:function(){var x=this.x,y=this.y,z2=this.z,w=this.w;return x*x+y*y+z2*z2+w*w},normalize:function(){var x=this.x,y=this.y,z2=this.z,w=this.w,len=x*x+y*y+z2*z2+w*w;return len>0&&(len=1/Math.sqrt(len),this._x=x*len,this._y=y*len,this._z=z2*len,this._w=w*len),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z,aw=this.w;return this.set(ax+t*(v.x-ax),ay+t*(v.y-ay),az+t*(v.z-az),aw+t*(v.w-aw))},rotationTo:function(a,b){var dot=a.x*b.x+a.y*b.y+a.z*b.z;return dot<-.999999?(tmpvec.copy(xUnitVec3).cross(a).length()<1e-6&&tmpvec.copy(yUnitVec3).cross(a),tmpvec.normalize(),this.setAxisAngle(tmpvec,Math.PI)):dot>.999999?this.set(0,0,0,1):(tmpvec.copy(a).cross(b),this._x=tmpvec.x,this._y=tmpvec.y,this._z=tmpvec.z,this._w=1+dot,this.normalize())},setAxes:function(view,right,up){var m=tmpMat3.val;return m[0]=right.x,m[3]=right.y,m[6]=right.z,m[1]=up.x,m[4]=up.y,m[7]=up.z,m[2]=-view.x,m[5]=-view.y,m[8]=-view.z,this.fromMat3(tmpMat3).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(axis,rad){rad*=.5;var s=Math.sin(rad);return this.set(s*axis.x,s*axis.y,s*axis.z,Math.cos(rad))},multiply:function(b){var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z,bw=b.w;return this.set(ax*bw+aw*bx+ay*bz-az*by,ay*bw+aw*by+az*bx-ax*bz,az*bw+aw*bz+ax*by-ay*bx,aw*bw-ax*bx-ay*by-az*bz)},slerp:function(b,t){var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z,bw=b.w,cosom=ax*bx+ay*by+az*bz+aw*bw;cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw);var scale0=1-t,scale1=t;if(1-cosom>1e-6){var omega=Math.acos(cosom),sinom=Math.sin(omega);scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom}return this.set(scale0*ax+scale1*bx,scale0*ay+scale1*by,scale0*az+scale1*bz,scale0*aw+scale1*bw)},invert:function(){var a0=this.x,a1=this.y,a2=this.z,a3=this.w,dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return this.set(-a0*invDot,-a1*invDot,-a2*invDot,a3*invDot)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=Math.sin(rad),bw=Math.cos(rad);return this.set(ax*bw+aw*bx,ay*bw+az*bx,az*bw-ay*bx,aw*bw-ax*bx)},rotateY:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,by=Math.sin(rad),bw=Math.cos(rad);return this.set(ax*bw-az*by,ay*bw+aw*by,az*bw+ax*by,aw*bw-ay*by)},rotateZ:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bz=Math.sin(rad),bw=Math.cos(rad);return this.set(ax*bw+ay*bz,ay*bw-ax*bz,az*bw+aw*bz,aw*bw-az*bz)},calculateW:function(){var x=this.x,y=this.y,z2=this.z;return this.w=-Math.sqrt(1-x*x-y*y-z2*z2),this},setFromEuler:function(euler,update){var x=euler.x/2,y=euler.y/2,z2=euler.z/2,c1=Math.cos(x),c2=Math.cos(y),c3=Math.cos(z2),s1=Math.sin(x),s2=Math.sin(y),s3=Math.sin(z2);switch(euler.order){case"XYZ":this.set(s1*c2*c3+c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3-s1*s2*s3,update);break;case"YXZ":this.set(s1*c2*c3+c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3+s1*s2*s3,update);break;case"ZXY":this.set(s1*c2*c3-c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3-s1*s2*s3,update);break;case"ZYX":this.set(s1*c2*c3-c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3+s1*s2*s3,update);break;case"YZX":this.set(s1*c2*c3+c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3-s1*s2*s3,update);break;case"XZY":this.set(s1*c2*c3-c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3+s1*s2*s3,update)}return this},setFromRotationMatrix:function(mat4){var s,m=mat4.val,m11=m[0],m12=m[4],m13=m[8],m21=m[1],m22=m[5],m23=m[9],m31=m[2],m32=m[6],m33=m[10],trace=m11+m22+m33;return trace>0?(s=.5/Math.sqrt(trace+1),this.set((m32-m23)*s,(m13-m31)*s,(m21-m12)*s,.25/s)):m11>m22&&m11>m33?(s=2*Math.sqrt(1+m11-m22-m33),this.set(.25*s,(m12+m21)/s,(m13+m31)/s,(m32-m23)/s)):m22>m33?(s=2*Math.sqrt(1+m22-m11-m33),this.set((m12+m21)/s,.25*s,(m23+m32)/s,(m13-m31)/s)):(s=2*Math.sqrt(1+m33-m11-m22),this.set((m13+m31)/s,(m23+m32)/s,.25*s,(m21-m12)/s)),this},fromMat3:function(mat){var fRoot,m=mat.val,fTrace=m[0]+m[4]+m[8];if(fTrace>0)fRoot=Math.sqrt(fTrace+1),this.w=.5*fRoot,fRoot=.5/fRoot,this._x=(m[7]-m[5])*fRoot,this._y=(m[2]-m[6])*fRoot,this._z=(m[3]-m[1])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=siNext[i],k=siNext[j];fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),tmp[i]=.5*fRoot,fRoot=.5/fRoot,tmp[j]=(m[3*j+i]+m[3*i+j])*fRoot,tmp[k]=(m[3*k+i]+m[3*i+k])*fRoot,this._x=tmp[0],this._y=tmp[1],this._z=tmp[2],this._w=(m[3*k+j]-m[3*j+k])*fRoot}return this.onChangeCallback(this),this}});module2.exports=Quaternion},43396:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(36383);module2.exports=function(radians){return radians*CONST.RAD_TO_DEG}},74362:module2=>{module2.exports=function(vector,scale){void 0===scale&&(scale=1);var r=2*Math.random()*Math.PI;return vector.x=Math.cos(r)*scale,vector.y=Math.sin(r)*scale,vector}},60706:module2=>{module2.exports=function(vec3,radius){void 0===radius&&(radius=1);var r=2*Math.random()*Math.PI,z2=2*Math.random()-1,zScale=Math.sqrt(1-z2*z2)*radius;return vec3.x=Math.cos(r)*zScale,vec3.y=Math.sin(r)*zScale,vec3.z=z2*radius,vec3}},67421:module2=>{module2.exports=function(vec4,scale){return void 0===scale&&(scale=1),vec4.x=(2*Math.random()-1)*scale,vec4.y=(2*Math.random()-1)*scale,vec4.z=(2*Math.random()-1)*scale,vec4.w=(2*Math.random()-1)*scale,vec4}},36305:module2=>{module2.exports=function(point,angle){var x=point.x,y=point.y;return point.x=x*Math.cos(angle)-y*Math.sin(angle),point.y=x*Math.sin(angle)+y*Math.cos(angle),point}},11520:module2=>{module2.exports=function(point,x,y,angle){var c=Math.cos(angle),s=Math.sin(angle),tx=point.x-x,ty=point.y-y;return point.x=tx*c-ty*s+x,point.y=tx*s+ty*c+y,point}},1163:module2=>{module2.exports=function(point,x,y,angle,distance){var t=angle+Math.atan2(point.y-y,point.x-x);return point.x=x+distance*Math.cos(t),point.y=y+distance*Math.sin(t),point}},70336:module2=>{module2.exports=function(point,x,y,angle,distance){return point.x=x+distance*Math.cos(angle),point.y=y+distance*Math.sin(angle),point}},72678:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector3=__webpack_require__2(25836),Matrix4=__webpack_require__2(37867),Quaternion=__webpack_require__2(15746),tmpMat4=new Matrix4,tmpQuat=new Quaternion,tmpVec3=new Vector3;module2.exports=function(vec,axis,radians){return tmpQuat.setAxisAngle(axis,radians),tmpMat4.fromRotationTranslation(tmpQuat,tmpVec3.set(0,0,0)),vec.transformMat4(tmpMat4)}},2284:module2=>{module2.exports=function(value){return value>0?Math.ceil(value):Math.floor(value)}},41013:module2=>{module2.exports=function(value,place,base){void 0===place&&(place=0),void 0===base&&(base=10);var p=Math.pow(base,-place);return Math.round(value*p)/p}},16922:module2=>{module2.exports=function(length,sinAmp,cosAmp,frequency){void 0===sinAmp&&(sinAmp=1),void 0===cosAmp&&(cosAmp=1),void 0===frequency&&(frequency=1),frequency*=Math.PI/length;for(var cos=[],sin=[],c=0;c<length;c++)sinAmp+=(cosAmp-=sinAmp*frequency)*frequency,cos[c]=cosAmp,sin[c]=sinAmp;return{sin:sin,cos:cos,length:length}}},7602:module2=>{module2.exports=function(x,min,max){return x<=min?0:x>=max?1:(x=(x-min)/(max-min))*x*(3-2*x)}},54261:module2=>{module2.exports=function(x,min,max){return(x=Math.max(0,Math.min(1,(x-min)/(max-min))))*x*x*(x*(6*x-15)+10)}},44408:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(index,width,height,out){void 0===out&&(out=new Vector2);var x=0,y=0;return index>0&&index<=width*height&&(x=index>width-1?index-(y=Math.floor(index/width))*width:index),out.set(x,y)}},85955:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(x,y,positionX,positionY,rotation,scaleX,scaleY,output){void 0===output&&(output=new Vector2);var radianSin=Math.sin(rotation),radianCos=Math.cos(rotation),a=radianCos*scaleX,b=radianSin*scaleX,c=-radianSin*scaleY,d=radianCos*scaleY,id=1/(a*d+c*-b);return output.x=d*id*x+-c*id*y+(positionY*c-positionX*d)*id,output.y=a*id*y+-b*id*x+(-positionY*a+positionX*b)*id,output}},26099:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FuzzyEqual=__webpack_require__2(43855),Vector2=new Class({initialize:function Vector22(x,y){this.x=0,this.y=0,"object"==typeof x?(this.x=x.x||0,this.y=x.y||0):(void 0===y&&(y=x),this.x=x||0,this.y=y||0)},clone:function(){return new Vector2(this.x,this.y)},copy:function(src2){return this.x=src2.x||0,this.y=src2.y||0,this},setFromObject:function(obj){return this.x=obj.x||0,this.y=obj.y||0,this},set:function(x,y){return void 0===y&&(y=x),this.x=x,this.y=y,this},setTo:function(x,y){return this.set(x,y)},setToPolar:function(azimuth,radius){return null==radius&&(radius=1),this.x=Math.cos(azimuth)*radius,this.y=Math.sin(azimuth)*radius,this},equals:function(v){return this.x===v.x&&this.y===v.y},fuzzyEquals:function(v,epsilon){return FuzzyEqual(this.x,v.x,epsilon)&&FuzzyEqual(this.y,v.y,epsilon)},angle:function(){var angle=Math.atan2(this.y,this.x);return angle<0&&(angle+=2*Math.PI),angle},setAngle:function(angle){return this.setToPolar(angle,this.length())},add:function(src2){return this.x+=src2.x,this.y+=src2.y,this},subtract:function(src2){return this.x-=src2.x,this.y-=src2.y,this},multiply:function(src2){return this.x*=src2.x,this.y*=src2.y,this},scale:function(value){return isFinite(value)?(this.x*=value,this.y*=value):(this.x=0,this.y=0),this},divide:function(src2){return this.x/=src2.x,this.y/=src2.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(src2){var dx=src2.x-this.x,dy=src2.y-this.y;return Math.sqrt(dx*dx+dy*dy)},distanceSq:function(src2){var dx=src2.x-this.x,dy=src2.y-this.y;return dx*dx+dy*dy},length:function(){var x=this.x,y=this.y;return Math.sqrt(x*x+y*y)},setLength:function(length){return this.normalize().scale(length)},lengthSq:function(){var x=this.x,y=this.y;return x*x+y*y},normalize:function(){var x=this.x,y=this.y,len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len),this},normalizeRightHand:function(){var x=this.x;return this.x=-1*this.y,this.y=x,this},normalizeLeftHand:function(){var x=this.x;return this.x=this.y,this.y=-1*x,this},dot:function(src2){return this.x*src2.x+this.y*src2.y},cross:function(src2){return this.x*src2.y-this.y*src2.x},lerp:function(src2,t){void 0===t&&(t=0);var ax=this.x,ay=this.y;return this.x=ax+t*(src2.x-ax),this.y=ay+t*(src2.y-ay),this},transformMat3:function(mat){var x=this.x,y=this.y,m=mat.val;return this.x=m[0]*x+m[3]*y+m[6],this.y=m[1]*x+m[4]*y+m[7],this},transformMat4:function(mat){var x=this.x,y=this.y,m=mat.val;return this.x=m[0]*x+m[4]*y+m[12],this.y=m[1]*x+m[5]*y+m[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(max){var len=this.length();return len&&len>max&&this.scale(max/len),this},reflect:function(normal){return normal=normal.clone().normalize(),this.subtract(normal.scale(2*this.dot(normal)))},mirror:function(axis){return this.reflect(axis).negate()},rotate:function(delta){var cos=Math.cos(delta),sin=Math.sin(delta);return this.set(cos*this.x-sin*this.y,sin*this.x+cos*this.y)},project:function(src2){var scalar=this.dot(src2)/src2.dot(src2);return this.copy(src2).scale(scalar)}});Vector2.ZERO=new Vector2,Vector2.RIGHT=new Vector2(1,0),Vector2.LEFT=new Vector2(-1,0),Vector2.UP=new Vector2(0,-1),Vector2.DOWN=new Vector2(0,1),Vector2.ONE=new Vector2(1,1),module2.exports=Vector2},25836:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector3=new(__webpack_require__2(83419))({initialize:function Vector32(x,y,z2){this.x=0,this.y=0,this.z=0,"object"==typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0):(this.x=x||0,this.y=y||0,this.z=z2||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(v){return this.x=Math.min(this.x,v.x),this.y=Math.min(this.y,v.y),this.z=Math.min(this.z,v.z),this},max:function(v){return this.x=Math.max(this.x,v.x),this.y=Math.max(this.y,v.y),this.z=Math.max(this.z,v.z),this},clone:function(){return new Vector3(this.x,this.y,this.z)},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},crossVectors:function(a,b){var ax=a.x,ay=a.y,az=a.z,bx=b.x,by=b.y,bz=b.z;return this.x=ay*bz-az*by,this.y=az*bx-ax*bz,this.z=ax*by-ay*bx,this},equals:function(v){return this.x===v.x&&this.y===v.y&&this.z===v.z},copy:function(src2){return this.x=src2.x,this.y=src2.y,this.z=src2.z||0,this},set:function(x,y,z2){return"object"==typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0):(this.x=x||0,this.y=y||0,this.z=z2||0),this},setFromMatrixPosition:function(m){return this.fromArray(m.val,12)},setFromMatrixColumn:function(mat4,index){return this.fromArray(mat4.val,4*index)},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this.z=array[offset+2],this},add:function(v){return this.x+=v.x,this.y+=v.y,this.z+=v.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(v,scale){return this.x+=v.x*scale,this.y+=v.y*scale,this.z+=v.z*scale||0,this},subtract:function(v){return this.x-=v.x,this.y-=v.y,this.z-=v.z||0,this},multiply:function(v){return this.x*=v.x,this.y*=v.y,this.z*=v.z||1,this},scale:function(scale){return isFinite(scale)?(this.x*=scale,this.y*=scale,this.z*=scale):(this.x=0,this.y=0,this.z=0),this},divide:function(v){return this.x/=v.x,this.y/=v.y,this.z/=v.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0;return Math.sqrt(dx*dx+dy*dy+dz*dz)},distanceSq:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0;return dx*dx+dy*dy+dz*dz},length:function(){var x=this.x,y=this.y,z2=this.z;return Math.sqrt(x*x+y*y+z2*z2)},lengthSq:function(){var x=this.x,y=this.y,z2=this.z;return x*x+y*y+z2*z2},normalize:function(){var x=this.x,y=this.y,z2=this.z,len=x*x+y*y+z2*z2;return len>0&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len,this.z=z2*len),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z},cross:function(v){var ax=this.x,ay=this.y,az=this.z,bx=v.x,by=v.y,bz=v.z;return this.x=ay*bz-az*by,this.y=az*bx-ax*bz,this.z=ax*by-ay*bx,this},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z;return this.x=ax+t*(v.x-ax),this.y=ay+t*(v.y-ay),this.z=az+t*(v.z-az),this},applyMatrix3:function(mat3){var x=this.x,y=this.y,z2=this.z,m=mat3.val;return this.x=m[0]*x+m[3]*y+m[6]*z2,this.y=m[1]*x+m[4]*y+m[7]*z2,this.z=m[2]*x+m[5]*y+m[8]*z2,this},applyMatrix4:function(mat4){var x=this.x,y=this.y,z2=this.z,m=mat4.val,w=1/(m[3]*x+m[7]*y+m[11]*z2+m[15]);return this.x=(m[0]*x+m[4]*y+m[8]*z2+m[12])*w,this.y=(m[1]*x+m[5]*y+m[9]*z2+m[13])*w,this.z=(m[2]*x+m[6]*y+m[10]*z2+m[14])*w,this},transformMat3:function(mat){var x=this.x,y=this.y,z2=this.z,m=mat.val;return this.x=x*m[0]+y*m[3]+z2*m[6],this.y=x*m[1]+y*m[4]+z2*m[7],this.z=x*m[2]+y*m[5]+z2*m[8],this},transformMat4:function(mat){var x=this.x,y=this.y,z2=this.z,m=mat.val;return this.x=m[0]*x+m[4]*y+m[8]*z2+m[12],this.y=m[1]*x+m[5]*y+m[9]*z2+m[13],this.z=m[2]*x+m[6]*y+m[10]*z2+m[14],this},transformCoordinates:function(mat){var x=this.x,y=this.y,z2=this.z,m=mat.val,tx=x*m[0]+y*m[4]+z2*m[8]+m[12],ty=x*m[1]+y*m[5]+z2*m[9]+m[13],tz=x*m[2]+y*m[6]+z2*m[10]+m[14],tw=x*m[3]+y*m[7]+z2*m[11]+m[15];return this.x=tx/tw,this.y=ty/tw,this.z=tz/tw,this},transformQuat:function(q){var x=this.x,y=this.y,z2=this.z,qx=q.x,qy=q.y,qz=q.z,qw=q.w,ix=qw*x+qy*z2-qz*y,iy=qw*y+qz*x-qx*z2,iz=qw*z2+qx*y-qy*x,iw=-qx*x-qy*y-qz*z2;return this.x=ix*qw+iw*-qx+iy*-qz-iz*-qy,this.y=iy*qw+iw*-qy+iz*-qx-ix*-qz,this.z=iz*qw+iw*-qz+ix*-qy-iy*-qx,this},project:function(mat){var x=this.x,y=this.y,z2=this.z,m=mat.val,a00=m[0],a01=m[1],a02=m[2],a03=m[3],a10=m[4],a11=m[5],a12=m[6],a13=m[7],a20=m[8],a21=m[9],a22=m[10],a23=m[11],a30=m[12],a31=m[13],a32=m[14],lw=1/(x*a03+y*a13+z2*a23+m[15]);return this.x=(x*a00+y*a10+z2*a20+a30)*lw,this.y=(x*a01+y*a11+z2*a21+a31)*lw,this.z=(x*a02+y*a12+z2*a22+a32)*lw,this},projectViewMatrix:function(viewMatrix,projectionMatrix){return this.applyMatrix4(viewMatrix).applyMatrix4(projectionMatrix)},unprojectViewMatrix:function(projectionMatrix,worldMatrix){return this.applyMatrix4(projectionMatrix).applyMatrix4(worldMatrix)},unproject:function(viewport,invProjectionView){var viewX=viewport.x,viewY=viewport.y,viewWidth=viewport.z,viewHeight=viewport.w,x=this.x-viewX,y=viewHeight-this.y-1-viewY,z2=this.z;return this.x=2*x/viewWidth-1,this.y=2*y/viewHeight-1,this.z=2*z2-1,this.project(invProjectionView)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});Vector3.ZERO=new Vector3,Vector3.RIGHT=new Vector3(1,0,0),Vector3.LEFT=new Vector3(-1,0,0),Vector3.UP=new Vector3(0,-1,0),Vector3.DOWN=new Vector3(0,1,0),Vector3.FORWARD=new Vector3(0,0,1),Vector3.BACK=new Vector3(0,0,-1),Vector3.ONE=new Vector3(1,1,1),module2.exports=Vector3},61369:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector4=new(__webpack_require__2(83419))({initialize:function Vector42(x,y,z2,w){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z2||0,this.w=w||0)},clone:function(){return new Vector4(this.x,this.y,this.z,this.w)},copy:function(src2){return this.x=src2.x,this.y=src2.y,this.z=src2.z||0,this.w=src2.w||0,this},equals:function(v){return this.x===v.x&&this.y===v.y&&this.z===v.z&&this.w===v.w},set:function(x,y,z2,w){return"object"==typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z2||0,this.w=w||0),this},add:function(v){return this.x+=v.x,this.y+=v.y,this.z+=v.z||0,this.w+=v.w||0,this},subtract:function(v){return this.x-=v.x,this.y-=v.y,this.z-=v.z||0,this.w-=v.w||0,this},scale:function(scale){return this.x*=scale,this.y*=scale,this.z*=scale,this.w*=scale,this},length:function(){var x=this.x,y=this.y,z2=this.z,w=this.w;return Math.sqrt(x*x+y*y+z2*z2+w*w)},lengthSq:function(){var x=this.x,y=this.y,z2=this.z,w=this.w;return x*x+y*y+z2*z2+w*w},normalize:function(){var x=this.x,y=this.y,z2=this.z,w=this.w,len=x*x+y*y+z2*z2+w*w;return len>0&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len,this.z=z2*len,this.w=w*len),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z,aw=this.w;return this.x=ax+t*(v.x-ax),this.y=ay+t*(v.y-ay),this.z=az+t*(v.z-az),this.w=aw+t*(v.w-aw),this},multiply:function(v){return this.x*=v.x,this.y*=v.y,this.z*=v.z||1,this.w*=v.w||1,this},divide:function(v){return this.x/=v.x,this.y/=v.y,this.z/=v.z||1,this.w/=v.w||1,this},distance:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0,dw=v.w-this.w||0;return Math.sqrt(dx*dx+dy*dy+dz*dz+dw*dw)},distanceSq:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0,dw=v.w-this.w||0;return dx*dx+dy*dy+dz*dz+dw*dw},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(mat){var x=this.x,y=this.y,z2=this.z,w=this.w,m=mat.val;return this.x=m[0]*x+m[4]*y+m[8]*z2+m[12]*w,this.y=m[1]*x+m[5]*y+m[9]*z2+m[13]*w,this.z=m[2]*x+m[6]*y+m[10]*z2+m[14]*w,this.w=m[3]*x+m[7]*y+m[11]*z2+m[15]*w,this},transformQuat:function(q){var x=this.x,y=this.y,z2=this.z,qx=q.x,qy=q.y,qz=q.z,qw=q.w,ix=qw*x+qy*z2-qz*y,iy=qw*y+qz*x-qx*z2,iz=qw*z2+qx*y-qy*x,iw=-qx*x-qy*y-qz*z2;return this.x=ix*qw+iw*-qx+iy*-qz-iz*-qy,this.y=iy*qw+iw*-qy+iz*-qx-ix*-qz,this.z=iz*qw+iw*-qz+ix*-qy-iy*-qx,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});Vector4.prototype.sub=Vector4.prototype.subtract,Vector4.prototype.mul=Vector4.prototype.multiply,Vector4.prototype.div=Vector4.prototype.divide,Vector4.prototype.dist=Vector4.prototype.distance,Vector4.prototype.distSq=Vector4.prototype.distanceSq,Vector4.prototype.len=Vector4.prototype.length,Vector4.prototype.lenSq=Vector4.prototype.lengthSq,module2.exports=Vector4},60417:module2=>{module2.exports=function(a,b,tolerance){return Math.abs(a-b)<=tolerance}},15994:module2=>{module2.exports=function(value,min,max){var range=max-min;return min+((value-min)%range+range)%range}},31040:module2=>{module2.exports=function(x1,y1,x2,y2){return Math.atan2(y2-y1,x2-x1)}},55495:module2=>{module2.exports=function(point1,point2){return Math.atan2(point2.y-point1.y,point2.x-point1.x)}},128:module2=>{module2.exports=function(point1,point2){return Math.atan2(point2.x-point1.x,point2.y-point1.y)}},41273:module2=>{module2.exports=function(x1,y1,x2,y2){return Math.atan2(x2-x1,y2-y1)}},1432:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(36383);module2.exports=function(angle){return angle>Math.PI&&(angle-=CONST.PI2),Math.abs(((angle+CONST.TAU)%CONST.PI2-CONST.PI2)%CONST.PI2)}},12407:module2=>{module2.exports=function(angle){return(angle%=2*Math.PI)>=0?angle:angle+2*Math.PI}},53993:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       @samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FloatBetween=__webpack_require__2(99472);module2.exports=function(){return FloatBetween(-Math.PI,Math.PI)}},86564:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       @samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FloatBetween=__webpack_require__2(99472);module2.exports=function(){return FloatBetween(-180,180)}},90154:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Normalize=__webpack_require__2(12407);module2.exports=function(angle){return Normalize(angle+Math.PI)}},48736:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST=__webpack_require__2(36383);module2.exports=function(currentAngle,targetAngle,lerp){return void 0===lerp&&(lerp=.05),currentAngle===targetAngle||(Math.abs(targetAngle-currentAngle)<=lerp||Math.abs(targetAngle-currentAngle)>=MATH_CONST.PI2-lerp?currentAngle=targetAngle:(Math.abs(targetAngle-currentAngle)>Math.PI&&(targetAngle<currentAngle?targetAngle+=MATH_CONST.PI2:targetAngle-=MATH_CONST.PI2),targetAngle>currentAngle?currentAngle+=lerp:targetAngle<currentAngle&&(currentAngle-=lerp))),currentAngle}},61430:module2=>{module2.exports=function(angle1,angle2){var difference=angle2-angle1;return 0===difference?0:difference-360*Math.floor((difference- -180)/360)}},86554:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MathWrap=__webpack_require__2(15994);module2.exports=function(angle){return MathWrap(angle,-Math.PI,Math.PI)}},30954:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Wrap=__webpack_require__2(15994);module2.exports=function(angle){return Wrap(angle,-180,180)}},25588:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Between:__webpack_require__2(31040),BetweenPoints:__webpack_require__2(55495),BetweenPointsY:__webpack_require__2(128),BetweenY:__webpack_require__2(41273),CounterClockwise:__webpack_require__2(1432),Normalize:__webpack_require__2(12407),Random:__webpack_require__2(53993),RandomDegrees:__webpack_require__2(86564),Reverse:__webpack_require__2(90154),RotateTo:__webpack_require__2(48736),ShortestBetween:__webpack_require__2(61430),Wrap:__webpack_require__2(86554),WrapDegrees:__webpack_require__2(30954)}},36383:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH_CONST={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};module2.exports=MATH_CONST},20339:module2=>{module2.exports=function(x1,y1,x2,y2){var dx=x1-x2,dy=y1-y2;return Math.sqrt(dx*dx+dy*dy)}},52816:module2=>{module2.exports=function(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}},64559:module2=>{module2.exports=function(a,b){var dx=a.x-b.x,dy=a.y-b.y;return dx*dx+dy*dy}},82340:module2=>{module2.exports=function(x1,y1,x2,y2){return Math.max(Math.abs(x1-x2),Math.abs(y1-y2))}},14390:module2=>{module2.exports=function(x1,y1,x2,y2,pow){return void 0===pow&&(pow=2),Math.sqrt(Math.pow(x2-x1,pow)+Math.pow(y2-y1,pow))}},2243:module2=>{module2.exports=function(x1,y1,x2,y2){return Math.abs(x1-x2)+Math.abs(y1-y2)}},89774:module2=>{module2.exports=function(x1,y1,x2,y2){var dx=x1-x2,dy=y1-y2;return dx*dx+dy*dy}},50994:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Between:__webpack_require__2(20339),BetweenPoints:__webpack_require__2(52816),BetweenPointsSquared:__webpack_require__2(64559),Chebyshev:__webpack_require__2(82340),Power:__webpack_require__2(14390),Snake:__webpack_require__2(2243),Squared:__webpack_require__2(89774)}},62640:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Back=__webpack_require__2(54178),Bounce=__webpack_require__2(41521),Circular=__webpack_require__2(79980),Cubic=__webpack_require__2(85433),Elastic=__webpack_require__2(99140),Expo=__webpack_require__2(48857),Linear=__webpack_require__2(81596),Quadratic=__webpack_require__2(59133),Quartic=__webpack_require__2(98516),Quintic=__webpack_require__2(35248),Sine=__webpack_require__2(82500),Stepped=__webpack_require__2(49752);module2.exports={Power0:Linear,Power1:Quadratic.Out,Power2:Cubic.Out,Power3:Quartic.Out,Power4:Quintic.Out,Linear:Linear,Quad:Quadratic.Out,Cubic:Cubic.Out,Quart:Quartic.Out,Quint:Quintic.Out,Sine:Sine.Out,Expo:Expo.Out,Circ:Circular.Out,Elastic:Elastic.Out,Back:Back.Out,Bounce:Bounce.Out,Stepped:Stepped,"Quad.easeIn":Quadratic.In,"Cubic.easeIn":Cubic.In,"Quart.easeIn":Quartic.In,"Quint.easeIn":Quintic.In,"Sine.easeIn":Sine.In,"Expo.easeIn":Expo.In,"Circ.easeIn":Circular.In,"Elastic.easeIn":Elastic.In,"Back.easeIn":Back.In,"Bounce.easeIn":Bounce.In,"Quad.easeOut":Quadratic.Out,"Cubic.easeOut":Cubic.Out,"Quart.easeOut":Quartic.Out,"Quint.easeOut":Quintic.Out,"Sine.easeOut":Sine.Out,"Expo.easeOut":Expo.Out,"Circ.easeOut":Circular.Out,"Elastic.easeOut":Elastic.Out,"Back.easeOut":Back.Out,"Bounce.easeOut":Bounce.Out,"Quad.easeInOut":Quadratic.InOut,"Cubic.easeInOut":Cubic.InOut,"Quart.easeInOut":Quartic.InOut,"Quint.easeInOut":Quintic.InOut,"Sine.easeInOut":Sine.InOut,"Expo.easeInOut":Expo.InOut,"Circ.easeInOut":Circular.InOut,"Elastic.easeInOut":Elastic.InOut,"Back.easeInOut":Back.InOut,"Bounce.easeInOut":Bounce.InOut}},1639:module2=>{module2.exports=function(v,overshoot){return void 0===overshoot&&(overshoot=1.70158),v*v*((overshoot+1)*v-overshoot)}},50099:module2=>{module2.exports=function(v,overshoot){void 0===overshoot&&(overshoot=1.70158);var s=1.525*overshoot;return(v*=2)<1?v*v*((s+1)*v-s)*.5:.5*((v-=2)*v*((s+1)*v+s)+2)}},41286:module2=>{module2.exports=function(v,overshoot){return void 0===overshoot&&(overshoot=1.70158),--v*v*((overshoot+1)*v+overshoot)+1}},54178:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(1639),Out:__webpack_require__2(41286),InOut:__webpack_require__2(50099)}},59590:module2=>{module2.exports=function(v){return(v=1-v)<1/2.75?1-7.5625*v*v:v<2/2.75?1-(7.5625*(v-=1.5/2.75)*v+.75):v<2.5/2.75?1-(7.5625*(v-=2.25/2.75)*v+.9375):1-(7.5625*(v-=2.625/2.75)*v+.984375)}},41788:module2=>{module2.exports=function(v){var reverse=!1;return v<.5?(v=1-2*v,reverse=!0):v=2*v-1,v<1/2.75?v*=7.5625*v:v=v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375,reverse?.5*(1-v):.5*v+.5}},69905:module2=>{module2.exports=function(v){return v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}},41521:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(59590),Out:__webpack_require__2(69905),InOut:__webpack_require__2(41788)}},91861:module2=>{module2.exports=function(v){return 1-Math.sqrt(1-v*v)}},4177:module2=>{module2.exports=function(v){return(v*=2)<1?-.5*(Math.sqrt(1-v*v)-1):.5*(Math.sqrt(1-(v-=2)*v)+1)}},57512:module2=>{module2.exports=function(v){return Math.sqrt(1- --v*v)}},79980:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(91861),Out:__webpack_require__2(57512),InOut:__webpack_require__2(4177)}},51150:module2=>{module2.exports=function(v){return v*v*v}},82820:module2=>{module2.exports=function(v){return(v*=2)<1?.5*v*v*v:.5*((v-=2)*v*v+2)}},35033:module2=>{module2.exports=function(v){return--v*v*v+1}},85433:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(51150),Out:__webpack_require__2(35033),InOut:__webpack_require__2(82820)}},69965:module2=>{module2.exports=function(v,amplitude,period){if(void 0===amplitude&&(amplitude=.1),void 0===period&&(period=.1),0===v)return 0;if(1===v)return 1;var s=period/4;return amplitude<1?amplitude=1:s=period*Math.asin(1/amplitude)/(2*Math.PI),-amplitude*Math.pow(2,10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period)}},50665:module2=>{module2.exports=function(v,amplitude,period){if(void 0===amplitude&&(amplitude=.1),void 0===period&&(period=.1),0===v)return 0;if(1===v)return 1;var s=period/4;return amplitude<1?amplitude=1:s=period*Math.asin(1/amplitude)/(2*Math.PI),(v*=2)<1?amplitude*Math.pow(2,10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period)*-.5:amplitude*Math.pow(2,-10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period)*.5+1}},7744:module2=>{module2.exports=function(v,amplitude,period){if(void 0===amplitude&&(amplitude=.1),void 0===period&&(period=.1),0===v)return 0;if(1===v)return 1;var s=period/4;return amplitude<1?amplitude=1:s=period*Math.asin(1/amplitude)/(2*Math.PI),amplitude*Math.pow(2,-10*v)*Math.sin((v-s)*(2*Math.PI)/period)+1}},99140:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(69965),Out:__webpack_require__2(7744),InOut:__webpack_require__2(50665)}},24590:module2=>{module2.exports=function(v){return Math.pow(2,10*(v-1))-.001}},87844:module2=>{module2.exports=function(v){return(v*=2)<1?.5*Math.pow(2,10*(v-1)):.5*(2-Math.pow(2,-10*(v-1)))}},89433:module2=>{module2.exports=function(v){return 1-Math.pow(2,-10*v)}},48857:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(24590),Out:__webpack_require__2(89433),InOut:__webpack_require__2(87844)}},48820:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Back:__webpack_require__2(54178),Bounce:__webpack_require__2(41521),Circular:__webpack_require__2(79980),Cubic:__webpack_require__2(85433),Elastic:__webpack_require__2(99140),Expo:__webpack_require__2(48857),Linear:__webpack_require__2(81596),Quadratic:__webpack_require__2(59133),Quartic:__webpack_require__2(98516),Quintic:__webpack_require__2(35248),Sine:__webpack_require__2(82500),Stepped:__webpack_require__2(49752)}},7147:module2=>{module2.exports=function(v){return v}},81596:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports=__webpack_require__2(7147)},34826:module2=>{module2.exports=function(v){return v*v}},20544:module2=>{module2.exports=function(v){return(v*=2)<1?.5*v*v:-.5*(--v*(v-2)-1)}},92029:module2=>{module2.exports=function(v){return v*(2-v)}},59133:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(34826),Out:__webpack_require__2(92029),InOut:__webpack_require__2(20544)}},64413:module2=>{module2.exports=function(v){return v*v*v*v}},78137:module2=>{module2.exports=function(v){return(v*=2)<1?.5*v*v*v*v:-.5*((v-=2)*v*v*v-2)}},45840:module2=>{module2.exports=function(v){return 1- --v*v*v*v}},98516:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(64413),Out:__webpack_require__2(45840),InOut:__webpack_require__2(78137)}},87745:module2=>{module2.exports=function(v){return v*v*v*v*v}},16509:module2=>{module2.exports=function(v){return(v*=2)<1?.5*v*v*v*v*v:.5*((v-=2)*v*v*v*v+2)}},17868:module2=>{module2.exports=function(v){return--v*v*v*v*v+1}},35248:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(87745),Out:__webpack_require__2(17868),InOut:__webpack_require__2(16509)}},80461:module2=>{module2.exports=function(v){return 0===v?0:1===v?1:1-Math.cos(v*Math.PI/2)}},34025:module2=>{module2.exports=function(v){return 0===v?0:1===v?1:.5*(1-Math.cos(Math.PI*v))}},52768:module2=>{module2.exports=function(v){return 0===v?0:1===v?1:Math.sin(v*Math.PI/2)}},82500:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={In:__webpack_require__2(80461),Out:__webpack_require__2(52768),InOut:__webpack_require__2(34025)}},72251:module2=>{module2.exports=function(v,steps){return void 0===steps&&(steps=1),v<=0?0:v>=1?1:1/steps*(1+(steps*v|0))}},49752:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports=__webpack_require__2(72251)},75698:module2=>{module2.exports=function(value,epsilon){return void 0===epsilon&&(epsilon=1e-4),Math.ceil(value-epsilon)}},43855:module2=>{module2.exports=function(a,b,epsilon){return void 0===epsilon&&(epsilon=1e-4),Math.abs(a-b)<epsilon}},25777:module2=>{module2.exports=function(value,epsilon){return void 0===epsilon&&(epsilon=1e-4),Math.floor(value+epsilon)}},5470:module2=>{module2.exports=function(a,b,epsilon){return void 0===epsilon&&(epsilon=1e-4),a>b-epsilon}},94977:module2=>{module2.exports=function(a,b,epsilon){return void 0===epsilon&&(epsilon=1e-4),a<b+epsilon}},48379:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Ceil:__webpack_require__2(75698),Equal:__webpack_require__2(43855),Floor:__webpack_require__2(25777),GreaterThan:__webpack_require__2(5470),LessThan:__webpack_require__2(94977)}},75508:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(36383),Extend=__webpack_require__2(79291),PhaserMath={Angle:__webpack_require__2(25588),Distance:__webpack_require__2(50994),Easing:__webpack_require__2(48820),Fuzzy:__webpack_require__2(48379),Interpolation:__webpack_require__2(38289),Pow2:__webpack_require__2(49001),Snap:__webpack_require__2(73697),RandomDataGenerator:__webpack_require__2(28453),Average:__webpack_require__2(53307),Bernstein:__webpack_require__2(85710),Between:__webpack_require__2(30976),CatmullRom:__webpack_require__2(87842),CeilTo:__webpack_require__2(26302),Clamp:__webpack_require__2(45319),DegToRad:__webpack_require__2(39506),Difference:__webpack_require__2(61241),Euler:__webpack_require__2(38857),Factorial:__webpack_require__2(6411),FloatBetween:__webpack_require__2(99472),FloorTo:__webpack_require__2(77623),FromPercent:__webpack_require__2(62945),GetSpeed:__webpack_require__2(38265),IsEven:__webpack_require__2(78702),IsEvenStrict:__webpack_require__2(94883),Linear:__webpack_require__2(28915),LinearXY:__webpack_require__2(94908),MaxAdd:__webpack_require__2(86883),Median:__webpack_require__2(50040),MinSub:__webpack_require__2(37204),Percent:__webpack_require__2(65201),RadToDeg:__webpack_require__2(43396),RandomXY:__webpack_require__2(74362),RandomXYZ:__webpack_require__2(60706),RandomXYZW:__webpack_require__2(67421),Rotate:__webpack_require__2(36305),RotateAround:__webpack_require__2(11520),RotateAroundDistance:__webpack_require__2(1163),RotateTo:__webpack_require__2(70336),RoundAwayFromZero:__webpack_require__2(2284),RoundTo:__webpack_require__2(41013),SinCosTableGenerator:__webpack_require__2(16922),SmootherStep:__webpack_require__2(54261),SmoothStep:__webpack_require__2(7602),ToXY:__webpack_require__2(44408),TransformXY:__webpack_require__2(85955),Within:__webpack_require__2(60417),Wrap:__webpack_require__2(15994),Vector2:__webpack_require__2(26099),Vector3:__webpack_require__2(25836),Vector4:__webpack_require__2(61369),Matrix3:__webpack_require__2(94434),Matrix4:__webpack_require__2(37867),Quaternion:__webpack_require__2(15746),RotateVec3:__webpack_require__2(72678)};PhaserMath=Extend(!1,PhaserMath,CONST),module2.exports=PhaserMath},89318:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bernstein=__webpack_require__2(85710);module2.exports=function(v,k){for(var b=0,n=v.length-1,i=0;i<=n;i++)b+=Math.pow(1-k,n-i)*Math.pow(k,i)*v[i]*Bernstein(n,i);return b}},77259:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CatmullRom=__webpack_require__2(87842);module2.exports=function(v,k){var m=v.length-1,f=m*k,i=Math.floor(f);return v[0]===v[m]?(k<0&&(i=Math.floor(f=m*(1+k))),CatmullRom(f-i,v[(i-1+m)%m],v[i],v[(i+1)%m],v[(i+2)%m])):k<0?v[0]-(CatmullRom(-f,v[0],v[0],v[1],v[1])-v[0]):k>1?v[m]-(CatmullRom(f-m,v[m],v[m],v[m-1],v[m-1])-v[m]):CatmullRom(f-i,v[i?i-1:0],v[i],v[m<i+1?m:i+1],v[m<i+2?m:i+2])}},36316:module2=>{module2.exports=function(t,p0,p1,p2,p3){
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
return function P0(t,p){var k=1-t;return k*k*k*p}(t,p0)+function P1(t,p){var k=1-t;return 3*k*k*t*p}(t,p1)+function P2(t,p){return 3*(1-t)*t*t*p}(t,p2)+function P3(t,p){return t*t*t*p}(t,p3)}},28392:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Linear=__webpack_require__2(28915);module2.exports=function(v,k){var m=v.length-1,f=m*k,i=Math.floor(f);return k<0?Linear(v[0],v[1],f):k>1?Linear(v[m],v[m-1],m-f):Linear(v[i],v[i+1>m?m:i+1],f-i)}},32112:module2=>{module2.exports=function(t,p0,p1,p2){
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
return function P0(t,p){var k=1-t;return k*k*p}(t,p0)+function P1(t,p){return 2*(1-t)*t*p}(t,p1)+function P2(t,p){return t*t*p}(t,p2)}},47235:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SmoothStep=__webpack_require__2(7602);module2.exports=function(t,min,max){return min+(max-min)*SmoothStep(t,0,1)}},50178:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SmootherStep=__webpack_require__2(54261);module2.exports=function(t,min,max){return min+(max-min)*SmootherStep(t,0,1)}},38289:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Bezier:__webpack_require__2(89318),CatmullRom:__webpack_require__2(77259),CubicBezier:__webpack_require__2(36316),Linear:__webpack_require__2(28392),QuadraticBezier:__webpack_require__2(32112),SmoothStep:__webpack_require__2(47235),SmootherStep:__webpack_require__2(50178)}},98439:module2=>{module2.exports=function(value){var index=Math.log(value)/.6931471805599453;return 1<<Math.ceil(index)}},50030:module2=>{module2.exports=function(width,height){return width>0&&!(width&width-1)&&height>0&&!(height&height-1)}},81230:module2=>{module2.exports=function(value){return value>0&&!(value&value-1)}},49001:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={GetNext:__webpack_require__2(98439),IsSize:__webpack_require__2(50030),IsValue:__webpack_require__2(81230)}},28453:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RandomDataGenerator=new(__webpack_require__2(83419))({initialize:function RandomDataGenerator2(seeds){void 0===seeds&&(seeds=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],seeds&&this.init(seeds)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(data){var h,n=this.n;data=data.toString();for(var i=0;i<data.length;i++)h=.02519603282416938*(n+=data.charCodeAt(i)),h-=n=h>>>0,n=(h*=n)>>>0,n+=4294967296*(h-=n);return this.n=n,2.3283064365386963e-10*(n>>>0)},init:function(seeds){"string"==typeof seeds?this.state(seeds):this.sow(seeds)},sow:function(seeds){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,seeds)for(var i=0;i<seeds.length&&null!=seeds[i];i++){var seed=seeds[i];this.s0-=this.hash(seed),this.s0+=~~(this.s0<0),this.s1-=this.hash(seed),this.s1+=~~(this.s1<0),this.s2-=this.hash(seed),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(min,max){return Math.floor(this.realInRange(0,max-min+1)+min)},between:function(min,max){return Math.floor(this.realInRange(0,max-min+1)+min)},realInRange:function(min,max){return this.frac()*(max-min)+min},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",b="";for(b=a="";a++<36;b+=~a%5|3*a&4?(15^a?8^this.frac()*(20^a?16:4):4).toString(16):"-");return b},pick:function(array){return array[this.integerInRange(0,array.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(array){return array[~~(Math.pow(this.frac(),2)*(array.length-.5)+.5)]},timestamp:function(min,max){return this.realInRange(min||9466848e5,max||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(state){return"string"==typeof state&&state.match(/^!rnd/)&&(state=state.split(","),this.c=parseFloat(state[1]),this.s0=parseFloat(state[2]),this.s1=parseFloat(state[3]),this.s2=parseFloat(state[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(array){for(var i=array.length-1;i>0;i--){var randomIndex=Math.floor(this.frac()*(i+1)),itemAtIndex=array[randomIndex];array[randomIndex]=array[i],array[i]=itemAtIndex}return array}});module2.exports=RandomDataGenerator},63448:module2=>{module2.exports=function(value,gap,start,divide2){return void 0===start&&(start=0),0===gap?value:(value-=start,value=gap*Math.ceil(value/gap),divide2?(start+value)/gap:start+value)}},56583:module2=>{module2.exports=function(value,gap,start,divide2){return void 0===start&&(start=0),0===gap?value:(value-=start,value=gap*Math.floor(value/gap),divide2?(start+value)/gap:start+value)}},77720:module2=>{module2.exports=function(value,gap,start,divide2){return void 0===start&&(start=0),0===gap?value:(value-=start,value=gap*Math.round(value/gap),divide2?(start+value)/gap:start+value)}},73697:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Ceil:__webpack_require__2(63448),Floor:__webpack_require__2(56583),To:__webpack_require__2(77720)}},85454:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
__webpack_require__2(63595);var CONST=__webpack_require__2(8054),Extend=__webpack_require__2(79291),Phaser2={Actions:__webpack_require__2(61061),Animations:__webpack_require__2(60421),BlendModes:__webpack_require__2(10312),Cache:__webpack_require__2(83388),Cameras:__webpack_require__2(26638),Core:__webpack_require__2(42857),Class:__webpack_require__2(83419),Create:__webpack_require__2(15822),Curves:__webpack_require__2(25410),Data:__webpack_require__2(44965),Display:__webpack_require__2(27460),DOM:__webpack_require__2(84902),Events:__webpack_require__2(93055),FX:__webpack_require__2(66064),Game:__webpack_require__2(50127),GameObjects:__webpack_require__2(77856),Geom:__webpack_require__2(55738),Input:__webpack_require__2(14350),Loader:__webpack_require__2(57777),Math:__webpack_require__2(75508),Physics:__webpack_require__2(44563),Plugins:__webpack_require__2(18922),Renderer:__webpack_require__2(36909),Scale:__webpack_require__2(93364),ScaleModes:__webpack_require__2(29795),Scene:__webpack_require__2(97482),Scenes:__webpack_require__2(62194),Structs:__webpack_require__2(41392),Textures:__webpack_require__2(27458),Tilemaps:__webpack_require__2(62501),Time:__webpack_require__2(90291),Tweens:__webpack_require__2(43066),Utils:__webpack_require__2(91799)};Phaser2.Sound=__webpack_require__2(23717),Phaser2=Extend(!1,Phaser2,CONST),module2.exports=Phaser2,__webpack_require__2.g.Phaser=Phaser2},71289:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(92209),Image2=__webpack_require__2(88571),ArcadeImage=new Class({Extends:Image2,Mixins:[Components.Acceleration,Components.Angular,Components.Bounce,Components.Collision,Components.Debug,Components.Drag,Components.Enable,Components.Friction,Components.Gravity,Components.Immovable,Components.Mass,Components.Pushable,Components.Size,Components.Velocity],initialize:function ArcadeImage2(scene,x,y,texture,frame){Image2.call(this,scene,x,y,texture,frame),this.body=null}});module2.exports=ArcadeImage},86689:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),DegToRad=__webpack_require__2(39506),DistanceBetween=__webpack_require__2(20339),DistanceSquared=__webpack_require__2(89774),Factory=__webpack_require__2(66022),GetFastValue=__webpack_require__2(95540),Merge=__webpack_require__2(46975),OverlapCirc=__webpack_require__2(72441),OverlapRect=__webpack_require__2(47956),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),Vector2=__webpack_require__2(26099),World=__webpack_require__2(82248),ArcadePhysics=new Class({initialize:function ArcadePhysics2(scene){this.scene=scene,this.systems=scene.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.world=new World(this.scene,this.config),this.add=new Factory(this.world),this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new World(this.scene,this.config),this.add=new Factory(this.world));var eventEmitter=this.systems.events;GetFastValue(this.config,"customUpdate",!1)||eventEmitter.on(SceneEvents.UPDATE,this.world.update,this.world),eventEmitter.on(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(SceneEvents.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(SceneEvents.UPDATE,this.world.update,this.world)},getConfig:function(){var gameConfig=this.systems.game.config.physics,sceneConfig=this.systems.settings.physics;return Merge(GetFastValue(sceneConfig,"arcade",{}),GetFastValue(gameConfig,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(object1,object2,overlapCallback,processCallback,callbackContext){return void 0===overlapCallback&&(overlapCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=overlapCallback),this.world.collideObjects(object1,object2,overlapCallback,processCallback,callbackContext,!0)},collide:function(object1,object2,collideCallback,processCallback,callbackContext){return void 0===collideCallback&&(collideCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=collideCallback),this.world.collideObjects(object1,object2,collideCallback,processCallback,callbackContext,!1)},collideTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return this.world.collideTiles(sprite,tiles,collideCallback,processCallback,callbackContext)},overlapTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return this.world.overlapTiles(sprite,tiles,collideCallback,processCallback,callbackContext)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(gameObject,x,y,speed,xSpeedMax,ySpeedMax){void 0===speed&&(speed=60);var angle=Math.atan2(y-gameObject.y,x-gameObject.x);return gameObject.body.acceleration.setToPolar(angle,speed),void 0!==xSpeedMax&&void 0!==ySpeedMax&&gameObject.body.maxVelocity.set(xSpeedMax,ySpeedMax),angle},accelerateToObject:function(gameObject,destination,speed,xSpeedMax,ySpeedMax){return this.accelerateTo(gameObject,destination.x,destination.y,speed,xSpeedMax,ySpeedMax)},closest:function(source,targets){targets||(targets=this.world.bodies.entries);for(var min=Number.MAX_VALUE,closest=null,x=source.x,y=source.y,len=targets.length,i=0;i<len;i++){var target2=targets[i],body=target2.body||target2;if(source!==target2&&source!==body&&source!==body.gameObject&&source!==body.center){var distance=DistanceSquared(x,y,body.center.x,body.center.y);distance<min&&(closest=target2,min=distance)}}return closest},furthest:function(source,targets){targets||(targets=this.world.bodies.entries);for(var max=-1,farthest=null,x=source.x,y=source.y,len=targets.length,i=0;i<len;i++){var target2=targets[i],body=target2.body||target2;if(source!==target2&&source!==body&&source!==body.gameObject&&source!==body.center){var distance=DistanceSquared(x,y,body.center.x,body.center.y);distance>max&&(farthest=target2,max=distance)}}return farthest},moveTo:function(gameObject,x,y,speed,maxTime){void 0===speed&&(speed=60),void 0===maxTime&&(maxTime=0);var angle=Math.atan2(y-gameObject.y,x-gameObject.x);return maxTime>0&&(speed=DistanceBetween(gameObject.x,gameObject.y,x,y)/(maxTime/1e3)),gameObject.body.velocity.setToPolar(angle,speed),angle},moveToObject:function(gameObject,destination,speed,maxTime){return this.moveTo(gameObject,destination.x,destination.y,speed,maxTime)},velocityFromAngle:function(angle,speed,vec2){return void 0===speed&&(speed=60),void 0===vec2&&(vec2=new Vector2),vec2.setToPolar(DegToRad(angle),speed)},velocityFromRotation:function(rotation,speed,vec2){return void 0===speed&&(speed=60),void 0===vec2&&(vec2=new Vector2),vec2.setToPolar(rotation,speed)},overlapRect:function(x,y,width,height,includeDynamic,includeStatic){return OverlapRect(this.world,x,y,width,height,includeDynamic,includeStatic)},overlapCirc:function(x,y,radius,includeDynamic,includeStatic){return OverlapCirc(this.world,x,y,radius,includeDynamic,includeStatic)},shutdown:function(){if(this.world){var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.UPDATE,this.world.update,this.world),eventEmitter.off(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null}});PluginCache.register("ArcadePhysics",ArcadePhysics,"arcadePhysics"),module2.exports=ArcadePhysics},13759:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(92209),Sprite=__webpack_require__2(68287),ArcadeSprite=new Class({Extends:Sprite,Mixins:[Components.Acceleration,Components.Angular,Components.Bounce,Components.Collision,Components.Debug,Components.Drag,Components.Enable,Components.Friction,Components.Gravity,Components.Immovable,Components.Mass,Components.Pushable,Components.Size,Components.Velocity],initialize:function ArcadeSprite2(scene,x,y,texture,frame){Sprite.call(this,scene,x,y,texture,frame),this.body=null}});module2.exports=ArcadeSprite},37742:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CollisionComponent=__webpack_require__2(78389),CONST=__webpack_require__2(37747),Events2=__webpack_require__2(63012),RadToDeg=__webpack_require__2(43396),Rectangle=__webpack_require__2(87841),RectangleContains=__webpack_require__2(37303),SetCollisionObject=__webpack_require__2(95829),Vector2=__webpack_require__2(26099),Body=new Class({Mixins:[CollisionComponent],initialize:function Body2(world,gameObject){var width=64,height=64,hasGameObject=void 0!==gameObject;hasGameObject&&gameObject.displayWidth&&(width=gameObject.displayWidth,height=gameObject.displayHeight),hasGameObject||(gameObject={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=world,this.gameObject=hasGameObject?gameObject:void 0,this.isBody=!0,this.transform={x:gameObject.x,y:gameObject.y,rotation:gameObject.angle,scaleX:gameObject.scaleX,scaleY:gameObject.scaleY,displayOriginX:gameObject.displayOriginX,displayOriginY:gameObject.displayOriginY},this.debugShowBody=world.defaults.debugShowBody,this.debugShowVelocity=world.defaults.debugShowVelocity,this.debugBodyColor=world.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new Vector2,this.position=new Vector2(gameObject.x-gameObject.scaleX*gameObject.displayOriginX,gameObject.y-gameObject.scaleY*gameObject.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=gameObject.angle,this.preRotation=gameObject.angle,this.width=width,this.height=height,this.sourceWidth=width,this.sourceHeight=height,gameObject.frame&&(this.sourceWidth=gameObject.frame.realWidth,this.sourceHeight=gameObject.frame.realHeight),this.halfWidth=Math.abs(width/2),this.halfHeight=Math.abs(height/2),this.center=new Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new Vector2,this.newVelocity=new Vector2,this.deltaMax=new Vector2,this.acceleration=new Vector2,this.allowDrag=!0,this.drag=new Vector2,this.allowGravity=!0,this.gravity=new Vector2,this.bounce=new Vector2,this.worldBounce=null,this.customBoundsRectangle=world.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new Vector2(1e4,1e4),this.maxSpeed=-1,this.friction=new Vector2(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=CONST.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new Vector2(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=SetCollisionObject(!1),this.touching=SetCollisionObject(!0),this.wasTouching=SetCollisionObject(!0),this.blocked=SetCollisionObject(!0),this.syncBounds=!1,this.physicsType=CONST.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=gameObject.scaleX,this._sy=gameObject.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new Rectangle,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var sprite=this.gameObject,transform2=this.transform;if(sprite.parentContainer){var matrix=sprite.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);transform2.x=matrix.tx,transform2.y=matrix.ty,transform2.rotation=RadToDeg(matrix.rotation),transform2.scaleX=matrix.scaleX,transform2.scaleY=matrix.scaleY,transform2.displayOriginX=sprite.displayOriginX,transform2.displayOriginY=sprite.displayOriginY}else transform2.x=sprite.x,transform2.y=sprite.y,transform2.rotation=sprite.angle,transform2.scaleX=sprite.scaleX,transform2.scaleY=sprite.scaleY,transform2.displayOriginX=sprite.displayOriginX,transform2.displayOriginY=sprite.displayOriginY;var recalc=!1;if(this.syncBounds){var b=sprite.getBounds(this._bounds);this.width=b.width,this.height=b.height,recalc=!0}else{var asx=Math.abs(transform2.scaleX),asy=Math.abs(transform2.scaleY);this._sx===asx&&this._sy===asy||(this.width=this.sourceWidth*asx,this.height=this.sourceHeight*asy,this._sx=asx,this._sy=asy,recalc=!0)}recalc&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var transform2=this.transform;this.position.x=transform2.x+transform2.scaleX*(this.offset.x-transform2.displayOriginX),this.position.y=transform2.y+transform2.scaleY*(this.offset.y-transform2.displayOriginY),this.updateCenter()},resetFlags:function(clear){void 0===clear&&(clear=!1);var wasTouching=this.wasTouching,touching=this.touching,blocked=this.blocked;clear?SetCollisionObject(!0,wasTouching):(wasTouching.none=touching.none,wasTouching.up=touching.up,wasTouching.down=touching.down,wasTouching.left=touching.left,wasTouching.right=touching.right),SetCollisionObject(!0,touching),SetCollisionObject(!0,blocked),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(willStep,delta){if(willStep&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var pos=this.position;this.prev.x=pos.x,this.prev.y=pos.y,this.prevFrame.x=pos.x,this.prevFrame.y=pos.y}willStep&&this.update(delta)},update:function(delta){var prev=this.prev,pos=this.position,vel=this.velocity;if(prev.set(pos.x,pos.y),!this.moves)return this._dx=pos.x-prev.x,void(this._dy=pos.y-prev.y);if(this.directControl){var autoFrame=this.autoFrame;vel.set((pos.x-autoFrame.x)/delta,(pos.y-autoFrame.y)/delta),this.world.updateMotion(this,delta),this._dx=pos.x-autoFrame.x,this._dy=pos.y-autoFrame.y}else this.world.updateMotion(this,delta),this.newVelocity.set(vel.x*delta,vel.y*delta),pos.add(this.newVelocity),this._dx=pos.x-prev.x,this._dy=pos.y-prev.y;var vx=vel.x,vy=vel.y;if(this.updateCenter(),this.angle=Math.atan2(vy,vx),this.speed=Math.sqrt(vx*vx+vy*vy),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var blocked=this.blocked;this.world.emit(Events2.WORLD_BOUNDS,this,blocked.up,blocked.down,blocked.left,blocked.right)}},postUpdate:function(){var pos=this.position,dx=pos.x-this.prevFrame.x,dy=pos.y-this.prevFrame.y,gameObject=this.gameObject;if(this.moves){var mx=this.deltaMax.x,my=this.deltaMax.y;0!==mx&&0!==dx&&(dx<0&&dx<-mx?dx=-mx:dx>0&&dx>mx&&(dx=mx)),0!==my&&0!==dy&&(dy<0&&dy<-my?dy=-my:dy>0&&dy>my&&(dy=my)),gameObject&&(gameObject.x+=dx,gameObject.y+=dy)}dx<0?this.facing=CONST.FACING_LEFT:dx>0&&(this.facing=CONST.FACING_RIGHT),dy<0?this.facing=CONST.FACING_UP:dy>0&&(this.facing=CONST.FACING_DOWN),this.allowRotation&&gameObject&&(gameObject.angle+=this.deltaZ()),this._tx=dx,this._ty=dy,this.autoFrame.set(pos.x,pos.y)},setBoundsRectangle:function(bounds){return this.customBoundsRectangle=bounds||this.world.bounds,this},checkWorldBounds:function(){var pos=this.position,vel=this.velocity,blocked=this.blocked,bounds=this.customBoundsRectangle,check=this.world.checkCollision,bx=this.worldBounce?-this.worldBounce.x:-this.bounce.x,by=this.worldBounce?-this.worldBounce.y:-this.bounce.y,wasSet=!1;return pos.x<bounds.x&&check.left?(pos.x=bounds.x,vel.x*=bx,blocked.left=!0,wasSet=!0):this.right>bounds.right&&check.right&&(pos.x=bounds.right-this.width,vel.x*=bx,blocked.right=!0,wasSet=!0),pos.y<bounds.y&&check.up?(pos.y=bounds.y,vel.y*=by,blocked.up=!0,wasSet=!0):this.bottom>bounds.bottom&&check.down&&(pos.y=bounds.bottom-this.height,vel.y*=by,blocked.down=!0,wasSet=!0),wasSet&&(this.blocked.none=!1,this.updateCenter()),wasSet},setOffset:function(x,y){return void 0===y&&(y=x),this.offset.set(x,y),this},setGameObject:function(gameObject,enable){return void 0===enable&&(enable=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=gameObject,gameObject.body&&(gameObject.body=this),this.setSize(),this.world.add(this),this.enable=enable,this},setSize:function(width,height,center){void 0===center&&(center=!0);var gameObject=this.gameObject;if(gameObject&&(!width&&gameObject.frame&&(width=gameObject.frame.realWidth),!height&&gameObject.frame&&(height=gameObject.frame.realHeight)),this.sourceWidth=width,this.sourceHeight=height,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),center&&gameObject&&gameObject.getCenter){var ox=(gameObject.width-width)/2,oy=(gameObject.height-height)/2;this.offset.set(ox,oy)}return this.isCircle=!1,this.radius=0,this},setCircle:function(radius,offsetX,offsetY){return void 0===offsetX&&(offsetX=this.offset.x),void 0===offsetY&&(offsetY=this.offset.y),radius>0?(this.isCircle=!0,this.radius=radius,this.sourceWidth=2*radius,this.sourceHeight=2*radius,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(offsetX,offsetY),this.updateCenter()):this.isCircle=!1,this},reset:function(x,y){this.stop();var gameObject=this.gameObject;gameObject&&(gameObject.setPosition(x,y),this.rotation=gameObject.angle,this.preRotation=gameObject.angle);var pos=this.position;gameObject&&gameObject.getTopLeft?gameObject.getTopLeft(pos):pos.set(x,y),this.prev.copy(pos),this.prevFrame.copy(pos),this.autoFrame.copy(pos),gameObject&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(obj){return obj.x=this.x,obj.y=this.y,obj.right=this.right,obj.bottom=this.bottom,obj},hitTest:function(x,y){return this.isCircle?this.radius>0&&x>=this.left&&x<=this.right&&y>=this.top&&y<=this.bottom&&(this.center.x-x)*(this.center.x-x)+(this.center.y-y)*(this.center.y-y)<=this.radius*this.radius:RectangleContains(this,x,y)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(graphic){var pos=this.position,x=pos.x+this.halfWidth,y=pos.y+this.halfHeight;this.debugShowBody&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.debugBodyColor),this.isCircle?graphic.strokeCircle(x,y,this.width/2):(this.checkCollision.up&&graphic.lineBetween(pos.x,pos.y,pos.x+this.width,pos.y),this.checkCollision.right&&graphic.lineBetween(pos.x+this.width,pos.y,pos.x+this.width,pos.y+this.height),this.checkCollision.down&&graphic.lineBetween(pos.x,pos.y+this.height,pos.x+this.width,pos.y+this.height),this.checkCollision.left&&graphic.lineBetween(pos.x,pos.y,pos.x,pos.y+this.height))),this.debugShowVelocity&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),graphic.lineBetween(x,y,x+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(value){return void 0===value&&(value=!0),this.directControl=value,this},setCollideWorldBounds:function(value,bounceX,bounceY,onWorldBounds){void 0===value&&(value=!0),this.collideWorldBounds=value;var setBounceX=void 0!==bounceX,setBounceY=void 0!==bounceY;return(setBounceX||setBounceY)&&(this.worldBounce||(this.worldBounce=new Vector2),setBounceX&&(this.worldBounce.x=bounceX),setBounceY&&(this.worldBounce.y=bounceY)),void 0!==onWorldBounds&&(this.onWorldBounds=onWorldBounds),this},setVelocity:function(x,y){return this.velocity.set(x,y),x=this.velocity.x,y=this.velocity.y,this.speed=Math.sqrt(x*x+y*y),this},setVelocityX:function(value){return this.setVelocity(value,this.velocity.y)},setVelocityY:function(value){return this.setVelocity(this.velocity.x,value)},setMaxVelocity:function(x,y){return this.maxVelocity.set(x,y),this},setMaxVelocityX:function(value){return this.maxVelocity.x=value,this},setMaxVelocityY:function(value){return this.maxVelocity.y=value,this},setMaxSpeed:function(value){return this.maxSpeed=value,this},setSlideFactor:function(x,y){return this.slideFactor.set(x,y),this},setBounce:function(x,y){return this.bounce.set(x,y),this},setBounceX:function(value){return this.bounce.x=value,this},setBounceY:function(value){return this.bounce.y=value,this},setAcceleration:function(x,y){return this.acceleration.set(x,y),this},setAccelerationX:function(value){return this.acceleration.x=value,this},setAccelerationY:function(value){return this.acceleration.y=value,this},setAllowDrag:function(value){return void 0===value&&(value=!0),this.allowDrag=value,this},setAllowGravity:function(value){return void 0===value&&(value=!0),this.allowGravity=value,this},setAllowRotation:function(value){return void 0===value&&(value=!0),this.allowRotation=value,this},setDrag:function(x,y){return this.drag.set(x,y),this},setDamping:function(value){return this.useDamping=value,this},setDragX:function(value){return this.drag.x=value,this},setDragY:function(value){return this.drag.y=value,this},setGravity:function(x,y){return this.gravity.set(x,y),this},setGravityX:function(value){return this.gravity.x=value,this},setGravityY:function(value){return this.gravity.y=value,this},setFriction:function(x,y){return this.friction.set(x,y),this},setFrictionX:function(value){return this.friction.x=value,this},setFrictionY:function(value){return this.friction.y=value,this},setAngularVelocity:function(value){return this.angularVelocity=value,this},setAngularAcceleration:function(value){return this.angularAcceleration=value,this},setAngularDrag:function(value){return this.angularDrag=value,this},setMass:function(value){return this.mass=value,this},setImmovable:function(value){return void 0===value&&(value=!0),this.immovable=value,this},setEnable:function(value){return void 0===value&&(value=!0),this.enable=value,this},processX:function(x,vx,left,right){this.x+=x,this.updateCenter(),null!==vx&&(this.velocity.x=vx*this.slideFactor.x);var blocked=this.blocked;left&&(blocked.left=!0,blocked.none=!1),right&&(blocked.right=!0,blocked.none=!1)},processY:function(y,vy,up,down){this.y+=y,this.updateCenter(),null!==vy&&(this.velocity.y=vy*this.slideFactor.y);var blocked=this.blocked;up&&(blocked.up=!0,blocked.none=!1),down&&(blocked.down=!0,blocked.none=!1)},x:{get:function(){return this.position.x},set:function(value){this.position.x=value}},y:{get:function(){return this.position.y},set:function(value){this.position.y=value}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module2.exports=Body},79342:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Collider=new(__webpack_require__2(83419))({initialize:function Collider2(world,overlapOnly,object1,object2,collideCallback,processCallback,callbackContext){this.world=world,this.name="",this.active=!0,this.overlapOnly=overlapOnly,this.object1=object1,this.object2=object2,this.collideCallback=collideCallback,this.processCallback=processCallback,this.callbackContext=callbackContext},setName:function(name){return this.name=name,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});module2.exports=Collider},66022:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArcadeImage=__webpack_require__2(71289),ArcadeSprite=__webpack_require__2(13759),Body=__webpack_require__2(37742),Class=__webpack_require__2(83419),CONST=__webpack_require__2(37747),PhysicsGroup=__webpack_require__2(60758),StaticBody=__webpack_require__2(72624),StaticPhysicsGroup=__webpack_require__2(71464),Factory=new Class({initialize:function Factory2(world){this.world=world,this.scene=world.scene,this.sys=world.scene.sys},collider:function(object1,object2,collideCallback,processCallback,callbackContext){return this.world.addCollider(object1,object2,collideCallback,processCallback,callbackContext)},overlap:function(object1,object2,collideCallback,processCallback,callbackContext){return this.world.addOverlap(object1,object2,collideCallback,processCallback,callbackContext)},existing:function(gameObject,isStatic){var type=isStatic?CONST.STATIC_BODY:CONST.DYNAMIC_BODY;return this.world.enableBody(gameObject,type),gameObject},staticImage:function(x,y,key,frame){var image=new ArcadeImage(this.scene,x,y,key,frame);return this.sys.displayList.add(image),this.world.enableBody(image,CONST.STATIC_BODY),image},image:function(x,y,key,frame){var image=new ArcadeImage(this.scene,x,y,key,frame);return this.sys.displayList.add(image),this.world.enableBody(image,CONST.DYNAMIC_BODY),image},staticSprite:function(x,y,key,frame){var sprite=new ArcadeSprite(this.scene,x,y,key,frame);return this.sys.displayList.add(sprite),this.sys.updateList.add(sprite),this.world.enableBody(sprite,CONST.STATIC_BODY),sprite},sprite:function(x,y,key,frame){var sprite=new ArcadeSprite(this.scene,x,y,key,frame);return this.sys.displayList.add(sprite),this.sys.updateList.add(sprite),this.world.enableBody(sprite,CONST.DYNAMIC_BODY),sprite},staticGroup:function(children,config2){return this.sys.updateList.add(new StaticPhysicsGroup(this.world,this.world.scene,children,config2))},group:function(children,config2){return this.sys.updateList.add(new PhysicsGroup(this.world,this.world.scene,children,config2))},body:function(x,y,width,height){var body=new Body(this.world);return body.position.set(x,y),width&&height&&body.setSize(width,height),this.world.add(body,CONST.DYNAMIC_BODY),body},staticBody:function(x,y,width,height){var body=new StaticBody(this.world);return body.position.set(x,y),width&&height&&body.setSize(width,height),this.world.add(body,CONST.STATIC_BODY),body},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module2.exports=Factory},79599:module2=>{module2.exports=function(categories){var flags=0;if(Array.isArray(categories))for(var i=0;i<categories.length;i++)flags|=categories[i];else flags=categories;return flags}},64897:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(37747);module2.exports=function(body1,body2,overlapOnly,bias){var overlap=0,maxOverlap=body1.deltaAbsX()+body2.deltaAbsX()+bias;return 0===body1._dx&&0===body2._dx?(body1.embedded=!0,body2.embedded=!0):body1._dx>body2._dx?(overlap=body1.right-body2.x)>maxOverlap&&!overlapOnly||!1===body1.checkCollision.right||!1===body2.checkCollision.left?overlap=0:(body1.touching.none=!1,body1.touching.right=!0,body2.touching.none=!1,body2.touching.left=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.right=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.left=!0)):body1._dx<body2._dx&&(-(overlap=body1.x-body2.width-body2.x)>maxOverlap&&!overlapOnly||!1===body1.checkCollision.left||!1===body2.checkCollision.right?overlap=0:(body1.touching.none=!1,body1.touching.left=!0,body2.touching.none=!1,body2.touching.right=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.left=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.right=!0))),body1.overlapX=overlap,body2.overlapX=overlap,overlap}},45170:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(37747);module2.exports=function(body1,body2,overlapOnly,bias){var overlap=0,maxOverlap=body1.deltaAbsY()+body2.deltaAbsY()+bias;return 0===body1._dy&&0===body2._dy?(body1.embedded=!0,body2.embedded=!0):body1._dy>body2._dy?(overlap=body1.bottom-body2.y)>maxOverlap&&!overlapOnly||!1===body1.checkCollision.down||!1===body2.checkCollision.up?overlap=0:(body1.touching.none=!1,body1.touching.down=!0,body2.touching.none=!1,body2.touching.up=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.down=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.up=!0)):body1._dy<body2._dy&&(-(overlap=body1.y-body2.bottom)>maxOverlap&&!overlapOnly||!1===body1.checkCollision.up||!1===body2.checkCollision.down?overlap=0:(body1.touching.none=!1,body1.touching.up=!0,body2.touching.none=!1,body2.touching.down=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.up=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.down=!0))),body1.overlapY=overlap,body2.overlapY=overlap,overlap}},60758:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArcadeSprite=__webpack_require__2(13759),Class=__webpack_require__2(83419),CollisionComponent=__webpack_require__2(78389),CONST=__webpack_require__2(37747),GetFastValue=__webpack_require__2(95540),Group=__webpack_require__2(26479),IsPlainObject=__webpack_require__2(41212),PhysicsGroup=new Class({Extends:Group,Mixins:[CollisionComponent],initialize:function PhysicsGroup2(world,scene,children,config2){if(children||config2)if(IsPlainObject(children))config2=children,children=null,config2.internalCreateCallback=this.createCallbackHandler,config2.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(children)&&IsPlainObject(children[0])){var _this=this;children.forEach((function(singleConfig){singleConfig.internalCreateCallback=_this.createCallbackHandler,singleConfig.internalRemoveCallback=_this.removeCallbackHandler,singleConfig.classType=GetFastValue(singleConfig,"classType",ArcadeSprite)})),config2=null}else config2={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else config2={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=world,config2&&(config2.classType=GetFastValue(config2,"classType",ArcadeSprite)),this.physicsType=CONST.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:GetFastValue(config2,"collideWorldBounds",!1),setBoundsRectangle:GetFastValue(config2,"customBoundsRectangle",null),setAccelerationX:GetFastValue(config2,"accelerationX",0),setAccelerationY:GetFastValue(config2,"accelerationY",0),setAllowDrag:GetFastValue(config2,"allowDrag",!0),setAllowGravity:GetFastValue(config2,"allowGravity",!0),setAllowRotation:GetFastValue(config2,"allowRotation",!0),setDamping:GetFastValue(config2,"useDamping",!1),setBounceX:GetFastValue(config2,"bounceX",0),setBounceY:GetFastValue(config2,"bounceY",0),setDragX:GetFastValue(config2,"dragX",0),setDragY:GetFastValue(config2,"dragY",0),setEnable:GetFastValue(config2,"enable",!0),setGravityX:GetFastValue(config2,"gravityX",0),setGravityY:GetFastValue(config2,"gravityY",0),setFrictionX:GetFastValue(config2,"frictionX",0),setFrictionY:GetFastValue(config2,"frictionY",0),setMaxSpeed:GetFastValue(config2,"maxSpeed",-1),setMaxVelocityX:GetFastValue(config2,"maxVelocityX",1e4),setMaxVelocityY:GetFastValue(config2,"maxVelocityY",1e4),setVelocityX:GetFastValue(config2,"velocityX",0),setVelocityY:GetFastValue(config2,"velocityY",0),setAngularVelocity:GetFastValue(config2,"angularVelocity",0),setAngularAcceleration:GetFastValue(config2,"angularAcceleration",0),setAngularDrag:GetFastValue(config2,"angularDrag",0),setMass:GetFastValue(config2,"mass",1),setImmovable:GetFastValue(config2,"immovable",!1)},Group.call(this,scene,children,config2),this.type="PhysicsGroup"},createCallbackHandler:function(child){child.body||this.world.enableBody(child,CONST.DYNAMIC_BODY);var body=child.body;for(var key in this.defaults)body[key](this.defaults[key])},removeCallbackHandler:function(child){child.body&&this.world.disableBody(child)},setVelocity:function(x,y,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.set(x+i*step,y+i*step);return this},setVelocityX:function(value,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.x=value+i*step;return this},setVelocityY:function(value,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.y=value+i*step;return this}});module2.exports=PhysicsGroup},3017:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var body1,body2,body1Pushable,body2Pushable,body1MassImpact,body2MassImpact,body1FullImpact,body2FullImpact,body1MovingLeft,body1MovingRight,body1Stationary,body2MovingLeft,body2MovingRight,body2Stationary,body1OnLeft,body2OnLeft,overlap,BlockCheck=function(){return body1MovingRight&&body1OnLeft&&body2.blocked.right?(body1.processX(-overlap,body1FullImpact,!1,!0),1):body1MovingLeft&&body2OnLeft&&body2.blocked.left?(body1.processX(overlap,body1FullImpact,!0),1):body2MovingRight&&body2OnLeft&&body1.blocked.right?(body2.processX(-overlap,body2FullImpact,!1,!0),2):body2MovingLeft&&body1OnLeft&&body1.blocked.left?(body2.processX(overlap,body2FullImpact,!0),2):0},Run=function(side){if(body1Pushable&&body2Pushable)overlap*=.5,0===side||3===side?(body1.processX(overlap,body1MassImpact),body2.processX(-overlap,body2MassImpact)):(body1.processX(-overlap,body1MassImpact),body2.processX(overlap,body2MassImpact));else if(body1Pushable&&!body2Pushable)0===side||3===side?body1.processX(overlap,body1FullImpact,!0):body1.processX(-overlap,body1FullImpact,!1,!0);else if(!body1Pushable&&body2Pushable)0===side||3===side?body2.processX(-overlap,body2FullImpact,!1,!0):body2.processX(overlap,body2FullImpact,!0);else{var halfOverlap=.5*overlap;0===side?body2Stationary?(body1.processX(overlap,0,!0),body2.processX(0,null,!1,!0)):body2MovingRight?(body1.processX(halfOverlap,0,!0),body2.processX(-halfOverlap,0,!1,!0)):(body1.processX(halfOverlap,body2.velocity.x,!0),body2.processX(-halfOverlap,null,!1,!0)):1===side?body1Stationary?(body1.processX(0,null,!1,!0),body2.processX(overlap,0,!0)):body1MovingRight?(body1.processX(-halfOverlap,0,!1,!0),body2.processX(halfOverlap,0,!0)):(body1.processX(-halfOverlap,null,!1,!0),body2.processX(halfOverlap,body1.velocity.x,!0)):2===side?body2Stationary?(body1.processX(-overlap,0,!1,!0),body2.processX(0,null,!0)):body2MovingLeft?(body1.processX(-halfOverlap,0,!1,!0),body2.processX(halfOverlap,0,!0)):(body1.processX(-halfOverlap,body2.velocity.x,!1,!0),body2.processX(halfOverlap,null,!0)):3===side&&(body1Stationary?(body1.processX(0,null,!0),body2.processX(-overlap,0,!1,!0)):body1MovingLeft?(body1.processX(halfOverlap,0,!0),body2.processX(-halfOverlap,0,!1,!0)):(body1.processX(halfOverlap,body2.velocity.y,!0),body2.processX(-halfOverlap,null,!1,!0)))}return!0};module2.exports={BlockCheck:BlockCheck,Check:function(){var v1=body1.velocity.x,v2=body2.velocity.x,nv1=Math.sqrt(v2*v2*body2.mass/body1.mass)*(v2>0?1:-1),nv2=Math.sqrt(v1*v1*body1.mass/body2.mass)*(v1>0?1:-1),avg=.5*(nv1+nv2);return nv2-=avg,body1MassImpact=avg+(nv1-=avg)*body1.bounce.x,body2MassImpact=avg+nv2*body2.bounce.x,body1MovingLeft&&body2OnLeft?Run(0):body2MovingLeft&&body1OnLeft?Run(1):body1MovingRight&&body1OnLeft?Run(2):!(!body2MovingRight||!body2OnLeft)&&Run(3)},Set:function(b1,b2,ov){body2=b2;var v1=(body1=b1).velocity.x,v2=body2.velocity.x;return body1Pushable=body1.pushable,body1MovingLeft=body1._dx<0,body1MovingRight=body1._dx>0,body1Stationary=0===body1._dx,body1OnLeft=Math.abs(body1.right-body2.x)<=Math.abs(body2.right-body1.x),body1FullImpact=v2-v1*body1.bounce.x,body2Pushable=body2.pushable,body2MovingLeft=body2._dx<0,body2MovingRight=body2._dx>0,body2Stationary=0===body2._dx,body2OnLeft=!body1OnLeft,body2FullImpact=v1-v2*body2.bounce.x,overlap=Math.abs(ov),BlockCheck()},Run:Run,RunImmovableBody1:function(blockedState){if(1===blockedState?body2.velocity.x=0:body1OnLeft?body2.processX(overlap,body2FullImpact,!0):body2.processX(-overlap,body2FullImpact,!1,!0),body1.moves){var body1Distance=body1.directControl?body1.y-body1.autoFrame.y:body1.y-body1.prev.y;body2.y+=body1Distance*body1.friction.y,body2._dy=body2.y-body2.prev.y}},RunImmovableBody2:function(blockedState){if(2===blockedState?body1.velocity.x=0:body2OnLeft?body1.processX(overlap,body1FullImpact,!0):body1.processX(-overlap,body1FullImpact,!1,!0),body2.moves){var body2Distance=body2.directControl?body2.y-body2.autoFrame.y:body2.y-body2.prev.y;body1.y+=body2Distance*body2.friction.y,body1._dy=body1.y-body1.prev.y}}}},47962:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var body1,body2,body1Pushable,body2Pushable,body1MassImpact,body2MassImpact,body1FullImpact,body2FullImpact,body1MovingUp,body1MovingDown,body1Stationary,body2MovingUp,body2MovingDown,body2Stationary,body1OnTop,body2OnTop,overlap,BlockCheck=function(){return body1MovingDown&&body1OnTop&&body2.blocked.down?(body1.processY(-overlap,body1FullImpact,!1,!0),1):body1MovingUp&&body2OnTop&&body2.blocked.up?(body1.processY(overlap,body1FullImpact,!0),1):body2MovingDown&&body2OnTop&&body1.blocked.down?(body2.processY(-overlap,body2FullImpact,!1,!0),2):body2MovingUp&&body1OnTop&&body1.blocked.up?(body2.processY(overlap,body2FullImpact,!0),2):0},Run=function(side){if(body1Pushable&&body2Pushable)overlap*=.5,0===side||3===side?(body1.processY(overlap,body1MassImpact),body2.processY(-overlap,body2MassImpact)):(body1.processY(-overlap,body1MassImpact),body2.processY(overlap,body2MassImpact));else if(body1Pushable&&!body2Pushable)0===side||3===side?body1.processY(overlap,body1FullImpact,!0):body1.processY(-overlap,body1FullImpact,!1,!0);else if(!body1Pushable&&body2Pushable)0===side||3===side?body2.processY(-overlap,body2FullImpact,!1,!0):body2.processY(overlap,body2FullImpact,!0);else{var halfOverlap=.5*overlap;0===side?body2Stationary?(body1.processY(overlap,0,!0),body2.processY(0,null,!1,!0)):body2MovingDown?(body1.processY(halfOverlap,0,!0),body2.processY(-halfOverlap,0,!1,!0)):(body1.processY(halfOverlap,body2.velocity.y,!0),body2.processY(-halfOverlap,null,!1,!0)):1===side?body1Stationary?(body1.processY(0,null,!1,!0),body2.processY(overlap,0,!0)):body1MovingDown?(body1.processY(-halfOverlap,0,!1,!0),body2.processY(halfOverlap,0,!0)):(body1.processY(-halfOverlap,null,!1,!0),body2.processY(halfOverlap,body1.velocity.y,!0)):2===side?body2Stationary?(body1.processY(-overlap,0,!1,!0),body2.processY(0,null,!0)):body2MovingUp?(body1.processY(-halfOverlap,0,!1,!0),body2.processY(halfOverlap,0,!0)):(body1.processY(-halfOverlap,body2.velocity.y,!1,!0),body2.processY(halfOverlap,null,!0)):3===side&&(body1Stationary?(body1.processY(0,null,!0),body2.processY(-overlap,0,!1,!0)):body1MovingUp?(body1.processY(halfOverlap,0,!0),body2.processY(-halfOverlap,0,!1,!0)):(body1.processY(halfOverlap,body2.velocity.y,!0),body2.processY(-halfOverlap,null,!1,!0)))}return!0};module2.exports={BlockCheck:BlockCheck,Check:function(){var v1=body1.velocity.y,v2=body2.velocity.y,nv1=Math.sqrt(v2*v2*body2.mass/body1.mass)*(v2>0?1:-1),nv2=Math.sqrt(v1*v1*body1.mass/body2.mass)*(v1>0?1:-1),avg=.5*(nv1+nv2);return nv2-=avg,body1MassImpact=avg+(nv1-=avg)*body1.bounce.y,body2MassImpact=avg+nv2*body2.bounce.y,body1MovingUp&&body2OnTop?Run(0):body2MovingUp&&body1OnTop?Run(1):body1MovingDown&&body1OnTop?Run(2):!(!body2MovingDown||!body2OnTop)&&Run(3)},Set:function(b1,b2,ov){body2=b2;var v1=(body1=b1).velocity.y,v2=body2.velocity.y;return body1Pushable=body1.pushable,body1MovingUp=body1._dy<0,body1MovingDown=body1._dy>0,body1Stationary=0===body1._dy,body1OnTop=Math.abs(body1.bottom-body2.y)<=Math.abs(body2.bottom-body1.y),body1FullImpact=v2-v1*body1.bounce.y,body2Pushable=body2.pushable,body2MovingUp=body2._dy<0,body2MovingDown=body2._dy>0,body2Stationary=0===body2._dy,body2OnTop=!body1OnTop,body2FullImpact=v1-v2*body2.bounce.y,overlap=Math.abs(ov),BlockCheck()},Run:Run,RunImmovableBody1:function(blockedState){if(1===blockedState?body2.velocity.y=0:body1OnTop?body2.processY(overlap,body2FullImpact,!0):body2.processY(-overlap,body2FullImpact,!1,!0),body1.moves){var body1Distance=body1.directControl?body1.x-body1.autoFrame.x:body1.x-body1.prev.x;body2.x+=body1Distance*body1.friction.x,body2._dx=body2.x-body2.prev.x}},RunImmovableBody2:function(blockedState){if(2===blockedState?body1.velocity.y=0:body2OnTop?body1.processY(overlap,body1FullImpact,!0):body1.processY(-overlap,body1FullImpact,!1,!0),body2.moves){var body2Distance=body2.directControl?body2.x-body2.autoFrame.x:body2.x-body2.prev.x;body1.x+=body2Distance*body2.friction.x,body1._dx=body1.x-body1.prev.x}}}},14087:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetOverlapX=__webpack_require__2(64897),ProcessX=__webpack_require__2(3017);module2.exports=function(body1,body2,overlapOnly,bias,overlap){void 0===overlap&&(overlap=GetOverlapX(body1,body2,overlapOnly,bias));var body1Immovable=body1.immovable,body2Immovable=body2.immovable;if(overlapOnly||0===overlap||body1Immovable&&body2Immovable||body1.customSeparateX||body2.customSeparateX)return 0!==overlap||body1.embedded&&body2.embedded;var blockedState=ProcessX.Set(body1,body2,overlap);return body1Immovable||body2Immovable?(body1Immovable?ProcessX.RunImmovableBody1(blockedState):body2Immovable&&ProcessX.RunImmovableBody2(blockedState),!0):blockedState>0||ProcessX.Check()}},89936:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetOverlapY=__webpack_require__2(45170),ProcessY=__webpack_require__2(47962);module2.exports=function(body1,body2,overlapOnly,bias,overlap){void 0===overlap&&(overlap=GetOverlapY(body1,body2,overlapOnly,bias));var body1Immovable=body1.immovable,body2Immovable=body2.immovable;if(overlapOnly||0===overlap||body1Immovable&&body2Immovable||body1.customSeparateY||body2.customSeparateY)return 0!==overlap||body1.embedded&&body2.embedded;var blockedState=ProcessY.Set(body1,body2,overlap);return body1Immovable||body2Immovable?(body1Immovable?ProcessY.RunImmovableBody1(blockedState):body2Immovable&&ProcessY.RunImmovableBody2(blockedState),!0):blockedState>0||ProcessY.Check()}},95829:module2=>{module2.exports=function(noneFlip,data){return void 0===data&&(data={}),data.none=noneFlip,data.up=!1,data.down=!1,data.left=!1,data.right=!1,noneFlip||(data.up=!0,data.down=!0,data.left=!0,data.right=!0),data}},72624:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CircleContains=__webpack_require__2(87902),Class=__webpack_require__2(83419),CollisionComponent=__webpack_require__2(78389),CONST=__webpack_require__2(37747),RectangleContains=__webpack_require__2(37303),SetCollisionObject=__webpack_require__2(95829),Vector2=__webpack_require__2(26099),StaticBody=new Class({Mixins:[CollisionComponent],initialize:function StaticBody2(world,gameObject){var width=64,height=64,hasGameObject=void 0!==gameObject;hasGameObject&&gameObject.displayWidth&&(width=gameObject.displayWidth,height=gameObject.displayHeight),hasGameObject||(gameObject={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=world,this.gameObject=hasGameObject?gameObject:void 0,this.isBody=!0,this.debugShowBody=world.defaults.debugShowStaticBody,this.debugBodyColor=world.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new Vector2,this.position=new Vector2(gameObject.x-width*gameObject.originX,gameObject.y-height*gameObject.originY),this.width=width,this.height=height,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=Vector2.ZERO,this.allowGravity=!1,this.gravity=Vector2.ZERO,this.bounce=Vector2.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=SetCollisionObject(!1),this.touching=SetCollisionObject(!0),this.wasTouching=SetCollisionObject(!0),this.blocked=SetCollisionObject(!0),this.physicsType=CONST.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(gameObject,update){return gameObject&&gameObject!==this.gameObject&&(this.gameObject.body=null,gameObject.body=this,this.gameObject=gameObject),update&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var gameObject=this.gameObject;return gameObject.getTopLeft(this.position),this.width=gameObject.displayWidth,this.height=gameObject.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(x,y){return void 0===y&&(y=x),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x,y),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(width,height,center){void 0===center&&(center=!0);var gameObject=this.gameObject;if(gameObject&&gameObject.frame&&(width||(width=gameObject.frame.realWidth),height||(height=gameObject.frame.realHeight)),this.world.staticTree.remove(this),this.width=width,this.height=height,this.halfWidth=Math.floor(width/2),this.halfHeight=Math.floor(height/2),center&&gameObject&&gameObject.getCenter){var ox=gameObject.displayWidth/2,oy=gameObject.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(ox-this.halfWidth,oy-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(radius,offsetX,offsetY){return void 0===offsetX&&(offsetX=this.offset.x),void 0===offsetY&&(offsetY=this.offset.y),radius>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=radius,this.width=2*radius,this.height=2*radius,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(offsetX,offsetY),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(x,y){var gameObject=this.gameObject;void 0===x&&(x=gameObject.x),void 0===y&&(y=gameObject.y),this.world.staticTree.remove(this),gameObject.setPosition(x,y),gameObject.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(obj){return obj.x=this.x,obj.y=this.y,obj.right=this.right,obj.bottom=this.bottom,obj},hitTest:function(x,y){return this.isCircle?CircleContains(this,x,y):RectangleContains(this,x,y)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(graphic){var pos=this.position,x=pos.x+this.halfWidth,y=pos.y+this.halfHeight;this.debugShowBody&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?graphic.strokeCircle(x,y,this.width/2):graphic.strokeRect(pos.x,pos.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(value){return value<=0&&(value=.1),this.mass=value,this},x:{get:function(){return this.position.x},set:function(value){this.world.staticTree.remove(this),this.position.x=value,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(value){this.world.staticTree.remove(this),this.position.y=value,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module2.exports=StaticBody},71464:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArcadeSprite=__webpack_require__2(13759),Class=__webpack_require__2(83419),CollisionComponent=__webpack_require__2(78389),CONST=__webpack_require__2(37747),GetFastValue=__webpack_require__2(95540),Group=__webpack_require__2(26479),IsPlainObject=__webpack_require__2(41212),StaticPhysicsGroup=new Class({Extends:Group,Mixins:[CollisionComponent],initialize:function StaticPhysicsGroup2(world,scene,children,config2){children||config2?IsPlainObject(children)?(config2=children,children=null,config2.internalCreateCallback=this.createCallbackHandler,config2.internalRemoveCallback=this.removeCallbackHandler,config2.createMultipleCallback=this.createMultipleCallbackHandler,config2.classType=GetFastValue(config2,"classType",ArcadeSprite)):Array.isArray(children)&&IsPlainObject(children[0])?(config2=children,children=null,config2.forEach((function(singleConfig){singleConfig.internalCreateCallback=this.createCallbackHandler,singleConfig.internalRemoveCallback=this.removeCallbackHandler,singleConfig.createMultipleCallback=this.createMultipleCallbackHandler,singleConfig.classType=GetFastValue(singleConfig,"classType",ArcadeSprite)}))):config2={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:config2={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:ArcadeSprite},this.world=world,this.physicsType=CONST.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,Group.call(this,scene,children,config2),this.type="StaticPhysicsGroup"},createCallbackHandler:function(child){child.body||this.world.enableBody(child,CONST.STATIC_BODY)},removeCallbackHandler:function(child){child.body&&this.world.disableBody(child)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var children=this.children.entries,i=0;i<children.length;i++)children[i].body.reset();return this}});module2.exports=StaticPhysicsGroup},82248:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AngleBetweenPoints=__webpack_require__2(55495),Body=__webpack_require__2(37742),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Collider=__webpack_require__2(79342),CONST=__webpack_require__2(37747),DistanceBetween=__webpack_require__2(20339),DistanceBetweenPoints=__webpack_require__2(52816),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(63012),FuzzyEqual=__webpack_require__2(43855),FuzzyGreaterThan=__webpack_require__2(5470),FuzzyLessThan=__webpack_require__2(94977),GetOverlapX=__webpack_require__2(64897),GetOverlapY=__webpack_require__2(45170),GetTilesWithinWorldXY=__webpack_require__2(96523),GetValue=__webpack_require__2(35154),MATH_CONST=__webpack_require__2(36383),ProcessQueue=__webpack_require__2(25774),ProcessTileCallbacks=__webpack_require__2(96602),Rectangle=__webpack_require__2(87841),RTree=__webpack_require__2(59542),SeparateTile=__webpack_require__2(40012),SeparateX=__webpack_require__2(14087),SeparateY=__webpack_require__2(89936),Set2=__webpack_require__2(35072),StaticBody=__webpack_require__2(72624),TileIntersectsBody=__webpack_require__2(2483),TransformMatrix=__webpack_require__2(61340),Vector2=__webpack_require__2(26099),Wrap=__webpack_require__2(15994),World=new Class({Extends:EventEmitter2,initialize:function World2(scene,config2){EventEmitter2.call(this),this.scene=scene,this.bodies=new Set2,this.staticBodies=new Set2,this.pendingDestroy=new Set2,this.colliders=new ProcessQueue,this.gravity=new Vector2(GetValue(config2,"gravity.x",0),GetValue(config2,"gravity.y",0)),this.bounds=new Rectangle(GetValue(config2,"x",0),GetValue(config2,"y",0),GetValue(config2,"width",scene.sys.scale.width),GetValue(config2,"height",scene.sys.scale.height)),this.checkCollision={up:GetValue(config2,"checkCollision.up",!0),down:GetValue(config2,"checkCollision.down",!0),left:GetValue(config2,"checkCollision.left",!0),right:GetValue(config2,"checkCollision.right",!0)},this.fps=GetValue(config2,"fps",60),this.fixedStep=GetValue(config2,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=GetValue(config2,"timeScale",1),this.OVERLAP_BIAS=GetValue(config2,"overlapBias",4),this.TILE_BIAS=GetValue(config2,"tileBias",16),this.forceX=GetValue(config2,"forceX",!1),this.isPaused=GetValue(config2,"isPaused",!1),this._total=0,this.drawDebug=GetValue(config2,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:GetValue(config2,"debugShowBody",!0),debugShowStaticBody:GetValue(config2,"debugShowStaticBody",!0),debugShowVelocity:GetValue(config2,"debugShowVelocity",!0),bodyDebugColor:GetValue(config2,"debugBodyColor",16711935),staticBodyDebugColor:GetValue(config2,"debugStaticBodyColor",255),velocityDebugColor:GetValue(config2,"debugVelocityColor",65280)},this.maxEntries=GetValue(config2,"maxEntries",16),this.useTree=GetValue(config2,"useTree",!0),this.tree=new RTree(this.maxEntries),this.staticTree=new RTree(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new TransformMatrix,this._tempMatrix2=new TransformMatrix,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(object,bodyType){void 0===bodyType&&(bodyType=CONST.DYNAMIC_BODY),Array.isArray(object)||(object=[object]);for(var i=0;i<object.length;i++){var entry=object[i];if(entry.isParent)for(var children=entry.getChildren(),c=0;c<children.length;c++){var child=children[c];child.isParent?this.enable(child,bodyType):this.enableBody(child,bodyType)}else this.enableBody(entry,bodyType)}},enableBody:function(object,bodyType){return void 0===bodyType&&(bodyType=CONST.DYNAMIC_BODY),object.hasTransformComponent&&(object.body||(bodyType===CONST.DYNAMIC_BODY?object.body=new Body(this,object):bodyType===CONST.STATIC_BODY&&(object.body=new StaticBody(this,object))),this.add(object.body)),object},add:function(body){return body.physicsType===CONST.DYNAMIC_BODY?this.bodies.set(body):body.physicsType===CONST.STATIC_BODY&&(this.staticBodies.set(body),this.staticTree.insert(body)),body.enable=!0,body},disable:function(object){Array.isArray(object)||(object=[object]);for(var i=0;i<object.length;i++){var entry=object[i];if(entry.isParent)for(var children=entry.getChildren(),c=0;c<children.length;c++){var child=children[c];child.isParent?this.disable(child):this.disableBody(child.body)}else this.disableBody(entry.body)}},disableBody:function(body){this.remove(body),body.enable=!1},remove:function(body){body.physicsType===CONST.DYNAMIC_BODY?(this.tree.remove(body),this.bodies.delete(body)):body.physicsType===CONST.STATIC_BODY&&(this.staticBodies.delete(body),this.staticTree.remove(body))},createDebugGraphic:function(){var graphic=this.scene.sys.add.graphics({x:0,y:0});return graphic.setDepth(Number.MAX_VALUE),this.debugGraphic=graphic,this.drawDebug=!0,graphic},setBounds:function(x,y,width,height,checkLeft,checkRight,checkUp,checkDown){return this.bounds.setTo(x,y,width,height),void 0!==checkLeft&&this.setBoundsCollision(checkLeft,checkRight,checkUp,checkDown),this},setBoundsCollision:function(left,right,up,down){return void 0===left&&(left=!0),void 0===right&&(right=!0),void 0===up&&(up=!0),void 0===down&&(down=!0),this.checkCollision.left=left,this.checkCollision.right=right,this.checkCollision.up=up,this.checkCollision.down=down,this},pause:function(){return this.isPaused=!0,this.emit(Events2.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(Events2.RESUME),this},addCollider:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=collideCallback);var collider=new Collider(this,!1,object1,object2,collideCallback,processCallback,callbackContext);return this.colliders.add(collider),collider},addOverlap:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=collideCallback);var collider=new Collider(this,!0,object1,object2,collideCallback,processCallback,callbackContext);return this.colliders.add(collider),collider},removeCollider:function(collider){return this.colliders.remove(collider),this},setFPS:function(framerate){return this.fps=framerate,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(time,delta){if(!this.isPaused&&0!==this.bodies.size){var i,body,fixedDelta=this._frameTime,msPerFrame=this._frameTimeMS*this.timeScale;this._elapsed+=delta;var bodies=this.bodies.entries,willStep=this._elapsed>=msPerFrame;for(this.fixedStep||(fixedDelta=.001*delta,willStep=!0,this._elapsed=0),i=0;i<bodies.length;i++)(body=bodies[i]).enable&&body.preUpdate(willStep,fixedDelta);if(willStep){this._elapsed-=msPerFrame,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(bodies));var colliders=this.colliders.update();for(i=0;i<colliders.length;i++){var collider=colliders[i];collider.active&&collider.update()}this.emit(Events2.WORLD_STEP,fixedDelta)}for(;this._elapsed>=msPerFrame;)this._elapsed-=msPerFrame,this.step(fixedDelta)}},step:function(delta){var i,body,bodies=this.bodies.entries,len=bodies.length;for(i=0;i<len;i++)(body=bodies[i]).enable&&body.update(delta);this.useTree&&(this.tree.clear(),this.tree.load(bodies));var colliders=this.colliders.update();for(i=0;i<colliders.length;i++){var collider=colliders[i];collider.active&&collider.update()}this.emit(Events2.WORLD_STEP,delta),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var i,body,bodies=this.bodies.entries,len=bodies.length,dynamic=this.bodies,staticBodies=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,i=0;i<len;i++)(body=bodies[i]).enable&&body.postUpdate();if(this.drawDebug){var graphics=this.debugGraphic;for(graphics.clear(),i=0;i<len;i++)(body=bodies[i]).willDrawDebug()&&body.drawDebug(graphics);for(len=(bodies=staticBodies.entries).length,i=0;i<len;i++)(body=bodies[i]).willDrawDebug()&&body.drawDebug(graphics)}var pending=this.pendingDestroy;if(pending.size>0){var dynamicTree=this.tree,staticTree=this.staticTree;for(len=(bodies=pending.entries).length,i=0;i<len;i++)(body=bodies[i]).physicsType===CONST.DYNAMIC_BODY?(dynamicTree.remove(body),dynamic.delete(body)):body.physicsType===CONST.STATIC_BODY&&(staticTree.remove(body),staticBodies.delete(body)),body.world=void 0,body.gameObject=void 0;pending.clear()}},updateMotion:function(body,delta){body.allowRotation&&this.computeAngularVelocity(body,delta),this.computeVelocity(body,delta)},computeAngularVelocity:function(body,delta){var velocity=body.angularVelocity,acceleration=body.angularAcceleration,drag=body.angularDrag,max=body.maxAngular;acceleration?velocity+=acceleration*delta:body.allowDrag&&drag&&(FuzzyGreaterThan(velocity-(drag*=delta),0,.1)?velocity-=drag:FuzzyLessThan(velocity+drag,0,.1)?velocity+=drag:velocity=0);var velocityDelta=(velocity=Clamp(velocity,-max,max))-body.angularVelocity;body.angularVelocity+=velocityDelta,body.rotation+=body.angularVelocity*delta},computeVelocity:function(body,delta){var velocityX=body.velocity.x,accelerationX=body.acceleration.x,dragX=body.drag.x,maxX=body.maxVelocity.x,velocityY=body.velocity.y,accelerationY=body.acceleration.y,dragY=body.drag.y,maxY=body.maxVelocity.y,speed=body.speed,maxSpeed=body.maxSpeed,allowDrag=body.allowDrag,useDamping=body.useDamping;body.allowGravity&&(velocityX+=(this.gravity.x+body.gravity.x)*delta,velocityY+=(this.gravity.y+body.gravity.y)*delta),accelerationX?velocityX+=accelerationX*delta:allowDrag&&dragX&&(useDamping?(velocityX*=dragX=Math.pow(dragX,delta),speed=Math.sqrt(velocityX*velocityX+velocityY*velocityY),FuzzyEqual(speed,0,.001)&&(velocityX=0)):FuzzyGreaterThan(velocityX-(dragX*=delta),0,.01)?velocityX-=dragX:FuzzyLessThan(velocityX+dragX,0,.01)?velocityX+=dragX:velocityX=0),accelerationY?velocityY+=accelerationY*delta:allowDrag&&dragY&&(useDamping?(velocityY*=dragY=Math.pow(dragY,delta),speed=Math.sqrt(velocityX*velocityX+velocityY*velocityY),FuzzyEqual(speed,0,.001)&&(velocityY=0)):FuzzyGreaterThan(velocityY-(dragY*=delta),0,.01)?velocityY-=dragY:FuzzyLessThan(velocityY+dragY,0,.01)?velocityY+=dragY:velocityY=0),velocityX=Clamp(velocityX,-maxX,maxX),velocityY=Clamp(velocityY,-maxY,maxY),body.velocity.set(velocityX,velocityY),maxSpeed>-1&&body.velocity.length()>maxSpeed&&(body.velocity.normalize().scale(maxSpeed),speed=maxSpeed),body.speed=speed},separate:function(body1,body2,processCallback,callbackContext,overlapOnly){var overlapX,overlapY,result=!1,runSeparation=!0;if(!body1.enable||!body2.enable||body1.checkCollision.none||body2.checkCollision.none||!this.intersects(body1,body2))return result;if(processCallback&&!1===processCallback.call(callbackContext,body1.gameObject||body1,body2.gameObject||body2))return result;if(body1.isCircle||body2.isCircle){var circleResults=this.separateCircle(body1,body2,overlapOnly);circleResults.result?(result=!0,runSeparation=!1):(overlapX=circleResults.x,overlapY=circleResults.y,runSeparation=!0)}if(runSeparation){var resultX=!1,resultY=!1,bias=this.OVERLAP_BIAS;overlapOnly?(resultX=SeparateX(body1,body2,overlapOnly,bias,overlapX),resultY=SeparateY(body1,body2,overlapOnly,bias,overlapY)):this.forceX||Math.abs(this.gravity.y+body1.gravity.y)<Math.abs(this.gravity.x+body1.gravity.x)?(resultX=SeparateX(body1,body2,overlapOnly,bias,overlapX),this.intersects(body1,body2)&&(resultY=SeparateY(body1,body2,overlapOnly,bias,overlapY))):(resultY=SeparateY(body1,body2,overlapOnly,bias,overlapY),this.intersects(body1,body2)&&(resultX=SeparateX(body1,body2,overlapOnly,bias,overlapX))),result=resultX||resultY}return result&&(overlapOnly?(body1.onOverlap||body2.onOverlap)&&this.emit(Events2.OVERLAP,body1.gameObject,body2.gameObject,body1,body2):(body1.onCollide||body2.onCollide)&&this.emit(Events2.COLLIDE,body1.gameObject,body2.gameObject,body1,body2)),result},separateCircle:function(body1,body2,overlapOnly){GetOverlapX(body1,body2,!1,0),GetOverlapY(body1,body2,!1,0);var body1IsCircle=body1.isCircle,body2IsCircle=body2.isCircle,body1Center=body1.center,body2Center=body2.center,body1Immovable=body1.immovable,body2Immovable=body2.immovable,body1Velocity=body1.velocity,body2Velocity=body2.velocity,overlap=0,twoCircles=!0;if(body1IsCircle!==body2IsCircle){twoCircles=!1;var circleX=body1Center.x,circleY=body1Center.y,circleRadius=body1.halfWidth,rectX=body2.position.x,rectY=body2.position.y,rectRight=body2.right,rectBottom=body2.bottom;body2IsCircle&&(circleX=body2Center.x,circleY=body2Center.y,circleRadius=body2.halfWidth,rectX=body1.position.x,rectY=body1.position.y,rectRight=body1.right,rectBottom=body1.bottom),circleY<rectY?circleX<rectX?overlap=DistanceBetween(circleX,circleY,rectX,rectY)-circleRadius:circleX>rectRight&&(overlap=DistanceBetween(circleX,circleY,rectRight,rectY)-circleRadius):circleY>rectBottom&&(circleX<rectX?overlap=DistanceBetween(circleX,circleY,rectX,rectBottom)-circleRadius:circleX>rectRight&&(overlap=DistanceBetween(circleX,circleY,rectRight,rectBottom)-circleRadius)),overlap*=-1}else overlap=body1.halfWidth+body2.halfWidth-DistanceBetweenPoints(body1Center,body2Center);body1.overlapR=overlap,body2.overlapR=overlap;var angle=AngleBetweenPoints(body1Center,body2Center),overlapX=(overlap+MATH_CONST.EPSILON)*Math.cos(angle),overlapY=(overlap+MATH_CONST.EPSILON)*Math.sin(angle),results={overlap:overlap,result:!1,x:overlapX,y:overlapY};if(overlapOnly&&(!twoCircles||twoCircles&&0!==overlap))return results.result=!0,results;if(!twoCircles&&0===overlap||body1Immovable&&body2Immovable||body1.customSeparateX||body2.customSeparateX)return results.x=void 0,results.y=void 0,results;var deadlock=!body1.pushable&&!body2.pushable;if(twoCircles){var dx=body1Center.x-body2Center.x,dy=body1Center.y-body2Center.y,d=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2)),nx=(body2Center.x-body1Center.x)/d||0,ny=(body2Center.y-body1Center.y)/d||0,p=2*(body1Velocity.x*nx+body1Velocity.y*ny-body2Velocity.x*nx-body2Velocity.y*ny)/(body1.mass+body2.mass);!body1Immovable&&!body2Immovable&&body1.pushable&&body2.pushable||(p*=2),!body1Immovable&&body1.pushable&&(body1Velocity.x=body1Velocity.x-p/body1.mass*nx,body1Velocity.y=body1Velocity.y-p/body1.mass*ny,body1Velocity.multiply(body1.bounce)),!body2Immovable&&body2.pushable&&(body2Velocity.x=body2Velocity.x+p/body2.mass*nx,body2Velocity.y=body2Velocity.y+p/body2.mass*ny,body2Velocity.multiply(body2.bounce)),body1Immovable||body2Immovable||(overlapX*=.5,overlapY*=.5),!body1Immovable||body1.pushable||deadlock?(body1.x-=overlapX,body1.y-=overlapY,body1.updateCenter()):(!body2Immovable||body2.pushable||deadlock)&&(body2.x+=overlapX,body2.y+=overlapY,body2.updateCenter()),results.result=!0}else!body1Immovable||body1.pushable||deadlock?(body1.x-=overlapX,body1.y-=overlapY,body1.updateCenter()):(!body2Immovable||body2.pushable||deadlock)&&(body2.x+=overlapX,body2.y+=overlapY,body2.updateCenter()),results.x=void 0,results.y=void 0;return results},intersects:function(body1,body2){return body1!==body2&&(body1.isCircle||body2.isCircle?body1.isCircle?body2.isCircle?DistanceBetweenPoints(body1.center,body2.center)<=body1.halfWidth+body2.halfWidth:this.circleBodyIntersects(body1,body2):this.circleBodyIntersects(body2,body1):!(body1.right<=body2.left||body1.bottom<=body2.top||body1.left>=body2.right||body1.top>=body2.bottom))},circleBodyIntersects:function(circle,body){var x=Clamp(circle.center.x,body.left,body.right),y=Clamp(circle.center.y,body.top,body.bottom);return(circle.center.x-x)*(circle.center.x-x)+(circle.center.y-y)*(circle.center.y-y)<=circle.halfWidth*circle.halfWidth},overlap:function(object1,object2,overlapCallback,processCallback,callbackContext){return void 0===overlapCallback&&(overlapCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=overlapCallback),this.collideObjects(object1,object2,overlapCallback,processCallback,callbackContext,!0)},collide:function(object1,object2,collideCallback,processCallback,callbackContext){return void 0===collideCallback&&(collideCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=collideCallback),this.collideObjects(object1,object2,collideCallback,processCallback,callbackContext,!1)},collideObjects:function(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly){var i,j;!object1.isParent||void 0!==object1.physicsType&&void 0!==object2&&object1!==object2||(object1=object1.children.entries),object2&&object2.isParent&&void 0===object2.physicsType&&(object2=object2.children.entries);var object1isArray=Array.isArray(object1),object2isArray=Array.isArray(object2);if(this._total=0,object1isArray||object2isArray)if(!object1isArray&&object2isArray)for(i=0;i<object2.length;i++)this.collideHandler(object1,object2[i],collideCallback,processCallback,callbackContext,overlapOnly);else if(object1isArray&&!object2isArray)if(object2)for(i=0;i<object1.length;i++)this.collideHandler(object1[i],object2,collideCallback,processCallback,callbackContext,overlapOnly);else for(i=0;i<object1.length;i++){var child=object1[i];for(j=i+1;j<object1.length;j++)i!==j&&this.collideHandler(child,object1[j],collideCallback,processCallback,callbackContext,overlapOnly)}else for(i=0;i<object1.length;i++)for(j=0;j<object2.length;j++)this.collideHandler(object1[i],object2[j],collideCallback,processCallback,callbackContext,overlapOnly);else this.collideHandler(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);return this._total>0},collideHandler:function(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly){if(void 0===object2&&object1.isParent)return this.collideGroupVsGroup(object1,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(!object1||!object2)return!1;if(object1.body||object1.isBody){if(object2.body||object2.isBody)return this.collideSpriteVsSprite(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideSpriteVsGroup(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isTilemap)return this.collideSpriteVsTilemapLayer(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly)}else if(object1.isParent){if(object2.body||object2.isBody)return this.collideSpriteVsGroup(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideGroupVsGroup(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isTilemap)return this.collideGroupVsTilemapLayer(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly)}else if(object1.isTilemap){if(object2.body||object2.isBody)return this.collideSpriteVsTilemapLayer(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideGroupVsTilemapLayer(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly)}},canCollide:function(body1,body2){return body1&&body2&&0!==(body1.collisionMask&body2.collisionCategory)&&0!==(body2.collisionMask&body1.collisionCategory)},collideSpriteVsSprite:function(sprite1,sprite2,collideCallback,processCallback,callbackContext,overlapOnly){var body1=sprite1.isBody?sprite1:sprite1.body,body2=sprite2.isBody?sprite2:sprite2.body;return!!this.canCollide(body1,body2)&&(this.separate(body1,body2,processCallback,callbackContext,overlapOnly)&&(collideCallback&&collideCallback.call(callbackContext,sprite1,sprite2),this._total++),!0)},collideSpriteVsGroup:function(sprite,group,collideCallback,processCallback,callbackContext,overlapOnly){var i,len,bodyB,bodyA=sprite.isBody?sprite:sprite.body;if(0!==group.getLength()&&bodyA&&bodyA.enable&&!bodyA.checkCollision.none&&this.canCollide(bodyA,group))if(this.useTree||group.physicsType===CONST.STATIC_BODY){var minMax=this.treeMinMax;minMax.minX=bodyA.left,minMax.minY=bodyA.top,minMax.maxX=bodyA.right,minMax.maxY=bodyA.bottom;var results=group.physicsType===CONST.DYNAMIC_BODY?this.tree.search(minMax):this.staticTree.search(minMax);for(len=results.length,i=0;i<len;i++)bodyA!==(bodyB=results[i])&&bodyB.enable&&!bodyB.checkCollision.none&&group.contains(bodyB.gameObject)&&this.separate(bodyA,bodyB,processCallback,callbackContext,overlapOnly)&&(collideCallback&&collideCallback.call(callbackContext,bodyA.gameObject,bodyB.gameObject),this._total++)}else{var children=group.getChildren(),skipIndex=group.children.entries.indexOf(sprite);for(len=children.length,i=0;i<len;i++)(bodyB=children[i].body)&&i!==skipIndex&&bodyB.enable&&this.separate(bodyA,bodyB,processCallback,callbackContext,overlapOnly)&&(collideCallback&&collideCallback.call(callbackContext,bodyA.gameObject,bodyB.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(group,tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly){if(!this.canCollide(group,tilemapLayer))return!1;var children=group.getChildren();if(0===children.length)return!1;for(var didCollide=!1,i=0;i<children.length;i++)(children[i].body||children[i].isBody)&&this.collideSpriteVsTilemapLayer(children[i],tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly)&&(didCollide=!0);return didCollide},collideTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return!(0===tiles.length||sprite.body&&!sprite.body.enable||sprite.isBody&&!sprite.enable)&&this.collideSpriteVsTilesHandler(sprite,tiles,collideCallback,processCallback,callbackContext,!1,!1)},overlapTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return!(0===tiles.length||sprite.body&&!sprite.body.enable||sprite.isBody&&!sprite.enable)&&this.collideSpriteVsTilesHandler(sprite,tiles,collideCallback,processCallback,callbackContext,!0,!1)},collideSpriteVsTilemapLayer:function(sprite,tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly){var body=sprite.isBody?sprite:sprite.body;if(!body.enable||body.checkCollision.none||!this.canCollide(body,tilemapLayer))return!1;var layerData=tilemapLayer.layer,x=body.x-layerData.tileWidth*tilemapLayer.scaleX,y=body.y-layerData.tileHeight*tilemapLayer.scaleY,w=body.width+layerData.tileWidth*tilemapLayer.scaleX,h=body.height+layerData.tileHeight*tilemapLayer.scaleY,options=overlapOnly?null:this.tileFilterOptions,mapData=GetTilesWithinWorldXY(x,y,w,h,options,tilemapLayer.scene.cameras.main,tilemapLayer.layer);return 0!==mapData.length&&this.collideSpriteVsTilesHandler(sprite,mapData,collideCallback,processCallback,callbackContext,overlapOnly,!0)},collideSpriteVsTilesHandler:function(sprite,tiles,collideCallback,processCallback,callbackContext,overlapOnly,isLayer){for(var tile,tilemapLayer,body=sprite.isBody?sprite:sprite.body,tileWorldRect={left:0,right:0,top:0,bottom:0},collision=!1,i=0;i<tiles.length;i++){var point=(tilemapLayer=(tile=tiles[i]).tilemapLayer).tileToWorldXY(tile.x,tile.y);tileWorldRect.left=point.x,tileWorldRect.top=point.y,tileWorldRect.right=tileWorldRect.left+tile.width*tilemapLayer.scaleX,tileWorldRect.bottom=tileWorldRect.top+tile.height*tilemapLayer.scaleY,TileIntersectsBody(tileWorldRect,body)&&(!processCallback||processCallback.call(callbackContext,sprite,tile))&&ProcessTileCallbacks(tile,sprite)&&(overlapOnly||SeparateTile(i,body,tile,tileWorldRect,tilemapLayer,this.TILE_BIAS,isLayer))&&(this._total++,collision=!0,collideCallback&&collideCallback.call(callbackContext,sprite,tile),overlapOnly&&body.onOverlap?this.emit(Events2.TILE_OVERLAP,sprite,tile,body):body.onCollide&&this.emit(Events2.TILE_COLLIDE,sprite,tile,body))}return collision},collideGroupVsGroup:function(group1,group2,collideCallback,processCallback,callbackContext,overlapOnly){if(0!==group1.getLength()&&0!==group2.getLength()&&this.canCollide(group1,group2))for(var children=group1.getChildren(),i=0;i<children.length;i++)this.collideSpriteVsGroup(children[i],group2,collideCallback,processCallback,callbackContext,overlapOnly)},wrap:function(object,padding){object.body?this.wrapObject(object,padding):object.getChildren?this.wrapArray(object.getChildren(),padding):Array.isArray(object)?this.wrapArray(object,padding):this.wrapObject(object,padding)},wrapArray:function(objects,padding){for(var i=0;i<objects.length;i++)this.wrapObject(objects[i],padding)},wrapObject:function(object,padding){void 0===padding&&(padding=0),object.x=Wrap(object.x,this.bounds.left-padding,this.bounds.right+padding),object.y=Wrap(object.y,this.bounds.top-padding,this.bounds.bottom+padding)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});module2.exports=World},1093:module2=>{module2.exports={setAcceleration:function(x,y){return this.body.acceleration.set(x,y),this},setAccelerationX:function(value){return this.body.acceleration.x=value,this},setAccelerationY:function(value){return this.body.acceleration.y=value,this}}},59023:module2=>{module2.exports={setAngularVelocity:function(value){return this.body.angularVelocity=value,this},setAngularAcceleration:function(value){return this.body.angularAcceleration=value,this},setAngularDrag:function(value){return this.body.angularDrag=value,this}}},62069:module2=>{module2.exports={setBounce:function(x,y){return this.body.bounce.set(x,y),this},setBounceX:function(value){return this.body.bounce.x=value,this},setBounceY:function(value){return this.body.bounce.y=value,this},setCollideWorldBounds:function(value,bounceX,bounceY,onWorldBounds){return this.body.setCollideWorldBounds(value,bounceX,bounceY,onWorldBounds),this}}},78389:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCollidesWith=__webpack_require__2(79599),Collision={setCollisionCategory:function(category){return(this.body?this.body:this).collisionCategory=category,this},willCollideWith:function(category){return 0!==((this.body?this.body:this).collisionMask&category)},addCollidesWith:function(category){var target2=this.body?this.body:this;return target2.collisionMask=target2.collisionMask|category,this},removeCollidesWith:function(category){var target2=this.body?this.body:this;return target2.collisionMask=target2.collisionMask&~category,this},setCollidesWith:function(categories){return(this.body?this.body:this).collisionMask=GetCollidesWith(categories),this},resetCollisionCategory:function(){var target2=this.body?this.body:this;return target2.collisionCategory=1,target2.collisionMask=2147483647,this}};module2.exports=Collision},87118:module2=>{module2.exports={setDebug:function(showBody,showVelocity,bodyColor){return this.debugShowBody=showBody,this.debugShowVelocity=showVelocity,this.debugBodyColor=bodyColor,this},setDebugBodyColor:function(value){return this.body.debugBodyColor=value,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(value){this.body.debugShowBody=value}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(value){this.body.debugShowVelocity=value}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(value){this.body.debugBodyColor=value}}}},52819:module2=>{module2.exports={setDrag:function(x,y){return this.body.drag.set(x,y),this},setDragX:function(value){return this.body.drag.x=value,this},setDragY:function(value){return this.body.drag.y=value,this},setDamping:function(value){return this.body.useDamping=value,this}}},4074:module2=>{module2.exports={setDirectControl:function(value){return this.body.setDirectControl(value),this},enableBody:function(reset,x,y,enableGameObject,showGameObject){return reset&&this.body.reset(x,y),enableGameObject&&(this.body.gameObject.active=!0),showGameObject&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(disableGameObject,hideGameObject){return void 0===disableGameObject&&(disableGameObject=!1),void 0===hideGameObject&&(hideGameObject=!1),this.body.stop(),this.body.enable=!1,disableGameObject&&(this.body.gameObject.active=!1),hideGameObject&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:module2=>{module2.exports={setFriction:function(x,y){return this.body.friction.set(x,y),this},setFrictionX:function(x){return this.body.friction.x=x,this},setFrictionY:function(y){return this.body.friction.y=y,this}}},26775:module2=>{module2.exports={setGravity:function(x,y){return this.body.gravity.set(x,y),this},setGravityX:function(x){return this.body.gravity.x=x,this},setGravityY:function(y){return this.body.gravity.y=y,this}}},9437:module2=>{module2.exports={setImmovable:function(value){return void 0===value&&(value=!0),this.body.immovable=value,this}}},30621:module2=>{module2.exports={setMass:function(value){return this.body.mass=value,this}}},72441:(module2,__unused_webpack_exports,__webpack_require__2)=>{var OverlapRect=__webpack_require__2(47956),Circle=__webpack_require__2(96503),CircleToCircle=__webpack_require__2(2044),CircleToRectangle=__webpack_require__2(81491);module2.exports=function(world,x,y,radius,includeDynamic,includeStatic){var bodiesInRect=OverlapRect(world,x-radius,y-radius,2*radius,2*radius,includeDynamic,includeStatic);if(0===bodiesInRect.length)return bodiesInRect;for(var area=new Circle(x,y,radius),circFromBody=new Circle,bodiesInArea=[],i=0;i<bodiesInRect.length;i++){var body=bodiesInRect[i];body.isCircle?(circFromBody.setTo(body.center.x,body.center.y,body.halfWidth),CircleToCircle(area,circFromBody)&&bodiesInArea.push(body)):CircleToRectangle(area,body)&&bodiesInArea.push(body)}return bodiesInArea}},47956:module2=>{module2.exports=function(world,x,y,width,height,includeDynamic,includeStatic){void 0===includeDynamic&&(includeDynamic=!0),void 0===includeStatic&&(includeStatic=!1);var dynamicBodies=[],staticBodies=[],minMax=world.treeMinMax;if(minMax.minX=x,minMax.minY=y,minMax.maxX=x+width,minMax.maxY=y+height,includeStatic&&(staticBodies=world.staticTree.search(minMax)),includeDynamic&&world.useTree)dynamicBodies=world.tree.search(minMax);else if(includeDynamic){var bodies=world.bodies,fakeBody={position:{x:x,y:y},left:x,top:y,right:x+width,bottom:y+height,isCircle:!1},intersects=world.intersects;bodies.iterate((function(target2){intersects(target2,fakeBody)&&dynamicBodies.push(target2)}))}return staticBodies.concat(dynamicBodies)}},62121:module2=>{module2.exports={setPushable:function(value){return void 0===value&&(value=!0),this.body.pushable=value,this}}},29384:module2=>{module2.exports={setOffset:function(x,y){return this.body.setOffset(x,y),this},setSize:function(width,height,center){return this.body.setSize(width,height,center),this},setBodySize:function(width,height,center){return this.body.setSize(width,height,center),this},setCircle:function(radius,offsetX,offsetY){return this.body.setCircle(radius,offsetX,offsetY),this}}},15098:module2=>{module2.exports={setVelocity:function(x,y){return this.body.setVelocity(x,y),this},setVelocityX:function(x){return this.body.setVelocityX(x),this},setVelocityY:function(y){return this.body.setVelocityY(y),this},setMaxVelocity:function(x,y){return this.body.maxVelocity.set(x,y),this}}},92209:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Acceleration:__webpack_require__2(1093),Angular:__webpack_require__2(59023),Bounce:__webpack_require__2(62069),Collision:__webpack_require__2(78389),Debug:__webpack_require__2(87118),Drag:__webpack_require__2(52819),Enable:__webpack_require__2(4074),Friction:__webpack_require__2(40831),Gravity:__webpack_require__2(26775),Immovable:__webpack_require__2(9437),Mass:__webpack_require__2(30621),OverlapCirc:__webpack_require__2(72441),OverlapRect:__webpack_require__2(47956),Pushable:__webpack_require__2(62121),Size:__webpack_require__2(29384),Velocity:__webpack_require__2(15098)}},37747:module2=>{module2.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="collide"},36768:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="overlap"},60473:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},89954:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},61804:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="tilecollide"},7161:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="tileoverlap"},34689:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="worldbounds"},16006:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="worldstep"},63012:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={COLLIDE:__webpack_require__2(20009),OVERLAP:__webpack_require__2(36768),PAUSE:__webpack_require__2(60473),RESUME:__webpack_require__2(89954),TILE_COLLIDE:__webpack_require__2(61804),TILE_OVERLAP:__webpack_require__2(7161),WORLD_BOUNDS:__webpack_require__2(34689),WORLD_STEP:__webpack_require__2(16006)}},27064:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(37747),Extend=__webpack_require__2(79291),Arcade={ArcadePhysics:__webpack_require__2(86689),Body:__webpack_require__2(37742),Collider:__webpack_require__2(79342),Components:__webpack_require__2(92209),Events:__webpack_require__2(63012),Factory:__webpack_require__2(66022),GetCollidesWith:__webpack_require__2(79599),GetOverlapX:__webpack_require__2(64897),GetOverlapY:__webpack_require__2(45170),SeparateX:__webpack_require__2(14087),SeparateY:__webpack_require__2(89936),Group:__webpack_require__2(60758),Image:__webpack_require__2(71289),Sprite:__webpack_require__2(13759),StaticBody:__webpack_require__2(72624),StaticGroup:__webpack_require__2(71464),Tilemap:__webpack_require__2(55173),World:__webpack_require__2(82248)};Arcade=Extend(!1,Arcade,CONST),module2.exports=Arcade},96602:module2=>{module2.exports=function(tile,sprite){return tile.collisionCallback?!tile.collisionCallback.call(tile.collisionCallbackContext,sprite,tile):!tile.layer.callbacks[tile.index]||!tile.layer.callbacks[tile.index].callback.call(tile.layer.callbacks[tile.index].callbackContext,sprite,tile)}},36294:module2=>{module2.exports=function(body,x){x<0?(body.blocked.none=!1,body.blocked.left=!0):x>0&&(body.blocked.none=!1,body.blocked.right=!0),body.position.x-=x,body.updateCenter(),0===body.bounce.x?body.velocity.x=0:body.velocity.x=-body.velocity.x*body.bounce.x}},67013:module2=>{module2.exports=function(body,y){y<0?(body.blocked.none=!1,body.blocked.up=!0):y>0&&(body.blocked.none=!1,body.blocked.down=!0),body.position.y-=y,body.updateCenter(),0===body.bounce.y?body.velocity.y=0:body.velocity.y=-body.velocity.y*body.bounce.y}},40012:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileCheckX=__webpack_require__2(21329),TileCheckY=__webpack_require__2(53442),TileIntersectsBody=__webpack_require__2(2483);module2.exports=function(i,body,tile,tileWorldRect,tilemapLayer,tileBias,isLayer){var tileLeft=tileWorldRect.left,tileTop=tileWorldRect.top,tileRight=tileWorldRect.right,tileBottom=tileWorldRect.bottom,faceHorizontal=tile.faceLeft||tile.faceRight,faceVertical=tile.faceTop||tile.faceBottom;if(isLayer||(faceHorizontal=!0,faceVertical=!0),!faceHorizontal&&!faceVertical)return!1;var ox=0,oy=0,minX=0,minY=1;if(body.deltaAbsX()>body.deltaAbsY()?minX=-1:body.deltaAbsX()<body.deltaAbsY()&&(minY=-1),0!==body.deltaX()&&0!==body.deltaY()&&faceHorizontal&&faceVertical&&(minX=Math.min(Math.abs(body.position.x-tileRight),Math.abs(body.right-tileLeft)),minY=Math.min(Math.abs(body.position.y-tileBottom),Math.abs(body.bottom-tileTop))),minX<minY){if(faceHorizontal&&0!==(ox=TileCheckX(body,tile,tileLeft,tileRight,tileBias,isLayer))&&!TileIntersectsBody(tileWorldRect,body))return!0;faceVertical&&(oy=TileCheckY(body,tile,tileTop,tileBottom,tileBias,isLayer))}else{if(faceVertical&&0!==(oy=TileCheckY(body,tile,tileTop,tileBottom,tileBias,isLayer))&&!TileIntersectsBody(tileWorldRect,body))return!0;faceHorizontal&&(ox=TileCheckX(body,tile,tileLeft,tileRight,tileBias,isLayer))}return 0!==ox||0!==oy}},21329:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ProcessTileSeparationX=__webpack_require__2(36294);module2.exports=function(body,tile,tileLeft,tileRight,tileBias,isLayer){var ox=0,faceLeft=tile.faceLeft,faceRight=tile.faceRight,collideLeft=tile.collideLeft,collideRight=tile.collideRight;return isLayer||(faceLeft=!0,faceRight=!0,collideLeft=!0,collideRight=!0),body.deltaX()<0&&collideRight&&body.checkCollision.left?faceRight&&body.x<tileRight&&(ox=body.x-tileRight)<-tileBias&&(ox=0):body.deltaX()>0&&collideLeft&&body.checkCollision.right&&faceLeft&&body.right>tileLeft&&(ox=body.right-tileLeft)>tileBias&&(ox=0),0!==ox&&(body.customSeparateX?body.overlapX=ox:ProcessTileSeparationX(body,ox)),ox}},53442:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ProcessTileSeparationY=__webpack_require__2(67013);module2.exports=function(body,tile,tileTop,tileBottom,tileBias,isLayer){var oy=0,faceTop=tile.faceTop,faceBottom=tile.faceBottom,collideUp=tile.collideUp,collideDown=tile.collideDown;return isLayer||(faceTop=!0,faceBottom=!0,collideUp=!0,collideDown=!0),body.deltaY()<0&&collideDown&&body.checkCollision.up?faceBottom&&body.y<tileBottom&&(oy=body.y-tileBottom)<-tileBias&&(oy=0):body.deltaY()>0&&collideUp&&body.checkCollision.down&&faceTop&&body.bottom>tileTop&&(oy=body.bottom-tileTop)>tileBias&&(oy=0),0!==oy&&(body.customSeparateY?body.overlapY=oy:ProcessTileSeparationY(body,oy)),oy}},2483:module2=>{module2.exports=function(tileWorldRect,body){return!(body.right<=tileWorldRect.left||body.bottom<=tileWorldRect.top||body.position.x>=tileWorldRect.right||body.position.y>=tileWorldRect.bottom)}},55173:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tilemap={ProcessTileCallbacks:__webpack_require__2(96602),ProcessTileSeparationX:__webpack_require__2(36294),ProcessTileSeparationY:__webpack_require__2(67013),SeparateTile:__webpack_require__2(40012),TileCheckX:__webpack_require__2(21329),TileCheckY:__webpack_require__2(53442),TileIntersectsBody:__webpack_require__2(2483)};module2.exports=Tilemap},44563:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Arcade:__webpack_require__2(27064),Matter:__webpack_require__2(3875)}},68174:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Vector2=__webpack_require__2(26099),BodyBounds=new Class({initialize:function BodyBounds2(){this.boundsCenter=new Vector2,this.centerDiff=new Vector2},parseBody:function(body){if(!(body=body.hasOwnProperty("body")?body.body:body).hasOwnProperty("bounds")||!body.hasOwnProperty("centerOfMass"))return!1;var boundsCenter=this.boundsCenter,centerDiff=this.centerDiff,boundsWidth=body.bounds.max.x-body.bounds.min.x,boundsHeight=body.bounds.max.y-body.bounds.min.y,bodyCenterX=boundsWidth*body.centerOfMass.x,bodyCenterY=boundsHeight*body.centerOfMass.y;return boundsCenter.set(boundsWidth/2,boundsHeight/2),centerDiff.set(bodyCenterX-boundsCenter.x,bodyCenterY-boundsCenter.y),!0},getTopLeft:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x+center.x+diff.x,y+center.y+diff.y)}return!1},getTopCenter:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x+diff.x,y+center.y+diff.y)}return!1},getTopRight:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x-(center.x-diff.x),y+center.y+diff.y)}return!1},getLeftCenter:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x+center.x+diff.x,y+diff.y)}return!1},getCenter:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var diff=this.centerDiff;return new Vector2(x+diff.x,y+diff.y)}return!1},getRightCenter:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x-(center.x-diff.x),y+diff.y)}return!1},getBottomLeft:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x+center.x+diff.x,y-(center.y-diff.y))}return!1},getBottomCenter:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x+diff.x,y-(center.y-diff.y))}return!1},getBottomRight:function(body,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),this.parseBody(body)){var center=this.boundsCenter,diff=this.centerDiff;return new Vector2(x-(center.x-diff.x),y-(center.y-diff.y))}return!1}});module2.exports=BodyBounds},19933:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Matter=__webpack_require__2(6790);Matter.Body=__webpack_require__2(22562),Matter.Composite=__webpack_require__2(69351),Matter.World=__webpack_require__2(4372),Matter.Collision=__webpack_require__2(52284),Matter.Detector=__webpack_require__2(81388),Matter.Pairs=__webpack_require__2(99561),Matter.Pair=__webpack_require__2(4506),Matter.Query=__webpack_require__2(73296),Matter.Resolver=__webpack_require__2(66272),Matter.Constraint=__webpack_require__2(48140),Matter.Common=__webpack_require__2(53402),Matter.Engine=__webpack_require__2(48413),Matter.Events=__webpack_require__2(35810),Matter.Sleeping=__webpack_require__2(53614),Matter.Plugin=__webpack_require__2(73832),Matter.Bodies=__webpack_require__2(66280),Matter.Composites=__webpack_require__2(74116),Matter.Axes=__webpack_require__2(66615),Matter.Bounds=__webpack_require__2(15647),Matter.Svg=__webpack_require__2(74058),Matter.Vector=__webpack_require__2(31725),Matter.Vertices=__webpack_require__2(41598),Matter.World.add=Matter.Composite.add,Matter.World.remove=Matter.Composite.remove,Matter.World.addComposite=Matter.Composite.addComposite,Matter.World.addBody=Matter.Composite.addBody,Matter.World.addConstraint=Matter.Composite.addConstraint,Matter.World.clear=Matter.Composite.clear,module2.exports=Matter},28137:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Class=__webpack_require__2(83419),Composites=__webpack_require__2(74116),Constraint=__webpack_require__2(48140),Svg=__webpack_require__2(74058),MatterGameObject=__webpack_require__2(75803),MatterImage=__webpack_require__2(23181),MatterSprite=__webpack_require__2(34803),MatterTileBody=__webpack_require__2(73834),PhysicsEditorParser=__webpack_require__2(19496),PhysicsJSONParser=__webpack_require__2(85791),PointerConstraint=__webpack_require__2(98713),Vertices=__webpack_require__2(41598),Factory=new Class({initialize:function Factory2(world){this.world=world,this.scene=world.scene,this.sys=world.scene.sys},rectangle:function(x,y,width,height,options){var body=Bodies.rectangle(x,y,width,height,options);return this.world.add(body),body},trapezoid:function(x,y,width,height,slope,options){var body=Bodies.trapezoid(x,y,width,height,slope,options);return this.world.add(body),body},circle:function(x,y,radius,options,maxSides){var body=Bodies.circle(x,y,radius,options,maxSides);return this.world.add(body),body},polygon:function(x,y,sides,radius,options){var body=Bodies.polygon(x,y,sides,radius,options);return this.world.add(body),body},fromVertices:function(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea){"string"==typeof vertexSets&&(vertexSets=Vertices.fromPath(vertexSets));var body=Bodies.fromVertices(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea);return this.world.add(body),body},fromPhysicsEditor:function(x,y,config2,options,addToWorld){void 0===addToWorld&&(addToWorld=!0);var body=PhysicsEditorParser.parseBody(x,y,config2,options);return addToWorld&&!this.world.has(body)&&this.world.add(body),body},fromSVG:function(x,y,xml,scale,options,addToWorld){void 0===scale&&(scale=1),void 0===options&&(options={}),void 0===addToWorld&&(addToWorld=!0);for(var path=xml.getElementsByTagName("path"),vertexSets=[],i=0;i<path.length;i++){var points=Svg.pathToVertices(path[i],30);1!==scale&&Vertices.scale(points,scale,scale),vertexSets.push(points)}var body=Bodies.fromVertices(x,y,vertexSets,options);return addToWorld&&this.world.add(body),body},fromJSON:function(x,y,config2,options,addToWorld){void 0===options&&(options={}),void 0===addToWorld&&(addToWorld=!0);var body=PhysicsJSONParser.parseBody(x,y,config2,options);return body&&addToWorld&&this.world.add(body),body},imageStack:function(key,frame,x,y,columns,rows,columnGap,rowGap,options){void 0===columnGap&&(columnGap=0),void 0===rowGap&&(rowGap=0),void 0===options&&(options={});var world=this.world,displayList=this.sys.displayList;options.addToWorld=!1;var stack=Composites.stack(x,y,columns,rows,columnGap,rowGap,(function(x2,y2){var image=new MatterImage(world,x2,y2,key,frame,options);return displayList.add(image),image.body}));return world.add(stack),stack},stack:function(x,y,columns,rows,columnGap,rowGap,callback){var stack=Composites.stack(x,y,columns,rows,columnGap,rowGap,callback);return this.world.add(stack),stack},pyramid:function(x,y,columns,rows,columnGap,rowGap,callback){var stack=Composites.pyramid(x,y,columns,rows,columnGap,rowGap,callback);return this.world.add(stack),stack},chain:function(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options){return Composites.chain(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options)},mesh:function(composite,columns,rows,crossBrace,options){return Composites.mesh(composite,columns,rows,crossBrace,options)},newtonsCradle:function(x,y,number,size,length){var composite=Composites.newtonsCradle(x,y,number,size,length);return this.world.add(composite),composite},car:function(x,y,width,height,wheelSize){var composite=Composites.car(x,y,width,height,wheelSize);return this.world.add(composite),composite},softBody:function(x,y,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions){var composite=Composites.softBody(x,y,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions);return this.world.add(composite),composite},joint:function(bodyA,bodyB,length,stiffness,options){return this.constraint(bodyA,bodyB,length,stiffness,options)},spring:function(bodyA,bodyB,length,stiffness,options){return this.constraint(bodyA,bodyB,length,stiffness,options)},constraint:function(bodyA,bodyB,length,stiffness,options){void 0===stiffness&&(stiffness=1),void 0===options&&(options={}),options.bodyA="body"===bodyA.type?bodyA:bodyA.body,options.bodyB="body"===bodyB.type?bodyB:bodyB.body,isNaN(length)||(options.length=length),options.stiffness=stiffness;var constraint=Constraint.create(options);return this.world.add(constraint),constraint},worldConstraint:function(body,length,stiffness,options){void 0===stiffness&&(stiffness=1),void 0===options&&(options={}),options.bodyB="body"===body.type?body:body.body,isNaN(length)||(options.length=length),options.stiffness=stiffness;var constraint=Constraint.create(options);return this.world.add(constraint),constraint},mouseSpring:function(options){return this.pointerConstraint(options)},pointerConstraint:function(options){void 0===options&&(options={}),options.hasOwnProperty("render")||(options.render={visible:!1});var pointerConstraint=new PointerConstraint(this.scene,this.world,options);return this.world.add(pointerConstraint.constraint),pointerConstraint},image:function(x,y,key,frame,options){var image=new MatterImage(this.world,x,y,key,frame,options);return this.sys.displayList.add(image),image},tileBody:function(tile,options){return new MatterTileBody(this.world,tile,options)},sprite:function(x,y,key,frame,options){var sprite=new MatterSprite(this.world,x,y,key,frame,options);return this.sys.displayList.add(sprite),this.sys.updateList.add(sprite),sprite},gameObject:function(gameObject,options,addToWorld){return MatterGameObject(this.world,gameObject,options,addToWorld)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});module2.exports=Factory},75803:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Components=__webpack_require__2(31884),GetFastValue=__webpack_require__2(95540),Vector2=__webpack_require__2(26099);module2.exports=function(world,gameObject,options,addToWorld){void 0===options&&(options={}),void 0===addToWorld&&(addToWorld=!0);var x=gameObject.x,y=gameObject.y;if(gameObject.body={temp:!0,position:{x:x,y:y}},[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,Components.Transform,Components.Velocity].forEach((function(mixin){for(var key in mixin)(def=mixin[key]).get&&"function"==typeof def.get||def.set&&"function"==typeof def.set?Object.defineProperty(gameObject,key,{get:mixin[key].get,set:mixin[key].set}):Object.defineProperty(gameObject,key,{value:mixin[key]});var def})),gameObject.world=world,gameObject._tempVec2=new Vector2(x,y),options.hasOwnProperty("type")&&"body"===options.type)gameObject.setExistingBody(options,addToWorld);else{var shape=GetFastValue(options,"shape",null);shape||(shape="rectangle"),options.addToWorld=addToWorld,gameObject.setBody(shape,options)}return gameObject}},23181:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31884),GameObject=__webpack_require__2(95643),GetFastValue=__webpack_require__2(95540),Image2=__webpack_require__2(88571),Pipeline=__webpack_require__2(72699),Vector2=__webpack_require__2(26099),MatterImage=new Class({Extends:Image2,Mixins:[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,Components.Transform,Components.Velocity,Pipeline],initialize:function MatterImage2(world,x,y,texture,frame,options){GameObject.call(this,world.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(texture,frame),this.setSizeToFrame(),this.setOrigin(),this.world=world,this._tempVec2=new Vector2(x,y);var shape=GetFastValue(options,"shape",null);shape?this.setBody(shape,options):this.setRectangle(this.width,this.height,options),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(!0)}});module2.exports=MatterImage},42045:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ALIGN_CONST=__webpack_require__2(60461),Axes=__webpack_require__2(66615),Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),BodyBounds=__webpack_require__2(68174),Bounds=__webpack_require__2(15647),Class=__webpack_require__2(83419),Collision=__webpack_require__2(52284),Common=__webpack_require__2(53402),Composite=__webpack_require__2(69351),Composites=__webpack_require__2(74116),Constraint=__webpack_require__2(48140),Detector=__webpack_require__2(81388),DistanceBetween=__webpack_require__2(20339),Factory=__webpack_require__2(28137),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),Merge=__webpack_require__2(46975),Pair=__webpack_require__2(4506),Pairs=__webpack_require__2(99561),PluginCache=__webpack_require__2(37277),Query=__webpack_require__2(73296),Resolver=__webpack_require__2(66272),SceneEvents=__webpack_require__2(44594),Svg=__webpack_require__2(74058),Vector=__webpack_require__2(31725),Vertices=__webpack_require__2(41598),World=__webpack_require__2(68243);Common.setDecomp(__webpack_require__2(55973));var MatterPhysics=new Class({initialize:function MatterPhysics2(scene){this.scene=scene,this.systems=scene.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=Body,this.composite=Composite,this.collision=Collision,this.detector=Detector,this.pair=Pair,this.pairs=Pairs,this.query=Query,this.resolver=Resolver,this.constraint=Constraint,this.bodies=Bodies,this.composites=Composites,this.axes=Axes,this.bounds=Bounds,this.svg=Svg,this.vector=Vector,this.vertices=Vertices,this.verts=Vertices,this._tempVec2=Vector.create(),Resolver._restingThresh=GetValue(this.config,"restingThresh",4),Resolver._restingThreshTangent=GetValue(this.config,"restingThreshTangent",6),Resolver._positionDampen=GetValue(this.config,"positionDampen",.9),Resolver._positionWarming=GetValue(this.config,"positionWarming",.8),Resolver._frictionNormalMultiplier=GetValue(this.config,"frictionNormalMultiplier",5),scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.world=new World(this.scene,this.config),this.add=new Factory(this.world),this.bodyBounds=new BodyBounds,this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new World(this.scene,this.config),this.add=new Factory(this.world));var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.UPDATE,this.world.update,this.world),eventEmitter.on(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},getConfig:function(){var gameConfig=this.systems.game.config.physics,sceneConfig=this.systems.settings.physics;return Merge(GetFastValue(sceneConfig,"matter",{}),GetFastValue(gameConfig,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(delta,correction){this.world.step(delta,correction)},containsPoint:function(body,x,y){body=this.getMatterBodies(body);var position2=Vector.create(x,y);return Query.point(body,position2).length>0},intersectPoint:function(x,y,bodies){bodies=this.getMatterBodies(bodies);var position2=Vector.create(x,y),output=[];return Query.point(bodies,position2).forEach((function(body){-1===output.indexOf(body)&&output.push(body)})),output},intersectRect:function(x,y,width,height,outside,bodies){void 0===outside&&(outside=!1),bodies=this.getMatterBodies(bodies);var bounds={min:{x:x,y:y},max:{x:x+width,y:y+height}},output=[];return Query.region(bodies,bounds,outside).forEach((function(body){-1===output.indexOf(body)&&output.push(body)})),output},intersectRay:function(x1,y1,x2,y2,rayWidth,bodies){void 0===rayWidth&&(rayWidth=1),bodies=this.getMatterBodies(bodies);for(var result=[],collisions=Query.ray(bodies,Vector.create(x1,y1),Vector.create(x2,y2),rayWidth),i=0;i<collisions.length;i++)result.push(collisions[i].body);return result},intersectBody:function(body,bodies){bodies=this.getMatterBodies(bodies);for(var result=[],collisions=Query.collides(body,bodies),i=0;i<collisions.length;i++){var pair=collisions[i];pair.bodyA===body?result.push(pair.bodyB):result.push(pair.bodyA)}return result},overlap:function(target2,bodies,overlapCallback,processCallback,callbackContext){void 0===overlapCallback&&(overlapCallback=null),void 0===processCallback&&(processCallback=null),void 0===callbackContext&&(callbackContext=overlapCallback),Array.isArray(target2)||(target2=[target2]),target2=this.getMatterBodies(target2),bodies=this.getMatterBodies(bodies);for(var match=!1,i=0;i<target2.length;i++)for(var entry=target2[i],collisions=Query.collides(entry,bodies),c=0;c<collisions.length;c++){var info=collisions[c],bodyB=info.bodyA.id===entry.id?info.bodyB:info.bodyA;if(!processCallback||processCallback.call(callbackContext,entry,bodyB,info))if(match=!0,overlapCallback)overlapCallback.call(callbackContext,entry,bodyB,info);else if(!processCallback)return!0}return match},setCollisionCategory:function(bodies,value){return(bodies=this.getMatterBodies(bodies)).forEach((function(body){body.collisionFilter.category=value})),this},setCollisionGroup:function(bodies,value){return(bodies=this.getMatterBodies(bodies)).forEach((function(body){body.collisionFilter.group=value})),this},setCollidesWith:function(bodies,categories){bodies=this.getMatterBodies(bodies);var flags=0;if(Array.isArray(categories))for(var i=0;i<categories.length;i++)flags|=categories[i];else flags=categories;return bodies.forEach((function(body){body.collisionFilter.mask=flags})),this},getMatterBodies:function(bodies){if(!bodies)return this.world.getAllBodies();Array.isArray(bodies)||(bodies=[bodies]);for(var output=[],i=0;i<bodies.length;i++){var body=bodies[i].hasOwnProperty("body")?bodies[i].body:bodies[i];output.push(body)}return output},setVelocity:function(bodies,x,y){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return vec2.x=x,vec2.y=y,bodies.forEach((function(body){Body.setVelocity(body,vec2)})),this},setVelocityX:function(bodies,x){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return vec2.x=x,bodies.forEach((function(body){vec2.y=body.velocity.y,Body.setVelocity(body,vec2)})),this},setVelocityY:function(bodies,y){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return vec2.y=y,bodies.forEach((function(body){vec2.x=body.velocity.x,Body.setVelocity(body,vec2)})),this},setAngularVelocity:function(bodies,value){return(bodies=this.getMatterBodies(bodies)).forEach((function(body){Body.setAngularVelocity(body,value)})),this},applyForce:function(bodies,force){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return bodies.forEach((function(body){vec2.x=body.position.x,vec2.y=body.position.y,Body.applyForce(body,vec2,force)})),this},applyForceFromPosition:function(bodies,position2,speed,angle){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return bodies.forEach((function(body){void 0===angle&&(angle=body.angle),vec2.x=speed*Math.cos(angle),vec2.y=speed*Math.sin(angle),Body.applyForce(body,position2,vec2)})),this},applyForceFromAngle:function(bodies,speed,angle){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;return bodies.forEach((function(body){void 0===angle&&(angle=body.angle),vec2.x=speed*Math.cos(angle),vec2.y=speed*Math.sin(angle),Body.applyForce(body,{x:body.position.x,y:body.position.y},vec2)})),this},getConstraintLength:function(constraint){var aX=constraint.pointA.x,aY=constraint.pointA.y,bX=constraint.pointB.x,bY=constraint.pointB.y;return constraint.bodyA&&(aX+=constraint.bodyA.position.x,aY+=constraint.bodyA.position.y),constraint.bodyB&&(bX+=constraint.bodyB.position.x,bY+=constraint.bodyB.position.y),DistanceBetween(aX,aY,bX,bY)},alignBody:function(body,x,y,align){var pos;switch(body=body.hasOwnProperty("body")?body.body:body,align){case ALIGN_CONST.TOP_LEFT:case ALIGN_CONST.LEFT_TOP:pos=this.bodyBounds.getTopLeft(body,x,y);break;case ALIGN_CONST.TOP_CENTER:pos=this.bodyBounds.getTopCenter(body,x,y);break;case ALIGN_CONST.TOP_RIGHT:case ALIGN_CONST.RIGHT_TOP:pos=this.bodyBounds.getTopRight(body,x,y);break;case ALIGN_CONST.LEFT_CENTER:pos=this.bodyBounds.getLeftCenter(body,x,y);break;case ALIGN_CONST.CENTER:pos=this.bodyBounds.getCenter(body,x,y);break;case ALIGN_CONST.RIGHT_CENTER:pos=this.bodyBounds.getRightCenter(body,x,y);break;case ALIGN_CONST.LEFT_BOTTOM:case ALIGN_CONST.BOTTOM_LEFT:pos=this.bodyBounds.getBottomLeft(body,x,y);break;case ALIGN_CONST.BOTTOM_CENTER:pos=this.bodyBounds.getBottomCenter(body,x,y);break;case ALIGN_CONST.BOTTOM_RIGHT:case ALIGN_CONST.RIGHT_BOTTOM:pos=this.bodyBounds.getBottomRight(body,x,y)}return pos&&Body.setPosition(body,pos),this},shutdown:function(){var eventEmitter=this.systems.events;this.world&&(eventEmitter.off(SceneEvents.UPDATE,this.world.update,this.world),eventEmitter.off(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world)),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null}});PluginCache.register("MatterPhysics",MatterPhysics,"matterPhysics"),module2.exports=MatterPhysics},34803:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AnimationState=__webpack_require__2(9674),Class=__webpack_require__2(83419),Components=__webpack_require__2(31884),GameObject=__webpack_require__2(95643),GetFastValue=__webpack_require__2(95540),Pipeline=__webpack_require__2(72699),Sprite=__webpack_require__2(68287),Vector2=__webpack_require__2(26099),MatterSprite=new Class({Extends:Sprite,Mixins:[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,Components.Transform,Components.Velocity,Pipeline],initialize:function MatterSprite2(world,x,y,texture,frame,options){GameObject.call(this,world.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new AnimationState(this),this.setTexture(texture,frame),this.setSizeToFrame(),this.setOrigin(),this.world=world,this._tempVec2=new Vector2(x,y);var shape=GetFastValue(options,"shape",null);shape?this.setBody(shape,options):this.setRectangle(this.width,this.height,options),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(!0)}});module2.exports=MatterSprite},73834:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),Class=__webpack_require__2(83419),Components=__webpack_require__2(31884),DeepCopy=__webpack_require__2(62644),EventEmitter2=__webpack_require__2(50792),GetFastValue=__webpack_require__2(95540),HasValue=__webpack_require__2(97022),Vertices=__webpack_require__2(41598),MatterTileBody=new Class({Extends:EventEmitter2,Mixins:[Components.Bounce,Components.Collision,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.Sleep,Components.Static],initialize:function MatterTileBody2(world,tile,options){EventEmitter2.call(this),this.tile=tile,this.world=world,tile.physics.matterBody&&tile.physics.matterBody.destroy(),tile.physics.matterBody=this;var body=GetFastValue(options,"body",null),addToWorld=GetFastValue(options,"addToWorld",!0);if(body)this.setBody(body,addToWorld);else{var collisionGroup=tile.getCollisionGroup();GetFastValue(collisionGroup,"objects",[]).length>0?this.setFromTileCollision(options):this.setFromTileRectangle(options)}if(tile.flipX||tile.flipY){var rotationPoint={x:tile.getCenterX(),y:tile.getCenterY()},scaleX=tile.flipX?-1:1,scaleY=tile.flipY?-1:1;Body.scale(body,scaleX,scaleY,rotationPoint)}},setFromTileRectangle:function(options){void 0===options&&(options={}),HasValue(options,"isStatic")||(options.isStatic=!0),HasValue(options,"addToWorld")||(options.addToWorld=!0);var bounds=this.tile.getBounds(),cx=bounds.x+bounds.width/2,cy=bounds.y+bounds.height/2,body=Bodies.rectangle(cx,cy,bounds.width,bounds.height,options);return this.setBody(body,options.addToWorld),this},setFromTileCollision:function(options){void 0===options&&(options={}),HasValue(options,"isStatic")||(options.isStatic=!0),HasValue(options,"addToWorld")||(options.addToWorld=!0);for(var sx=this.tile.tilemapLayer.scaleX,sy=this.tile.tilemapLayer.scaleY,tileX=this.tile.getLeft(),tileY=this.tile.getTop(),collisionGroup=this.tile.getCollisionGroup(),collisionObjects=GetFastValue(collisionGroup,"objects",[]),parts=[],i=0;i<collisionObjects.length;i++){var object=collisionObjects[i],ox=tileX+object.x*sx,oy=tileY+object.y*sy,ow=object.width*sx,oh=object.height*sy,body=null;if(object.rectangle)body=Bodies.rectangle(ox+ow/2,oy+oh/2,ow,oh,options);else if(object.ellipse)body=Bodies.circle(ox+ow/2,oy+oh/2,ow/2,options);else if(object.polygon||object.polyline){var points=(object.polygon?object.polygon:object.polyline).map((function(p){return{x:p.x*sx,y:p.y*sy}})),vertices=Vertices.create(points),center=Vertices.centre(vertices);ox+=center.x,oy+=center.y,body=Bodies.fromVertices(ox,oy,vertices,options)}body&&parts.push(body)}if(1===parts.length)this.setBody(parts[0],options.addToWorld);else if(parts.length>1){var tempOptions=DeepCopy(options);tempOptions.parts=parts,this.setBody(Body.create(tempOptions),tempOptions.addToWorld)}return this},setBody:function(body,addToWorld){return void 0===addToWorld&&(addToWorld=!0),this.body&&this.removeBody(),this.body=body,this.body.gameObject=this,addToWorld&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});module2.exports=MatterTileBody},19496:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Joachim Grill <joachim@codeandweb.com>
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2018 CodeAndWeb GmbH
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),Common=__webpack_require__2(53402),GetFastValue=__webpack_require__2(95540),Vertices=__webpack_require__2(41598),PhysicsEditorParser={parseBody:function(x,y,config2,options){void 0===options&&(options={});for(var fixtureConfigs=GetFastValue(config2,"fixtures",[]),fixtures=[],fc=0;fc<fixtureConfigs.length;fc++)for(var fixtureParts=this.parseFixture(fixtureConfigs[fc]),i=0;i<fixtureParts.length;i++)fixtures.push(fixtureParts[i]);var matterConfig=Common.clone(config2,!0);Common.extend(matterConfig,options,!0),delete matterConfig.fixtures,delete matterConfig.type;var body=Body.create(matterConfig);return Body.setParts(body,fixtures),Body.setPosition(body,{x:x,y:y}),body},parseFixture:function(fixtureConfig){var fixtures,matterConfig=Common.extend({},!1,fixtureConfig);if(delete matterConfig.circle,delete matterConfig.vertices,fixtureConfig.circle){var x=GetFastValue(fixtureConfig.circle,"x"),y=GetFastValue(fixtureConfig.circle,"y"),r=GetFastValue(fixtureConfig.circle,"radius");fixtures=[Bodies.circle(x,y,r,matterConfig)]}else fixtureConfig.vertices&&(fixtures=this.parseVertices(fixtureConfig.vertices,matterConfig));return fixtures},parseVertices:function(vertexSets,options){void 0===options&&(options={});for(var parts=[],v=0;v<vertexSets.length;v++)Vertices.clockwiseSort(vertexSets[v]),parts.push(Body.create(Common.extend({position:Vertices.centre(vertexSets[v]),vertices:vertexSets[v]},options)));return Bodies.flagCoincidentParts(parts)}};module2.exports=PhysicsEditorParser},85791:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),PhysicsJSONParser={parseBody:function(x,y,config2,options){var body;void 0===options&&(options={});var vertexSets=config2.vertices;if(1===vertexSets.length)options.vertices=vertexSets[0],body=Body.create(options),Bodies.flagCoincidentParts(body.parts);else{for(var parts=[],i=0;i<vertexSets.length;i++){var part=Body.create({vertices:vertexSets[i]});parts.push(part)}Bodies.flagCoincidentParts(parts),options.parts=parts,body=Body.create(options)}return body.label=config2.label,Body.setPosition(body,{x:x,y:y}),body}};module2.exports=PhysicsJSONParser},98713:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bounds=__webpack_require__2(15647),Class=__webpack_require__2(83419),Composite=__webpack_require__2(69351),Constraint=__webpack_require__2(48140),Detector=__webpack_require__2(81388),Events2=__webpack_require__2(1121),InputEvents=__webpack_require__2(8214),Merge=__webpack_require__2(46975),Sleeping=__webpack_require__2(53614),Vector2=__webpack_require__2(26099),Vertices=__webpack_require__2(41598),PointerConstraint=new Class({initialize:function PointerConstraint2(scene,world,options){void 0===options&&(options={}),this.scene=scene,this.world=world,this.camera=null,this.pointer=null,this.active=!0,this.position=new Vector2,this.body=null,this.part=null,this.constraint=Constraint.create(Merge(options,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(Events2.BEFORE_UPDATE,this.update,this),scene.sys.input.on(InputEvents.POINTER_DOWN,this.onDown,this),scene.sys.input.on(InputEvents.POINTER_UP,this.onUp,this)},onDown:function(pointer){this.pointer||(this.pointer=pointer,this.camera=pointer.camera)},onUp:function(pointer){pointer===this.pointer&&(this.pointer=null)},getBody:function(pointer){var pos=this.position,constraint=this.constraint;this.camera.getWorldPoint(pointer.x,pointer.y,pos);for(var bodies=Composite.allBodies(this.world.localWorld),i=0;i<bodies.length;i++){var body=bodies[i];if(!body.ignorePointer&&Bounds.contains(body.bounds,pos)&&Detector.canCollide(body.collisionFilter,constraint.collisionFilter)&&this.hitTestBody(body,pos))return this.world.emit(Events2.DRAG_START,body,this.part,this),!0}return!1},hitTestBody:function(body,position2){for(var constraint=this.constraint,partsLength=body.parts.length,i=partsLength>1?1:0;i<partsLength;i++){var part=body.parts[i];if(Vertices.contains(part.vertices,position2))return constraint.pointA=position2,constraint.pointB={x:position2.x-body.position.x,y:position2.y-body.position.y},constraint.bodyB=body,constraint.angleB=body.angle,Sleeping.set(body,!1),this.part=part,this.body=body,!0}return!1},update:function(){var pointer=this.pointer,body=this.body;if(this.active&&pointer)if(pointer.isDown||!body){if(pointer.isDown){if(!this.camera||!body&&!this.getBody(pointer))return;body=this.body;var pos=this.position,constraint=this.constraint;this.camera.getWorldPoint(pointer.x,pointer.y,pos),constraint.pointA.x=pos.x,constraint.pointA.y=pos.y,Sleeping.set(body,!1),this.world.emit(Events2.DRAG,body,this)}}else this.stopDrag();else body&&this.stopDrag()},stopDrag:function(){var body=this.body,constraint=this.constraint;constraint.bodyB=null,constraint.pointB=null,this.pointer=null,this.body=null,this.part=null,body&&this.world.emit(Events2.DRAG_END,body,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(Events2.BEFORE_UPDATE,this.update),this.scene.sys.input.off(InputEvents.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(InputEvents.POINTER_UP,this.onUp,this)}});module2.exports=PointerConstraint},68243:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),Class=__webpack_require__2(83419),Common=__webpack_require__2(53402),Composite=__webpack_require__2(69351),Engine=__webpack_require__2(48413),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(1121),GetFastValue=__webpack_require__2(95540),GetValue=__webpack_require__2(35154),MatterBody=__webpack_require__2(22562),MatterEvents=__webpack_require__2(35810),MatterTileBody=__webpack_require__2(73834),MatterWorld=__webpack_require__2(4372),MatterRunner=__webpack_require__2(13037),Vector=__webpack_require__2(31725),World=new Class({Extends:EventEmitter2,initialize:function World2(scene,config2){EventEmitter2.call(this),this.scene=scene,this.engine=Engine.create(config2),this.localWorld=this.engine.world;var gravity=GetValue(config2,"gravity",null);gravity?this.setGravity(gravity.x,gravity.y,gravity.scale):!1===gravity&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=GetValue(config2,"enabled",!0),this.getDelta=GetValue(config2,"getDelta",this.update60Hz);var runnerConfig=GetFastValue(config2,"runner",{}),hasFPS=GetFastValue(runnerConfig,"fps",!1),fps=GetFastValue(runnerConfig,"fps",60),delta=GetFastValue(runnerConfig,"delta",1e3/fps),deltaMin=GetFastValue(runnerConfig,"deltaMin",1e3/fps),deltaMax=GetFastValue(runnerConfig,"deltaMax",1e3/(.5*fps));hasFPS||(fps=1e3/delta),this.runner={fps:fps,deltaSampleSize:GetFastValue(runnerConfig,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:GetFastValue(runnerConfig,"isFixed",!1),delta:delta,deltaMin:deltaMin,deltaMax:deltaMax},this.autoUpdate=GetValue(config2,"autoUpdate",!0);var debugConfig=GetValue(config2,"debug",!1);if(this.drawDebug="object"==typeof debugConfig||debugConfig,this.debugGraphic,this.debugConfig={showAxes:GetFastValue(debugConfig,"showAxes",!1),showAngleIndicator:GetFastValue(debugConfig,"showAngleIndicator",!1),angleColor:GetFastValue(debugConfig,"angleColor",15208787),showBroadphase:GetFastValue(debugConfig,"showBroadphase",!1),broadphaseColor:GetFastValue(debugConfig,"broadphaseColor",16757760),showBounds:GetFastValue(debugConfig,"showBounds",!1),boundsColor:GetFastValue(debugConfig,"boundsColor",16777215),showVelocity:GetFastValue(debugConfig,"showVelocity",!1),velocityColor:GetFastValue(debugConfig,"velocityColor",44783),showCollisions:GetFastValue(debugConfig,"showCollisions",!1),collisionColor:GetFastValue(debugConfig,"collisionColor",16094476),showSeparations:GetFastValue(debugConfig,"showSeparations",!1),separationColor:GetFastValue(debugConfig,"separationColor",16753920),showBody:GetFastValue(debugConfig,"showBody",!0),showStaticBody:GetFastValue(debugConfig,"showStaticBody",!0),showInternalEdges:GetFastValue(debugConfig,"showInternalEdges",!1),renderFill:GetFastValue(debugConfig,"renderFill",!1),renderLine:GetFastValue(debugConfig,"renderLine",!0),fillColor:GetFastValue(debugConfig,"fillColor",1075465),fillOpacity:GetFastValue(debugConfig,"fillOpacity",1),lineColor:GetFastValue(debugConfig,"lineColor",2678297),lineOpacity:GetFastValue(debugConfig,"lineOpacity",1),lineThickness:GetFastValue(debugConfig,"lineThickness",1),staticFillColor:GetFastValue(debugConfig,"staticFillColor",857979),staticLineColor:GetFastValue(debugConfig,"staticLineColor",1255396),showSleeping:GetFastValue(debugConfig,"showSleeping",!1),staticBodySleepOpacity:GetFastValue(debugConfig,"staticBodySleepOpacity",.7),sleepFillColor:GetFastValue(debugConfig,"sleepFillColor",4605510),sleepLineColor:GetFastValue(debugConfig,"sleepLineColor",10066585),showSensors:GetFastValue(debugConfig,"showSensors",!0),sensorFillColor:GetFastValue(debugConfig,"sensorFillColor",857979),sensorLineColor:GetFastValue(debugConfig,"sensorLineColor",1255396),showPositions:GetFastValue(debugConfig,"showPositions",!0),positionSize:GetFastValue(debugConfig,"positionSize",4),positionColor:GetFastValue(debugConfig,"positionColor",14697178),showJoint:GetFastValue(debugConfig,"showJoint",!0),jointColor:GetFastValue(debugConfig,"jointColor",14737474),jointLineOpacity:GetFastValue(debugConfig,"jointLineOpacity",1),jointLineThickness:GetFastValue(debugConfig,"jointLineThickness",2),pinSize:GetFastValue(debugConfig,"pinSize",4),pinColor:GetFastValue(debugConfig,"pinColor",4382944),springColor:GetFastValue(debugConfig,"springColor",14697184),anchorColor:GetFastValue(debugConfig,"anchorColor",15724527),anchorSize:GetFastValue(debugConfig,"anchorSize",4),showConvexHulls:GetFastValue(debugConfig,"showConvexHulls",!1),hullColor:GetFastValue(debugConfig,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),GetFastValue(config2,"setBounds",!1)){var boundsConfig=config2.setBounds;if("boolean"==typeof boundsConfig)this.setBounds();else{var x=GetFastValue(boundsConfig,"x",0),y=GetFastValue(boundsConfig,"y",0),width=GetFastValue(boundsConfig,"width",scene.sys.scale.width),height=GetFastValue(boundsConfig,"height",scene.sys.scale.height),thickness=GetFastValue(boundsConfig,"thickness",64),left=GetFastValue(boundsConfig,"left",!0),right=GetFastValue(boundsConfig,"right",!0),top=GetFastValue(boundsConfig,"top",!0),bottom=GetFastValue(boundsConfig,"bottom",!0);this.setBounds(x,y,width,height,thickness,left,right,top,bottom)}}},setCompositeRenderStyle:function(composite){var i,obj,render,bodies=composite.bodies,constraints=composite.constraints,composites=composite.composites;for(i=0;i<bodies.length;i++)render=(obj=bodies[i]).render,this.setBodyRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.fillColor,render.fillOpacity);for(i=0;i<constraints.length;i++)render=(obj=constraints[i]).render,this.setConstraintRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.pinSize,render.anchorColor,render.anchorSize);for(i=0;i<composites.length;i++)obj=composites[i],this.setCompositeRenderStyle(obj);return this},setBodyRenderStyle:function(body,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity){var render=body.render,config2=this.debugConfig;return render?(null==lineColor&&(lineColor=body.isStatic?config2.staticLineColor:config2.lineColor),null==lineOpacity&&(lineOpacity=config2.lineOpacity),null==lineThickness&&(lineThickness=config2.lineThickness),null==fillColor&&(fillColor=body.isStatic?config2.staticFillColor:config2.fillColor),null==fillOpacity&&(fillOpacity=config2.fillOpacity),!1!==lineColor&&(render.lineColor=lineColor),!1!==lineOpacity&&(render.lineOpacity=lineOpacity),!1!==lineThickness&&(render.lineThickness=lineThickness),!1!==fillColor&&(render.fillColor=fillColor),!1!==fillOpacity&&(render.fillOpacity=fillOpacity),this):this},setConstraintRenderStyle:function(constraint,lineColor,lineOpacity,lineThickness,pinSize,anchorColor,anchorSize){var render=constraint.render,config2=this.debugConfig;if(!render)return this;if(null==lineColor){var type=render.type;"line"===type?lineColor=config2.jointColor:"pin"===type?lineColor=config2.pinColor:"spring"===type&&(lineColor=config2.springColor)}return null==lineOpacity&&(lineOpacity=config2.jointLineOpacity),null==lineThickness&&(lineThickness=config2.jointLineThickness),null==pinSize&&(pinSize=config2.pinSize),null==anchorColor&&(anchorColor=config2.anchorColor),null==anchorSize&&(anchorSize=config2.anchorSize),!1!==lineColor&&(render.lineColor=lineColor),!1!==lineOpacity&&(render.lineOpacity=lineOpacity),!1!==lineThickness&&(render.lineThickness=lineThickness),!1!==pinSize&&(render.pinSize=pinSize),!1!==anchorColor&&(render.anchorColor=anchorColor),!1!==anchorSize&&(render.anchorSize=anchorSize),this},setEventsProxy:function(){var _this=this,engine=this.engine,world=this.localWorld;this.drawDebug&&(MatterEvents.on(world,"compositeModified",(function(composite){_this.setCompositeRenderStyle(composite)})),MatterEvents.on(world,"beforeAdd",(function(event){for(var objects=[].concat(event.object),i=0;i<objects.length;i++){var obj=objects[i],render=obj.render;"body"===obj.type?_this.setBodyRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.fillColor,render.fillOpacity):"composite"===obj.type?_this.setCompositeRenderStyle(obj):"constraint"===obj.type&&_this.setConstraintRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.pinSize,render.anchorColor,render.anchorSize)}}))),MatterEvents.on(world,"beforeAdd",(function(event){_this.emit(Events2.BEFORE_ADD,event)})),MatterEvents.on(world,"afterAdd",(function(event){_this.emit(Events2.AFTER_ADD,event)})),MatterEvents.on(world,"beforeRemove",(function(event){_this.emit(Events2.BEFORE_REMOVE,event)})),MatterEvents.on(world,"afterRemove",(function(event){_this.emit(Events2.AFTER_REMOVE,event)})),MatterEvents.on(engine,"beforeUpdate",(function(event){_this.emit(Events2.BEFORE_UPDATE,event)})),MatterEvents.on(engine,"afterUpdate",(function(event){_this.emit(Events2.AFTER_UPDATE,event)})),MatterEvents.on(engine,"collisionStart",(function(event){var bodyA,bodyB,pairs=event.pairs;pairs.length>0&&pairs.map((function(pair){bodyA=pair.bodyA,bodyB=pair.bodyB,bodyA.gameObject&&bodyA.gameObject.emit("collide",bodyA,bodyB,pair),bodyB.gameObject&&bodyB.gameObject.emit("collide",bodyB,bodyA,pair),MatterEvents.trigger(bodyA,"onCollide",{pair:pair}),MatterEvents.trigger(bodyB,"onCollide",{pair:pair}),bodyA.onCollideCallback&&bodyA.onCollideCallback(pair),bodyB.onCollideCallback&&bodyB.onCollideCallback(pair),bodyA.onCollideWith[bodyB.id]&&bodyA.onCollideWith[bodyB.id](bodyB,pair),bodyB.onCollideWith[bodyA.id]&&bodyB.onCollideWith[bodyA.id](bodyA,pair)})),_this.emit(Events2.COLLISION_START,event,bodyA,bodyB)})),MatterEvents.on(engine,"collisionActive",(function(event){var bodyA,bodyB,pairs=event.pairs;pairs.length>0&&pairs.map((function(pair){bodyA=pair.bodyA,bodyB=pair.bodyB,bodyA.gameObject&&bodyA.gameObject.emit("collideActive",bodyA,bodyB,pair),bodyB.gameObject&&bodyB.gameObject.emit("collideActive",bodyB,bodyA,pair),MatterEvents.trigger(bodyA,"onCollideActive",{pair:pair}),MatterEvents.trigger(bodyB,"onCollideActive",{pair:pair}),bodyA.onCollideActiveCallback&&bodyA.onCollideActiveCallback(pair),bodyB.onCollideActiveCallback&&bodyB.onCollideActiveCallback(pair)})),_this.emit(Events2.COLLISION_ACTIVE,event,bodyA,bodyB)})),MatterEvents.on(engine,"collisionEnd",(function(event){var bodyA,bodyB,pairs=event.pairs;pairs.length>0&&pairs.map((function(pair){bodyA=pair.bodyA,bodyB=pair.bodyB,bodyA.gameObject&&bodyA.gameObject.emit("collideEnd",bodyA,bodyB,pair),bodyB.gameObject&&bodyB.gameObject.emit("collideEnd",bodyB,bodyA,pair),MatterEvents.trigger(bodyA,"onCollideEnd",{pair:pair}),MatterEvents.trigger(bodyB,"onCollideEnd",{pair:pair}),bodyA.onCollideEndCallback&&bodyA.onCollideEndCallback(pair),bodyB.onCollideEndCallback&&bodyB.onCollideEndCallback(pair)})),_this.emit(Events2.COLLISION_END,event,bodyA,bodyB)}))},setBounds:function(x,y,width,height,thickness,left,right,top,bottom){return void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.scene.sys.scale.width),void 0===height&&(height=this.scene.sys.scale.height),void 0===thickness&&(thickness=64),void 0===left&&(left=!0),void 0===right&&(right=!0),void 0===top&&(top=!0),void 0===bottom&&(bottom=!0),this.updateWall(left,"left",x-thickness,y-thickness,thickness,height+2*thickness),this.updateWall(right,"right",x+width,y-thickness,thickness,height+2*thickness),this.updateWall(top,"top",x,y-thickness,width,thickness),this.updateWall(bottom,"bottom",x,y+height,width,thickness),this},updateWall:function(add2,position2,x,y,width,height){var wall=this.walls[position2];add2?(wall&&MatterWorld.remove(this.localWorld,wall),x+=width/2,y+=height/2,this.walls[position2]=this.create(x,y,width,height,{isStatic:!0,friction:0,frictionStatic:0})):(wall&&MatterWorld.remove(this.localWorld,wall),this.walls[position2]=null)},createDebugGraphic:function(){var graphic=this.scene.sys.add.graphics({x:0,y:0});return graphic.setDepth(Number.MAX_VALUE),this.debugGraphic=graphic,this.drawDebug=!0,graphic},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(x,y,scale){return void 0===x&&(x=0),void 0===y&&(y=1),void 0===scale&&(scale=.001),this.localWorld.gravity.x=x,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=scale,this},create:function(x,y,width,height,options){var body=Bodies.rectangle(x,y,width,height,options);return MatterWorld.add(this.localWorld,body),body},add:function(object){return MatterWorld.add(this.localWorld,object),this},remove:function(object,deep){Array.isArray(object)||(object=[object]);for(var i=0;i<object.length;i++){var entity=object[i],body=entity.body?entity.body:entity;Composite.remove(this.localWorld,body,deep)}return this},removeConstraint:function(constraint,deep){return Composite.remove(this.localWorld,constraint,deep),this},convertTilemapLayer:function(tilemapLayer,options){var layerData=tilemapLayer.layer,tiles=tilemapLayer.getTilesWithin(0,0,layerData.width,layerData.height,{isColliding:!0});return this.convertTiles(tiles,options),this},convertTiles:function(tiles,options){if(0===tiles.length)return this;for(var i=0;i<tiles.length;i++)new MatterTileBody(this,tiles[i],options);return this},nextGroup:function(isNonColliding){return MatterBody.nextGroup(isNonColliding)},nextCategory:function(){return MatterBody.nextCategory()},pause:function(){return this.enabled=!1,this.emit(Events2.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=Common.now(),this.emit(Events2.RESUME),this},update:function(time){if(this.enabled&&this.autoUpdate){var engine=this.engine,runner=this.runner,tickStartTime=Common.now(),engineDelta=runner.delta,updateCount=0,frameDelta=time-runner.timeLastTick;if((!frameDelta||!runner.timeLastTick||frameDelta>Math.max(MatterRunner._maxFrameDelta,runner.maxFrameTime))&&(frameDelta=runner.frameDelta||MatterRunner._frameDeltaFallback),runner.frameDeltaSmoothing){runner.frameDeltaHistory.push(frameDelta),runner.frameDeltaHistory=runner.frameDeltaHistory.slice(-runner.frameDeltaHistorySize);var deltaHistorySorted=runner.frameDeltaHistory.slice(0).sort(),deltaHistoryWindow=runner.frameDeltaHistory.slice(deltaHistorySorted.length*MatterRunner._smoothingLowerBound,deltaHistorySorted.length*MatterRunner._smoothingUpperBound);frameDelta=MatterRunner._mean(deltaHistoryWindow)||frameDelta}runner.frameDeltaSnapping&&(frameDelta=1e3/Math.round(1e3/frameDelta)),runner.frameDelta=frameDelta,runner.timeLastTick=time,runner.timeBuffer+=runner.frameDelta,runner.timeBuffer=Common.clamp(runner.timeBuffer,0,runner.frameDelta+engineDelta*MatterRunner._timeBufferMargin),runner.lastUpdatesDeferred=0;for(var maxUpdates=runner.maxUpdates||Math.ceil(runner.maxFrameTime/engineDelta),updateStartTime=Common.now();engineDelta>0&&runner.timeBuffer>=engineDelta*MatterRunner._timeBufferMargin;){Engine.update(engine,engineDelta),runner.timeBuffer-=engineDelta,updateCount+=1;var elapsedTimeTotal=Common.now()-tickStartTime,elapsedTimeUpdates=Common.now()-updateStartTime,elapsedNextEstimate=elapsedTimeTotal+MatterRunner._elapsedNextEstimate*elapsedTimeUpdates/updateCount;if(updateCount>=maxUpdates||elapsedNextEstimate>runner.maxFrameTime){runner.lastUpdatesDeferred=Math.round(Math.max(0,runner.timeBuffer/engineDelta-MatterRunner._timeBufferMargin));break}}}},step:function(delta){Engine.update(this.engine,delta)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(body){var src2=body.hasOwnProperty("body")?body.body:body;return null!==Composite.get(this.localWorld,src2.id,src2.type)},getAllBodies:function(){return Composite.allBodies(this.localWorld)},getAllConstraints:function(){return Composite.allConstraints(this.localWorld)},getAllComposites:function(){return Composite.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var config2=this.debugConfig,engine=this.engine,graphics=this.debugGraphic,bodies=Composite.allBodies(this.localWorld);this.debugGraphic.clear(),config2.showBroadphase&&engine.broadphase.controller&&this.renderGrid(engine.broadphase,graphics,config2.broadphaseColor,.5),config2.showBounds&&this.renderBodyBounds(bodies,graphics,config2.boundsColor,.5),(config2.showBody||config2.showStaticBody)&&this.renderBodies(bodies),config2.showJoint&&this.renderJoints(),(config2.showAxes||config2.showAngleIndicator)&&this.renderBodyAxes(bodies,graphics,config2.showAxes,config2.angleColor,.5),config2.showVelocity&&this.renderBodyVelocity(bodies,graphics,config2.velocityColor,1,2),config2.showSeparations&&this.renderSeparations(engine.pairs.list,graphics,config2.separationColor),config2.showCollisions&&this.renderCollisions(engine.pairs.list,graphics,config2.collisionColor)}},renderGrid:function(grid,graphics,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);for(var bucketKeys=Common.keys(grid.buckets),i=0;i<bucketKeys.length;i++){var bucketId=bucketKeys[i];if(!(grid.buckets[bucketId].length<2)){var region=bucketId.split(/C|R/);graphics.strokeRect(parseInt(region[1],10)*grid.bucketWidth,parseInt(region[2],10)*grid.bucketHeight,grid.bucketWidth,grid.bucketHeight)}}return this},renderSeparations:function(pairs,graphics,lineColor){graphics.lineStyle(1,lineColor,1);for(var i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){var collision=pair.collision,bodyA=collision.bodyA,bodyB=collision.bodyB,posA=bodyA.position,posB=bodyB.position,penetration=collision.penetration,k=bodyA.isStatic||bodyB.isStatic?1:4;bodyB.isStatic&&(k=0),graphics.lineBetween(posB.x,posB.y,posB.x-penetration.x*k,posB.y-penetration.y*k),k=bodyA.isStatic||bodyB.isStatic?1:4,bodyA.isStatic&&(k=0),graphics.lineBetween(posA.x,posA.y,posA.x-penetration.x*k,posA.y-penetration.y*k)}}return this},renderCollisions:function(pairs,graphics,lineColor){var i,pair;for(graphics.lineStyle(1,lineColor,.5),graphics.fillStyle(lineColor,1),i=0;i<pairs.length;i++)if((pair=pairs[i]).isActive)for(var j=0;j<pair.contactCount;j++){var vertex=pair.contacts[j].vertex;vertex&&graphics.fillRect(vertex.x-2,vertex.y-2,5,5)}for(i=0;i<pairs.length;i++)if((pair=pairs[i]).isActive){var collision=pair.collision,contacts=pair.contacts;if(pair.contactCount>0){var normalPosX=contacts[0].vertex.x,normalPosY=contacts[0].vertex.y;2===pair.contactCount&&(normalPosX=(contacts[0].vertex.x+contacts[1].vertex.x)/2,normalPosY=(contacts[0].vertex.y+contacts[1].vertex.y)/2),collision.bodyB===collision.supports[0].body||collision.bodyA.isStatic?graphics.lineBetween(normalPosX-8*collision.normal.x,normalPosY-8*collision.normal.y,normalPosX,normalPosY):graphics.lineBetween(normalPosX+8*collision.normal.x,normalPosY+8*collision.normal.y,normalPosX,normalPosY)}}return this},renderBodyBounds:function(bodies,graphics,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);for(var i=0;i<bodies.length;i++){var body=bodies[i];if(body.render.visible){var bounds=body.bounds;if(bounds)graphics.strokeRect(bounds.min.x,bounds.min.y,bounds.max.x-bounds.min.x,bounds.max.y-bounds.min.y);else for(var parts=body.parts,j=parts.length>1?1:0;j<parts.length;j++){var part=parts[j];graphics.strokeRect(part.bounds.min.x,part.bounds.min.y,part.bounds.max.x-part.bounds.min.x,part.bounds.max.y-part.bounds.min.y)}}}return this},renderBodyAxes:function(bodies,graphics,showAxes,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);for(var i=0;i<bodies.length;i++){var part,j,k,body=bodies[i],parts=body.parts;if(body.render.visible)if(showAxes)for(j=parts.length>1?1:0;j<parts.length;j++)for(part=parts[j],k=0;k<part.axes.length;k++){var axis=part.axes[k];graphics.lineBetween(part.position.x,part.position.y,part.position.x+20*axis.x,part.position.y+20*axis.y)}else for(j=parts.length>1?1:0;j<parts.length;j++)for(part=parts[j],k=0;k<part.axes.length;k++)graphics.lineBetween(part.position.x,part.position.y,(part.vertices[0].x+part.vertices[part.vertices.length-1].x)/2,(part.vertices[0].y+part.vertices[part.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(bodies,graphics,lineColor,lineOpacity,lineThickness){graphics.lineStyle(lineThickness,lineColor,lineOpacity);for(var i=0;i<bodies.length;i++){var body=bodies[i];body.render.visible&&graphics.lineBetween(body.position.x,body.position.y,body.position.x+2*(body.position.x-body.positionPrev.x),body.position.y+2*(body.position.y-body.positionPrev.y))}return this},renderBodies:function(bodies){for(var graphics=this.debugGraphic,config2=this.debugConfig,showBody=config2.showBody,showStaticBody=config2.showStaticBody,showSleeping=config2.showSleeping,showInternalEdges=config2.showInternalEdges,showConvexHulls=config2.showConvexHulls,renderFill=config2.renderFill,renderLine=config2.renderLine,staticBodySleepOpacity=config2.staticBodySleepOpacity,sleepFillColor=config2.sleepFillColor,sleepLineColor=config2.sleepLineColor,hullColor=config2.hullColor,i=0;i<bodies.length;i++){var body=bodies[i];if(body.render.visible&&(showStaticBody||!body.isStatic)&&(showBody||body.isStatic)){var lineColor=body.render.lineColor,lineOpacity=body.render.lineOpacity,lineThickness=body.render.lineThickness,fillColor=body.render.fillColor,fillOpacity=body.render.fillOpacity;showSleeping&&body.isSleeping&&(body.isStatic?(lineOpacity*=staticBodySleepOpacity,fillOpacity*=staticBodySleepOpacity):(lineColor=sleepLineColor,fillColor=sleepFillColor)),renderFill||(fillColor=null),renderLine||(lineColor=null),this.renderBody(body,graphics,showInternalEdges,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity);var partsLength=body.parts.length;showConvexHulls&&partsLength>1&&this.renderConvexHull(body,graphics,hullColor,lineThickness)}}},renderBody:function(body,graphics,showInternalEdges,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity){void 0===lineColor&&(lineColor=null),void 0===lineOpacity&&(lineOpacity=null),void 0===lineThickness&&(lineThickness=1),void 0===fillColor&&(fillColor=null),void 0===fillOpacity&&(fillOpacity=null);for(var config2=this.debugConfig,sensorFillColor=config2.sensorFillColor,sensorLineColor=config2.sensorLineColor,parts=body.parts,partsLength=parts.length,k=partsLength>1?1:0;k<partsLength;k++){var part=parts[k],render=part.render,opacity=render.opacity;if(render.visible&&0!==opacity&&(!part.isSensor||config2.showSensors)){var circleRadius=part.circleRadius;if(graphics.beginPath(),part.isSensor?(null!==fillColor&&graphics.fillStyle(sensorFillColor,fillOpacity*opacity),null!==lineColor&&graphics.lineStyle(lineThickness,sensorLineColor,lineOpacity*opacity)):(null!==fillColor&&graphics.fillStyle(fillColor,fillOpacity*opacity),null!==lineColor&&graphics.lineStyle(lineThickness,lineColor,lineOpacity*opacity)),circleRadius)graphics.arc(part.position.x,part.position.y,circleRadius,0,2*Math.PI);else{var vertices=part.vertices,vertLength=vertices.length;graphics.moveTo(vertices[0].x,vertices[0].y);for(var j=1;j<vertLength;j++){var vert=vertices[j];if(!vertices[j-1].isInternal||showInternalEdges?graphics.lineTo(vert.x,vert.y):graphics.moveTo(vert.x,vert.y),j<vertLength&&vert.isInternal&&!showInternalEdges){var nextIndex=(j+1)%vertLength;graphics.moveTo(vertices[nextIndex].x,vertices[nextIndex].y)}}graphics.closePath()}null!==fillColor&&graphics.fillPath(),null!==lineColor&&graphics.strokePath()}}if(config2.showPositions&&!body.isStatic){var px=body.position.x,py=body.position.y,hs=Math.ceil(config2.positionSize/2);graphics.fillStyle(config2.positionColor,1),graphics.fillRect(px-hs,py-hs,config2.positionSize,config2.positionSize)}return this},renderConvexHull:function(body,graphics,hullColor,lineThickness){if(void 0===lineThickness&&(lineThickness=1),body.parts.length>1){var verts=body.vertices;graphics.lineStyle(lineThickness,hullColor),graphics.beginPath(),graphics.moveTo(verts[0].x,verts[0].y);for(var v=1;v<verts.length;v++)graphics.lineTo(verts[v].x,verts[v].y);graphics.lineTo(verts[0].x,verts[0].y),graphics.strokePath()}return this},renderJoints:function(){for(var graphics=this.debugGraphic,constraints=Composite.allConstraints(this.localWorld),i=0;i<constraints.length;i++){var config2=constraints[i].render,lineColor=config2.lineColor,lineOpacity=config2.lineOpacity,lineThickness=config2.lineThickness,pinSize=config2.pinSize,anchorColor=config2.anchorColor,anchorSize=config2.anchorSize;this.renderConstraint(constraints[i],graphics,lineColor,lineOpacity,lineThickness,pinSize,anchorColor,anchorSize)}},renderConstraint:function(constraint,graphics,lineColor,lineOpacity,lineThickness,pinSize,anchorColor,anchorSize){var render=constraint.render;if(!render.visible||!constraint.pointA||!constraint.pointB)return this;graphics.lineStyle(lineThickness,lineColor,lineOpacity);var start,end,bodyA=constraint.bodyA,bodyB=constraint.bodyB;if(start=bodyA?Vector.add(bodyA.position,constraint.pointA):constraint.pointA,"pin"===render.type)graphics.strokeCircle(start.x,start.y,pinSize);else{if(end=bodyB?Vector.add(bodyB.position,constraint.pointB):constraint.pointB,graphics.beginPath(),graphics.moveTo(start.x,start.y),"spring"===render.type)for(var offset,delta=Vector.sub(end,start),normal=Vector.perp(Vector.normalise(delta)),coils=Math.ceil(Common.clamp(constraint.length/5,12,20)),j=1;j<coils;j+=1)offset=j%2==0?1:-1,graphics.lineTo(start.x+delta.x*(j/coils)+normal.x*offset*4,start.y+delta.y*(j/coils)+normal.y*offset*4);graphics.lineTo(end.x,end.y)}return graphics.strokePath(),render.anchors&&anchorSize>0&&(graphics.fillStyle(anchorColor),graphics.fillCircle(start.x,start.y,anchorSize),graphics.fillCircle(end.x,end.y,anchorSize)),this},resetCollisionIDs:function(){return Body._nextCollidingGroupId=1,Body._nextNonCollidingGroupId=-1,Body._nextCategory=1,this},shutdown:function(){MatterEvents.off(this.engine),this.removeAllListeners(),MatterWorld.clear(this.localWorld,!1),Engine.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});module2.exports=World},70410:module2=>{module2.exports={setBounce:function(value){return this.body.restitution=value,this}}},66968:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Collision={setCollisionCategory:function(value){return this.body.collisionFilter.category=value,this},setCollisionGroup:function(value){return this.body.collisionFilter.group=value,this},setCollidesWith:function(categories){var flags=0;if(Array.isArray(categories))for(var i=0;i<categories.length;i++)flags|=categories[i];else flags=categories;return this.body.collisionFilter.mask=flags,this},setOnCollide:function(callback){return this.body.onCollideCallback=callback,this},setOnCollideEnd:function(callback){return this.body.onCollideEndCallback=callback,this},setOnCollideActive:function(callback){return this.body.onCollideActiveCallback=callback,this},setOnCollideWith:function(body,callback){Array.isArray(body)||(body=[body]);for(var i=0;i<body.length;i++){var src2=body[i].hasOwnProperty("body")?body[i].body:body[i];this.body.setOnCollideWith(src2,callback)}return this}};module2.exports=Collision},51607:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Body=__webpack_require__2(22562),Force={applyForce:function(force){return this._tempVec2.set(this.body.position.x,this.body.position.y),Body.applyForce(this.body,this._tempVec2,force),this},applyForceFrom:function(position2,force){return Body.applyForce(this.body,position2,force),this},thrust:function(speed){var angle=this.body.angle;return this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle)),Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(speed){var angle=this.body.angle-Math.PI/2;return this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle)),Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(speed){var angle=this.body.angle+Math.PI/2;return this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle)),Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(speed){var angle=this.body.angle-Math.PI;return this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle)),Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};module2.exports=Force},5436:module2=>{module2.exports={setFriction:function(value,air,fstatic){return this.body.friction=value,void 0!==air&&(this.body.frictionAir=air),void 0!==fstatic&&(this.body.frictionStatic=fstatic),this},setFrictionAir:function(value){return this.body.frictionAir=value,this},setFrictionStatic:function(value){return this.body.frictionStatic=value,this}}},39858:module2=>{module2.exports={setIgnoreGravity:function(value){return this.body.ignoreGravity=value,this}}},37302:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Body=__webpack_require__2(22562),Vector2=__webpack_require__2(26099),Mass={setMass:function(value){return Body.setMass(this.body,value),this},setDensity:function(value){return Body.setDensity(this.body,value),this},centerOfMass:{get:function(){return new Vector2(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};module2.exports=Mass},39132:module2=>{module2.exports={setSensor:function(value){return this.body.isSensor=value,this},isSensor:function(){return this.body.isSensor}}},57772:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bodies=__webpack_require__2(66280),Body=__webpack_require__2(22562),FuzzyEquals=__webpack_require__2(43855),GetFastValue=__webpack_require__2(95540),PhysicsEditorParser=__webpack_require__2(19496),PhysicsJSONParser=__webpack_require__2(85791),Vertices=__webpack_require__2(41598),SetBody={setRectangle:function(width,height,options){return this.setBody({type:"rectangle",width:width,height:height},options)},setCircle:function(radius,options){return this.setBody({type:"circle",radius:radius},options)},setPolygon:function(radius,sides,options){return this.setBody({type:"polygon",sides:sides,radius:radius},options)},setTrapezoid:function(width,height,slope,options){return this.setBody({type:"trapezoid",width:width,height:height,slope:slope},options)},setExistingBody:function(body,addToWorld){void 0===addToWorld&&(addToWorld=!0),this.body&&this.world.remove(this.body,!0),this.body=body;for(var i=0;i<body.parts.length;i++)body.parts[i].gameObject=this;var _this=this;if(body.destroy=function destroy(){_this.world.remove(_this.body,!0),_this.body.gameObject=null},addToWorld&&(this.world.has(body)&&this.world.remove(body,!0),this.world.add(body)),this._originComponent){var rx=body.render.sprite.xOffset,ry=body.render.sprite.yOffset,comx=body.centerOfMass.x,comy=body.centerOfMass.y;if(FuzzyEquals(comx,.5)&&FuzzyEquals(comy,.5))this.setOrigin(rx+.5,ry+.5);else{var cx=body.centerOffset.x,cy=body.centerOffset.y;this.setOrigin(rx+cx/this.displayWidth,ry+cy/this.displayHeight)}}return this},setBody:function(config2,options){if(!config2)return this;var body;"string"==typeof config2&&(config2={type:config2});var shapeType=GetFastValue(config2,"type","rectangle"),bodyX=GetFastValue(config2,"x",this._tempVec2.x),bodyY=GetFastValue(config2,"y",this._tempVec2.y),bodyWidth=GetFastValue(config2,"width",this.width),bodyHeight=GetFastValue(config2,"height",this.height);switch(shapeType){case"rectangle":body=Bodies.rectangle(bodyX,bodyY,bodyWidth,bodyHeight,options);break;case"circle":var radius=GetFastValue(config2,"radius",Math.max(bodyWidth,bodyHeight)/2),maxSides=GetFastValue(config2,"maxSides",25);body=Bodies.circle(bodyX,bodyY,radius,options,maxSides);break;case"trapezoid":var slope=GetFastValue(config2,"slope",.5);body=Bodies.trapezoid(bodyX,bodyY,bodyWidth,bodyHeight,slope,options);break;case"polygon":var sides=GetFastValue(config2,"sides",5),pRadius=GetFastValue(config2,"radius",Math.max(bodyWidth,bodyHeight)/2);body=Bodies.polygon(bodyX,bodyY,sides,pRadius,options);break;case"fromVertices":case"fromVerts":var verts=GetFastValue(config2,"verts",null);if(verts)if("string"==typeof verts&&(verts=Vertices.fromPath(verts)),this.body&&!this.body.hasOwnProperty("temp"))Body.setVertices(this.body,verts),body=this.body;else{var flagInternal=GetFastValue(config2,"flagInternal",!1),removeCollinear=GetFastValue(config2,"removeCollinear",.01),minimumArea=GetFastValue(config2,"minimumArea",10);body=Bodies.fromVertices(bodyX,bodyY,verts,options,flagInternal,removeCollinear,minimumArea)}break;case"fromPhysicsEditor":body=PhysicsEditorParser.parseBody(bodyX,bodyY,config2,options);break;case"fromPhysicsTracer":body=PhysicsJSONParser.parseBody(bodyX,bodyY,config2,options)}return body&&this.setExistingBody(body,config2.addToWorld),this}};module2.exports=SetBody},38083:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Events2=__webpack_require__2(1121),Sleeping=__webpack_require__2(53614),MatterEvents=__webpack_require__2(35810),Sleep={setToSleep:function(){return Sleeping.set(this.body,!0),this},setAwake:function(){return Sleeping.set(this.body,!1),this},setSleepThreshold:function(value){return void 0===value&&(value=60),this.body.sleepThreshold=value,this},setSleepEvents:function(start,end){return this.setSleepStartEvent(start),this.setSleepEndEvent(end),this},setSleepStartEvent:function(value){if(value){var world=this.world;MatterEvents.on(this.body,"sleepStart",(function(event){world.emit(Events2.SLEEP_START,event,this)}))}else MatterEvents.off(this.body,"sleepStart");return this},setSleepEndEvent:function(value){if(value){var world=this.world;MatterEvents.on(this.body,"sleepEnd",(function(event){world.emit(Events2.SLEEP_END,event,this)}))}else MatterEvents.off(this.body,"sleepEnd");return this}};module2.exports=Sleep},90556:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Body=__webpack_require__2(22562),Static={setStatic:function(value){return Body.setStatic(this.body,value),this},isStatic:function(){return this.body.isStatic}};module2.exports=Static},85436:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Body=__webpack_require__2(22562),MATH_CONST=__webpack_require__2(36383),WrapAngle=__webpack_require__2(86554),WrapAngleDegrees=__webpack_require__2(30954),Transform={x:{get:function(){return this.body.position.x},set:function(value){this._tempVec2.set(value,this.y),Body.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(value){this._tempVec2.set(this.x,value),Body.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(value){var factorX=1/this._scaleX,factorY=1/this._scaleY;this._scaleX=value,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,Body.scale(this.body,factorX,factorY),Body.scale(this.body,value,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(value){var factorX=1/this._scaleX,factorY=1/this._scaleY;this._scaleY=value,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,Body.scale(this.body,factorX,factorY),Body.scale(this.body,this._scaleX,value)}},angle:{get:function(){return WrapAngleDegrees(this.body.angle*MATH_CONST.RAD_TO_DEG)},set:function(value){this.rotation=WrapAngleDegrees(value)*MATH_CONST.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(value){this._rotation=WrapAngle(value),Body.setAngle(this.body,this._rotation)}},setPosition:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=x),this._tempVec2.set(x,y),Body.setPosition(this.body,this._tempVec2),this},setRotation:function(radians){return void 0===radians&&(radians=0),this._rotation=WrapAngle(radians),Body.setAngle(this.body,radians),this},setFixedRotation:function(){return Body.setInertia(this.body,1/0),this},setAngle:function(degrees){return void 0===degrees&&(degrees=0),this.angle=degrees,Body.setAngle(this.body,this.rotation),this},setScale:function(x,y,point){void 0===x&&(x=1),void 0===y&&(y=x);var factorX=1/this._scaleX,factorY=1/this._scaleY;return this._scaleX=x,this._scaleY=y,Body.scale(this.body,factorX,factorY,point),Body.scale(this.body,x,y,point),this}};module2.exports=Transform},42081:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Body=__webpack_require__2(22562),Velocity={setVelocityX:function(x){return this._tempVec2.set(x,this.body.velocity.y),Body.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(y){return this._tempVec2.set(this.body.velocity.x,y),Body.setVelocity(this.body,this._tempVec2),this},setVelocity:function(x,y){return this._tempVec2.set(x,y),Body.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return Body.getVelocity(this.body)},setAngularVelocity:function(velocity){return Body.setAngularVelocity(this.body,velocity),this},getAngularVelocity:function(){return Body.getAngularVelocity(this.body)},setAngularSpeed:function(speed){return Body.setAngularSpeed(this.body,speed),this},getAngularSpeed:function(){return Body.getAngularSpeed(this.body)}};module2.exports=Velocity},31884:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Bounce:__webpack_require__2(70410),Collision:__webpack_require__2(66968),Force:__webpack_require__2(51607),Friction:__webpack_require__2(5436),Gravity:__webpack_require__2(39858),Mass:__webpack_require__2(37302),Sensor:__webpack_require__2(39132),SetBody:__webpack_require__2(57772),Sleep:__webpack_require__2(38083),Static:__webpack_require__2(90556),Transform:__webpack_require__2(85436),Velocity:__webpack_require__2(42081)}},85608:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="afteradd"},1213:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="afterremove"},25968:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="afterupdate"},67205:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="beforeadd"},39438:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="beforeremove"},44823:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="beforeupdate"},92593:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="collisionactive"},60128:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="collisionend"},76861:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="collisionstart"},92362:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragend"},76408:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="drag"},93971:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="dragstart"},5656:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},47861:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},79099:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="sleepend"},35906:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="sleepstart"},1121:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AFTER_ADD:__webpack_require__2(85608),AFTER_REMOVE:__webpack_require__2(1213),AFTER_UPDATE:__webpack_require__2(25968),BEFORE_ADD:__webpack_require__2(67205),BEFORE_REMOVE:__webpack_require__2(39438),BEFORE_UPDATE:__webpack_require__2(44823),COLLISION_ACTIVE:__webpack_require__2(92593),COLLISION_END:__webpack_require__2(60128),COLLISION_START:__webpack_require__2(76861),DRAG_END:__webpack_require__2(92362),DRAG:__webpack_require__2(76408),DRAG_START:__webpack_require__2(93971),PAUSE:__webpack_require__2(5656),RESUME:__webpack_require__2(47861),SLEEP_END:__webpack_require__2(79099),SLEEP_START:__webpack_require__2(35906)}},3875:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BodyBounds:__webpack_require__2(68174),Components:__webpack_require__2(31884),Events:__webpack_require__2(1121),Factory:__webpack_require__2(28137),MatterGameObject:__webpack_require__2(75803),Image:__webpack_require__2(23181),Matter:__webpack_require__2(19933),MatterPhysics:__webpack_require__2(42045),PolyDecomp:__webpack_require__2(55973),Sprite:__webpack_require__2(34803),TileBody:__webpack_require__2(73834),PhysicsEditorParser:__webpack_require__2(19496),PhysicsJSONParser:__webpack_require__2(85791),PointerConstraint:__webpack_require__2(98713),World:__webpack_require__2(68243)}},22562:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Body={};module2.exports=Body;var Vertices=__webpack_require__2(41598),Vector=__webpack_require__2(31725),Sleeping=__webpack_require__2(53614),Common=__webpack_require__2(53402),Bounds=__webpack_require__2(15647),Axes=__webpack_require__2(66615);!function(){Body._timeCorrection=!0,Body._inertiaScale=4,Body._nextCollidingGroupId=1,Body._nextNonCollidingGroupId=-1,Body._nextCategory=1,Body._baseDelta=1e3/60,Body.create=function(options){var defaults2={id:Common.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:options.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:1e3/60,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!options.hasOwnProperty("position")&&options.hasOwnProperty("vertices")?options.position=Vertices.centre(options.vertices):options.hasOwnProperty("vertices")||(defaults2.vertices=Vertices.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var body=Common.extend(defaults2,options);return _initProperties(body,options),body.setOnCollideWith=function(body2,callback){return callback?this.onCollideWith[body2.id]=callback:delete this.onCollideWith[body2.id],this},body},Body.nextGroup=function(isNonColliding){return isNonColliding?Body._nextNonCollidingGroupId--:Body._nextCollidingGroupId++},Body.nextCategory=function(){return Body._nextCategory=Body._nextCategory<<1,Body._nextCategory};var _initProperties=function(body,options){if(options=options||{},Body.set(body,{bounds:body.bounds||Bounds.create(body.vertices),positionPrev:body.positionPrev||Vector.clone(body.position),anglePrev:body.anglePrev||body.angle,vertices:body.vertices,parts:body.parts||[body],isStatic:body.isStatic,isSleeping:body.isSleeping,parent:body.parent||body}),Vertices.rotate(body.vertices,body.angle,body.position),Axes.rotate(body.axes,body.angle),Bounds.update(body.bounds,body.vertices,body.velocity),Body.set(body,{axes:options.axes||body.axes,area:options.area||body.area,mass:options.mass||body.mass,inertia:options.inertia||body.inertia}),1===body.parts.length){var bounds=body.bounds,centerOfMass=body.centerOfMass,centerOffset=body.centerOffset,bodyWidth=bounds.max.x-bounds.min.x,bodyHeight=bounds.max.y-bounds.min.y;centerOfMass.x=-(bounds.min.x-body.position.x)/bodyWidth,centerOfMass.y=-(bounds.min.y-body.position.y)/bodyHeight,centerOffset.x=bodyWidth*centerOfMass.x,centerOffset.y=bodyHeight*centerOfMass.y}};Body.set=function(body,settings,value){var property;for(property in"string"==typeof settings&&(property=settings,(settings={})[property]=value),settings)if(Object.prototype.hasOwnProperty.call(settings,property))switch(value=settings[property],property){case"isStatic":Body.setStatic(body,value);break;case"isSleeping":Sleeping.set(body,value);break;case"mass":Body.setMass(body,value);break;case"density":Body.setDensity(body,value);break;case"inertia":Body.setInertia(body,value);break;case"vertices":Body.setVertices(body,value);break;case"position":Body.setPosition(body,value);break;case"angle":Body.setAngle(body,value);break;case"velocity":Body.setVelocity(body,value);break;case"angularVelocity":Body.setAngularVelocity(body,value);break;case"speed":Body.setSpeed(body,value);break;case"angularSpeed":Body.setAngularSpeed(body,value);break;case"parts":Body.setParts(body,value);break;case"centre":Body.setCentre(body,value);break;default:body[property]=value}},Body.setStatic=function(body,isStatic){for(var i=0;i<body.parts.length;i++){var part=body.parts[i];isStatic?(part.isStatic||(part._original={restitution:part.restitution,friction:part.friction,mass:part.mass,inertia:part.inertia,density:part.density,inverseMass:part.inverseMass,inverseInertia:part.inverseInertia}),part.restitution=0,part.friction=1,part.mass=part.inertia=part.density=1/0,part.inverseMass=part.inverseInertia=0,part.positionPrev.x=part.position.x,part.positionPrev.y=part.position.y,part.anglePrev=part.angle,part.angularVelocity=0,part.speed=0,part.angularSpeed=0,part.motion=0):part._original&&(part.restitution=part._original.restitution,part.friction=part._original.friction,part.mass=part._original.mass,part.inertia=part._original.inertia,part.density=part._original.density,part.inverseMass=part._original.inverseMass,part.inverseInertia=part._original.inverseInertia,part._original=null),part.isStatic=isStatic}},Body.setMass=function(body,mass){var moment=body.inertia/(body.mass/6);body.inertia=moment*(mass/6),body.inverseInertia=1/body.inertia,body.mass=mass,body.inverseMass=1/body.mass,body.density=body.mass/body.area},Body.setDensity=function(body,density){Body.setMass(body,density*body.area),body.density=density},Body.setInertia=function(body,inertia){body.inertia=inertia,body.inverseInertia=1/body.inertia},Body.setVertices=function(body,vertices){vertices[0].body===body?body.vertices=vertices:body.vertices=Vertices.create(vertices,body),body.axes=Axes.fromVertices(body.vertices),body.area=Vertices.area(body.vertices),Body.setMass(body,body.density*body.area);var centre=Vertices.centre(body.vertices);Vertices.translate(body.vertices,centre,-1),Body.setInertia(body,Body._inertiaScale*Vertices.inertia(body.vertices,body.mass)),Vertices.translate(body.vertices,body.position),Bounds.update(body.bounds,body.vertices,body.velocity)},Body.setParts=function(body,parts,autoHull){var i;for(parts=parts.slice(0),body.parts.length=0,body.parts.push(body),body.parent=body,i=0;i<parts.length;i++){var part=parts[i];part!==body&&(part.parent=body,body.parts.push(part))}if(1!==body.parts.length){if(autoHull=void 0===autoHull||autoHull){var vertices=[];for(i=0;i<parts.length;i++)vertices=vertices.concat(parts[i].vertices);Vertices.clockwiseSort(vertices);var hull=Vertices.hull(vertices),hullCentre=Vertices.centre(hull);Body.setVertices(body,hull),Vertices.translate(body.vertices,hullCentre)}var total=Body._totalProperties(body),cx=total.centre.x,cy=total.centre.y,bounds=body.bounds,centerOfMass=body.centerOfMass,centerOffset=body.centerOffset;Bounds.update(bounds,body.vertices,body.velocity),centerOfMass.x=-(bounds.min.x-cx)/(bounds.max.x-bounds.min.x),centerOfMass.y=-(bounds.min.y-cy)/(bounds.max.y-bounds.min.y),centerOffset.x=cx,centerOffset.y=cy,body.area=total.area,body.parent=body,body.position.x=cx,body.position.y=cy,body.positionPrev.x=cx,body.positionPrev.y=cy,Body.setMass(body,total.mass),Body.setInertia(body,total.inertia),Body.setPosition(body,total.centre)}},Body.setCentre=function(body,centre,relative){relative?(body.positionPrev.x+=centre.x,body.positionPrev.y+=centre.y,body.position.x+=centre.x,body.position.y+=centre.y):(body.positionPrev.x=centre.x-(body.position.x-body.positionPrev.x),body.positionPrev.y=centre.y-(body.position.y-body.positionPrev.y),body.position.x=centre.x,body.position.y=centre.y)},Body.setPosition=function(body,position2,updateVelocity){var delta=Vector.sub(position2,body.position);updateVelocity?(body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.velocity.x=delta.x,body.velocity.y=delta.y,body.speed=Vector.magnitude(delta)):(body.positionPrev.x+=delta.x,body.positionPrev.y+=delta.y);for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.position.x+=delta.x,part.position.y+=delta.y,Vertices.translate(part.vertices,delta),Bounds.update(part.bounds,part.vertices,body.velocity)}},Body.setAngle=function(body,angle,updateVelocity){var delta=angle-body.angle;updateVelocity?(body.anglePrev=body.angle,body.angularVelocity=delta,body.angularSpeed=Math.abs(delta)):body.anglePrev+=delta;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.angle+=delta,Vertices.rotate(part.vertices,delta,body.position),Axes.rotate(part.axes,delta),Bounds.update(part.bounds,part.vertices,body.velocity),i>0&&Vector.rotateAbout(part.position,delta,body.position,part.position)}},Body.setVelocity=function(body,velocity){var timeScale=body.deltaTime/Body._baseDelta;body.positionPrev.x=body.position.x-velocity.x*timeScale,body.positionPrev.y=body.position.y-velocity.y*timeScale,body.velocity.x=(body.position.x-body.positionPrev.x)/timeScale,body.velocity.y=(body.position.y-body.positionPrev.y)/timeScale,body.speed=Vector.magnitude(body.velocity)},Body.getVelocity=function(body){var timeScale=Body._baseDelta/body.deltaTime;return{x:(body.position.x-body.positionPrev.x)*timeScale,y:(body.position.y-body.positionPrev.y)*timeScale}},Body.getSpeed=function(body){return Vector.magnitude(Body.getVelocity(body))},Body.setSpeed=function(body,speed){Body.setVelocity(body,Vector.mult(Vector.normalise(Body.getVelocity(body)),speed))},Body.setAngularVelocity=function(body,velocity){var timeScale=body.deltaTime/Body._baseDelta;body.anglePrev=body.angle-velocity*timeScale,body.angularVelocity=(body.angle-body.anglePrev)/timeScale,body.angularSpeed=Math.abs(body.angularVelocity)},Body.getAngularVelocity=function(body){return(body.angle-body.anglePrev)*Body._baseDelta/body.deltaTime},Body.getAngularSpeed=function(body){return Math.abs(Body.getAngularVelocity(body))},Body.setAngularSpeed=function(body,speed){Body.setAngularVelocity(body,Common.sign(Body.getAngularVelocity(body))*speed)},Body.translate=function(body,translation,updateVelocity){Body.setPosition(body,Vector.add(body.position,translation),updateVelocity)},Body.rotate=function(body,rotation,point,updateVelocity){if(point){var cos=Math.cos(rotation),sin=Math.sin(rotation),dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)},updateVelocity),Body.setAngle(body,body.angle+rotation,updateVelocity)}else Body.setAngle(body,body.angle+rotation,updateVelocity)},Body.scale=function(body,scaleX,scaleY,point){var totalArea=0,totalInertia=0;point=point||body.position;for(var wasFixedRotation=body.inertia===1/0,i=0;i<body.parts.length;i++){var part=body.parts[i];part.scale.x=scaleX,part.scale.y=scaleY,Vertices.scale(part.vertices,scaleX,scaleY,point),part.axes=Axes.fromVertices(part.vertices),part.area=Vertices.area(part.vertices),Body.setMass(part,body.density*part.area),Vertices.translate(part.vertices,{x:-part.position.x,y:-part.position.y}),Body.setInertia(part,Body._inertiaScale*Vertices.inertia(part.vertices,part.mass)),Vertices.translate(part.vertices,{x:part.position.x,y:part.position.y}),i>0&&(totalArea+=part.area,totalInertia+=part.inertia),part.position.x=point.x+(part.position.x-point.x)*scaleX,part.position.y=point.y+(part.position.y-point.y)*scaleY,Bounds.update(part.bounds,part.vertices,body.velocity)}body.parts.length>1&&(body.area=totalArea,body.isStatic||(Body.setMass(body,body.density*totalArea),Body.setInertia(body,totalInertia))),body.circleRadius&&(scaleX===scaleY?body.circleRadius*=scaleX:body.circleRadius=null),wasFixedRotation&&Body.setInertia(body,1/0)},Body.update=function(body,deltaTime){var deltaTimeSquared=(deltaTime=(void 0!==deltaTime?deltaTime:1e3/60)*body.timeScale)*deltaTime,correction=Body._timeCorrection?deltaTime/(body.deltaTime||deltaTime):1,frictionAir=1-body.frictionAir*(deltaTime/Common._baseDelta),velocityPrevX=(body.position.x-body.positionPrev.x)*correction,velocityPrevY=(body.position.y-body.positionPrev.y)*correction;body.velocity.x=velocityPrevX*frictionAir+body.force.x/body.mass*deltaTimeSquared,body.velocity.y=velocityPrevY*frictionAir+body.force.y/body.mass*deltaTimeSquared,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.position.x+=body.velocity.x,body.position.y+=body.velocity.y,body.deltaTime=deltaTime,body.angularVelocity=(body.angle-body.anglePrev)*frictionAir*correction+body.torque/body.inertia*deltaTimeSquared,body.anglePrev=body.angle,body.angle+=body.angularVelocity,body.speed=Vector.magnitude(body.velocity),body.angularSpeed=Math.abs(body.angularVelocity);for(var i=0;i<body.parts.length;i++){var part=body.parts[i];Vertices.translate(part.vertices,body.velocity),i>0&&(part.position.x+=body.velocity.x,part.position.y+=body.velocity.y),0!==body.angularVelocity&&(Vertices.rotate(part.vertices,body.angularVelocity,body.position),Axes.rotate(part.axes,body.angularVelocity),i>0&&Vector.rotateAbout(part.position,body.angularVelocity,body.position,part.position)),Bounds.update(part.bounds,part.vertices,body.velocity)}},Body.updateVelocities=function(body){var timeScale=Body._baseDelta/body.deltaTime,bodyVelocity=body.velocity;bodyVelocity.x=(body.position.x-body.positionPrev.x)*timeScale,bodyVelocity.y=(body.position.y-body.positionPrev.y)*timeScale,body.speed=Math.sqrt(bodyVelocity.x*bodyVelocity.x+bodyVelocity.y*bodyVelocity.y),body.angularVelocity=(body.angle-body.anglePrev)*timeScale,body.angularSpeed=Math.abs(body.angularVelocity)},Body.applyForce=function(body,position2,force){var offset_x=position2.x-body.position.x,offset_y=position2.y-body.position.y;body.force.x+=force.x,body.force.y+=force.y,body.torque+=offset_x*force.y-offset_y*force.x},Body._totalProperties=function(body){for(var properties={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===body.parts.length?0:1;i<body.parts.length;i++){var part=body.parts[i],mass=part.mass!==1/0?part.mass:1;properties.mass+=mass,properties.area+=part.area,properties.inertia+=part.inertia,properties.centre=Vector.add(properties.centre,Vector.mult(part.position,mass))}return properties.centre=Vector.div(properties.centre,properties.mass),properties},Body.wrap=function(body,bounds){var translation=Bounds.wrap(body.bounds,bounds);return translation&&Body.translate(body,translation),translation}}()},69351:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Composite={};module2.exports=Composite;var Events2=__webpack_require__2(35810),Common=__webpack_require__2(53402),Bounds=__webpack_require__2(15647),Body=__webpack_require__2(22562);Composite.create=function(options){return Common.extend({id:Common.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},options)},Composite.setModified=function(composite,isModified,updateParents,updateChildren){if(Events2.trigger(composite,"compositeModified",composite),composite.isModified=isModified,isModified&&composite.cache&&(composite.cache.allBodies=null,composite.cache.allConstraints=null,composite.cache.allComposites=null),updateParents&&composite.parent&&Composite.setModified(composite.parent,isModified,updateParents,updateChildren),updateChildren)for(var i=0;i<composite.composites.length;i++){var childComposite=composite.composites[i];Composite.setModified(childComposite,isModified,updateParents,updateChildren)}},Composite.add=function(composite,object){var objects=[].concat(object);Events2.trigger(composite,"beforeAdd",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];switch(obj.type){case"body":if(obj.parent!==obj){Common.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}Composite.addBody(composite,obj);break;case"constraint":Composite.addConstraint(composite,obj);break;case"composite":Composite.addComposite(composite,obj);break;case"mouseConstraint":Composite.addConstraint(composite,obj.constraint)}}return Events2.trigger(composite,"afterAdd",{object:object}),composite},Composite.remove=function(composite,object,deep){var objects=[].concat(object);Events2.trigger(composite,"beforeRemove",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];switch(obj.type){case"body":Composite.removeBody(composite,obj,deep);break;case"constraint":Composite.removeConstraint(composite,obj,deep);break;case"composite":Composite.removeComposite(composite,obj,deep);break;case"mouseConstraint":Composite.removeConstraint(composite,obj.constraint)}}return Events2.trigger(composite,"afterRemove",{object:object}),composite},Composite.addComposite=function(compositeA,compositeB){return compositeA.composites.push(compositeB),compositeB.parent=compositeA,Composite.setModified(compositeA,!0,!0,!1),compositeA},Composite.removeComposite=function(compositeA,compositeB,deep){var position2=Common.indexOf(compositeA.composites,compositeB);if(-1!==position2){var bodies=Composite.allBodies(compositeB);Composite.removeCompositeAt(compositeA,position2);for(var i=0;i<bodies.length;i++)bodies[i].sleepCounter=0}if(deep)for(i=0;i<compositeA.composites.length;i++)Composite.removeComposite(compositeA.composites[i],compositeB,!0);return compositeA},Composite.removeCompositeAt=function(composite,position2){return composite.composites.splice(position2,1),Composite.setModified(composite,!0,!0,!1),composite},Composite.addBody=function(composite,body){return composite.bodies.push(body),Composite.setModified(composite,!0,!0,!1),composite},Composite.removeBody=function(composite,body,deep){var position2=Common.indexOf(composite.bodies,body);if(-1!==position2&&(Composite.removeBodyAt(composite,position2),body.sleepCounter=0),deep)for(var i=0;i<composite.composites.length;i++)Composite.removeBody(composite.composites[i],body,!0);return composite},Composite.removeBodyAt=function(composite,position2){return composite.bodies.splice(position2,1),Composite.setModified(composite,!0,!0,!1),composite},Composite.addConstraint=function(composite,constraint){return composite.constraints.push(constraint),Composite.setModified(composite,!0,!0,!1),composite},Composite.removeConstraint=function(composite,constraint,deep){var position2=Common.indexOf(composite.constraints,constraint);if(-1!==position2&&Composite.removeConstraintAt(composite,position2),deep)for(var i=0;i<composite.composites.length;i++)Composite.removeConstraint(composite.composites[i],constraint,!0);return composite},Composite.removeConstraintAt=function(composite,position2){return composite.constraints.splice(position2,1),Composite.setModified(composite,!0,!0,!1),composite},Composite.clear=function(composite,keepStatic,deep){if(deep)for(var i=0;i<composite.composites.length;i++)Composite.clear(composite.composites[i],keepStatic,!0);return keepStatic?composite.bodies=composite.bodies.filter((function(body){return body.isStatic})):composite.bodies.length=0,composite.constraints.length=0,composite.composites.length=0,Composite.setModified(composite,!0,!0,!1),composite},Composite.allBodies=function(composite){if(composite.cache&&composite.cache.allBodies)return composite.cache.allBodies;for(var bodies=[].concat(composite.bodies),i=0;i<composite.composites.length;i++)bodies=bodies.concat(Composite.allBodies(composite.composites[i]));return composite.cache&&(composite.cache.allBodies=bodies),bodies},Composite.allConstraints=function(composite){if(composite.cache&&composite.cache.allConstraints)return composite.cache.allConstraints;for(var constraints=[].concat(composite.constraints),i=0;i<composite.composites.length;i++)constraints=constraints.concat(Composite.allConstraints(composite.composites[i]));return composite.cache&&(composite.cache.allConstraints=constraints),constraints},Composite.allComposites=function(composite){if(composite.cache&&composite.cache.allComposites)return composite.cache.allComposites;for(var composites=[].concat(composite.composites),i=0;i<composite.composites.length;i++)composites=composites.concat(Composite.allComposites(composite.composites[i]));return composite.cache&&(composite.cache.allComposites=composites),composites},Composite.get=function(composite,id,type){var objects,object;switch(type){case"body":objects=Composite.allBodies(composite);break;case"constraint":objects=Composite.allConstraints(composite);break;case"composite":objects=Composite.allComposites(composite).concat(composite)}return objects?0===(object=objects.filter((function(object2){return object2.id.toString()===id.toString()}))).length?null:object[0]:null},Composite.move=function(compositeA,objects,compositeB){return Composite.remove(compositeA,objects),Composite.add(compositeB,objects),compositeA},Composite.rebase=function(composite){for(var objects=Composite.allBodies(composite).concat(Composite.allConstraints(composite)).concat(Composite.allComposites(composite)),i=0;i<objects.length;i++)objects[i].id=Common.nextId();return composite},Composite.translate=function(composite,translation,recursive){for(var bodies=recursive?Composite.allBodies(composite):composite.bodies,i=0;i<bodies.length;i++)Body.translate(bodies[i],translation);return composite},Composite.rotate=function(composite,rotation,point,recursive){for(var cos=Math.cos(rotation),sin=Math.sin(rotation),bodies=recursive?Composite.allBodies(composite):composite.bodies,i=0;i<bodies.length;i++){var body=bodies[i],dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)}),Body.rotate(body,rotation)}return composite},Composite.scale=function(composite,scaleX,scaleY,point,recursive){for(var bodies=recursive?Composite.allBodies(composite):composite.bodies,i=0;i<bodies.length;i++){var body=bodies[i],dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+dx*scaleX,y:point.y+dy*scaleY}),Body.scale(body,scaleX,scaleY)}return composite},Composite.bounds=function(composite){for(var bodies=Composite.allBodies(composite),vertices=[],i=0;i<bodies.length;i+=1){var body=bodies[i];vertices.push(body.bounds.min,body.bounds.max)}return Bounds.create(vertices)},Composite.wrap=function(composite,bounds){var translation=Bounds.wrap(Composite.bounds(composite),bounds);return translation&&Composite.translate(composite,translation),translation}},4372:(module2,__unused_webpack_exports,__webpack_require__2)=>{var World={};module2.exports=World;var Composite=__webpack_require__2(69351);World.create=Composite.create,World.add=Composite.add,World.remove=Composite.remove,World.clear=Composite.clear,World.addComposite=Composite.addComposite,World.addBody=Composite.addBody,World.addConstraint=Composite.addConstraint},52284:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Collision={};module2.exports=Collision;var _supports,_overlapAB,_overlapBA,Vertices=__webpack_require__2(41598),Pair=__webpack_require__2(4506);_supports=[],_overlapAB={overlap:0,axis:null},_overlapBA={overlap:0,axis:null},Collision.create=function(bodyA,bodyB){return{pair:null,collided:!1,bodyA:bodyA,bodyB:bodyB,parentA:bodyA.parent,parentB:bodyB.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},Collision.collides=function(bodyA,bodyB,pairs){if(Collision._overlapAxes(_overlapAB,bodyA.vertices,bodyB.vertices,bodyA.axes),_overlapAB.overlap<=0)return null;if(Collision._overlapAxes(_overlapBA,bodyB.vertices,bodyA.vertices,bodyB.axes),_overlapBA.overlap<=0)return null;var collision,minOverlap,pair=pairs&&pairs.table[Pair.id(bodyA,bodyB)];pair?collision=pair.collision:((collision=Collision.create(bodyA,bodyB)).collided=!0,collision.bodyA=bodyA.id<bodyB.id?bodyA:bodyB,collision.bodyB=bodyA.id<bodyB.id?bodyB:bodyA,collision.parentA=collision.bodyA.parent,collision.parentB=collision.bodyB.parent),bodyA=collision.bodyA,bodyB=collision.bodyB,minOverlap=_overlapAB.overlap<_overlapBA.overlap?_overlapAB:_overlapBA;var normal=collision.normal,tangent=collision.tangent,penetration=collision.penetration,supports=collision.supports,depth=minOverlap.overlap,minAxis=minOverlap.axis,normalX=minAxis.x,normalY=minAxis.y;normalX*(bodyB.position.x-bodyA.position.x)+normalY*(bodyB.position.y-bodyA.position.y)>=0&&(normalX=-normalX,normalY=-normalY),normal.x=normalX,normal.y=normalY,tangent.x=-normalY,tangent.y=normalX,penetration.x=normalX*depth,penetration.y=normalY*depth,collision.depth=depth;var supportsB=Collision._findSupports(bodyA,bodyB,normal,1),supportCount=0;if(Vertices.contains(bodyA.vertices,supportsB[0])&&(supports[supportCount++]=supportsB[0]),Vertices.contains(bodyA.vertices,supportsB[1])&&(supports[supportCount++]=supportsB[1]),supportCount<2){var supportsA=Collision._findSupports(bodyB,bodyA,normal,-1);Vertices.contains(bodyB.vertices,supportsA[0])&&(supports[supportCount++]=supportsA[0]),supportCount<2&&Vertices.contains(bodyB.vertices,supportsA[1])&&(supports[supportCount++]=supportsA[1])}return 0===supportCount&&(supports[supportCount++]=supportsB[0]),collision.supportCount=supportCount,collision},Collision._overlapAxes=function(result,verticesA,verticesB,axes){var overlap,overlapAB,overlapBA,dot,i,j,verticesALength=verticesA.length,verticesBLength=verticesB.length,verticesAX=verticesA[0].x,verticesAY=verticesA[0].y,verticesBX=verticesB[0].x,verticesBY=verticesB[0].y,axesLength=axes.length,overlapMin=Number.MAX_VALUE,overlapAxisNumber=0;for(i=0;i<axesLength;i++){var axis=axes[i],axisX=axis.x,axisY=axis.y,minA=verticesAX*axisX+verticesAY*axisY,minB=verticesBX*axisX+verticesBY*axisY,maxA=minA,maxB=minB;for(j=1;j<verticesALength;j+=1)(dot=verticesA[j].x*axisX+verticesA[j].y*axisY)>maxA?maxA=dot:dot<minA&&(minA=dot);for(j=1;j<verticesBLength;j+=1)(dot=verticesB[j].x*axisX+verticesB[j].y*axisY)>maxB?maxB=dot:dot<minB&&(minB=dot);if((overlap=(overlapAB=maxA-minB)<(overlapBA=maxB-minA)?overlapAB:overlapBA)<overlapMin&&(overlapMin=overlap,overlapAxisNumber=i,overlap<=0))break}result.axis=axes[overlapAxisNumber],result.overlap=overlapMin},Collision._findSupports=function(bodyA,bodyB,normal,direction){var vertexC,distance,j,vertices=bodyB.vertices,verticesLength=vertices.length,bodyAPositionX=bodyA.position.x,bodyAPositionY=bodyA.position.y,normalX=normal.x*direction,normalY=normal.y*direction,vertexA=vertices[0],vertexB=vertexA,nearestDistance=normalX*(bodyAPositionX-vertexB.x)+normalY*(bodyAPositionY-vertexB.y);for(j=1;j<verticesLength;j+=1)(distance=normalX*(bodyAPositionX-(vertexB=vertices[j]).x)+normalY*(bodyAPositionY-vertexB.y))<nearestDistance&&(nearestDistance=distance,vertexA=vertexB);return nearestDistance=normalX*(bodyAPositionX-(vertexC=vertices[(verticesLength+vertexA.index-1)%verticesLength]).x)+normalY*(bodyAPositionY-vertexC.y),normalX*(bodyAPositionX-(vertexB=vertices[(vertexA.index+1)%verticesLength]).x)+normalY*(bodyAPositionY-vertexB.y)<nearestDistance?(_supports[0]=vertexA,_supports[1]=vertexB,_supports):(_supports[0]=vertexA,_supports[1]=vertexC,_supports)}},43424:module2=>{var Contact={};module2.exports=Contact,Contact.create=function(vertex){return{vertex:vertex,normalImpulse:0,tangentImpulse:0}}},81388:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Detector={};module2.exports=Detector;var Common=__webpack_require__2(53402),Collision=__webpack_require__2(52284);Detector.create=function(options){return Common.extend({bodies:[],collisions:[],pairs:null},options)},Detector.setBodies=function(detector,bodies){detector.bodies=bodies.slice(0)},Detector.clear=function(detector){detector.bodies=[],detector.collisions=[]},Detector.collisions=function(detector){var i,j,pairs=detector.pairs,bodies=detector.bodies,bodiesLength=bodies.length,canCollide=Detector.canCollide,collides=Collision.collides,collisions=detector.collisions,collisionIndex=0;for(bodies.sort(Detector._compareBoundsX),i=0;i<bodiesLength;i++){var bodyA=bodies[i],boundsA=bodyA.bounds,boundXMax=bodyA.bounds.max.x,boundYMax=bodyA.bounds.max.y,boundYMin=bodyA.bounds.min.y,bodyAStatic=bodyA.isStatic||bodyA.isSleeping,partsALength=bodyA.parts.length,partsASingle=1===partsALength;for(j=i+1;j<bodiesLength;j++){var bodyB=bodies[j];if((boundsB=bodyB.bounds).min.x>boundXMax)break;if(!(boundYMax<boundsB.min.y||boundYMin>boundsB.max.y)&&(!bodyAStatic||!bodyB.isStatic&&!bodyB.isSleeping)&&canCollide(bodyA.collisionFilter,bodyB.collisionFilter)){var partsBLength=bodyB.parts.length;if(partsASingle&&1===partsBLength)(collision=collides(bodyA,bodyB,pairs))&&(collisions[collisionIndex++]=collision);else for(var partsBStart=partsBLength>1?1:0,k=partsALength>1?1:0;k<partsALength;k++)for(var partA=bodyA.parts[k],z2=(boundsA=partA.bounds,partsBStart);z2<partsBLength;z2++){var collision,partB=bodyB.parts[z2],boundsB=partB.bounds;boundsA.min.x>boundsB.max.x||boundsA.max.x<boundsB.min.x||boundsA.max.y<boundsB.min.y||boundsA.min.y>boundsB.max.y||(collision=collides(partA,partB,pairs))&&(collisions[collisionIndex++]=collision)}}}}return collisions.length!==collisionIndex&&(collisions.length=collisionIndex),collisions},Detector.canCollide=function(filterA,filterB){return filterA.group===filterB.group&&0!==filterA.group?filterA.group>0:0!==(filterA.mask&filterB.category)&&0!==(filterB.mask&filterA.category)},Detector._compareBoundsX=function(bodyA,bodyB){return bodyA.bounds.min.x-bodyB.bounds.min.x}},4506:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Pair={};module2.exports=Pair;var Contact=__webpack_require__2(43424);Pair.create=function(collision,timestamp){var bodyA=collision.bodyA,bodyB=collision.bodyB,pair={id:Pair.id(bodyA,bodyB),bodyA:bodyA,bodyB:bodyB,collision:collision,contacts:[Contact.create(),Contact.create()],contactCount:0,separation:0,isActive:!0,isSensor:bodyA.isSensor||bodyB.isSensor,timeCreated:timestamp,timeUpdated:timestamp,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return Pair.update(pair,collision,timestamp),pair},Pair.update=function(pair,collision,timestamp){var supports=collision.supports,supportCount=collision.supportCount,contacts=pair.contacts,parentA=collision.parentA,parentB=collision.parentB;pair.isActive=!0,pair.timeUpdated=timestamp,pair.collision=collision,pair.separation=collision.depth,pair.inverseMass=parentA.inverseMass+parentB.inverseMass,pair.friction=parentA.friction<parentB.friction?parentA.friction:parentB.friction,pair.frictionStatic=parentA.frictionStatic>parentB.frictionStatic?parentA.frictionStatic:parentB.frictionStatic,pair.restitution=parentA.restitution>parentB.restitution?parentA.restitution:parentB.restitution,pair.slop=parentA.slop>parentB.slop?parentA.slop:parentB.slop,pair.contactCount=supportCount,collision.pair=pair;var supportA=supports[0],contactA=contacts[0],supportB=supports[1],contactB=contacts[1];contactB.vertex!==supportA&&contactA.vertex!==supportB||(contacts[1]=contactA,contacts[0]=contactA=contactB,contactB=contacts[1]),contactA.vertex=supportA,contactB.vertex=supportB},Pair.setActive=function(pair,isActive,timestamp){isActive?(pair.isActive=!0,pair.timeUpdated=timestamp):(pair.isActive=!1,pair.contactCount=0)},Pair.id=function(bodyA,bodyB){return bodyA.id<bodyB.id?bodyA.id.toString(36)+":"+bodyB.id.toString(36):bodyB.id.toString(36)+":"+bodyA.id.toString(36)}},99561:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Pairs={};module2.exports=Pairs;var Pair=__webpack_require__2(4506),Common=__webpack_require__2(53402);Pairs.create=function(options){return Common.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},options)},Pairs.update=function(pairs,collisions,timestamp){var collision,pair,i,pairUpdate=Pair.update,pairCreate=Pair.create,pairSetActive=Pair.setActive,pairsTable=pairs.table,pairsList=pairs.list,pairsListLength=pairsList.length,pairsListIndex=pairsListLength,collisionStart=pairs.collisionStart,collisionEnd=pairs.collisionEnd,collisionActive=pairs.collisionActive,collisionsLength=collisions.length,collisionStartIndex=0,collisionEndIndex=0,collisionActiveIndex=0;for(i=0;i<collisionsLength;i++)(pair=(collision=collisions[i]).pair)?(pair.isActive&&(collisionActive[collisionActiveIndex++]=pair),pairUpdate(pair,collision,timestamp)):(pairsTable[(pair=pairCreate(collision,timestamp)).id]=pair,collisionStart[collisionStartIndex++]=pair,pairsList[pairsListIndex++]=pair);for(pairsListIndex=0,pairsListLength=pairsList.length,i=0;i<pairsListLength;i++)(pair=pairsList[i]).timeUpdated>=timestamp?pairsList[pairsListIndex++]=pair:(pairSetActive(pair,!1,timestamp),pair.collision.bodyA.sleepCounter>0&&pair.collision.bodyB.sleepCounter>0?pairsList[pairsListIndex++]=pair:(collisionEnd[collisionEndIndex++]=pair,delete pairsTable[pair.id]));pairsList.length!==pairsListIndex&&(pairsList.length=pairsListIndex),collisionStart.length!==collisionStartIndex&&(collisionStart.length=collisionStartIndex),collisionEnd.length!==collisionEndIndex&&(collisionEnd.length=collisionEndIndex),collisionActive.length!==collisionActiveIndex&&(collisionActive.length=collisionActiveIndex)},Pairs.clear=function(pairs){return pairs.table={},pairs.list.length=0,pairs.collisionStart.length=0,pairs.collisionActive.length=0,pairs.collisionEnd.length=0,pairs}},73296:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Query={};module2.exports=Query;var Vector=__webpack_require__2(31725),Collision=__webpack_require__2(52284),Bounds=__webpack_require__2(15647),Bodies=__webpack_require__2(66280),Vertices=__webpack_require__2(41598);Query.collides=function(body,bodies){for(var collisions=[],bodiesLength=bodies.length,bounds=body.bounds,collides=Collision.collides,overlaps=Bounds.overlaps,i=0;i<bodiesLength;i++){var bodyA=bodies[i],partsALength=bodyA.parts.length,partsAStart=1===partsALength?0:1;if(body!==bodyA&&overlaps(bodyA.bounds,bounds))for(var j=partsAStart;j<partsALength;j++){var part=bodyA.parts[j];if(overlaps(part.bounds,bounds)){var collision=collides(part,body);if(collision){collisions.push(collision);break}}}}return collisions},Query.ray=function(bodies,startPoint,endPoint,rayWidth){rayWidth=rayWidth||1e-100;for(var rayAngle=Vector.angle(startPoint,endPoint),rayLength=Vector.magnitude(Vector.sub(startPoint,endPoint)),rayX=.5*(endPoint.x+startPoint.x),rayY=.5*(endPoint.y+startPoint.y),ray=Bodies.rectangle(rayX,rayY,rayLength,rayWidth,{angle:rayAngle}),collisions=Query.collides(ray,bodies),i=0;i<collisions.length;i+=1){var collision=collisions[i];collision.body=collision.bodyB=collision.bodyA}return collisions},Query.region=function(bodies,bounds,outside){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i],overlaps=Bounds.overlaps(body.bounds,bounds);(overlaps&&!outside||!overlaps&&outside)&&result.push(body)}return result},Query.point=function(bodies,point){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i];if(Bounds.contains(body.bounds,point))for(var j=1===body.parts.length?0:1;j<body.parts.length;j++){var part=body.parts[j];if(Bounds.contains(part.bounds,point)&&Vertices.contains(part.vertices,point)){result.push(body);break}}}return result}},66272:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Resolver={};module2.exports=Resolver;var Vertices=__webpack_require__2(41598),Common=__webpack_require__2(53402),Bounds=__webpack_require__2(15647);Resolver._restingThresh=2,Resolver._restingThreshTangent=Math.sqrt(6),Resolver._positionDampen=.9,Resolver._positionWarming=.8,Resolver._frictionNormalMultiplier=5,Resolver._frictionMaxStatic=Number.MAX_VALUE,Resolver.preSolvePosition=function(pairs){var i,pair,contactCount,pairsLength=pairs.length;for(i=0;i<pairsLength;i++)(pair=pairs[i]).isActive&&(contactCount=pair.contactCount,pair.collision.parentA.totalContacts+=contactCount,pair.collision.parentB.totalContacts+=contactCount)},Resolver.solvePosition=function(pairs,delta,damping){var i,pair,collision,bodyA,bodyB,normal,contactShare,positionImpulse,positionDampen=Resolver._positionDampen*(damping||1),slopDampen=Common.clamp(delta/Common._baseDelta,0,1),pairsLength=pairs.length;for(i=0;i<pairsLength;i++)(pair=pairs[i]).isActive&&!pair.isSensor&&(bodyA=(collision=pair.collision).parentA,bodyB=collision.parentB,normal=collision.normal,pair.separation=collision.depth+normal.x*(bodyB.positionImpulse.x-bodyA.positionImpulse.x)+normal.y*(bodyB.positionImpulse.y-bodyA.positionImpulse.y));for(i=0;i<pairsLength;i++)(pair=pairs[i]).isActive&&!pair.isSensor&&(bodyA=(collision=pair.collision).parentA,bodyB=collision.parentB,normal=collision.normal,positionImpulse=pair.separation-pair.slop*slopDampen,(bodyA.isStatic||bodyB.isStatic)&&(positionImpulse*=2),bodyA.isStatic||bodyA.isSleeping||(contactShare=positionDampen/bodyA.totalContacts,bodyA.positionImpulse.x+=normal.x*positionImpulse*contactShare,bodyA.positionImpulse.y+=normal.y*positionImpulse*contactShare),bodyB.isStatic||bodyB.isSleeping||(contactShare=positionDampen/bodyB.totalContacts,bodyB.positionImpulse.x-=normal.x*positionImpulse*contactShare,bodyB.positionImpulse.y-=normal.y*positionImpulse*contactShare))},Resolver.postSolvePosition=function(bodies){for(var positionWarming=Resolver._positionWarming,bodiesLength=bodies.length,verticesTranslate=Vertices.translate,boundsUpdate=Bounds.update,i=0;i<bodiesLength;i++){var body=bodies[i],positionImpulse=body.positionImpulse,positionImpulseX=positionImpulse.x,positionImpulseY=positionImpulse.y,velocity=body.velocity;if(body.totalContacts=0,0!==positionImpulseX||0!==positionImpulseY){for(var j=0;j<body.parts.length;j++){var part=body.parts[j];verticesTranslate(part.vertices,positionImpulse),boundsUpdate(part.bounds,part.vertices,velocity),part.position.x+=positionImpulseX,part.position.y+=positionImpulseY}body.positionPrev.x+=positionImpulseX,body.positionPrev.y+=positionImpulseY,positionImpulseX*velocity.x+positionImpulseY*velocity.y<0?(positionImpulse.x=0,positionImpulse.y=0):(positionImpulse.x*=positionWarming,positionImpulse.y*=positionWarming)}}},Resolver.preSolveVelocity=function(pairs){var i,j,pairsLength=pairs.length;for(i=0;i<pairsLength;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var contacts=pair.contacts,contactCount=pair.contactCount,collision=pair.collision,bodyA=collision.parentA,bodyB=collision.parentB,normal=collision.normal,tangent=collision.tangent;for(j=0;j<contactCount;j++){var contact=contacts[j],contactVertex=contact.vertex,normalImpulse=contact.normalImpulse,tangentImpulse=contact.tangentImpulse;if(0!==normalImpulse||0!==tangentImpulse){var impulseX=normal.x*normalImpulse+tangent.x*tangentImpulse,impulseY=normal.y*normalImpulse+tangent.y*tangentImpulse;bodyA.isStatic||bodyA.isSleeping||(bodyA.positionPrev.x+=impulseX*bodyA.inverseMass,bodyA.positionPrev.y+=impulseY*bodyA.inverseMass,bodyA.anglePrev+=bodyA.inverseInertia*((contactVertex.x-bodyA.position.x)*impulseY-(contactVertex.y-bodyA.position.y)*impulseX)),bodyB.isStatic||bodyB.isSleeping||(bodyB.positionPrev.x-=impulseX*bodyB.inverseMass,bodyB.positionPrev.y-=impulseY*bodyB.inverseMass,bodyB.anglePrev-=bodyB.inverseInertia*((contactVertex.x-bodyB.position.x)*impulseY-(contactVertex.y-bodyB.position.y)*impulseX))}}}}},Resolver.solveVelocity=function(pairs,delta){var tangentImpulse,maxFriction,i,j,timeScale=delta/Common._baseDelta,timeScaleCubed=timeScale*timeScale*timeScale,restingThresh=-Resolver._restingThresh*timeScale,restingThreshTangent=Resolver._restingThreshTangent,frictionNormalMultiplier=Resolver._frictionNormalMultiplier*timeScale,frictionMaxStatic=Resolver._frictionMaxStatic,pairsLength=pairs.length;for(i=0;i<pairsLength;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var collision=pair.collision,bodyA=collision.parentA,bodyB=collision.parentB,normalX=collision.normal.x,normalY=collision.normal.y,tangentX=collision.tangent.x,tangentY=collision.tangent.y,inverseMassTotal=pair.inverseMass,friction=pair.friction*pair.frictionStatic*frictionNormalMultiplier,contacts=pair.contacts,contactCount=pair.contactCount,contactShare=1/contactCount,bodyAVelocityX=bodyA.position.x-bodyA.positionPrev.x,bodyAVelocityY=bodyA.position.y-bodyA.positionPrev.y,bodyAAngularVelocity=bodyA.angle-bodyA.anglePrev,bodyBVelocityX=bodyB.position.x-bodyB.positionPrev.x,bodyBVelocityY=bodyB.position.y-bodyB.positionPrev.y,bodyBAngularVelocity=bodyB.angle-bodyB.anglePrev;for(j=0;j<contactCount;j++){var contact=contacts[j],contactVertex=contact.vertex,offsetAX=contactVertex.x-bodyA.position.x,offsetAY=contactVertex.y-bodyA.position.y,offsetBX=contactVertex.x-bodyB.position.x,offsetBY=contactVertex.y-bodyB.position.y,relativeVelocityX=bodyAVelocityX-offsetAY*bodyAAngularVelocity-(bodyBVelocityX-offsetBY*bodyBAngularVelocity),relativeVelocityY=bodyAVelocityY+offsetAX*bodyAAngularVelocity-(bodyBVelocityY+offsetBX*bodyBAngularVelocity),normalVelocity=normalX*relativeVelocityX+normalY*relativeVelocityY,tangentVelocity=tangentX*relativeVelocityX+tangentY*relativeVelocityY,normalOverlap=pair.separation+normalVelocity,normalForce=Math.min(normalOverlap,1),frictionLimit=(normalForce=normalOverlap<0?0:normalForce)*friction;tangentVelocity<-frictionLimit||tangentVelocity>frictionLimit?(maxFriction=tangentVelocity>0?tangentVelocity:-tangentVelocity,(tangentImpulse=pair.friction*(tangentVelocity>0?1:-1)*timeScaleCubed)<-maxFriction?tangentImpulse=-maxFriction:tangentImpulse>maxFriction&&(tangentImpulse=maxFriction)):(tangentImpulse=tangentVelocity,maxFriction=frictionMaxStatic);var oAcN=offsetAX*normalY-offsetAY*normalX,oBcN=offsetBX*normalY-offsetBY*normalX,share=contactShare/(inverseMassTotal+bodyA.inverseInertia*oAcN*oAcN+bodyB.inverseInertia*oBcN*oBcN),normalImpulse=(1+pair.restitution)*normalVelocity*share;if(tangentImpulse*=share,normalVelocity<restingThresh)contact.normalImpulse=0;else{var contactNormalImpulse=contact.normalImpulse;contact.normalImpulse+=normalImpulse,contact.normalImpulse>0&&(contact.normalImpulse=0),normalImpulse=contact.normalImpulse-contactNormalImpulse}if(tangentVelocity<-restingThreshTangent||tangentVelocity>restingThreshTangent)contact.tangentImpulse=0;else{var contactTangentImpulse=contact.tangentImpulse;contact.tangentImpulse+=tangentImpulse,contact.tangentImpulse<-maxFriction&&(contact.tangentImpulse=-maxFriction),contact.tangentImpulse>maxFriction&&(contact.tangentImpulse=maxFriction),tangentImpulse=contact.tangentImpulse-contactTangentImpulse}var impulseX=normalX*normalImpulse+tangentX*tangentImpulse,impulseY=normalY*normalImpulse+tangentY*tangentImpulse;bodyA.isStatic||bodyA.isSleeping||(bodyA.positionPrev.x+=impulseX*bodyA.inverseMass,bodyA.positionPrev.y+=impulseY*bodyA.inverseMass,bodyA.anglePrev+=(offsetAX*impulseY-offsetAY*impulseX)*bodyA.inverseInertia),bodyB.isStatic||bodyB.isSleeping||(bodyB.positionPrev.x-=impulseX*bodyB.inverseMass,bodyB.positionPrev.y-=impulseY*bodyB.inverseMass,bodyB.anglePrev-=(offsetBX*impulseY-offsetBY*impulseX)*bodyB.inverseInertia)}}}}},48140:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Constraint={};module2.exports=Constraint;var Vertices=__webpack_require__2(41598),Vector=__webpack_require__2(31725),Sleeping=__webpack_require__2(53614),Bounds=__webpack_require__2(15647),Axes=__webpack_require__2(66615),Common=__webpack_require__2(53402);Constraint._warming=.4,Constraint._torqueDampen=1,Constraint._minLength=1e-6,Constraint.create=function(options){var constraint=options;constraint.bodyA&&!constraint.pointA&&(constraint.pointA={x:0,y:0}),constraint.bodyB&&!constraint.pointB&&(constraint.pointB={x:0,y:0});var initialPointA=constraint.bodyA?Vector.add(constraint.bodyA.position,constraint.pointA):constraint.pointA,initialPointB=constraint.bodyB?Vector.add(constraint.bodyB.position,constraint.pointB):constraint.pointB,length=Vector.magnitude(Vector.sub(initialPointA,initialPointB));constraint.length=void 0!==constraint.length?constraint.length:length,constraint.id=constraint.id||Common.nextId(),constraint.label=constraint.label||"Constraint",constraint.type="constraint",constraint.stiffness=constraint.stiffness||(constraint.length>0?1:.7),constraint.damping=constraint.damping||0,constraint.angularStiffness=constraint.angularStiffness||0,constraint.angleA=constraint.bodyA?constraint.bodyA.angle:constraint.angleA,constraint.angleB=constraint.bodyB?constraint.bodyB.angle:constraint.angleB,constraint.plugin={};var render={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===constraint.length&&constraint.stiffness>.1?(render.type="pin",render.anchors=!1):constraint.stiffness<.9&&(render.type="spring"),constraint.render=Common.extend(render,constraint.render),constraint},Constraint.preSolveAll=function(bodies){for(var i=0;i<bodies.length;i+=1){var body=bodies[i],impulse=body.constraintImpulse;body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle||(body.position.x+=impulse.x,body.position.y+=impulse.y,body.angle+=impulse.angle)}},Constraint.solveAll=function(constraints,delta){for(var timeScale=Common.clamp(delta/Common._baseDelta,0,1),i=0;i<constraints.length;i+=1){var constraint=constraints[i],fixedA=!constraint.bodyA||constraint.bodyA&&constraint.bodyA.isStatic,fixedB=!constraint.bodyB||constraint.bodyB&&constraint.bodyB.isStatic;(fixedA||fixedB)&&Constraint.solve(constraints[i],timeScale)}for(i=0;i<constraints.length;i+=1)fixedA=!(constraint=constraints[i]).bodyA||constraint.bodyA&&constraint.bodyA.isStatic,fixedB=!constraint.bodyB||constraint.bodyB&&constraint.bodyB.isStatic,fixedA||fixedB||Constraint.solve(constraints[i],timeScale)},Constraint.solve=function(constraint,timeScale){var bodyA=constraint.bodyA,bodyB=constraint.bodyB,pointA=constraint.pointA,pointB=constraint.pointB;if(bodyA||bodyB){bodyA&&!bodyA.isStatic&&(Vector.rotate(pointA,bodyA.angle-constraint.angleA,pointA),constraint.angleA=bodyA.angle),bodyB&&!bodyB.isStatic&&(Vector.rotate(pointB,bodyB.angle-constraint.angleB,pointB),constraint.angleB=bodyB.angle);var pointAWorld=pointA,pointBWorld=pointB;if(bodyA&&(pointAWorld=Vector.add(bodyA.position,pointA)),bodyB&&(pointBWorld=Vector.add(bodyB.position,pointB)),pointAWorld&&pointBWorld){var delta=Vector.sub(pointAWorld,pointBWorld),currentLength=Vector.magnitude(delta);currentLength<Constraint._minLength&&(currentLength=Constraint._minLength);var torque,share,normal,normalVelocity,relativeVelocity,difference=(currentLength-constraint.length)/currentLength,stiffness=constraint.stiffness>=1||0===constraint.length?constraint.stiffness*timeScale:constraint.stiffness*timeScale*timeScale,damping=constraint.damping*timeScale,force=Vector.mult(delta,difference*stiffness),massTotal=(bodyA?bodyA.inverseMass:0)+(bodyB?bodyB.inverseMass:0),resistanceTotal=massTotal+((bodyA?bodyA.inverseInertia:0)+(bodyB?bodyB.inverseInertia:0));if(damping>0){var zero=Vector.create();normal=Vector.div(delta,currentLength),relativeVelocity=Vector.sub(bodyB&&Vector.sub(bodyB.position,bodyB.positionPrev)||zero,bodyA&&Vector.sub(bodyA.position,bodyA.positionPrev)||zero),normalVelocity=Vector.dot(normal,relativeVelocity)}bodyA&&!bodyA.isStatic&&(share=bodyA.inverseMass/massTotal,bodyA.constraintImpulse.x-=force.x*share,bodyA.constraintImpulse.y-=force.y*share,bodyA.position.x-=force.x*share,bodyA.position.y-=force.y*share,damping>0&&(bodyA.positionPrev.x-=damping*normal.x*normalVelocity*share,bodyA.positionPrev.y-=damping*normal.y*normalVelocity*share),torque=Vector.cross(pointA,force)/resistanceTotal*Constraint._torqueDampen*bodyA.inverseInertia*(1-constraint.angularStiffness),bodyA.constraintImpulse.angle-=torque,bodyA.angle-=torque),bodyB&&!bodyB.isStatic&&(share=bodyB.inverseMass/massTotal,bodyB.constraintImpulse.x+=force.x*share,bodyB.constraintImpulse.y+=force.y*share,bodyB.position.x+=force.x*share,bodyB.position.y+=force.y*share,damping>0&&(bodyB.positionPrev.x+=damping*normal.x*normalVelocity*share,bodyB.positionPrev.y+=damping*normal.y*normalVelocity*share),torque=Vector.cross(pointB,force)/resistanceTotal*Constraint._torqueDampen*bodyB.inverseInertia*(1-constraint.angularStiffness),bodyB.constraintImpulse.angle+=torque,bodyB.angle+=torque)}}},Constraint.postSolveAll=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i],impulse=body.constraintImpulse;if(!(body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle)){Sleeping.set(body,!1);for(var j=0;j<body.parts.length;j++){var part=body.parts[j];Vertices.translate(part.vertices,impulse),j>0&&(part.position.x+=impulse.x,part.position.y+=impulse.y),0!==impulse.angle&&(Vertices.rotate(part.vertices,impulse.angle,body.position),Axes.rotate(part.axes,impulse.angle),j>0&&Vector.rotateAbout(part.position,impulse.angle,body.position,part.position)),Bounds.update(part.bounds,part.vertices,body.velocity)}impulse.angle*=Constraint._warming,impulse.x*=Constraint._warming,impulse.y*=Constraint._warming}}},Constraint.pointAWorld=function(constraint){return{x:(constraint.bodyA?constraint.bodyA.position.x:0)+(constraint.pointA?constraint.pointA.x:0),y:(constraint.bodyA?constraint.bodyA.position.y:0)+(constraint.pointA?constraint.pointA.y:0)}},Constraint.pointBWorld=function(constraint){return{x:(constraint.bodyB?constraint.bodyB.position.x:0)+(constraint.pointB?constraint.pointB.x:0),y:(constraint.bodyB?constraint.bodyB.position.y:0)+(constraint.pointB?constraint.pointB.y:0)}},Constraint.currentLength=function(constraint){var pointAX=(constraint.bodyA?constraint.bodyA.position.x:0)+(constraint.pointA?constraint.pointA.x:0),pointAY=(constraint.bodyA?constraint.bodyA.position.y:0)+(constraint.pointA?constraint.pointA.y:0),deltaX=pointAX-((constraint.bodyB?constraint.bodyB.position.x:0)+(constraint.pointB?constraint.pointB.x:0)),deltaY=pointAY-((constraint.bodyB?constraint.bodyB.position.y:0)+(constraint.pointB?constraint.pointB.y:0));return Math.sqrt(deltaX*deltaX+deltaY*deltaY)}},53402:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Common={};module2.exports=Common,function(){Common._baseDelta=1e3/60,Common._nextId=0,Common._seed=0,Common._nowStartTime=+new Date,Common._warnedOnce={},Common._decomp=null,Common.extend=function(obj,deep){var argsStart,deepClone;"boolean"==typeof deep?(argsStart=2,deepClone=deep):(argsStart=1,deepClone=!0);for(var i=argsStart;i<arguments.length;i++){var source=arguments[i];if(source)for(var prop in source)deepClone&&source[prop]&&source[prop].constructor===Object?obj[prop]&&obj[prop].constructor!==Object?obj[prop]=source[prop]:(obj[prop]=obj[prop]||{},Common.extend(obj[prop],deepClone,source[prop])):obj[prop]=source[prop]}return obj},Common.clone=function(obj,deep){return Common.extend({},deep,obj)},Common.keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var key in obj)keys.push(key);return keys},Common.values=function(obj){var values=[];if(Object.keys){for(var keys=Object.keys(obj),i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}for(var key in obj)values.push(obj[key]);return values},Common.get=function(obj,path,begin,end){path=path.split(".").slice(begin,end);for(var i=0;i<path.length;i+=1)obj=obj[path[i]];return obj},Common.set=function(obj,path,val,begin,end){var parts=path.split(".").slice(begin,end);return Common.get(obj,path,0,-1)[parts[parts.length-1]]=val,val},Common.shuffle=function(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Common.random()*(i+1)),temp=array[i];array[i]=array[j],array[j]=temp}return array},Common.choose=function(choices){return choices[Math.floor(Common.random()*choices.length)]},Common.isElement=function(obj){return"undefined"!=typeof HTMLElement?obj instanceof HTMLElement:!!(obj&&obj.nodeType&&obj.nodeName)},Common.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},Common.isFunction=function(obj){return"function"==typeof obj},Common.isPlainObject=function(obj){return"object"==typeof obj&&obj.constructor===Object},Common.isString=function(obj){return"[object String]"===toString.call(obj)},Common.clamp=function(value,min,max){return value<min?min:value>max?max:value},Common.sign=function(value){return value<0?-1:1},Common.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-Common._nowStartTime},Common.random=function(min,max){return max=void 0!==max?max:1,(min=void 0!==min?min:0)+_seededRandom()*(max-min)};var _seededRandom=function(){return Common._seed=(9301*Common._seed+49297)%233280,Common._seed/233280};Common.colorToNumber=function(colorString){return 3==(colorString=colorString.replace("#","")).length&&(colorString=colorString.charAt(0)+colorString.charAt(0)+colorString.charAt(1)+colorString.charAt(1)+colorString.charAt(2)+colorString.charAt(2)),parseInt(colorString,16)},Common.logLevel=1,Common.log=function(){console&&Common.logLevel>0&&Common.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},Common.info=function(){console&&Common.logLevel>0&&Common.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},Common.warn=function(){console&&Common.logLevel>0&&Common.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},Common.warnOnce=function(){var message=Array.prototype.slice.call(arguments).join(" ");Common._warnedOnce[message]||(Common.warn(message),Common._warnedOnce[message]=!0)},Common.deprecated=function(obj,prop,warning){obj[prop]=Common.chain((function(){Common.warnOnce("🔅 deprecated 🔅",warning)}),obj[prop])},Common.nextId=function(){return Common._nextId++},Common.indexOf=function(haystack,needle){if(haystack.indexOf)return haystack.indexOf(needle);for(var i=0;i<haystack.length;i++)if(haystack[i]===needle)return i;return-1},Common.map=function(list,func){if(list.map)return list.map(func);for(var mapped=[],i=0;i<list.length;i+=1)mapped.push(func(list[i]));return mapped},Common.topologicalSort=function(graph){var result=[],visited=[],temp=[];for(var node in graph)visited[node]||temp[node]||Common._topologicalSort(node,visited,temp,graph,result);return result},Common._topologicalSort=function(node,visited,temp,graph,result){var neighbors=graph[node]||[];temp[node]=!0;for(var i=0;i<neighbors.length;i+=1){var neighbor=neighbors[i];temp[neighbor]||visited[neighbor]||Common._topologicalSort(neighbor,visited,temp,graph,result)}temp[node]=!1,visited[node]=!0,result.push(node)},Common.chain=function(){for(var funcs=[],i=0;i<arguments.length;i+=1){var func=arguments[i];func._chained?funcs.push.apply(funcs,func._chained):funcs.push(func)}var chain=function(){for(var lastResult,args=new Array(arguments.length),i2=0,l=arguments.length;i2<l;i2++)args[i2]=arguments[i2];for(i2=0;i2<funcs.length;i2+=1){var result=funcs[i2].apply(lastResult,args);void 0!==result&&(lastResult=result)}return lastResult};return chain._chained=funcs,chain},Common.chainPathBefore=function(base,path,func){return Common.set(base,path,Common.chain(func,Common.get(base,path)))},Common.chainPathAfter=function(base,path,func){return Common.set(base,path,Common.chain(Common.get(base,path),func))},Common.setDecomp=function(decomp){Common._decomp=decomp},Common.getDecomp=function(){var decomp=Common._decomp;try{decomp||"undefined"==typeof window||(decomp=window.decomp),decomp||void 0===__webpack_require__2.g||(decomp=__webpack_require__2.g.decomp)}catch(e){decomp=null}return decomp}}()},48413:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Engine={};module2.exports=Engine;var Sleeping=__webpack_require__2(53614),Resolver=__webpack_require__2(66272),Detector=__webpack_require__2(81388),Pairs=__webpack_require__2(99561),Events2=__webpack_require__2(35810),Composite=__webpack_require__2(69351),Constraint=__webpack_require__2(48140),Common=__webpack_require__2(53402),Body=__webpack_require__2(22562);Engine._deltaMax=1e3/60,Engine.create=function(options){options=options||{};var engine=Common.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},options);return engine.world=options.world||Composite.create({label:"World"}),engine.pairs=options.pairs||Pairs.create(),engine.detector=options.detector||Detector.create(),engine.detector.pairs=engine.pairs,engine.grid={buckets:[]},engine.world.gravity=engine.gravity,engine.broadphase=engine.grid,engine.metrics={},engine},Engine.update=function(engine,delta){var i,startTime=Common.now(),world=engine.world,detector=engine.detector,pairs=engine.pairs,timing=engine.timing,timestamp=timing.timestamp;delta>Engine._deltaMax&&Common.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",Engine._deltaMax.toFixed(3),"ms."),delta=void 0!==delta?delta:Common._baseDelta,delta*=timing.timeScale,timing.timestamp+=delta,timing.lastDelta=delta;var event={timestamp:timing.timestamp,delta:delta};Events2.trigger(engine,"beforeUpdate",event);var allBodies=Composite.allBodies(world),allConstraints=Composite.allConstraints(world),allComposites=Composite.allComposites(world);for(world.isModified&&(Detector.setBodies(detector,allBodies),Composite.setModified(world,!1,!1,!0)),engine.enableSleeping&&Sleeping.update(allBodies,delta),Engine._bodiesApplyGravity(allBodies,engine.gravity),Engine.wrap(allBodies,allComposites),Engine.attractors(allBodies),delta>0&&Engine._bodiesUpdate(allBodies,delta),Events2.trigger(engine,"beforeSolve",event),Constraint.preSolveAll(allBodies),i=0;i<engine.constraintIterations;i++)Constraint.solveAll(allConstraints,delta);Constraint.postSolveAll(allBodies);var collisions=Detector.collisions(detector);Pairs.update(pairs,collisions,timestamp),engine.enableSleeping&&Sleeping.afterCollisions(pairs.list),pairs.collisionStart.length>0&&Events2.trigger(engine,"collisionStart",{pairs:pairs.collisionStart,timestamp:timing.timestamp,delta:delta});var positionDamping=Common.clamp(20/engine.positionIterations,0,1);for(Resolver.preSolvePosition(pairs.list),i=0;i<engine.positionIterations;i++)Resolver.solvePosition(pairs.list,delta,positionDamping);for(Resolver.postSolvePosition(allBodies),Constraint.preSolveAll(allBodies),i=0;i<engine.constraintIterations;i++)Constraint.solveAll(allConstraints,delta);for(Constraint.postSolveAll(allBodies),Resolver.preSolveVelocity(pairs.list),i=0;i<engine.velocityIterations;i++)Resolver.solveVelocity(pairs.list,delta);return Engine._bodiesUpdateVelocities(allBodies),pairs.collisionActive.length>0&&Events2.trigger(engine,"collisionActive",{pairs:pairs.collisionActive,timestamp:timing.timestamp,delta:delta}),pairs.collisionEnd.length>0&&Events2.trigger(engine,"collisionEnd",{pairs:pairs.collisionEnd,timestamp:timing.timestamp,delta:delta}),Engine._bodiesClearForces(allBodies),Events2.trigger(engine,"afterUpdate",event),engine.timing.lastElapsed=Common.now()-startTime,engine},Engine.merge=function(engineA,engineB){if(Common.extend(engineA,engineB),engineB.world){engineA.world=engineB.world,Engine.clear(engineA);for(var bodies=Composite.allBodies(engineA.world),i=0;i<bodies.length;i++){var body=bodies[i];Sleeping.set(body,!1),body.id=Common.nextId()}}},Engine.clear=function(engine){Pairs.clear(engine.pairs),Detector.clear(engine.detector)},Engine._bodiesClearForces=function(bodies){for(var bodiesLength=bodies.length,i=0;i<bodiesLength;i++){var body=bodies[i];body.force.x=0,body.force.y=0,body.torque=0}},Engine._bodiesApplyGravity=function(bodies,gravity){var gravityScale=void 0!==gravity.scale?gravity.scale:.001,bodiesLength=bodies.length;if((0!==gravity.x||0!==gravity.y)&&0!==gravityScale)for(var i=0;i<bodiesLength;i++){var body=bodies[i];body.ignoreGravity||body.isStatic||body.isSleeping||(body.force.y+=body.mass*gravity.y*gravityScale,body.force.x+=body.mass*gravity.x*gravityScale)}},Engine._bodiesUpdate=function(bodies,delta){for(var bodiesLength=bodies.length,i=0;i<bodiesLength;i++){var body=bodies[i];body.isStatic||body.isSleeping||Body.update(body,delta)}},Engine._bodiesUpdateVelocities=function(bodies){for(var bodiesLength=bodies.length,i=0;i<bodiesLength;i++)Body.updateVelocities(bodies[i])},Engine.wrap=function(bodies,composites){for(var i=0;i<bodies.length;i+=1){var body=bodies[i];null!==body.wrapBounds&&Body.wrap(body,body.wrapBounds)}for(i=0;i<composites.length;i+=1){var composite=composites[i];null!==composite.wrapBounds&&Composite.wrap(composite,composite.wrapBounds)}},Engine.attractors=function(bodies){for(var i=0;i<bodies.length;i++){var bodyA=bodies[i],attractors=bodyA.attractors;if(attractors&&attractors.length>0)for(var j=0;j<bodies.length;j++){var bodyB=bodies[j];if(i!==j)for(var k=0;k<attractors.length;k++){var attractor=attractors[k],forceVector=attractor;Common.isFunction(attractor)&&(forceVector=attractor(bodyA,bodyB)),forceVector&&Body.applyForce(bodyB,bodyB.position,forceVector)}}}}},35810:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Events2={};module2.exports=Events2;var Common=__webpack_require__2(53402);Events2.on=function(object,eventNames,callback){for(var name,names=eventNames.split(" "),i=0;i<names.length;i++)name=names[i],object.events=object.events||{},object.events[name]=object.events[name]||[],object.events[name].push(callback);return callback},Events2.off=function(object,eventNames,callback){if(eventNames){"function"==typeof eventNames&&(callback=eventNames,eventNames=Common.keys(object.events).join(" "));for(var names=eventNames.split(" "),i=0;i<names.length;i++){var callbacks=object.events[names[i]],newCallbacks=[];if(callback&&callbacks)for(var j=0;j<callbacks.length;j++)callbacks[j]!==callback&&newCallbacks.push(callbacks[j]);object.events[names[i]]=newCallbacks}}else object.events={}},Events2.trigger=function(object,eventNames,event){var names,name,callbacks,eventClone,events=object.events;if(events&&Common.keys(events).length>0){event||(event={}),names=eventNames.split(" ");for(var i=0;i<names.length;i++)if(callbacks=events[name=names[i]]){(eventClone=Common.clone(event,!1)).name=name,eventClone.source=object;for(var j=0;j<callbacks.length;j++)callbacks[j].apply(object,[eventClone])}}}},6790:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Matter={};module2.exports=Matter;var Plugin=__webpack_require__2(73832),Common=__webpack_require__2(53402);Matter.name="matter-js",Matter.version="0.20.0",Matter.uses=[],Matter.used=[],Matter.use=function(){Plugin.use(Matter,Array.prototype.slice.call(arguments))},Matter.before=function(path,func){return path=path.replace(/^Matter./,""),Common.chainPathBefore(Matter,path,func)},Matter.after=function(path,func){return path=path.replace(/^Matter./,""),Common.chainPathAfter(Matter,path,func)}},73832:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Plugin={};module2.exports=Plugin;var Common=__webpack_require__2(53402);Plugin._registry={},Plugin.register=function(plugin){if(Plugin.isPlugin(plugin)||Common.warn("Plugin.register:",Plugin.toString(plugin),"does not implement all required fields."),plugin.name in Plugin._registry){var registered=Plugin._registry[plugin.name],pluginVersion=Plugin.versionParse(plugin.version).number,registeredVersion=Plugin.versionParse(registered.version).number;pluginVersion>registeredVersion?(Common.warn("Plugin.register:",Plugin.toString(registered),"was upgraded to",Plugin.toString(plugin)),Plugin._registry[plugin.name]=plugin):pluginVersion<registeredVersion?Common.warn("Plugin.register:",Plugin.toString(registered),"can not be downgraded to",Plugin.toString(plugin)):plugin!==registered&&Common.warn("Plugin.register:",Plugin.toString(plugin),"is already registered to different plugin object")}else Plugin._registry[plugin.name]=plugin;return plugin},Plugin.resolve=function(dependency){return Plugin._registry[Plugin.dependencyParse(dependency).name]},Plugin.toString=function(plugin){return"string"==typeof plugin?plugin:(plugin.name||"anonymous")+"@"+(plugin.version||plugin.range||"0.0.0")},Plugin.isPlugin=function(obj){return obj&&obj.name&&obj.version&&obj.install},Plugin.isUsed=function(module3,name){return module3.used.indexOf(name)>-1},Plugin.isFor=function(plugin,module3){var parsed=plugin.for&&Plugin.dependencyParse(plugin.for);return!plugin.for||module3.name===parsed.name&&Plugin.versionSatisfies(module3.version,parsed.range)},Plugin.use=function(module3,plugins){if(module3.uses=(module3.uses||[]).concat(plugins||[]),0!==module3.uses.length){for(var dependencies=Plugin.dependencies(module3),sortedDependencies=Common.topologicalSort(dependencies),status=[],i=0;i<sortedDependencies.length;i+=1)if(sortedDependencies[i]!==module3.name){var plugin=Plugin.resolve(sortedDependencies[i]);plugin?Plugin.isUsed(module3,plugin.name)||(Plugin.isFor(plugin,module3)||(Common.warn("Plugin.use:",Plugin.toString(plugin),"is for",plugin.for,"but installed on",Plugin.toString(module3)+"."),plugin._warned=!0),plugin.install?plugin.install(module3):(Common.warn("Plugin.use:",Plugin.toString(plugin),"does not specify an install function."),plugin._warned=!0),plugin._warned?(status.push("🔶 "+Plugin.toString(plugin)),delete plugin._warned):status.push("✅ "+Plugin.toString(plugin)),module3.used.push(plugin.name)):status.push("❌ "+sortedDependencies[i])}status.length>0&&!plugin.silent&&Common.info(status.join("  "))}else Common.warn("Plugin.use:",Plugin.toString(module3),"does not specify any dependencies to install.")},Plugin.dependencies=function(module3,tracked){var parsedBase=Plugin.dependencyParse(module3),name=parsedBase.name;if(!(name in(tracked=tracked||{}))){module3=Plugin.resolve(module3)||module3,tracked[name]=Common.map(module3.uses||[],(function(dependency){Plugin.isPlugin(dependency)&&Plugin.register(dependency);var parsed=Plugin.dependencyParse(dependency),resolved=Plugin.resolve(dependency);return resolved&&!Plugin.versionSatisfies(resolved.version,parsed.range)?(Common.warn("Plugin.dependencies:",Plugin.toString(resolved),"does not satisfy",Plugin.toString(parsed),"used by",Plugin.toString(parsedBase)+"."),resolved._warned=!0,module3._warned=!0):resolved||(Common.warn("Plugin.dependencies:",Plugin.toString(dependency),"used by",Plugin.toString(parsedBase),"could not be resolved."),module3._warned=!0),parsed.name}));for(var i=0;i<tracked[name].length;i+=1)Plugin.dependencies(tracked[name][i],tracked);return tracked}},Plugin.dependencyParse=function(dependency){return Common.isString(dependency)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(dependency)||Common.warn("Plugin.dependencyParse:",dependency,"is not a valid dependency string."),{name:dependency.split("@")[0],range:dependency.split("@")[1]||"*"}):{name:dependency.name,range:dependency.range||dependency.version}},Plugin.versionParse=function(range){var pattern=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;pattern.test(range)||Common.warn("Plugin.versionParse:",range,"is not a valid version or range.");var parts=pattern.exec(range),major=Number(parts[4]),minor=Number(parts[5]),patch2=Number(parts[6]);return{isRange:Boolean(parts[1]||parts[2]),version:parts[3],range:range,operator:parts[1]||parts[2]||"",major:major,minor:minor,patch:patch2,parts:[major,minor,patch2],prerelease:parts[7],number:1e8*major+1e4*minor+patch2}},Plugin.versionSatisfies=function(version,range){range=range||"*";var r=Plugin.versionParse(range),v=Plugin.versionParse(version);if(r.isRange){if("*"===r.operator||"*"===version)return!0;if(">"===r.operator)return v.number>r.number;if(">="===r.operator)return v.number>=r.number;if("~"===r.operator)return v.major===r.major&&v.minor===r.minor&&v.patch>=r.patch;if("^"===r.operator)return r.major>0?v.major===r.major&&v.number>=r.number:r.minor>0?v.minor===r.minor&&v.patch>=r.patch:v.patch===r.patch}return version===range||"*"===version}},13037:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Runner={};module2.exports=Runner;var Events2=__webpack_require__2(35810),Engine=__webpack_require__2(48413),Common=__webpack_require__2(53402);!function(){Runner._maxFrameDelta=1e3/15,Runner._frameDeltaFallback=1e3/60,Runner._timeBufferMargin=1.5,Runner._elapsedNextEstimate=1,Runner._smoothingLowerBound=.1,Runner._smoothingUpperBound=.9,Runner.create=function(options){var runner=Common.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},options);return runner.fps=0,runner},Runner.run=function(runner,engine){return runner.timeBuffer=Runner._frameDeltaFallback,function onFrame(time){runner.frameRequestId=Runner._onNextFrame(runner,onFrame),time&&runner.enabled&&Runner.tick(runner,engine,time)}(),runner},Runner.tick=function(runner,engine,time){var tickStartTime=Common.now(),engineDelta=runner.delta,updateCount=0,frameDelta=time-runner.timeLastTick;if((!frameDelta||!runner.timeLastTick||frameDelta>Math.max(Runner._maxFrameDelta,runner.maxFrameTime))&&(frameDelta=runner.frameDelta||Runner._frameDeltaFallback),runner.frameDeltaSmoothing){runner.frameDeltaHistory.push(frameDelta),runner.frameDeltaHistory=runner.frameDeltaHistory.slice(-runner.frameDeltaHistorySize);var deltaHistorySorted=runner.frameDeltaHistory.slice(0).sort(),deltaHistoryWindow=runner.frameDeltaHistory.slice(deltaHistorySorted.length*Runner._smoothingLowerBound,deltaHistorySorted.length*Runner._smoothingUpperBound);frameDelta=_mean(deltaHistoryWindow)||frameDelta}runner.frameDeltaSnapping&&(frameDelta=1e3/Math.round(1e3/frameDelta)),runner.frameDelta=frameDelta,runner.timeLastTick=time,runner.timeBuffer+=runner.frameDelta,runner.timeBuffer=Common.clamp(runner.timeBuffer,0,runner.frameDelta+engineDelta*Runner._timeBufferMargin),runner.lastUpdatesDeferred=0;var maxUpdates=runner.maxUpdates||Math.ceil(runner.maxFrameTime/engineDelta),event={timestamp:engine.timing.timestamp};Events2.trigger(runner,"beforeTick",event),Events2.trigger(runner,"tick",event);for(var updateStartTime=Common.now();engineDelta>0&&runner.timeBuffer>=engineDelta*Runner._timeBufferMargin;){Events2.trigger(runner,"beforeUpdate",event),Engine.update(engine,engineDelta),Events2.trigger(runner,"afterUpdate",event),runner.timeBuffer-=engineDelta,updateCount+=1;var elapsedTimeTotal=Common.now()-tickStartTime,elapsedTimeUpdates=Common.now()-updateStartTime,elapsedNextEstimate=elapsedTimeTotal+Runner._elapsedNextEstimate*elapsedTimeUpdates/updateCount;if(updateCount>=maxUpdates||elapsedNextEstimate>runner.maxFrameTime){runner.lastUpdatesDeferred=Math.round(Math.max(0,runner.timeBuffer/engineDelta-Runner._timeBufferMargin));break}}engine.timing.lastUpdatesPerFrame=updateCount,Events2.trigger(runner,"afterTick",event),runner.frameDeltaHistory.length>=100&&(runner.lastUpdatesDeferred&&Math.round(runner.frameDelta/engineDelta)>maxUpdates?Common.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):runner.lastUpdatesDeferred&&Common.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==runner.isFixed&&Common.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(runner.deltaMin||runner.deltaMax)&&Common.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==runner.fps&&Common.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},Runner.stop=function(runner){Runner._cancelNextFrame(runner)},Runner._onNextFrame=function(runner,callback){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return runner.frameRequestId=window.requestAnimationFrame(callback),runner.frameRequestId},Runner._cancelNextFrame=function(runner){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(runner.frameRequestId)};var _mean=function(values){for(var result=0,valuesLength=values.length,i=0;i<valuesLength;i+=1)result+=values[i];return result/valuesLength||0}}()},53614:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Sleeping={};module2.exports=Sleeping;var Body=__webpack_require__2(22562),Events2=__webpack_require__2(35810),Common=__webpack_require__2(53402);Sleeping._motionWakeThreshold=.18,Sleeping._motionSleepThreshold=.08,Sleeping._minBias=.9,Sleeping.update=function(bodies,delta){for(var timeScale=delta/Common._baseDelta,motionSleepThreshold=Sleeping._motionSleepThreshold,i=0;i<bodies.length;i++){var body=bodies[i],speed=Body.getSpeed(body),angularSpeed=Body.getAngularSpeed(body),motion=speed*speed+angularSpeed*angularSpeed;if(0===body.force.x&&0===body.force.y){var minMotion=Math.min(body.motion,motion),maxMotion=Math.max(body.motion,motion);body.motion=Sleeping._minBias*minMotion+(1-Sleeping._minBias)*maxMotion,body.sleepThreshold>0&&body.motion<motionSleepThreshold?(body.sleepCounter+=1,body.sleepCounter>=body.sleepThreshold/timeScale&&Sleeping.set(body,!0)):body.sleepCounter>0&&(body.sleepCounter-=1)}else Sleeping.set(body,!1)}},Sleeping.afterCollisions=function(pairs){for(var motionSleepThreshold=Sleeping._motionSleepThreshold,i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){var collision=pair.collision,bodyA=collision.bodyA.parent,bodyB=collision.bodyB.parent;if(!(bodyA.isSleeping&&bodyB.isSleeping||bodyA.isStatic||bodyB.isStatic)&&(bodyA.isSleeping||bodyB.isSleeping)){var sleepingBody=bodyA.isSleeping&&!bodyA.isStatic?bodyA:bodyB,movingBody=sleepingBody===bodyA?bodyB:bodyA;!sleepingBody.isStatic&&movingBody.motion>motionSleepThreshold&&Sleeping.set(sleepingBody,!1)}}}},Sleeping.set=function(body,isSleeping){var wasSleeping=body.isSleeping;isSleeping?(body.isSleeping=!0,body.sleepCounter=body.sleepThreshold,body.positionImpulse.x=0,body.positionImpulse.y=0,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.anglePrev=body.angle,body.speed=0,body.angularSpeed=0,body.motion=0,wasSleeping||Events2.trigger(body,"sleepStart")):(body.isSleeping=!1,body.sleepCounter=0,wasSleeping&&Events2.trigger(body,"sleepEnd"))}},66280:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Bodies={};module2.exports=Bodies;var Vertices=__webpack_require__2(41598),Common=__webpack_require__2(53402),Body=__webpack_require__2(22562),Bounds=__webpack_require__2(15647),Vector=__webpack_require__2(31725);Bodies.rectangle=function(x,y,width,height,options){options=options||{};var rectangle={label:"Rectangle Body",position:{x:x,y:y},vertices:Vertices.fromPath("L 0 0 L "+width+" 0 L "+width+" "+height+" L 0 "+height)};if(options.chamfer){var chamfer=options.chamfer;rectangle.vertices=Vertices.chamfer(rectangle.vertices,chamfer.radius,chamfer.quality,chamfer.qualityMin,chamfer.qualityMax),delete options.chamfer}return Body.create(Common.extend({},rectangle,options))},Bodies.trapezoid=function(x,y,width,height,slope,options){options=options||{},slope>=1&&Common.warn("Bodies.trapezoid: slope parameter must be < 1.");var verticesPath,x1=width*(slope*=.5),x2=x1+(1-2*slope)*width,x3=x2+x1;verticesPath=slope<.5?"L 0 0 L "+x1+" "+-height+" L "+x2+" "+-height+" L "+x3+" 0":"L 0 0 L "+x2+" "+-height+" L "+x3+" 0";var trapezoid={label:"Trapezoid Body",position:{x:x,y:y},vertices:Vertices.fromPath(verticesPath)};if(options.chamfer){var chamfer=options.chamfer;trapezoid.vertices=Vertices.chamfer(trapezoid.vertices,chamfer.radius,chamfer.quality,chamfer.qualityMin,chamfer.qualityMax),delete options.chamfer}return Body.create(Common.extend({},trapezoid,options))},Bodies.circle=function(x,y,radius,options,maxSides){options=options||{};var circle={label:"Circle Body",circleRadius:radius};maxSides=maxSides||25;var sides=Math.ceil(Math.max(10,Math.min(maxSides,radius)));return sides%2==1&&(sides+=1),Bodies.polygon(x,y,sides,radius,Common.extend({},circle,options))},Bodies.polygon=function(x,y,sides,radius,options){if(options=options||{},sides<3)return Bodies.circle(x,y,radius,options);for(var theta=2*Math.PI/sides,path="",offset=.5*theta,i=0;i<sides;i+=1){var angle=offset+i*theta,xx=Math.cos(angle)*radius,yy=Math.sin(angle)*radius;path+="L "+xx.toFixed(3)+" "+yy.toFixed(3)+" "}var polygon={label:"Polygon Body",position:{x:x,y:y},vertices:Vertices.fromPath(path)};if(options.chamfer){var chamfer=options.chamfer;polygon.vertices=Vertices.chamfer(polygon.vertices,chamfer.radius,chamfer.quality,chamfer.qualityMin,chamfer.qualityMax),delete options.chamfer}return Body.create(Common.extend({},polygon,options))},Bodies.fromVertices=function(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea,removeDuplicatePoints){var canDecomp,body,parts,isConvex,vertices,i,j,k,v,z2,decomp=Common.getDecomp();for(canDecomp=Boolean(decomp&&decomp.quickDecomp),options=options||{},parts=[],flagInternal=void 0!==flagInternal&&flagInternal,removeCollinear=void 0!==removeCollinear?removeCollinear:.01,minimumArea=void 0!==minimumArea?minimumArea:10,removeDuplicatePoints=void 0!==removeDuplicatePoints?removeDuplicatePoints:.01,Common.isArray(vertexSets[0])||(vertexSets=[vertexSets]),v=0;v<vertexSets.length;v+=1)if(vertices=vertexSets[v],!(isConvex=Vertices.isConvex(vertices))&&!canDecomp&&Common.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),isConvex||!canDecomp)vertices=isConvex?Vertices.clockwiseSort(vertices):Vertices.hull(vertices),parts.push({position:{x:x,y:y},vertices:vertices});else{var concave=vertices.map((function(vertex){return[vertex.x,vertex.y]}));decomp.makeCCW(concave),!1!==removeCollinear&&decomp.removeCollinearPoints(concave,removeCollinear),!1!==removeDuplicatePoints&&decomp.removeDuplicatePoints&&decomp.removeDuplicatePoints(concave,removeDuplicatePoints);var decomposed=decomp.quickDecomp(concave);for(i=0;i<decomposed.length;i++){var chunkVertices=decomposed[i].map((function(vertices2){return{x:vertices2[0],y:vertices2[1]}}));minimumArea>0&&Vertices.area(chunkVertices)<minimumArea||parts.push({position:Vertices.centre(chunkVertices),vertices:chunkVertices})}}for(i=0;i<parts.length;i++)parts[i]=Body.create(Common.extend(parts[i],options));if(flagInternal)for(i=0;i<parts.length;i++){var partA=parts[i];for(j=i+1;j<parts.length;j++){var partB=parts[j];if(Bounds.overlaps(partA.bounds,partB.bounds)){var pav=partA.vertices,pbv=partB.vertices;for(k=0;k<partA.vertices.length;k++)for(z2=0;z2<partB.vertices.length;z2++){var da=Vector.magnitudeSquared(Vector.sub(pav[(k+1)%pav.length],pbv[z2])),db=Vector.magnitudeSquared(Vector.sub(pav[k],pbv[(z2+1)%pbv.length]));da<5&&db<5&&(pav[k].isInternal=!0,pbv[z2].isInternal=!0)}}}}return parts.length>1?(body=Body.create(Common.extend({parts:parts.slice(0)},options)),Body.setPosition(body,{x:x,y:y}),body):parts[0]},Bodies.flagCoincidentParts=function(parts,maxDistance){void 0===maxDistance&&(maxDistance=5);for(var i=0;i<parts.length;i++)for(var partA=parts[i],j=i+1;j<parts.length;j++){var partB=parts[j];if(Bounds.overlaps(partA.bounds,partB.bounds))for(var pav=partA.vertices,pbv=partB.vertices,k=0;k<partA.vertices.length;k++)for(var z2=0;z2<partB.vertices.length;z2++){var da=Vector.magnitudeSquared(Vector.sub(pav[(k+1)%pav.length],pbv[z2])),db=Vector.magnitudeSquared(Vector.sub(pav[k],pbv[(z2+1)%pbv.length]));da<maxDistance&&db<maxDistance&&(pav[k].isInternal=!0,pbv[z2].isInternal=!0)}}return parts}},74116:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Composites={};module2.exports=Composites;var Composite=__webpack_require__2(69351),Constraint=__webpack_require__2(48140),Common=__webpack_require__2(53402),Body=__webpack_require__2(22562),Bodies=__webpack_require__2(66280);Composites.stack=function(x,y,columns,rows,columnGap,rowGap,callback){for(var lastBody,stack=Composite.create({label:"Stack"}),currentX=x,currentY=y,i=0,row=0;row<rows;row++){for(var maxHeight=0,column=0;column<columns;column++){var body=callback(currentX,currentY,column,row,lastBody,i);if(body){var bodyHeight=body.bounds.max.y-body.bounds.min.y,bodyWidth=body.bounds.max.x-body.bounds.min.x;bodyHeight>maxHeight&&(maxHeight=bodyHeight),Body.translate(body,{x:.5*bodyWidth,y:.5*bodyHeight}),currentX=body.bounds.max.x+columnGap,Composite.addBody(stack,body),lastBody=body,i+=1}else currentX+=columnGap}currentY+=maxHeight+rowGap,currentX=x}return stack},Composites.chain=function(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options){for(var bodies=composite.bodies,i=1;i<bodies.length;i++){var bodyA=bodies[i-1],bodyB=bodies[i],bodyAHeight=bodyA.bounds.max.y-bodyA.bounds.min.y,bodyAWidth=bodyA.bounds.max.x-bodyA.bounds.min.x,bodyBHeight=bodyB.bounds.max.y-bodyB.bounds.min.y,defaults2={bodyA:bodyA,pointA:{x:bodyAWidth*xOffsetA,y:bodyAHeight*yOffsetA},bodyB:bodyB,pointB:{x:(bodyB.bounds.max.x-bodyB.bounds.min.x)*xOffsetB,y:bodyBHeight*yOffsetB}},constraint=Common.extend(defaults2,options);Composite.addConstraint(composite,Constraint.create(constraint))}return composite.label+=" Chain",composite},Composites.mesh=function(composite,columns,rows,crossBrace,options){var row,col,bodyA,bodyB,bodyC,bodies=composite.bodies;for(row=0;row<rows;row++){for(col=1;col<columns;col++)bodyA=bodies[col-1+row*columns],bodyB=bodies[col+row*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options)));if(row>0)for(col=0;col<columns;col++)bodyA=bodies[col+(row-1)*columns],bodyB=bodies[col+row*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options))),crossBrace&&col>0&&(bodyC=bodies[col-1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyC,bodyB:bodyB},options)))),crossBrace&&col<columns-1&&(bodyC=bodies[col+1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyC,bodyB:bodyB},options))))}return composite.label+=" Mesh",composite},Composites.pyramid=function(x,y,columns,rows,columnGap,rowGap,callback){return Composites.stack(x,y,columns,rows,columnGap,rowGap,(function(stackX,stackY,column,row,lastBody,i){var actualRows=Math.min(rows,Math.ceil(columns/2)),lastBodyWidth=lastBody?lastBody.bounds.max.x-lastBody.bounds.min.x:0;if(!(row>actualRows||column<(row=actualRows-row)||column>columns-1-row))return 1===i&&Body.translate(lastBody,{x:(column+(columns%2==1?1:-1))*lastBodyWidth,y:0}),callback(x+(lastBody?column*lastBodyWidth:0)+column*columnGap,stackY,column,row,lastBody,i)}))},Composites.newtonsCradle=function(x,y,number,size,length){for(var newtonsCradle=Composite.create({label:"Newtons Cradle"}),i=0;i<number;i++){var circle=Bodies.circle(x+i*(1.9*size),y+length,size,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),constraint=Constraint.create({pointA:{x:x+i*(1.9*size),y:y},bodyB:circle});Composite.addBody(newtonsCradle,circle),Composite.addConstraint(newtonsCradle,constraint)}return newtonsCradle},Composites.car=function(x,y,width,height,wheelSize){var group=Body.nextGroup(!0),wheelAOffset=.5*-width+20,wheelBOffset=.5*width-20,car=Composite.create({label:"Car"}),body=Bodies.rectangle(x,y,width,height,{collisionFilter:{group:group},chamfer:{radius:.5*height},density:2e-4}),wheelA=Bodies.circle(x+wheelAOffset,y+0,wheelSize,{collisionFilter:{group:group},friction:.8}),wheelB=Bodies.circle(x+wheelBOffset,y+0,wheelSize,{collisionFilter:{group:group},friction:.8}),axelA=Constraint.create({bodyB:body,pointB:{x:wheelAOffset,y:0},bodyA:wheelA,stiffness:1,length:0}),axelB=Constraint.create({bodyB:body,pointB:{x:wheelBOffset,y:0},bodyA:wheelB,stiffness:1,length:0});return Composite.addBody(car,body),Composite.addBody(car,wheelA),Composite.addBody(car,wheelB),Composite.addConstraint(car,axelA),Composite.addConstraint(car,axelB),car},Composites.softBody=function(x,y,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions){particleOptions=Common.extend({inertia:1/0},particleOptions),constraintOptions=Common.extend({stiffness:.2,render:{type:"line",anchors:!1}},constraintOptions);var softBody=Composites.stack(x,y,columns,rows,columnGap,rowGap,(function(stackX,stackY){return Bodies.circle(stackX,stackY,particleRadius,particleOptions)}));return Composites.mesh(softBody,columns,rows,crossBrace,constraintOptions),softBody.label="Soft Body",softBody}},66615:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Axes={};module2.exports=Axes;var Vector=__webpack_require__2(31725),Common=__webpack_require__2(53402);Axes.fromVertices=function(vertices){for(var axes={},i=0;i<vertices.length;i++){var j=(i+1)%vertices.length,normal=Vector.normalise({x:vertices[j].y-vertices[i].y,y:vertices[i].x-vertices[j].x}),gradient=0===normal.y?1/0:normal.x/normal.y;axes[gradient=gradient.toFixed(3).toString()]=normal}return Common.values(axes)},Axes.rotate=function(axes,angle){if(0!==angle)for(var cos=Math.cos(angle),sin=Math.sin(angle),i=0;i<axes.length;i++){var xx,axis=axes[i];xx=axis.x*cos-axis.y*sin,axis.y=axis.x*sin+axis.y*cos,axis.x=xx}}},15647:module2=>{var Bounds={};module2.exports=Bounds,Bounds.create=function(vertices){var bounds={min:{x:0,y:0},max:{x:0,y:0}};return vertices&&Bounds.update(bounds,vertices),bounds},Bounds.update=function(bounds,vertices,velocity){bounds.min.x=1/0,bounds.max.x=-1/0,bounds.min.y=1/0,bounds.max.y=-1/0;for(var i=0;i<vertices.length;i++){var vertex=vertices[i];vertex.x>bounds.max.x&&(bounds.max.x=vertex.x),vertex.x<bounds.min.x&&(bounds.min.x=vertex.x),vertex.y>bounds.max.y&&(bounds.max.y=vertex.y),vertex.y<bounds.min.y&&(bounds.min.y=vertex.y)}velocity&&(velocity.x>0?bounds.max.x+=velocity.x:bounds.min.x+=velocity.x,velocity.y>0?bounds.max.y+=velocity.y:bounds.min.y+=velocity.y)},Bounds.contains=function(bounds,point){return point.x>=bounds.min.x&&point.x<=bounds.max.x&&point.y>=bounds.min.y&&point.y<=bounds.max.y},Bounds.overlaps=function(boundsA,boundsB){return boundsA.min.x<=boundsB.max.x&&boundsA.max.x>=boundsB.min.x&&boundsA.max.y>=boundsB.min.y&&boundsA.min.y<=boundsB.max.y},Bounds.translate=function(bounds,vector){bounds.min.x+=vector.x,bounds.max.x+=vector.x,bounds.min.y+=vector.y,bounds.max.y+=vector.y},Bounds.shift=function(bounds,position2){var deltaX=bounds.max.x-bounds.min.x,deltaY=bounds.max.y-bounds.min.y;bounds.min.x=position2.x,bounds.max.x=position2.x+deltaX,bounds.min.y=position2.y,bounds.max.y=position2.y+deltaY},Bounds.wrap=function(objectBounds,bounds,padding){var x=null,y=null;if(void 0!==bounds.min.x&&void 0!==bounds.max.x&&(objectBounds.min.x>bounds.max.x?x=bounds.min.x-objectBounds.max.x:objectBounds.max.x<bounds.min.x&&(x=bounds.max.x-objectBounds.min.x)),void 0!==bounds.min.y&&void 0!==bounds.max.y&&(objectBounds.min.y>bounds.max.y?y=bounds.min.y-objectBounds.max.y:objectBounds.max.y<bounds.min.y&&(y=bounds.max.y-objectBounds.min.y)),null!==x||null!==y)return{x:x||0,y:y||0}}},74058:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Svg={};module2.exports=Svg,__webpack_require__2(15647);var Common=__webpack_require__2(53402);Svg.pathToVertices=function(path,sampleLength){"undefined"==typeof window||"SVGPathSeg"in window||Common.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,il,total,point,segment,segments,segmentsQueue,lastSegment,lastPoint,lx,ly,points=[],length=0,x=0,y=0;sampleLength=sampleLength||15;var addPoint=function(px,py,pathSegType){var isRelative=pathSegType%2==1&&pathSegType>1;if(!lastPoint||px!=lastPoint.x||py!=lastPoint.y){lastPoint&&isRelative?(lx=lastPoint.x,ly=lastPoint.y):(lx=0,ly=0);var point2={x:lx+px,y:ly+py};!isRelative&&lastPoint||(lastPoint=point2),points.push(point2),x=lx+px,y=ly+py}},addSegmentPoint=function(segment2){var segType=segment2.pathSegTypeAsLetter.toUpperCase();if("Z"!==segType){switch(segType){case"M":case"L":case"T":case"C":case"S":case"Q":x=segment2.x,y=segment2.y;break;case"H":x=segment2.x;break;case"V":y=segment2.y}addPoint(x,y,segment2.pathSegType)}};for(Svg._svgPathToAbsolute(path),total=path.getTotalLength(),segments=[],i=0;i<path.pathSegList.numberOfItems;i+=1)segments.push(path.pathSegList.getItem(i));for(segmentsQueue=segments.concat();length<total;){if((segment=segments[path.getPathSegAtLength(length)])!=lastSegment){for(;segmentsQueue.length&&segmentsQueue[0]!=segment;)addSegmentPoint(segmentsQueue.shift());lastSegment=segment}switch(segment.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":point=path.getPointAtLength(length),addPoint(point.x,point.y,0)}length+=sampleLength}for(i=0,il=segmentsQueue.length;i<il;++i)addSegmentPoint(segmentsQueue[i]);return points},Svg._svgPathToAbsolute=function(path){for(var x0,y0,x1,y1,x2,y2,segs=path.pathSegList,x=0,y=0,len=segs.numberOfItems,i=0;i<len;++i){var seg=segs.getItem(i),segType=seg.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(segType))"x"in seg&&(x=seg.x),"y"in seg&&(y=seg.y);else switch("x1"in seg&&(x1=x+seg.x1),"x2"in seg&&(x2=x+seg.x2),"y1"in seg&&(y1=y+seg.y1),"y2"in seg&&(y2=y+seg.y2),"x"in seg&&(x+=seg.x),"y"in seg&&(y+=seg.y),segType){case"m":segs.replaceItem(path.createSVGPathSegMovetoAbs(x,y),i);break;case"l":segs.replaceItem(path.createSVGPathSegLinetoAbs(x,y),i);break;case"h":segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x),i);break;case"v":segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y),i);break;case"c":segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x,y,x1,y1,x2,y2),i);break;case"s":segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x,y,x2,y2),i);break;case"q":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x,y,x1,y1),i);break;case"t":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),i);break;case"a":segs.replaceItem(path.createSVGPathSegArcAbs(x,y,seg.r1,seg.r2,seg.angle,seg.largeArcFlag,seg.sweepFlag),i);break;case"z":case"Z":x=x0,y=y0}"M"!=segType&&"m"!=segType||(x0=x,y0=y)}}},31725:module2=>{var Vector={};module2.exports=Vector,Vector.create=function(x,y){return{x:x||0,y:y||0}},Vector.clone=function(vector){return{x:vector.x,y:vector.y}},Vector.magnitude=function(vector){return Math.sqrt(vector.x*vector.x+vector.y*vector.y)},Vector.magnitudeSquared=function(vector){return vector.x*vector.x+vector.y*vector.y},Vector.rotate=function(vector,angle,output){var cos=Math.cos(angle),sin=Math.sin(angle);output||(output={});var x=vector.x*cos-vector.y*sin;return output.y=vector.x*sin+vector.y*cos,output.x=x,output},Vector.rotateAbout=function(vector,angle,point,output){var cos=Math.cos(angle),sin=Math.sin(angle);output||(output={});var x=point.x+((vector.x-point.x)*cos-(vector.y-point.y)*sin);return output.y=point.y+((vector.x-point.x)*sin+(vector.y-point.y)*cos),output.x=x,output},Vector.normalise=function(vector){var magnitude=Vector.magnitude(vector);return 0===magnitude?{x:0,y:0}:{x:vector.x/magnitude,y:vector.y/magnitude}},Vector.dot=function(vectorA,vectorB){return vectorA.x*vectorB.x+vectorA.y*vectorB.y},Vector.cross=function(vectorA,vectorB){return vectorA.x*vectorB.y-vectorA.y*vectorB.x},Vector.cross3=function(vectorA,vectorB,vectorC){return(vectorB.x-vectorA.x)*(vectorC.y-vectorA.y)-(vectorB.y-vectorA.y)*(vectorC.x-vectorA.x)},Vector.add=function(vectorA,vectorB,output){return output||(output={}),output.x=vectorA.x+vectorB.x,output.y=vectorA.y+vectorB.y,output},Vector.sub=function(vectorA,vectorB,output){return output||(output={}),output.x=vectorA.x-vectorB.x,output.y=vectorA.y-vectorB.y,output},Vector.mult=function(vector,scalar){return{x:vector.x*scalar,y:vector.y*scalar}},Vector.div=function(vector,scalar){return{x:vector.x/scalar,y:vector.y/scalar}},Vector.perp=function(vector,negate){return{x:(negate=!0===negate?-1:1)*-vector.y,y:negate*vector.x}},Vector.neg=function(vector){return{x:-vector.x,y:-vector.y}},Vector.angle=function(vectorA,vectorB){return Math.atan2(vectorB.y-vectorA.y,vectorB.x-vectorA.x)},Vector._temp=[Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create()]},41598:(module2,__unused_webpack_exports,__webpack_require__2)=>{var Vertices={};module2.exports=Vertices;var Vector=__webpack_require__2(31725),Common=__webpack_require__2(53402);Vertices.create=function(points,body){for(var vertices=[],i=0;i<points.length;i++){var point=points[i],vertex={x:point.x,y:point.y,index:i,body:body,isInternal:!1};vertices.push(vertex)}return vertices},Vertices.fromPath=function(path,body){var points=[];return path.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(match,x,y){points.push({x:parseFloat(x),y:parseFloat(y)})})),Vertices.create(points,body)},Vertices.centre=function(vertices){for(var cross,temp,j,area=Vertices.area(vertices,!0),centre={x:0,y:0},i=0;i<vertices.length;i++)j=(i+1)%vertices.length,cross=Vector.cross(vertices[i],vertices[j]),temp=Vector.mult(Vector.add(vertices[i],vertices[j]),cross),centre=Vector.add(centre,temp);return Vector.div(centre,6*area)},Vertices.mean=function(vertices){for(var average={x:0,y:0},i=0;i<vertices.length;i++)average.x+=vertices[i].x,average.y+=vertices[i].y;return Vector.div(average,vertices.length)},Vertices.area=function(vertices,signed){for(var area=0,j=vertices.length-1,i=0;i<vertices.length;i++)area+=(vertices[j].x-vertices[i].x)*(vertices[j].y+vertices[i].y),j=i;return signed?area/2:Math.abs(area)/2},Vertices.inertia=function(vertices,mass){for(var cross,j,numerator=0,denominator=0,v=vertices,n=0;n<v.length;n++)j=(n+1)%v.length,numerator+=(cross=Math.abs(Vector.cross(v[j],v[n])))*(Vector.dot(v[j],v[j])+Vector.dot(v[j],v[n])+Vector.dot(v[n],v[n])),denominator+=cross;return mass/6*(numerator/denominator)},Vertices.translate=function(vertices,vector,scalar){scalar=void 0!==scalar?scalar:1;var i,verticesLength=vertices.length,translateX=vector.x*scalar,translateY=vector.y*scalar;for(i=0;i<verticesLength;i++)vertices[i].x+=translateX,vertices[i].y+=translateY;return vertices},Vertices.rotate=function(vertices,angle,point){if(0!==angle){var vertex,dx,dy,i,cos=Math.cos(angle),sin=Math.sin(angle),pointX=point.x,pointY=point.y,verticesLength=vertices.length;for(i=0;i<verticesLength;i++)dx=(vertex=vertices[i]).x-pointX,dy=vertex.y-pointY,vertex.x=pointX+(dx*cos-dy*sin),vertex.y=pointY+(dx*sin+dy*cos);return vertices}},Vertices.contains=function(vertices,point){for(var nextVertex,pointX=point.x,pointY=point.y,verticesLength=vertices.length,vertex=vertices[verticesLength-1],i=0;i<verticesLength;i++){if(nextVertex=vertices[i],(pointX-vertex.x)*(nextVertex.y-vertex.y)+(pointY-vertex.y)*(vertex.x-nextVertex.x)>0)return!1;vertex=nextVertex}return!0},Vertices.scale=function(vertices,scaleX,scaleY,point){if(1===scaleX&&1===scaleY)return vertices;var vertex,delta;point=point||Vertices.centre(vertices);for(var i=0;i<vertices.length;i++)vertex=vertices[i],delta=Vector.sub(vertex,point),vertices[i].x=point.x+delta.x*scaleX,vertices[i].y=point.y+delta.y*scaleY;return vertices},Vertices.chamfer=function(vertices,radius,quality,qualityMin,qualityMax){radius="number"==typeof radius?[radius]:radius||[8],quality=void 0!==quality?quality:-1,qualityMin=qualityMin||2,qualityMax=qualityMax||14;for(var newVertices=[],i=0;i<vertices.length;i++){var prevVertex=vertices[i-1>=0?i-1:vertices.length-1],vertex=vertices[i],nextVertex=vertices[(i+1)%vertices.length],currentRadius=radius[i<radius.length?i:radius.length-1];if(0!==currentRadius){var prevNormal=Vector.normalise({x:vertex.y-prevVertex.y,y:prevVertex.x-vertex.x}),nextNormal=Vector.normalise({x:nextVertex.y-vertex.y,y:vertex.x-nextVertex.x}),diagonalRadius=Math.sqrt(2*Math.pow(currentRadius,2)),radiusVector=Vector.mult(Common.clone(prevNormal),currentRadius),midNormal=Vector.normalise(Vector.mult(Vector.add(prevNormal,nextNormal),.5)),scaledVertex=Vector.sub(vertex,Vector.mult(midNormal,diagonalRadius)),precision=quality;-1===quality&&(precision=1.75*Math.pow(currentRadius,.32)),(precision=Common.clamp(precision,qualityMin,qualityMax))%2==1&&(precision+=1);for(var theta=Math.acos(Vector.dot(prevNormal,nextNormal))/precision,j=0;j<precision;j++)newVertices.push(Vector.add(Vector.rotate(radiusVector,theta*j),scaledVertex))}else newVertices.push(vertex)}return newVertices},Vertices.clockwiseSort=function(vertices){var centre=Vertices.mean(vertices);return vertices.sort((function(vertexA,vertexB){return Vector.angle(centre,vertexA)-Vector.angle(centre,vertexB)})),vertices},Vertices.isConvex=function(vertices){var i,j,k,z2,flag=0,n=vertices.length;if(n<3)return null;for(i=0;i<n;i++)if(k=(i+2)%n,z2=(vertices[j=(i+1)%n].x-vertices[i].x)*(vertices[k].y-vertices[j].y),(z2-=(vertices[j].y-vertices[i].y)*(vertices[k].x-vertices[j].x))<0?flag|=1:z2>0&&(flag|=2),3===flag)return!1;return 0!==flag||null},Vertices.hull=function(vertices){var vertex,i,upper=[],lower=[];for((vertices=vertices.slice(0)).sort((function(vertexA,vertexB){var dx=vertexA.x-vertexB.x;return 0!==dx?dx:vertexA.y-vertexB.y})),i=0;i<vertices.length;i+=1){for(vertex=vertices[i];lower.length>=2&&Vector.cross3(lower[lower.length-2],lower[lower.length-1],vertex)<=0;)lower.pop();lower.push(vertex)}for(i=vertices.length-1;i>=0;i-=1){for(vertex=vertices[i];upper.length>=2&&Vector.cross3(upper[upper.length-2],upper[upper.length-1],vertex)<=0;)upper.pop();upper.push(vertex)}return upper.pop(),lower.pop(),upper.concat(lower)}},55973:module2=>{function lineInt(l1,l2,precision){precision=precision||0;var a1,b1,c1,a2,b2,c2,det,i=[0,0];return a1=l1[1][1]-l1[0][1],b1=l1[0][0]-l1[1][0],c1=a1*l1[0][0]+b1*l1[0][1],a2=l2[1][1]-l2[0][1],b2=l2[0][0]-l2[1][0],c2=a2*l2[0][0]+b2*l2[0][1],scalar_eq(det=a1*b2-a2*b1,0,precision)||(i[0]=(b2*c1-b1*c2)/det,i[1]=(a1*c2-a2*c1)/det),i}function lineSegmentsIntersect(p1,p2,q1,q2){var dx=p2[0]-p1[0],dy=p2[1]-p1[1],da=q2[0]-q1[0],db=q2[1]-q1[1];if(da*dy-db*dx===0)return!1;var s=(dx*(q1[1]-p1[1])+dy*(p1[0]-q1[0]))/(da*dy-db*dx),t=(da*(p1[1]-q1[1])+db*(q1[0]-p1[0]))/(db*dx-da*dy);return s>=0&&s<=1&&t>=0&&t<=1}function triangleArea(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}function isLeft(a,b,c){return triangleArea(a,b,c)>0}function isLeftOn(a,b,c){return triangleArea(a,b,c)>=0}function isRight(a,b,c){return triangleArea(a,b,c)<0}function isRightOn(a,b,c){return triangleArea(a,b,c)<=0}
/**
               * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={decomp:function polygonDecomp(polygon){var edges=polygonGetCutEdges(polygon);return edges.length>0?polygonSlice(polygon,edges):[polygon]},quickDecomp:function polygonQuickDecomp(polygon,result,reflexVertices,steinerPoints,delta,maxlevel,level){maxlevel=maxlevel||100,level=level||0,delta=delta||25,result=void 0!==result?result:[],reflexVertices=reflexVertices||[],steinerPoints=steinerPoints||[];var upperInt=[0,0],lowerInt=[0,0],p=[0,0],upperDist=0,lowerDist=0,d=0,closestDist=0,upperIndex=0,lowerIndex=0,closestIndex=0,lowerPoly=[],upperPoly=[],poly=polygon,v=polygon;if(v.length<3)return result;if(++level>maxlevel)return console.warn("quickDecomp: max level ("+maxlevel+") reached."),result;for(var i=0;i<polygon.length;++i)if(polygonIsReflex(poly,i)){reflexVertices.push(poly[i]),upperDist=lowerDist=Number.MAX_VALUE;for(var j=0;j<polygon.length;++j)isLeft(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j))&&isRightOn(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j-1))&&(p=getIntersectionPoint(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j),polygonAt(poly,j-1)),isRight(polygonAt(poly,i+1),polygonAt(poly,i),p)&&(d=sqdist(poly[i],p))<lowerDist&&(lowerDist=d,lowerInt=p,lowerIndex=j)),isLeft(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j+1))&&isRightOn(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j))&&(p=getIntersectionPoint(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j),polygonAt(poly,j+1)),isLeft(polygonAt(poly,i-1),polygonAt(poly,i),p)&&(d=sqdist(poly[i],p))<upperDist&&(upperDist=d,upperInt=p,upperIndex=j));if(lowerIndex===(upperIndex+1)%polygon.length)p[0]=(lowerInt[0]+upperInt[0])/2,p[1]=(lowerInt[1]+upperInt[1])/2,steinerPoints.push(p),i<upperIndex?(polygonAppend(lowerPoly,poly,i,upperIndex+1),lowerPoly.push(p),upperPoly.push(p),0!==lowerIndex&&polygonAppend(upperPoly,poly,lowerIndex,poly.length),polygonAppend(upperPoly,poly,0,i+1)):(0!==i&&polygonAppend(lowerPoly,poly,i,poly.length),polygonAppend(lowerPoly,poly,0,upperIndex+1),lowerPoly.push(p),upperPoly.push(p),polygonAppend(upperPoly,poly,lowerIndex,i+1));else{if(lowerIndex>upperIndex&&(upperIndex+=polygon.length),closestDist=Number.MAX_VALUE,upperIndex<lowerIndex)return result;for(j=lowerIndex;j<=upperIndex;++j)isLeftOn(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j))&&isRightOn(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j))&&(d=sqdist(polygonAt(poly,i),polygonAt(poly,j)))<closestDist&&polygonCanSee2(poly,i,j)&&(closestDist=d,closestIndex=j%polygon.length);i<closestIndex?(polygonAppend(lowerPoly,poly,i,closestIndex+1),0!==closestIndex&&polygonAppend(upperPoly,poly,closestIndex,v.length),polygonAppend(upperPoly,poly,0,i+1)):(0!==i&&polygonAppend(lowerPoly,poly,i,v.length),polygonAppend(lowerPoly,poly,0,closestIndex+1),polygonAppend(upperPoly,poly,closestIndex,i+1))}return lowerPoly.length<upperPoly.length?(polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level),polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level)):(polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level),polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level)),result}return result.push(polygon),result},isSimple:function polygonIsSimple(polygon){var i,path=polygon;for(i=0;i<path.length-1;i++)for(var j=0;j<i-1;j++)if(lineSegmentsIntersect(path[i],path[i+1],path[j],path[j+1]))return!1;for(i=1;i<path.length-2;i++)if(lineSegmentsIntersect(path[0],path[path.length-1],path[i],path[i+1]))return!1;return!0},removeCollinearPoints:function polygonRemoveCollinearPoints(polygon,precision){for(var num=0,i=polygon.length-1;polygon.length>3&&i>=0;--i)collinear(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,i+1),precision)&&(polygon.splice(i%polygon.length,1),num++);return num},removeDuplicatePoints:function polygonRemoveDuplicatePoints(polygon,precision){for(var i=polygon.length-1;i>=1;--i)for(var pi=polygon[i],j=i-1;j>=0;--j)points_eq(pi,polygon[j],precision)&&polygon.splice(i,1)},makeCCW:function polygonMakeCCW(polygon){for(var br=0,v=polygon,i=1;i<polygon.length;++i)(v[i][1]<v[br][1]||v[i][1]===v[br][1]&&v[i][0]>v[br][0])&&(br=i);return!isLeft(polygonAt(polygon,br-1),polygonAt(polygon,br),polygonAt(polygon,br+1))&&(function polygonReverse(polygon){for(var tmp=[],N=polygon.length,i=0;i!==N;i++)tmp.push(polygon.pop());for(i=0;i!==N;i++)polygon[i]=tmp[i]}(polygon),!0)}};var tmpPoint1=[],tmpPoint2=[];function collinear(a,b,c,thresholdAngle){if(thresholdAngle){var ab=tmpPoint1,bc=tmpPoint2;ab[0]=b[0]-a[0],ab[1]=b[1]-a[1],bc[0]=c[0]-b[0],bc[1]=c[1]-b[1];var dot=ab[0]*bc[0]+ab[1]*bc[1],magA=Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1]),magB=Math.sqrt(bc[0]*bc[0]+bc[1]*bc[1]);return Math.acos(dot/(magA*magB))<thresholdAngle}return 0===triangleArea(a,b,c)}function sqdist(a,b){var dx=b[0]-a[0],dy=b[1]-a[1];return dx*dx+dy*dy}function polygonAt(polygon,i){var s=polygon.length;return polygon[i<0?i%s+s:i%s]}function polygonAppend(polygon,poly,from,to){for(var i=from;i<to;i++)polygon.push(poly[i])}function polygonIsReflex(polygon,i){return isRight(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,i+1))}var tmpLine1=[],tmpLine2=[];function polygonCanSee(polygon,a,b){var p,dist,l1=tmpLine1,l2=tmpLine2;if(isLeftOn(polygonAt(polygon,a+1),polygonAt(polygon,a),polygonAt(polygon,b))&&isRightOn(polygonAt(polygon,a-1),polygonAt(polygon,a),polygonAt(polygon,b)))return!1;dist=sqdist(polygonAt(polygon,a),polygonAt(polygon,b));for(var i=0;i!==polygon.length;++i)if((i+1)%polygon.length!==a&&i!==a&&isLeftOn(polygonAt(polygon,a),polygonAt(polygon,b),polygonAt(polygon,i+1))&&isRightOn(polygonAt(polygon,a),polygonAt(polygon,b),polygonAt(polygon,i))&&(l1[0]=polygonAt(polygon,a),l1[1]=polygonAt(polygon,b),l2[0]=polygonAt(polygon,i),l2[1]=polygonAt(polygon,i+1),p=lineInt(l1,l2),sqdist(polygonAt(polygon,a),p)<dist))return!1;return!0}function polygonCanSee2(polygon,a,b){for(var i=0;i!==polygon.length;++i)if(i!==a&&i!==b&&(i+1)%polygon.length!==a&&(i+1)%polygon.length!==b&&lineSegmentsIntersect(polygonAt(polygon,a),polygonAt(polygon,b),polygonAt(polygon,i),polygonAt(polygon,i+1)))return!1;return!0}function polygonCopy(polygon,i,j,targetPoly){var p=targetPoly||[];if(function polygonClear(polygon){polygon.length=0}(p),i<j)for(var k=i;k<=j;k++)p.push(polygon[k]);else{for(k=0;k<=j;k++)p.push(polygon[k]);for(k=i;k<polygon.length;k++)p.push(polygon[k])}return p}function polygonGetCutEdges(polygon){for(var min=[],tmp1=[],tmp2=[],tmpPoly=[],nDiags=Number.MAX_VALUE,i=0;i<polygon.length;++i)if(polygonIsReflex(polygon,i))for(var j=0;j<polygon.length;++j)if(polygonCanSee(polygon,i,j)){tmp1=polygonGetCutEdges(polygonCopy(polygon,i,j,tmpPoly)),tmp2=polygonGetCutEdges(polygonCopy(polygon,j,i,tmpPoly));for(var k=0;k<tmp2.length;k++)tmp1.push(tmp2[k]);tmp1.length<nDiags&&(min=tmp1,nDiags=tmp1.length,min.push([polygonAt(polygon,i),polygonAt(polygon,j)]))}return min}function polygonSlice(polygon,cutEdges){if(0===cutEdges.length)return[polygon];if(cutEdges instanceof Array&&cutEdges.length&&cutEdges[0]instanceof Array&&2===cutEdges[0].length&&cutEdges[0][0]instanceof Array){for(var polys=[polygon],i=0;i<cutEdges.length;i++)for(var cutEdge=cutEdges[i],j=0;j<polys.length;j++){var result=polygonSlice(polys[j],cutEdge);if(result){polys.splice(j,1),polys.push(result[0],result[1]);break}}return polys}return cutEdge=cutEdges,i=polygon.indexOf(cutEdge[0]),j=polygon.indexOf(cutEdge[1]),-1!==i&&-1!==j&&[polygonCopy(polygon,i,j),polygonCopy(polygon,j,i)]}function getIntersectionPoint(p1,p2,q1,q2,delta){delta=delta||0;var a1=p2[1]-p1[1],b1=p1[0]-p2[0],c1=a1*p1[0]+b1*p1[1],a2=q2[1]-q1[1],b2=q1[0]-q2[0],c2=a2*q1[0]+b2*q1[1],det=a1*b2-a2*b1;return scalar_eq(det,0,delta)?[0,0]:[(b2*c1-b1*c2)/det,(a1*c2-a2*c1)/det]}function scalar_eq(a,b,precision){return precision=precision||0,Math.abs(a-b)<=precision}function points_eq(a,b,precision){return scalar_eq(a[0],b[0],precision)&&scalar_eq(a[1],b[1],precision)}},52018:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
              * @author       Richard Davey <rich@phaser.io>
              * @copyright    2013-2024 Phaser Studio Inc.
              * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
              */
var BasePlugin=new(__webpack_require__2(83419))({initialize:function BasePlugin2(pluginManager){this.pluginManager=pluginManager,this.game=pluginManager.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});module2.exports=BasePlugin},42363:module2=>{module2.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var corePlugins={},customPlugins={},PluginCache={register:function(key,plugin,mapping,custom2){void 0===custom2&&(custom2=!1),corePlugins[key]={plugin:plugin,mapping:mapping,custom:custom2}},registerCustom:function(key,plugin,mapping,data){customPlugins[key]={plugin:plugin,mapping:mapping,data:data}},hasCore:function(key){return corePlugins.hasOwnProperty(key)},hasCustom:function(key){return customPlugins.hasOwnProperty(key)},getCore:function(key){return corePlugins[key]},getCustom:function(key){return customPlugins[key]},getCustomClass:function(key){return customPlugins.hasOwnProperty(key)?customPlugins[key].plugin:null},remove:function(key){corePlugins.hasOwnProperty(key)&&delete corePlugins[key]},removeCustom:function(key){customPlugins.hasOwnProperty(key)&&delete customPlugins[key]},destroyCorePlugins:function(){for(var key in corePlugins)corePlugins.hasOwnProperty(key)&&delete corePlugins[key]},destroyCustomPlugins:function(){for(var key in customPlugins)customPlugins.hasOwnProperty(key)&&delete customPlugins[key]}};module2.exports=PluginCache},77332:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GameEvents=__webpack_require__2(8443),EventEmitter2=__webpack_require__2(50792),FileTypesManager=__webpack_require__2(74099),GameObjectCreator=__webpack_require__2(44603),GameObjectFactory=__webpack_require__2(39429),GetFastValue=__webpack_require__2(95540),PluginCache=__webpack_require__2(37277),Remove=__webpack_require__2(72905),PluginManager=new Class({Extends:EventEmitter2,initialize:function PluginManager2(game){EventEmitter2.call(this),this.game=game,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],game.isBooted?this.boot():game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){var i,entry,key,plugin,start,mapping,data,config2=this.game.config,list=config2.installGlobalPlugins;for(list=list.concat(this._pendingGlobal),i=0;i<list.length;i++)entry=list[i],key=GetFastValue(entry,"key",null),plugin=GetFastValue(entry,"plugin",null),start=GetFastValue(entry,"start",!1),mapping=GetFastValue(entry,"mapping",null),data=GetFastValue(entry,"data",null),key&&(plugin?this.install(key,plugin,start,mapping,data):console.warn("Missing `plugin` for key: "+key));for(list=(list=config2.installScenePlugins).concat(this._pendingScene),i=0;i<list.length;i++)entry=list[i],key=GetFastValue(entry,"key",null),plugin=GetFastValue(entry,"plugin",null),mapping=GetFastValue(entry,"mapping",null),key&&(plugin?this.installScenePlugin(key,plugin,mapping):console.warn("Missing `plugin` for key: "+key));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(GameEvents.DESTROY,this.destroy,this)},addToScene:function(sys,globalPlugins,scenePlugins){var i,pluginKey,pluginList,game=this.game,scene=sys.scene,map=sys.settings.map,isBooted=sys.settings.isBooted;for(i=0;i<globalPlugins.length;i++)game[pluginKey=globalPlugins[i]]?(sys[pluginKey]=game[pluginKey],map.hasOwnProperty(pluginKey)&&(scene[map[pluginKey]]=sys[pluginKey])):"game"===pluginKey&&map.hasOwnProperty(pluginKey)&&(scene[map[pluginKey]]=game);for(var s=0;s<scenePlugins.length;s++)for(pluginList=scenePlugins[s],i=0;i<pluginList.length;i++)if(pluginKey=pluginList[i],PluginCache.hasCore(pluginKey)){var source=PluginCache.getCore(pluginKey),mapKey=source.mapping,plugin=new source.plugin(scene,this,mapKey);sys[mapKey]=plugin,source.custom?scene[mapKey]=plugin:map.hasOwnProperty(mapKey)&&(scene[map[mapKey]]=plugin),isBooted&&plugin.boot()}for(pluginList=this.plugins,i=0;i<pluginList.length;i++){var entry=pluginList[i];entry.mapping&&(scene[entry.mapping]=entry.plugin)}},getDefaultScenePlugins:function(){var list=this.game.config.defaultPlugins;return list=list.concat(this.scenePlugins)},installScenePlugin:function(key,plugin,mapping,addToScene,fromLoader){if(void 0===fromLoader&&(fromLoader=!1),"function"==typeof plugin){if(PluginCache.hasCore(key)||PluginCache.register(key,plugin,mapping,!0),-1===this.scenePlugins.indexOf(key))this.scenePlugins.push(key);else if(!fromLoader&&PluginCache.hasCore(key))return void console.warn("Scene Plugin key in use: "+key);if(addToScene){var instance=new plugin(addToScene,this,key);addToScene.sys[key]=instance,mapping&&""!==mapping&&(addToScene[mapping]=instance),instance.boot()}}else console.warn("Invalid Scene Plugin: "+key)},install:function(key,plugin,start,mapping,data){if(void 0===start&&(start=!1),void 0===mapping&&(mapping=null),void 0===data&&(data=null),"function"!=typeof plugin)return console.warn("Invalid Plugin: "+key),null;if(PluginCache.hasCustom(key))return console.warn("Plugin key in use: "+key),null;if(null!==mapping&&(start=!0),this.game.isBooted){if(PluginCache.registerCustom(key,plugin,mapping,data),start)return this.start(key)}else this._pendingGlobal.push({key:key,plugin:plugin,start:start,mapping:mapping,data:data});return null},getIndex:function(key){for(var list=this.plugins,i=0;i<list.length;i++)if(list[i].key===key)return i;return-1},getEntry:function(key){var idx=this.getIndex(key);if(-1!==idx)return this.plugins[idx]},isActive:function(key){var entry=this.getEntry(key);return entry&&entry.active},start:function(key,runAs){void 0===runAs&&(runAs=key);var entry=this.getEntry(runAs);return entry&&!entry.active?(entry.active=!0,entry.plugin.start()):entry||(entry=this.createEntry(key,runAs)),entry?entry.plugin:null},createEntry:function(key,runAs){var entry=PluginCache.getCustom(key);if(entry){var instance=new entry.plugin(this);entry={key:runAs,plugin:instance,active:!0,mapping:entry.mapping,data:entry.data},this.plugins.push(entry),instance.init(entry.data),instance.start()}return entry},stop:function(key){var entry=this.getEntry(key);return entry&&entry.active&&(entry.active=!1,entry.plugin.stop()),this},get:function(key,autoStart){void 0===autoStart&&(autoStart=!0);var entry=this.getEntry(key);if(entry)return entry.plugin;var plugin=this.getClass(key);return plugin&&autoStart?(entry=this.createEntry(key,key))?entry.plugin:null:plugin||null},getClass:function(key){return PluginCache.getCustomClass(key)},removeGlobalPlugin:function(key){var entry=this.getEntry(key);entry&&Remove(this.plugins,entry),PluginCache.removeCustom(key)},removeScenePlugin:function(key){Remove(this.scenePlugins,key),PluginCache.remove(key)},registerGameObject:function(key,factoryCallback,creatorCallback){return factoryCallback&&GameObjectFactory.register(key,factoryCallback),creatorCallback&&GameObjectCreator.register(key,creatorCallback),this},removeGameObject:function(key,removeFromFactory,removeFromCreator){return void 0===removeFromFactory&&(removeFromFactory=!0),void 0===removeFromCreator&&(removeFromCreator=!0),removeFromFactory&&GameObjectFactory.remove(key),removeFromCreator&&GameObjectCreator.remove(key),this},registerFileType:function(key,callback,addToScene){FileTypesManager.register(key,callback),addToScene&&addToScene.sys.load&&(addToScene.sys.load[key]=callback)},destroy:function(){for(var i=0;i<this.plugins.length;i++)this.plugins[i].plugin.destroy();PluginCache.destroyCustomPlugins(),this.game.noReturn&&PluginCache.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});module2.exports=PluginManager},45145:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
              * @author       Richard Davey <rich@phaser.io>
              * @copyright    2013-2024 Phaser Studio Inc.
              * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
              */
var BasePlugin=__webpack_require__2(52018),Class=__webpack_require__2(83419),SceneEvents=__webpack_require__2(44594),ScenePlugin=new Class({Extends:BasePlugin,initialize:function ScenePlugin2(scene,pluginManager,pluginKey){BasePlugin.call(this,pluginManager),this.scene=scene,this.systems=scene.sys,this.pluginKey=pluginKey,scene.sys.events.once(SceneEvents.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});module2.exports=ScenePlugin},18922:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={BasePlugin:__webpack_require__2(52018),DefaultPlugins:__webpack_require__2(42363),PluginCache:__webpack_require__2(37277),PluginManager:__webpack_require__2(77332),ScenePlugin:__webpack_require__2(45145)}},63595:()=>{"undefined"!=typeof HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(callback){const handle=performance.now(),quality=this.getVideoPlaybackQuality(),baseline=this.mozPresentedFrames||this.mozPaintedFrames||quality.totalVideoFrames-quality.droppedVideoFrames,check=(old,now)=>{const newquality=this.getVideoPlaybackQuality(),presentedFrames=this.mozPresentedFrames||this.mozPaintedFrames||newquality.totalVideoFrames-newquality.droppedVideoFrames;if(presentedFrames>baseline){const processingDuration=this.mozFrameDelay||newquality.totalFrameDelay-quality.totalFrameDelay||0,timediff=now-old;callback(now,{presentationTime:now+1e3*processingDuration,expectedDisplayTime:now+timediff,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+timediff/1e3,presentedFrames:presentedFrames,processingDuration:processingDuration}),delete this._rvfcpolyfillmap[handle]}else this._rvfcpolyfillmap[handle]=requestAnimationFrame((newer=>check(now,newer)))};return this._rvfcpolyfillmap[handle]=requestAnimationFrame((newer=>check(handle,newer))),handle},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(handle){cancelAnimationFrame(this._rvfcpolyfillmap[handle]),delete this._rvfcpolyfillmap[handle]})},10312:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:module2=>{module2.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CameraEvents=__webpack_require__2(19715),CanvasSnapshot=__webpack_require__2(32880),Class=__webpack_require__2(83419),CONST=__webpack_require__2(8054),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(92503),GetBlendModes=__webpack_require__2(56373),ScaleEvents=__webpack_require__2(97480),TextureEvents=__webpack_require__2(69442),TransformMatrix=__webpack_require__2(61340),CanvasRenderer=new Class({Extends:EventEmitter2,initialize:function CanvasRenderer2(game){EventEmitter2.call(this);var gameConfig=game.config;this.config={clearBeforeRender:gameConfig.clearBeforeRender,backgroundColor:gameConfig.backgroundColor,antialias:gameConfig.antialias,roundPixels:gameConfig.roundPixels},this.game=game,this.type=CONST.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=game.canvas;var contextOptions={alpha:game.config.transparent,desynchronized:game.config.desynchronized,willReadFrequently:!1};this.gameContext=gameConfig.context?gameConfig.context:this.gameCanvas.getContext("2d",contextOptions),this.currentContext=this.gameContext,this.antialias=game.config.antialias,this.blendModes=GetBlendModes(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new TransformMatrix,this._tempMatrix2=new TransformMatrix,this._tempMatrix3=new TransformMatrix,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(TextureEvents.READY,this.boot,this)},boot:function(){var game=this.game,baseSize=game.scale.baseSize;this.width=baseSize.width,this.height=baseSize.height,this.isBooted=!0,game.scale.on(ScaleEvents.RESIZE,this.onResize,this),this.resize(baseSize.width,baseSize.height)},onResize:function(gameSize,baseSize){baseSize.width===this.width&&baseSize.height===this.height||this.resize(baseSize.width,baseSize.height)},resize:function(width,height){this.width=width,this.height=height,this.emit(Events2.RESIZE,width,height)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(blendMode){return this.currentContext.globalCompositeOperation=blendMode,this},setContext:function(ctx){return this.currentContext=ctx||this.gameContext,this},setAlpha:function(alpha){return this.currentContext.globalAlpha=alpha,this},preRender:function(){var ctx=this.gameContext,config2=this.config,width=this.width,height=this.height;ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.setTransform(1,0,0,1,0,0),this.emit(Events2.PRE_RENDER_CLEAR),config2.clearBeforeRender&&(ctx.clearRect(0,0,width,height),config2.transparent||(ctx.fillStyle=config2.backgroundColor.rgba,ctx.fillRect(0,0,width,height))),ctx.save(),this.drawCount=0,this.emit(Events2.PRE_RENDER)},render:function(scene,children,camera){var childCount=children.length;this.emit(Events2.RENDER,scene,camera);var cx=camera.x,cy=camera.y,cw=camera.width,ch=camera.height,ctx=camera.renderToTexture?camera.context:scene.sys.context;ctx.save(),this.game.scene.customViewports&&(ctx.beginPath(),ctx.rect(cx,cy,cw,ch),ctx.clip()),camera.emit(CameraEvents.PRE_RENDER,camera),this.currentContext=ctx;var mask=camera.mask;mask&&mask.preRenderCanvas(this,null,camera._maskCamera),camera.transparent||(ctx.fillStyle=camera.backgroundColor.rgba,ctx.fillRect(cx,cy,cw,ch)),ctx.globalAlpha=camera.alpha,ctx.globalCompositeOperation="source-over",this.drawCount+=childCount,camera.renderToTexture&&camera.emit(CameraEvents.PRE_RENDER,camera),camera.matrix.copyToContext(ctx);for(var i=0;i<childCount;i++){var child=children[i];child.mask&&child.mask.preRenderCanvas(this,child,camera),child.renderCanvas(this,child,camera),child.mask&&child.mask.postRenderCanvas(this,child,camera)}ctx.setTransform(1,0,0,1,0,0),ctx.globalCompositeOperation="source-over",ctx.globalAlpha=1,camera.flashEffect.postRenderCanvas(ctx),camera.fadeEffect.postRenderCanvas(ctx),camera.dirty=!1,mask&&mask.postRenderCanvas(this),ctx.restore(),camera.renderToTexture&&(camera.emit(CameraEvents.POST_RENDER,camera),camera.renderToGame&&scene.sys.context.drawImage(camera.canvas,cx,cy)),camera.emit(CameraEvents.POST_RENDER,camera)},postRender:function(){this.gameContext.restore(),this.emit(Events2.POST_RENDER);var state=this.snapshotState;state.callback&&(CanvasSnapshot(this.gameCanvas,state),state.callback=null)},snapshotCanvas:function(canvas,callback,getPixel,x,y,width,height,type,encoderOptions){void 0===getPixel&&(getPixel=!1),this.snapshotArea(x,y,width,height,callback,type,encoderOptions);var state=this.snapshotState;return state.getPixel=getPixel,CanvasSnapshot(canvas,state),state.callback=null,this},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,callback,type,encoderOptions)},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){var state=this.snapshotState;return state.callback=callback,state.type=type,state.encoder=encoderOptions,state.getPixel=!1,state.x=x,state.y=y,state.width=Math.min(width,this.gameCanvas.width),state.height=Math.min(height,this.gameCanvas.height),this},snapshotPixel:function(x,y,callback){return this.snapshotArea(x,y,1,1,callback),this.snapshotState.getPixel=!0,this},batchSprite:function(sprite,frame,camera,parentTransformMatrix){var alpha=camera.alpha*sprite.alpha;if(0!==alpha){var ctx=this.currentContext,camMatrix=this._tempMatrix1,spriteMatrix=this._tempMatrix2,cd=frame.canvasData,frameX=cd.x,frameY=cd.y,frameWidth=frame.cutWidth,frameHeight=frame.cutHeight,customPivot=frame.customPivot,res=frame.source.resolution,displayOriginX=sprite.displayOriginX,displayOriginY=sprite.displayOriginY,x=-displayOriginX+frame.x,y=-displayOriginY+frame.y;if(sprite.isCropped){var crop=sprite._crop;crop.flipX===sprite.flipX&&crop.flipY===sprite.flipY||frame.updateCropUVs(crop,sprite.flipX,sprite.flipY),frameWidth=crop.cw,frameHeight=crop.ch,frameX=crop.cx,frameY=crop.cy,x=-displayOriginX+crop.x,y=-displayOriginY+crop.y,sprite.flipX&&(x>=0?x=-(x+frameWidth):x<0&&(x=Math.abs(x)-frameWidth)),sprite.flipY&&(y>=0?y=-(y+frameHeight):y<0&&(y=Math.abs(y)-frameHeight))}var flipX=1,flipY=1;sprite.flipX&&(customPivot||(x+=-frame.realWidth+2*displayOriginX),flipX=-1),sprite.flipY&&(customPivot||(y+=-frame.realHeight+2*displayOriginY),flipY=-1);var gx=sprite.x,gy=sprite.y;if(camera.roundPixels&&(gx=Math.floor(gx),gy=Math.floor(gy)),spriteMatrix.applyITRS(gx,gy,sprite.rotation,sprite.scaleX*flipX,sprite.scaleY*flipY),camMatrix.copyFrom(camera.matrix),parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,-camera.scrollX*sprite.scrollFactorX,-camera.scrollY*sprite.scrollFactorY),spriteMatrix.e=gx,spriteMatrix.f=gy):(spriteMatrix.e-=camera.scrollX*sprite.scrollFactorX,spriteMatrix.f-=camera.scrollY*sprite.scrollFactorY),camMatrix.multiply(spriteMatrix),camera.renderRoundPixels&&(camMatrix.e=Math.floor(camMatrix.e+.5),camMatrix.f=Math.floor(camMatrix.f+.5)),ctx.save(),camMatrix.setToContext(ctx),ctx.globalCompositeOperation=this.blendModes[sprite.blendMode],ctx.globalAlpha=alpha,ctx.imageSmoothingEnabled=!frame.source.scaleMode,sprite.mask&&sprite.mask.preRenderCanvas(this,sprite,camera),frameWidth>0&&frameHeight>0){var fw=frameWidth/res,fh=frameHeight/res;camera.roundPixels&&(x=Math.floor(x+.5),y=Math.floor(y+.5),fw+=.5,fh+=.5),ctx.drawImage(frame.source.image,frameX,frameY,frameWidth,frameHeight,x,y,fw,fh)}sprite.mask&&sprite.mask.postRenderCanvas(this,sprite,camera),ctx.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});module2.exports=CanvasRenderer},55830:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CanvasRenderer:__webpack_require__2(68627),GetBlendModes:__webpack_require__2(56373),SetTransform:__webpack_require__2(20926)}},56373:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var modes=__webpack_require__2(10312),CanvasFeatures=__webpack_require__2(89289);module2.exports=function(){var output=[],useNew=CanvasFeatures.supportNewBlendModes,so="source-over";return output[modes.NORMAL]=so,output[modes.ADD]="lighter",output[modes.MULTIPLY]=useNew?"multiply":so,output[modes.SCREEN]=useNew?"screen":so,output[modes.OVERLAY]=useNew?"overlay":so,output[modes.DARKEN]=useNew?"darken":so,output[modes.LIGHTEN]=useNew?"lighten":so,output[modes.COLOR_DODGE]=useNew?"color-dodge":so,output[modes.COLOR_BURN]=useNew?"color-burn":so,output[modes.HARD_LIGHT]=useNew?"hard-light":so,output[modes.SOFT_LIGHT]=useNew?"soft-light":so,output[modes.DIFFERENCE]=useNew?"difference":so,output[modes.EXCLUSION]=useNew?"exclusion":so,output[modes.HUE]=useNew?"hue":so,output[modes.SATURATION]=useNew?"saturation":so,output[modes.COLOR]=useNew?"color":so,output[modes.LUMINOSITY]=useNew?"luminosity":so,output[modes.ERASE]="destination-out",output[modes.SOURCE_IN]="source-in",output[modes.SOURCE_OUT]="source-out",output[modes.SOURCE_ATOP]="source-atop",output[modes.DESTINATION_OVER]="destination-over",output[modes.DESTINATION_IN]="destination-in",output[modes.DESTINATION_OUT]="destination-out",output[modes.DESTINATION_ATOP]="destination-atop",output[modes.LIGHTER]="lighter",output[modes.COPY]="copy",output[modes.XOR]="xor",output}},20926:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCalcMatrix=__webpack_require__2(91296);module2.exports=function(renderer,ctx,src2,camera,parentMatrix){var alpha=camera.alpha*src2.alpha;if(alpha<=0)return!1;var calcMatrix=GetCalcMatrix(src2,camera,parentMatrix).calc;return ctx.globalCompositeOperation=renderer.blendModes[src2.blendMode],ctx.globalAlpha=alpha,ctx.save(),calcMatrix.setToContext(ctx),ctx.imageSmoothingEnabled=src2.frame?!src2.frame.source.scaleMode:renderer.antialias,!0}},63899:module2=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="losewebgl"},6119:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="postrender"},48070:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="prerender"},15640:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="render"},8912:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resize"},87124:module2=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="restorewebgl"},92503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={LOSE_WEBGL:__webpack_require__2(63899),POST_RENDER:__webpack_require__2(6119),PRE_RENDER:__webpack_require__2(48070),RENDER:__webpack_require__2(15640),RESIZE:__webpack_require__2(8912),RESTORE_WEBGL:__webpack_require__2(87124)}},36909:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Events:__webpack_require__2(92503),Snapshot:__webpack_require__2(89966)},module2.exports.Canvas=__webpack_require__2(55830),module2.exports.WebGL=__webpack_require__2(4159)},32880:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),Color=__webpack_require__2(40987),GetFastValue=__webpack_require__2(95540);module2.exports=function(canvas,config2){var callback=GetFastValue(config2,"callback"),type=GetFastValue(config2,"type","image/png"),encoderOptions=GetFastValue(config2,"encoder",.92),x=Math.abs(Math.round(GetFastValue(config2,"x",0))),y=Math.abs(Math.round(GetFastValue(config2,"y",0))),width=Math.floor(GetFastValue(config2,"width",canvas.width)),height=Math.floor(GetFastValue(config2,"height",canvas.height));if(GetFastValue(config2,"getPixel",!1)){var data=canvas.getContext("2d",{willReadFrequently:!1}).getImageData(x,y,1,1).data;callback.call(null,new Color(data[0],data[1],data[2],data[3]))}else if(0!==x||0!==y||width!==canvas.width||height!==canvas.height){var copyCanvas=CanvasPool.createWebGL(this,width,height),ctx=copyCanvas.getContext("2d",{willReadFrequently:!0});width>0&&height>0&&ctx.drawImage(canvas,x,y,width,height,0,0,width,height);var image1=new Image;image1.onerror=function(){callback.call(null),CanvasPool.remove(copyCanvas)},image1.onload=function(){callback.call(null,image1),CanvasPool.remove(copyCanvas)},image1.src=copyCanvas.toDataURL(type,encoderOptions)}else{var image2=new Image;image2.onerror=function(){callback.call(null)},image2.onload=function(){callback.call(null,image2)},image2.src=canvas.toDataURL(type,encoderOptions)}}},88815:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),Color=__webpack_require__2(40987),GetFastValue=__webpack_require__2(95540);module2.exports=function(sourceContext,config2){var gl=sourceContext,callback=GetFastValue(config2,"callback"),type=GetFastValue(config2,"type","image/png"),encoderOptions=GetFastValue(config2,"encoder",.92),x=Math.abs(Math.round(GetFastValue(config2,"x",0))),y=Math.abs(Math.round(GetFastValue(config2,"y",0))),getPixel=GetFastValue(config2,"getPixel",!1),isFramebuffer=GetFastValue(config2,"isFramebuffer",!1),bufferWidth=isFramebuffer?GetFastValue(config2,"bufferWidth",1):gl.drawingBufferWidth,bufferHeight=isFramebuffer?GetFastValue(config2,"bufferHeight",1):gl.drawingBufferHeight;if(getPixel){var pixel=new Uint8Array(4),destY=isFramebuffer?y:bufferHeight-y;gl.readPixels(x,destY,1,1,gl.RGBA,gl.UNSIGNED_BYTE,pixel),callback.call(null,new Color(pixel[0],pixel[1],pixel[2],pixel[3]))}else{var width=Math.floor(GetFastValue(config2,"width",bufferWidth)),height=Math.floor(GetFastValue(config2,"height",bufferHeight)),total=width*height*4,pixels=new Uint8Array(total);gl.readPixels(x,bufferHeight-y-height,width,height,gl.RGBA,gl.UNSIGNED_BYTE,pixels);for(var canvas=CanvasPool.createWebGL(this,width,height),ctx=canvas.getContext("2d",{willReadFrequently:!0}),imageData=ctx.getImageData(0,0,width,height),data=imageData.data,py=0;py<height;py++)for(var px=0;px<width;px++){var sourceIndex=4*((height-py-1)*width+px),destIndex=isFramebuffer?total-4*(py*width+(width-px)):4*(py*width+px);data[destIndex+0]=pixels[sourceIndex+0],data[destIndex+1]=pixels[sourceIndex+1],data[destIndex+2]=pixels[sourceIndex+2],data[destIndex+3]=pixels[sourceIndex+3]}ctx.putImageData(imageData,0,0);var image=new Image;image.onerror=function(){callback.call(null),CanvasPool.remove(canvas)},image.onload=function(){callback.call(null,image),CanvasPool.remove(canvas)},image.src=canvas.toDataURL(type,encoderOptions)}}},89966:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Canvas:__webpack_require__2(32880),WebGL:__webpack_require__2(88815)}},7530:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(36060),CustomMap=__webpack_require__2(90330),Device=__webpack_require__2(82264),GetFastValue=__webpack_require__2(95540),RenderTarget=__webpack_require__2(32302),SnapCeil=__webpack_require__2(63448),BitmapMaskPipeline=__webpack_require__2(31302),FX=__webpack_require__2(58918),FX_CONST=__webpack_require__2(14811),FXPipeline=__webpack_require__2(92651),LightPipeline=__webpack_require__2(96569),MobilePipeline=__webpack_require__2(56527),MultiPipeline=__webpack_require__2(57516),PointLightPipeline=__webpack_require__2(43439),RopePipeline=__webpack_require__2(81041),SinglePipeline=__webpack_require__2(12385),UtilityPipeline=__webpack_require__2(7589),ArrayEach=__webpack_require__2(95428),ArrayRemove=__webpack_require__2(72905),PipelineManager=new Class({initialize:function PipelineManager2(renderer){this.game=renderer.game,this.renderer=renderer,this.classes=new CustomMap([[CONST.UTILITY_PIPELINE,UtilityPipeline],[CONST.MULTI_PIPELINE,MultiPipeline],[CONST.BITMAPMASK_PIPELINE,BitmapMaskPipeline],[CONST.SINGLE_PIPELINE,SinglePipeline],[CONST.ROPE_PIPELINE,RopePipeline],[CONST.LIGHT_PIPELINE,LightPipeline],[CONST.POINTLIGHT_PIPELINE,PointLightPipeline],[CONST.MOBILE_PIPELINE,MobilePipeline]]),this.postPipelineClasses=new CustomMap,this.pipelines=new CustomMap,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(pipelineConfig,defaultPipeline,autoMobilePipeline){var renderer=this.renderer,targets=this.renderTargets;this.frameInc=Math.floor(GetFastValue(pipelineConfig,"frameInc",32));var instance,pipelineName,renderWidth=renderer.width,renderHeight=renderer.height,disablePreFX=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(FX_CONST.BARREL),FX.Barrel],[String(FX_CONST.BLOOM),FX.Bloom],[String(FX_CONST.BLUR),FX.Blur],[String(FX_CONST.BOKEH),FX.Bokeh],[String(FX_CONST.CIRCLE),FX.Circle],[String(FX_CONST.COLOR_MATRIX),FX.ColorMatrix],[String(FX_CONST.DISPLACEMENT),FX.Displacement],[String(FX_CONST.GLOW),FX.Glow],[String(FX_CONST.GRADIENT),FX.Gradient],[String(FX_CONST.PIXELATE),FX.Pixelate],[String(FX_CONST.SHADOW),FX.Shadow],[String(FX_CONST.SHINE),FX.Shine],[String(FX_CONST.VIGNETTE),FX.Vignette],[String(FX_CONST.WIPE),FX.Wipe]]),!disablePreFX){this.classes.set(CONST.FX_PIPELINE,FXPipeline);for(var minDimension=Math.min(renderWidth,renderHeight),qty=Math.ceil(minDimension/this.frameInc),i=1;i<qty;i++){var targetWidth=i*this.frameInc;targets.push(new RenderTarget(renderer,targetWidth,targetWidth)),targets.push(new RenderTarget(renderer,targetWidth,targetWidth)),targets.push(new RenderTarget(renderer,targetWidth,targetWidth)),this.maxDimension=targetWidth}targets.push(new RenderTarget(renderer,renderWidth,renderHeight,1,0,!0,!0)),targets.push(new RenderTarget(renderer,renderWidth,renderHeight,1,0,!0,!0)),targets.push(new RenderTarget(renderer,renderWidth,renderHeight,1,0,!0,!0))}var _this=this,game=this.game;if(this.classes.each((function(pipelineName2,pipeline){instance=_this.add(pipelineName2,new pipeline({game:game})),pipelineName2===CONST.UTILITY_PIPELINE&&(_this.UTILITY_PIPELINE=instance,_this.fullFrame1=instance.fullFrame1,_this.fullFrame2=instance.fullFrame2,_this.halfFrame1=instance.halfFrame1,_this.halfFrame2=instance.halfFrame2)})),this.MULTI_PIPELINE=this.get(CONST.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(CONST.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(CONST.MOBILE_PIPELINE),disablePreFX||(this.FX_PIPELINE=this.get(CONST.FX_PIPELINE)),pipelineConfig)for(pipelineName in pipelineConfig){var pipelineClass=pipelineConfig[pipelineName];(instance=new pipelineClass(game)).name=pipelineName,instance.isPostFX?this.postPipelineClasses.set(pipelineName,pipelineClass):this.has(pipelineName)||(this.classes.set(pipelineName,pipelineClass),this.add(pipelineName,instance))}this.default=this.get(defaultPipeline),autoMobilePipeline&&!Device.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(pipeline){var instance=this.get(pipeline);return instance&&(this.default=instance),instance},add:function(name,pipeline){if(!pipeline.isPostFX){var pipelines=this.pipelines,renderer=this.renderer;return pipelines.has(name)?console.warn("Pipeline exists: "+name):(pipeline.name=name,pipeline.manager=this,pipelines.set(name,pipeline)),pipeline.hasBooted||pipeline.boot(),0===renderer.width||0===renderer.height||pipeline.isPreFX||pipeline.resize(renderer.width,renderer.height),pipeline}console.warn(name+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(name,pipeline){this.postPipelineClasses.has(name)||this.postPipelineClasses.set(name,pipeline)},flush:function(){this.current&&this.current.flush()},has:function(pipeline){var pipelines=this.pipelines;return"string"==typeof pipeline?pipelines.has(pipeline):!!pipelines.contains(pipeline)},get:function(pipeline){var pipelines=this.pipelines;return"string"==typeof pipeline?pipelines.get(pipeline):pipelines.contains(pipeline)?pipeline:void 0},getPostPipeline:function(pipeline,gameObject,config2){var instance,pipelineClasses=this.postPipelineClasses,pipelineName="",pipetype=typeof pipeline;if("string"===pipetype||"number"===pipetype?(instance=pipelineClasses.get(pipeline),pipelineName=pipeline):"function"===pipetype?(pipelineClasses.contains(pipeline)&&(instance=pipeline),pipelineName=pipeline.name):"object"===pipetype&&(instance=pipelineClasses.get(pipeline.name),pipelineName=pipeline.name),instance){var newPipeline=new instance(this.game,config2);return newPipeline.name=pipelineName,gameObject&&(newPipeline.gameObject=gameObject),this.postPipelineInstances.push(newPipeline),newPipeline}},removePostPipeline:function(pipeline){ArrayRemove(this.postPipelineInstances,pipeline)},remove:function(name,removeClass,removePostPipelineClass){void 0===removeClass&&(removeClass=!0),void 0===removePostPipelineClass&&(removePostPipelineClass=!0),this.pipelines.delete(name),removeClass&&this.classes.delete(name),removePostPipelineClass&&this.postPipelineClasses.delete(name)},set:function(pipeline,gameObject,currentShader){if(!pipeline.isPostFX)return this.isCurrent(pipeline,currentShader)||(this.flush(),this.current&&this.current.unbind(),this.current=pipeline,pipeline.bind(currentShader)),pipeline.updateProjectionMatrix(),pipeline.onBind(gameObject),pipeline},preBatch:function(gameObject){if(gameObject.hasPostPipeline){this.flush();for(var pipelines=gameObject.postPipelines,i=pipelines.length-1;i>=0;i--){var pipeline=pipelines[i];pipeline.active&&pipeline.preBatch(gameObject)}}},postBatch:function(gameObject){if(gameObject.hasPostPipeline){this.flush();for(var pipelines=gameObject.postPipelines,i=0;i<pipelines.length;i++){var pipeline=pipelines[i];pipeline.active&&pipeline.postBatch(gameObject)}}},preBatchCamera:function(camera){if(camera.hasPostPipeline){this.flush();for(var pipelines=camera.postPipelines,i=pipelines.length-1;i>=0;i--){var pipeline=pipelines[i];pipeline.active&&pipeline.preBatch(camera)}}},postBatchCamera:function(camera){if(camera.hasPostPipeline){this.flush();for(var pipelines=camera.postPipelines,i=0;i<pipelines.length;i++){var pipeline=pipelines[i];pipeline.active&&pipeline.postBatch(camera)}}},isCurrent:function(pipeline,currentShader){var renderer=this.renderer,current=this.current;return current&&!currentShader&&(currentShader=current.currentShader),!(current!==pipeline||currentShader.program!==renderer.currentProgram)},copyFrame:function(source,target2,brightness,clear,clearAlpha){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(source,target2,brightness,clear,clearAlpha),this},copyToGame:function(source){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(source),this},drawFrame:function(source,target2,clearAlpha,colorMatrix){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(source,target2,clearAlpha,colorMatrix),this},blendFrames:function(source1,source2,target2,strength,clearAlpha){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(source1,source2,target2,strength,clearAlpha),this},blendFramesAdditive:function(source1,source2,target2,strength,clearAlpha){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(source1,source2,target2,strength,clearAlpha),this},clearFrame:function(target2,clearAlpha){return this.UTILITY_PIPELINE.clearFrame(target2,clearAlpha),this},blitFrame:function(source,target2,brightness,clear,clearAlpha,eraseMode){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(source,target2,brightness,clear,clearAlpha,eraseMode),this},copyFrameRect:function(source,target2,x,y,width,height,clear,clearAlpha){return this.UTILITY_PIPELINE.copyFrameRect(source,target2,x,y,width,height,clear,clearAlpha),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(currentShader){return this.UTILITY_PIPELINE.bind(currentShader)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each((function(_,pipeline){pipeline.restoreContext()})),ArrayEach(this.postPipelineInstances,(function(pipeline){pipeline.restoreContext()}))},rebind:function(pipeline){void 0===pipeline&&this.previous&&(pipeline=this.previous);var renderer=this.renderer,gl=renderer.gl;gl.disable(gl.DEPTH_TEST),gl.disable(gl.CULL_FACE),renderer.hasActiveStencilMask()?gl.clear(gl.DEPTH_BUFFER_BIT):(gl.disable(gl.STENCIL_TEST),gl.clear(gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT)),gl.viewport(0,0,renderer.width,renderer.height),renderer.currentProgram=null,renderer.setBlendMode(0,!0);var vao=renderer.vaoExtension;vao&&vao.bindVertexArrayOES(null);var entries=this.pipelines.entries;for(var key in entries)entries[key].glReset=!0;pipeline&&(this.current=pipeline,pipeline.rebind())},clear:function(){var renderer=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,renderer.currentProgram=null,renderer.setBlendMode(0,!0);var vao=renderer.vaoExtension;vao&&vao.bindVertexArrayOES(null)},getRenderTarget:function(size){var targets=this.renderTargets;if(size>this.maxDimension)return this.targetIndex=targets.length-3,targets[this.targetIndex];var index=3*(SnapCeil(size,this.frameInc,0,!0)-1);return this.targetIndex=index,targets[index]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});module2.exports=PipelineManager},32302:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(92503),RenderTarget=new Class({initialize:function RenderTarget2(renderer,width,height,scale,minFilter,autoClear,autoResize,addDepthBuffer,forceClamp){void 0===scale&&(scale=1),void 0===minFilter&&(minFilter=0),void 0===autoClear&&(autoClear=!0),void 0===autoResize&&(autoResize=!1),void 0===addDepthBuffer&&(addDepthBuffer=!0),void 0===forceClamp&&(forceClamp=!0),this.renderer=renderer,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=scale,this.minFilter=minFilter,this.autoClear=autoClear,this.autoResize=!0,this.hasDepthBuffer=addDepthBuffer,this.forceClamp=forceClamp,this.init(width,height),autoResize?this.renderer.on(Events2.RESIZE,this.resize,this):this.autoResize=!1},init:function(width,height){var renderer=this.renderer;this.texture=renderer.createTextureFromSource(null,width,height,this.minFilter,this.forceClamp),this.framebuffer=renderer.createFramebuffer(width,height,this.texture,this.hasDepthBuffer),this.width=width,this.height=height},setAutoResize:function(autoResize){return autoResize&&!this.autoResize?(this.renderer.on(Events2.RESIZE,this.resize,this),this.autoResize=!0):!autoResize&&this.autoResize&&(this.renderer.off(Events2.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(width,height){if(this.autoResize&&this.willResize(width,height)){var renderer=this.renderer;renderer.deleteFramebuffer(this.framebuffer),renderer.deleteTexture(this.texture),this.texture=renderer.createTextureFromSource(null,width,height,this.minFilter,this.forceClamp),this.framebuffer=renderer.createFramebuffer(width,height,this.texture,this.hasDepthBuffer),this.width=width,this.height=height}return this},willResize:function(width,height){return"number"==typeof width&&"number"==typeof height&&(width=Math.round(width*this.scale),height=Math.round(height*this.scale),width=Math.max(width,1),height=Math.max(height,1),width!==this.width||height!==this.height)},bind:function(adjustViewport,width,height){void 0===adjustViewport&&(adjustViewport=!1);var renderer=this.renderer;if(adjustViewport&&renderer.flush(),width&&height&&this.resize(width,height),renderer.pushFramebuffer(this.framebuffer,!1,!1),adjustViewport&&this.adjustViewport(),this.autoClear){var gl=this.renderer.gl;gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT)}renderer.clearStencilMask()},adjustViewport:function(){var gl=this.renderer.gl;gl.viewport(0,0,this.width,this.height),gl.disable(gl.SCISSOR_TEST)},clear:function(x,y,width,height){var renderer=this.renderer,gl=renderer.gl;renderer.pushFramebuffer(this.framebuffer),void 0!==x&&void 0!==y&&void 0!==width&&void 0!==height?(gl.enable(gl.SCISSOR_TEST),gl.scissor(x,y,width,height)):gl.disable(gl.SCISSOR_TEST),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),renderer.popFramebuffer(),renderer.resetScissor()},unbind:function(flush){void 0===flush&&(flush=!1);var renderer=this.renderer;return flush&&renderer.flush(),renderer.popFramebuffer()},destroy:function(){var renderer=this.renderer;renderer.off(Events2.RESIZE,this.resize,this),renderer.deleteFramebuffer(this.framebuffer),renderer.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});module2.exports=RenderTarget},70554:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @author       Matthew Groves <@doormat>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={getTintFromFloats:function(r,g,b,a){return((255*a&255)<<24|(255*r&255)<<16|(255*g&255)<<8|255*b&255)>>>0},getTintAppendFloatAlpha:function(rgb,a){return((255*a&255)<<24|rgb)>>>0},getTintAppendFloatAlphaAndSwap:function(rgb,a){return((255*a&255)<<24|(255&rgb)<<16|(rgb>>8&255)<<8|rgb>>16&255)>>>0},getFloatsFromUintRGB:function(rgb){return[(rgb>>16&255)/255,(rgb>>8&255)/255,(255&rgb)/255]},checkShaderMax:function(gl,maxTextures){var gpuMax=Math.min(16,gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));return maxTextures&&-1!==maxTextures?Math.min(gpuMax,maxTextures):gpuMax},parseFragmentShaderMaxTextures:function(fragmentShaderSource,maxTextures){if(!fragmentShaderSource)return"";for(var src2="",i=0;i<maxTextures;i++)i>0&&(src2+="\n\telse "),i<maxTextures-1&&(src2+="if (outTexId < "+i+".5)"),src2+="\n\t{",src2+="\n\t\ttexture = texture2D(uMainSampler["+i+"], outTexCoord);",src2+="\n\t}";return(fragmentShaderSource=fragmentShaderSource.replace(/%count%/gi,maxTextures.toString())).replace(/%forloop%/gi,src2)},setGlowQuality:function(shader,game,quality,distance){return void 0===quality&&(quality=game.config.glowFXQuality),void 0===distance&&(distance=game.config.glowFXDistance),shader=(shader=shader.replace(/__SIZE__/gi,(1/quality/distance).toFixed(7))).replace(/__DIST__/gi,distance.toFixed(0)+".0")}}},29100:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),DeepCopy=__webpack_require__2(62644),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(77085),GetFastValue=__webpack_require__2(95540),Matrix4=__webpack_require__2(37867),RendererEvents=__webpack_require__2(92503),RenderTarget=__webpack_require__2(32302),Utils=__webpack_require__2(70554),WebGLShader=__webpack_require__2(38683),WebGLPipeline=new Class({Extends:EventEmitter2,initialize:function WebGLPipeline2(config2){EventEmitter2.call(this);var game=config2.game,renderer=game.renderer,gl=renderer.gl;this.name=GetFastValue(config2,"name","WebGLPipeline"),this.game=game,this.renderer=renderer,this.manager,this.gl=gl,this.view=game.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=GetFastValue(config2,"topology",gl.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=GetFastValue(config2,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=config2,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=GetFastValue(config2,"resizeUniform","")},boot:function(){var i,gl=this.gl,config2=this.config,renderer=this.renderer;this.isPostFX||(this.projectionMatrix=(new Matrix4).identity());var renderTargets=this.renderTargets,targets=GetFastValue(config2,"renderTarget",!1);"boolean"==typeof targets&&targets&&(targets=1);var width=renderer.width,height=renderer.height;if("number"==typeof targets)for(i=0;i<targets;i++)renderTargets.push(new RenderTarget(renderer,width,height,1,0,!0));else if(Array.isArray(targets))for(i=0;i<targets.length;i++){var scale=GetFastValue(targets[i],"scale",1),minFilter=GetFastValue(targets[i],"minFilter",0),autoClear=GetFastValue(targets[i],"autoClear",1),autoResize=GetFastValue(targets[i],"autoResize",!1),targetWidth=GetFastValue(targets[i],"width",null),targetHeight=GetFastValue(targets[i],"height",targetWidth);targetWidth?renderTargets.push(new RenderTarget(renderer,targetWidth,targetHeight,1,minFilter,autoClear,autoResize)):renderTargets.push(new RenderTarget(renderer,width,height,scale,minFilter,autoClear,autoResize))}renderTargets.length&&(this.currentRenderTarget=renderTargets[0]),this.setShadersFromConfig(config2);var shaders=this.shaders,vertexSize=0;for(i=0;i<shaders.length;i++)shaders[i].vertexSize>vertexSize&&(vertexSize=shaders[i].vertexSize);var batchSize=GetFastValue(config2,"batchSize",renderer.config.batchSize);this.vertexCapacity=6*batchSize;var data=new ArrayBuffer(this.vertexCapacity*vertexSize);this.vertexData=data,this.bytes=new Uint8Array(data),this.vertexViewF32=new Float32Array(data),this.vertexViewU32=new Uint32Array(data);var configVerts=GetFastValue(config2,"vertices",null);for(configVerts?(this.vertexViewF32.set(configVerts),this.vertexBuffer=renderer.createVertexBuffer(data,gl.STATIC_DRAW)):this.vertexBuffer=renderer.createVertexBuffer(data.byteLength,gl.DYNAMIC_DRAW),this.setVertexBuffer(),i=shaders.length-1;i>=0;i--)shaders[i].rebind();this.hasBooted=!0,renderer.on(RendererEvents.RESIZE,this.resize,this),renderer.on(RendererEvents.PRE_RENDER,this.onPreRender,this),renderer.on(RendererEvents.RENDER,this.onRender,this),renderer.on(RendererEvents.POST_RENDER,this.onPostRender,this),this.emit(Events2.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(shader,setAttributes,vertexBuffer){var renderer=this.renderer;return shader===this.currentShader&&renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(vertexBuffer)&&!setAttributes&&(setAttributes=!0),shader.bind(setAttributes,!1),this.currentShader=shader),this},getShaderByName:function(name){for(var shaders=this.shaders,i=0;i<shaders.length;i++)if(shaders[i].name===name)return shaders[i]},setShadersFromConfig:function(config2){var i,shaders=this.shaders,renderer=this.renderer;for(i=0;i<shaders.length;i++)shaders[i].destroy();var defaultVertShader=GetFastValue(config2,"vertShader",null),defaultFragShader=Utils.parseFragmentShaderMaxTextures(GetFastValue(config2,"fragShader",null),renderer.maxTextures),defaultAttribs=GetFastValue(config2,"attributes",null),configShaders=GetFastValue(config2,"shaders",[]),len=configShaders.length;if(0===len)defaultVertShader&&defaultFragShader&&(this.shaders=[new WebGLShader(this,"default",defaultVertShader,defaultFragShader,DeepCopy(defaultAttribs))]);else{var newShaders=[];for(i=0;i<len;i++){var name,vertShader,fragShader,attributes,shaderEntry=configShaders[i];if("string"==typeof shaderEntry?(name="default",vertShader=defaultVertShader,fragShader=Utils.parseFragmentShaderMaxTextures(shaderEntry,renderer.maxTextures),attributes=defaultAttribs):(name=GetFastValue(shaderEntry,"name","default"),vertShader=GetFastValue(shaderEntry,"vertShader",defaultVertShader),fragShader=Utils.parseFragmentShaderMaxTextures(GetFastValue(shaderEntry,"fragShader",defaultFragShader),renderer.maxTextures),attributes=GetFastValue(shaderEntry,"attributes",defaultAttribs)),"default"===name){var test=fragShader.split("\n")[0].trim();test.indexOf("#define SHADER_NAME")>-1&&(name=test.substring(20))}vertShader&&fragShader&&newShaders.push(new WebGLShader(this,name,vertShader,fragShader,DeepCopy(attributes)))}this.shaders=newShaders}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(texture){return this.currentBatch={start:this.vertexCount,count:0,texture:[texture],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=texture,this.batch.push(this.currentBatch),0},addTextureToBatch:function(texture){var batch=this.currentBatch;batch&&(batch.texture.push(texture),batch.unit++,batch.maxUnit++)},pushBatch:function(texture){if(!this.currentBatch||this.forceZero&&texture!==this.currentTexture)return this.createBatch(texture);if(texture===this.currentTexture)return this.currentUnit;var current=this.currentBatch,idx=current.texture.indexOf(texture);return-1===idx?current.texture.length===this.renderer.maxTextures?this.createBatch(texture):(current.unit++,current.maxUnit++,current.texture.push(texture),this.currentUnit=current.unit,this.currentTexture=texture,current.unit):(this.currentUnit=idx,this.currentTexture=texture,idx)},setGameObject:function(gameObject,frame){return void 0===frame&&(frame=gameObject.frame),this.pushBatch(frame.source.glTexture)},shouldFlush:function(amount){return void 0===amount&&(amount=0),this.vertexCount+amount>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(width,height){width===this.width&&height===this.height||this.flush(),this.width=width,this.height=height;for(var targets=this.renderTargets,i=0;i<targets.length;i++)targets[i].resize(width,height);return this.setProjectionMatrix(width,height),this.resizeUniform&&this.set2f(this.resizeUniform,width,height),this.emit(Events2.RESIZE,width,height,this),this.onResize(width,height),this},setProjectionMatrix:function(width,height){var projectionMatrix=this.projectionMatrix;if(!projectionMatrix)return this;this.projectionWidth=width,this.projectionHeight=height,projectionMatrix.ortho(0,width,height,0,-1e3,1e3);for(var shaders=this.shaders,name="uProjectionMatrix",i=0;i<shaders.length;i++){var shader=shaders[i];shader.hasUniform(name)&&(shader.resetUniform(name),shader.setMatrix4fv(name,!1,projectionMatrix.val,shader))}return this},flipProjectionMatrix:function(flipY){void 0===flipY&&(flipY=!0);var projectionMatrix=this.projectionMatrix;if(!projectionMatrix)return this;var width=this.projectionWidth,height=this.projectionHeight;flipY?projectionMatrix.ortho(0,width,0,height,-1e3,1e3):projectionMatrix.ortho(0,width,height,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,projectionMatrix.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var globalWidth=this.renderer.projectionWidth,globalHeight=this.renderer.projectionHeight;this.projectionWidth===globalWidth&&this.projectionHeight===globalHeight||this.setProjectionMatrix(globalWidth,globalHeight)}},bind:function(currentShader){if(void 0===currentShader&&(currentShader=this.currentShader),this.glReset)return this.rebind(currentShader);var wasBound=!1,gl=this.gl;return gl.getParameter(gl.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,wasBound=!0),currentShader.bind(wasBound),this.currentShader=currentShader,this.activeTextures.length=0,this.emit(Events2.BIND,this,currentShader),this.onActive(currentShader),this},rebind:function(currentShader){this.activeBuffer=null,this.setVertexBuffer();for(var shaders=this.shaders,i=shaders.length-1;i>=0;i--){var shader=shaders[i].rebind();currentShader&&shader!==currentShader||(this.currentShader=shader)}return this.activeTextures.length=0,this.emit(Events2.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var shaders=this.shaders,hasVertexBuffer=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,hasVertexBuffer&&this.setVertexBuffer();for(var i=0;i<shaders.length;i++){var shader=shaders[i];shader.syncUniforms(),hasVertexBuffer&&shader.rebind()}},setVertexBuffer:function(buffer){if(void 0===buffer&&(buffer=this.vertexBuffer),buffer!==this.activeBuffer){var gl=this.gl;return this.gl.bindBuffer(gl.ARRAY_BUFFER,buffer.webGLBuffer),this.activeBuffer=buffer,!0}return!1},preBatch:function(gameObject){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(gameObject),this},postBatch:function(gameObject){return this.onDraw(this.currentRenderTarget),this.onPostBatch(gameObject),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(isPostFlush){if(void 0===isPostFlush&&(isPostFlush=!1),this.vertexCount>0){this.emit(Events2.BEFORE_FLUSH,this,isPostFlush),this.onBeforeFlush(isPostFlush);var gl=this.gl,vertexCount=this.vertexCount,vertexSize=this.currentShader.vertexSize,topology=this.topology;if(this.active){var i,entry,texture;this.setVertexBuffer(),vertexCount===this.vertexCapacity?gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.DYNAMIC_DRAW):gl.bufferSubData(gl.ARRAY_BUFFER,0,this.bytes.subarray(0,vertexCount*vertexSize));var batch=this.batch,activeTextures=this.activeTextures;if(this.forceZero)for(activeTextures[0]||gl.activeTexture(gl.TEXTURE0),i=0;i<batch.length;i++)texture=(entry=batch[i]).texture[0],activeTextures[0]!==texture&&(gl.bindTexture(gl.TEXTURE_2D,texture.webGLTexture),activeTextures[0]=texture),gl.drawArrays(topology,entry.start,entry.count);else for(i=0;i<batch.length;i++){entry=batch[i];for(var t=0;t<=entry.maxUnit;t++)texture=entry.texture[t],activeTextures[t]!==texture&&(gl.activeTexture(gl.TEXTURE0+t),gl.bindTexture(gl.TEXTURE_2D,texture.webGLTexture),activeTextures[t]=texture);gl.drawArrays(topology,entry.start,entry.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(Events2.AFTER_FLUSH,this,isPostFlush),this.onAfterFlush(isPostFlush)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,y,u,v,unit,tintEffect,tint){var vertexViewF32=this.vertexViewF32,vertexViewU32=this.vertexViewU32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;vertexViewF32[++vertexOffset]=x,vertexViewF32[++vertexOffset]=y,vertexViewF32[++vertexOffset]=u,vertexViewF32[++vertexOffset]=v,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tint,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(gameObject,x0,y0,x1,y1,x2,y2,x3,y3,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,unit){void 0===unit&&(unit=this.currentUnit);var hasFlushed=!1;this.shouldFlush(6)&&(this.flush(),hasFlushed=!0),this.currentBatch||(unit=this.setTexture2D(texture));var vertexViewF32=this.vertexViewF32,vertexViewU32=this.vertexViewU32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;return vertexViewF32[++vertexOffset]=x0,vertexViewF32[++vertexOffset]=y0,vertexViewF32[++vertexOffset]=u0,vertexViewF32[++vertexOffset]=v0,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintTL,vertexViewF32[++vertexOffset]=x1,vertexViewF32[++vertexOffset]=y1,vertexViewF32[++vertexOffset]=u0,vertexViewF32[++vertexOffset]=v1,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintBL,vertexViewF32[++vertexOffset]=x2,vertexViewF32[++vertexOffset]=y2,vertexViewF32[++vertexOffset]=u1,vertexViewF32[++vertexOffset]=v1,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintBR,vertexViewF32[++vertexOffset]=x0,vertexViewF32[++vertexOffset]=y0,vertexViewF32[++vertexOffset]=u0,vertexViewF32[++vertexOffset]=v0,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintTL,vertexViewF32[++vertexOffset]=x2,vertexViewF32[++vertexOffset]=y2,vertexViewF32[++vertexOffset]=u1,vertexViewF32[++vertexOffset]=v1,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintBR,vertexViewF32[++vertexOffset]=x3,vertexViewF32[++vertexOffset]=y3,vertexViewF32[++vertexOffset]=u1,vertexViewF32[++vertexOffset]=v0,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintTR,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(gameObject),hasFlushed},batchTri:function(gameObject,x0,y0,x1,y1,x2,y2,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintEffect,texture,unit){void 0===unit&&(unit=this.currentUnit);var hasFlushed=!1;this.shouldFlush(3)&&(this.flush(),hasFlushed=!0),this.currentBatch||(unit=this.setTexture2D(texture));var vertexViewF32=this.vertexViewF32,vertexViewU32=this.vertexViewU32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;return vertexViewF32[++vertexOffset]=x0,vertexViewF32[++vertexOffset]=y0,vertexViewF32[++vertexOffset]=u0,vertexViewF32[++vertexOffset]=v0,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintTL,vertexViewF32[++vertexOffset]=x1,vertexViewF32[++vertexOffset]=y1,vertexViewF32[++vertexOffset]=u0,vertexViewF32[++vertexOffset]=v1,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintTR,vertexViewF32[++vertexOffset]=x2,vertexViewF32[++vertexOffset]=y2,vertexViewF32[++vertexOffset]=u1,vertexViewF32[++vertexOffset]=v1,vertexViewF32[++vertexOffset]=unit,vertexViewF32[++vertexOffset]=tintEffect,vertexViewU32[++vertexOffset]=tintBL,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(gameObject),hasFlushed},drawFillRect:function(x,y,width,height,color,alpha,texture,flipUV){void 0===texture&&(texture=this.renderer.whiteTexture),void 0===flipUV&&(flipUV=!0),x=Math.floor(x),y=Math.floor(y);var xw=Math.floor(x+width),yh=Math.floor(y+height),unit=this.setTexture2D(texture),tint=Utils.getTintAppendFloatAlphaAndSwap(color,alpha),v0=0,v1=1;flipUV&&(v0=1,v1=0),this.batchQuad(null,x,y,x,yh,xw,yh,xw,y,0,v0,1,v1,tint,tint,tint,tint,0,texture,unit)},setTexture2D:function(texture){return void 0===texture&&(texture=this.renderer.whiteTexture),this.pushBatch(texture)},bindTexture:function(texture,unit){void 0===unit&&(unit=0);var gl=this.gl;return gl.activeTexture(gl.TEXTURE0+unit),gl.bindTexture(gl.TEXTURE_2D,texture.webGLTexture),this},bindRenderTarget:function(target2,unit){return this.bindTexture(target2.texture,unit)},setTime:function(name,shader){return this.set1f(name,this.game.loop.getDuration(),shader),this},setBoolean:function(name,value,shader){return void 0===shader&&(shader=this.currentShader),shader.setBoolean(name,value),this},set1f:function(name,x,shader){return void 0===shader&&(shader=this.currentShader),shader.set1f(name,x),this},set2f:function(name,x,y,shader){return void 0===shader&&(shader=this.currentShader),shader.set2f(name,x,y),this},set3f:function(name,x,y,z2,shader){return void 0===shader&&(shader=this.currentShader),shader.set3f(name,x,y,z2),this},set4f:function(name,x,y,z2,w,shader){return void 0===shader&&(shader=this.currentShader),shader.set4f(name,x,y,z2,w),this},set1fv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set1fv(name,arr),this},set2fv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set2fv(name,arr),this},set3fv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set3fv(name,arr),this},set4fv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set4fv(name,arr),this},set1iv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set1iv(name,arr),this},set2iv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set2iv(name,arr),this},set3iv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set3iv(name,arr),this},set4iv:function(name,arr,shader){return void 0===shader&&(shader=this.currentShader),shader.set4iv(name,arr),this},set1i:function(name,x,shader){return void 0===shader&&(shader=this.currentShader),shader.set1i(name,x),this},set2i:function(name,x,y,shader){return void 0===shader&&(shader=this.currentShader),shader.set2i(name,x,y),this},set3i:function(name,x,y,z2,shader){return void 0===shader&&(shader=this.currentShader),shader.set3i(name,x,y,z2),this},set4i:function(name,x,y,z2,w,shader){return void 0===shader&&(shader=this.currentShader),shader.set4i(name,x,y,z2,w),this},setMatrix2fv:function(name,transpose,matrix,shader){return void 0===shader&&(shader=this.currentShader),shader.setMatrix2fv(name,transpose,matrix),this},setMatrix3fv:function(name,transpose,matrix,shader){return void 0===shader&&(shader=this.currentShader),shader.setMatrix3fv(name,transpose,matrix),this},setMatrix4fv:function(name,transpose,matrix,shader){return void 0===shader&&(shader=this.currentShader),shader.setMatrix4fv(name,transpose,matrix),this},destroy:function(){var i;this.emit(Events2.DESTROY,this);var shaders=this.shaders;for(i=0;i<shaders.length;i++)shaders[i].destroy();var targets=this.renderTargets;for(i=0;i<targets.length;i++)targets[i].destroy();var renderer=this.renderer;return renderer.deleteBuffer(this.vertexBuffer),renderer.off(RendererEvents.RESIZE,this.resize,this),renderer.off(RendererEvents.PRE_RENDER,this.onPreRender,this),renderer.off(RendererEvents.RENDER,this.onRender,this),renderer.off(RendererEvents.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});module2.exports=WebGLPipeline},74797:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayEach=__webpack_require__2(95428),ArrayRemove=__webpack_require__2(72905),CameraEvents=__webpack_require__2(19715),Class=__webpack_require__2(83419),CONST=__webpack_require__2(8054),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(92503),IsSizePowerOfTwo=__webpack_require__2(50030),Matrix4=__webpack_require__2(37867),NOOP=__webpack_require__2(29747),PipelineManager=__webpack_require__2(7530),RenderTarget=__webpack_require__2(32302),ScaleEvents=__webpack_require__2(97480),TextureEvents=__webpack_require__2(69442),Utils=__webpack_require__2(70554),WebGLSnapshot=__webpack_require__2(88815),WebGLBufferWrapper=__webpack_require__2(26128),WebGLProgramWrapper=__webpack_require__2(1482),WebGLTextureWrapper=__webpack_require__2(82751),WebGLFramebufferWrapper=__webpack_require__2(84387),WebGLAttribLocationWrapper=__webpack_require__2(93567),WebGLUniformLocationWrapper=__webpack_require__2(57183),WebGLRenderer=new Class({Extends:EventEmitter2,initialize:function WebGLRenderer2(game){EventEmitter2.call(this);var gameConfig=game.config,contextCreationConfig={alpha:gameConfig.transparent,desynchronized:gameConfig.desynchronized,depth:!0,antialias:gameConfig.antialiasGL,premultipliedAlpha:gameConfig.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:gameConfig.failIfMajorPerformanceCaveat,powerPreference:gameConfig.powerPreference,preserveDrawingBuffer:gameConfig.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:gameConfig.clearBeforeRender,antialias:gameConfig.antialias,backgroundColor:gameConfig.backgroundColor,contextCreation:contextCreationConfig,roundPixels:gameConfig.roundPixels,maxTextures:gameConfig.maxTextures,maxTextureSize:gameConfig.maxTextureSize,batchSize:gameConfig.batchSize,maxLights:gameConfig.maxLights,mipmapFilter:gameConfig.mipmapFilter},this.game=game,this.type=CONST.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=game.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=NOOP,this.contextRestoredHandler=NOOP,this.previousContextLostHandler=NOOP,this.previousContextRestoredHandler=NOOP,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(config2){var gl,game=this.game,canvas=this.canvas,clearColor=config2.backgroundColor;if(!(gl=game.config.context?game.config.context:canvas.getContext("webgl",config2.contextCreation)||canvas.getContext("experimental-webgl",config2.contextCreation))||gl.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=gl,this.setExtensions(),this.setContextHandlers(),game.context=gl;for(var i=0;i<=27;i++)this.blendModes.push({func:[gl.ONE,gl.ONE_MINUS_SRC_ALPHA],equation:gl.FUNC_ADD});return this.blendModes[1].func=[gl.ONE,gl.DST_ALPHA],this.blendModes[2].func=[gl.DST_COLOR,gl.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[gl.ONE,gl.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[gl.ZERO,gl.ONE_MINUS_SRC_ALPHA],equation:gl.FUNC_REVERSE_SUBTRACT},this.glFormats=[gl.BYTE,gl.SHORT,gl.UNSIGNED_BYTE,gl.UNSIGNED_SHORT,gl.FLOAT],this.glFuncMap={mat2:{func:gl.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:gl.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:gl.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:gl.uniform1f,length:1},"1fv":{func:gl.uniform1fv,length:1},"1i":{func:gl.uniform1i,length:1},"1iv":{func:gl.uniform1iv,length:1},"2f":{func:gl.uniform2f,length:2},"2fv":{func:gl.uniform2fv,length:1},"2i":{func:gl.uniform2i,length:2},"2iv":{func:gl.uniform2iv,length:1},"3f":{func:gl.uniform3f,length:3},"3fv":{func:gl.uniform3fv,length:1},"3i":{func:gl.uniform3i,length:3},"3iv":{func:gl.uniform3iv,length:1},"4f":{func:gl.uniform4f,length:4},"4fv":{func:gl.uniform4fv,length:1},"4i":{func:gl.uniform4i,length:4},"4iv":{func:gl.uniform4iv,length:1}},config2.maxTextures&&-1!==config2.maxTextures||(config2.maxTextures=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS)),config2.maxTextureSize||(config2.maxTextureSize=gl.getParameter(gl.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),gl.disable(gl.DEPTH_TEST),gl.disable(gl.CULL_FACE),gl.enable(gl.BLEND),gl.clearColor(clearColor.redGL,clearColor.greenGL,clearColor.blueGL,clearColor.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(config2.mipmapFilter)&&(this.mipmapFilter=gl[config2.mipmapFilter]),this.maxTextures=Utils.checkShaderMax(gl,config2.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new PipelineManager(this),this.setBlendMode(CONST.BlendModes.NORMAL),this.projectionMatrix=(new Matrix4).identity(),game.textures.once(TextureEvents.READY,this.boot,this),this},boot:function(){var game=this.game,pipelineManager=this.pipelines,baseSize=game.scale.baseSize,width=baseSize.width,height=baseSize.height;this.width=width,this.height=height,this.isBooted=!0,this.renderTarget=new RenderTarget(this,width,height,1,0,!0,!0),this.maskTarget=new RenderTarget(this,width,height,1,0,!0,!0),this.maskSource=new RenderTarget(this,width,height,1,0,!0,!0);var config2=game.config;pipelineManager.boot(config2.pipeline,config2.defaultPipeline,config2.autoMobilePipeline),this.blankTexture=game.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=game.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=game.textures.getFrame("__WHITE").glTexture;var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.enable(gl.SCISSOR_TEST),game.scale.on(ScaleEvents.RESIZE,this.onResize,this),this.resize(width,height)},setExtensions:function(){var gl=this.gl,exts=gl.getSupportedExtensions();this.supportedExtensions=exts,this.instancedArraysExtension=exts.indexOf("ANGLE_instanced_arrays")>-1?gl.getExtension("ANGLE_instanced_arrays"):null,this.vaoExtension=exts.indexOf("OES_vertex_array_object")>-1?gl.getExtension("OES_vertex_array_object"):null},setContextHandlers:function(contextLost,contextRestored){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof contextLost?contextLost.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof contextRestored?contextRestored.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(event){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(Events2.LOSE_WEBGL,this),event.preventDefault()},dispatchContextRestored:function(event){var gl=this.gl;if(gl.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(CONST.BlendModes.NORMAL),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST),gl.enable(gl.CULL_FACE),this.compression=this.getCompressedTextures();var wrapperCreateResource=function(wrapper){wrapper.createResource()};ArrayEach(this.glTextureWrappers,wrapperCreateResource),ArrayEach(this.glBufferWrappers,wrapperCreateResource),ArrayEach(this.glFramebufferWrappers,wrapperCreateResource),ArrayEach(this.glProgramWrappers,wrapperCreateResource),ArrayEach(this.glAttribLocationWrappers,wrapperCreateResource),ArrayEach(this.glUniformLocationWrappers,wrapperCreateResource),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(Events2.RESTORE_WEBGL,this),event.preventDefault()}},createTemporaryTextures:function(){for(var gl=this.gl,index=0;index<this.maxTextures;index++){var tempTexture=gl.createTexture();gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,tempTexture),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(index)}},captureFrame:function(quickCapture,fullCapture){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(commandCount,quickCapture,fullCapture){},stopCapture:function(){},onCapture:function(capture){},onResize:function(gameSize,baseSize){baseSize.width===this.width&&baseSize.height===this.height||this.resize(baseSize.width,baseSize.height)},beginCapture:function(width,height){void 0===width&&(width=this.width),void 0===height&&(height=this.height),this.renderTarget.bind(!0,width,height),this.setProjectionMatrix(width,height)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(width,height){var gl=this.gl;return this.width=width,this.height=height,this.setProjectionMatrix(width,height),gl.viewport(0,0,width,height),this.drawingBufferHeight=gl.drawingBufferHeight,gl.scissor(0,gl.drawingBufferHeight-height,width,height),this.defaultScissor[2]=width,this.defaultScissor[3]=height,this.emit(Events2.RESIZE,width,height),this},getCompressedTextures:function(){var hasExt=function(gl2,format){var results=gl2.getExtension("WEBGL_compressed_texture_"+format)||gl2.getExtension("WEBKIT_WEBGL_compressed_texture_"+format)||gl2.getExtension("EXT_texture_compression_"+format);if(results){var glEnums={};for(var key in results)glEnums[results[key]]=key;return glEnums}},gl=this.gl;return{ETC:hasExt(gl,"etc"),ETC1:hasExt(gl,"etc1"),ATC:hasExt(gl,"atc"),ASTC:hasExt(gl,"astc"),BPTC:hasExt(gl,"bptc"),RGTC:hasExt(gl,"rgtc"),PVRTC:hasExt(gl,"pvrtc"),S3TC:hasExt(gl,"s3tc"),S3TCSRGB:hasExt(gl,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(baseFormat,format){var supportedFormats=this.compression[baseFormat.toUpperCase()];if(format in supportedFormats)return supportedFormats[format]},supportsCompressedTexture:function(baseFormat,format){var supportedFormats=this.compression[baseFormat.toUpperCase()];return!!supportedFormats&&(!format||format in supportedFormats)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(width,height){return width===this.projectionWidth&&height===this.projectionHeight||(this.projectionWidth=width,this.projectionHeight=height,this.projectionMatrix.ortho(0,width,height,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(extensionName){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(extensionName)},getExtension:function(extensionName){return this.hasExtension(extensionName)?(extensionName in this.extensions||(this.extensions[extensionName]=this.gl.getExtension(extensionName)),this.extensions[extensionName]):null},flush:function(){this.pipelines.flush()},pushScissor:function(x,y,width,height,drawingBufferHeight){void 0===drawingBufferHeight&&(drawingBufferHeight=this.drawingBufferHeight);var scissor=[x,y,width,height];return this.scissorStack.push(scissor),this.setScissor(x,y,width,height,drawingBufferHeight),this.currentScissor=scissor,scissor},setScissor:function(x,y,width,height,drawingBufferHeight){void 0===drawingBufferHeight&&(drawingBufferHeight=this.drawingBufferHeight);var gl=this.gl,current=this.currentScissor,setScissor=width>0&&height>0;if(current&&setScissor){var cx=current[0],cy=current[1],cw=current[2],ch=current[3];setScissor=cx!==x||cy!==y||cw!==width||ch!==height}setScissor&&(this.flush(),gl.scissor(x,drawingBufferHeight-y-height,width,height))},resetScissor:function(){var gl=this.gl;gl.enable(gl.SCISSOR_TEST);var current=this.currentScissor;if(current){var x=current[0],y=current[1],width=current[2],height=current[3];width>0&&height>0&&gl.scissor(x,this.drawingBufferHeight-y-height,width,height)}},popScissor:function(){var scissorStack=this.scissorStack;scissorStack.pop();var scissor=scissorStack[scissorStack.length-1];scissor&&this.setScissor(scissor[0],scissor[1],scissor[2],scissor[3]),this.currentScissor=scissor},hasActiveStencilMask:function(){var mask=this.currentMask.mask,camMask=this.currentCameraMask.mask;return mask&&mask.isStencil||camMask&&camMask.isStencil},resetViewport:function(){var gl=this.gl;gl.viewport(0,0,this.width,this.height),this.drawingBufferHeight=gl.drawingBufferHeight},setBlendMode:function(blendModeId,force){void 0===force&&(force=!1);var gl=this.gl,blendMode=this.blendModes[blendModeId];return!!(force||blendModeId!==CONST.BlendModes.SKIP_CHECK&&this.currentBlendMode!==blendModeId)&&(this.flush(),gl.enable(gl.BLEND),gl.blendEquation(blendMode.equation),blendMode.func.length>2?gl.blendFuncSeparate(blendMode.func[0],blendMode.func[1],blendMode.func[2],blendMode.func[3]):gl.blendFunc(blendMode.func[0],blendMode.func[1]),this.currentBlendMode=blendModeId,!0)},addBlendMode:function(func,equation){return this.blendModes.push({func:func,equation:equation})-1},updateBlendMode:function(index,func,equation){return this.blendModes[index]&&(this.blendModes[index].func=func,equation&&(this.blendModes[index].equation=equation)),this},removeBlendMode:function(index){return index>17&&this.blendModes[index]&&this.blendModes.splice(index,1),this},pushFramebuffer:function(framebuffer,updateScissor,setViewport,texture,clear){return framebuffer===this.currentFramebuffer?this:(this.fboStack.push(framebuffer),this.setFramebuffer(framebuffer,updateScissor,setViewport,texture,clear))},setFramebuffer:function(framebuffer,updateScissor,setViewport,texture,clear){if(void 0===updateScissor&&(updateScissor=!1),void 0===setViewport&&(setViewport=!0),void 0===texture&&(texture=null),void 0===clear&&(clear=!1),framebuffer===this.currentFramebuffer)return this;var gl=this.gl,width=this.width,height=this.height;return framebuffer&&framebuffer.renderTexture&&setViewport?(width=framebuffer.renderTexture.width,height=framebuffer.renderTexture.height):this.flush(),framebuffer?gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer.webGLFramebuffer):gl.bindFramebuffer(gl.FRAMEBUFFER,null),setViewport&&gl.viewport(0,0,width,height),texture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,texture.webGLTexture,0),clear&&(gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT)),updateScissor&&(framebuffer?(this.drawingBufferHeight=height,this.pushScissor(0,0,width,height)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=framebuffer,this},popFramebuffer:function(updateScissor,setViewport){void 0===updateScissor&&(updateScissor=!1),void 0===setViewport&&(setViewport=!0);var fboStack=this.fboStack;fboStack.pop();var framebuffer=fboStack[fboStack.length-1];return framebuffer||(framebuffer=null),this.setFramebuffer(framebuffer,updateScissor,setViewport),framebuffer},restoreFramebuffer:function(updateScissor,setViewport){void 0===updateScissor&&(updateScissor=!1),void 0===setViewport&&(setViewport=!0);var fboStack=this.fboStack,framebuffer=fboStack[fboStack.length-1];framebuffer||(framebuffer=null),this.currentFramebuffer=null,this.setFramebuffer(framebuffer,updateScissor,setViewport)},setProgram:function(program){return program!==this.currentProgram&&(this.flush(),this.gl.useProgram(program.webGLProgram),this.currentProgram=program,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(source,width,height,scaleMode,forceClamp){void 0===forceClamp&&(forceClamp=!1);var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,wrap=gl.CLAMP_TO_EDGE;width=source?source.width:width,height=source?source.height:height;var pow=IsSizePowerOfTwo(width,height);if(pow&&!forceClamp&&(wrap=gl.REPEAT),scaleMode===CONST.ScaleModes.LINEAR&&this.config.antialias){var isCompressed=source&&source.compressed,isMip=!isCompressed&&pow||isCompressed&&source.mipmaps.length>1;minFilter=this.mipmapFilter&&isMip?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR}return source||"number"!=typeof width||"number"!=typeof height?this.createTexture2D(0,minFilter,magFilter,wrap,wrap,gl.RGBA,source):this.createTexture2D(0,minFilter,magFilter,wrap,wrap,gl.RGBA,null,width,height)},createTexture2D:function(mipLevel,minFilter,magFilter,wrapT,wrapS,format,pixels,width,height,pma,forceSize,flipY){"number"!=typeof width&&(width=pixels?pixels.width:1),"number"!=typeof height&&(height=pixels?pixels.height:1);var texture=new WebGLTextureWrapper(this.gl,mipLevel,minFilter,magFilter,wrapT,wrapS,format,pixels,width,height,pma,forceSize,flipY);return this.glTextureWrappers.push(texture),texture},createFramebuffer:function(width,height,renderTexture,addDepthStencilBuffer){this.currentFramebuffer=null;var framebuffer=new WebGLFramebufferWrapper(this.gl,width,height,renderTexture,addDepthStencilBuffer);return this.glFramebufferWrappers.push(framebuffer),framebuffer},beginBitmapMask:function(bitmapMask,camera){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==bitmapMask&&(this.currentMask.mask=bitmapMask,this.currentMask.camera=camera))},drawBitmapMask:function(bitmapMask,camera,bitmapMaskPipeline){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),bitmapMask.renderWebGL(this,bitmapMask,camera),this.maskSource.unbind(!0),this.maskTarget.unbind();var gl=this.gl,prev=this.getCurrentStencilMask();prev?(gl.enable(gl.STENCIL_TEST),prev.mask.applyStencil(this,prev.camera,!0)):this.currentMask.mask=null,this.pipelines.set(bitmapMaskPipeline),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,this.maskTarget.texture.webGLTexture),gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(vertexShader,fragmentShader){var wrapper=new WebGLProgramWrapper(this.gl,vertexShader,fragmentShader);return this.glProgramWrappers.push(wrapper),wrapper},createVertexBuffer:function(initialDataOrSize,bufferUsage){var gl=this.gl,vertexBuffer=new WebGLBufferWrapper(gl,initialDataOrSize,gl.ARRAY_BUFFER,bufferUsage);return this.glBufferWrappers.push(vertexBuffer),vertexBuffer},createAttribLocation:function(program,name){var attrib=new WebGLAttribLocationWrapper(this.gl,program,name);return this.glAttribLocationWrappers.push(attrib),attrib},createUniformLocation:function(program,name){var uniform=new WebGLUniformLocationWrapper(this.gl,program,name);return this.glUniformLocationWrappers.push(uniform),uniform},createIndexBuffer:function(initialDataOrSize,bufferUsage){var gl=this.gl,indexBuffer=new WebGLBufferWrapper(gl,initialDataOrSize,gl.ELEMENT_ARRAY_BUFFER,bufferUsage);return this.glBufferWrappers.push(indexBuffer),indexBuffer},deleteTexture:function(texture){if(texture)return ArrayRemove(this.glTextureWrappers,texture),texture.destroy(),this},deleteFramebuffer:function(framebuffer){return framebuffer?(ArrayRemove(this.fboStack,framebuffer),ArrayRemove(this.glFramebufferWrappers,framebuffer),framebuffer.destroy(),this):this},deleteProgram:function(program){return program&&(ArrayRemove(this.glProgramWrappers,program),program.destroy()),this},deleteAttribLocation:function(attrib){return attrib&&(ArrayRemove(this.glAttribLocationWrappers,attrib),attrib.destroy()),this},deleteUniformLocation:function(uniform){return uniform&&(ArrayRemove(this.glUniformLocationWrappers,uniform),uniform.destroy()),this},deleteBuffer:function(buffer){return buffer?(ArrayRemove(this.glBufferWrappers,buffer),buffer.destroy(),this):this},preRenderCamera:function(camera){var cx=camera.x,cy=camera.y,cw=camera.width,ch=camera.height,color=camera.backgroundColor;camera.emit(CameraEvents.PRE_RENDER,camera),this.pipelines.preBatchCamera(camera),this.pushScissor(cx,cy,cw,ch),camera.mask&&(this.currentCameraMask.mask=camera.mask,this.currentCameraMask.camera=camera._maskCamera,camera.mask.preRenderWebGL(this,camera,camera._maskCamera)),color.alphaGL>0&&this.pipelines.setMulti().drawFillRect(cx,cy,cw,ch,Utils.getTintFromFloats(color.blueGL,color.greenGL,color.redGL,1),color.alphaGL)},getCurrentStencilMask:function(){var prev=null,stack=this.maskStack,cameraMask=this.currentCameraMask;return stack.length>0?prev=stack[stack.length-1]:cameraMask.mask&&cameraMask.mask.isStencil&&(prev=cameraMask),prev},postRenderCamera:function(camera){var flashEffect=camera.flashEffect,fadeEffect=camera.fadeEffect;if(flashEffect.isRunning||fadeEffect.isRunning||fadeEffect.isComplete){var pipeline=this.pipelines.setMulti();flashEffect.postRenderWebGL(pipeline,Utils.getTintFromFloats),fadeEffect.postRenderWebGL(pipeline,Utils.getTintFromFloats)}camera.dirty=!1,this.popScissor(),camera.mask&&(this.currentCameraMask.mask=null,camera.mask.postRenderWebGL(this,camera._maskCamera)),this.pipelines.postBatchCamera(camera),camera.emit(CameraEvents.POST_RENDER,camera)},preRender:function(){if(!this.contextLost){var gl=this.gl;if(gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.emit(Events2.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var clearColor=this.config.backgroundColor;gl.clearColor(clearColor.redGL,clearColor.greenGL,clearColor.blueGL,clearColor.alphaGL),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT)}gl.enable(gl.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&gl.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(Events2.PRE_RENDER)}},render:function(scene,children,camera){if(!this.contextLost){var childCount=children.length;if(this.emit(Events2.RENDER,scene,camera),this.preRenderCamera(camera),0===childCount)return this.setBlendMode(CONST.BlendModes.NORMAL),void this.postRenderCamera(camera);this.currentType="";for(var current=this.currentMask,i=0;i<childCount;i++){this.finalType=i===childCount-1;var child=children[i],mask=child.mask;(current=this.currentMask).mask&&current.mask!==mask&&current.mask.postRenderWebGL(this,current.camera),mask&&current.mask!==mask&&mask.preRenderWebGL(this,child,camera),child.blendMode!==this.currentBlendMode&&this.setBlendMode(child.blendMode);var type=child.type;type!==this.currentType&&(this.newType=!0,this.currentType=type),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=children[i+1].type===this.currentType,child.renderWebGL(this,child,camera),this.newType=!1}(current=this.currentMask).mask&&current.mask.postRenderWebGL(this,current.camera),this.setBlendMode(CONST.BlendModes.NORMAL),this.postRenderCamera(camera)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(Events2.POST_RENDER);var state=this.snapshotState;state.callback&&(WebGLSnapshot(this.gl,state),state.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var gl=this.gl,current=this.getCurrentStencilMask();if(current){var mask=current.mask;gl.enable(gl.STENCIL_TEST),mask.invertAlpha?gl.stencilFunc(gl.NOTEQUAL,mask.level,255):gl.stencilFunc(gl.EQUAL,mask.level,255)}},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,callback,type,encoderOptions)},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){var state=this.snapshotState;return state.callback=callback,state.type=type,state.encoder=encoderOptions,state.getPixel=!1,state.x=x,state.y=y,state.width=width,state.height=height,this},snapshotPixel:function(x,y,callback){return this.snapshotArea(x,y,1,1,callback),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(framebuffer,bufferWidth,bufferHeight,callback,getPixel,x,y,width,height,type,encoderOptions){void 0===getPixel&&(getPixel=!1),void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=bufferWidth),void 0===height&&(height=bufferHeight),"pixel"===type&&(getPixel=!0,type="image/png");var currentFramebuffer=this.currentFramebuffer;this.snapshotArea(x,y,width,height,callback,type,encoderOptions);var state=this.snapshotState;return state.getPixel=getPixel,state.isFramebuffer=!0,state.bufferWidth=bufferWidth,state.bufferHeight=bufferHeight,state.width=Math.min(state.width,bufferWidth),state.height=Math.min(state.height,bufferHeight),this.setFramebuffer(framebuffer),WebGLSnapshot(this.gl,state),this.setFramebuffer(currentFramebuffer),state.callback=null,state.isFramebuffer=!1,this},canvasToTexture:function(srcCanvas,dstTexture,noRepeat,flipY){void 0===noRepeat&&(noRepeat=!1),void 0===flipY&&(flipY=!1);var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,width=srcCanvas.width,height=srcCanvas.height,wrapping=gl.CLAMP_TO_EDGE,pow=IsSizePowerOfTwo(width,height);return!noRepeat&&pow&&(wrapping=gl.REPEAT),this.config.antialias&&(minFilter=pow&&this.mipmapFilter?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR),dstTexture?(dstTexture.update(srcCanvas,width,height,flipY,wrapping,wrapping,minFilter,magFilter,dstTexture.format),dstTexture):this.createTexture2D(0,minFilter,magFilter,wrapping,wrapping,gl.RGBA,srcCanvas,width,height,!0,!1,flipY)},createCanvasTexture:function(srcCanvas,noRepeat,flipY){return void 0===noRepeat&&(noRepeat=!1),void 0===flipY&&(flipY=!1),this.canvasToTexture(srcCanvas,null,noRepeat,flipY)},updateCanvasTexture:function(srcCanvas,dstTexture,flipY,noRepeat){return void 0===flipY&&(flipY=!1),void 0===noRepeat&&(noRepeat=!1),this.canvasToTexture(srcCanvas,dstTexture,noRepeat,flipY)},videoToTexture:function(srcVideo,dstTexture,noRepeat,flipY){void 0===noRepeat&&(noRepeat=!1),void 0===flipY&&(flipY=!1);var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,width=srcVideo.videoWidth,height=srcVideo.videoHeight,wrapping=gl.CLAMP_TO_EDGE,pow=IsSizePowerOfTwo(width,height);return!noRepeat&&pow&&(wrapping=gl.REPEAT),this.config.antialias&&(minFilter=pow&&this.mipmapFilter?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR),dstTexture?(dstTexture.update(srcVideo,width,height,flipY,wrapping,wrapping,minFilter,magFilter,dstTexture.format),dstTexture):this.createTexture2D(0,minFilter,magFilter,wrapping,wrapping,gl.RGBA,srcVideo,width,height,!0,!0,flipY)},createVideoTexture:function(srcVideo,noRepeat,flipY){return void 0===noRepeat&&(noRepeat=!1),void 0===flipY&&(flipY=!1),this.videoToTexture(srcVideo,null,noRepeat,flipY)},updateVideoTexture:function(srcVideo,dstTexture,flipY,noRepeat){return void 0===flipY&&(flipY=!1),void 0===noRepeat&&(noRepeat=!1),this.videoToTexture(srcVideo,dstTexture,noRepeat,flipY)},createUint8ArrayTexture:function(data,width,height){var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,wrap=gl.CLAMP_TO_EDGE;return IsSizePowerOfTwo(width,height)&&(wrap=gl.REPEAT),this.createTexture2D(0,minFilter,magFilter,wrap,wrap,gl.RGBA,data,width,height)},setTextureFilter:function(texture,filter){var gl=this.gl,glFilter=0===filter?gl.LINEAR:gl.NEAREST;gl.activeTexture(gl.TEXTURE0);var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);return gl.bindTexture(gl.TEXTURE_2D,texture.webGLTexture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,glFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,glFilter),texture.minFilter=glFilter,texture.magFilter=glFilter,currentTexture&&gl.bindTexture(gl.TEXTURE_2D,currentTexture),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var wrapperDestroy=function(wrapper){wrapper.destroy()};ArrayEach(this.glAttribLocationWrappers,wrapperDestroy),ArrayEach(this.glBufferWrappers,wrapperDestroy),ArrayEach(this.glFramebufferWrappers,wrapperDestroy),ArrayEach(this.glProgramWrappers,wrapperDestroy),ArrayEach(this.glTextureWrappers,wrapperDestroy),ArrayEach(this.glUniformLocationWrappers,wrapperDestroy),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});module2.exports=WebGLRenderer},38683:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ArrayEach=__webpack_require__2(95428),GetFastValue=__webpack_require__2(95540),WEBGL_CONST=__webpack_require__2(14500),WebGLShader=new Class({initialize:function WebGLShader2(pipeline,name,vertexShader,fragmentShader,attributes){this.pipeline=pipeline,this.name=name,this.renderer=pipeline.renderer,this.gl=this.renderer.gl,this.fragSrc=fragmentShader,this.vertSrc=vertexShader,this.program=this.renderer.createProgram(vertexShader,fragmentShader),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(attributes),this.createUniforms()},createAttributes:function(attributes){var count=0,offset=0,result=[];this.vertexComponentCount=0;for(var i=0;i<attributes.length;i++){var element=attributes[i],name=element.name,size=GetFastValue(element,"size",1),glType=GetFastValue(element,"type",WEBGL_CONST.FLOAT),type=glType.enum,typeSize=glType.size,normalized=!!element.normalized;result.push({name:name,size:size,type:type,normalized:normalized,offset:offset,enabled:!1,location:-1}),4===typeSize?count+=size:count++,offset+=size*typeSize}this.vertexSize=offset,this.vertexComponentCount=count,this.attributes=result},bind:function(setAttributes,flush){return void 0===setAttributes&&(setAttributes=!1),void 0===flush&&(flush=!1),flush&&this.pipeline.flush(),this.renderer.setProgram(this.program),setAttributes&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(reset){void 0===reset&&(reset=!1);for(var gl=this.gl,renderer=this.renderer,vertexSize=this.vertexSize,attributes=this.attributes,program=this.program,i=0;i<attributes.length;i++){var element=attributes[i],size=element.size,type=element.type,offset=element.offset,enabled=element.enabled,location2=element.location,normalized=!!element.normalized;if(reset){-1!==location2&&renderer.deleteAttribLocation(location2);var attribLocation=this.renderer.createAttribLocation(program,element.name);attribLocation.webGLAttribLocation>=0?(gl.enableVertexAttribArray(attribLocation.webGLAttribLocation),gl.vertexAttribPointer(attribLocation.webGLAttribLocation,size,type,normalized,vertexSize,offset),element.enabled=!0,element.location=attribLocation):-1!==attribLocation.webGLAttribLocation&&gl.disableVertexAttribArray(attribLocation.webGLAttribLocation)}else enabled?gl.vertexAttribPointer(location2.webGLAttribLocation,size,type,normalized,vertexSize,offset):!enabled&&-1!==location2&&location2.webGLAttribLocation>-1&&(gl.disableVertexAttribArray(location2.webGLAttribLocation),element.location=-1)}return this},createUniforms:function(){var i,name,location2,gl=this.gl,program=this.program,uniforms=this.uniforms,totalUniforms=gl.getProgramParameter(program.webGLProgram,gl.ACTIVE_UNIFORMS);for(i=0;i<totalUniforms;i++){var info=gl.getActiveUniform(program.webGLProgram,i);if(info){name=info.name,null!==(location2=this.renderer.createUniformLocation(program,name))&&(uniforms[name]={name:name,location:location2,setter:null,value1:null,value2:null,value3:null,value4:null});var struct=name.indexOf("[");struct>0&&(name=name.substr(0,struct),uniforms.hasOwnProperty(name)||null!==(location2=this.renderer.createUniformLocation(program,name))&&(uniforms[name]={name:name,location:location2,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var gl=this.gl;for(var name in this.renderer.setProgram(this.program),this.uniforms){var uniform=this.uniforms[name];uniform.setter&&uniform.setter.call(gl,uniform.location.webGLUniformLocation,uniform.value1,uniform.value2,uniform.value3,uniform.value4)}},hasUniform:function(name){return this.uniforms.hasOwnProperty(name)},resetUniform:function(name){var uniform=this.uniforms[name];return uniform&&(uniform.value1=null,uniform.value2=null,uniform.value3=null,uniform.value4=null),this},setUniform1:function(setter,name,value1,skipCheck){var uniform=this.uniforms[name];return uniform?((skipCheck||uniform.value1!==value1)&&(uniform.setter||(uniform.setter=setter),uniform.value1=value1,this.renderer.setProgram(this.program),setter.call(this.gl,uniform.location.webGLUniformLocation,value1),this.pipeline.currentShader=this),this):this},setUniform2:function(setter,name,value1,value2,skipCheck){var uniform=this.uniforms[name];return uniform?((skipCheck||uniform.value1!==value1||uniform.value2!==value2)&&(uniform.setter||(uniform.setter=setter),uniform.value1=value1,uniform.value2=value2,this.renderer.setProgram(this.program),setter.call(this.gl,uniform.location.webGLUniformLocation,value1,value2),this.pipeline.currentShader=this),this):this},setUniform3:function(setter,name,value1,value2,value3,skipCheck){var uniform=this.uniforms[name];return uniform?((skipCheck||uniform.value1!==value1||uniform.value2!==value2||uniform.value3!==value3)&&(uniform.setter||(uniform.setter=setter),uniform.value1=value1,uniform.value2=value2,uniform.value3=value3,this.renderer.setProgram(this.program),setter.call(this.gl,uniform.location.webGLUniformLocation,value1,value2,value3),this.pipeline.currentShader=this),this):this},setUniform4:function(setter,name,value1,value2,value3,value4,skipCheck){var uniform=this.uniforms[name];return uniform?((skipCheck||uniform.value1!==value1||uniform.value2!==value2||uniform.value3!==value3||uniform.value4!==value4)&&(uniform.setter||(uniform.setter=setter),uniform.value1=value1,uniform.value2=value2,uniform.value3=value3,uniform.value4=value4,this.renderer.setProgram(this.program),setter.call(this.gl,uniform.location.webGLUniformLocation,value1,value2,value3,value4),this.pipeline.currentShader=this),this):this},setBoolean:function(name,value){return this.setUniform1(this.gl.uniform1i,name,Number(value))},set1f:function(name,x){return this.setUniform1(this.gl.uniform1f,name,x)},set2f:function(name,x,y){return this.setUniform2(this.gl.uniform2f,name,x,y)},set3f:function(name,x,y,z2){return this.setUniform3(this.gl.uniform3f,name,x,y,z2)},set4f:function(name,x,y,z2,w){return this.setUniform4(this.gl.uniform4f,name,x,y,z2,w)},set1fv:function(name,arr){return this.setUniform1(this.gl.uniform1fv,name,arr,!0)},set2fv:function(name,arr){return this.setUniform1(this.gl.uniform2fv,name,arr,!0)},set3fv:function(name,arr){return this.setUniform1(this.gl.uniform3fv,name,arr,!0)},set4fv:function(name,arr){return this.setUniform1(this.gl.uniform4fv,name,arr,!0)},set1iv:function(name,arr){return this.setUniform1(this.gl.uniform1iv,name,arr,!0)},set2iv:function(name,arr){return this.setUniform1(this.gl.uniform2iv,name,arr,!0)},set3iv:function(name,arr){return this.setUniform1(this.gl.uniform3iv,name,arr,!0)},set4iv:function(name,arr){return this.setUniform1(this.gl.uniform4iv,name,arr,!0)},set1i:function(name,x){return this.setUniform1(this.gl.uniform1i,name,x)},set2i:function(name,x,y){return this.setUniform2(this.gl.uniform2i,name,x,y)},set3i:function(name,x,y,z2){return this.setUniform3(this.gl.uniform3i,name,x,y,z2)},set4i:function(name,x,y,z2,w){return this.setUniform4(this.gl.uniform4i,name,x,y,z2,w)},setMatrix2fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix2fv,name,transpose,matrix,!0)},setMatrix3fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix3fv,name,transpose,matrix,!0)},setMatrix4fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix4fv,name,transpose,matrix,!0)},createProgram:function(vertSrc,fragSrc){return void 0===vertSrc&&(vertSrc=this.vertSrc),void 0===fragSrc&&(fragSrc=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=vertSrc,this.fragSrc=fragSrc,this.program=this.renderer.createProgram(vertSrc,fragSrc),this.createUniforms(),this.rebind()},destroy:function(){var renderer=this.renderer;ArrayEach(this.uniforms,(function(uniform){renderer.deleteUniformLocation(uniform.location)})),this.uniforms=null,ArrayEach(this.attributes,(function(attrib){renderer.deleteAttribLocation(attrib.location)})),this.attributes=null,renderer.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});module2.exports=WebGLShader},14500:module2=>{module2.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WEBGL_CONST=__webpack_require__2(14500),Extend=__webpack_require__2(79291),WebGL={PipelineManager:__webpack_require__2(7530),Pipelines:__webpack_require__2(96615),RenderTarget:__webpack_require__2(32302),Utils:__webpack_require__2(70554),WebGLPipeline:__webpack_require__2(29100),WebGLRenderer:__webpack_require__2(74797),WebGLShader:__webpack_require__2(38683),Wrappers:__webpack_require__2(9503)};WebGL=Extend(!1,WebGL,WEBGL_CONST),module2.exports=WebGL},31302:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),ShaderSourceFS=__webpack_require__2(78908),ShaderSourceVS=__webpack_require__2(85191),WEBGL_CONST=__webpack_require__2(14500),WebGLPipeline=__webpack_require__2(29100),BitmapMaskPipeline=new Class({Extends:WebGLPipeline,initialize:function BitmapMaskPipeline2(config2){config2.fragShader=GetFastValue(config2,"fragShader",ShaderSourceFS),config2.vertShader=GetFastValue(config2,"vertShader",ShaderSourceVS),config2.batchSize=GetFastValue(config2,"batchSize",1),config2.vertices=GetFastValue(config2,"vertices",[-1,1,-1,-7,7,1]),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2,type:WEBGL_CONST.FLOAT}]),WebGLPipeline.call(this,config2)},boot:function(){WebGLPipeline.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(width,height){WebGLPipeline.prototype.resize.call(this,width,height),this.set2f("uResolution",width,height)},beginMask:function(mask,maskedObject,camera){this.renderer.beginBitmapMask(mask,camera)},endMask:function(mask,camera,renderTarget){var gl=this.gl,renderer=this.renderer,bitmapMask=mask.bitmapMask;bitmapMask&&gl&&(renderer.drawBitmapMask(bitmapMask,camera,this),renderTarget&&this.set2f("uResolution",renderTarget.width,renderTarget.height),this.set1i("uInvertMaskAlpha",mask.invertAlpha),gl.drawArrays(this.topology,0,3),renderTarget&&this.set2f("uResolution",this.width,this.height),gl.bindTexture(gl.TEXTURE_2D,null))}});module2.exports=BitmapMaskPipeline},92651:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),FX=__webpack_require__2(58918),FX_CONST=__webpack_require__2(14811),GetFastValue=__webpack_require__2(95540),PreFXPipeline=__webpack_require__2(43558),Shaders=__webpack_require__2(89350),Utils=__webpack_require__2(70554),FXPipeline=new Class({Extends:PreFXPipeline,initialize:function FXPipeline2(config2){config2.shaders=[Utils.setGlowQuality(Shaders.FXGlowFrag,config2.game),Shaders.FXShadowFrag,Shaders.FXPixelateFrag,Shaders.FXVignetteFrag,Shaders.FXShineFrag,Shaders.FXBlurLowFrag,Shaders.FXBlurMedFrag,Shaders.FXBlurHighFrag,Shaders.FXGradientFrag,Shaders.FXBloomFrag,Shaders.ColorMatrixFrag,Shaders.FXCircleFrag,Shaders.FXBarrelFrag,Shaders.FXDisplacementFrag,Shaders.FXWipeFrag,Shaders.FXBokehFrag],PreFXPipeline.call(this,config2);var game=this.game;this.glow=new FX.Glow(game),this.shadow=new FX.Shadow(game),this.pixelate=new FX.Pixelate(game),this.vignette=new FX.Vignette(game),this.shine=new FX.Shine(game),this.gradient=new FX.Gradient(game),this.circle=new FX.Circle(game),this.barrel=new FX.Barrel(game),this.wipe=new FX.Wipe(game),this.bokeh=new FX.Bokeh(game);var fxHandlers=[];fxHandlers[FX_CONST.GLOW]=this.onGlow,fxHandlers[FX_CONST.SHADOW]=this.onShadow,fxHandlers[FX_CONST.PIXELATE]=this.onPixelate,fxHandlers[FX_CONST.VIGNETTE]=this.onVignette,fxHandlers[FX_CONST.SHINE]=this.onShine,fxHandlers[FX_CONST.BLUR]=this.onBlur,fxHandlers[FX_CONST.GRADIENT]=this.onGradient,fxHandlers[FX_CONST.BLOOM]=this.onBloom,fxHandlers[FX_CONST.COLOR_MATRIX]=this.onColorMatrix,fxHandlers[FX_CONST.CIRCLE]=this.onCircle,fxHandlers[FX_CONST.BARREL]=this.onBarrel,fxHandlers[FX_CONST.DISPLACEMENT]=this.onDisplacement,fxHandlers[FX_CONST.WIPE]=this.onWipe,fxHandlers[FX_CONST.BOKEH]=this.onBokeh,this.fxHandlers=fxHandlers,this.source,this.target,this.swap},onDraw:function(target1,target2,target3){this.source=target1,this.target=target2,this.swap=target3;var width=target1.width,height=target1.height,sprite=this.tempSprite,handlers=this.fxHandlers;if(sprite&&sprite.preFX)for(var fx=sprite.preFX.list,i=0;i<fx.length;i++){var controller=fx[i];controller.active&&handlers[controller.type].call(this,controller,width,height)}this.drawToGame(this.source)},runDraw:function(){var source=this.source,target2=this.target;this.copy(source,target2),this.source=target2,this.target=source},onGlow:function(config2,width,height){var shader=this.shaders[FX_CONST.GLOW];this.setShader(shader),this.glow.onPreRender(config2,shader,width,height),this.runDraw()},onShadow:function(config2){var shader=this.shaders[FX_CONST.SHADOW];this.setShader(shader),this.shadow.onPreRender(config2,shader),this.runDraw()},onPixelate:function(config2,width,height){var shader=this.shaders[FX_CONST.PIXELATE];this.setShader(shader),this.pixelate.onPreRender(config2,shader,width,height),this.runDraw()},onVignette:function(config2){var shader=this.shaders[FX_CONST.VIGNETTE];this.setShader(shader),this.vignette.onPreRender(config2,shader),this.runDraw()},onShine:function(config2,width,height){var shader=this.shaders[FX_CONST.SHINE];this.setShader(shader),this.shine.onPreRender(config2,shader,width,height),this.runDraw()},onBlur:function(config2,width,height){var quality=GetFastValue(config2,"quality"),shader=this.shaders[FX_CONST.BLUR+quality];this.setShader(shader),this.set1i("uMainSampler",0),this.set2f("resolution",width,height),this.set1f("strength",GetFastValue(config2,"strength")),this.set3fv("color",GetFastValue(config2,"glcolor"));for(var x=GetFastValue(config2,"x"),y=GetFastValue(config2,"y"),steps=GetFastValue(config2,"steps"),i=0;i<steps;i++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(config2){var shader=this.shaders[FX_CONST.GRADIENT];this.setShader(shader),this.gradient.onPreRender(config2,shader),this.runDraw()},onBloom:function(config2,width,height){var shader=this.shaders[FX_CONST.BLOOM];this.copySprite(this.source,this.swap),this.setShader(shader),this.set1i("uMainSampler",0),this.set1f("strength",GetFastValue(config2,"blurStrength")),this.set3fv("color",GetFastValue(config2,"glcolor"));for(var x=2/width*GetFastValue(config2,"offsetX"),y=2/height*GetFastValue(config2,"offsetY"),steps=GetFastValue(config2,"steps"),i=0;i<steps;i++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,GetFastValue(config2,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(config2){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",config2.getData()),this.set1f("uAlpha",config2.alpha),this.runDraw()},onCircle:function(config2,width,height){var shader=this.shaders[FX_CONST.CIRCLE];this.setShader(shader),this.circle.onPreRender(config2,shader,width,height),this.runDraw()},onBarrel:function(config2){var shader=this.shaders[FX_CONST.BARREL];this.setShader(shader),this.barrel.onPreRender(config2,shader),this.runDraw()},onDisplacement:function(config2){this.setShader(this.shaders[FX_CONST.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",config2.x,config2.y),this.bindTexture(config2.glTexture,1),this.runDraw()},onWipe:function(config2){var shader=this.shaders[FX_CONST.WIPE];this.setShader(shader),this.wipe.onPreRender(config2,shader),this.runDraw()},onBokeh:function(config2,width,height){var shader=this.shaders[FX_CONST.BOKEH];this.setShader(shader),this.bokeh.onPreRender(config2,shader,width,height),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,PreFXPipeline.prototype.destroy.call(this),this}});module2.exports=FXPipeline},96569:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),LightShaderSourceFS=__webpack_require__2(31063),MultiPipeline=__webpack_require__2(57516),TransformMatrix=__webpack_require__2(61340),Vec2=__webpack_require__2(26099),WebGLPipeline=__webpack_require__2(29100),LightPipeline=new Class({Extends:MultiPipeline,initialize:function LightPipeline2(config2){var fragShader=GetFastValue(config2,"fragShader",LightShaderSourceFS);config2.fragShader=fragShader.replace("%LIGHT_COUNT%",config2.game.renderer.config.maxLights),MultiPipeline.call(this,config2),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new Vec2,this._tempMatrix=new TransformMatrix,this._tempMatrix2=new TransformMatrix},boot:function(){WebGLPipeline.prototype.boot.call(this)},onRender:function(scene,camera){var lightManager=scene.sys.lights;if(this.lightsActive=!1,lightManager&&lightManager.active){var i,lights=lightManager.getLights(camera),lightsCount=lights.length;this.lightsActive=!0;var height=this.renderer.height,cameraMatrix=camera.matrix,tempVec2=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",camera.x,camera.y,camera.rotation,camera.zoom),this.set3f("uAmbientLightColor",lightManager.ambientColor.r,lightManager.ambientColor.g,lightManager.ambientColor.b),this.set1i("uLightCount",lightsCount),i=0;i<lightsCount;i++){var light=lights[i].light,color=light.color,lightName="uLights["+i+"].";cameraMatrix.transformPoint(light.x,light.y,tempVec2),this.set2f(lightName+"position",tempVec2.x-camera.scrollX*light.scrollFactorX*camera.zoom,height-(tempVec2.y-camera.scrollY*light.scrollFactorY*camera.zoom)),this.set3f(lightName+"color",color.r,color.g,color.b),this.set1f(lightName+"intensity",light.intensity),this.set1f(lightName+"radius",light.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(rotation){if(rotation!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var inverseRotationMatrix=this.inverseRotationMatrix;if(rotation){var rot=-rotation,c=Math.cos(rot),s=Math.sin(rot);inverseRotationMatrix[1]=s,inverseRotationMatrix[3]=-s,inverseRotationMatrix[0]=inverseRotationMatrix[4]=c}else inverseRotationMatrix[0]=inverseRotationMatrix[4]=1,inverseRotationMatrix[1]=inverseRotationMatrix[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,inverseRotationMatrix),this.currentNormalMapRotation=rotation}},setTexture2D:function(texture,gameObject){var renderer=this.renderer;void 0===texture&&(texture=renderer.whiteTexture);var normalMap=this.getNormalMap(gameObject);this.isNewNormalMap(texture,normalMap)&&(this.flush(),this.createBatch(texture),this.addTextureToBatch(normalMap),this.currentNormalMap=normalMap);var rotation=0;return gameObject&&gameObject.parentContainer?rotation=gameObject.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:gameObject&&(rotation=gameObject.rotation),null===this.currentBatch&&(this.createBatch(texture),this.addTextureToBatch(normalMap)),this.setNormalMapRotation(rotation),0},setGameObject:function(gameObject,frame){void 0===frame&&(frame=gameObject.frame);var texture=frame.glTexture,normalMap=this.getNormalMap(gameObject);if(this.isNewNormalMap(texture,normalMap)&&(this.flush(),this.createBatch(texture),this.addTextureToBatch(normalMap),this.currentNormalMap=normalMap),gameObject.parentContainer){var matrix=gameObject.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(matrix.rotationNormalized)}else this.setNormalMapRotation(gameObject.rotation);return null===this.currentBatch&&(this.createBatch(texture),this.addTextureToBatch(normalMap)),0},isNewNormalMap:function(texture,normalMap){return this.currentTexture!==texture||this.currentNormalMap!==normalMap},getNormalMap:function(gameObject){var normalMap;return gameObject?(gameObject.displayTexture?normalMap=gameObject.displayTexture.dataSource[gameObject.displayFrame.sourceIndex]:gameObject.texture?normalMap=gameObject.texture.dataSource[gameObject.frame.sourceIndex]:gameObject.tileset&&(normalMap=Array.isArray(gameObject.tileset)?gameObject.tileset[0].image.dataSource[0]:gameObject.tileset.image.dataSource[0]),normalMap?normalMap.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(gameObject,camera,parentTransformMatrix){this.lightsActive&&MultiPipeline.prototype.batchSprite.call(this,gameObject,camera,parentTransformMatrix)},batchTexture:function(gameObject,texture,textureWidth,textureHeight,srcX,srcY,srcWidth,srcHeight,scaleX,scaleY,rotation,flipX,flipY,scrollFactorX,scrollFactorY,displayOriginX,displayOriginY,frameX,frameY,frameWidth,frameHeight,tintTL,tintTR,tintBL,tintBR,tintEffect,uOffset,vOffset,camera,parentTransformMatrix,skipFlip,textureUnit){this.lightsActive&&MultiPipeline.prototype.batchTexture.call(this,gameObject,texture,textureWidth,textureHeight,srcX,srcY,srcWidth,srcHeight,scaleX,scaleY,rotation,flipX,flipY,scrollFactorX,scrollFactorY,displayOriginX,displayOriginY,frameX,frameY,frameWidth,frameHeight,tintTL,tintTR,tintBL,tintBR,tintEffect,uOffset,vOffset,camera,parentTransformMatrix,skipFlip,textureUnit)},batchTextureFrame:function(frame,x,y,tint,alpha,transformMatrix,parentTransformMatrix){this.lightsActive&&MultiPipeline.prototype.batchTextureFrame.call(this,frame,x,y,tint,alpha,transformMatrix,parentTransformMatrix)}});module2.exports=LightPipeline},56527:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),MultiPipeline=__webpack_require__2(57516),ShaderSourceFS=__webpack_require__2(45561),ShaderSourceVS=__webpack_require__2(60722),WEBGL_CONST=__webpack_require__2(14500),WebGLPipeline=__webpack_require__2(29100),MobilePipeline=new Class({Extends:MultiPipeline,initialize:function MobilePipeline2(config2){config2.fragShader=GetFastValue(config2,"fragShader",ShaderSourceFS),config2.vertShader=GetFastValue(config2,"vertShader",ShaderSourceVS),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:WEBGL_CONST.UNSIGNED_BYTE,normalized:!0}]),config2.forceZero=!0,config2.resizeUniform="uResolution",MultiPipeline.call(this,config2)},boot:function(){WebGLPipeline.prototype.boot.call(this);var renderer=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",renderer.width,renderer.height)}});module2.exports=MobilePipeline},57516:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Earcut=__webpack_require__2(94811),GetFastValue=__webpack_require__2(95540),ShaderSourceFS=__webpack_require__2(98840),ShaderSourceVS=__webpack_require__2(44667),TransformMatrix=__webpack_require__2(61340),Utils=__webpack_require__2(70554),WEBGL_CONST=__webpack_require__2(14500),WebGLPipeline=__webpack_require__2(29100),MultiPipeline=new Class({Extends:WebGLPipeline,initialize:function MultiPipeline2(config2){var renderer=config2.game.renderer,fragmentShaderSource=GetFastValue(config2,"fragShader",ShaderSourceFS);config2.fragShader=Utils.parseFragmentShaderMaxTextures(fragmentShaderSource,renderer.maxTextures),config2.vertShader=GetFastValue(config2,"vertShader",ShaderSourceVS),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:WEBGL_CONST.UNSIGNED_BYTE,normalized:!0}]),config2.resizeUniform="uResolution",WebGLPipeline.call(this,config2),this._tempMatrix1=new TransformMatrix,this._tempMatrix2=new TransformMatrix,this._tempMatrix3=new TransformMatrix,this.calcMatrix=new TransformMatrix,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){WebGLPipeline.prototype.boot.call(this);var renderer=this.renderer;this.set1iv("uMainSampler",renderer.textureIndexes),this.set2f("uResolution",renderer.width,renderer.height)},batchSprite:function(gameObject,camera,parentTransformMatrix){this.manager.set(this,gameObject);var camMatrix=this._tempMatrix1,spriteMatrix=this._tempMatrix2,calcMatrix=this._tempMatrix3,frame=gameObject.frame,texture=frame.glTexture,u0=frame.u0,v0=frame.v0,u1=frame.u1,v1=frame.v1,frameX=frame.x,frameY=frame.y,frameWidth=frame.cutWidth,frameHeight=frame.cutHeight,customPivot=frame.customPivot,displayOriginX=gameObject.displayOriginX,displayOriginY=gameObject.displayOriginY,x=-displayOriginX+frameX,y=-displayOriginY+frameY;if(gameObject.isCropped){var crop=gameObject._crop;crop.flipX===gameObject.flipX&&crop.flipY===gameObject.flipY||frame.updateCropUVs(crop,gameObject.flipX,gameObject.flipY),u0=crop.u0,v0=crop.v0,u1=crop.u1,v1=crop.v1,frameWidth=crop.width,frameHeight=crop.height,x=-displayOriginX+(frameX=crop.x),y=-displayOriginY+(frameY=crop.y)}var flipX=1,flipY=1;gameObject.flipX&&(customPivot||(x+=-frame.realWidth+2*displayOriginX),flipX=-1),gameObject.flipY&&(customPivot||(y+=-frame.realHeight+2*displayOriginY),flipY=-1);var gx=gameObject.x,gy=gameObject.y;camera.roundPixels&&(gx=Math.floor(gx),gy=Math.floor(gy)),spriteMatrix.applyITRS(gx,gy,gameObject.rotation,gameObject.scaleX*flipX,gameObject.scaleY*flipY),camMatrix.copyFrom(camera.matrix),parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,-camera.scrollX*gameObject.scrollFactorX,-camera.scrollY*gameObject.scrollFactorY),spriteMatrix.e=gx,spriteMatrix.f=gy):(spriteMatrix.e-=camera.scrollX*gameObject.scrollFactorX,spriteMatrix.f-=camera.scrollY*gameObject.scrollFactorY),camMatrix.multiply(spriteMatrix,calcMatrix);var quad=calcMatrix.setQuad(x,y,x+frameWidth,y+frameHeight,camera.renderRoundPixels),getTint=Utils.getTintAppendFloatAlpha,cameraAlpha=camera.alpha,tintTL=getTint(gameObject.tintTopLeft,cameraAlpha*gameObject._alphaTL),tintTR=getTint(gameObject.tintTopRight,cameraAlpha*gameObject._alphaTR),tintBL=getTint(gameObject.tintBottomLeft,cameraAlpha*gameObject._alphaBL),tintBR=getTint(gameObject.tintBottomRight,cameraAlpha*gameObject._alphaBR);this.shouldFlush(6)&&this.flush();var unit=this.setGameObject(gameObject,frame);this.manager.preBatch(gameObject),this.batchQuad(gameObject,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,gameObject.tintFill,texture,unit),this.manager.postBatch(gameObject)},batchTexture:function(gameObject,texture,textureWidth,textureHeight,srcX,srcY,srcWidth,srcHeight,scaleX,scaleY,rotation,flipX,flipY,scrollFactorX,scrollFactorY,displayOriginX,displayOriginY,frameX,frameY,frameWidth,frameHeight,tintTL,tintTR,tintBL,tintBR,tintEffect,uOffset,vOffset,camera,parentTransformMatrix,skipFlip,textureUnit,skipPrePost){void 0===skipPrePost&&(skipPrePost=!1),this.manager.set(this,gameObject);var camMatrix=this._tempMatrix1,spriteMatrix=this._tempMatrix2,calcMatrix=this._tempMatrix3,u0=frameX/textureWidth+uOffset,v0=frameY/textureHeight+vOffset,u1=(frameX+frameWidth)/textureWidth+uOffset,v1=(frameY+frameHeight)/textureHeight+vOffset,width=srcWidth,height=srcHeight,x=-displayOriginX,y=-displayOriginY;if(gameObject.isCropped){var crop=gameObject._crop,cropWidth=crop.width,cropHeight=crop.height;width=cropWidth,height=cropHeight,srcWidth=cropWidth,srcHeight=cropHeight;var ox=frameX=crop.x,oy=frameY=crop.y;flipX&&(ox=frameWidth-crop.x-cropWidth),flipY&&(oy=frameHeight-crop.y-cropHeight),u0=ox/textureWidth+uOffset,v0=oy/textureHeight+vOffset,u1=(ox+cropWidth)/textureWidth+uOffset,v1=(oy+cropHeight)/textureHeight+vOffset,x=-displayOriginX+frameX,y=-displayOriginY+frameY}flipX&&(width*=-1,x+=srcWidth),(flipY^=!skipFlip&&texture.isRenderTexture?1:0)&&(height*=-1,y+=srcHeight),camera.roundPixels&&(srcX=Math.floor(srcX),srcY=Math.floor(srcY)),spriteMatrix.applyITRS(srcX,srcY,rotation,scaleX,scaleY),camMatrix.copyFrom(camera.matrix),parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,-camera.scrollX*scrollFactorX,-camera.scrollY*scrollFactorY),spriteMatrix.e=srcX,spriteMatrix.f=srcY):(spriteMatrix.e-=camera.scrollX*scrollFactorX,spriteMatrix.f-=camera.scrollY*scrollFactorY),camMatrix.multiply(spriteMatrix,calcMatrix);var quad=calcMatrix.setQuad(x,y,x+width,y+height,camera.renderRoundPixels);null==textureUnit&&(textureUnit=this.setTexture2D(texture)),gameObject&&!skipPrePost&&this.manager.preBatch(gameObject),this.batchQuad(gameObject,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit),gameObject&&!skipPrePost&&this.manager.postBatch(gameObject)},batchTextureFrame:function(frame,x,y,tint,alpha,transformMatrix,parentTransformMatrix){this.manager.set(this);var spriteMatrix=this._tempMatrix1.copyFrom(transformMatrix),calcMatrix=this._tempMatrix2;parentTransformMatrix?spriteMatrix.multiply(parentTransformMatrix,calcMatrix):calcMatrix=spriteMatrix;var quad=calcMatrix.setQuad(x,y,x+frame.width,y+frame.height),unit=this.setTexture2D(frame.source.glTexture);tint=Utils.getTintAppendFloatAlpha(tint,alpha),this.batchQuad(null,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],frame.u0,frame.v0,frame.u1,frame.v1,tint,tint,tint,tint,0,frame.glTexture,unit)},batchFillRect:function(x,y,width,height,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);var quad=calcMatrix.setQuad(x,y,x+width,y+height),tint=this.fillTint;this.batchQuad(null,quad[0],quad[1],quad[2],quad[3],quad[4],quad[5],quad[6],quad[7],0,0,1,1,tint.TL,tint.TR,tint.BL,tint.BR,2)},batchFillTriangle:function(x0,y0,x1,y1,x2,y2,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);var tx0=calcMatrix.getX(x0,y0),ty0=calcMatrix.getY(x0,y0),tx1=calcMatrix.getX(x1,y1),ty1=calcMatrix.getY(x1,y1),tx2=calcMatrix.getX(x2,y2),ty2=calcMatrix.getY(x2,y2),tint=this.fillTint;this.batchTri(null,tx0,ty0,tx1,ty1,tx2,ty2,0,0,1,1,tint.TL,tint.TR,tint.BL,2)},batchStrokeTriangle:function(x0,y0,x1,y1,x2,y2,lineWidth,currentMatrix,parentMatrix){var tempTriangle=this.tempTriangle;tempTriangle[0].x=x0,tempTriangle[0].y=y0,tempTriangle[0].width=lineWidth,tempTriangle[1].x=x1,tempTriangle[1].y=y1,tempTriangle[1].width=lineWidth,tempTriangle[2].x=x2,tempTriangle[2].y=y2,tempTriangle[2].width=lineWidth,tempTriangle[3].x=x0,tempTriangle[3].y=y0,tempTriangle[3].width=lineWidth,this.batchStrokePath(tempTriangle,lineWidth,!1,currentMatrix,parentMatrix)},batchFillPath:function(path,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);for(var polygonIndexArray,point,length=path.length,polygonCache=this.polygonCache,tintTL=this.fillTint.TL,tintTR=this.fillTint.TR,tintBL=this.fillTint.BL,pathIndex=0;pathIndex<length;++pathIndex)point=path[pathIndex],polygonCache.push(point.x,point.y);length=(polygonIndexArray=Earcut(polygonCache)).length;for(var index=0;index<length;index+=3){var p0=2*polygonIndexArray[index+0],p1=2*polygonIndexArray[index+1],p2=2*polygonIndexArray[index+2],x0=polygonCache[p0+0],y0=polygonCache[p0+1],x1=polygonCache[p1+0],y1=polygonCache[p1+1],x2=polygonCache[p2+0],y2=polygonCache[p2+1],tx0=calcMatrix.getX(x0,y0),ty0=calcMatrix.getY(x0,y0),tx1=calcMatrix.getX(x1,y1),ty1=calcMatrix.getY(x1,y1),tx2=calcMatrix.getX(x2,y2),ty2=calcMatrix.getY(x2,y2);this.batchTri(null,tx0,ty0,tx1,ty1,tx2,ty2,0,0,1,1,tintTL,tintTR,tintBL,2)}polygonCache.length=0},batchStrokePath:function(path,lineWidth,pathOpen,currentMatrix,parentMatrix){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var pathLength=path.length-1,pathIndex=0;pathIndex<pathLength;pathIndex++){var point0=path[pathIndex],point1=path[pathIndex+1];this.batchLine(point0.x,point0.y,point1.x,point1.y,point0.width/2,point1.width/2,lineWidth,pathIndex,!pathOpen&&pathIndex===pathLength-1,currentMatrix,parentMatrix)}},batchLine:function(ax,ay,bx,by,aLineWidth,bLineWidth,lineWidth,index,closePath,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);var dx=bx-ax,dy=by-ay,len=Math.sqrt(dx*dx+dy*dy);if(0!==len){var al0=aLineWidth*(by-ay)/len,al1=aLineWidth*(ax-bx)/len,bl0=bLineWidth*(by-ay)/len,bl1=bLineWidth*(ax-bx)/len,lx0=bx-bl0,ly0=by-bl1,lx1=ax-al0,ly1=ay-al1,lx2=bx+bl0,ly2=by+bl1,lx3=ax+al0,ly3=ay+al1,brX=calcMatrix.getX(lx0,ly0),brY=calcMatrix.getY(lx0,ly0),blX=calcMatrix.getX(lx1,ly1),blY=calcMatrix.getY(lx1,ly1),trX=calcMatrix.getX(lx2,ly2),trY=calcMatrix.getY(lx2,ly2),tlX=calcMatrix.getX(lx3,ly3),tlY=calcMatrix.getY(lx3,ly3),tint=this.strokeTint,tintTL=tint.TL,tintTR=tint.TR,tintBL=tint.BL,tintBR=tint.BR;if(this.batchQuad(null,tlX,tlY,blX,blY,brX,brY,trX,trY,0,0,1,1,tintTL,tintTR,tintBL,tintBR,2),!(lineWidth<=2)){var prev=this.prevQuad,first=this.firstQuad;index>0&&prev[4]?this.batchQuad(null,tlX,tlY,blX,blY,prev[0],prev[1],prev[2],prev[3],0,0,1,1,tintTL,tintTR,tintBL,tintBR,2):(first[0]=tlX,first[1]=tlY,first[2]=blX,first[3]=blY,first[4]=1),closePath&&first[4]?this.batchQuad(null,brX,brY,trX,trY,first[0],first[1],first[2],first[3],0,0,1,1,tintTL,tintTR,tintBL,tintBR,2):(prev[0]=brX,prev[1]=brY,prev[2]=trX,prev[3]=trY,prev[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,WebGLPipeline.prototype.destroy.call(this),this}});module2.exports=MultiPipeline},43439:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),PointLightShaderSourceFS=__webpack_require__2(4127),PointLightShaderSourceVS=__webpack_require__2(89924),WebGLPipeline=__webpack_require__2(29100),PointLightPipeline=new Class({Extends:WebGLPipeline,initialize:function PointLightPipeline2(config2){config2.vertShader=GetFastValue(config2,"vertShader",PointLightShaderSourceVS),config2.fragShader=GetFastValue(config2,"fragShader",PointLightShaderSourceFS),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),WebGLPipeline.call(this,config2)},onRender:function(scene,camera){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",camera.zoom)},batchPointLight:function(light,camera,x0,y0,x1,y1,x2,y2,x3,y3,lightX,lightY){var color=light.color,intensity=light.intensity,radius=light.radius,attenuation=light.attenuation,r=color.r*intensity,g=color.g*intensity,b=color.b*intensity,a=camera.alpha*light.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(x0,y0,lightX,lightY,radius,attenuation,r,g,b,a),this.batchLightVert(x1,y1,lightX,lightY,radius,attenuation,r,g,b,a),this.batchLightVert(x2,y2,lightX,lightY,radius,attenuation,r,g,b,a),this.batchLightVert(x0,y0,lightX,lightY,radius,attenuation,r,g,b,a),this.batchLightVert(x2,y2,lightX,lightY,radius,attenuation,r,g,b,a),this.batchLightVert(x3,y3,lightX,lightY,radius,attenuation,r,g,b,a),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(x,y,lightX,lightY,radius,attenuation,r,g,b,a){var vertexViewF32=this.vertexViewF32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;vertexViewF32[++vertexOffset]=x,vertexViewF32[++vertexOffset]=y,vertexViewF32[++vertexOffset]=lightX,vertexViewF32[++vertexOffset]=lightY,vertexViewF32[++vertexOffset]=radius,vertexViewF32[++vertexOffset]=attenuation,vertexViewF32[++vertexOffset]=r,vertexViewF32[++vertexOffset]=g,vertexViewF32[++vertexOffset]=b,vertexViewF32[++vertexOffset]=a,this.vertexCount++}});module2.exports=PointLightPipeline},84057:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ColorMatrix=__webpack_require__2(89422),GetFastValue=__webpack_require__2(95540),ShaderSourceFS=__webpack_require__2(27681),ShaderSourceVS=__webpack_require__2(49627),WebGLPipeline=__webpack_require__2(29100),PostFXPipeline=new Class({Extends:WebGLPipeline,initialize:function PostFXPipeline2(config2){config2.renderTarget=GetFastValue(config2,"renderTarget",1),config2.fragShader=GetFastValue(config2,"fragShader",ShaderSourceFS),config2.vertShader=GetFastValue(config2,"vertShader",ShaderSourceVS),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),config2.batchSize=1,config2.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],WebGLPipeline.call(this,config2),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new ColorMatrix,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){WebGLPipeline.prototype.boot.call(this);var utility=this.manager.UTILITY_PIPELINE;this.fullFrame1=utility.fullFrame1,this.fullFrame2=utility.fullFrame2,this.halfFrame1=utility.halfFrame1,this.halfFrame2=utility.halfFrame2;var renderer=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",renderer.width,renderer.height);for(var targets=this.renderTargets,i=0;i<targets.length;i++)targets[i].autoResize=!0},postBatch:function(gameObject){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(gameObject),this},onDraw:function(renderTarget){this.bindAndDraw(renderTarget)},getController:function(controller){return void 0!==controller?controller:this.controller?this.controller:this},copySprite:function(source,target2,reset){void 0===reset&&(reset=!1);var gl=this.gl;gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture);var currentFBO=gl.getParameter(gl.FRAMEBUFFER_BINDING);gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),reset&&(gl.bindTexture(gl.TEXTURE_2D,null),gl.bindFramebuffer(gl.FRAMEBUFFER,currentFBO))},copyFrame:function(source,target2,brightness,clear,clearAlpha){this.manager.copyFrame(source,target2,brightness,clear,clearAlpha)},copyToGame:function(source){this.manager.copyToGame(source)},drawFrame:function(source,target2,clearAlpha){this.manager.drawFrame(source,target2,clearAlpha,this.colorMatrix)},blendFrames:function(source1,source2,target2,strength,clearAlpha){this.manager.blendFrames(source1,source2,target2,strength,clearAlpha)},blendFramesAdditive:function(source1,source2,target2,strength,clearAlpha){this.manager.blendFramesAdditive(source1,source2,target2,strength,clearAlpha)},clearFrame:function(target2,clearAlpha){this.manager.clearFrame(target2,clearAlpha)},blitFrame:function(source,target2,brightness,clear,clearAlpha,eraseMode){this.manager.blitFrame(source,target2,brightness,clear,clearAlpha,eraseMode)},copyFrameRect:function(source,target2,x,y,width,height,clear,clearAlpha){this.manager.copyFrameRect(source,target2,x,y,width,height,clear,clearAlpha)},bindAndDraw:function(source,target2,clear,clearAlpha,currentShader){void 0===clear&&(clear=!0),void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl,renderer=this.renderer;this.bind(currentShader),this.set1i("uMainSampler",0),target2?(gl.viewport(0,0,target2.width,target2.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT))):(renderer.popFramebuffer(!1,!1),renderer.currentFramebuffer||gl.viewport(0,0,renderer.width,renderer.height)),renderer.restoreStencilMask(),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),target2&&(gl.bindTexture(gl.TEXTURE_2D,null),gl.bindFramebuffer(gl.FRAMEBUFFER,renderer.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),WebGLPipeline.prototype.destroy.call(this),this}});module2.exports=PostFXPipeline},43558:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),CenterOn=__webpack_require__2(67502),Class=__webpack_require__2(83419),ColorMatrixFS=__webpack_require__2(96293),GetFastValue=__webpack_require__2(95540),MultiPipeline=__webpack_require__2(57516),PostFXFS=__webpack_require__2(27681),Rectangle=__webpack_require__2(87841),RenderTarget=__webpack_require__2(32302),SingleQuadFS=__webpack_require__2(45561),SingleQuadVS=__webpack_require__2(60722),WebGLPipeline=__webpack_require__2(29100),PreFXPipeline=new Class({Extends:MultiPipeline,initialize:function PreFXPipeline2(config2){var fragShader=GetFastValue(config2,"fragShader",PostFXFS),vertShader=GetFastValue(config2,"vertShader",SingleQuadVS),drawShader=GetFastValue(config2,"drawShader",PostFXFS),defaultShaders=[{name:"DrawSprite",fragShader:SingleQuadFS,vertShader:SingleQuadVS},{name:"CopySprite",fragShader:fragShader,vertShader:vertShader},{name:"DrawGame",fragShader:drawShader,vertShader:SingleQuadVS},{name:"ColorMatrix",fragShader:ColorMatrixFS}],configShaders=GetFastValue(config2,"shaders",[]);config2.shaders=defaultShaders.concat(configShaders),config2.vertShader||(config2.vertShader=vertShader),config2.batchSize=1,MultiPipeline.call(this,config2),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new Rectangle,this.targetBounds=new Rectangle,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){WebGLPipeline.prototype.boot.call(this);var shaders=this.shaders,renderer=this.renderer;this.drawSpriteShader=shaders[0],this.copyShader=shaders[1],this.gameShader=shaders[2],this.colorMatrixShader=shaders[3],this.fsTarget=new RenderTarget(renderer,renderer.width,renderer.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var data=new ArrayBuffer(168);this.quadVertexData=data,this.quadVertexViewF32=new Float32Array(data),this.quadVertexBuffer=renderer.createVertexBuffer(data,this.gl.STATIC_DRAW),this.onResize(renderer.width,renderer.height),this.currentShader=this.copyShader,this.set2f("uResolution",renderer.width,renderer.height)},onResize:function(width,height){var vertexViewF32=this.quadVertexViewF32;vertexViewF32[1]=height,vertexViewF32[22]=height,vertexViewF32[14]=width,vertexViewF32[28]=width,vertexViewF32[35]=width,vertexViewF32[36]=height},batchQuad:function(gameObject,x0,y0,x1,y1,x2,y2,x3,y3,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture){var bx=Math.min(x0,x1,x2,x3),by=Math.min(y0,y1,y2,y3),bw=Math.max(x0,x1,x2,x3)-bx,bh=Math.max(y0,y1,y2,y3)-by,bounds=this.spriteBounds.setTo(bx,by,bw,bh),padding=gameObject?gameObject.preFX.padding:0,width=bw+2*padding,height=bh+2*padding,maxDimension=Math.abs(Math.max(width,height)),target2=this.manager.getRenderTarget(maxDimension),targetBounds=this.targetBounds.setTo(0,0,target2.width,target2.height);CenterOn(targetBounds,Math.round(bounds.centerX),Math.round(bounds.centerY)),this.tempSprite=gameObject;var gl=this.gl,renderer=this.renderer;renderer.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",renderer.width,renderer.height),this.flipProjectionMatrix(!0),gameObject&&(this.onDrawSprite(gameObject,target2),gameObject.preFX.onFX(this));var fsTarget=this.fsTarget;return this.flush(),gl.viewport(0,0,renderer.width,renderer.height),gl.bindFramebuffer(gl.FRAMEBUFFER,fsTarget.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,fsTarget.texture.webGLTexture,0),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),this.setTexture2D(texture),this.batchVert(x0,y0,u0,v0,0,tintEffect,tintTL),this.batchVert(x1,y1,u0,v1,0,tintEffect,tintBL),this.batchVert(x2,y2,u1,v1,0,tintEffect,tintBR),this.batchVert(x0,y0,u0,v0,0,tintEffect,tintTL),this.batchVert(x2,y2,u1,v1,0,tintEffect,tintBR),this.batchVert(x3,y3,u1,v0,0,tintEffect,tintTR),this.flush(),this.flipProjectionMatrix(!1),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,target2.texture.webGLTexture),gl.copyTexSubImage2D(gl.TEXTURE_2D,0,0,0,targetBounds.x,targetBounds.y,targetBounds.width,targetBounds.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null),this.onBatch(gameObject),this.currentShader=this.copyShader,this.onDraw(target2,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(source,target2,clear,clearAlpha,eraseMode,colorMatrix,shader){void 0===clear&&(clear=!0),void 0===clearAlpha&&(clearAlpha=!0),void 0===eraseMode&&(eraseMode=!1),void 0===shader&&(shader=this.copyShader);var gl=this.gl,sprite=this.tempSprite;colorMatrix&&(shader=this.colorMatrixShader),this.currentShader=shader;var wasBound=this.setVertexBuffer(this.quadVertexBuffer);shader.bind(wasBound,!1);var renderer=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",renderer.width,renderer.height),sprite.preFX.onFXCopy(this),this.onCopySprite(source,target2,sprite),colorMatrix&&(this.set1fv("uColorMatrix",colorMatrix.getData()),this.set1f("uAlpha",colorMatrix.alpha)),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),source.height>target2.height)gl.viewport(0,0,source.width,source.height),this.setTargetUVs(source,target2);else{var diff=target2.height-source.height;gl.viewport(0,diff,source.width,source.height),this.resetUVs()}if(gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),clear&&(gl.clearColor(0,0,0,Number(!clearAlpha)),gl.clear(gl.COLOR_BUFFER_BIT)),eraseMode){var blendMode=this.renderer.currentBlendMode;this.renderer.setBlendMode(BlendModes.ERASE)}gl.bufferData(gl.ARRAY_BUFFER,this.quadVertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),eraseMode&&this.renderer.setBlendMode(blendMode),gl.bindFramebuffer(gl.FRAMEBUFFER,null)},copy:function(source,target2){var gl=this.gl;this.set1i("uMainSampler",0),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),gl.viewport(0,0,source.width,source.height),this.setUVs(0,0,0,1,1,1,1,0),gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),gl.bufferData(gl.ARRAY_BUFFER,this.quadVertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),gl.bindFramebuffer(gl.FRAMEBUFFER,null)},blendFrames:function(source1,source2,target2,strength,clearAlpha){this.manager.blendFrames(source1,source2,target2,strength,clearAlpha)},blendFramesAdditive:function(source1,source2,target2,strength,clearAlpha){this.manager.blendFramesAdditive(source1,source2,target2,strength,clearAlpha)},drawToGame:function(source){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(source)},copyToGame:function(source){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(source)},bindAndDraw:function(source){var gl=this.gl,renderer=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(source.texture);var matrix=this._tempMatrix1.loadIdentity(),x=this.targetBounds.x,y=this.targetBounds.y,xw=x+source.width,yh=y+source.height,x0=matrix.getX(x,y),x1=matrix.getX(x,yh),x2=matrix.getX(xw,yh),x3=matrix.getX(xw,y),y0=matrix.getY(x,y),y1=matrix.getY(x,yh),y2=matrix.getY(xw,yh),y3=matrix.getY(xw,y),white=16777215;this.batchVert(x0,y0,0,0,0,0,white),this.batchVert(x1,y1,0,1,0,0,white),this.batchVert(x2,y2,1,1,0,0,white),this.batchVert(x0,y0,0,0,0,0,white),this.batchVert(x2,y2,1,1,0,0,white),this.batchVert(x3,y3,1,0,0,0,white),renderer.restoreFramebuffer(!1,!0),renderer.currentFramebuffer||gl.viewport(0,0,renderer.width,renderer.height),renderer.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(target2){this.drawToGame(target2)},setUVs:function(uA,vA,uB,vB,uC,vC,uD,vD){var vertexViewF32=this.quadVertexViewF32;vertexViewF32[2]=uA,vertexViewF32[3]=vA,vertexViewF32[9]=uB,vertexViewF32[10]=vB,vertexViewF32[16]=uC,vertexViewF32[17]=vC,vertexViewF32[23]=uA,vertexViewF32[24]=vA,vertexViewF32[30]=uC,vertexViewF32[31]=vC,vertexViewF32[37]=uD,vertexViewF32[38]=vD},setTargetUVs:function(source,target2){var diff=target2.height/source.height;diff=diff>.5?.5-(diff-.5):.5-diff+.5,this.setUVs(0,diff,0,1+diff,1,1+diff,1,diff)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,MultiPipeline.prototype.destroy.call(this),this}});module2.exports=PreFXPipeline},81041:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),MultiPipeline=__webpack_require__2(57516),RopePipeline=new Class({Extends:MultiPipeline,initialize:function RopePipeline2(config2){config2.topology=5,config2.batchSize=GetFastValue(config2,"batchSize",256),MultiPipeline.call(this,config2)}});module2.exports=RopePipeline},12385:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),MultiPipeline=__webpack_require__2(57516),ShaderSourceFS=__webpack_require__2(45561),ShaderSourceVS=__webpack_require__2(60722),WebGLPipeline=__webpack_require__2(29100),SinglePipeline=new Class({Extends:MultiPipeline,initialize:function SinglePipeline2(config2){config2.fragShader=GetFastValue(config2,"fragShader",ShaderSourceFS),config2.vertShader=GetFastValue(config2,"vertShader",ShaderSourceVS),config2.forceZero=!0,MultiPipeline.call(this,config2)},boot:function(){WebGLPipeline.prototype.boot.call(this);var renderer=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",renderer.width,renderer.height)}});module2.exports=SinglePipeline},7589:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddBlendFS=__webpack_require__2(35407),BlendModes=__webpack_require__2(10312),Class=__webpack_require__2(83419),ColorMatrix=__webpack_require__2(89422),ColorMatrixFS=__webpack_require__2(96293),CopyFS=__webpack_require__2(36682),GetFastValue=__webpack_require__2(95540),LinearBlendFS=__webpack_require__2(48247),QuadVS=__webpack_require__2(49627),WebGLPipeline=__webpack_require__2(29100),UtilityPipeline=new Class({Extends:WebGLPipeline,initialize:function UtilityPipeline2(config2){config2.renderTarget=GetFastValue(config2,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),config2.vertShader=GetFastValue(config2,"vertShader",QuadVS),config2.shaders=GetFastValue(config2,"shaders",[{name:"Copy",fragShader:CopyFS},{name:"AddBlend",fragShader:AddBlendFS},{name:"LinearBlend",fragShader:LinearBlendFS},{name:"ColorMatrix",fragShader:ColorMatrixFS}]),config2.attributes=GetFastValue(config2,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),config2.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],config2.batchSize=1,WebGLPipeline.call(this,config2),this.colorMatrix=new ColorMatrix,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){WebGLPipeline.prototype.boot.call(this);var shaders=this.shaders,targets=this.renderTargets;this.copyShader=shaders[0],this.addShader=shaders[1],this.linearShader=shaders[2],this.colorMatrixShader=shaders[3],this.fullFrame1=targets[0],this.fullFrame2=targets[1],this.halfFrame1=targets[2],this.halfFrame2=targets[3]},copyFrame:function(source,target2,brightness,clear,clearAlpha){void 0===brightness&&(brightness=1),void 0===clear&&(clear=!0),void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",brightness),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),target2?(gl.viewport(0,0,target2.width,target2.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0)):gl.viewport(0,0,source.width,source.height),clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT)),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null)},blitFrame:function(source,target2,brightness,clear,clearAlpha,eraseMode,flipY){void 0===brightness&&(brightness=1),void 0===clear&&(clear=!0),void 0===clearAlpha&&(clearAlpha=!0),void 0===eraseMode&&(eraseMode=!1),void 0===flipY&&(flipY=!1);var gl=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",brightness),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),source.height>target2.height)gl.viewport(0,0,source.width,source.height),this.setTargetUVs(source,target2);else{var diff=target2.height-source.height;gl.viewport(0,diff,source.width,source.height)}if(gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT)),eraseMode){var blendMode=this.renderer.currentBlendMode;this.renderer.setBlendMode(BlendModes.ERASE)}flipY&&this.flipY(),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),eraseMode&&this.renderer.setBlendMode(blendMode),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(source,target2,x,y,width,height,clear,clearAlpha){void 0===clear&&(clear=!0),void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,source.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,source.texture.webGLTexture,0),clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT)),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,target2.texture.webGLTexture),gl.copyTexSubImage2D(gl.TEXTURE_2D,0,0,0,x,y,width,height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null)},copyToGame:function(source){var gl=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6)},drawFrame:function(source,target2,clearAlpha,colorMatrix){void 0===clearAlpha&&(clearAlpha=!0),void 0===colorMatrix&&(colorMatrix=this.colorMatrix);var gl=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",colorMatrix.getData()),this.set1f("uAlpha",colorMatrix.alpha),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source.texture.webGLTexture),target2?(gl.viewport(0,0,target2.width,target2.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0)):gl.viewport(0,0,source.width,source.height),clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null)},blendFrames:function(source1,source2,target2,strength,clearAlpha,blendShader){void 0===strength&&(strength=1),void 0===clearAlpha&&(clearAlpha=!0),void 0===blendShader&&(blendShader=this.linearShader);var gl=this.gl;this.setShader(blendShader),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",strength),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,source1.texture.webGLTexture),gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,source2.texture.webGLTexture),target2?(gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target2.texture.webGLTexture,0),gl.viewport(0,0,target2.width,target2.height)):gl.viewport(0,0,source1.width,source1.height),clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT),gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW),gl.drawArrays(gl.TRIANGLES,0,6),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindTexture(gl.TEXTURE_2D,null)},blendFramesAdditive:function(source1,source2,target2,strength,clearAlpha){this.blendFrames(source1,source2,target2,strength,clearAlpha,this.addShader)},clearFrame:function(target2,clearAlpha){void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl;gl.viewport(0,0,target2.width,target2.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target2.framebuffer.webGLFramebuffer),clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT);var fbo=this.renderer.currentFramebuffer;gl.bindFramebuffer(gl.FRAMEBUFFER,fbo.webGLFramebuffer)},setUVs:function(uA,vA,uB,vB,uC,vC,uD,vD){var vertexViewF32=this.vertexViewF32;vertexViewF32[2]=uA,vertexViewF32[3]=vA,vertexViewF32[6]=uB,vertexViewF32[7]=vB,vertexViewF32[10]=uC,vertexViewF32[11]=vC,vertexViewF32[14]=uA,vertexViewF32[15]=vA,vertexViewF32[18]=uC,vertexViewF32[19]=vC,vertexViewF32[22]=uD,vertexViewF32[23]=vD},setTargetUVs:function(source,target2){var diff=target2.height/source.height;diff=diff>.5?.5-(diff-.5):.5-diff+.5,this.setUVs(0,diff,0,1+diff,1,1+diff,1,diff)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});module2.exports=UtilityPipeline},36060:module2=>{module2.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelineafterflush"},36712:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelinebeforeflush"},40285:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelinebind"},65918:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelineboot"},92852:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelinedestroy"},56072:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelinerebind"},57566:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pipelineresize"},77085:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AFTER_FLUSH:__webpack_require__2(84817),BEFORE_FLUSH:__webpack_require__2(36712),BIND:__webpack_require__2(40285),BOOT:__webpack_require__2(65918),DESTROY:__webpack_require__2(92852),REBIND:__webpack_require__2(56072),RESIZE:__webpack_require__2(57566)}},54812:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),BarrelFrag=__webpack_require__2(99155),PostFXPipeline=__webpack_require__2(84057),BarrelFXPipeline=new Class({Extends:PostFXPipeline,initialize:function BarrelFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:BarrelFrag}),this.amount=1},onPreRender:function(controller,shader){controller=this.getController(controller),this.set1f("amount",controller.amount,shader)}});module2.exports=BarrelFXPipeline},67329:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),BloomFrag=__webpack_require__2(24400),PostFXPipeline=__webpack_require__2(84057),BloomFXPipeline=new Class({Extends:PostFXPipeline,initialize:function BloomFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:BloomFrag}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(controller){controller=this.getController(controller),this.set1f("strength",controller.blurStrength),this.set3fv("color",controller.glcolor)},onDraw:function(target1){var controller=this.getController(),target2=this.fullFrame1,target3=this.fullFrame2;this.copyFrame(target1,target3);for(var x=2/target1.width*controller.offsetX,y=2/target1.height*controller.offsetY,i=0;i<controller.steps;i++)this.set2f("offset",x,0),this.copySprite(target1,target2),this.set2f("offset",0,y),this.copySprite(target2,target1);this.blendFrames(target3,target1,target2,controller.strength),this.copyToGame(target2)}});module2.exports=BloomFXPipeline},8861:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),BlurLowFrag=__webpack_require__2(41514),BlurMedFrag=__webpack_require__2(51078),BlurHighFrag=__webpack_require__2(94328),PostFXPipeline=__webpack_require__2(84057),BlurFXPipeline=new Class({Extends:PostFXPipeline,initialize:function BlurFXPipeline2(game){PostFXPipeline.call(this,{game:game,shaders:[{name:"Gaussian5",fragShader:BlurLowFrag},{name:"Gaussian9",fragShader:BlurMedFrag},{name:"Gaussian13",fragShader:BlurHighFrag}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(target1){var controller=this.getController(),gl=this.gl,target2=this.fullFrame1,currentFBO=gl.getParameter(gl.FRAMEBUFFER_BINDING);this.bind(this.shaders[controller.quality]),gl.activeTexture(gl.TEXTURE0),gl.viewport(0,0,target1.width,target1.height),this.set1i("uMainSampler",0),this.set2f("resolution",target1.width,target1.height),this.set1f("strength",controller.strength),this.set3fv("color",controller.glcolor);for(var i=0;i<controller.steps;i++)this.set2f("offset",controller.x,0),this.copySprite(target1,target2),this.set2f("offset",0,controller.y),this.copySprite(target2,target1);gl.bindFramebuffer(gl.FRAMEBUFFER,currentFBO),gl.bindTexture(gl.TEXTURE_2D,null),this.copyToGame(target1)}});module2.exports=BlurFXPipeline},51051:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),BokehFrag=__webpack_require__2(90610),PostFXPipeline=__webpack_require__2(84057),BokehFXPipeline=new Class({Extends:PostFXPipeline,initialize:function BokehFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:BokehFrag}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(controller,shader,width,height){controller=this.getController(controller),this.set1f("radius",controller.radius,shader),this.set1f("amount",controller.amount,shader),this.set1f("contrast",controller.contrast,shader),this.set1f("strength",controller.strength,shader),this.set2f("blur",controller.blurX,controller.blurY,shader),this.setBoolean("isTiltShift",controller.isTiltShift,shader),width&&height&&this.set2f("resolution",width,height,shader)},onDraw:function(target2){this.set2f("resolution",target2.width,target2.height),this.bindAndDraw(target2)}});module2.exports=BokehFXPipeline},89428:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CircleFrag=__webpack_require__2(91899),PostFXPipeline=__webpack_require__2(84057),CircleFXPipeline=new Class({Extends:PostFXPipeline,initialize:function CircleFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:CircleFrag}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(controller,shader,width,height){controller=this.getController(controller),this.set1f("scale",controller.scale,shader),this.set1f("feather",controller.feather,shader),this.set1f("thickness",controller.thickness,shader),this.set3fv("color",controller.glcolor,shader),this.set4fv("backgroundColor",controller.glcolor2,shader),width&&height&&this.set2f("resolution",width,height,shader)},onDraw:function(target2){this.set2f("resolution",target2.width,target2.height),this.bindAndDraw(target2)}});module2.exports=CircleFXPipeline},88904:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),PostFXPipeline=__webpack_require__2(84057),ColorMatrixFXPipeline=new Class({Extends:PostFXPipeline,initialize:function ColorMatrixFXPipeline2(game){PostFXPipeline.call(this,{game:game})},onDraw:function(source){var target2=this.fullFrame1;this.controller?this.manager.drawFrame(source,target2,!0,this.controller):this.drawFrame(source,target2),this.copyToGame(target2)}});module2.exports=ColorMatrixFXPipeline},63563:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),DisplacementFrag=__webpack_require__2(47838),PostFXPipeline=__webpack_require__2(84057),DisplacementFXPipeline=new Class({Extends:PostFXPipeline,initialize:function DisplacementFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:DisplacementFrag}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(texture){var phaserTexture=this.game.textures.getFrame(texture);phaserTexture&&(this.glTexture=phaserTexture.glTexture)},onDraw:function(source){var controller=this.getController(),target2=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",controller.x,controller.y),this.bindTexture(controller.glTexture,1),this.copySprite(source,target2),this.copyToGame(target2)}});module2.exports=DisplacementFXPipeline},94045:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),GlowFrag=__webpack_require__2(98656),PostFXPipeline=__webpack_require__2(84057),Utils=__webpack_require__2(70554),GlowFXPipeline=new Class({Extends:PostFXPipeline,initialize:function GlowFXPipeline2(game,config2){var quality=GetFastValue(config2,"quality",.1),distance=GetFastValue(config2,"distance",10);PostFXPipeline.call(this,{game:game,fragShader:Utils.setGlowQuality(GlowFrag,game,quality,distance)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(controller,shader,width,height){controller=this.getController(controller),this.set1f("outerStrength",controller.outerStrength,shader),this.set1f("innerStrength",controller.innerStrength,shader),this.set4fv("glowColor",controller.glcolor,shader),this.setBoolean("knockout",controller.knockout,shader),width&&height&&this.set2f("resolution",width,height,shader)},onDraw:function(target2){this.set2f("resolution",target2.width,target2.height),this.bindAndDraw(target2)}});module2.exports=GlowFXPipeline},74088:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GradientFrag=__webpack_require__2(70463),PostFXPipeline=__webpack_require__2(84057),GradientFXPipeline=new Class({Extends:PostFXPipeline,initialize:function GradientFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:GradientFrag}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(controller,shader){controller=this.getController(controller),this.set1f("alpha",controller.alpha,shader),this.set1i("size",controller.size,shader),this.set3fv("color1",controller.glcolor1,shader),this.set3fv("color2",controller.glcolor2,shader),this.set2f("positionFrom",controller.fromX,controller.fromY,shader),this.set2f("positionTo",controller.toX,controller.toY,shader)}});module2.exports=GradientFXPipeline},99636:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),PixelateFrag=__webpack_require__2(50831),PostFXPipeline=__webpack_require__2(84057),PixelateFXPipeline=new Class({Extends:PostFXPipeline,initialize:function PixelateFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:PixelateFrag}),this.amount=1},onPreRender:function(controller,shader,width,height){controller=this.getController(controller),this.set1f("amount",controller.amount,shader),width&&height&&this.set2f("resolution",width,height,shader)},onDraw:function(target2){this.set2f("resolution",target2.width,target2.height),this.bindAndDraw(target2)}});module2.exports=PixelateFXPipeline},34700:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ShadowFrag=__webpack_require__2(92595),PostFXPipeline=__webpack_require__2(84057),ShadowFXPipeline=new Class({Extends:PostFXPipeline,initialize:function ShadowFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:ShadowFrag}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(controller,shader){var samples=(controller=this.getController(controller)).samples;this.set1i("samples",samples,shader),this.set1f("intensity",controller.intensity,shader),this.set1f("decay",controller.decay,shader),this.set1f("power",controller.power/samples,shader),this.set2f("lightPosition",controller.x,controller.y,shader),this.set4fv("color",controller.glcolor,shader)}});module2.exports=ShadowFXPipeline},91157:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),ShineFrag=__webpack_require__2(72464),PostFXPipeline=__webpack_require__2(84057),ShineFXPipeline=new Class({Extends:PostFXPipeline,initialize:function ShineFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:ShineFrag}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(controller,shader,width,height){controller=this.getController(controller),this.setTime("time",shader),this.set1f("speed",controller.speed,shader),this.set1f("lineWidth",controller.lineWidth,shader),this.set1f("gradient",controller.gradient,shader),this.setBoolean("reveal",controller.reveal,shader),width&&height&&this.set2f("resolution",width,height,shader)},onDraw:function(target2){this.set2f("resolution",target2.width,target2.height),this.bindAndDraw(target2)}});module2.exports=ShineFXPipeline},27797:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),VignetteFrag=__webpack_require__2(39249),PostFXPipeline=__webpack_require__2(84057),VignetteFXPipeline=new Class({Extends:PostFXPipeline,initialize:function VignetteFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:VignetteFrag}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(controller,shader){controller=this.getController(controller),this.set1f("radius",controller.radius,shader),this.set1f("strength",controller.strength,shader),this.set2f("position",controller.x,controller.y,shader)}});module2.exports=VignetteFXPipeline},67603:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),WipeFrag=__webpack_require__2(2878),PostFXPipeline=__webpack_require__2(84057),WipeFXPipeline=new Class({Extends:PostFXPipeline,initialize:function WipeFXPipeline2(game){PostFXPipeline.call(this,{game:game,fragShader:WipeFrag}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(controller,shader){var progress=(controller=this.getController(controller)).progress,wipeWidth=controller.wipeWidth,direction=controller.direction,axis=controller.axis;this.set4f("config",progress,wipeWidth,direction,axis,shader),this.setBoolean("reveal",controller.reveal,shader)}});module2.exports=WipeFXPipeline},58918:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FX={Barrel:__webpack_require__2(54812),Bloom:__webpack_require__2(67329),Blur:__webpack_require__2(8861),Bokeh:__webpack_require__2(51051),Circle:__webpack_require__2(89428),ColorMatrix:__webpack_require__2(88904),Displacement:__webpack_require__2(63563),Glow:__webpack_require__2(94045),Gradient:__webpack_require__2(74088),Pixelate:__webpack_require__2(99636),Shadow:__webpack_require__2(34700),Shine:__webpack_require__2(91157),Vignette:__webpack_require__2(27797),Wipe:__webpack_require__2(67603)};module2.exports=FX},96615:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(36060),Extend=__webpack_require__2(79291),Pipelines={FX:__webpack_require__2(58918),BitmapMaskPipeline:__webpack_require__2(31302),Events:__webpack_require__2(77085),FXPipeline:__webpack_require__2(92651),LightPipeline:__webpack_require__2(96569),MobilePipeline:__webpack_require__2(56527),MultiPipeline:__webpack_require__2(57516),PointLightPipeline:__webpack_require__2(43439),PostFXPipeline:__webpack_require__2(84057),PreFXPipeline:__webpack_require__2(43558),RopePipeline:__webpack_require__2(81041),SinglePipeline:__webpack_require__2(12385),UtilityPipeline:__webpack_require__2(7589)};Pipelines=Extend(!1,Pipelines,CONST),module2.exports=Pipelines},35407:module2=>{module2.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:module2=>{module2.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:module2=>{module2.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:module2=>{module2.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:module2=>{module2.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:module2=>{module2.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:module2=>{module2.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:module2=>{module2.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:module2=>{module2.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:module2=>{module2.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:module2=>{module2.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:module2=>{module2.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:module2=>{module2.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:module2=>{module2.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:module2=>{module2.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:module2=>{module2.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:module2=>{module2.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:module2=>{module2.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:module2=>{module2.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:module2=>{module2.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:module2=>{module2.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:module2=>{module2.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:module2=>{module2.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:module2=>{module2.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:module2=>{module2.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:module2=>{module2.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:module2=>{module2.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:module2=>{module2.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:module2=>{module2.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:module2=>{module2.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:module2=>{module2.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:module2=>{module2.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:module2=>{module2.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:module2=>{module2.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@photonstorm.com>
               * @copyright    2013-2023 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AddBlendFrag:__webpack_require__2(35407),BitmapMaskFrag:__webpack_require__2(78908),BitmapMaskVert:__webpack_require__2(85191),ColorMatrixFrag:__webpack_require__2(96293),CopyFrag:__webpack_require__2(36682),FXBarrelFrag:__webpack_require__2(99155),FXBloomFrag:__webpack_require__2(24400),FXBlurHighFrag:__webpack_require__2(94328),FXBlurLowFrag:__webpack_require__2(41514),FXBlurMedFrag:__webpack_require__2(51078),FXBokehFrag:__webpack_require__2(90610),FXCircleFrag:__webpack_require__2(91899),FXDisplacementFrag:__webpack_require__2(47838),FXGlowFrag:__webpack_require__2(98656),FXGradientFrag:__webpack_require__2(70463),FXPixelateFrag:__webpack_require__2(50831),FXShadowFrag:__webpack_require__2(92595),FXShineFrag:__webpack_require__2(72464),FXVignetteFrag:__webpack_require__2(39249),FXWipeFrag:__webpack_require__2(2878),LightFrag:__webpack_require__2(31063),LinearBlendFrag:__webpack_require__2(48247),MeshFrag:__webpack_require__2(41214),MeshVert:__webpack_require__2(39653),MobileFrag:__webpack_require__2(62143),MobileVert:__webpack_require__2(47940),MultiFrag:__webpack_require__2(98840),MultiVert:__webpack_require__2(44667),PointLightFrag:__webpack_require__2(4127),PointLightVert:__webpack_require__2(89924),PostFXFrag:__webpack_require__2(27681),QuadVert:__webpack_require__2(49627),SingleFrag:__webpack_require__2(45561),SingleVert:__webpack_require__2(60722)}},93567:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WebGLAttribLocationWrapper=new(__webpack_require__2(83419))({initialize:function WebGLAttribLocationWrapper2(gl,program,name){this.webGLAttribLocation=-1,this.gl=gl,this.program=program,this.name=name,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var gl=this.gl;gl.isContextLost()||(this.webGLAttribLocation=gl.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});module2.exports=WebGLAttribLocationWrapper},26128:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WebGLBufferWrapper=new(__webpack_require__2(83419))({initialize:function WebGLBufferWrapper2(gl,initialDataOrSize,bufferType,bufferUsage){this.webGLBuffer=null,this.gl=gl,this.initialDataOrSize=initialDataOrSize,this.bufferType=bufferType,this.bufferUsage=bufferUsage,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var gl=this.gl;if(!gl.isContextLost()){var bufferType=this.bufferType,webGLBuffer=gl.createBuffer();this.webGLBuffer=webGLBuffer,gl.bindBuffer(bufferType,this.webGLBuffer),gl.bufferData(bufferType,this.initialDataOrSize,this.bufferUsage),gl.bindBuffer(bufferType,null)}}},destroy:function(){var gl=this.gl;gl.isContextLost()||gl.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});module2.exports=WebGLBufferWrapper},84387:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),errors2={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},WebGLFramebufferWrapper=new Class({initialize:function WebGLFramebufferWrapper2(gl,width,height,renderTexture,addDepthStencilBuffer){this.webGLFramebuffer=null,this.gl=gl,this.width=width,this.height=height,this.renderTexture=renderTexture,this.addDepthStencilBuffer=!!addDepthStencilBuffer,this.createResource()},createResource:function(){var gl=this.gl;if(!gl.isContextLost()){var complete,renderTexture=this.renderTexture,framebuffer=gl.createFramebuffer();if(this.webGLFramebuffer=framebuffer,gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer),renderTexture.isRenderTexture=!0,renderTexture.isAlphaPremultiplied=!1,gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,renderTexture.webGLTexture,0),(complete=gl.checkFramebufferStatus(gl.FRAMEBUFFER))!==gl.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(errors2[complete]||complete));if(this.addDepthStencilBuffer){var depthStencilBuffer=gl.createRenderbuffer();gl.bindRenderbuffer(gl.RENDERBUFFER,depthStencilBuffer),gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,this.width,this.height),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.RENDERBUFFER,depthStencilBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var gl=this.gl;if(!gl.isContextLost()){gl.bindFramebuffer(gl.FRAMEBUFFER,this.webGLFramebuffer);var colorAttachment=gl.getFramebufferAttachmentParameter(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==colorAttachment&&(gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,null,0),gl.deleteTexture(colorAttachment));var depthStencilAttachment=gl.getFramebufferAttachmentParameter(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==depthStencilAttachment&&gl.deleteRenderbuffer(depthStencilAttachment),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});module2.exports=WebGLFramebufferWrapper},1482:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WebGLProgramWrapper=new(__webpack_require__2(83419))({initialize:function WebGLProgramWrapper2(gl,vertexSource,fragmentSource){this.webGLProgram=null,this.gl=gl,this.vertexSource=vertexSource,this.fragmentSource=fragmentSource,this.createResource()},createResource:function(){var gl=this.gl;if(!gl.isContextLost()){var program=gl.createProgram(),vs=gl.createShader(gl.VERTEX_SHADER),fs=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(vs,this.vertexSource),gl.shaderSource(fs,this.fragmentSource),gl.compileShader(vs),gl.compileShader(fs);var failed="Shader failed:\n";if(!gl.getShaderParameter(vs,gl.COMPILE_STATUS))throw new Error("Vertex "+failed+gl.getShaderInfoLog(vs));if(!gl.getShaderParameter(fs,gl.COMPILE_STATUS))throw new Error("Fragment "+failed+gl.getShaderInfoLog(fs));if(gl.attachShader(program,vs),gl.attachShader(program,fs),gl.linkProgram(program),!gl.getProgramParameter(program,gl.LINK_STATUS))throw new Error("Link "+failed+gl.getProgramInfoLog(program));gl.useProgram(program),this.webGLProgram=program}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});module2.exports=WebGLProgramWrapper},82751:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),IsSizePowerOfTwo=__webpack_require__2(50030),WebGLTextureWrapper=new Class({initialize:function WebGLTextureWrapper2(gl,mipLevel,minFilter,magFilter,wrapT,wrapS,format,pixels,width,height,pma,forceSize,flipY){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=gl,this.mipLevel=mipLevel,this.minFilter=minFilter,this.magFilter=magFilter,this.wrapT=wrapT,this.wrapS=wrapS,this.format=format,this.pixels=pixels,this.width=width,this.height=height,this.pma=null==pma||pma,this.forceSize=!!forceSize,this.flipY=!!flipY,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var gl=this.gl;if(!gl.isContextLost())if(this.pixels instanceof WebGLTextureWrapper)this.webGLTexture=this.pixels.webGLTexture;else{var texture=gl.createTexture();texture.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=texture,this._processTexture()}},update:function(source,width,height,flipY,wrapS,wrapT,minFilter,magFilter,format){0!==width&&0!==height&&(this.pixels=source,this.width=width,this.height=height,this.flipY=flipY,this.wrapS=wrapS,this.wrapT=wrapT,this.minFilter=minFilter,this.magFilter=magFilter,this.format=format,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var gl=this.gl;gl.activeTexture(gl.TEXTURE0);var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);gl.bindTexture(gl.TEXTURE_2D,this.webGLTexture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,this.flipY);var pixels=this.pixels,mipLevel=this.mipLevel,width=this.width,height=this.height,format=this.format,generateMipmap=!1;if(null==pixels)gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,width,height,0,format,gl.UNSIGNED_BYTE,null),generateMipmap=IsSizePowerOfTwo(width,height);else if(pixels.compressed){width=pixels.width,height=pixels.height,generateMipmap=pixels.generateMipmap;for(var i=0;i<pixels.mipmaps.length;i++)gl.compressedTexImage2D(gl.TEXTURE_2D,i,pixels.internalFormat,pixels.mipmaps[i].width,pixels.mipmaps[i].height,0,pixels.mipmaps[i].data)}else pixels instanceof Uint8Array?(gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,width,height,0,format,gl.UNSIGNED_BYTE,pixels),generateMipmap=IsSizePowerOfTwo(width,height)):(this.forceSize||(width=pixels.width,height=pixels.height),gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,format,gl.UNSIGNED_BYTE,pixels),generateMipmap=IsSizePowerOfTwo(width,height));generateMipmap&&gl.generateMipmap(gl.TEXTURE_2D),currentTexture?gl.bindTexture(gl.TEXTURE_2D,currentTexture):gl.bindTexture(gl.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(value){this.__SPECTOR_Metadata=value,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=value)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof WebGLTextureWrapper||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});module2.exports=WebGLTextureWrapper},57183:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WebGLUniformLocationWrapper=new(__webpack_require__2(83419))({initialize:function WebGLUniformLocationWrapper2(gl,program,name){this.webGLUniformLocation=null,this.gl=gl,this.program=program,this.name=name,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var gl=this.gl;gl.isContextLost()||(this.webGLUniformLocation=gl.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});module2.exports=WebGLUniformLocationWrapper},9503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Wrappers={WebGLAttribLocationWrapper:__webpack_require__2(93567),WebGLBufferWrapper:__webpack_require__2(26128),WebGLProgramWrapper:__webpack_require__2(1482),WebGLTextureWrapper:__webpack_require__2(82751),WebGLFramebufferWrapper:__webpack_require__2(84387),WebGLUniformLocationWrapper:__webpack_require__2(57183)};module2.exports=Wrappers},76531:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(13560),Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(97480),GameEvents=__webpack_require__2(8443),GetInnerHeight=__webpack_require__2(57811),GetTarget=__webpack_require__2(74403),GetScreenOrientation=__webpack_require__2(45818),NOOP=__webpack_require__2(29747),Rectangle=__webpack_require__2(87841),Size=__webpack_require__2(86555),SnapFloor=__webpack_require__2(56583),Vector2=__webpack_require__2(26099),Camera=__webpack_require__2(38058),ScaleManager=new Class({Extends:EventEmitter2,initialize:function ScaleManager2(game){EventEmitter2.call(this),this.game=game,this.canvas,this.canvasBounds=new Rectangle,this.parent=null,this.parentIsWindow=!1,this.parentSize=new Size,this.gameSize=new Size,this.baseSize=new Size,this.displaySize=new Size,this.scaleMode=CONST.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new Vector2(1,1),this.autoRound=!1,this.autoCenter=CONST.CENTER.NO_CENTER,this.orientation=CONST.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:NOOP,windowResize:NOOP,fullScreenChange:NOOP,fullScreenError:NOOP}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){var game=this.game;this.canvas=game.canvas,this.fullscreen=game.device.fullscreen;var scaleMode=this.scaleMode;scaleMode!==CONST.SCALE_MODE.RESIZE&&scaleMode!==CONST.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(scaleMode),scaleMode===CONST.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),game.events.on(GameEvents.PRE_STEP,this.step,this),game.events.once(GameEvents.READY,this.refresh,this),game.events.once(GameEvents.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(config2){this.getParent(config2),this.getParentBounds();var width=config2.width,height=config2.height,scaleMode=config2.scaleMode,zoom=config2.zoom,autoRound=config2.autoRound;if("string"==typeof width)if("%"!==width.substr(-1))width=parseInt(width,10);else{var parentWidth=this.parentSize.width;0===parentWidth&&(parentWidth=window.innerWidth);var parentScaleX=parseInt(width,10)/100;width=Math.floor(parentWidth*parentScaleX)}if("string"==typeof height)if("%"!==height.substr(-1))height=parseInt(height,10);else{var parentHeight=this.parentSize.height;0===parentHeight&&(parentHeight=window.innerHeight);var parentScaleY=parseInt(height,10)/100;height=Math.floor(parentHeight*parentScaleY)}this.scaleMode=scaleMode,this.autoRound=autoRound,this.autoCenter=config2.autoCenter,this.resizeInterval=config2.resizeInterval,autoRound&&(width=Math.floor(width),height=Math.floor(height)),this.gameSize.setSize(width,height),zoom===CONST.ZOOM.MAX_ZOOM&&(zoom=this.getMaxZoom()),this.zoom=zoom,1!==zoom&&(this._resetZoom=!0),this.baseSize.setSize(width,height),autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),config2.minWidth>0&&this.displaySize.setMin(config2.minWidth*zoom,config2.minHeight*zoom),config2.maxWidth>0&&this.displaySize.setMax(config2.maxWidth*zoom,config2.maxHeight*zoom),this.displaySize.setSize(width,height),(config2.snapWidth>0||config2.snapHeight>0)&&this.displaySize.setSnap(config2.snapWidth,config2.snapHeight),this.orientation=GetScreenOrientation(width,height)},getParent:function(config2){var parent=config2.parent;if(null!==parent){if(this.parent=GetTarget(parent),this.parentIsWindow=this.parent===document.body,config2.expandParent&&config2.scaleMode!==CONST.SCALE_MODE.NONE){var DOMRect=this.parent.getBoundingClientRect();(this.parentIsWindow||0===DOMRect.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",DOMRect=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==DOMRect.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}config2.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=GetTarget(config2.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var parentSize=this.parentSize,DOMRect=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(DOMRect.height=GetInnerHeight(!0));var newWidth=DOMRect.width,newHeight=DOMRect.height;if(parentSize.width!==newWidth||parentSize.height!==newHeight)return parentSize.setSize(newWidth,newHeight),!0;if(this.canvas){var canvasBounds=this.canvasBounds,canvasRect=this.canvas.getBoundingClientRect();if(canvasRect.x!==canvasBounds.x||canvasRect.y!==canvasBounds.y)return!0}return!1},lockOrientation:function(orientation){var lock=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!lock&&lock.call(screen,orientation)},setParentSize:function(width,height){return this.parentSize.setSize(width,height),this.refresh()},setGameSize:function(width,height){var autoRound=this.autoRound;autoRound&&(width=Math.floor(width),height=Math.floor(height));var previousWidth=this.width,previousHeight=this.height;return this.gameSize.resize(width,height),this.baseSize.resize(width,height),autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(width/height),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(previousWidth,previousHeight)},resize:function(width,height){var zoom=this.zoom,autoRound=this.autoRound;autoRound&&(width=Math.floor(width),height=Math.floor(height));var previousWidth=this.width,previousHeight=this.height;this.gameSize.resize(width,height),this.baseSize.resize(width,height),autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(width*zoom,height*zoom),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var style=this.canvas.style,styleWidth=width*zoom,styleHeight=height*zoom;return autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),styleWidth===width&&styleHeight===height||(style.width=styleWidth+"px",style.height=styleHeight+"px"),this.refresh(previousWidth,previousHeight)},setZoom:function(value){return this.zoom=value,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(snapWidth,snapHeight){return void 0===snapWidth&&(snapWidth=0),void 0===snapHeight&&(snapHeight=snapWidth),this.displaySize.setSnap(snapWidth,snapHeight),this.refresh()},refresh:function(previousWidth,previousHeight){void 0===previousWidth&&(previousWidth=this.width),void 0===previousHeight&&(previousHeight=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var domContainer=this.game.domContainer;if(domContainer){this.baseSize.setCSS(domContainer);var canvasStyle=this.canvas.style,domStyle=domContainer.style;domStyle.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",domStyle.marginLeft=canvasStyle.marginLeft,domStyle.marginTop=canvasStyle.marginTop}return this.emit(Events2.RESIZE,this.gameSize,this.baseSize,this.displaySize,previousWidth,previousHeight),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var newOrientation=GetScreenOrientation(this.width,this.height);newOrientation!==this.orientation&&(this.orientation=newOrientation,this.emit(Events2.ORIENTATION_CHANGE,newOrientation))}},updateScale:function(){var styleWidth,styleHeight,style=this.canvas.style,width=this.gameSize.width,height=this.gameSize.height,zoom=this.zoom,autoRound=this.autoRound;if(this.scaleMode===CONST.SCALE_MODE.NONE)this.displaySize.setSize(width*zoom,height*zoom),styleWidth=this.displaySize.width,styleHeight=this.displaySize.height,autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),this._resetZoom&&(style.width=styleWidth+"px",style.height=styleHeight+"px",this._resetZoom=!1);else if(this.scaleMode===CONST.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),styleWidth=this.displaySize.width,styleHeight=this.displaySize.height,autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),this.canvas.width=styleWidth,this.canvas.height=styleHeight;else if(this.scaleMode===CONST.SCALE_MODE.EXPAND){var baseWidth=this.game.config.width,baseHeight=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),styleWidth=this.displaySize.width,styleHeight=this.displaySize.height,autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),style.width=styleWidth+"px",style.height=styleHeight+"px";var scaleX=this.parentSize.width/baseWidth,scaleY=this.parentSize.height/baseHeight;scaleX<scaleY&&0!==scaleX?this.baseSize.setSize(baseWidth,this.parentSize.height/scaleX):0!==scaleY&&this.baseSize.setSize(this.displaySize.width/scaleY,baseHeight),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),styleWidth=this.baseSize.width,styleHeight=this.baseSize.height,autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),this.canvas.width=styleWidth,this.canvas.height=styleHeight}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),styleWidth=this.displaySize.width,styleHeight=this.displaySize.height,autoRound&&(styleWidth=Math.floor(styleWidth),styleHeight=Math.floor(styleHeight)),style.width=styleWidth+"px",style.height=styleHeight+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var zoomH=SnapFloor(this.parentSize.width,this.gameSize.width,0,!0),zoomV=SnapFloor(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(zoomH,zoomV),1)},updateCenter:function(){var autoCenter=this.autoCenter;if(autoCenter!==CONST.CENTER.NO_CENTER){var canvas=this.canvas,style=canvas.style,bounds=canvas.getBoundingClientRect(),width=bounds.width,height=bounds.height,offsetX=Math.floor((this.parentSize.width-width)/2),offsetY=Math.floor((this.parentSize.height-height)/2);autoCenter===CONST.CENTER.CENTER_HORIZONTALLY?offsetY=0:autoCenter===CONST.CENTER.CENTER_VERTICALLY&&(offsetX=0),style.marginLeft=offsetX+"px",style.marginTop=offsetY+"px"}},updateBounds:function(){var bounds=this.canvasBounds,clientRect=this.canvas.getBoundingClientRect();bounds.x=clientRect.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),bounds.y=clientRect.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),bounds.width=clientRect.width,bounds.height=clientRect.height},transformX:function(pageX){return(pageX-this.canvasBounds.left)*this.displayScale.x},transformY:function(pageY){return(pageY-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(fullscreenOptions){void 0===fullscreenOptions&&(fullscreenOptions={navigationUI:"hide"});var fullscreen=this.fullscreen;if(fullscreen.available){if(!fullscreen.active){var fsTarget=this.getFullscreenTarget();fullscreen.keyboard?fsTarget[fullscreen.request](Element.ALLOW_KEYBOARD_INPUT):fsTarget[fullscreen.request](fullscreenOptions)}}else this.emit(Events2.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(Events2.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(error){this.removeFullscreenTarget(),this.emit(Events2.FULLSCREEN_FAILED,error)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var fsTarget=document.createElement("div");fsTarget.style.margin="0",fsTarget.style.padding="0",fsTarget.style.width="100%",fsTarget.style.height="100%",this.fullscreenTarget=fsTarget,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var fsTarget=this.fullscreenTarget;if(fsTarget&&fsTarget.parentNode){var parent=fsTarget.parentNode;parent.insertBefore(this.canvas,fsTarget),parent.removeChild(fsTarget)}}},stopFullscreen:function(){var fullscreen=this.fullscreen;if(!fullscreen.available)return this.emit(Events2.FULLSCREEN_UNSUPPORTED),!1;fullscreen.active&&document[fullscreen.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(Events2.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(fullscreenOptions){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(fullscreenOptions)},startListeners:function(){var _this=this,listeners=this.domlisteners;listeners.orientationChange=function(){_this.updateBounds(),_this._checkOrientation=!0,_this.dirty=!0,_this.refresh()},listeners.windowResize=function(){_this.updateBounds(),_this.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",listeners.orientationChange,!1):window.addEventListener("orientationchange",listeners.orientationChange,!1),window.addEventListener("resize",listeners.windowResize,!1),this.fullscreen.available&&(listeners.fullScreenChange=function(event){return _this.onFullScreenChange(event)},listeners.fullScreenError=function(event){return _this.onFullScreenError(event)},["webkit","moz",""].forEach((function(prefix){document.addEventListener(prefix+"fullscreenchange",listeners.fullScreenChange,!1),document.addEventListener(prefix+"fullscreenerror",listeners.fullScreenError,!1)})),document.addEventListener("MSFullscreenChange",listeners.fullScreenChange,!1),document.addEventListener("MSFullscreenError",listeners.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(camera,out){camera instanceof Camera||(out=camera,camera=void 0),void 0===out&&(out=new Rectangle);var width,height,baseSize=this.baseSize,parentSize=this.parentSize,canvasBounds=this.canvasBounds,displayScale=this.displayScale,x=canvasBounds.x>=0?0:-canvasBounds.x*displayScale.x,y=canvasBounds.y>=0?0:-canvasBounds.y*displayScale.y;return width=parentSize.width>=canvasBounds.width?baseSize.width:baseSize.width-(canvasBounds.width-parentSize.width)*displayScale.x,height=parentSize.height>=canvasBounds.height?baseSize.height:baseSize.height-(canvasBounds.height-parentSize.height)*displayScale.y,out.setTo(x,y,width,height),camera&&(out.width/=camera.zoomX,out.height/=camera.zoomY,out.centerX=camera.centerX+camera.scrollX,out.centerY=camera.centerY+camera.scrollY),out},step:function(time,delta){this.parent&&(this._lastCheck+=delta,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var listeners=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",listeners.orientationChange,!1):window.removeEventListener("orientationchange",listeners.orientationChange,!1),window.removeEventListener("resize",listeners.windowResize,!1),["webkit","moz",""].forEach((function(prefix){document.removeEventListener(prefix+"fullscreenchange",listeners.fullScreenChange,!1),document.removeEventListener(prefix+"fullscreenerror",listeners.fullScreenError,!1)})),document.removeEventListener("MSFullscreenChange",listeners.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",listeners.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===CONST.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===CONST.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});module2.exports=ScaleManager},64743:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST={CENTER:__webpack_require__2(64743),ORIENTATION:__webpack_require__2(39218),SCALE_MODE:__webpack_require__2(81050),ZOOM:__webpack_require__2(80805)};module2.exports=CONST},56139:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="enterfullscreen"},2336:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="fullscreenfailed"},47412:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="fullscreenunsupported"},51452:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="leavefullscreen"},20666:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="orientationchange"},47945:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resize"},97480:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ENTER_FULLSCREEN:__webpack_require__2(56139),FULLSCREEN_FAILED:__webpack_require__2(2336),FULLSCREEN_UNSUPPORTED:__webpack_require__2(47412),LEAVE_FULLSCREEN:__webpack_require__2(51452),ORIENTATION_CHANGE:__webpack_require__2(20666),RESIZE:__webpack_require__2(47945)}},93364:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291),CONST=__webpack_require__2(13560),Scale={Center:__webpack_require__2(64743),Events:__webpack_require__2(97480),Orientation:__webpack_require__2(39218),ScaleManager:__webpack_require__2(76531),ScaleModes:__webpack_require__2(81050),Zoom:__webpack_require__2(80805)};Scale=Extend(!1,Scale,CONST.CENTER),Scale=Extend(!1,Scale,CONST.ORIENTATION),Scale=Extend(!1,Scale,CONST.SCALE_MODE),Scale=Extend(!1,Scale,CONST.ZOOM),module2.exports=Scale},27397:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540),UppercaseFirst=__webpack_require__2(35355);module2.exports=function(sys){var defaultSystem=sys.game.config.defaultPhysicsSystem,sceneSystems=GetFastValue(sys.settings,"physics",!1);if(defaultSystem||sceneSystems){var output=[];if(defaultSystem&&output.push(UppercaseFirst(defaultSystem+"Physics")),sceneSystems)for(var key in sceneSystems)key=UppercaseFirst(key.concat("Physics")),-1===output.indexOf(key)&&output.push(key);return output}}},52106:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540);module2.exports=function(sys){var defaultPlugins=sys.plugins.getDefaultScenePlugins(),scenePlugins=GetFastValue(sys.settings,"plugins",!1);return Array.isArray(scenePlugins)?scenePlugins:defaultPlugins||[]}},87033:module2=>{module2.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Systems=__webpack_require__2(2368),Scene=new Class({initialize:function Scene2(config2){this.sys=new Systems(this,config2),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});module2.exports=Scene},60903:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(89993),Events2=__webpack_require__2(44594),GameEvents=__webpack_require__2(8443),GetValue=__webpack_require__2(35154),LoaderEvents=__webpack_require__2(54899),NOOP=__webpack_require__2(29747),Scene=__webpack_require__2(97482),Systems=__webpack_require__2(2368),SceneManager=new Class({initialize:function SceneManager2(game,sceneConfig){if(this.game=game,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,sceneConfig){Array.isArray(sceneConfig)||(sceneConfig=[sceneConfig]);for(var i=0;i<sceneConfig.length;i++)this._pending.push({key:"default",scene:sceneConfig[i],autoStart:0===i,data:{}})}game.events.once(GameEvents.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var i,entry,key,sceneConfig;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new Scene),this.game.events.emit(GameEvents.SYSTEM_READY,this.systemScene,this),i=0;i<this._pending.length;i++){var newScene;key=(entry=this._pending[i]).key,(sceneConfig=entry.scene)instanceof Scene?newScene=this.createSceneFromInstance(key,sceneConfig):"object"==typeof sceneConfig?newScene=this.createSceneFromObject(key,sceneConfig):"function"==typeof sceneConfig&&(newScene=this.createSceneFromFunction(key,sceneConfig)),key=newScene.sys.settings.key,this.keys[key]=newScene,this.scenes.push(newScene),this._data[key]&&(newScene.sys.settings.data=this._data[key].data,this._data[key].autoStart&&(entry.autoStart=!0)),(entry.autoStart||newScene.sys.settings.active)&&this._start.push(key)}for(this._pending.length=0,this._data={},this.isBooted=!0,i=0;i<this._start.length;i++)entry=this._start[i],this.start(entry);this._start.length=0}},processQueue:function(){var pendingLength=this._pending.length,queueLength=this._queue.length;if(0!==pendingLength||0!==queueLength){var i,entry;if(pendingLength){for(i=0;i<pendingLength;i++)entry=this._pending[i],this.add(entry.key,entry.scene,entry.autoStart,entry.data);for(i=0;i<this._start.length;i++)entry=this._start[i],this.start(entry);this._start.length=0,this._pending.length=0}for(i=0;i<this._queue.length;i++)this[(entry=this._queue[i]).op](entry.keyA,entry.keyB,entry.data);this._queue.length=0}},add:function(key,sceneConfig,autoStart,data){return void 0===autoStart&&(autoStart=!1),void 0===data&&(data={}),this.isProcessing||!this.isBooted?(this._pending.push({key:key,scene:sceneConfig,autoStart:autoStart,data:data}),this.isBooted||(this._data[key]={data:data}),null):(key=this.getKey(key,sceneConfig),sceneConfig instanceof Scene?newScene=this.createSceneFromInstance(key,sceneConfig):"object"==typeof sceneConfig?(sceneConfig.key=key,newScene=this.createSceneFromObject(key,sceneConfig)):"function"==typeof sceneConfig&&(newScene=this.createSceneFromFunction(key,sceneConfig)),newScene.sys.settings.data=data,key=newScene.sys.settings.key,this.keys[key]=newScene,this.scenes.push(newScene),(autoStart||newScene.sys.settings.active)&&(this._pending.length?this._start.push(key):this.start(key)),newScene);var newScene},remove:function(key){if(this.isProcessing)return this.queueOp("remove",key);var sceneToRemove=this.getScene(key);if(!sceneToRemove||sceneToRemove.sys.isTransitioning())return this;var index=this.scenes.indexOf(sceneToRemove),sceneKey=sceneToRemove.sys.settings.key;return index>-1&&(delete this.keys[sceneKey],this.scenes.splice(index,1),this._start.indexOf(sceneKey)>-1&&(index=this._start.indexOf(sceneKey),this._start.splice(index,1)),sceneToRemove.sys.destroy()),this},bootScene:function(scene){var loader,sys=scene.sys,settings=sys.settings;sys.sceneUpdate=NOOP,scene.init&&(scene.init.call(scene,settings.data),settings.status=CONST.INIT,settings.isTransition&&sys.events.emit(Events2.TRANSITION_INIT,settings.transitionFrom,settings.transitionDuration)),sys.load&&(loader=sys.load).reset(),loader&&scene.preload?(scene.preload.call(scene),settings.status=CONST.LOADING,loader.once(LoaderEvents.COMPLETE,this.loadComplete,this),loader.start()):this.create(scene)},loadComplete:function(loader){this.create(loader.scene)},payloadComplete:function(loader){this.bootScene(loader.scene)},update:function(time,delta){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var sys=this.scenes[i].sys;sys.settings.status>CONST.START&&sys.settings.status<=CONST.RUNNING&&sys.step(time,delta),sys.scenePlugin&&sys.scenePlugin._target&&sys.scenePlugin.step(time,delta)}},render:function(renderer){for(var i=0;i<this.scenes.length;i++){var sys=this.scenes[i].sys;sys.settings.visible&&sys.settings.status>=CONST.LOADING&&sys.settings.status<CONST.SLEEPING&&sys.render(renderer)}this.isProcessing=!1},create:function(scene){var sys=scene.sys,settings=sys.settings;scene.create&&(settings.status=CONST.CREATING,scene.create.call(scene,settings.data),settings.status===CONST.DESTROYED)||(settings.isTransition&&sys.events.emit(Events2.TRANSITION_START,settings.transitionFrom,settings.transitionDuration),scene.update&&(sys.sceneUpdate=scene.update),settings.status=CONST.RUNNING,sys.events.emit(Events2.CREATE,scene))},createSceneFromFunction:function(key,scene){var newScene=new scene;if(newScene instanceof Scene){var configKey=newScene.sys.settings.key;if(""!==configKey&&(key=configKey),this.keys.hasOwnProperty(key))throw new Error("Cannot add Scene with duplicate key: "+key);return this.createSceneFromInstance(key,newScene)}return newScene.sys=new Systems(newScene),newScene.sys.settings.key=key,newScene.sys.init(this.game),newScene},createSceneFromInstance:function(key,newScene){return""===newScene.sys.settings.key&&(newScene.sys.settings.key=key),newScene.sys.init(this.game),newScene},createSceneFromObject:function(key,sceneConfig){var newScene=new Scene(sceneConfig),configKey=newScene.sys.settings.key;""!==configKey?key=configKey:newScene.sys.settings.key=key,newScene.sys.init(this.game);for(var defaults2=["init","preload","create","update","render"],i=0;i<defaults2.length;i++){var sceneCallback=GetValue(sceneConfig,defaults2[i],null);sceneCallback&&(newScene[defaults2[i]]=sceneCallback)}if(sceneConfig.hasOwnProperty("extend"))for(var propertyKey in sceneConfig.extend)if(sceneConfig.extend.hasOwnProperty(propertyKey)){var value=sceneConfig.extend[propertyKey];"data"===propertyKey&&newScene.hasOwnProperty("data")&&"object"==typeof value?newScene.data.merge(value):"sys"!==propertyKey&&(newScene[propertyKey]=value)}return newScene},getKey:function(key,sceneConfig){if(key||(key="default"),"function"==typeof sceneConfig)return key;if(sceneConfig instanceof Scene?key=sceneConfig.sys.settings.key:"object"==typeof sceneConfig&&sceneConfig.hasOwnProperty("key")&&(key=sceneConfig.key),this.keys.hasOwnProperty(key))throw new Error("Cannot add Scene with duplicate key: "+key);return key},getScenes:function(isActive,inReverse){void 0===isActive&&(isActive=!0),void 0===inReverse&&(inReverse=!1);for(var out=[],scenes=this.scenes,i=0;i<scenes.length;i++){var scene=scenes[i];scene&&(!isActive||isActive&&scene.sys.isActive())&&out.push(scene)}return inReverse?out.reverse():out},getScene:function(key){if("string"==typeof key){if(this.keys[key])return this.keys[key]}else for(var i=0;i<this.scenes.length;i++)if(key===this.scenes[i])return key;return null},isActive:function(key){var scene=this.getScene(key);return scene?scene.sys.isActive():null},isPaused:function(key){var scene=this.getScene(key);return scene?scene.sys.isPaused():null},isVisible:function(key){var scene=this.getScene(key);return scene?scene.sys.isVisible():null},isSleeping:function(key){var scene=this.getScene(key);return scene?scene.sys.isSleeping():null},pause:function(key,data){var scene=this.getScene(key);return scene&&scene.sys.pause(data),this},resume:function(key,data){var scene=this.getScene(key);return scene&&scene.sys.resume(data),this},sleep:function(key,data){var scene=this.getScene(key);return scene&&!scene.sys.isTransitioning()&&scene.sys.sleep(data),this},wake:function(key,data){var scene=this.getScene(key);return scene&&scene.sys.wake(data),this},run:function(key,data){var scene=this.getScene(key);if(!scene){for(var i=0;i<this._pending.length;i++)if(this._pending[i].key===key){this.queueOp("start",key,data);break}return this}scene.sys.isSleeping()?scene.sys.wake(data):scene.sys.isPaused()?scene.sys.resume(data):this.start(key,data)},start:function(key,data){if(!this.isBooted)return this._data[key]={autoStart:!0,data:data},this;var scene=this.getScene(key);if(!scene)return console.warn("Scene key not found: "+key),this;var loader,sys=scene.sys,status=sys.settings.status;if(status>=CONST.START&&status<=CONST.CREATING)return this;if(status>=CONST.RUNNING&&status<=CONST.SLEEPING)sys.shutdown(),sys.sceneUpdate=NOOP,sys.start(data);else if(sys.sceneUpdate=NOOP,sys.start(data),sys.load&&(loader=sys.load),loader&&sys.settings.hasOwnProperty("pack")&&(loader.reset(),loader.addPack({payload:sys.settings.pack})))return sys.settings.status=CONST.LOADING,loader.once(LoaderEvents.COMPLETE,this.payloadComplete,this),loader.start(),this;return this.bootScene(scene),this},stop:function(key,data){var scene=this.getScene(key);if(scene&&!scene.sys.isTransitioning()&&scene.sys.settings.status!==CONST.SHUTDOWN){var loader=scene.sys.load;loader&&(loader.off(LoaderEvents.COMPLETE,this.loadComplete,this),loader.off(LoaderEvents.COMPLETE,this.payloadComplete,this)),scene.sys.shutdown(data)}return this},switch:function(from,to,data){var sceneA=this.getScene(from),sceneB=this.getScene(to);return sceneA&&sceneB&&sceneA!==sceneB&&(this.sleep(from),this.isSleeping(to)?this.wake(to,data):this.start(to,data)),this},getAt:function(index){return this.scenes[index]},getIndex:function(key){var scene=this.getScene(key);return this.scenes.indexOf(scene)},bringToTop:function(key){if(this.isProcessing)return this.queueOp("bringToTop",key);var index=this.getIndex(key),scenes=this.scenes;if(-1!==index&&index<scenes.length){var scene=this.getScene(key);scenes.splice(index,1),scenes.push(scene)}return this},sendToBack:function(key){if(this.isProcessing)return this.queueOp("sendToBack",key);var index=this.getIndex(key);if(-1!==index&&index>0){var scene=this.getScene(key);this.scenes.splice(index,1),this.scenes.unshift(scene)}return this},moveDown:function(key){if(this.isProcessing)return this.queueOp("moveDown",key);var indexA=this.getIndex(key);if(indexA>0){var indexB=indexA-1,sceneA=this.getScene(key),sceneB=this.getAt(indexB);this.scenes[indexA]=sceneB,this.scenes[indexB]=sceneA}return this},moveUp:function(key){if(this.isProcessing)return this.queueOp("moveUp",key);var indexA=this.getIndex(key);if(indexA<this.scenes.length-1){var indexB=indexA+1,sceneA=this.getScene(key),sceneB=this.getAt(indexB);this.scenes[indexA]=sceneB,this.scenes[indexB]=sceneA}return this},moveAbove:function(keyA,keyB){if(keyA===keyB)return this;if(this.isProcessing)return this.queueOp("moveAbove",keyA,keyB);var indexA=this.getIndex(keyA),indexB=this.getIndex(keyB);if(-1!==indexA&&-1!==indexB&&indexB<indexA){var tempScene=this.getAt(indexB);this.scenes.splice(indexB,1),this.scenes.splice(indexA+(indexB>indexA),0,tempScene)}return this},moveBelow:function(keyA,keyB){if(keyA===keyB)return this;if(this.isProcessing)return this.queueOp("moveBelow",keyA,keyB);var indexA=this.getIndex(keyA),indexB=this.getIndex(keyB);if(-1!==indexA&&-1!==indexB&&indexB>indexA){var tempScene=this.getAt(indexB);this.scenes.splice(indexB,1),0===indexA?this.scenes.unshift(tempScene):this.scenes.splice(indexA-(indexB<indexA),0,tempScene)}return this},queueOp:function(op,keyA,keyB,data){return this._queue.push({op:op,keyA:keyA,keyB:keyB,data:data}),this},swapPosition:function(keyA,keyB){if(keyA===keyB)return this;if(this.isProcessing)return this.queueOp("swapPosition",keyA,keyB);var indexA=this.getIndex(keyA),indexB=this.getIndex(keyB);if(indexA!==indexB&&-1!==indexA&&-1!==indexB){var tempScene=this.getAt(indexA);this.scenes[indexA]=this.scenes[indexB],this.scenes[indexB]=tempScene}return this},dump:function(){for(var out=[],map=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var sys=this.scenes[i].sys,key=!sys.settings.visible||sys.settings.status!==CONST.RUNNING&&sys.settings.status!==CONST.PAUSED?"[-] ":"[*] ";key+=sys.settings.key+" ("+map[sys.settings.status]+")",out.push(key)}console.log(out.join("\n"))},destroy:function(){for(var i=0;i<this.scenes.length;i++)this.scenes[i].sys.destroy();this.systemScene.sys.destroy(),this.update=NOOP,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});module2.exports=SceneManager},52209:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(44594),GetFastValue=__webpack_require__2(95540),PluginCache=__webpack_require__2(37277),ScenePlugin=new Class({initialize:function ScenePlugin2(scene){this.scene=scene,this.systems=scene.sys,this.settings=scene.sys.settings,this.key=scene.sys.settings.key,this.manager=scene.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,scene.sys.events.once(Events2.BOOT,this.boot,this),scene.sys.events.on(Events2.START,this.pluginStart,this)},boot:function(){this.systems.events.once(Events2.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(Events2.SHUTDOWN,this.shutdown,this)},start:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",key,data),this},restart:function(data){var key=this.key;return this.manager.queueOp("stop",key),this.manager.queueOp("start",key,data),this},transition:function(config2){void 0===config2&&(config2={});var key=GetFastValue(config2,"target",!1),target2=this.manager.getScene(key);if(!key||!this.checkValidTransition(target2))return!1;var duration=GetFastValue(config2,"duration",1e3);this._elapsed=0,this._target=target2,this._duration=duration,this._willSleep=GetFastValue(config2,"sleep",!1),this._willRemove=GetFastValue(config2,"remove",!1);var callback=GetFastValue(config2,"onUpdate",null);callback&&(this._onUpdate=callback,this._onUpdateScope=GetFastValue(config2,"onUpdateScope",this.scene));var allowInput=GetFastValue(config2,"allowInput",!1);this.settings.transitionAllowInput=allowInput;var targetSettings=target2.sys.settings;targetSettings.isTransition=!0,targetSettings.transitionFrom=this.scene,targetSettings.transitionDuration=duration,targetSettings.transitionAllowInput=allowInput,GetFastValue(config2,"moveAbove",!1)?this.manager.moveAbove(this.key,key):GetFastValue(config2,"moveBelow",!1)&&this.manager.moveBelow(this.key,key),target2.sys.isSleeping()?target2.sys.wake(GetFastValue(config2,"data")):this.manager.start(key,GetFastValue(config2,"data"));var onStartCallback=GetFastValue(config2,"onStart",null),onStartScope=GetFastValue(config2,"onStartScope",this.scene);return onStartCallback&&onStartCallback.call(onStartScope,this.scene,target2,duration),this.systems.events.emit(Events2.TRANSITION_OUT,target2,duration),!0},checkValidTransition:function(target2){return!(!target2||target2.sys.isActive()||target2.sys.isTransitioning()||target2===this.scene||this.systems.isTransitioning())},step:function(time,delta){this._elapsed+=delta,this.transitionProgress=Clamp(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var targetSys=this._target.sys,targetSettings=this._target.sys.settings;targetSys.events.emit(Events2.TRANSITION_COMPLETE,this.scene),targetSettings.isTransition=!1,targetSettings.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(key,sceneConfig,autoStart,data){return this.manager.add(key,sceneConfig,autoStart,data)},launch:function(key,data){return key&&key!==this.key&&this.manager.queueOp("start",key,data),this},run:function(key,data){return key&&key!==this.key&&this.manager.queueOp("run",key,data),this},pause:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("pause",key,data),this},resume:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("resume",key,data),this},sleep:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("sleep",key,data),this},wake:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("wake",key,data),this},switch:function(key,data){return key!==this.key&&this.manager.queueOp("switch",this.key,key,data),this},stop:function(key,data){return void 0===key&&(key=this.key),this.manager.queueOp("stop",key,data),this},setActive:function(value,key,data){void 0===key&&(key=this.key);var scene=this.manager.getScene(key);return scene&&scene.sys.setActive(value,data),this},setVisible:function(value,key){void 0===key&&(key=this.key);var scene=this.manager.getScene(key);return scene&&scene.sys.setVisible(value),this},isSleeping:function(key){return void 0===key&&(key=this.key),this.manager.isSleeping(key)},isActive:function(key){return void 0===key&&(key=this.key),this.manager.isActive(key)},isPaused:function(key){return void 0===key&&(key=this.key),this.manager.isPaused(key)},isVisible:function(key){return void 0===key&&(key=this.key),this.manager.isVisible(key)},swapPosition:function(keyA,keyB){return void 0===keyB&&(keyB=this.key),keyA!==keyB&&this.manager.swapPosition(keyA,keyB),this},moveAbove:function(keyA,keyB){return void 0===keyB&&(keyB=this.key),keyA!==keyB&&this.manager.moveAbove(keyA,keyB),this},moveBelow:function(keyA,keyB){return void 0===keyB&&(keyB=this.key),keyA!==keyB&&this.manager.moveBelow(keyA,keyB),this},remove:function(key){return void 0===key&&(key=this.key),this.manager.remove(key),this},moveUp:function(key){return void 0===key&&(key=this.key),this.manager.moveUp(key),this},moveDown:function(key){return void 0===key&&(key=this.key),this.manager.moveDown(key),this},bringToTop:function(key){return void 0===key&&(key=this.key),this.manager.bringToTop(key),this},sendToBack:function(key){return void 0===key&&(key=this.key),this.manager.sendToBack(key),this},get:function(key){return this.manager.getScene(key)},getStatus:function(key){var scene=this.manager.getScene(key);if(scene)return scene.sys.getStatus()},getIndex:function(key){return void 0===key&&(key=this.key),this.manager.getIndex(key)},shutdown:function(){var eventEmitter=this.systems.events;eventEmitter.off(Events2.SHUTDOWN,this.shutdown,this),eventEmitter.off(Events2.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Events2.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});PluginCache.register("ScenePlugin",ScenePlugin,"scenePlugin"),module2.exports=ScenePlugin},55681:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(89993),GetValue=__webpack_require__2(35154),Merge=__webpack_require__2(46975),InjectionMap=__webpack_require__2(87033),Settings={create:function(config2){return"string"==typeof config2?config2={key:config2}:void 0===config2&&(config2={}),{status:CONST.PENDING,key:GetValue(config2,"key",""),active:GetValue(config2,"active",!1),visible:GetValue(config2,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:GetValue(config2,"pack",!1),cameras:GetValue(config2,"cameras",null),map:GetValue(config2,"map",Merge(InjectionMap,GetValue(config2,"mapAdd",{}))),physics:GetValue(config2,"physics",{}),loader:GetValue(config2,"loader",{}),plugins:GetValue(config2,"plugins",!1),input:GetValue(config2,"input",{})}}};module2.exports=Settings},2368:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(89993),DefaultPlugins=__webpack_require__2(42363),Events2=__webpack_require__2(44594),GetPhysicsPlugins=__webpack_require__2(27397),GetScenePlugins=__webpack_require__2(52106),NOOP=__webpack_require__2(29747),Settings=__webpack_require__2(55681),Systems=new Class({initialize:function Systems2(scene,config2){this.scene=scene,this.game,this.renderer,this.config=config2,this.settings=Settings.create(config2),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=NOOP},init:function(game){this.settings.status=CONST.INIT,this.sceneUpdate=NOOP,this.game=game,this.renderer=game.renderer,this.canvas=game.canvas,this.context=game.context;var pluginManager=game.plugins;this.plugins=pluginManager,pluginManager.addToScene(this,DefaultPlugins.Global,[DefaultPlugins.CoreScene,GetScenePlugins(this),GetPhysicsPlugins(this)]),this.events.emit(Events2.BOOT,this),this.settings.isBooted=!0},step:function(time,delta){var events=this.events;events.emit(Events2.PRE_UPDATE,time,delta),events.emit(Events2.UPDATE,time,delta),this.sceneUpdate.call(this.scene,time,delta),events.emit(Events2.POST_UPDATE,time,delta)},render:function(renderer){var displayList=this.displayList;displayList.depthSort(),this.events.emit(Events2.PRE_RENDER,renderer),this.cameras.render(renderer,displayList),this.events.emit(Events2.RENDER,renderer)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(data){var settings=this.settings,status=this.getStatus();return status!==CONST.CREATING&&status!==CONST.RUNNING?console.warn("Cannot pause non-running Scene",settings.key):this.settings.active&&(settings.status=CONST.PAUSED,settings.active=!1,this.events.emit(Events2.PAUSE,this,data)),this},resume:function(data){var events=this.events,settings=this.settings;return this.settings.active||(settings.status=CONST.RUNNING,settings.active=!0,events.emit(Events2.RESUME,this,data)),this},sleep:function(data){var settings=this.settings,status=this.getStatus();return status!==CONST.CREATING&&status!==CONST.RUNNING?console.warn("Cannot sleep non-running Scene",settings.key):(settings.status=CONST.SLEEPING,settings.active=!1,settings.visible=!1,this.events.emit(Events2.SLEEP,this,data)),this},wake:function(data){var events=this.events,settings=this.settings;return settings.status=CONST.RUNNING,settings.active=!0,settings.visible=!0,events.emit(Events2.WAKE,this,data),settings.isTransition&&events.emit(Events2.TRANSITION_WAKE,settings.transitionFrom,settings.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var status=this.settings.status;return status>CONST.PENDING&&status<=CONST.RUNNING},isSleeping:function(){return this.settings.status===CONST.SLEEPING},isActive:function(){return this.settings.status===CONST.RUNNING},isPaused:function(){return this.settings.status===CONST.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(value){return this.settings.visible=value,this},setActive:function(value,data){return value?this.resume(data):this.pause(data)},start:function(data){var events=this.events,settings=this.settings;data&&(settings.data=data),settings.status=CONST.START,settings.active=!0,settings.visible=!0,events.emit(Events2.START,this),events.emit(Events2.READY,this,data)},shutdown:function(data){var events=this.events,settings=this.settings;events.off(Events2.TRANSITION_INIT),events.off(Events2.TRANSITION_START),events.off(Events2.TRANSITION_COMPLETE),events.off(Events2.TRANSITION_OUT),settings.status=CONST.SHUTDOWN,settings.active=!1,settings.visible=!1,events.emit(Events2.SHUTDOWN,this,data)},destroy:function(){var events=this.events,settings=this.settings;settings.status=CONST.DESTROYED,settings.active=!1,settings.visible=!1,events.emit(Events2.DESTROY,this),events.removeAllListeners();for(var props=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],i=0;i<props.length;i++)this[props[i]]=null}});module2.exports=Systems},89993:module2=>{module2.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="addedtoscene"},7919:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="boot"},46763:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="create"},11763:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},71555:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},36735:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="postupdate"},3809:module2=>{
/**
               * @author       samme
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="prerender"},90716:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="preupdate"},58262:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="ready"},91633:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="removedfromscene"},10319:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="render"},87132:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},81961:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="shutdown"},90194:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="sleep"},6265:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="start"},33178:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="transitioncomplete"},43063:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="transitioninit"},11259:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="transitionout"},61611:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="transitionstart"},45209:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="transitionwake"},22966:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="update"},21747:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="wake"},44594:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADDED_TO_SCENE:__webpack_require__2(69830),BOOT:__webpack_require__2(7919),CREATE:__webpack_require__2(46763),DESTROY:__webpack_require__2(11763),PAUSE:__webpack_require__2(71555),POST_UPDATE:__webpack_require__2(36735),PRE_RENDER:__webpack_require__2(3809),PRE_UPDATE:__webpack_require__2(90716),READY:__webpack_require__2(58262),REMOVED_FROM_SCENE:__webpack_require__2(91633),RENDER:__webpack_require__2(10319),RESUME:__webpack_require__2(87132),SHUTDOWN:__webpack_require__2(81961),SLEEP:__webpack_require__2(90194),START:__webpack_require__2(6265),TRANSITION_COMPLETE:__webpack_require__2(33178),TRANSITION_INIT:__webpack_require__2(43063),TRANSITION_OUT:__webpack_require__2(11259),TRANSITION_START:__webpack_require__2(61611),TRANSITION_WAKE:__webpack_require__2(45209),UPDATE:__webpack_require__2(22966),WAKE:__webpack_require__2(21747)}},62194:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(89993),Extend=__webpack_require__2(79291),Scene={Events:__webpack_require__2(44594),GetPhysicsPlugins:__webpack_require__2(27397),GetScenePlugins:__webpack_require__2(52106),SceneManager:__webpack_require__2(60903),ScenePlugin:__webpack_require__2(52209),Settings:__webpack_require__2(55681),Systems:__webpack_require__2(2368)};Scene=Extend(!1,Scene,CONST),module2.exports=Scene},30341:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(14463),Extend=__webpack_require__2(79291),NOOP=__webpack_require__2(29747),BaseSound=new Class({Extends:EventEmitter2,initialize:function BaseSound2(manager,key,config2){EventEmitter2.call(this),this.manager=manager,this.key=key,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=Extend(this.config,config2),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(marker){return!(!marker||!marker.name||"string"!=typeof marker.name||(this.markers[marker.name]?(console.error("addMarker "+marker.name+" already exists in Sound"),1):(marker=Extend(!0,{name:"",start:0,duration:this.totalDuration-(marker.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},marker),this.markers[marker.name]=marker,0)))},updateMarker:function(marker){return!(!marker||!marker.name||"string"!=typeof marker.name||(this.markers[marker.name]?(this.markers[marker.name]=Extend(!0,this.markers[marker.name],marker),0):(console.warn("Audio Marker: "+marker.name+" missing in Sound: "+this.key),1)))},removeMarker:function(markerName){var marker=this.markers[markerName];return marker?(this.markers[markerName]=null,marker):null},play:function(markerName,config2){if(void 0===markerName&&(markerName=""),"object"==typeof markerName&&(config2=markerName,markerName=""),"string"!=typeof markerName)return!1;if(markerName){if(!this.markers[markerName])return console.warn("Marker: "+markerName+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[markerName],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=Extend(this.currentConfig,config2),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:NOOP,calculateRate:function(){var totalDetune=this.currentConfig.detune+this.manager.detune,detuneRate=Math.pow(1.0005777895065548,totalDetune);this.totalRate=this.currentConfig.rate*this.manager.rate*detuneRate},destroy:function(){this.pendingRemove||(this.stop(),this.emit(Events2.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});module2.exports=BaseSound},85034:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Clone=__webpack_require__2(41786),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(14463),GameEvents=__webpack_require__2(8443),GetAll=__webpack_require__2(46710),GetFirst=__webpack_require__2(58731),NOOP=__webpack_require__2(29747),Vector2=__webpack_require__2(26099),BaseSoundManager=new Class({Extends:EventEmitter2,initialize:function BaseSoundManager2(game){EventEmitter2.call(this),this.game=game,this.jsonCache=game.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new Vector2,game.events.on(GameEvents.BLUR,this.onGameBlur,this),game.events.on(GameEvents.FOCUS,this.onGameFocus,this),game.events.on(GameEvents.PRE_STEP,this.update,this),game.events.once(GameEvents.DESTROY,this.destroy,this)},add:NOOP,addAudioSprite:function(key,config2){void 0===config2&&(config2={});var sound=this.add(key,config2);for(var markerName in sound.spritemap=this.jsonCache.get(key).spritemap,sound.spritemap)if(sound.spritemap.hasOwnProperty(markerName)){var markerConfig=Clone(config2),marker=sound.spritemap[markerName];markerConfig.loop=!!marker.hasOwnProperty("loop")&&marker.loop,sound.addMarker({name:markerName,start:marker.start,duration:marker.end-marker.start,config:markerConfig})}return sound},get:function(key){return GetFirst(this.sounds,"key",key)},getAll:function(key){return key?GetAll(this.sounds,"key",key):GetAll(this.sounds)},getAllPlaying:function(){return GetAll(this.sounds,"isPlaying",!0)},play:function(key,extra){var sound=this.add(key);return sound.once(Events2.COMPLETE,sound.destroy,sound),extra?extra.name?(sound.addMarker(extra),sound.play(extra.name)):sound.play(extra):sound.play()},playAudioSprite:function(key,spriteName,config2){var sound=this.addAudioSprite(key);return sound.once(Events2.COMPLETE,sound.destroy,sound),sound.play(spriteName,config2)},remove:function(sound){var index=this.sounds.indexOf(sound);return-1!==index&&(sound.destroy(),this.sounds.splice(index,1),!0)},removeAll:function(){this.sounds.forEach((function(sound){sound.destroy()})),this.sounds.length=0},removeByKey:function(key){for(var removed=0,i=this.sounds.length-1;i>=0;i--){var sound=this.sounds[i];sound.key===key&&(sound.destroy(),this.sounds.splice(i,1),removed++)}return removed},pauseAll:function(){this.forEachActiveSound((function(sound){sound.pause()})),this.emit(Events2.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(sound){sound.resume()})),this.emit(Events2.RESUME_ALL,this)},setListenerPosition:NOOP,stopAll:function(){this.forEachActiveSound((function(sound){sound.stop()})),this.emit(Events2.STOP_ALL,this)},stopByKey:function(key){var stopped=0;return this.getAll(key).forEach((function(sound){sound.stop()&&stopped++})),stopped},isPlaying:function(key){var sound,i=this.sounds.length-1;if(void 0===key){for(;i>=0;i--)if((sound=this.sounds[i]).isPlaying)return!0}else for(;i>=0;i--)if((sound=this.sounds[i]).key===key&&sound.isPlaying)return!0;return!1},unlock:NOOP,onBlur:NOOP,onFocus:NOOP,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(time,delta){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(Events2.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach((function(sound){sound.update(time,delta)}))},destroy:function(){this.game.events.off(GameEvents.BLUR,this.onGameBlur,this),this.game.events.off(GameEvents.FOCUS,this.onGameFocus,this),this.game.events.off(GameEvents.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(callback,scope){var _this=this;this.sounds.forEach((function(sound,index){sound&&!sound.pendingRemove&&callback.call(scope||_this,sound,index,_this.sounds)}))},setRate:function(value){return this.rate=value,this},rate:{get:function(){return this._rate},set:function(value){this._rate=value,this.forEachActiveSound((function(sound){sound.calculateRate()})),this.emit(Events2.GLOBAL_RATE,this,value)}},setDetune:function(value){return this.detune=value,this},detune:{get:function(){return this._detune},set:function(value){this._detune=value,this.forEachActiveSound((function(sound){sound.calculateRate()})),this.emit(Events2.GLOBAL_DETUNE,this,value)}}});module2.exports=BaseSoundManager},14747:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HTML5AudioSoundManager=__webpack_require__2(33684),NoAudioSoundManager=__webpack_require__2(25960),WebAudioSoundManager=__webpack_require__2(57490),SoundManagerCreator={create:function(game){var audioConfig=game.config.audio,deviceAudio=game.device.audio;return audioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData?new NoAudioSoundManager(game):deviceAudio.webAudio&&!audioConfig.disableWebAudio?new WebAudioSoundManager(game):new HTML5AudioSoundManager(game)}};module2.exports=SoundManagerCreator},19723:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},98882:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="decodedall"},57506:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="decoded"},73146:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="destroy"},11305:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="detune"},40577:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="detune"},30333:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="mute"},20394:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="rate"},21802:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="volume"},1299:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="looped"},99190:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="loop"},97125:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="mute"},89259:module2=>{
/**
               * @author       pi-kei
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pan"},79986:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pauseall"},17586:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},19618:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="play"},42306:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="rate"},10387:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resumeall"},48959:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},9960:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="seek"},19180:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stopall"},98328:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stop"},50401:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="unlocked"},52498:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="volume"},14463:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={COMPLETE:__webpack_require__2(19723),DECODED:__webpack_require__2(57506),DECODED_ALL:__webpack_require__2(98882),DESTROY:__webpack_require__2(73146),DETUNE:__webpack_require__2(11305),GLOBAL_DETUNE:__webpack_require__2(40577),GLOBAL_MUTE:__webpack_require__2(30333),GLOBAL_RATE:__webpack_require__2(20394),GLOBAL_VOLUME:__webpack_require__2(21802),LOOP:__webpack_require__2(99190),LOOPED:__webpack_require__2(1299),MUTE:__webpack_require__2(97125),PAN:__webpack_require__2(89259),PAUSE_ALL:__webpack_require__2(79986),PAUSE:__webpack_require__2(17586),PLAY:__webpack_require__2(19618),RATE:__webpack_require__2(42306),RESUME_ALL:__webpack_require__2(10387),RESUME:__webpack_require__2(48959),SEEK:__webpack_require__2(9960),STOP_ALL:__webpack_require__2(19180),STOP:__webpack_require__2(98328),UNLOCKED:__webpack_require__2(50401),VOLUME:__webpack_require__2(52498)}},64895:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseSound=__webpack_require__2(30341),Class=__webpack_require__2(83419),Events2=__webpack_require__2(14463),Clamp=__webpack_require__2(45319),HTML5AudioSound=new Class({Extends:BaseSound,initialize:function HTML5AudioSound2(manager,key,config2){if(void 0===config2&&(config2={}),this.tags=manager.game.cache.audio.get(key),!this.tags)throw new Error('No cached audio asset with key "'+key);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,BaseSound.call(this,manager,key,config2)},play:function(markerName,config2){return!(this.manager.isLocked(this,"play",[markerName,config2])||!BaseSound.prototype.play.call(this,markerName,config2)||!this.pickAndPlayAudioTag()||(this.emit(Events2.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!BaseSound.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(Events2.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!BaseSound.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(Events2.RESUME,this),0))},stop:function(){return!this.manager.isLocked(this,"stop")&&!!BaseSound.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(Events2.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var seek=this.currentConfig.seek,delay=this.currentConfig.delay,offset=(this.currentMarker?this.currentMarker.start:0)+seek;return this.previousTime=offset,this.audio.currentTime=offset,this.applyConfig(),0===delay?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*delay,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var audio=this.tags[i];if("false"===audio.dataset.used)return audio.dataset.used="true",this.audio=audio,!0}if(!this.manager.override)return!1;var otherSounds=[];this.manager.forEachActiveSound((function(sound){sound.key===this.key&&sound.audio&&otherSounds.push(sound)}),this),otherSounds.sort((function(a1,a2){return a1.loop===a2.loop?a2.seek/a2.duration-a1.seek/a1.duration:a1.loop?1:-1}));var selectedSound=otherSounds[0];return this.audio=selectedSound.audio,selectedSound.reset(),selectedSound.audio=null,selectedSound.startTime=0,selectedSound.previousTime=0,!0},playCatchPromise:function(){var playPromise=this.audio.play();playPromise&&playPromise.catch((function(reason){console.warn(reason)}))},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){BaseSound.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(time){if(this.isPlaying)if(this.startTime>0)this.startTime<time-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,time-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var startTime=this.currentMarker?this.currentMarker.start:0,endTime=startTime+this.duration,currentTime=this.audio.currentTime;if(this.currentConfig.loop)currentTime>=endTime-this.manager.loopEndOffset?(this.audio.currentTime=startTime+Math.max(0,currentTime-endTime),currentTime=this.audio.currentTime):currentTime<startTime&&(this.audio.currentTime+=startTime,currentTime=this.audio.currentTime),currentTime<this.previousTime&&this.emit(Events2.LOOPED,this);else if(currentTime>=endTime)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(Events2.COMPLETE,this);this.previousTime=currentTime}},destroy:function(){BaseSound.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=Clamp(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){BaseSound.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(value){this.currentConfig.mute=value,this.manager.isLocked(this,"mute",value)||(this.updateMute(),this.emit(Events2.MUTE,this,value))}},setMute:function(value){return this.mute=value,this},volume:{get:function(){return this.currentConfig.volume},set:function(value){this.currentConfig.volume=value,this.manager.isLocked(this,"volume",value)||(this.updateVolume(),this.emit(Events2.VOLUME,this,value))}},setVolume:function(value){return this.volume=value,this},rate:{get:function(){return this.currentConfig.rate},set:function(value){this.currentConfig.rate=value,this.manager.isLocked(this,Events2.RATE,value)||(this.calculateRate(),this.emit(Events2.RATE,this,value))}},setRate:function(value){return this.rate=value,this},detune:{get:function(){return this.currentConfig.detune},set:function(value){this.currentConfig.detune=value,this.manager.isLocked(this,Events2.DETUNE,value)||(this.calculateRate(),this.emit(Events2.DETUNE,this,value))}},setDetune:function(value){return this.detune=value,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(value){this.manager.isLocked(this,"seek",value)||this.startTime>0||(this.isPlaying||this.isPaused)&&(value=Math.min(Math.max(0,value),this.duration),this.isPlaying?(this.previousTime=value,this.audio.currentTime=value):this.isPaused&&(this.currentConfig.seek=value),this.emit(Events2.SEEK,this,value))}},setSeek:function(value){return this.seek=value,this},loop:{get:function(){return this.currentConfig.loop},set:function(value){this.currentConfig.loop=value,this.manager.isLocked(this,"loop",value)||(this.audio&&(this.audio.loop=value),this.emit(Events2.LOOP,this,value))}},setLoop:function(value){return this.loop=value,this},pan:{get:function(){return this.currentConfig.pan},set:function(value){this.currentConfig.pan=value,this.emit(Events2.PAN,this,value)}},setPan:function(value){return this.pan=value,this}});module2.exports=HTML5AudioSound},33684:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseSoundManager=__webpack_require__2(85034),Class=__webpack_require__2(83419),Events2=__webpack_require__2(14463),HTML5AudioSound=__webpack_require__2(64895),HTML5AudioSoundManager=new Class({Extends:BaseSoundManager,initialize:function HTML5AudioSoundManager2(game){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,BaseSoundManager.call(this,game)},add:function(key,config2){var sound=new HTML5AudioSound(this,key,config2);return this.sounds.push(sound),sound},unlock:function(){this.locked=!1;var _this=this;if(this.game.cache.audio.entries.each((function(key,tags){for(var i=0;i<tags.length;i++)if("true"===tags[i].dataset.locked)return _this.locked=!0,!1;return!0})),this.locked){var moved=!1,detectMove=function(){moved=!0},unlock=function(){if(moved)moved=!1;else{document.body.removeEventListener("touchmove",detectMove),document.body.removeEventListener("touchend",unlock);var lockedTags=[];if(_this.game.cache.audio.entries.each((function(key,tags){for(var i=0;i<tags.length;i++){var tag=tags[i];"true"===tag.dataset.locked&&lockedTags.push(tag)}return!0})),0!==lockedTags.length){var lastTag=lockedTags[lockedTags.length-1];lastTag.oncanplaythrough=function(){lastTag.oncanplaythrough=null,lockedTags.forEach((function(tag){tag.dataset.locked="false"})),_this.unlocked=!0},lockedTags.forEach((function(tag){tag.load()}))}}};this.once(Events2.UNLOCKED,(function(){for(this.forEachActiveSound((function(sound){null===sound.currentMarker&&0===sound.duration&&(sound.duration=sound.tags[0].duration),sound.totalDuration=sound.tags[0].duration}));this.lockedActionsQueue.length;){var lockedAction=this.lockedActionsQueue.shift();lockedAction.sound[lockedAction.prop].apply?lockedAction.sound[lockedAction.prop].apply(lockedAction.sound,lockedAction.value||[]):lockedAction.sound[lockedAction.prop]=lockedAction.value}}),this),document.body.addEventListener("touchmove",detectMove,!1),document.body.addEventListener("touchend",unlock,!1)}},onBlur:function(){this.forEachActiveSound((function(sound){sound.isPlaying&&(this.onBlurPausedSounds.push(sound),sound.onBlur())}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(sound){sound.onFocus()})),this.onBlurPausedSounds.length=0},destroy:function(){BaseSoundManager.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(sound,prop,value){return"true"===sound.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:sound,prop:prop,value:value}),!0)},setMute:function(value){return this.mute=value,this},mute:{get:function(){return this._mute},set:function(value){this._mute=value,this.forEachActiveSound((function(sound){sound.updateMute()})),this.emit(Events2.GLOBAL_MUTE,this,value)}},setVolume:function(value){return this.volume=value,this},volume:{get:function(){return this._volume},set:function(value){this._volume=value,this.forEachActiveSound((function(sound){sound.updateVolume()})),this.emit(Events2.GLOBAL_VOLUME,this,value)}}});module2.exports=HTML5AudioSoundManager},23717:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={SoundManagerCreator:__webpack_require__2(14747),Events:__webpack_require__2(14463),BaseSound:__webpack_require__2(30341),BaseSoundManager:__webpack_require__2(85034),WebAudioSound:__webpack_require__2(71741),WebAudioSoundManager:__webpack_require__2(57490),HTML5AudioSound:__webpack_require__2(64895),HTML5AudioSoundManager:__webpack_require__2(33684),NoAudioSound:__webpack_require__2(4603),NoAudioSoundManager:__webpack_require__2(25960)}},4603:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseSound=__webpack_require__2(30341),Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Extend=__webpack_require__2(79291),NOOP=__webpack_require__2(29747),returnFalse=function(){return!1},returnNull=function(){return null},returnThis=function(){return this},NoAudioSound=new Class({Extends:EventEmitter2,initialize:function NoAudioSound2(manager,key,config2){void 0===config2&&(config2={}),EventEmitter2.call(this),this.manager=manager,this.key=key,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=Extend({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},config2),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:returnFalse,updateMarker:returnFalse,removeMarker:returnNull,play:returnFalse,pause:returnFalse,resume:returnFalse,stop:returnFalse,setMute:returnThis,setVolume:returnThis,setRate:returnThis,setDetune:returnThis,setSeek:returnThis,setLoop:returnThis,setPan:returnThis,applyConfig:returnNull,resetConfig:returnNull,update:NOOP,calculateRate:returnNull,destroy:function(){BaseSound.prototype.destroy.call(this)}});module2.exports=NoAudioSound},25960:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseSoundManager=__webpack_require__2(85034),Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),NoAudioSound=__webpack_require__2(4603),NOOP=__webpack_require__2(29747),NoAudioSoundManager=new Class({Extends:EventEmitter2,initialize:function NoAudioSoundManager2(game){EventEmitter2.call(this),this.game=game,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(key,config2){var sound=new NoAudioSound(this,key,config2);return this.sounds.push(sound),sound},addAudioSprite:function(key,config2){var sound=this.add(key,config2);return sound.spritemap={},sound},get:function(key){return BaseSoundManager.prototype.get.call(this,key)},getAll:function(key){return BaseSoundManager.prototype.getAll.call(this,key)},play:function(key,extra){return!1},playAudioSprite:function(key,spriteName,config2){return!1},remove:function(sound){return BaseSoundManager.prototype.remove.call(this,sound)},removeAll:function(){return BaseSoundManager.prototype.removeAll.call(this)},removeByKey:function(key){return BaseSoundManager.prototype.removeByKey.call(this,key)},stopByKey:function(key){return BaseSoundManager.prototype.stopByKey.call(this,key)},onBlur:NOOP,onFocus:NOOP,onGameBlur:NOOP,onGameFocus:NOOP,pauseAll:NOOP,resumeAll:NOOP,stopAll:NOOP,update:NOOP,setRate:NOOP,setDetune:NOOP,setMute:NOOP,setVolume:NOOP,unlock:NOOP,forEachActiveSound:function(callbackfn,scope){BaseSoundManager.prototype.forEachActiveSound.call(this,callbackfn,scope)},destroy:function(){BaseSoundManager.prototype.destroy.call(this)}});module2.exports=NoAudioSoundManager},71741:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseSound=__webpack_require__2(30341),Class=__webpack_require__2(83419),Events2=__webpack_require__2(14463),GetFastValue=__webpack_require__2(95540),WebAudioSound=new Class({Extends:BaseSound,initialize:function WebAudioSound2(manager,key,config2){if(void 0===config2&&(config2={}),this.audioBuffer=manager.game.cache.audio.get(key),!this.audioBuffer)throw new Error('Audio key "'+key+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=manager.context.createGain(),this.volumeNode=manager.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),manager.context.createPanner&&(this.spatialNode=manager.context.createPanner(),this.volumeNode.connect(this.spatialNode)),manager.context.createStereoPanner?(this.pannerNode=manager.context.createStereoPanner(),manager.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(manager.destination)):manager.context.createPanner?this.spatialNode.connect(manager.destination):this.volumeNode.connect(manager.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,BaseSound.call(this,manager,key,config2)},play:function(markerName,config2){return!!BaseSound.prototype.play.call(this,markerName,config2)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(Events2.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!BaseSound.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(Events2.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!BaseSound.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(Events2.RESUME,this),0))},stop:function(){return!!BaseSound.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(Events2.STOP,this),!0)},createAndStartBufferSource:function(){var seek=this.currentConfig.seek,delay=this.currentConfig.delay,when=this.manager.context.currentTime+delay,offset=(this.currentMarker?this.currentMarker.start:0)+seek,duration=this.duration-seek;this.playTime=when-seek,this.startTime=when,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,when),Math.max(0,offset),Math.max(0,duration)),this.resetConfig()},createAndStartLoopBufferSource:function(){var when=this.getLoopTime(),offset=this.currentMarker?this.currentMarker.start:0,duration=this.duration;this.loopTime=when,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,when),Math.max(0,offset),Math.max(0,duration))},createBufferSource:function(){var _this=this,source=this.manager.context.createBufferSource();return source.buffer=this.audioBuffer,source.connect(this.muteNode),source.onended=function(ev){var target2=ev.target;target2!==_this.source&&target2!==_this.loopSource||(_this.currentConfig.loop?_this.hasLooped=!0:_this.hasEnded=!0)},source},stopAndRemoveBufferSource:function(){if(this.source){var tempSource=this.source;this.source=null,tempSource.stop(),tempSource.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var source=this.currentConfig.source;if(source&&this.manager.context.createPanner){var node=this.spatialNode;node.panningModel=GetFastValue(source,"panningModel","equalpower"),node.distanceModel=GetFastValue(source,"distanceModel","inverse"),node.orientationX.value=GetFastValue(source,"orientationX",0),node.orientationY.value=GetFastValue(source,"orientationY",0),node.orientationZ.value=GetFastValue(source,"orientationZ",-1),node.refDistance=GetFastValue(source,"refDistance",1),node.maxDistance=GetFastValue(source,"maxDistance",1e4),node.rolloffFactor=GetFastValue(source,"rolloffFactor",1),node.coneInnerAngle=GetFastValue(source,"coneInnerAngle",360),node.coneOuterAngle=GetFastValue(source,"coneOuterAngle",0),node.coneOuterGain=GetFastValue(source,"coneOuterGain",0),this.spatialSource=GetFastValue(source,"follow",null),this.spatialSource||(node.positionX.value=GetFastValue(source,"x",0),node.positionY.value=GetFastValue(source,"y",0),node.positionZ.value=GetFastValue(source,"z",0))}BaseSound.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(value){this.spatialNode&&(this.spatialNode.positionX.value=value)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(value){this.spatialNode&&(this.spatialNode.positionY.value=value)}},update:function(){if(this.isPlaying&&this.spatialSource){var x=GetFastValue(this.spatialSource,"x",null),y=GetFastValue(this.spatialSource,"y",null);x&&x!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=x),y&&y!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=y)}this.hasEnded?(BaseSound.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(Events2.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(Events2.LOOPED,this))},destroy:function(){this.pendingRemove||(BaseSound.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){BaseSound.prototype.calculateRate.call(this);var now=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,now),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,now)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var currentTime=0,i=0;i<this.rateUpdates.length;i++)currentTime+=((i<this.rateUpdates.length-1?this.rateUpdates[i+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[i].time)*this.rateUpdates[i].rate;return currentTime},getLoopTime:function(){for(var lastRateUpdateCurrentTime=0,i=0;i<this.rateUpdates.length-1;i++)lastRateUpdateCurrentTime+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var lastRateUpdate=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+lastRateUpdate.time+(this.duration-lastRateUpdateCurrentTime)/lastRateUpdate.rate},rate:{get:function(){return this.currentConfig.rate},set:function(value){this.currentConfig.rate=value,this.calculateRate(),this.emit(Events2.RATE,this,value)}},setRate:function(value){return this.rate=value,this},detune:{get:function(){return this.currentConfig.detune},set:function(value){this.currentConfig.detune=value,this.calculateRate(),this.emit(Events2.DETUNE,this,value)}},setDetune:function(value){return this.detune=value,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(value){this.currentConfig.mute=value,this.muteNode.gain.setValueAtTime(value?0:1,0),this.emit(Events2.MUTE,this,value)}},setMute:function(value){return this.mute=value,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(value){this.currentConfig.volume=value,this.volumeNode.gain.setValueAtTime(value,0),this.emit(Events2.VOLUME,this,value)}},setVolume:function(value){return this.volume=value,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(value){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(value=Math.min(Math.max(0,value),this.duration),this.currentConfig.seek=value,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(Events2.SEEK,this,value))}},setSeek:function(value){return this.seek=value,this},loop:{get:function(){return this.currentConfig.loop},set:function(value){this.currentConfig.loop=value,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),value&&this.createAndStartLoopBufferSource()),this.emit(Events2.LOOP,this,value)}},setLoop:function(value){return this.loop=value,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(value){this.currentConfig.pan=value,this.pannerNode&&this.pannerNode.pan.setValueAtTime(value,this.manager.context.currentTime),this.emit(Events2.PAN,this,value)}},setPan:function(value){return this.pan=value,this}});module2.exports=WebAudioSound},57490:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Base64ToArrayBuffer=__webpack_require__2(53134),BaseSoundManager=__webpack_require__2(85034),Class=__webpack_require__2(83419),Events2=__webpack_require__2(14463),GameEvents=__webpack_require__2(8443),WebAudioSound=__webpack_require__2(71741),GetFastValue=__webpack_require__2(95540),WebAudioSoundManager=new Class({Extends:BaseSoundManager,initialize:function WebAudioSoundManager2(game){this.context=this.createAudioContext(game),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),BaseSoundManager.call(this,game),this.locked&&game.isBooted?this.unlock():game.events.once(GameEvents.BOOT,this.unlock,this)},createAudioContext:function(game){var audioConfig=game.config.audio;return audioConfig.context?(audioConfig.context.resume(),audioConfig.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(context){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=context,this.masterMuteNode=context.createGain(),this.masterVolumeNode=context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(context.destination),this.destination=this.masterMuteNode,this},add:function(key,config2){var sound=new WebAudioSound(this,key,config2);return this.sounds.push(sound),sound},decodeAudio:function(audioKey,audioData){var audioFiles;audioFiles=Array.isArray(audioKey)?audioKey:[{key:audioKey,data:audioData}];for(var cache=this.game.cache.audio,remaining=audioFiles.length,i=0;i<audioFiles.length;i++){var entry=audioFiles[i],key=entry.key,data=entry.data;"string"==typeof data&&(data=Base64ToArrayBuffer(data));var success=function(key2,audioBuffer){cache.add(key2,audioBuffer),this.emit(Events2.DECODED,key2),0===--remaining&&this.emit(Events2.DECODED_ALL)}.bind(this,key),failure=function(key2,error){console.error("Error decoding audio: "+key2+" - ",error?error.message:""),0===--remaining&&this.emit(Events2.DECODED_ALL)}.bind(this,key);this.context.decodeAudioData(data,success,failure)}},setListenerPosition:function(x,y){return void 0===x&&(x=this.game.scale.width/2),void 0===y&&(y=this.game.scale.height/2),this.listenerPosition.set(x,y),this},unlock:function(){var _this=this,body=document.body,unlockHandler=function unlockHandler2(){if(_this.context&&body){var bodyRemove=body.removeEventListener.bind(body);_this.context.resume().then((function(){bodyRemove("touchstart",unlockHandler2),bodyRemove("touchend",unlockHandler2),bodyRemove("click",unlockHandler2),bodyRemove("keydown",unlockHandler2),_this.unlocked=!0}),(function(){bodyRemove("touchstart",unlockHandler2),bodyRemove("touchend",unlockHandler2),bodyRemove("click",unlockHandler2),bodyRemove("keydown",unlockHandler2)}))}};body&&(body.addEventListener("touchstart",unlockHandler,!1),body.addEventListener("touchend",unlockHandler,!1),body.addEventListener("click",unlockHandler,!1),body.addEventListener("keydown",unlockHandler,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var context=this.context;!context||this.locked||"suspended"!==context.state&&"interrupted"!==context.state||context.resume()},update:function(time,delta){var listener=this.context.listener;if(listener&&void 0!==listener.positionX){var x=GetFastValue(this.listenerPosition,"x",null),y=GetFastValue(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=listener.positionX.value=x),y&&y!==this._spatialy&&(this._spatialy=listener.positionY.value=y)}BaseSoundManager.prototype.update.call(this,time,delta),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var _this=this;this.context.close().then((function(){_this.context=null}))}BaseSoundManager.prototype.destroy.call(this)},setMute:function(value){return this.mute=value,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(value){this.masterMuteNode.gain.setValueAtTime(value?0:1,0),this.emit(Events2.GLOBAL_MUTE,this,value)}},setVolume:function(value){return this.volume=value,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(value){this.masterVolumeNode.gain.setValueAtTime(value,0),this.emit(Events2.GLOBAL_VOLUME,this,value)}}});module2.exports=WebAudioSoundManager},73162:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayUtils=__webpack_require__2(37105),Class=__webpack_require__2(83419),NOOP=__webpack_require__2(29747),StableSort=__webpack_require__2(19186),List=new Class({initialize:function List2(parent){this.parent=parent,this.list=[],this.position=0,this.addCallback=NOOP,this.removeCallback=NOOP,this._sortKey=""},add:function(child,skipCallback){return skipCallback?ArrayUtils.Add(this.list,child):ArrayUtils.Add(this.list,child,0,this.addCallback,this)},addAt:function(child,index,skipCallback){return skipCallback?ArrayUtils.AddAt(this.list,child,index):ArrayUtils.AddAt(this.list,child,index,0,this.addCallback,this)},getAt:function(index){return this.list[index]},getIndex:function(child){return this.list.indexOf(child)},sort:function(property,handler){return property?(void 0===handler&&(handler=function(childA,childB){return childA[property]-childB[property]}),StableSort(this.list,handler),this):this},getByName:function(name){return ArrayUtils.GetFirst(this.list,"name",name)},getRandom:function(startIndex,length){return ArrayUtils.GetRandom(this.list,startIndex,length)},getFirst:function(property,value,startIndex,endIndex){return ArrayUtils.GetFirst(this.list,property,value,startIndex,endIndex)},getAll:function(property,value,startIndex,endIndex){return ArrayUtils.GetAll(this.list,property,value,startIndex,endIndex)},count:function(property,value){return ArrayUtils.CountAllMatching(this.list,property,value)},swap:function(child1,child2){ArrayUtils.Swap(this.list,child1,child2)},moveTo:function(child,index){return ArrayUtils.MoveTo(this.list,child,index)},moveAbove:function(child1,child2){return ArrayUtils.MoveAbove(this.list,child1,child2)},moveBelow:function(child1,child2){return ArrayUtils.MoveBelow(this.list,child1,child2)},remove:function(child,skipCallback){return skipCallback?ArrayUtils.Remove(this.list,child):ArrayUtils.Remove(this.list,child,this.removeCallback,this)},removeAt:function(index,skipCallback){return skipCallback?ArrayUtils.RemoveAt(this.list,index):ArrayUtils.RemoveAt(this.list,index,this.removeCallback,this)},removeBetween:function(startIndex,endIndex,skipCallback){return skipCallback?ArrayUtils.RemoveBetween(this.list,startIndex,endIndex):ArrayUtils.RemoveBetween(this.list,startIndex,endIndex,this.removeCallback,this)},removeAll:function(skipCallback){for(var i=this.list.length;i--;)this.remove(this.list[i],skipCallback);return this},bringToTop:function(child){return ArrayUtils.BringToTop(this.list,child)},sendToBack:function(child){return ArrayUtils.SendToBack(this.list,child)},moveUp:function(child){return ArrayUtils.MoveUp(this.list,child),child},moveDown:function(child){return ArrayUtils.MoveDown(this.list,child),child},reverse:function(){return this.list.reverse(),this},shuffle:function(){return ArrayUtils.Shuffle(this.list),this},replace:function(oldChild,newChild){return ArrayUtils.Replace(this.list,oldChild,newChild)},exists:function(child){return this.list.indexOf(child)>-1},setAll:function(property,value,startIndex,endIndex){return ArrayUtils.SetAll(this.list,property,value,startIndex,endIndex),this},each:function(callback,context){for(var args=[null],i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<this.list.length;i++)args[0]=this.list[i],callback.apply(context,args)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});module2.exports=List},90330:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Map2=new(__webpack_require__2(83419))({initialize:function Map3(elements){this.entries={},this.size=0,this.setAll(elements)},setAll:function(elements){if(Array.isArray(elements))for(var i=0;i<elements.length;i++)this.set(elements[i][0],elements[i][1]);return this},set:function(key,value){return this.has(key)||this.size++,this.entries[key]=value,this},get:function(key){if(this.has(key))return this.entries[key]},getArray:function(){var output=[],entries=this.entries;for(var key in entries)output.push(entries[key]);return output},has:function(key){return this.entries.hasOwnProperty(key)},delete:function(key){return this.has(key)&&(delete this.entries[key],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(prop){delete this.entries[prop]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var output=[],entries=this.entries;for(var key in entries)output.push(entries[key]);return output},dump:function(){var entries=this.entries;for(var key in console.group("Map"),entries)console.log(key,entries[key]);console.groupEnd()},each:function(callback){var entries=this.entries;for(var key in entries)if(!1===callback(key,entries[key]))break;return this},contains:function(value){var entries=this.entries;for(var key in entries)if(entries[key]===value)return!0;return!1},merge:function(map,override){void 0===override&&(override=!1);var local=this.entries,source=map.entries;for(var key in source)local.hasOwnProperty(key)&&override?local[key]=source[key]:this.set(key,source[key]);return this}});module2.exports=Map2},25774:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(82348),ProcessQueue=new Class({Extends:EventEmitter2,initialize:function ProcessQueue2(){EventEmitter2.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(item){return this._active.indexOf(item)>-1},isPending:function(item){return this._toProcess>0&&this._pending.indexOf(item)>-1},isDestroying:function(item){return this._destroy.indexOf(item)>-1},add:function(item){return this.checkQueue&&this.isActive(item)&&!this.isDestroying(item)||this.isPending(item)||(this._pending.push(item),this._toProcess++),item},remove:function(item){if(this.isPending(item)){var pending=this._pending,idx=pending.indexOf(item);-1!==idx&&pending.splice(idx,1)}else this.isActive(item)&&(this._destroy.push(item),this._toProcess++);return item},removeAll:function(){for(var list=this._active,destroy=this._destroy,i=list.length;i--;)destroy.push(list[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var i,item,list=this._destroy,active=this._active;for(i=0;i<list.length;i++){item=list[i];var idx=active.indexOf(item);-1!==idx&&(active.splice(idx,1),this.emit(Events2.PROCESS_QUEUE_REMOVE,item))}for(list.length=0,list=this._pending,i=0;i<list.length;i++)item=list[i],(!this.checkQueue||this.checkQueue&&-1===active.indexOf(item))&&(active.push(item),this.emit(Events2.PROCESS_QUEUE_ADD,item));return list.length=0,this._toProcess=0,active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});module2.exports=ProcessQueue},59542:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Vladimir Agafonkin
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var quickselect=__webpack_require__2(43886);function rbush(maxEntries){if(!(this instanceof rbush))return new rbush(maxEntries);this._maxEntries=Math.max(4,maxEntries||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function findItem(item,items,equalsFn){if(!equalsFn)return items.indexOf(item);for(var i=0;i<items.length;i++)if(equalsFn(item,items[i]))return i;return-1}function calcBBox(node,toBBox){distBBox(node,0,node.children.length,toBBox,node)}function distBBox(node,k,p,toBBox,destNode){destNode||(destNode=createNode(null)),destNode.minX=1/0,destNode.minY=1/0,destNode.maxX=-1/0,destNode.maxY=-1/0;for(var child,i=k;i<p;i++)child=node.children[i],extend(destNode,node.leaf?toBBox(child):child);return destNode}function extend(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function compareNodeMinX(a,b){return a.minX-b.minX}function compareNodeMinY(a,b){return a.minY-b.minY}function bboxArea(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function bboxMargin(a){return a.maxX-a.minX+(a.maxY-a.minY)}function contains(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function intersects(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function createNode(children){return{children:children,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(arr,left,right,n,compare){for(var mid,stack=[left,right];stack.length;)(right=stack.pop())-(left=stack.pop())<=n||(mid=left+Math.ceil((right-left)/n/2)*n,quickselect(arr,mid,left,right,compare),stack.push(left,mid,mid,right))}rbush.prototype={all:function(){return this._all(this.data,[])},search:function(bbox){var node=this.data,result=[],toBBox=this.toBBox;if(!intersects(bbox,node))return result;for(var i,len,child,childBBox,nodesToSearch=[];node;){for(i=0,len=node.children.length;i<len;i++)child=node.children[i],intersects(bbox,childBBox=node.leaf?toBBox(child):child)&&(node.leaf?result.push(child):contains(bbox,childBBox)?this._all(child,result):nodesToSearch.push(child));node=nodesToSearch.pop()}return result},collides:function(bbox){var node=this.data,toBBox=this.toBBox;if(!intersects(bbox,node))return!1;for(var i,len,child,childBBox,nodesToSearch=[];node;){for(i=0,len=node.children.length;i<len;i++)if(child=node.children[i],intersects(bbox,childBBox=node.leaf?toBBox(child):child)){if(node.leaf||contains(bbox,childBBox))return!0;nodesToSearch.push(child)}node=nodesToSearch.pop()}return!1},load:function(data){if(!data||!data.length)return this;if(data.length<this._minEntries){for(var i=0,len=data.length;i<len;i++)this.insert(data[i]);return this}var node=this._build(data.slice(),0,data.length-1,0);if(this.data.children.length)if(this.data.height===node.height)this._splitRoot(this.data,node);else{if(this.data.height<node.height){var tmpNode=this.data;this.data=node,node=tmpNode}this._insert(node,this.data.height-node.height-1,!0)}else this.data=node;return this},insert:function(item){return item&&this._insert(item,this.data.height-1),this},clear:function(){return this.data=createNode([]),this},remove:function(item,equalsFn){if(!item)return this;for(var i,parent,index,goingUp,node=this.data,bbox=this.toBBox(item),path=[],indexes=[];node||path.length;){if(node||(node=path.pop(),parent=path[path.length-1],i=indexes.pop(),goingUp=!0),node.leaf&&-1!==(index=findItem(item,node.children,equalsFn)))return node.children.splice(index,1),path.push(node),this._condense(path),this;goingUp||node.leaf||!contains(node,bbox)?parent?(i++,node=parent.children[i],goingUp=!1):node=null:(path.push(node),indexes.push(i),i=0,parent=node,node=node.children[0])}return this},toBBox:function(item){return item},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(data){return this.data=data,this},_all:function(node,result){for(var nodesToSearch=[];node;)node.leaf?result.push.apply(result,node.children):nodesToSearch.push.apply(nodesToSearch,node.children),node=nodesToSearch.pop();return result},_build:function(items,left,right,height){var node,N=right-left+1,M=this._maxEntries;if(N<=M)return calcBBox(node=createNode(items.slice(left,right+1)),this.toBBox),node;height||(height=Math.ceil(Math.log(N)/Math.log(M)),M=Math.ceil(N/Math.pow(M,height-1))),(node=createNode([])).leaf=!1,node.height=height;var i,j,right2,right3,N2=Math.ceil(N/M),N1=N2*Math.ceil(Math.sqrt(M));for(multiSelect(items,left,right,N1,this.compareMinX),i=left;i<=right;i+=N1)for(multiSelect(items,i,right2=Math.min(i+N1-1,right),N2,this.compareMinY),j=i;j<=right2;j+=N2)right3=Math.min(j+N2-1,right2),node.children.push(this._build(items,j,right3,height-1));return calcBBox(node,this.toBBox),node},_chooseSubtree:function(bbox,node,level,path){for(var i,len,child,targetNode,area,enlargement,minArea,minEnlargement,a,b;path.push(node),!node.leaf&&path.length-1!==level;){for(minArea=minEnlargement=1/0,i=0,len=node.children.length;i<len;i++)area=bboxArea(child=node.children[i]),a=bbox,b=child,(enlargement=(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))-area)<minEnlargement?(minEnlargement=enlargement,minArea=area<minArea?area:minArea,targetNode=child):enlargement===minEnlargement&&area<minArea&&(minArea=area,targetNode=child);node=targetNode||node.children[0]}return node},_insert:function(item,level,isNode){var toBBox=this.toBBox,bbox=isNode?item:toBBox(item),insertPath=[],node=this._chooseSubtree(bbox,this.data,level,insertPath);for(node.children.push(item),extend(node,bbox);level>=0&&insertPath[level].children.length>this._maxEntries;)this._split(insertPath,level),level--;this._adjustParentBBoxes(bbox,insertPath,level)},_split:function(insertPath,level){var node=insertPath[level],M=node.children.length,m=this._minEntries;this._chooseSplitAxis(node,m,M);var splitIndex=this._chooseSplitIndex(node,m,M),newNode=createNode(node.children.splice(splitIndex,node.children.length-splitIndex));newNode.height=node.height,newNode.leaf=node.leaf,calcBBox(node,this.toBBox),calcBBox(newNode,this.toBBox),level?insertPath[level-1].children.push(newNode):this._splitRoot(node,newNode)},_splitRoot:function(node,newNode){this.data=createNode([node,newNode]),this.data.height=node.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(node,m,M){var i,bbox1,bbox2,overlap,area,minOverlap,minArea,index,a,b,minX,minY,maxX,maxY;for(minOverlap=minArea=1/0,i=m;i<=M-m;i++)bbox1=distBBox(node,0,i,this.toBBox),bbox2=distBBox(node,i,M,this.toBBox),a=bbox1,b=bbox2,minX=void 0,minY=void 0,maxX=void 0,maxY=void 0,minX=Math.max(a.minX,b.minX),minY=Math.max(a.minY,b.minY),maxX=Math.min(a.maxX,b.maxX),maxY=Math.min(a.maxY,b.maxY),overlap=Math.max(0,maxX-minX)*Math.max(0,maxY-minY),area=bboxArea(bbox1)+bboxArea(bbox2),overlap<minOverlap?(minOverlap=overlap,index=i,minArea=area<minArea?area:minArea):overlap===minOverlap&&area<minArea&&(minArea=area,index=i);return index},_chooseSplitAxis:function(node,m,M){var compareMinX=node.leaf?this.compareMinX:compareNodeMinX,compareMinY=node.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(node,m,M,compareMinX)<this._allDistMargin(node,m,M,compareMinY)&&node.children.sort(compareMinX)},_allDistMargin:function(node,m,M,compare){node.children.sort(compare);var i,child,toBBox=this.toBBox,leftBBox=distBBox(node,0,m,toBBox),rightBBox=distBBox(node,M-m,M,toBBox),margin=bboxMargin(leftBBox)+bboxMargin(rightBBox);for(i=m;i<M-m;i++)child=node.children[i],extend(leftBBox,node.leaf?toBBox(child):child),margin+=bboxMargin(leftBBox);for(i=M-m-1;i>=m;i--)child=node.children[i],extend(rightBBox,node.leaf?toBBox(child):child),margin+=bboxMargin(rightBBox);return margin},_adjustParentBBoxes:function(bbox,path,level){for(var i=level;i>=0;i--)extend(path[i],bbox)},_condense:function(path){for(var siblings,i=path.length-1;i>=0;i--)0===path[i].children.length?i>0?(siblings=path[i-1].children).splice(siblings.indexOf(path[i]),1):this.clear():calcBBox(path[i],this.toBBox)},compareMinX:function(a,b){return a.left-b.left},compareMinY:function(a,b){return a.top-b.top},toBBox:function(a){return{minX:a.left,minY:a.top,maxX:a.right,maxY:a.bottom}}},module2.exports=rbush},35072:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Set2=new(__webpack_require__2(83419))({initialize:function Set3(elements){if(this.entries=[],Array.isArray(elements))for(var i=0;i<elements.length;i++)this.set(elements[i])},set:function(value){return-1===this.entries.indexOf(value)&&this.entries.push(value),this},get:function(property,value){for(var i=0;i<this.entries.length;i++){var entry=this.entries[i];if(entry[property]===value)return entry}},getArray:function(){return this.entries.slice(0)},delete:function(value){var index=this.entries.indexOf(value);return index>-1&&this.entries.splice(index,1),this},dump:function(){console.group("Set");for(var i=0;i<this.entries.length;i++){var entry=this.entries[i];console.log(entry)}console.groupEnd()},each:function(callback,callbackScope){var i,temp=this.entries.slice(),len=temp.length;if(callbackScope)for(i=0;i<len&&!1!==callback.call(callbackScope,temp[i],i);i++);else for(i=0;i<len&&!1!==callback(temp[i],i);i++);return this},iterate:function(callback,callbackScope){var i,len=this.entries.length;if(callbackScope)for(i=0;i<len&&!1!==callback.call(callbackScope,this.entries[i],i);i++);else for(i=0;i<len&&!1!==callback(this.entries[i],i);i++);return this},iterateLocal:function(callbackKey){var i,args=[];for(i=1;i<arguments.length;i++)args.push(arguments[i]);var len=this.entries.length;for(i=0;i<len;i++){var entry=this.entries[i];entry[callbackKey].apply(entry,args)}return this},clear:function(){return this.entries.length=0,this},contains:function(value){return this.entries.indexOf(value)>-1},union:function(set){var newSet=new Set2;return set.entries.forEach((function(value){newSet.set(value)})),this.entries.forEach((function(value){newSet.set(value)})),newSet},intersect:function(set){var newSet=new Set2;return this.entries.forEach((function(value){set.contains(value)&&newSet.set(value)})),newSet},difference:function(set){var newSet=new Set2;return this.entries.forEach((function(value){set.contains(value)||newSet.set(value)})),newSet},size:{get:function(){return this.entries.length},set:function(value){return value<this.entries.length?this.entries.length=value:this.entries.length}}});module2.exports=Set2},86555:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),SnapFloor=__webpack_require__2(56583),Vector2=__webpack_require__2(26099),Size=new Class({initialize:function Size2(width,height,aspectMode,parent){void 0===width&&(width=0),void 0===height&&(height=width),void 0===aspectMode&&(aspectMode=0),void 0===parent&&(parent=null),this._width=width,this._height=height,this._parent=parent,this.aspectMode=aspectMode,this.aspectRatio=0===height?1:width/height,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new Vector2},setAspectMode:function(value){return void 0===value&&(value=0),this.aspectMode=value,this.setSize(this._width,this._height)},setSnap:function(snapWidth,snapHeight){return void 0===snapWidth&&(snapWidth=0),void 0===snapHeight&&(snapHeight=snapWidth),this.snapTo.set(snapWidth,snapHeight),this.setSize(this._width,this._height)},setParent:function(parent){return this._parent=parent,this.setSize(this._width,this._height)},setMin:function(width,height){return void 0===width&&(width=0),void 0===height&&(height=width),this.minWidth=Clamp(width,0,this.maxWidth),this.minHeight=Clamp(height,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(width,height){return void 0===width&&(width=Number.MAX_VALUE),void 0===height&&(height=width),this.maxWidth=Clamp(width,this.minWidth,Number.MAX_VALUE),this.maxHeight=Clamp(height,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(width,height){switch(void 0===width&&(width=0),void 0===height&&(height=width),this.aspectMode){case Size.NONE:this._width=this.getNewWidth(SnapFloor(width,this.snapTo.x)),this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case Size.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(SnapFloor(width,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case Size.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case Size.FIT:this.constrain(width,height,!0);break;case Size.ENVELOP:this.constrain(width,height,!1)}return this},setAspectRatio:function(ratio){return this.aspectRatio=ratio,this.setSize(this._width,this._height)},resize:function(width,height){return this._width=this.getNewWidth(SnapFloor(width,this.snapTo.x)),this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(value,checkParent){return void 0===checkParent&&(checkParent=!0),value=Clamp(value,this.minWidth,this.maxWidth),checkParent&&this._parent&&value>this._parent.width&&(value=Math.max(this.minWidth,this._parent.width)),value},getNewHeight:function(value,checkParent){return void 0===checkParent&&(checkParent=!0),value=Clamp(value,this.minHeight,this.maxHeight),checkParent&&this._parent&&value>this._parent.height&&(value=Math.max(this.minHeight,this._parent.height)),value},constrain:function(width,height,fit){void 0===width&&(width=0),void 0===height&&(height=width),void 0===fit&&(fit=!0),width=this.getNewWidth(width),height=this.getNewHeight(height);var snap=this.snapTo,newRatio=0===height?1:width/height;return fit&&this.aspectRatio>newRatio||!fit&&this.aspectRatio<newRatio?(height=(width=SnapFloor(width,snap.x))/this.aspectRatio,snap.y>0&&(width=(height=SnapFloor(height,snap.y))*this.aspectRatio)):(fit&&this.aspectRatio<newRatio||!fit&&this.aspectRatio>newRatio)&&(width=(height=SnapFloor(height,snap.y))*this.aspectRatio,snap.x>0&&(height=(width=SnapFloor(width,snap.x))*(1/this.aspectRatio))),this._width=width,this._height=height,this},fitTo:function(width,height){return this.constrain(width,height,!0)},envelop:function(width,height){return this.constrain(width,height,!1)},setWidth:function(value){return this.setSize(value,this._height)},setHeight:function(value){return this.setSize(this._width,value)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(element){element&&element.style&&(element.style.width=this._width+"px",element.style.height=this._height+"px")},copy:function(destination){return destination.setAspectMode(this.aspectMode),destination.aspectRatio=this.aspectRatio,destination.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(value){this.setSize(value,this._height)}},height:{get:function(){return this._height},set:function(value){this.setSize(this._width,value)}}});Size.NONE=0,Size.WIDTH_CONTROLS_HEIGHT=1,Size.HEIGHT_CONTROLS_WIDTH=2,Size.FIT=3,Size.ENVELOP=4,module2.exports=Size},15238:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="add"},56187:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="remove"},82348:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={PROCESS_QUEUE_ADD:__webpack_require__2(15238),PROCESS_QUEUE_REMOVE:__webpack_require__2(56187)}},41392:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Events:__webpack_require__2(82348),List:__webpack_require__2(73162),Map:__webpack_require__2(90330),ProcessQueue:__webpack_require__2(25774),RTree:__webpack_require__2(59542),Set:__webpack_require__2(35072),Size:__webpack_require__2(86555)}},57382:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Clamp=__webpack_require__2(45319),Color=__webpack_require__2(40987),CONST=__webpack_require__2(8054),IsSizePowerOfTwo=__webpack_require__2(50030),Texture=__webpack_require__2(79237),CanvasTexture=new Class({Extends:Texture,initialize:function CanvasTexture2(manager,key,source,width,height){Texture.call(this,manager,key,source,width,height),this.add("__BASE",0,0,0,width,height),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=width,this.height=height,this.imageData=this.context.getImageData(0,0,width,height),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===CONST.WEBGL&&this.refresh(),this},draw:function(x,y,source,update){return void 0===update&&(update=!0),this.context.drawImage(source,x,y),update&&this.update(),this},drawFrame:function(key,frame,x,y,update){void 0===x&&(x=0),void 0===y&&(y=0),void 0===update&&(update=!0);var textureFrame=this.manager.getFrame(key,frame);if(textureFrame){var cd=textureFrame.canvasData,width=textureFrame.cutWidth,height=textureFrame.cutHeight,res=textureFrame.source.resolution;this.context.drawImage(textureFrame.source.image,cd.x,cd.y,width,height,x,y,width/res,height/res),update&&this.update()}return this},setPixel:function(x,y,red,green,blue,alpha){if(void 0===alpha&&(alpha=255),x=Math.abs(Math.floor(x)),y=Math.abs(Math.floor(y)),this.getIndex(x,y)>-1){var imageData=this.context.getImageData(x,y,1,1);imageData.data[0]=red,imageData.data[1]=green,imageData.data[2]=blue,imageData.data[3]=alpha,this.context.putImageData(imageData,x,y)}return this},putData:function(imageData,x,y,dirtyX,dirtyY,dirtyWidth,dirtyHeight){return void 0===dirtyX&&(dirtyX=0),void 0===dirtyY&&(dirtyY=0),void 0===dirtyWidth&&(dirtyWidth=imageData.width),void 0===dirtyHeight&&(dirtyHeight=imageData.height),this.context.putImageData(imageData,x,y,dirtyX,dirtyY,dirtyWidth,dirtyHeight),this},getData:function(x,y,width,height){return x=Clamp(Math.floor(x),0,this.width-1),y=Clamp(Math.floor(y),0,this.height-1),width=Clamp(width,1,this.width-x),height=Clamp(height,1,this.height-y),this.context.getImageData(x,y,width,height)},getPixel:function(x,y,out){out||(out=new Color);var index=this.getIndex(x,y);if(index>-1){var data=this.data,r=data[index+0],g=data[index+1],b=data[index+2],a=data[index+3];out.setTo(r,g,b,a)}return out},getPixels:function(x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.width),void 0===height&&(height=width),x=Math.abs(Math.round(x)),y=Math.abs(Math.round(y));for(var left=Clamp(x,0,this.width),right=Clamp(x+width,0,this.width),top=Clamp(y,0,this.height),bottom=Clamp(y+height,0,this.height),pixel=new Color,out=[],py=top;py<bottom;py++){for(var row=[],px=left;px<right;px++)pixel=this.getPixel(px,py,pixel),row.push({x:px,y:py,color:pixel.color,alpha:pixel.alphaGL});out.push(row)}return out},getIndex:function(x,y){return x=Math.abs(Math.round(x)),y=Math.abs(Math.round(y)),x<this.width&&y<this.height?4*(x+y*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(x,y,width,height,update){return void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.width),void 0===height&&(height=this.height),void 0===update&&(update=!0),this.context.clearRect(x,y,width,height),update&&this.update(),this},setSize:function(width,height){return void 0===height&&(height=width),width===this.width&&height===this.height||(this.canvas.width=width,this.canvas.height=height,this._source.width=width,this._source.height=height,this._source.isPowerOf2=IsSizePowerOfTwo(width,height),this.frames.__BASE.setSize(width,height,0,0),this.width=width,this.height=height,this.refresh()),this},destroy:function(){Texture.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});module2.exports=CanvasTexture},81320:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlendModes=__webpack_require__2(10312),Camera=__webpack_require__2(38058),CanvasPool=__webpack_require__2(27919),Class=__webpack_require__2(83419),CONST=__webpack_require__2(8054),Frame=__webpack_require__2(4327),GetFastValue=__webpack_require__2(95540),PIPELINES=__webpack_require__2(36060),RenderTarget=__webpack_require__2(32302),Texture=__webpack_require__2(79237),Utils=__webpack_require__2(70554),DynamicTexture=new Class({Extends:Texture,initialize:function DynamicTexture2(manager,key,width,height){void 0===width&&(width=256),void 0===height&&(height=256),this.type="DynamicTexture";var renderer=manager.game.renderer,isCanvas=renderer&&renderer.type===CONST.CANVAS,source=isCanvas?CanvasPool.create2D(this,width,height):[this];Texture.call(this,manager,key,source,width,height),this.add("__BASE",0,0,0,width,height),this.renderer=renderer,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=isCanvas?source:null,this.context=isCanvas?source.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new Camera(0,0,width,height).setScene(manager.game.scene.systemScene,!1),this.renderTarget=isCanvas?null:new RenderTarget(renderer,width,height,1,0,!1,!1,!0,!1),this.pipeline=isCanvas?null:renderer.pipelines.get(PIPELINES.SINGLE_PIPELINE),this.setSize(width,height)},setSize:function(width,height){void 0===height&&(height=width);var frame=this.get(),source=frame.source;if(width!==this.width||height!==this.height){this.canvas&&(this.canvas.width=width,this.canvas.height=height);var renderTarget=this.renderTarget;renderTarget&&(renderTarget.willResize(width,height)&&renderTarget.resize(width,height),renderTarget.texture!==source.glTexture&&this.renderer.deleteTexture(source.glTexture),this.setFromRenderTarget()),this.camera.setSize(width,height),source.width=width,source.height=height,frame.setSize(width,height),this.width=width,this.height=height}else{var baseFrame=this.getSourceImage();frame.cutX+width>baseFrame.width&&(width=baseFrame.width-frame.cutX),frame.cutY+height>baseFrame.height&&(height=baseFrame.height-frame.cutY),frame.setSize(width,height,frame.cutX,frame.cutY)}return this},setFromRenderTarget:function(){var source=this.get().source,renderTarget=this.renderTarget;return source.isRenderTexture=!0,source.isGLTexture=!0,source.glTexture=renderTarget.texture,this},setIsSpriteTexture:function(value){return this.isSpriteTexture=value,this},fill:function(rgb,alpha,x,y,width,height){var camera=this.camera,renderer=this.renderer;void 0===alpha&&(alpha=1),void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.width),void 0===height&&(height=this.height);var r=rgb>>16&255,g=rgb>>8&255,b=255&rgb,renderTarget=this.renderTarget;if(camera.preRender(),renderTarget){renderTarget.bind(!0);var pipeline=this.pipeline.manager.set(this.pipeline),sx=renderer.width/renderTarget.width,sy=renderer.height/renderTarget.height,ty=renderTarget.height-(y+height);pipeline.drawFillRect(x*sx,ty*sy,width*sx,height*sy,Utils.getTintFromFloats(b/255,g/255,r/255,1),alpha),renderTarget.unbind(!0)}else{var ctx=this.context;renderer.setContext(ctx),ctx.globalCompositeOperation="source-over",ctx.fillStyle="rgba("+r+","+g+","+b+","+alpha+")",ctx.fillRect(x,y,width,height),renderer.setContext()}return this.dirty=!0,this},clear:function(x,y,width,height){if(this.dirty){var ctx=this.context,renderTarget=this.renderTarget;renderTarget?renderTarget.clear(x,y,width,height):ctx&&(void 0!==x&&void 0!==y&&void 0!==width&&void 0!==height?ctx.clearRect(x,y,width,height):(ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,this.width,this.height),ctx.restore())),this.dirty=!1}return this},stamp:function(key,frame,x,y,config2){void 0===x&&(x=0),void 0===y&&(y=0);var alpha=GetFastValue(config2,"alpha",1),tint=GetFastValue(config2,"tint",16777215),angle=GetFastValue(config2,"angle",0),rotation=GetFastValue(config2,"rotation",0),scale=GetFastValue(config2,"scale",1),scaleX=GetFastValue(config2,"scaleX",scale),scaleY=GetFastValue(config2,"scaleY",scale),originX=GetFastValue(config2,"originX",.5),originY=GetFastValue(config2,"originY",.5),blendMode=GetFastValue(config2,"blendMode",0),erase=GetFastValue(config2,"erase",!1),skipBatch=GetFastValue(config2,"skipBatch",!1),stamp=this.manager.resetStamp(alpha,tint);return stamp.setAngle(0),0!==angle?stamp.setAngle(angle):0!==rotation&&stamp.setRotation(rotation),stamp.setScale(scaleX,scaleY),stamp.setTexture(key,frame),stamp.setOrigin(originX,originY),stamp.setBlendMode(blendMode),erase&&(this._eraseMode=!0),skipBatch?this.batchGameObject(stamp,x,y):this.draw(stamp,x,y),erase&&(this._eraseMode=!1),this},erase:function(entries,x,y){return this._eraseMode=!0,this.draw(entries,x,y),this._eraseMode=!1,this},draw:function(entries,x,y,alpha,tint){return this.beginDraw(),this.batchDraw(entries,x,y,alpha,tint),this.endDraw(),this},drawFrame:function(key,frame,x,y,alpha,tint){return this.beginDraw(),this.batchDrawFrame(key,frame,x,y,alpha,tint),this.endDraw(),this},repeat:function(key,frame,x,y,width,height,alpha,tint,skipBatch){if(void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.width),void 0===height&&(height=this.height),void 0===alpha&&(alpha=1),void 0===tint&&(tint=16777215),void 0===skipBatch&&(skipBatch=!1),!(frame=key instanceof Frame?key:this.manager.getFrame(key,frame)))return this;var stamp=this.manager.resetStamp(alpha,tint);stamp.setFrame(frame),stamp.setOrigin(0);var frameWidth=frame.width,frameHeight=frame.height;width=Math.floor(width),height=Math.floor(height);var hmax=Math.ceil(width/frameWidth),vmax=Math.ceil(height/frameHeight),hdiff=hmax*frameWidth-width,vdiff=vmax*frameHeight-height;hdiff>0&&(hdiff=frameWidth-hdiff),vdiff>0&&(vdiff=frameHeight-vdiff),x<0&&(hmax+=Math.ceil(Math.abs(x)/frameWidth)),y<0&&(vmax+=Math.ceil(Math.abs(y)/frameHeight));var dx=x,dy=y,useCrop=!1,cropRect=this.manager.stampCrop.setTo(0,0,frameWidth,frameHeight);skipBatch||this.beginDraw();for(var ty=0;ty<vmax;ty++)if(dy+frameHeight<0)dy+=frameHeight;else{for(var tx=0;tx<hmax;tx++)useCrop=!1,dx+frameWidth<0||(dx<0&&(useCrop=!0,cropRect.width=frameWidth+dx,cropRect.x=frameWidth-cropRect.width),dy<0&&(useCrop=!0,cropRect.height=frameHeight+dy,cropRect.y=frameHeight-cropRect.height),hdiff>0&&tx===hmax-1&&(useCrop=!0,cropRect.width=hdiff),vdiff>0&&ty===vmax-1&&(useCrop=!0,cropRect.height=vdiff),useCrop&&stamp.setCrop(cropRect),this.batchGameObject(stamp,dx,dy),stamp.isCropped=!1,cropRect.setTo(0,0,frameWidth,frameHeight)),dx+=frameWidth;dx=x,dy+=frameHeight}return skipBatch||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var camera=this.camera,renderer=this.renderer,renderTarget=this.renderTarget;camera.preRender(),renderTarget?renderer.beginCapture(renderTarget.width,renderTarget.height):renderer.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(entries,x,y,alpha,tint){return Array.isArray(entries)||(entries=[entries]),this.batchList(entries,x,y,alpha,tint),this},batchDrawFrame:function(key,frame,x,y,alpha,tint){void 0===x&&(x=0),void 0===y&&(y=0),void 0===alpha&&(alpha=1),void 0===tint&&(tint=16777215);var textureFrame=this.manager.getFrame(key,frame);return textureFrame&&(this.renderTarget?this.pipeline.batchTextureFrame(textureFrame,x,y,tint,alpha,this.camera.matrix,null):this.batchTextureFrame(textureFrame,x,y,alpha,tint)),this},endDraw:function(erase){if(void 0===erase&&(erase=this._eraseMode),this.isDrawing){var renderer=this.renderer,renderTarget=this.renderTarget;if(renderTarget){var canvasTarget=renderer.endCapture();renderer.pipelines.setUtility().blitFrame(canvasTarget,renderTarget,1,!1,!1,erase,this.isSpriteTexture),renderer.resetScissor(),renderer.resetViewport()}else renderer.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(children,x,y,alpha,tint){var len=children.length;if(0!==len)for(var i=0;i<len;i++){var entry=children[i];entry&&entry!==this&&(entry.renderWebGL||entry.renderCanvas?this.batchGameObject(entry,x,y):entry.isParent||entry.list?this.batchGroup(entry.getChildren(),x,y):"string"==typeof entry?this.batchTextureFrameKey(entry,null,x,y,alpha,tint):entry instanceof Frame?this.batchTextureFrame(entry,x,y,alpha,tint):Array.isArray(entry)&&this.batchList(entry,x,y,alpha,tint))}},batchGroup:function(children,x,y){void 0===x&&(x=0),void 0===y&&(y=0);for(var i=0;i<children.length;i++){var entry=children[i];entry.willRender(this.camera)&&this.batchGameObject(entry,entry.x+x,entry.y+y)}},batchGameObject:function(gameObject,x,y){void 0===x&&(x=gameObject.x),void 0===y&&(y=gameObject.y);var prevX=gameObject.x,prevY=gameObject.y,camera=this.camera,renderer=this.renderer,eraseMode=this._eraseMode,mask=gameObject.mask;if(gameObject.setPosition(x,y),this.canvas){if(eraseMode){var blendMode=gameObject.blendMode;gameObject.blendMode=BlendModes.ERASE}mask&&mask.preRenderCanvas(renderer,gameObject,camera),gameObject.renderCanvas(renderer,gameObject,camera,null),mask&&mask.postRenderCanvas(renderer,gameObject,camera),eraseMode&&(gameObject.blendMode=blendMode)}else renderer&&(mask&&mask.preRenderWebGL(renderer,gameObject,camera),eraseMode||renderer.setBlendMode(gameObject.blendMode),gameObject.renderWebGL(renderer,gameObject,camera),mask&&mask.postRenderWebGL(renderer,camera,this.renderTarget));gameObject.setPosition(prevX,prevY)},batchTextureFrameKey:function(key,frame,x,y,alpha,tint){var textureFrame=this.manager.getFrame(key,frame);textureFrame&&this.batchTextureFrame(textureFrame,x,y,alpha,tint)},batchTextureFrame:function(textureFrame,x,y,alpha,tint){void 0===x&&(x=0),void 0===y&&(y=0),void 0===alpha&&(alpha=1),void 0===tint&&(tint=16777215);var matrix=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(textureFrame,x,y,tint,alpha,matrix,null);else{var ctx=this.context,cd=textureFrame.canvasData,source=textureFrame.source.image;ctx.save(),ctx.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",ctx.globalAlpha=alpha,matrix.setToContext(ctx),cd.width>0&&cd.height>0&&ctx.drawImage(source,cd.x,cd.y,cd.width,cd.height,x,y,cd.width,cd.height),ctx.restore()}},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,callback,!1,x,y,width,height,type,encoderOptions):this.renderer.snapshotCanvas(this.canvas,callback,!1,x,y,width,height,type,encoderOptions),this},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.width,this.height,callback,type,encoderOptions)},snapshotPixel:function(x,y,callback){return this.snapshotArea(x,y,1,1,callback,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(renderer,src2,camera,parentMatrix){var stamp=this.manager.resetStamp();stamp.setTexture(this),stamp.setOrigin(0),stamp.renderWebGL(renderer,stamp,camera,parentMatrix)},renderCanvas:function(){},destroy:function(){var stamp=this.manager.stamp;stamp&&stamp.texture===this&&this.manager.resetStamp(),Texture.prototype.destroy.call(this),CanvasPool.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});module2.exports=DynamicTexture},4327:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Clamp=__webpack_require__2(45319),Extend=__webpack_require__2(79291),Frame=new Class({initialize:function Frame2(texture,name,sourceIndex,x,y,width,height){this.texture=texture,this.name=name,this.source=texture.source[sourceIndex],this.sourceIndex=sourceIndex,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(width,height,x,y)},setCutPosition:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=0),this.cutX=x,this.cutY=y,this.updateUVs()},setCutSize:function(width,height){return this.cutWidth=width,this.cutHeight=height,this.updateUVs()},setSize:function(width,height,x,y){void 0===x&&(x=0),void 0===y&&(y=0),this.setCutPosition(x,y),this.setCutSize(width,height),this.width=width,this.height=height,this.halfWidth=Math.floor(.5*width),this.halfHeight=Math.floor(.5*height),this.centerX=Math.floor(width/2),this.centerY=Math.floor(height/2);var data=this.data,cut=data.cut;cut.x=x,cut.y=y,cut.w=width,cut.h=height,cut.r=x+width,cut.b=y+height,data.sourceSize.w=width,data.sourceSize.h=height,data.spriteSourceSize.w=width,data.spriteSourceSize.h=height,data.radius=.5*Math.sqrt(width*width+height*height);var drawImage=data.drawImage;return drawImage.x=x,drawImage.y=y,drawImage.width=width,drawImage.height=height,this.updateUVs()},setTrim:function(actualWidth,actualHeight,destX,destY,destWidth,destHeight){var data=this.data,ss=data.spriteSourceSize;return data.trim=!0,data.sourceSize.w=actualWidth,data.sourceSize.h=actualHeight,ss.x=destX,ss.y=destY,ss.w=destWidth,ss.h=destHeight,ss.r=destX+destWidth,ss.b=destY+destHeight,this.x=destX,this.y=destY,this.width=destWidth,this.height=destHeight,this.halfWidth=.5*destWidth,this.halfHeight=.5*destHeight,this.centerX=Math.floor(destWidth/2),this.centerY=Math.floor(destHeight/2),this.updateUVs()},setScale9:function(x,y,width,height){var data=this.data;return data.scale9=!0,data.is3Slice=0===y&&height===this.height,data.scale9Borders.x=x,data.scale9Borders.y=y,data.scale9Borders.w=width,data.scale9Borders.h=height,this},setCropUVs:function(crop,x,y,width,height,flipX,flipY){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,rw=this.realWidth,rh=this.realHeight,ox=cx+(x=Clamp(x,0,rw)),oy=cy+(y=Clamp(y,0,rh)),ow=width=Clamp(width,0,rw-x),oh=height=Clamp(height,0,rh-y),data=this.data;if(data.trim){var ss=data.spriteSourceSize,cropRight=x+(width=Clamp(width,0,cw-x)),cropBottom=y+(height=Clamp(height,0,ch-y));if(ss.r<x||ss.b<y||ss.x>cropRight||ss.y>cropBottom)ox=0,oy=0,ow=0,oh=0;else{var ix=Math.max(ss.x,x),iy=Math.max(ss.y,y),iw=Math.min(ss.r,cropRight)-ix,ih=Math.min(ss.b,cropBottom)-iy;ow=iw,oh=ih,ox=flipX?cx+(cw-(ix-ss.x)-iw):cx+(ix-ss.x),oy=flipY?cy+(ch-(iy-ss.y)-ih):cy+(iy-ss.y),x=ix,y=iy,width=iw,height=ih}}else flipX&&(ox=cx+(cw-x-width)),flipY&&(oy=cy+(ch-y-height));var tw=this.source.width,th=this.source.height;return crop.u0=Math.max(0,ox/tw),crop.v0=Math.max(0,oy/th),crop.u1=Math.min(1,(ox+ow)/tw),crop.v1=Math.min(1,(oy+oh)/th),crop.x=x,crop.y=y,crop.cx=ox,crop.cy=oy,crop.cw=ow,crop.ch=oh,crop.width=width,crop.height=height,crop.flipX=flipX,crop.flipY=flipY,crop},updateCropUVs:function(crop,flipX,flipY){return this.setCropUVs(crop,crop.x,crop.y,crop.width,crop.height,flipX,flipY)},setUVs:function(width,height,u0,v0,u1,v1){var cd=this.data.drawImage;return cd.width=width,cd.height=height,this.u0=u0,this.v0=v0,this.u1=u1,this.v1=v1,this},updateUVs:function(){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,cd=this.data.drawImage;cd.width=cw,cd.height=ch;var tw=this.source.width,th=this.source.height;return this.u0=cx/tw,this.v0=cy/th,this.u1=(cx+cw)/tw,this.v1=(cy+ch)/th,this},updateUVsInverted:function(){var tw=this.source.width,th=this.source.height;return this.u0=(this.cutX+this.cutHeight)/tw,this.v0=this.cutY/th,this.u1=this.cutX/tw,this.v1=(this.cutY+this.cutWidth)/th,this},clone:function(){var clone2=new Frame(this.texture,this.name,this.sourceIndex);return clone2.cutX=this.cutX,clone2.cutY=this.cutY,clone2.cutWidth=this.cutWidth,clone2.cutHeight=this.cutHeight,clone2.x=this.x,clone2.y=this.y,clone2.width=this.width,clone2.height=this.height,clone2.halfWidth=this.halfWidth,clone2.halfHeight=this.halfHeight,clone2.centerX=this.centerX,clone2.centerY=this.centerY,clone2.rotated=this.rotated,clone2.data=Extend(!0,clone2.data,this.data),clone2.updateUVs(),clone2},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});module2.exports=Frame},79237:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Frame=__webpack_require__2(4327),TextureSource=__webpack_require__2(11876),Texture=new Class({initialize:function Texture2(manager,key,source,width,height){Array.isArray(source)||(source=[source]),this.manager=manager,this.key=key,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var i=0;i<source.length;i++)this.source.push(new TextureSource(this,source[i],width,height))},add:function(name,sourceIndex,x,y,width,height){if(this.has(name))return null;var frame=new Frame(this,name,sourceIndex,x,y,width,height);return this.frames[name]=frame,"__BASE"===this.firstFrame&&(this.firstFrame=name),this.frameTotal++,frame},remove:function(name){return!!this.has(name)&&(this.get(name).destroy(),delete this.frames[name],!0)},has:function(name){return this.frames.hasOwnProperty(name)},get:function(name){name||(name=this.firstFrame);var frame=this.frames[name];return frame||(console.warn('Texture "%s" has no frame "%s"',this.key,name),frame=this.frames[this.firstFrame]),frame},getTextureSourceIndex:function(source){for(var i=0;i<this.source.length;i++)if(this.source[i]===source)return i;return-1},getFramesFromTextureSource:function(sourceIndex,includeBase){void 0===includeBase&&(includeBase=!1);var out=[];for(var frameName in this.frames)if("__BASE"!==frameName||includeBase){var frame=this.frames[frameName];frame.sourceIndex===sourceIndex&&out.push(frame)}return out},getFrameBounds:function(sourceIndex){void 0===sourceIndex&&(sourceIndex=0);for(var frames=this.getFramesFromTextureSource(sourceIndex,!0),baseFrame=frames[0],minX=baseFrame.cutX,minY=baseFrame.cutY,maxX=baseFrame.cutX+baseFrame.cutWidth,maxY=baseFrame.cutY+baseFrame.cutHeight,i=1;i<frames.length;i++){var frame=frames[i];frame.cutX<minX&&(minX=frame.cutX),frame.cutY<minY&&(minY=frame.cutY),frame.cutX+frame.cutWidth>maxX&&(maxX=frame.cutX+frame.cutWidth),frame.cutY+frame.cutHeight>maxY&&(maxY=frame.cutY+frame.cutHeight)}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY}},getFrameNames:function(includeBase){void 0===includeBase&&(includeBase=!1);var out=Object.keys(this.frames);if(!includeBase){var idx=out.indexOf("__BASE");-1!==idx&&out.splice(idx,1)}return out},getSourceImage:function(name){null!=name&&1!==this.frameTotal||(name="__BASE");var frame=this.frames[name];return frame?frame.source.image:(console.warn('Texture "%s" has no frame "%s"',this.key,name),this.frames.__BASE.source.image)},getDataSourceImage:function(name){null!=name&&1!==this.frameTotal||(name="__BASE");var idx,frame=this.frames[name];return frame?idx=frame.sourceIndex:(console.warn('Texture "%s" has no frame "%s"',this.key,name),idx=this.frames.__BASE.sourceIndex),this.dataSource[idx].image},setDataSource:function(data){Array.isArray(data)||(data=[data]);for(var i=0;i<data.length;i++){var source=this.source[i];this.dataSource.push(new TextureSource(this,data[i],source.width,source.height))}},setFilter:function(filterMode){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(filterMode);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(filterMode)},destroy:function(){var i,source=this.source,dataSource=this.dataSource;for(i=0;i<source.length;i++)source[i]&&source[i].destroy();for(i=0;i<dataSource.length;i++)dataSource[i]&&dataSource[i].destroy();for(var frameName in this.frames){var frame=this.frames[frameName];frame&&frame.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});module2.exports=Texture},17130:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),CanvasTexture=__webpack_require__2(57382),Class=__webpack_require__2(83419),Color=__webpack_require__2(40987),CONST=__webpack_require__2(8054),DynamicTexture=__webpack_require__2(81320),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(69442),Frame=__webpack_require__2(4327),GameEvents=__webpack_require__2(8443),GenerateTexture=__webpack_require__2(99584),GetValue=__webpack_require__2(35154),ImageGameObject=__webpack_require__2(88571),IsPlainObject=__webpack_require__2(41212),Parser=__webpack_require__2(61309),Rectangle=__webpack_require__2(87841),Texture=__webpack_require__2(79237),TextureManager=new Class({Extends:EventEmitter2,initialize:function TextureManager2(game){EventEmitter2.call(this),this.game=game,this.name="TextureManager",this.list={},this._tempCanvas=CanvasPool.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new Rectangle,this.silentWarnings=!1,game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(Events2.LOAD,this.updatePending,this),this.on(Events2.ERROR,this.updatePending,this);var config2=this.game.config;null!==config2.defaultImage&&this.addBase64("__DEFAULT",config2.defaultImage),null!==config2.missingImage&&this.addBase64("__MISSING",config2.missingImage),null!==config2.whiteImage&&this.addBase64("__WHITE",config2.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(GameEvents.DESTROY,this.destroy,this),this.game.events.once(GameEvents.SYSTEM_READY,(function(scene){this.stamp=new ImageGameObject(scene).setOrigin(0)}),this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(Events2.LOAD),this.off(Events2.ERROR),this.emit(Events2.READY))},checkKey:function(key){return!(!key||"string"!=typeof key||this.exists(key))||(this.silentWarnings||console.error("Texture key already in use: "+key),!1)},remove:function(key){if("string"==typeof key){if(!this.exists(key))return this.silentWarnings||console.warn("No texture found matching key: "+key),this;key=this.get(key)}var textureKey=key.key;return this.list.hasOwnProperty(textureKey)&&(key.destroy(),this.emit(Events2.REMOVE,textureKey),this.emit(Events2.REMOVE_KEY+textureKey)),this},removeKey:function(key){return this.list.hasOwnProperty(key)&&delete this.list[key],this},addBase64:function(key,data){if(this.checkKey(key)){var _this=this,image=new Image;image.onerror=function(){_this.emit(Events2.ERROR,key)},image.onload=function(){var texture=_this.create(key,image);Parser.Image(texture,0),_this.emit(Events2.ADD,key,texture),_this.emit(Events2.ADD_KEY+key,texture),_this.emit(Events2.LOAD,key,texture)},image.src=data}return this},getBase64:function(key,frame,type,encoderOptions){void 0===type&&(type="image/png"),void 0===encoderOptions&&(encoderOptions=.92);var data="",textureFrame=this.getFrame(key,frame);if(textureFrame&&(textureFrame.source.isRenderTexture||textureFrame.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(textureFrame){var cd=textureFrame.canvasData,canvas=CanvasPool.create2D(this,cd.width,cd.height),ctx=canvas.getContext("2d",{willReadFrequently:!0});cd.width>0&&cd.height>0&&ctx.drawImage(textureFrame.source.image,cd.x,cd.y,cd.width,cd.height,0,0,cd.width,cd.height),data=canvas.toDataURL(type,encoderOptions),CanvasPool.remove(canvas)}return data},addImage:function(key,source,dataSource){var texture=null;return this.checkKey(key)&&(texture=this.create(key,source),Parser.Image(texture,0),dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)),texture},addGLTexture:function(key,glTexture){var texture=null;if(this.checkKey(key)){var width=glTexture.width,height=glTexture.height;(texture=this.create(key,glTexture,width,height)).add("__BASE",0,0,0,width,height),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)}return texture},addCompressedTexture:function(key,textureData,atlasData){var texture=null;if(this.checkKey(key)){if((texture=this.create(key,textureData)).add("__BASE",0,0,0,textureData.width,textureData.height),atlasData){var parse=function(texture2,sourceIndex,atlasData2){Array.isArray(atlasData2.textures)||Array.isArray(atlasData2.frames)?Parser.JSONArray(texture2,sourceIndex,atlasData2):Parser.JSONHash(texture2,sourceIndex,atlasData2)};if(Array.isArray(atlasData))for(var i=0;i<atlasData.length;i++)parse(texture,i,atlasData[i]);else parse(texture,0,atlasData)}this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)}return texture},addRenderTexture:function(key,renderTexture){var texture=null;return this.checkKey(key)&&((texture=this.create(key,renderTexture)).add("__BASE",0,0,0,renderTexture.width,renderTexture.height),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)),texture},generate:function(key,config2){if(this.checkKey(key)){var canvas=CanvasPool.create(this,1,1);return config2.canvas=canvas,GenerateTexture(config2),this.addCanvas(key,canvas)}return null},createCanvas:function(key,width,height){if(void 0===width&&(width=256),void 0===height&&(height=256),this.checkKey(key)){var canvas=CanvasPool.create(this,width,height,CONST.CANVAS,!0);return this.addCanvas(key,canvas)}return null},addCanvas:function(key,source,skipCache){void 0===skipCache&&(skipCache=!1);var texture=null;return skipCache?texture=new CanvasTexture(this,key,source,source.width,source.height):this.checkKey(key)&&(texture=new CanvasTexture(this,key,source,source.width,source.height),this.list[key]=texture,this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)),texture},addDynamicTexture:function(key,width,height){var texture=null;return"string"!=typeof key||this.exists(key)?key=(texture=key).key:texture=new DynamicTexture(this,key,width,height),this.checkKey(key)?(this.list[key]=texture,this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)):texture=null,texture},addAtlas:function(key,source,data,dataSource){return Array.isArray(data.textures)||Array.isArray(data.frames)?this.addAtlasJSONArray(key,source,data,dataSource):this.addAtlasJSONHash(key,source,data,dataSource)},addAtlasJSONArray:function(key,source,data,dataSource){var texture=null;if(source instanceof Texture?(key=source.key,texture=source):this.checkKey(key)&&(texture=this.create(key,source)),texture){if(Array.isArray(data))for(var singleAtlasFile=1===data.length,i=0;i<texture.source.length;i++){var atlasData=singleAtlasFile?data[0]:data[i];Parser.JSONArray(texture,i,atlasData)}else Parser.JSONArray(texture,0,data);dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)}return texture},addAtlasJSONHash:function(key,source,data,dataSource){var texture=null;if(source instanceof Texture?(key=source.key,texture=source):this.checkKey(key)&&(texture=this.create(key,source)),texture){if(Array.isArray(data))for(var i=0;i<data.length;i++)Parser.JSONHash(texture,i,data[i]);else Parser.JSONHash(texture,0,data);dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)}return texture},addAtlasXML:function(key,source,data,dataSource){var texture=null;return source instanceof Texture?(key=source.key,texture=source):this.checkKey(key)&&(texture=this.create(key,source)),texture&&(Parser.AtlasXML(texture,0,data),dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)),texture},addUnityAtlas:function(key,source,data,dataSource){var texture=null;return source instanceof Texture?(key=source.key,texture=source):this.checkKey(key)&&(texture=this.create(key,source)),texture&&(Parser.UnityYAML(texture,0,data),dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)),texture},addSpriteSheet:function(key,source,config2,dataSource){var texture=null;if(source instanceof Texture?(key=source.key,texture=source):this.checkKey(key)&&(texture=this.create(key,source)),texture){var width=texture.source[0].width,height=texture.source[0].height;Parser.SpriteSheet(texture,0,0,0,width,height,config2),dataSource&&texture.setDataSource(dataSource),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture)}return texture},addSpriteSheetFromAtlas:function(key,config2){if(!this.checkKey(key))return null;var atlasKey=GetValue(config2,"atlas",null),atlasFrame=GetValue(config2,"frame",null);if(atlasKey&&atlasFrame){var sheet=this.get(atlasKey).get(atlasFrame);if(sheet){var source=sheet.source.image;source||(source=sheet.source.glTexture);var texture=this.create(key,source);return sheet.trimmed?Parser.SpriteSheetFromAtlas(texture,sheet,config2):Parser.SpriteSheet(texture,0,sheet.cutX,sheet.cutY,sheet.cutWidth,sheet.cutHeight,config2),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture),texture}}},addUint8Array:function(key,data,width,height){if(!this.checkKey(key)||data.length/4!==width*height)return null;var texture=this.create(key,data,width,height);return texture.add("__BASE",0,0,0,width,height),this.emit(Events2.ADD,key,texture),this.emit(Events2.ADD_KEY+key,texture),texture},create:function(key,source,width,height){var texture=null;return this.checkKey(key)&&(texture=new Texture(this,key,source,width,height),this.list[key]=texture),texture},exists:function(key){return this.list.hasOwnProperty(key)},get:function(key){return void 0===key&&(key="__DEFAULT"),this.list[key]?this.list[key]:key instanceof Texture?key:key instanceof Frame?key.texture:this.list.__MISSING},cloneFrame:function(key,frame){if(this.list[key])return this.list[key].get(frame).clone()},getFrame:function(key,frame){if(this.list[key])return this.list[key].get(frame)},parseFrame:function(key){if(key)return"string"==typeof key?this.getFrame(key):Array.isArray(key)&&2===key.length?this.getFrame(key[0],key[1]):IsPlainObject(key)?this.getFrame(key.key,key.frame):key instanceof Texture?key.get():key instanceof Frame?key:void 0},getTextureKeys:function(){var output=[];for(var key in this.list)"__DEFAULT"!==key&&"__MISSING"!==key&&"__WHITE"!==key&&"__NORMAL"!==key&&output.push(key);return output},getPixel:function(x,y,key,frame){var textureFrame=this.getFrame(key,frame);if(textureFrame){x-=textureFrame.x,y-=textureFrame.y;var data=textureFrame.data.cut;if(x+=data.x,y+=data.y,x>=data.x&&x<data.r&&y>=data.y&&y<data.b){var ctx=this._tempContext;ctx.clearRect(0,0,1,1),ctx.drawImage(textureFrame.source.image,x,y,1,1,0,0,1,1);var rgb=ctx.getImageData(0,0,1,1);return new Color(rgb.data[0],rgb.data[1],rgb.data[2],rgb.data[3])}}return null},getPixelAlpha:function(x,y,key,frame){var textureFrame=this.getFrame(key,frame);if(textureFrame){x-=textureFrame.x,y-=textureFrame.y;var data=textureFrame.data.cut;if(x+=data.x,y+=data.y,x>=data.x&&x<data.r&&y>=data.y&&y<data.b){var ctx=this._tempContext;return ctx.clearRect(0,0,1,1),ctx.drawImage(textureFrame.source.image,x,y,1,1,0,0,1,1),ctx.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(gameObject,key,frame){return this.list[key]&&(gameObject.texture=this.list[key],gameObject.frame=gameObject.texture.get(frame)),gameObject},renameTexture:function(currentKey,newKey){var texture=this.get(currentKey);return!(!texture||currentKey===newKey||(texture.key=newKey,this.list[newKey]=texture,delete this.list[currentKey],0))},each:function(callback,scope){for(var args=[null],i=1;i<arguments.length;i++)args.push(arguments[i]);for(var texture in this.list)args[0]=this.list[texture],callback.apply(scope,args)},resetStamp:function(alpha,tint){void 0===alpha&&(alpha=1),void 0===tint&&(tint=16777215);var stamp=this.stamp;return stamp.setCrop(),stamp.setPosition(0),stamp.setAngle(0),stamp.setScale(1),stamp.setAlpha(alpha),stamp.setTint(tint),stamp.setTexture("__WHITE"),stamp},destroy:function(){for(var texture in this.list)this.list[texture].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,CanvasPool.remove(this._tempCanvas)}});module2.exports=TextureManager},11876:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CanvasPool=__webpack_require__2(27919),Class=__webpack_require__2(83419),IsSizePowerOfTwo=__webpack_require__2(50030),ScaleModes=__webpack_require__2(29795),WebGLTextureWrapper=__webpack_require__2(82751),TextureSource=new Class({initialize:function TextureSource2(texture,source,width,height,flipY){void 0===flipY&&(flipY=!1);var game=texture.manager.game;this.renderer=game.renderer,this.texture=texture,this.source=source,this.image=source.compressed?null:source,this.compressionAlgorithm=source.compressed?source.format:null,this.resolution=1,this.width=width||source.naturalWidth||source.videoWidth||source.width||0,this.height=height||source.naturalHeight||source.videoHeight||source.height||0,this.scaleMode=ScaleModes.DEFAULT,this.isCanvas=source instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&source instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===source.type||"DynamicTexture"===source.type,this.isGLTexture=source instanceof WebGLTextureWrapper,this.isPowerOf2=IsSizePowerOfTwo(this.width,this.height),this.glTexture=null,this.flipY=flipY,this.init(game)},init:function(game){var renderer=this.renderer;if(renderer){var source=this.source;if(renderer.gl){var image=this.image,flipY=this.flipY,width=this.width,height=this.height,scaleMode=this.scaleMode;this.isCanvas?this.glTexture=renderer.createCanvasTexture(image,!1,flipY):this.isVideo?this.glTexture=renderer.createVideoTexture(image,!1,flipY):this.isRenderTexture?this.glTexture=renderer.createTextureFromSource(null,width,height,scaleMode):this.isGLTexture?this.glTexture=source:this.compressionAlgorithm?this.glTexture=renderer.createTextureFromSource(source,void 0,void 0,scaleMode):source instanceof Uint8Array?this.glTexture=renderer.createUint8ArrayTexture(source,width,height,scaleMode):this.glTexture=renderer.createTextureFromSource(image,width,height,scaleMode)}else this.isRenderTexture&&(this.image=source.canvas)}game.config.antialias||this.setFilter(1)},setFilter:function(filterMode){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,filterMode),this.scaleMode=filterMode},setFlipY:function(value){return void 0===value&&(value=!0),value===this.flipY||(this.flipY=value,this.update()),this},update:function(){var renderer=this.renderer,image=this.image,flipY=this.flipY,gl=renderer.gl;gl&&this.isCanvas?renderer.updateCanvasTexture(image,this.glTexture,flipY):gl&&this.isVideo&&renderer.updateVideoTexture(image,this.glTexture,flipY)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&CanvasPool.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});module2.exports=TextureSource},19673:module2=>{module2.exports={LINEAR:0,NEAREST:1}},44538:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="addtexture"},63486:module2=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="addtexture-"},94851:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="onerror"},29099:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="onload"},8678:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="ready"},86415:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="removetexture"},30879:module2=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="removetexture-"},69442:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ADD:__webpack_require__2(44538),ADD_KEY:__webpack_require__2(63486),ERROR:__webpack_require__2(94851),LOAD:__webpack_require__2(29099),READY:__webpack_require__2(8678),REMOVE:__webpack_require__2(86415),REMOVE_KEY:__webpack_require__2(30879)}},27458:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291),FilterMode=__webpack_require__2(19673),Textures={CanvasTexture:__webpack_require__2(57382),DynamicTexture:__webpack_require__2(81320),Events:__webpack_require__2(69442),FilterMode:FilterMode,Frame:__webpack_require__2(4327),Parsers:__webpack_require__2(61309),Texture:__webpack_require__2(79237),TextureManager:__webpack_require__2(17130),TextureSource:__webpack_require__2(11876)};Textures=Extend(!1,Textures,FilterMode),module2.exports=Textures},89905:module2=>{module2.exports=function(texture,sourceIndex,xml){if(xml.getElementsByTagName("TextureAtlas")){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);for(var newFrame,frames=xml.getElementsByTagName("SubTexture"),i=0;i<frames.length;i++){var frame=frames[i].attributes,name=frame.name.value,x=parseInt(frame.x.value,10),y=parseInt(frame.y.value,10),width=parseInt(frame.width.value,10),height=parseInt(frame.height.value,10);if(newFrame=texture.add(name,sourceIndex,x,y,width,height),frame.frameX){var frameX=Math.abs(parseInt(frame.frameX.value,10)),frameY=Math.abs(parseInt(frame.frameY.value,10)),frameWidth=parseInt(frame.frameWidth.value,10),frameHeight=parseInt(frame.frameHeight.value,10);newFrame.setTrim(width,height,frameX,frameY,frameWidth,frameHeight)}}return texture}console.warn("Invalid Texture Atlas XML given")}},72893:module2=>{module2.exports=function(texture,sourceIndex){var source=texture.source[sourceIndex];return texture.add("__BASE",sourceIndex,0,0,source.width,source.height),texture}},4832:module2=>{module2.exports=function(texture,sourceIndex){var source=texture.source[sourceIndex];return texture.add("__BASE",sourceIndex,0,0,source.width,source.height),texture}},78566:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clone=__webpack_require__2(41786);module2.exports=function(texture,sourceIndex,json){if(json.frames||json.textures){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);for(var newFrame,frames=Array.isArray(json.textures)?json.textures[sourceIndex].frames:json.frames,i=0;i<frames.length;i++){var src2=frames[i];if(newFrame=texture.add(src2.filename,sourceIndex,src2.frame.x,src2.frame.y,src2.frame.w,src2.frame.h)){src2.trimmed&&newFrame.setTrim(src2.sourceSize.w,src2.sourceSize.h,src2.spriteSourceSize.x,src2.spriteSourceSize.y,src2.spriteSourceSize.w,src2.spriteSourceSize.h),src2.rotated&&(newFrame.rotated=!0,newFrame.updateUVsInverted());var pivot=src2.anchor||src2.pivot;pivot&&(newFrame.customPivot=!0,newFrame.pivotX=pivot.x,newFrame.pivotY=pivot.y),src2.scale9Borders&&newFrame.setScale9(src2.scale9Borders.x,src2.scale9Borders.y,src2.scale9Borders.w,src2.scale9Borders.h),newFrame.customData=Clone(src2)}else console.warn("Invalid atlas json, frame already exists: "+src2.filename)}for(var dataKey in json)"frames"!==dataKey&&(Array.isArray(json[dataKey])?texture.customData[dataKey]=json[dataKey].slice(0):texture.customData[dataKey]=json[dataKey]);return texture}console.warn("Invalid Texture Atlas JSON Array")}},39711:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clone=__webpack_require__2(41786);module2.exports=function(texture,sourceIndex,json){if(json.frames){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);var newFrame,frames=json.frames;for(var key in frames)if(frames.hasOwnProperty(key)){var src2=frames[key];if(newFrame=texture.add(key,sourceIndex,src2.frame.x,src2.frame.y,src2.frame.w,src2.frame.h)){src2.trimmed&&newFrame.setTrim(src2.sourceSize.w,src2.sourceSize.h,src2.spriteSourceSize.x,src2.spriteSourceSize.y,src2.spriteSourceSize.w,src2.spriteSourceSize.h),src2.rotated&&(newFrame.rotated=!0,newFrame.updateUVsInverted());var pivot=src2.anchor||src2.pivot;pivot&&(newFrame.customPivot=!0,newFrame.pivotX=pivot.x,newFrame.pivotY=pivot.y),src2.scale9Borders&&newFrame.setScale9(src2.scale9Borders.x,src2.scale9Borders.y,src2.scale9Borders.w,src2.scale9Borders.h),newFrame.customData=Clone(src2)}else console.warn("Invalid atlas json, frame already exists: "+key)}for(var dataKey in json)"frames"!==dataKey&&(Array.isArray(json[dataKey])?texture.customData[dataKey]=json[dataKey].slice(0):texture.customData[dataKey]=json[dataKey]);return texture}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:module2=>{module2.exports=function(data){var i,idCheck=[171,75,84,88,32,49,49,187,13,10,26,10],id=new Uint8Array(data,0,12);for(i=0;i<id.length;i++)if(id[i]!==idCheck[i])return void console.warn("KTXParser - Invalid file format");var size=Uint32Array.BYTES_PER_ELEMENT,head=new DataView(data,12,13*size),littleEndian=67305985===head.getUint32(0,!0);if(0===head.getUint32(1*size,littleEndian)){var internalFormat=head.getUint32(4*size,littleEndian),width=head.getUint32(6*size,littleEndian),height=head.getUint32(7*size,littleEndian),mipmapLevels=Math.max(1,head.getUint32(11*size,littleEndian)),bytesOfKeyValueData=head.getUint32(12*size,littleEndian),mipmaps=new Array(mipmapLevels),offset=64+bytesOfKeyValueData,levelWidth=width,levelHeight=height;for(i=0;i<mipmapLevels;i++){var levelSize=new Int32Array(data,offset,1)[0];offset+=4,mipmaps[i]={data:new Uint8Array(data,offset,levelSize),width:levelWidth,height:levelHeight},levelWidth=Math.max(1,levelWidth>>1),levelHeight=Math.max(1,levelHeight>>1),offset+=levelSize}return{mipmaps:mipmaps,width:width,height:height,internalFormat:internalFormat,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function GetSize(width,height,x,y,dx,dy,mult){return void 0===mult&&(mult=16),Math.floor((width+x)/dx)*Math.floor((height+y)/dy)*mult}function PVRTC2bppSize(width,height){return(width=Math.max(width,16))*(height=Math.max(height,8))/4}function PVRTC4bppSize(width,height){return(width=Math.max(width,8))*(height=Math.max(height,8))/2}function BPTCSize(width,height){return Math.ceil(width/4)*Math.ceil(height/4)*16}function DXTEtcSmallSize(width,height){return GetSize(width,height,3,3,4,4,8)}function DXTEtcAstcBigSize(width,height){return GetSize(width,height,3,3,4,4)}var FORMATS={0:{sizeFunc:PVRTC2bppSize,glFormat:[35841]},1:{sizeFunc:PVRTC2bppSize,glFormat:[35843]},2:{sizeFunc:PVRTC4bppSize,glFormat:[35840]},3:{sizeFunc:PVRTC4bppSize,glFormat:[35842]},6:{sizeFunc:DXTEtcSmallSize,glFormat:[36196]},7:{sizeFunc:DXTEtcSmallSize,glFormat:[33776,35916]},8:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33777,35917]},9:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33778,35918]},11:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33779,35919]},14:{sizeFunc:BPTCSize,glFormat:[36494,36495]},15:{sizeFunc:BPTCSize,glFormat:[36492,36493]},22:{sizeFunc:DXTEtcSmallSize,glFormat:[37492,37493]},23:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37496,37497]},24:{sizeFunc:DXTEtcSmallSize,glFormat:[37494,37495]},25:{sizeFunc:DXTEtcSmallSize,glFormat:[37488]},26:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37490]},27:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37808,37840]},28:{sizeFunc:function ATC5x4Size(width,height){return GetSize(width,height,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function ATC5x5Size(width,height){return GetSize(width,height,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function ATC6x5Size(width,height){return GetSize(width,height,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function ATC6x6Size(width,height){return GetSize(width,height,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function ATC8x5Size(width,height){return GetSize(width,height,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function ATC8x6Size(width,height){return GetSize(width,height,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function ATC8x8Size(width,height){return GetSize(width,height,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function ATC10x5Size(width,height){return GetSize(width,height,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function ATC10x6Size(width,height){return GetSize(width,height,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function ATC10x8Size(width,height){return GetSize(width,height,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function ATC10x10Size(width,height){return GetSize(width,height,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function ATC12x10Size(width,height){return GetSize(width,height,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function ATC12x12Size(width,height){return GetSize(width,height,11,11,12,12)},glFormat:[37821,37853]}};module2.exports=function(data){for(var header=new Uint32Array(data,0,13),pvrFormat=55727696===header[0]?header[2]:header[3],colorSpace=header[4],internalFormat=FORMATS[pvrFormat].glFormat[colorSpace],sizeFunction=FORMATS[pvrFormat].sizeFunc,mipmapLevels=header[11],width=header[7],height=header[6],dataOffset=52+header[12],image=new Uint8Array(data,dataOffset),mipmaps=new Array(mipmapLevels),offset=0,levelWidth=width,levelHeight=height,i=0;i<mipmapLevels;i++){var levelSize=sizeFunction(levelWidth,levelHeight);mipmaps[i]={data:new Uint8Array(image.buffer,image.byteOffset+offset,levelSize),width:levelWidth,height:levelHeight},levelWidth=Math.max(1,levelWidth>>1),levelHeight=Math.max(1,levelHeight>>1),offset+=levelSize}return{mipmaps:mipmaps,width:width,height:height,internalFormat:internalFormat,compressed:!0,generateMipmap:!1}}},75549:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540);module2.exports=function(texture,sourceIndex,x,y,width,height,config2){var frameWidth=GetFastValue(config2,"frameWidth",null),frameHeight=GetFastValue(config2,"frameHeight",frameWidth);if(null===frameWidth)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);var startFrame=GetFastValue(config2,"startFrame",0),endFrame=GetFastValue(config2,"endFrame",-1),margin=GetFastValue(config2,"margin",0),spacing=GetFastValue(config2,"spacing",0),total=Math.floor((width-margin+spacing)/(frameWidth+spacing))*Math.floor((height-margin+spacing)/(frameHeight+spacing));0===total&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",texture.key),(startFrame>total||startFrame<-total)&&(startFrame=0),startFrame<0&&(startFrame=total+startFrame),(-1===endFrame||endFrame>total||endFrame<startFrame)&&(endFrame=total);for(var fx=margin,fy=margin,ax=0,ay=0,c=0,i=0;i<total;i++){ax=0,ay=0;var w=fx+frameWidth,h=fy+frameHeight;w>width&&(ax=w-width),h>height&&(ay=h-height),i>=startFrame&&i<=endFrame&&(texture.add(c,sourceIndex,x+fx,y+fy,frameWidth-ax,frameHeight-ay),c++),(fx+=frameWidth+spacing)+frameWidth>width&&(fx=margin,fy+=frameHeight+spacing)}return texture}},47534:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540);module2.exports=function(texture,frame,config2){var frameWidth=GetFastValue(config2,"frameWidth",null),frameHeight=GetFastValue(config2,"frameHeight",frameWidth);if(!frameWidth)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var source=texture.source[0];texture.add("__BASE",0,0,0,source.width,source.height),GetFastValue(config2,"startFrame",0),GetFastValue(config2,"endFrame",-1);for(var sheetFrame,margin=GetFastValue(config2,"margin",0),spacing=GetFastValue(config2,"spacing",0),x=frame.cutX,y=frame.cutY,cutWidth=frame.cutWidth,cutHeight=frame.cutHeight,sheetWidth=frame.realWidth,sheetHeight=frame.realHeight,row=Math.floor((sheetWidth-margin+spacing)/(frameWidth+spacing)),column=Math.floor((sheetHeight-margin+spacing)/(frameHeight+spacing)),leftPad=frame.x,leftWidth=frameWidth-leftPad,rightWidth=frameWidth-(sheetWidth-cutWidth-leftPad),topPad=frame.y,topHeight=frameHeight-topPad,bottomHeight=frameHeight-(sheetHeight-cutHeight-topPad),frameX=margin,frameY=margin,frameIndex=0,sheetY=0;sheetY<column;sheetY++){for(var topRow=0===sheetY,bottomRow=sheetY===column-1,sheetX=0;sheetX<row;sheetX++){var leftRow=0===sheetX,rightRow=sheetX===row-1;if(sheetFrame=texture.add(frameIndex,0,x+frameX,y+frameY,frameWidth,frameHeight),leftRow||topRow||rightRow||bottomRow){var destX=leftRow?leftPad:0,destY=topRow?topPad:0,trimWidth=0,trimHeight=0;leftRow&&(trimWidth+=frameWidth-leftWidth),rightRow&&(trimWidth+=frameWidth-rightWidth),topRow&&(trimHeight+=frameHeight-topHeight),bottomRow&&(trimHeight+=frameHeight-bottomHeight);var destWidth=frameWidth-trimWidth,destHeight=frameHeight-trimHeight;sheetFrame.cutWidth=destWidth,sheetFrame.cutHeight=destHeight,sheetFrame.setTrim(frameWidth,frameHeight,destX,destY,destWidth,destHeight)}frameX+=spacing,frameX+=leftRow?leftWidth:rightRow?rightWidth:frameWidth,frameIndex++}frameX=margin,frameY+=spacing,frameY+=topRow?topHeight:bottomRow?bottomHeight:frameHeight}return texture}},86147:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var imageHeight=0,addFrame=function(texture,sourceIndex,name,frame){var y=imageHeight-frame.y-frame.height;texture.add(name,sourceIndex,frame.x,y,frame.width,frame.height)};module2.exports=function(texture,sourceIndex,yaml){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height),imageHeight=source.height;for(var data=yaml.split("\n"),lineRegExp=/^[ ]*(- )*(\w+)+[: ]+(.*)/,prevSprite="",currentSprite="",rect={x:0,y:0,width:0,height:0},i=0;i<data.length;i++){var results=data[i].match(lineRegExp);if(results){var isList="- "===results[1],key=results[2],value=results[3];if(isList&&(currentSprite!==prevSprite&&(addFrame(texture,sourceIndex,currentSprite,rect),prevSprite=currentSprite),rect={x:0,y:0,width:0,height:0}),"name"!==key)switch(key){case"x":case"y":case"width":case"height":rect[key]=parseInt(value,10)}else currentSprite=value}}return currentSprite!==prevSprite&&addFrame(texture,sourceIndex,currentSprite,rect),texture}},55222:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Ben Richards <benjamindrichards@gmail.com>
               * @copyright    2024 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsSizePowerOfTwo=__webpack_require__2(50030);function check4x4(data){for(var mipmaps=data.mipmaps,level=0;level<mipmaps.length;level++){var width=mipmaps[level].width,height=mipmaps[level].height;if((width<<level)%4!=0||(height<<level)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+level+" is "+width+"x"+height),!1}return!0}function checkAlways(){return!0}function checkPVRTC(data){var baseLevel=data.mipmaps[0];return!!IsSizePowerOfTwo(baseLevel.width,baseLevel.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+baseLevel.width+"x"+baseLevel.height),!1)}function checkS3TCSRGB(data){var baseLevel=data.mipmaps[0];return baseLevel.width%4==0&&baseLevel.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+baseLevel.width+"x"+baseLevel.height+" pixels"),!1)}var formatCheckers={37488:checkAlways,37489:checkAlways,37490:checkAlways,37491:checkAlways,37492:checkAlways,37493:checkAlways,37494:checkAlways,37495:checkAlways,37496:checkAlways,37497:checkAlways,36196:checkAlways,37808:checkAlways,37809:checkAlways,37810:checkAlways,37811:checkAlways,37812:checkAlways,37813:checkAlways,37814:checkAlways,37815:checkAlways,37816:checkAlways,37817:checkAlways,37818:checkAlways,37819:checkAlways,37820:checkAlways,37821:checkAlways,37840:checkAlways,37841:checkAlways,37842:checkAlways,37843:checkAlways,37844:checkAlways,37845:checkAlways,37846:checkAlways,37847:checkAlways,37848:checkAlways,37849:checkAlways,37850:checkAlways,37851:checkAlways,37852:checkAlways,37853:checkAlways,36492:check4x4,36493:check4x4,36494:check4x4,36495:check4x4,36283:check4x4,36284:check4x4,36285:check4x4,36286:check4x4,35840:checkPVRTC,35841:checkPVRTC,35842:checkPVRTC,35843:checkPVRTC,33776:check4x4,33777:check4x4,33778:check4x4,33779:check4x4,35916:checkS3TCSRGB,35917:checkS3TCSRGB,35918:checkS3TCSRGB,35919:checkS3TCSRGB};module2.exports=function(data){for(var mipmaps=data.mipmaps,level=1;level<mipmaps.length;level++){var width=mipmaps[level].width,height=mipmaps[level].height;if(!IsSizePowerOfTwo(width,height))return console.warn("Mip level "+level+" is not a power-of-two size: "+width+"x"+height),!1}var checker=formatCheckers[data.internalFormat];return checker?checker(data):(console.warn("No format checker found for internal format "+data.internalFormat+". Assuming valid."),!0)}},61309:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AtlasXML:__webpack_require__2(89905),Canvas:__webpack_require__2(72893),Image:__webpack_require__2(4832),JSONArray:__webpack_require__2(78566),JSONHash:__webpack_require__2(39711),KTXParser:__webpack_require__2(31403),PVRParser:__webpack_require__2(82038),SpriteSheet:__webpack_require__2(75549),SpriteSheetFromAtlas:__webpack_require__2(47534),UnityYAML:__webpack_require__2(86147)}},80341:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ImageCollection=new(__webpack_require__2(83419))({initialize:function ImageCollection2(name,firstgid,width,height,margin,spacing,properties){(void 0===width||width<=0)&&(width=32),(void 0===height||height<=0)&&(height=32),void 0===margin&&(margin=0),void 0===spacing&&(spacing=0),this.name=name,this.firstgid=0|firstgid,this.imageWidth=0|width,this.imageHeight=0|height,this.imageMargin=0|margin,this.imageSpacing=0|spacing,this.properties=properties||{},this.images=[],this.total=0},containsImageIndex:function(imageIndex){return imageIndex>=this.firstgid&&imageIndex<this.firstgid+this.total},addImage:function(gid,image){return this.images.push({gid:gid,image:image}),this.total++,this}});module2.exports=ImageCollection},27462:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ObjectHelper=new(__webpack_require__2(83419))({initialize:function ObjectHelper2(tilesets){if(this.gids=[],void 0!==tilesets)for(var t=0;t<tilesets.length;++t)for(var tileset=tilesets[t],i=0;i<tileset.total;++i)this.gids[tileset.firstgid+i]=tileset;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(v){this.gids=v?this._gids:void 0}},getTypeIncludingTile:function(obj){if(void 0!==obj.type&&""!==obj.type)return obj.type;if(this.gids&&void 0!==obj.gid){var tileset=this.gids[obj.gid];if(tileset){var tileData=tileset.getTileData(obj.gid);if(tileData)return tileData.type}}},setTextureAndFrame:function(sprite,key,frame,obj){if(null===key&&this.gids&&void 0!==obj.gid){var tileset=this.gids[obj.gid];tileset&&(null===key&&void 0!==tileset.image&&(key=tileset.image.key),null===frame&&(frame=obj.gid-tileset.firstgid),sprite.scene.textures.getFrame(key,frame)||(key=null,frame=null))}sprite.setTexture(key,frame)},setPropertiesFromTiledObject:function(sprite,obj){if(void 0!==this.gids&&void 0!==obj.gid){var tileset=this.gids[obj.gid];void 0!==tileset&&this.setFromJSON(sprite,tileset.getTileProperties(obj.gid))}this.setFromJSON(sprite,obj.properties)},setFromJSON:function(sprite,properties){if(properties)if(Array.isArray(properties))for(var i=0;i<properties.length;i++){var prop=properties[i];void 0!==sprite[prop.name]?sprite[prop.name]=prop.value:sprite.setData(prop.name,prop.value)}else for(var key in properties)void 0!==sprite[key]?sprite[key]=properties[key]:sprite.setData(key,properties[key])}});module2.exports=ObjectHelper},31989:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Formats=__webpack_require__2(80341),MapData=__webpack_require__2(87010),Parse=__webpack_require__2(46177),Tilemap=__webpack_require__2(49075);module2.exports=function(scene,key,tileWidth,tileHeight,width,height,data,insertNull){void 0===tileWidth&&(tileWidth=32),void 0===tileHeight&&(tileHeight=32),void 0===width&&(width=10),void 0===height&&(height=10),void 0===insertNull&&(insertNull=!1);var mapData=null;if(Array.isArray(data))mapData=Parse(void 0!==key?key:"map",Formats.ARRAY_2D,data,tileWidth,tileHeight,insertNull);else if(void 0!==key){var tilemapData=scene.cache.tilemap.get(key);tilemapData?mapData=Parse(key,tilemapData.format,tilemapData.data,tileWidth,tileHeight,insertNull):console.warn("No map data found for key "+key)}return null===mapData&&(mapData=new MapData({tileWidth:tileWidth,tileHeight:tileHeight,width:width,height:height})),new Tilemap(scene,mapData)}},23029:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Components=__webpack_require__2(31401),CONST=__webpack_require__2(91907),DeepCopy=__webpack_require__2(62644),Rectangle=__webpack_require__2(93232),Tile=new Class({Mixins:[Components.AlphaSingle,Components.Flip,Components.Visible],initialize:function Tile2(layer,index,x,y,width,height,baseWidth,baseHeight){this.layer=layer,this.index=index,this.x=x,this.y=y,this.width=width,this.height=height,this.right,this.bottom,this.baseWidth=void 0!==baseWidth?baseWidth:width,this.baseHeight=void 0!==baseHeight?baseHeight:height,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(x,y){return!(x<this.pixelX||y<this.pixelY||x>this.right||y>this.bottom)},copy:function(tile){return this.index=tile.index,this.alpha=tile.alpha,this.properties=DeepCopy(tile.properties),this.visible=tile.visible,this.setFlip(tile.flipX,tile.flipY),this.tint=tile.tint,this.rotation=tile.rotation,this.collideUp=tile.collideUp,this.collideDown=tile.collideDown,this.collideLeft=tile.collideLeft,this.collideRight=tile.collideRight,this.collisionCallback=tile.collisionCallback,this.collisionCallbackContext=tile.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?tilemapLayer.tileToWorldXY(this.x,this.y,void 0,camera).x:this.x*this.baseWidth},getRight:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?this.getLeft(camera)+this.width*tilemapLayer.scaleX:this.getLeft(camera)+this.width},getTop:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?tilemapLayer.tileToWorldXY(this.x,this.y,void 0,camera).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?this.getTop(camera)+this.height*tilemapLayer.scaleY:this.getTop(camera)+this.height},getBounds:function(camera,output){return void 0===output&&(output=new Rectangle),output.x=this.getLeft(camera),output.y=this.getTop(camera),output.width=this.getRight(camera)-output.x,output.height=this.getBottom(camera)-output.y,output},getCenterX:function(camera){return(this.getLeft(camera)+this.getRight(camera))/2},getCenterY:function(camera){return(this.getTop(camera)+this.getBottom(camera))/2},intersects:function(x,y,right,bottom){return!(right<=this.pixelX||bottom<=this.pixelY||x>=this.right||y>=this.bottom)},isInteresting:function(collides,faces){return collides&&faces?this.canCollide||this.hasInterestingFace:collides?this.collides:!!faces&&this.hasInterestingFace},resetCollision:function(recalculateFaces){return void 0===recalculateFaces&&(recalculateFaces=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,recalculateFaces&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(left,right,up,down,recalculateFaces){return void 0===right&&(right=left),void 0===up&&(up=left),void 0===down&&(down=left),void 0===recalculateFaces&&(recalculateFaces=!0),this.collideLeft=left,this.collideRight=right,this.collideUp=up,this.collideDown=down,this.faceLeft=left,this.faceRight=right,this.faceTop=up,this.faceBottom=down,recalculateFaces&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(callback,context){return null===callback?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=callback,this.collisionCallbackContext=context),this},setSize:function(tileWidth,tileHeight,baseWidth,baseHeight){return void 0!==tileWidth&&(this.width=tileWidth),void 0!==tileHeight&&(this.height=tileHeight),void 0!==baseWidth&&(this.baseWidth=baseWidth),void 0!==baseHeight&&(this.baseHeight=baseHeight),this.updatePixelXY(),this},updatePixelXY:function(){var orientation=this.layer.orientation;if(orientation===CONST.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(orientation===CONST.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(orientation===CONST.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(orientation===CONST.HEXAGONAL){var rowWidth,rowHeight,staggerAxis=this.layer.staggerAxis,staggerIndex=this.layer.staggerIndex,len=this.layer.hexSideLength;"y"===staggerAxis?(rowHeight=(this.baseHeight-len)/2+len,this.pixelX="odd"===staggerIndex?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*rowHeight):"x"===staggerAxis&&(rowWidth=(this.baseWidth-len)/2+len,this.pixelX=this.x*rowWidth,this.pixelY="odd"===staggerIndex?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var tilemapLayer=this.layer.tilemapLayer;if(tilemapLayer){var tileset=tilemapLayer.gidMap[this.index];if(tileset)return tileset}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var tilemapLayer=this.tilemapLayer;return tilemapLayer?tilemapLayer.tilemap:null}}});module2.exports=Tile},49075:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BuildTilesetIndex=__webpack_require__2(84101),Class=__webpack_require__2(83419),DegToRad=__webpack_require__2(39506),Formats=__webpack_require__2(80341),GetFastValue=__webpack_require__2(95540),LayerData=__webpack_require__2(14977),ObjectHelper=__webpack_require__2(27462),ORIENTATION=__webpack_require__2(91907),Rotate=__webpack_require__2(36305),SpliceOne=__webpack_require__2(19133),Sprite=__webpack_require__2(68287),Tile=__webpack_require__2(23029),TilemapComponents=__webpack_require__2(81086),TilemapLayer=__webpack_require__2(20442),Tileset=__webpack_require__2(33629),Tilemap=new Class({initialize:function Tilemap2(scene,mapData){this.scene=scene,this.tileWidth=mapData.tileWidth,this.tileHeight=mapData.tileHeight,this.width=mapData.width,this.height=mapData.height,this.orientation=mapData.orientation,this.renderOrder=mapData.renderOrder,this.format=mapData.format,this.version=mapData.version,this.properties=mapData.properties,this.widthInPixels=mapData.widthInPixels,this.heightInPixels=mapData.heightInPixels,this.imageCollections=mapData.imageCollections,this.images=mapData.images,this.layers=mapData.layers,this.tiles=mapData.tiles,this.tilesets=mapData.tilesets,this.objects=mapData.objects,this.currentLayerIndex=0,this.hexSideLength=mapData.hexSideLength;var orientation=this.orientation;this._convert={WorldToTileXY:TilemapComponents.GetWorldToTileXYFunction(orientation),WorldToTileX:TilemapComponents.GetWorldToTileXFunction(orientation),WorldToTileY:TilemapComponents.GetWorldToTileYFunction(orientation),TileToWorldXY:TilemapComponents.GetTileToWorldXYFunction(orientation),TileToWorldX:TilemapComponents.GetTileToWorldXFunction(orientation),TileToWorldY:TilemapComponents.GetTileToWorldYFunction(orientation),GetTileCorners:TilemapComponents.GetTileCornersFunction(orientation)}},setRenderOrder:function(renderOrder){var orders=["right-down","left-down","right-up","left-up"];return"number"==typeof renderOrder&&(renderOrder=orders[renderOrder]),orders.indexOf(renderOrder)>-1&&(this.renderOrder=renderOrder),this},addTilesetImage:function(tilesetName,key,tileWidth,tileHeight,tileMargin,tileSpacing,gid,tileOffset){if(void 0===tilesetName)return null;null==key&&(key=tilesetName);var textureManager=this.scene.sys.textures;if(!textureManager.exists(key))return console.warn('Texture key "%s" not found',key),null;var texture=textureManager.get(key),index=this.getTilesetIndex(tilesetName);if(null===index&&this.format===Formats.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',tilesetName,this.tilesets),null;var tileset=this.tilesets[index];return tileset?((tileWidth||tileHeight)&&tileset.setTileSize(tileWidth,tileHeight),(tileMargin||tileSpacing)&&tileset.setSpacing(tileMargin,tileSpacing),tileset.setImage(texture),tileset):(void 0===tileWidth&&(tileWidth=this.tileWidth),void 0===tileHeight&&(tileHeight=this.tileHeight),void 0===tileMargin&&(tileMargin=0),void 0===tileSpacing&&(tileSpacing=0),void 0===gid&&(gid=0),void 0===tileOffset&&(tileOffset={x:0,y:0}),(tileset=new Tileset(tilesetName,gid,tileWidth,tileHeight,tileMargin,tileSpacing,void 0,void 0,tileOffset)).setImage(texture),this.tilesets.push(tileset),this.tiles=BuildTilesetIndex(this),tileset)},copy:function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,layer){return null!==(layer=this.getLayer(layer))?(TilemapComponents.Copy(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,layer),this):null},createBlankLayer:function(name,tileset,x,y,width,height,tileWidth,tileHeight){if(void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=this.width),void 0===height&&(height=this.height),void 0===tileWidth&&(tileWidth=this.tileWidth),void 0===tileHeight&&(tileHeight=this.tileHeight),null!==this.getLayerIndex(name))return console.warn("Invalid Tilemap Layer ID: "+name),null;for(var row,layerData=new LayerData({name:name,tileWidth:tileWidth,tileHeight:tileHeight,width:width,height:height,orientation:this.orientation}),tileY=0;tileY<height;tileY++){row=[];for(var tileX=0;tileX<width;tileX++)row.push(new Tile(layerData,-1,tileX,tileY,tileWidth,tileHeight,this.tileWidth,this.tileHeight));layerData.data.push(row)}this.layers.push(layerData),this.currentLayerIndex=this.layers.length-1;var layer=new TilemapLayer(this.scene,this,this.currentLayerIndex,tileset,x,y);return layer.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(layer),layer},createLayer:function(layerID,tileset,x,y){var index=this.getLayerIndex(layerID);if(null===index)return console.warn("Invalid Tilemap Layer ID: "+layerID),"string"==typeof layerID&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var layerData=this.layers[index];if(layerData.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+layerID),null;this.currentLayerIndex=index,void 0===x&&(x=layerData.x),void 0===y&&(y=layerData.y);var layer=new TilemapLayer(this.scene,this,index,tileset,x,y);return layer.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(layer),layer},createFromObjects:function(objectLayerName,config2,useTileset){void 0===useTileset&&(useTileset=!0);var results=[],objectLayer=this.getObjectLayer(objectLayerName);if(!objectLayer)return console.warn("createFromObjects: Invalid objectLayerName given: "+objectLayerName),results;var objectHelper=new ObjectHelper(useTileset?this.tilesets:void 0);Array.isArray(config2)||(config2=[config2]);for(var objects=objectLayer.objects,c=0;c<config2.length;c++){var obj,singleConfig=config2[c],id=GetFastValue(singleConfig,"id",null),gid=GetFastValue(singleConfig,"gid",null),name=GetFastValue(singleConfig,"name",null),type=GetFastValue(singleConfig,"type",null);objectHelper.enabled=!GetFastValue(singleConfig,"ignoreTileset",null);for(var toConvert=[],s=0;s<objects.length;s++)obj=objects[s],(null===id&&null===gid&&null===name&&null===type||null!==id&&obj.id===id||null!==gid&&obj.gid===gid||null!==name&&obj.name===name||null!==type&&objectHelper.getTypeIncludingTile(obj)===type)&&toConvert.push(obj);for(var classType=GetFastValue(singleConfig,"classType",Sprite),scene=GetFastValue(singleConfig,"scene",this.scene),container=GetFastValue(singleConfig,"container",null),texture=GetFastValue(singleConfig,"key",null),frame=GetFastValue(singleConfig,"frame",null),i=0;i<toConvert.length;i++){obj=toConvert[i];var sprite=new classType(scene);if(sprite.setName(obj.name),sprite.setPosition(obj.x,obj.y),objectHelper.setTextureAndFrame(sprite,texture,frame,obj),obj.width&&(sprite.displayWidth=obj.width),obj.height&&(sprite.displayHeight=obj.height),this.orientation===ORIENTATION.ISOMETRIC){var isometricRatio=this.tileWidth/this.tileHeight,isometricPosition={x:sprite.x-sprite.y,y:(sprite.x+sprite.y)/isometricRatio};sprite.x=isometricPosition.x,sprite.y=isometricPosition.y}var offset={x:sprite.originX*obj.width,y:(sprite.originY-(obj.gid?1:0))*obj.height};if(obj.rotation){var angle=DegToRad(obj.rotation);Rotate(offset,angle),sprite.rotation=angle}sprite.x+=offset.x,sprite.y+=offset.y,void 0===obj.flippedHorizontal&&void 0===obj.flippedVertical||sprite.setFlip(obj.flippedHorizontal,obj.flippedVertical),obj.visible||(sprite.visible=!1),objectHelper.setPropertiesFromTiledObject(sprite,obj),container?container.add(sprite):scene.add.existing(sprite),results.push(sprite)}}return results},createFromTiles:function(indexes,replacements,spriteConfig,scene,camera,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.CreateFromTiles(indexes,replacements,spriteConfig,scene,camera,layer)},fill:function(index,tileX,tileY,width,height,recalculateFaces,layer){return void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.Fill(index,tileX,tileY,width,height,recalculateFaces,layer),this)},filterObjects:function(objectLayer,callback,context){if("string"==typeof objectLayer){var name=objectLayer;if(!(objectLayer=this.getObjectLayer(objectLayer)))return console.warn("No object layer found with the name: "+name),null}return objectLayer.objects.filter(callback,context)},filterTiles:function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.FilterTiles(callback,context,tileX,tileY,width,height,filteringOptions,layer)},findByIndex:function(findIndex,skip,reverse,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.FindByIndex(findIndex,skip,reverse,layer)},findObject:function(objectLayer,callback,context){if("string"==typeof objectLayer){var name=objectLayer;if(!(objectLayer=this.getObjectLayer(objectLayer)))return console.warn("No object layer found with the name: "+name),null}return objectLayer.objects.find(callback,context)||null},findTile:function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.FindTile(callback,context,tileX,tileY,width,height,filteringOptions,layer)},forEachTile:function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.ForEachTile(callback,context,tileX,tileY,width,height,filteringOptions,layer),this)},getImageIndex:function(name){return this.getIndex(this.images,name)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map((function(image){return image.name})):[]},getIndex:function(location2,name){for(var i=0;i<location2.length;i++)if(location2[i].name===name)return i;return null},getLayer:function(layer){var index=this.getLayerIndex(layer);return null!==index?this.layers[index]:null},getObjectLayer:function(name){var index=this.getIndex(this.objects,name);return null!==index?this.objects[index]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map((function(object){return object.name})):[]},getLayerIndex:function(layer){return void 0===layer?this.currentLayerIndex:"string"==typeof layer?this.getLayerIndexByName(layer):"number"==typeof layer&&layer<this.layers.length?layer:layer instanceof TilemapLayer&&layer.tilemap===this?layer.layerIndex:null},getLayerIndexByName:function(name){return this.getIndex(this.layers,name)},getTileAt:function(tileX,tileY,nonNull,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.GetTileAt(tileX,tileY,nonNull,layer)},getTileAtWorldXY:function(worldX,worldY,nonNull,camera,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.GetTileAtWorldXY(worldX,worldY,nonNull,camera,layer)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map((function(layer){return layer.name})):[]},getTilesWithin:function(tileX,tileY,width,height,filteringOptions,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer)},getTilesWithinShape:function(shape,filteringOptions,camera,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.GetTilesWithinShape(shape,filteringOptions,camera,layer)},getTilesWithinWorldXY:function(worldX,worldY,width,height,filteringOptions,camera,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.GetTilesWithinWorldXY(worldX,worldY,width,height,filteringOptions,camera,layer)},getTileset:function(name){var index=this.getIndex(this.tilesets,name);return null!==index?this.tilesets[index]:null},getTilesetIndex:function(name){return this.getIndex(this.tilesets,name)},hasTileAt:function(tileX,tileY,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.HasTileAt(tileX,tileY,layer)},hasTileAtWorldXY:function(worldX,worldY,camera,layer){return null===(layer=this.getLayer(layer))?null:TilemapComponents.HasTileAtWorldXY(worldX,worldY,camera,layer)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(layer){this.setLayer(layer)}},putTileAt:function(tile,tileX,tileY,recalculateFaces,layer){return void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:TilemapComponents.PutTileAt(tile,tileX,tileY,recalculateFaces,layer)},putTileAtWorldXY:function(tile,worldX,worldY,recalculateFaces,camera,layer){return void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:TilemapComponents.PutTileAtWorldXY(tile,worldX,worldY,recalculateFaces,camera,layer)},putTilesAt:function(tilesArray,tileX,tileY,recalculateFaces,layer){return void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.PutTilesAt(tilesArray,tileX,tileY,recalculateFaces,layer),this)},randomize:function(tileX,tileY,width,height,indexes,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.Randomize(tileX,tileY,width,height,indexes,layer),this)},calculateFacesAt:function(tileX,tileY,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.CalculateFacesAt(tileX,tileY,layer),this)},calculateFacesWithin:function(tileX,tileY,width,height,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.CalculateFacesWithin(tileX,tileY,width,height,layer),this)},removeLayer:function(layer){var index=this.getLayerIndex(layer);if(null!==index){SpliceOne(this.layers,index);for(var i=index;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===index&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(layer){var index=this.getLayerIndex(layer);return null!==index?((layer=this.layers[index]).tilemapLayer.destroy(),SpliceOne(this.layers,index),this.currentLayerIndex===index&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var layers=this.layers,i=0;i<layers.length;i++)layers[i].tilemapLayer&&layers[i].tilemapLayer.destroy(!1);return layers.length=0,this.currentLayerIndex=0,this},removeTile:function(tiles,replaceIndex,recalculateFaces){void 0===replaceIndex&&(replaceIndex=-1),void 0===recalculateFaces&&(recalculateFaces=!0);var removed=[];Array.isArray(tiles)||(tiles=[tiles]);for(var i=0;i<tiles.length;i++){var tile=tiles[i];removed.push(this.removeTileAt(tile.x,tile.y,!0,recalculateFaces,tile.tilemapLayer)),replaceIndex>-1&&this.putTileAt(replaceIndex,tile.x,tile.y,recalculateFaces,tile.tilemapLayer)}return removed},removeTileAt:function(tileX,tileY,replaceWithNull,recalculateFaces,layer){return void 0===replaceWithNull&&(replaceWithNull=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:TilemapComponents.RemoveTileAt(tileX,tileY,replaceWithNull,recalculateFaces,layer)},removeTileAtWorldXY:function(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer){return void 0===replaceWithNull&&(replaceWithNull=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:TilemapComponents.RemoveTileAtWorldXY(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer)},renderDebug:function(graphics,styleConfig,layer){return null===(layer=this.getLayer(layer))?null:(this.orientation===ORIENTATION.ORTHOGONAL&&TilemapComponents.RenderDebug(graphics,styleConfig,layer),this)},renderDebugFull:function(graphics,styleConfig){for(var layers=this.layers,i=0;i<layers.length;i++)TilemapComponents.RenderDebug(graphics,styleConfig,layers[i]);return this},replaceByIndex:function(findIndex,newIndex,tileX,tileY,width,height,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.ReplaceByIndex(findIndex,newIndex,tileX,tileY,width,height,layer),this)},setCollision:function(indexes,collides,recalculateFaces,layer,updateLayer){return void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),void 0===updateLayer&&(updateLayer=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetCollision(indexes,collides,recalculateFaces,layer,updateLayer),this)},setCollisionBetween:function(start,stop,collides,recalculateFaces,layer){return void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetCollisionBetween(start,stop,collides,recalculateFaces,layer),this)},setCollisionByProperty:function(properties,collides,recalculateFaces,layer){return void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetCollisionByProperty(properties,collides,recalculateFaces,layer),this)},setCollisionByExclusion:function(indexes,collides,recalculateFaces,layer){return void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetCollisionByExclusion(indexes,collides,recalculateFaces,layer),this)},setCollisionFromCollisionGroup:function(collides,recalculateFaces,layer){return void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetCollisionFromCollisionGroup(collides,recalculateFaces,layer),this)},setTileIndexCallback:function(indexes,callback,callbackContext,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetTileIndexCallback(indexes,callback,callbackContext,layer),this)},setTileLocationCallback:function(tileX,tileY,width,height,callback,callbackContext,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.SetTileLocationCallback(tileX,tileY,width,height,callback,callbackContext,layer),this)},setLayer:function(layer){var index=this.getLayerIndex(layer);return null!==index&&(this.currentLayerIndex=index),this},setBaseTileSize:function(tileWidth,tileHeight){this.tileWidth=tileWidth,this.tileHeight=tileHeight,this.widthInPixels=this.width*tileWidth,this.heightInPixels=this.height*tileHeight;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=tileWidth,this.layers[i].baseTileHeight=tileHeight;for(var mapData=this.layers[i].data,mapWidth=this.layers[i].width,mapHeight=this.layers[i].height,row=0;row<mapHeight;row++)for(var col=0;col<mapWidth;col++){var tile=mapData[row][col];null!==tile&&tile.setSize(void 0,void 0,tileWidth,tileHeight)}}return this},setLayerTileSize:function(tileWidth,tileHeight,layer){if(null===(layer=this.getLayer(layer)))return this;layer.tileWidth=tileWidth,layer.tileHeight=tileHeight;for(var mapData=layer.data,mapWidth=layer.width,mapHeight=layer.height,row=0;row<mapHeight;row++)for(var col=0;col<mapWidth;col++){var tile=mapData[row][col];null!==tile&&tile.setSize(tileWidth,tileHeight)}return this},shuffle:function(tileX,tileY,width,height,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.Shuffle(tileX,tileY,width,height,layer),this)},swapByIndex:function(indexA,indexB,tileX,tileY,width,height,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.SwapByIndex(indexA,indexB,tileX,tileY,width,height,layer),this)},tileToWorldX:function(tileX,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.TileToWorldX(tileX,camera,layer)},tileToWorldY:function(tileY,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.TileToWorldY(tileY,camera,layer)},tileToWorldXY:function(tileX,tileY,vec2,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.TileToWorldXY(tileX,tileY,vec2,camera,layer)},getTileCorners:function(tileX,tileY,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.GetTileCorners(tileX,tileY,camera,layer)},weightedRandomize:function(weightedIndexes,tileX,tileY,width,height,layer){return null===(layer=this.getLayer(layer))?null:(TilemapComponents.WeightedRandomize(tileX,tileY,width,height,weightedIndexes,layer),this)},worldToTileX:function(worldX,snapToFloor,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.WorldToTileX(worldX,snapToFloor,camera,layer)},worldToTileY:function(worldY,snapToFloor,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.WorldToTileY(worldY,snapToFloor,camera,layer)},worldToTileXY:function(worldX,worldY,snapToFloor,vec2,camera,layer){return null===(layer=this.getLayer(layer))?null:this._convert.WorldToTileXY(worldX,worldY,snapToFloor,vec2,camera,layer)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});module2.exports=Tilemap},45939:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectCreator=__webpack_require__2(44603),ParseToTilemap=__webpack_require__2(31989);GameObjectCreator.register("tilemap",(function(config2){var c=void 0!==config2?config2:{};return ParseToTilemap(this.scene,c.key,c.tileWidth,c.tileHeight,c.width,c.height,c.data,c.insertNull)}))},46029:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GameObjectFactory=__webpack_require__2(39429),ParseToTilemap=__webpack_require__2(31989);GameObjectFactory.register("tilemap",(function(key,tileWidth,tileHeight,width,height,data,insertNull){return null===key&&(key=void 0),null===tileWidth&&(tileWidth=void 0),null===tileHeight&&(tileHeight=void 0),null===width&&(width=void 0),null===height&&(height=void 0),ParseToTilemap(this.scene,key,tileWidth,tileHeight,width,height,data,insertNull)}))},20442:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CollisionComponent=__webpack_require__2(78389),Components=__webpack_require__2(31401),GameObject=__webpack_require__2(95643),TilemapComponents=__webpack_require__2(81086),TilemapLayerRender=__webpack_require__2(19218),Vector2=__webpack_require__2(26099),TilemapLayer=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.PostPipeline,Components.Transform,Components.Visible,Components.ScrollFactor,CollisionComponent,TilemapLayerRender],initialize:function TilemapLayer2(scene,tilemap,layerIndex,tileset,x,y){GameObject.call(this,scene,"TilemapLayer"),this.isTilemap=!0,this.tilemap=tilemap,this.layerIndex=layerIndex,this.layer=tilemap.layers[layerIndex],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=TilemapComponents.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new Vector2,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(tileset),this.setAlpha(this.layer.alpha),this.setPosition(x,y),this.setOrigin(0,0),this.setSize(tilemap.tileWidth*this.layer.width,tilemap.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(tilesets){var gidMap=[],setList=[],map=this.tilemap;Array.isArray(tilesets)||(tilesets=[tilesets]);for(var i=0;i<tilesets.length;i++){var tileset=tilesets[i];if("string"==typeof tileset&&(tileset=map.getTileset(tileset)),tileset){setList.push(tileset);for(var s=tileset.firstgid,t=0;t<tileset.total;t++)gidMap[s+t]=tileset}}this.gidMap=gidMap,this.tileset=setList},setRenderOrder:function(renderOrder){return"string"==typeof renderOrder&&(renderOrder=["right-down","left-down","right-up","left-up"].indexOf(renderOrder)),renderOrder>=0&&renderOrder<4&&(this._renderOrder=renderOrder),this},calculateFacesAt:function(tileX,tileY){return TilemapComponents.CalculateFacesAt(tileX,tileY,this.layer),this},calculateFacesWithin:function(tileX,tileY,width,height){return TilemapComponents.CalculateFacesWithin(tileX,tileY,width,height,this.layer),this},createFromTiles:function(indexes,replacements,spriteConfig,scene,camera){return TilemapComponents.CreateFromTiles(indexes,replacements,spriteConfig,scene,camera,this.layer)},cull:function(camera){return this.cullCallback(this.layer,camera,this.culledTiles,this._renderOrder)},copy:function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces){return TilemapComponents.Copy(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,this.layer),this},fill:function(index,tileX,tileY,width,height,recalculateFaces){return TilemapComponents.Fill(index,tileX,tileY,width,height,recalculateFaces,this.layer),this},filterTiles:function(callback,context,tileX,tileY,width,height,filteringOptions){return TilemapComponents.FilterTiles(callback,context,tileX,tileY,width,height,filteringOptions,this.layer)},findByIndex:function(findIndex,skip,reverse){return TilemapComponents.FindByIndex(findIndex,skip,reverse,this.layer)},findTile:function(callback,context,tileX,tileY,width,height,filteringOptions){return TilemapComponents.FindTile(callback,context,tileX,tileY,width,height,filteringOptions,this.layer)},forEachTile:function(callback,context,tileX,tileY,width,height,filteringOptions){return TilemapComponents.ForEachTile(callback,context,tileX,tileY,width,height,filteringOptions,this.layer),this},setTint:function(tint,tileX,tileY,width,height,filteringOptions){return void 0===tint&&(tint=16777215),this.forEachTile((function(tile){tile.tint=tint,tile.tintFill=!1}),this,tileX,tileY,width,height,filteringOptions)},setTintFill:function(tint,tileX,tileY,width,height,filteringOptions){return void 0===tint&&(tint=16777215),this.forEachTile((function(tile){tile.tint=tint,tile.tintFill=!0}),this,tileX,tileY,width,height,filteringOptions)},getTileAt:function(tileX,tileY,nonNull){return TilemapComponents.GetTileAt(tileX,tileY,nonNull,this.layer)},getTileAtWorldXY:function(worldX,worldY,nonNull,camera){return TilemapComponents.GetTileAtWorldXY(worldX,worldY,nonNull,camera,this.layer)},getIsoTileAtWorldXY:function(worldX,worldY,originTop,nonNull,camera){void 0===originTop&&(originTop=!0);var point=this.tempVec;return TilemapComponents.IsometricWorldToTileXY(worldX,worldY,!0,point,camera,this.layer,originTop),this.getTileAt(point.x,point.y,nonNull)},getTilesWithin:function(tileX,tileY,width,height,filteringOptions){return TilemapComponents.GetTilesWithin(tileX,tileY,width,height,filteringOptions,this.layer)},getTilesWithinShape:function(shape,filteringOptions,camera){return TilemapComponents.GetTilesWithinShape(shape,filteringOptions,camera,this.layer)},getTilesWithinWorldXY:function(worldX,worldY,width,height,filteringOptions,camera){return TilemapComponents.GetTilesWithinWorldXY(worldX,worldY,width,height,filteringOptions,camera,this.layer)},hasTileAt:function(tileX,tileY){return TilemapComponents.HasTileAt(tileX,tileY,this.layer)},hasTileAtWorldXY:function(worldX,worldY,camera){return TilemapComponents.HasTileAtWorldXY(worldX,worldY,camera,this.layer)},putTileAt:function(tile,tileX,tileY,recalculateFaces){return TilemapComponents.PutTileAt(tile,tileX,tileY,recalculateFaces,this.layer)},putTileAtWorldXY:function(tile,worldX,worldY,recalculateFaces,camera){return TilemapComponents.PutTileAtWorldXY(tile,worldX,worldY,recalculateFaces,camera,this.layer)},putTilesAt:function(tilesArray,tileX,tileY,recalculateFaces){return TilemapComponents.PutTilesAt(tilesArray,tileX,tileY,recalculateFaces,this.layer),this},randomize:function(tileX,tileY,width,height,indexes){return TilemapComponents.Randomize(tileX,tileY,width,height,indexes,this.layer),this},removeTileAt:function(tileX,tileY,replaceWithNull,recalculateFaces){return TilemapComponents.RemoveTileAt(tileX,tileY,replaceWithNull,recalculateFaces,this.layer)},removeTileAtWorldXY:function(worldX,worldY,replaceWithNull,recalculateFaces,camera){return TilemapComponents.RemoveTileAtWorldXY(worldX,worldY,replaceWithNull,recalculateFaces,camera,this.layer)},renderDebug:function(graphics,styleConfig){return TilemapComponents.RenderDebug(graphics,styleConfig,this.layer),this},replaceByIndex:function(findIndex,newIndex,tileX,tileY,width,height){return TilemapComponents.ReplaceByIndex(findIndex,newIndex,tileX,tileY,width,height,this.layer),this},setSkipCull:function(value){return void 0===value&&(value=!0),this.skipCull=value,this},setCullPadding:function(paddingX,paddingY){return void 0===paddingX&&(paddingX=1),void 0===paddingY&&(paddingY=1),this.cullPaddingX=paddingX,this.cullPaddingY=paddingY,this},setCollision:function(indexes,collides,recalculateFaces,updateLayer){return TilemapComponents.SetCollision(indexes,collides,recalculateFaces,this.layer,updateLayer),this},setCollisionBetween:function(start,stop,collides,recalculateFaces){return TilemapComponents.SetCollisionBetween(start,stop,collides,recalculateFaces,this.layer),this},setCollisionByProperty:function(properties,collides,recalculateFaces){return TilemapComponents.SetCollisionByProperty(properties,collides,recalculateFaces,this.layer),this},setCollisionByExclusion:function(indexes,collides,recalculateFaces){return TilemapComponents.SetCollisionByExclusion(indexes,collides,recalculateFaces,this.layer),this},setCollisionFromCollisionGroup:function(collides,recalculateFaces){return TilemapComponents.SetCollisionFromCollisionGroup(collides,recalculateFaces,this.layer),this},setTileIndexCallback:function(indexes,callback,callbackContext){return TilemapComponents.SetTileIndexCallback(indexes,callback,callbackContext,this.layer),this},setTileLocationCallback:function(tileX,tileY,width,height,callback,callbackContext){return TilemapComponents.SetTileLocationCallback(tileX,tileY,width,height,callback,callbackContext,this.layer),this},shuffle:function(tileX,tileY,width,height){return TilemapComponents.Shuffle(tileX,tileY,width,height,this.layer),this},swapByIndex:function(indexA,indexB,tileX,tileY,width,height){return TilemapComponents.SwapByIndex(indexA,indexB,tileX,tileY,width,height,this.layer),this},tileToWorldX:function(tileX,camera){return this.tilemap.tileToWorldX(tileX,camera,this)},tileToWorldY:function(tileY,camera){return this.tilemap.tileToWorldY(tileY,camera,this)},tileToWorldXY:function(tileX,tileY,point,camera){return this.tilemap.tileToWorldXY(tileX,tileY,point,camera,this)},getTileCorners:function(tileX,tileY,camera){return this.tilemap.getTileCorners(tileX,tileY,camera,this)},weightedRandomize:function(weightedIndexes,tileX,tileY,width,height){return TilemapComponents.WeightedRandomize(tileX,tileY,width,height,weightedIndexes,this.layer),this},worldToTileX:function(worldX,snapToFloor,camera){return this.tilemap.worldToTileX(worldX,snapToFloor,camera,this)},worldToTileY:function(worldY,snapToFloor,camera){return this.tilemap.worldToTileY(worldY,snapToFloor,camera,this)},worldToTileXY:function(worldX,worldY,snapToFloor,point,camera){return this.tilemap.worldToTileXY(worldX,worldY,snapToFloor,point,camera,this)},destroy:function(removeFromTilemap){void 0===removeFromTilemap&&(removeFromTilemap=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),removeFromTilemap&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],GameObject.prototype.destroy.call(this))}});module2.exports=TilemapLayer},16153:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TransformMatrix=__webpack_require__2(61340),tempMatrix1=new TransformMatrix,tempMatrix2=new TransformMatrix,tempMatrix3=new TransformMatrix;module2.exports=function(renderer,src2,camera,parentMatrix){var renderTiles=src2.cull(camera),tileCount=renderTiles.length,alpha=camera.alpha*src2.alpha;if(!(0===tileCount||alpha<=0)){var camMatrix=tempMatrix1,layerMatrix=tempMatrix2,calcMatrix=tempMatrix3;layerMatrix.applyITRS(src2.x,src2.y,src2.rotation,src2.scaleX,src2.scaleY),camMatrix.copyFrom(camera.matrix);var ctx=renderer.currentContext,gidMap=src2.gidMap;ctx.save(),parentMatrix?(camMatrix.multiplyWithOffset(parentMatrix,-camera.scrollX*src2.scrollFactorX,-camera.scrollY*src2.scrollFactorY),layerMatrix.e=src2.x,layerMatrix.f=src2.y,camMatrix.multiply(layerMatrix,calcMatrix),calcMatrix.copyToContext(ctx)):(layerMatrix.e-=camera.scrollX*src2.scrollFactorX,layerMatrix.f-=camera.scrollY*src2.scrollFactorY,layerMatrix.copyToContext(ctx)),(!renderer.antialias||src2.scaleX>1||src2.scaleY>1)&&(ctx.imageSmoothingEnabled=!1);for(var i=0;i<tileCount;i++){var tile=renderTiles[i],tileset=gidMap[tile.index];if(tileset){var image=tileset.image.getSourceImage(),tileTexCoords=tileset.getTileTextureCoordinates(tile.index),tileWidth=tileset.tileWidth,tileHeight=tileset.tileHeight;if(null!==tileTexCoords&&0!==tileWidth&&0!==tileHeight){var halfWidth=.5*tileWidth,halfHeight=.5*tileHeight;tileTexCoords.x+=tileset.tileOffset.x,tileTexCoords.y+=tileset.tileOffset.y,ctx.save(),ctx.translate(tile.pixelX+halfWidth,tile.pixelY+halfHeight),0!==tile.rotation&&ctx.rotate(tile.rotation),(tile.flipX||tile.flipY)&&ctx.scale(tile.flipX?-1:1,tile.flipY?-1:1),ctx.globalAlpha=alpha*tile.alpha,ctx.drawImage(image,tileTexCoords.x,tileTexCoords.y,tileWidth,tileHeight,-halfWidth,-halfHeight,tileWidth,tileHeight),ctx.restore()}}}ctx.restore()}}},19218:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var renderWebGL,renderCanvas;__webpack_require__2(29747);renderWebGL=__webpack_require__2(99558),renderCanvas=__webpack_require__2(16153),module2.exports={renderWebGL:renderWebGL,renderCanvas:renderCanvas}},99558:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Utils=__webpack_require__2(70554);module2.exports=function(renderer,src2,camera){var renderTiles=src2.cull(camera),tileCount=renderTiles.length,alpha=camera.alpha*src2.alpha;if(!(0===tileCount||alpha<=0)){var gidMap=src2.gidMap,pipeline=renderer.pipelines.set(src2.pipeline,src2),getTint=Utils.getTintAppendFloatAlpha,scrollFactorX=src2.scrollFactorX,scrollFactorY=src2.scrollFactorY,x=src2.x,y=src2.y,sx=src2.scaleX,sy=src2.scaleY;renderer.pipelines.preBatch(src2);for(var i=0;i<tileCount;i++){var tile=renderTiles[i],tileset=gidMap[tile.index];if(tileset){var tileTexCoords=tileset.getTileTextureCoordinates(tile.index),tileWidth=tileset.tileWidth,tileHeight=tileset.tileHeight;if(tileTexCoords&&0!==tileWidth&&0!==tileHeight){var halfWidth=.5*tileWidth,halfHeight=.5*tileHeight,texture=tileset.glTexture,textureUnit=pipeline.setTexture2D(texture,src2),frameWidth=tileWidth,frameHeight=tileHeight,frameX=tileTexCoords.x,frameY=tileTexCoords.y,tOffsetX=tileset.tileOffset.x,tOffsetY=tileset.tileOffset.y,tint=getTint(tile.tint,alpha*tile.alpha);pipeline.batchTexture(src2,texture,texture.width,texture.height,x+tile.pixelX*sx+(halfWidth*sx-tOffsetX),y+tile.pixelY*sy+(halfHeight*sy-tOffsetY),tileWidth,tileHeight,sx,sy,tile.rotation,tile.flipX,tile.flipY,scrollFactorX,scrollFactorY,halfWidth,halfHeight,frameX,frameY,frameWidth,frameHeight,tint,tint,tint,tint,tile.tintFill,0,0,camera,null,!0,textureUnit,!0)}}}renderer.pipelines.postBatch(src2)}}},33629:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Vector2=__webpack_require__2(26099),Tileset=new Class({initialize:function Tileset2(name,firstgid,tileWidth,tileHeight,tileMargin,tileSpacing,tileProperties,tileData,tileOffset){(void 0===tileWidth||tileWidth<=0)&&(tileWidth=32),(void 0===tileHeight||tileHeight<=0)&&(tileHeight=32),void 0===tileMargin&&(tileMargin=0),void 0===tileSpacing&&(tileSpacing=0),void 0===tileProperties&&(tileProperties={}),void 0===tileData&&(tileData={}),this.name=name,this.firstgid=firstgid,this.tileWidth=tileWidth,this.tileHeight=tileHeight,this.tileMargin=tileMargin,this.tileSpacing=tileSpacing,this.tileProperties=tileProperties,this.tileData=tileData,this.tileOffset=new Vector2,void 0!==tileOffset&&this.tileOffset.set(tileOffset.x,tileOffset.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(tileIndex){return this.containsTileIndex(tileIndex)?this.tileProperties[tileIndex-this.firstgid]:null},getTileData:function(tileIndex){return this.containsTileIndex(tileIndex)?this.tileData[tileIndex-this.firstgid]:null},getTileCollisionGroup:function(tileIndex){var data=this.getTileData(tileIndex);return data&&data.objectgroup?data.objectgroup:null},containsTileIndex:function(tileIndex){return tileIndex>=this.firstgid&&tileIndex<this.firstgid+this.total},getTileTextureCoordinates:function(tileIndex){return this.containsTileIndex(tileIndex)?this.texCoordinates[tileIndex-this.firstgid]:null},setImage:function(texture){this.image=texture;var frame=texture.get(),bounds=texture.getFrameBounds();return this.glTexture=frame.source.glTexture,frame.width>bounds.width||frame.height>bounds.height?this.updateTileData(frame.width,frame.height):this.updateTileData(bounds.width,bounds.height,bounds.x,bounds.y),this},setTileSize:function(tileWidth,tileHeight){return void 0!==tileWidth&&(this.tileWidth=tileWidth),void 0!==tileHeight&&(this.tileHeight=tileHeight),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(margin,spacing){return void 0!==margin&&(this.tileMargin=margin),void 0!==spacing&&(this.tileSpacing=spacing),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(imageWidth,imageHeight,offsetX,offsetY){void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0);var rowCount=(imageHeight-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),colCount=(imageWidth-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);rowCount%1==0&&colCount%1==0||console.warn("Image tile area not tile size multiple in: "+this.name),rowCount=Math.floor(rowCount),colCount=Math.floor(colCount),this.rows=rowCount,this.columns=colCount,this.total=rowCount*colCount,this.texCoordinates.length=0;for(var tx=this.tileMargin+offsetX,ty=this.tileMargin+offsetY,y=0;y<this.rows;y++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:tx,y:ty}),tx+=this.tileWidth+this.tileSpacing;tx=this.tileMargin+offsetX,ty+=this.tileHeight+this.tileSpacing}return this}});module2.exports=Tileset},72023:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTileAt=__webpack_require__2(7423);module2.exports=function(tileX,tileY,layer){var tile=GetTileAt(tileX,tileY,!0,layer),above=GetTileAt(tileX,tileY-1,!0,layer),below=GetTileAt(tileX,tileY+1,!0,layer),left=GetTileAt(tileX-1,tileY,!0,layer),right=GetTileAt(tileX+1,tileY,!0,layer),tileCollides=tile&&tile.collides;return tileCollides&&(tile.faceTop=!0,tile.faceBottom=!0,tile.faceLeft=!0,tile.faceRight=!0),above&&above.collides&&(tileCollides&&(tile.faceTop=!1),above.faceBottom=!tileCollides),below&&below.collides&&(tileCollides&&(tile.faceBottom=!1),below.faceTop=!tileCollides),left&&left.collides&&(tileCollides&&(tile.faceLeft=!1),left.faceRight=!tileCollides),right&&right.collides&&(tileCollides&&(tile.faceRight=!1),right.faceLeft=!tileCollides),tile&&!tile.collides&&tile.resetFaces(),tile}},42573:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTileAt=__webpack_require__2(7423),GetTilesWithin=__webpack_require__2(7386);module2.exports=function(tileX,tileY,width,height,layer){for(var above=null,below=null,left=null,right=null,tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++){var tile=tiles[i];tile&&(tile.collides?(above=GetTileAt(tile.x,tile.y-1,!0,layer),below=GetTileAt(tile.x,tile.y+1,!0,layer),left=GetTileAt(tile.x-1,tile.y,!0,layer),right=GetTileAt(tile.x+1,tile.y,!0,layer),tile.faceTop=!above||!above.collides,tile.faceBottom=!below||!below.collides,tile.faceLeft=!left||!left.collides,tile.faceRight=!right||!right.collides):tile.resetFaces())}}},33528:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var point=new(__webpack_require__2(26099));module2.exports=function(tileX,tileY,layer,camera){var tilemapLayer=layer.tilemapLayer,cullPaddingX=tilemapLayer.cullPaddingX,cullPaddingY=tilemapLayer.cullPaddingY,pos=tilemapLayer.tilemap.tileToWorldXY(tileX,tileY,point,camera,tilemapLayer);return pos.x>camera.worldView.x+tilemapLayer.scaleX*layer.tileWidth*(-cullPaddingX-.5)&&pos.x<camera.worldView.right+tilemapLayer.scaleX*layer.tileWidth*(cullPaddingX-.5)&&pos.y>camera.worldView.y+tilemapLayer.scaleY*layer.tileHeight*(-cullPaddingY-1)&&pos.y<camera.worldView.bottom+tilemapLayer.scaleY*layer.tileHeight*(cullPaddingY-.5)}},1785:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CalculateFacesWithin=__webpack_require__2(42573),GetTilesWithin=__webpack_require__2(7386),IsInLayerBounds=__webpack_require__2(62991),Tile=__webpack_require__2(23029);module2.exports=function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);var srcTiles=GetTilesWithin(srcTileX,srcTileY,width,height,null,layer),copyTiles=[];srcTiles.forEach((function(tile){var newTile=new Tile(tile.layer,tile.index,tile.x,tile.y,tile.width,tile.height,tile.baseWidth,tile.baseHeight);newTile.copy(tile),copyTiles.push(newTile)}));for(var offsetX=destTileX-srcTileX,offsetY=destTileY-srcTileY,i=0;i<copyTiles.length;i++){var copy2=copyTiles[i],tileX=copy2.x+offsetX,tileY=copy2.y+offsetY;IsInLayerBounds(tileX,tileY,layer)&&layer.data[tileY][tileX]&&(copy2.x=tileX,copy2.y=tileY,copy2.updatePixelXY(),layer.data[tileY][tileX]=copy2)}recalculateFaces&&CalculateFacesWithin(destTileX-1,destTileY-1,width+2,height+2,layer),srcTiles.length=0,copyTiles.length=0}},78419:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeepCopy=__webpack_require__2(62644),GetTilesWithin=__webpack_require__2(7386),ReplaceByIndex=__webpack_require__2(27987);module2.exports=function(indexes,replacements,spriteConfig,scene,camera,layer){spriteConfig||(spriteConfig={}),Array.isArray(indexes)||(indexes=[indexes]);var tilemapLayer=layer.tilemapLayer;scene||(scene=tilemapLayer.scene),camera||(camera=scene.cameras.main);var i,layerWidth=layer.width,layerHeight=layer.height,tiles=GetTilesWithin(0,0,layerWidth,layerHeight,null,layer),sprites=[],mergeExtras=function(config3,tile2,properties){for(var i2=0;i2<properties.length;i2++){var property=properties[i2];config3.hasOwnProperty(property)||(config3[property]=tile2[property])}};for(i=0;i<tiles.length;i++){var tile=tiles[i],config2=DeepCopy(spriteConfig);if(-1!==indexes.indexOf(tile.index)){var point=tilemapLayer.tileToWorldXY(tile.x,tile.y,void 0,camera,layer);config2.x=point.x,config2.y=point.y,mergeExtras(config2,tile,["rotation","flipX","flipY","alpha","visible","tint"]),config2.hasOwnProperty("origin")||(config2.x+=.5*tile.width,config2.y+=.5*tile.height),config2.hasOwnProperty("useSpriteSheet")&&(config2.key=tile.tileset.image,config2.frame=tile.index-1),sprites.push(scene.make.sprite(config2))}}if(Array.isArray(replacements))for(i=0;i<indexes.length;i++)ReplaceByIndex(indexes[i],replacements[i],0,0,layerWidth,layerHeight,layer);else if(null!==replacements)for(i=0;i<indexes.length;i++)ReplaceByIndex(indexes[i],replacements,0,0,layerWidth,layerHeight,layer);return sprites}},19545:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rectangle=__webpack_require__2(87841),SnapCeil=__webpack_require__2(63448),SnapFloor=__webpack_require__2(56583),bounds=new Rectangle;module2.exports=function(layer,camera){var tilemap=layer.tilemapLayer.tilemap,tilemapLayer=layer.tilemapLayer,tileW=Math.floor(tilemap.tileWidth*tilemapLayer.scaleX),tileH=Math.floor(tilemap.tileHeight*tilemapLayer.scaleY),boundsLeft=SnapFloor(camera.worldView.x-tilemapLayer.x,tileW,0,!0)-tilemapLayer.cullPaddingX,boundsRight=SnapCeil(camera.worldView.right-tilemapLayer.x,tileW,0,!0)+tilemapLayer.cullPaddingX,boundsTop=SnapFloor(camera.worldView.y-tilemapLayer.y,tileH,0,!0)-tilemapLayer.cullPaddingY,boundsBottom=SnapCeil(camera.worldView.bottom-tilemapLayer.y,tileH,0,!0)+tilemapLayer.cullPaddingY;return bounds.setTo(boundsLeft,boundsTop,boundsRight-boundsLeft,boundsBottom-boundsTop)}},30003:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CullBounds=__webpack_require__2(19545),RunCull=__webpack_require__2(32483);module2.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]),void 0===renderOrder&&(renderOrder=0),outputArray.length=0;var tilemapLayer=layer.tilemapLayer,bounds=CullBounds(layer,camera);return(tilemapLayer.skipCull||1!==tilemapLayer.scrollFactorX||1!==tilemapLayer.scrollFactorY)&&(bounds.left=0,bounds.right=layer.width,bounds.top=0,bounds.bottom=layer.height),RunCull(layer,bounds,renderOrder,outputArray),outputArray}},35137:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),CalculateFacesWithin=__webpack_require__2(42573),SetTileCollision=__webpack_require__2(20576);module2.exports=function(index,tileX,tileY,width,height,recalculateFaces,layer){for(var doesIndexCollide=-1!==layer.collideIndexes.indexOf(index),tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++)tiles[i].index=index,SetTileCollision(tiles[i],doesIndexCollide);recalculateFaces&&CalculateFacesWithin(tileX-1,tileY-1,width+2,height+2,layer)}},40253:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer).filter(callback,context)}},52692:module2=>{module2.exports=function(findIndex,skip,reverse,layer){void 0===skip&&(skip=0),void 0===reverse&&(reverse=!1);var tx,ty,tile,count=0;if(reverse){for(ty=layer.height-1;ty>=0;ty--)for(tx=layer.width-1;tx>=0;tx--)if((tile=layer.data[ty][tx])&&tile.index===findIndex){if(count===skip)return tile;count+=1}}else for(ty=0;ty<layer.height;ty++)for(tx=0;tx<layer.width;tx++)if((tile=layer.data[ty][tx])&&tile.index===findIndex){if(count===skip)return tile;count+=1}return null}},66151:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer).find(callback,context)||null}},97560:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(callback,context,tileX,tileY,width,height,filteringOptions,layer){GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer).forEach(callback,context)}},43305:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),CullTiles=__webpack_require__2(30003),HexagonalCullTiles=__webpack_require__2(9474),IsometricCullTiles=__webpack_require__2(14018),NOOP=__webpack_require__2(29747),StaggeredCullTiles=__webpack_require__2(54503);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?CullTiles:orientation===CONST.HEXAGONAL?HexagonalCullTiles:orientation===CONST.STAGGERED?StaggeredCullTiles:orientation===CONST.ISOMETRIC?IsometricCullTiles:NOOP}},7423:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsInLayerBounds=__webpack_require__2(62991);module2.exports=function(tileX,tileY,nonNull,layer){if(IsInLayerBounds(tileX,tileY,layer)){var tile=layer.data[tileY][tileX]||null;return tile?-1===tile.index?nonNull?tile:null:tile:null}return null}},60540:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTileAt=__webpack_require__2(7423),point=new(__webpack_require__2(26099));module2.exports=function(worldX,worldY,nonNull,camera,layer){return layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera),GetTileAt(point.x,point.y,nonNull,layer)}},55826:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(tileX,tileY,camera,layer){var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,worldX=0,worldY=0;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),worldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileWidth*=tilemapLayer.scaleX,tileHeight*=tilemapLayer.scaleY);var x=worldX+tileX*tileWidth,y=worldY+tileY*tileHeight;return[new Vector2(x,y),new Vector2(x+tileWidth,y),new Vector2(x+tileWidth,y+tileHeight),new Vector2(x,y+tileHeight)]}},11758:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),HexagonalGetTileCorners=__webpack_require__2(27229),NOOP=__webpack_require__2(29747),GetTileCorners=__webpack_require__2(55826);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?GetTileCorners:orientation===CONST.ISOMETRIC?NOOP:orientation===CONST.HEXAGONAL?HexagonalGetTileCorners:(CONST.STAGGERED,NOOP)}},39167:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),NOOP=__webpack_require__2(29747),TileToWorldX=__webpack_require__2(97281);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldX:NOOP}},62e3:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),HexagonalTileToWorldXY=__webpack_require__2(19951),IsometricTileToWorldXY=__webpack_require__2(14127),NOOP=__webpack_require__2(29747),StaggeredTileToWorldXY=__webpack_require__2(97202),TileToWorldXY=__webpack_require__2(70326);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldXY:orientation===CONST.ISOMETRIC?IsometricTileToWorldXY:orientation===CONST.HEXAGONAL?HexagonalTileToWorldXY:orientation===CONST.STAGGERED?StaggeredTileToWorldXY:NOOP}},5984:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),NOOP=__webpack_require__2(29747),StaggeredTileToWorldY=__webpack_require__2(28054),TileToWorldY=__webpack_require__2(29650);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldY:orientation===CONST.STAGGERED?StaggeredTileToWorldY:NOOP}},7386:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540);module2.exports=function(tileX,tileY,width,height,filteringOptions,layer){void 0===tileX&&(tileX=0),void 0===tileY&&(tileY=0),void 0===width&&(width=layer.width),void 0===height&&(height=layer.height),filteringOptions||(filteringOptions={});var isNotEmpty=GetFastValue(filteringOptions,"isNotEmpty",!1),isColliding=GetFastValue(filteringOptions,"isColliding",!1),hasInterestingFace=GetFastValue(filteringOptions,"hasInterestingFace",!1);tileX<0&&(width+=tileX,tileX=0),tileY<0&&(height+=tileY,tileY=0),tileX+width>layer.width&&(width=Math.max(layer.width-tileX,0)),tileY+height>layer.height&&(height=Math.max(layer.height-tileY,0));for(var results=[],ty=tileY;ty<tileY+height;ty++)for(var tx=tileX;tx<tileX+width;tx++){var tile=layer.data[ty][tx];if(null!==tile){if(isNotEmpty&&-1===tile.index)continue;if(isColliding&&!tile.collides)continue;if(hasInterestingFace&&!tile.hasInterestingFace)continue;results.push(tile)}}return results}},91141:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Geom=__webpack_require__2(55738),GetTilesWithin=__webpack_require__2(7386),Intersects=__webpack_require__2(91865),NOOP=__webpack_require__2(29747),Vector2=__webpack_require__2(26099),TriangleToRectangle=function(triangle,rect){return Intersects.RectangleToTriangle(rect,triangle)},point=new Vector2,pointStart=new Vector2,pointEnd=new Vector2;module2.exports=function(shape,filteringOptions,camera,layer){if(void 0===shape)return[];var intersectTest=NOOP;shape instanceof Geom.Circle?intersectTest=Intersects.CircleToRectangle:shape instanceof Geom.Rectangle?intersectTest=Intersects.RectangleToRectangle:shape instanceof Geom.Triangle?intersectTest=TriangleToRectangle:shape instanceof Geom.Line&&(intersectTest=Intersects.LineToRectangle),layer.tilemapLayer.worldToTileXY(shape.left,shape.top,!0,pointStart,camera);var xStart=pointStart.x,yStart=pointStart.y;layer.tilemapLayer.worldToTileXY(shape.right,shape.bottom,!1,pointEnd,camera);var xEnd=Math.ceil(pointEnd.x),yEnd=Math.ceil(pointEnd.y),width=Math.max(xEnd-xStart,1),height=Math.max(yEnd-yStart,1),tiles=GetTilesWithin(xStart,yStart,width,height,filteringOptions,layer),tileWidth=layer.tileWidth,tileHeight=layer.tileHeight;layer.tilemapLayer&&(tileWidth*=layer.tilemapLayer.scaleX,tileHeight*=layer.tilemapLayer.scaleY);for(var results=[],tileRect=new Geom.Rectangle(0,0,tileWidth,tileHeight),i=0;i<tiles.length;i++){var tile=tiles[i];layer.tilemapLayer.tileToWorldXY(tile.x,tile.y,point,camera),tileRect.x=point.x,tileRect.y=point.y,intersectTest(shape,tileRect)&&results.push(tile)}return results}},96523:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),Vector2=__webpack_require__2(26099),pointStart=new Vector2,pointEnd=new Vector2;module2.exports=function(worldX,worldY,width,height,filteringOptions,camera,layer){var worldToTileXY=layer.tilemapLayer.tilemap._convert.WorldToTileXY;worldToTileXY(worldX,worldY,!0,pointStart,camera,layer);var xStart=pointStart.x,yStart=pointStart.y;worldToTileXY(worldX+width,worldY+height,!1,pointEnd,camera,layer);var xEnd=Math.ceil(pointEnd.x),yEnd=Math.ceil(pointEnd.y);return GetTilesWithin(xStart,yStart,xEnd-xStart,yEnd-yStart,filteringOptions,layer)}},96113:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),NULL=__webpack_require__2(20242),WorldToTileX=__webpack_require__2(10095);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileX:NULL}},16926:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),HexagonalWorldToTileXY=__webpack_require__2(86625),IsometricWorldToTileXY=__webpack_require__2(96897),NOOP=__webpack_require__2(29747),StaggeredWorldToTileXY=__webpack_require__2(15108),WorldToTileXY=__webpack_require__2(85896);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileXY:orientation===CONST.ISOMETRIC?IsometricWorldToTileXY:orientation===CONST.HEXAGONAL?HexagonalWorldToTileXY:orientation===CONST.STAGGERED?StaggeredWorldToTileXY:NOOP}},55762:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907),NULL=__webpack_require__2(20242),StaggeredWorldToTileY=__webpack_require__2(51900),WorldToTileY=__webpack_require__2(63288);module2.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileY:orientation===CONST.STAGGERED?StaggeredWorldToTileY:NULL}},45091:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsInLayerBounds=__webpack_require__2(62991);module2.exports=function(tileX,tileY,layer){if(IsInLayerBounds(tileX,tileY,layer)){var tile=layer.data[tileY][tileX];return null!==tile&&tile.index>-1}return!1}},24152:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HasTileAt=__webpack_require__2(45091),point=new(__webpack_require__2(26099));module2.exports=function(worldX,worldY,camera,layer){layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera);var tileX=point.x,tileY=point.y;return HasTileAt(tileX,tileY,layer)}},90454:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnapCeil=__webpack_require__2(63448),SnapFloor=__webpack_require__2(56583);module2.exports=function(layer,camera){var boundsLeft,boundsRight,boundsTop,boundsBottom,tilemap=layer.tilemapLayer.tilemap,tilemapLayer=layer.tilemapLayer,tileW=Math.floor(tilemap.tileWidth*tilemapLayer.scaleX),tileH=Math.floor(tilemap.tileHeight*tilemapLayer.scaleY),len=layer.hexSideLength;if("y"===layer.staggerAxis){var rowH=(tileH-len)/2+len;boundsLeft=SnapFloor(camera.worldView.x-tilemapLayer.x,tileW,0,!0)-tilemapLayer.cullPaddingX,boundsRight=SnapCeil(camera.worldView.right-tilemapLayer.x,tileW,0,!0)+tilemapLayer.cullPaddingX,boundsTop=SnapFloor(camera.worldView.y-tilemapLayer.y,rowH,0,!0)-tilemapLayer.cullPaddingY,boundsBottom=SnapCeil(camera.worldView.bottom-tilemapLayer.y,rowH,0,!0)+tilemapLayer.cullPaddingY}else{var rowW=(tileW-len)/2+len;boundsLeft=SnapFloor(camera.worldView.x-tilemapLayer.x,rowW,0,!0)-tilemapLayer.cullPaddingX,boundsRight=SnapCeil(camera.worldView.right-tilemapLayer.x,rowW,0,!0)+tilemapLayer.cullPaddingX,boundsTop=SnapFloor(camera.worldView.y-tilemapLayer.y,tileH,0,!0)-tilemapLayer.cullPaddingY,boundsBottom=SnapCeil(camera.worldView.bottom-tilemapLayer.y,tileH,0,!0)+tilemapLayer.cullPaddingY}return{left:boundsLeft,right:boundsRight,top:boundsTop,bottom:boundsBottom}}},9474:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CullBounds=__webpack_require__2(90454),RunCull=__webpack_require__2(32483);module2.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]),void 0===renderOrder&&(renderOrder=0),outputArray.length=0;var tilemapLayer=layer.tilemapLayer,bounds=CullBounds(layer,camera);return tilemapLayer.skipCull&&1===tilemapLayer.scrollFactorX&&1===tilemapLayer.scrollFactorY&&(bounds.left=0,bounds.right=layer.width,bounds.top=0,bounds.bottom=layer.height),RunCull(layer,bounds,renderOrder,outputArray),outputArray}},27229:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HexagonalTileToWorldXY=__webpack_require__2(19951),Vector2=__webpack_require__2(26099),tempVec=new Vector2;module2.exports=function(tileX,tileY,camera,layer){var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(tileWidth*=tilemapLayer.scaleX,tileHeight*=tilemapLayer.scaleY);var hexWidth,hexHeight,center=HexagonalTileToWorldXY(tileX,tileY,tempVec,camera,layer),corners=[],b0=.5773502691896257;"y"===layer.staggerAxis?(hexWidth=b0*tileWidth,hexHeight=tileHeight/2):(hexWidth=tileWidth/2,hexHeight=b0*tileHeight);for(var i=0;i<6;i++){var angle=2*Math.PI*(.5-i)/6;corners.push(new Vector2(center.x+hexWidth*Math.cos(angle),center.y+hexHeight*Math.sin(angle)))}return corners}},19951:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,worldX=0,worldY=0;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),worldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileWidth*=tilemapLayer.scaleX,tileHeight*=tilemapLayer.scaleY);var x,y,tileWidthHalf=tileWidth/2,tileHeightHalf=tileHeight/2,staggerAxis=layer.staggerAxis,staggerIndex=layer.staggerIndex;return"y"===staggerAxis?(x=worldX+tileWidth*tileX+tileWidth,y=worldY+1.5*tileY*tileHeightHalf+tileHeightHalf,tileY%2==0&&("odd"===staggerIndex?x-=tileWidthHalf:x+=tileWidthHalf)):"x"===staggerAxis&&"odd"===staggerIndex&&(x=worldX+1.5*tileX*tileWidthHalf+tileWidthHalf,y=worldY+tileHeight*tileX+tileHeight,tileX%2==0&&("odd"===staggerIndex?y-=tileHeightHalf:y+=tileHeightHalf)),point.set(x,y)}},86625:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(worldX,worldY,snapToFloor,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldX-=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileWidth*=tilemapLayer.scaleX,tileHeight*=tilemapLayer.scaleY);var px,py,q,r,s,b0=.5773502691896257,b1=-.3333333333333333,b3=.6666666666666666,tileWidthHalf=tileWidth/2,tileHeightHalf=tileHeight/2;"y"===layer.staggerAxis?(q=b0*(px=(worldX-tileWidthHalf)/(b0*tileWidth))+b1*(py=(worldY-tileHeightHalf)/tileHeightHalf),r=0*px+b3*py):(q=b1*(px=(worldX-tileWidthHalf)/tileWidthHalf)+b0*(py=(worldY-tileHeightHalf)/(b0*tileHeight)),r=b3*px+0*py),s=-q-r;var x,qi=Math.round(q),ri=Math.round(r),si=Math.round(s),qDiff=Math.abs(qi-q),rDiff=Math.abs(ri-r),sDiff=Math.abs(si-s);qDiff>rDiff&&qDiff>sDiff?qi=-ri-si:rDiff>sDiff&&(ri=-qi-si);var y=ri;return x="odd"===layer.staggerIndex?y%2==0?ri/2+qi:ri/2+qi-.5:y%2==0?ri/2+qi:ri/2+qi+.5,point.set(x,y)}},62991:module2=>{module2.exports=function(tileX,tileY,layer){return tileX>=0&&tileX<layer.width&&tileY>=0&&tileY<layer.height}},14018:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CheckIsoBounds=__webpack_require__2(33528);module2.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]),void 0===renderOrder&&(renderOrder=0),outputArray.length=0;var x,y,tile,tilemapLayer=layer.tilemapLayer,mapData=layer.data,mapWidth=layer.width,mapHeight=layer.height,skipCull=tilemapLayer.skipCull,drawRight=mapWidth,drawBottom=mapHeight;if(0===renderOrder)for(y=0;y<drawBottom;y++)for(x=0;x<drawRight;x++)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&(skipCull||CheckIsoBounds(x,y,layer,camera))&&outputArray.push(tile);else if(1===renderOrder)for(y=0;y<drawBottom;y++)for(x=drawRight;x>=0;x--)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&(skipCull||CheckIsoBounds(x,y,layer,camera))&&outputArray.push(tile);else if(2===renderOrder)for(y=drawBottom;y>=0;y--)for(x=0;x<drawRight;x++)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&(skipCull||CheckIsoBounds(x,y,layer,camera))&&outputArray.push(tile);else if(3===renderOrder)for(y=drawBottom;y>=0;y--)for(x=drawRight;x>=0;x--)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&(skipCull||CheckIsoBounds(x,y,layer,camera))&&outputArray.push(tile);return tilemapLayer.tilesDrawn=outputArray.length,tilemapLayer.tilesTotal=mapWidth*mapHeight,outputArray}},14127:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,layerWorldX=0,layerWorldY=0;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),layerWorldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX,layerWorldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY);var x=layerWorldX+tileWidth/2*(tileX-tileY),y=layerWorldY+(tileX+tileY)*(tileHeight/2);return point.set(x,y)}},96897:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(worldX,worldY,snapToFloor,point,camera,layer,originTop){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY,worldX-=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX);var tileWidthHalf=tileWidth/2,tileHeightHalf=tileHeight/2;originTop||(worldY-=tileHeight);var x=.5*((worldX-=tileWidthHalf)/tileWidthHalf+worldY/tileHeightHalf),y=.5*(-worldX/tileWidthHalf+worldY/tileHeightHalf);return snapToFloor&&(x=Math.floor(x),y=Math.floor(y)),point.set(x,y)}},71558:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tile=__webpack_require__2(23029),IsInLayerBounds=__webpack_require__2(62991),CalculateFacesAt=__webpack_require__2(72023),SetTileCollision=__webpack_require__2(20576);module2.exports=function(tile,tileX,tileY,recalculateFaces,layer){if(void 0===recalculateFaces&&(recalculateFaces=!0),!IsInLayerBounds(tileX,tileY,layer))return null;var index,oldTile=layer.data[tileY][tileX],oldTileCollides=oldTile&&oldTile.collides;tile instanceof Tile?(null===layer.data[tileY][tileX]&&(layer.data[tileY][tileX]=new Tile(layer,tile.index,tileX,tileY,layer.tileWidth,layer.tileHeight)),layer.data[tileY][tileX].copy(tile)):(index=tile,null===layer.data[tileY][tileX]?layer.data[tileY][tileX]=new Tile(layer,index,tileX,tileY,layer.tileWidth,layer.tileHeight):layer.data[tileY][tileX].index=index);var newTile=layer.data[tileY][tileX],collides=-1!==layer.collideIndexes.indexOf(newTile.index);if(-1===(index=tile instanceof Tile?tile.index:tile))newTile.width=layer.tileWidth,newTile.height=layer.tileHeight;else{var tilemap=layer.tilemapLayer.tilemap,sid=tilemap.tiles[index][2],set=tilemap.tilesets[sid];newTile.width=set.tileWidth,newTile.height=set.tileHeight}return SetTileCollision(newTile,collides),recalculateFaces&&oldTileCollides!==newTile.collides&&CalculateFacesAt(tileX,tileY,layer),newTile}},26303:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PutTileAt=__webpack_require__2(71558),point=new(__webpack_require__2(26099));module2.exports=function(tile,worldX,worldY,recalculateFaces,camera,layer){return layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera,layer),PutTileAt(tile,point.x,point.y,recalculateFaces,layer)}},14051:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CalculateFacesWithin=__webpack_require__2(42573),PutTileAt=__webpack_require__2(71558);module2.exports=function(tilesArray,tileX,tileY,recalculateFaces,layer){if(void 0===recalculateFaces&&(recalculateFaces=!0),!Array.isArray(tilesArray))return null;Array.isArray(tilesArray[0])||(tilesArray=[tilesArray]);for(var height=tilesArray.length,width=tilesArray[0].length,ty=0;ty<height;ty++)for(var tx=0;tx<width;tx++){var tile=tilesArray[ty][tx];PutTileAt(tile,tileX+tx,tileY+ty,!1,layer)}recalculateFaces&&CalculateFacesWithin(tileX-1,tileY-1,width+2,height+2,layer)}},77389:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),GetRandom=__webpack_require__2(26546);module2.exports=function(tileX,tileY,width,height,indexes,layer){var i,tiles=GetTilesWithin(tileX,tileY,width,height,{},layer);if(!indexes)for(indexes=[],i=0;i<tiles.length;i++)-1===indexes.indexOf(tiles[i].index)&&indexes.push(tiles[i].index);for(i=0;i<tiles.length;i++)tiles[i].index=GetRandom(indexes)}},63557:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tile=__webpack_require__2(23029),IsInLayerBounds=__webpack_require__2(62991),CalculateFacesAt=__webpack_require__2(72023);module2.exports=function(tileX,tileY,replaceWithNull,recalculateFaces,layer){if(void 0===replaceWithNull&&(replaceWithNull=!0),void 0===recalculateFaces&&(recalculateFaces=!0),!IsInLayerBounds(tileX,tileY,layer))return null;var tile=layer.data[tileY][tileX];return tile?(layer.data[tileY][tileX]=replaceWithNull?null:new Tile(layer,-1,tileX,tileY,layer.tileWidth,layer.tileHeight),recalculateFaces&&tile&&tile.collides&&CalculateFacesAt(tileX,tileY,layer),tile):null}},94178:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RemoveTileAt=__webpack_require__2(63557),point=new(__webpack_require__2(26099));module2.exports=function(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer){return layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera,layer),RemoveTileAt(point.x,point.y,replaceWithNull,recalculateFaces,layer)}},15533:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),Color=__webpack_require__2(3956),defaultTileColor=new Color(105,210,231,150),defaultCollidingTileColor=new Color(243,134,48,200),defaultFaceColor=new Color(40,39,37,150);module2.exports=function(graphics,styleConfig,layer){void 0===styleConfig&&(styleConfig={});var tileColor=void 0!==styleConfig.tileColor?styleConfig.tileColor:defaultTileColor,collidingTileColor=void 0!==styleConfig.collidingTileColor?styleConfig.collidingTileColor:defaultCollidingTileColor,faceColor=void 0!==styleConfig.faceColor?styleConfig.faceColor:defaultFaceColor,tiles=GetTilesWithin(0,0,layer.width,layer.height,null,layer);graphics.translateCanvas(layer.tilemapLayer.x,layer.tilemapLayer.y),graphics.scaleCanvas(layer.tilemapLayer.scaleX,layer.tilemapLayer.scaleY);for(var i=0;i<tiles.length;i++){var tile=tiles[i],tw=tile.width,th=tile.height,x=tile.pixelX,y=tile.pixelY,color=tile.collides?collidingTileColor:tileColor;null!==color&&(graphics.fillStyle(color.color,color.alpha/255),graphics.fillRect(x,y,tw,th)),x+=1,y+=1,tw-=2,th-=2,null!==faceColor&&(graphics.lineStyle(1,faceColor.color,faceColor.alpha/255),tile.faceTop&&graphics.lineBetween(x,y,x+tw,y),tile.faceRight&&graphics.lineBetween(x+tw,y,x+tw,y+th),tile.faceBottom&&graphics.lineBetween(x,y+th,x+tw,y+th),tile.faceLeft&&graphics.lineBetween(x,y,x,y+th))}}},27987:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(findIndex,newIndex,tileX,tileY,width,height,layer){for(var tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++)tiles[i]&&tiles[i].index===findIndex&&(tiles[i].index=newIndex)}},32483:module2=>{module2.exports=function(layer,bounds,renderOrder,outputArray){var x,y,tile,mapData=layer.data,mapWidth=layer.width,mapHeight=layer.height,tilemapLayer=layer.tilemapLayer,drawLeft=Math.max(0,bounds.left),drawRight=Math.min(mapWidth,bounds.right),drawTop=Math.max(0,bounds.top),drawBottom=Math.min(mapHeight,bounds.bottom);if(0===renderOrder)for(y=drawTop;y<drawBottom;y++)for(x=drawLeft;mapData[y]&&x<drawRight;x++)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(1===renderOrder)for(y=drawTop;y<drawBottom;y++)for(x=drawRight;mapData[y]&&x>=drawLeft;x--)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(2===renderOrder)for(y=drawBottom;y>=drawTop;y--)for(x=drawLeft;mapData[y]&&x<drawRight;x++)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(3===renderOrder)for(y=drawBottom;y>=drawTop;y--)for(x=drawRight;mapData[y]&&x>=drawLeft;x--)(tile=mapData[y][x])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);return tilemapLayer.tilesDrawn=outputArray.length,tilemapLayer.tilesTotal=mapWidth*mapHeight,outputArray}},57068:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=__webpack_require__2(20576),CalculateFacesWithin=__webpack_require__2(42573),SetLayerCollisionIndex=__webpack_require__2(9589);module2.exports=function(indexes,collides,recalculateFaces,layer,updateLayer){void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),void 0===updateLayer&&(updateLayer=!0),Array.isArray(indexes)||(indexes=[indexes]);for(var i=0;i<indexes.length;i++)SetLayerCollisionIndex(indexes[i],collides,layer);if(updateLayer)for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];tile&&-1!==indexes.indexOf(tile.index)&&SetTileCollision(tile,collides)}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},37266:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=__webpack_require__2(20576),CalculateFacesWithin=__webpack_require__2(42573),SetLayerCollisionIndex=__webpack_require__2(9589);module2.exports=function(start,stop,collides,recalculateFaces,layer,updateLayer){if(void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),void 0===updateLayer&&(updateLayer=!0),!(start>stop)){for(var index=start;index<=stop;index++)SetLayerCollisionIndex(index,collides,layer);if(updateLayer)for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];tile&&tile.index>=start&&tile.index<=stop&&SetTileCollision(tile,collides)}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}}},75661:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=__webpack_require__2(20576),CalculateFacesWithin=__webpack_require__2(42573),SetLayerCollisionIndex=__webpack_require__2(9589);module2.exports=function(indexes,collides,recalculateFaces,layer){void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0),Array.isArray(indexes)||(indexes=[indexes]);for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];tile&&-1===indexes.indexOf(tile.index)&&(SetTileCollision(tile,collides),SetLayerCollisionIndex(tile.index,collides,layer))}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},64740:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=__webpack_require__2(20576),CalculateFacesWithin=__webpack_require__2(42573),HasValue=__webpack_require__2(97022);module2.exports=function(properties,collides,recalculateFaces,layer){void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0);for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];if(tile)for(var property in properties)if(HasValue(tile.properties,property)){var values=properties[property];Array.isArray(values)||(values=[values]);for(var i=0;i<values.length;i++)tile.properties[property]===values[i]&&SetTileCollision(tile,collides)}}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},63307:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=__webpack_require__2(20576),CalculateFacesWithin=__webpack_require__2(42573);module2.exports=function(collides,recalculateFaces,layer){void 0===collides&&(collides=!0),void 0===recalculateFaces&&(recalculateFaces=!0);for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];if(tile){var collisionGroup=tile.getCollisionGroup();collisionGroup&&collisionGroup.objects&&collisionGroup.objects.length>0&&SetTileCollision(tile,collides)}}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},9589:module2=>{module2.exports=function(tileIndex,collides,layer){var loc=layer.collideIndexes.indexOf(tileIndex);collides&&-1===loc?layer.collideIndexes.push(tileIndex):collides||-1===loc||layer.collideIndexes.splice(loc,1)}},20576:module2=>{module2.exports=function(tile,collides){collides?tile.setCollision(!0,!0,!0,!0,!1):tile.resetCollision(!1)}},79583:module2=>{module2.exports=function(indexes,callback,callbackContext,layer){if("number"==typeof indexes)layer.callbacks[indexes]=null!==callback?{callback:callback,callbackContext:callbackContext}:void 0;else for(var i=0,len=indexes.length;i<len;i++)layer.callbacks[indexes[i]]=null!==callback?{callback:callback,callbackContext:callbackContext}:void 0}},93254:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(tileX,tileY,width,height,callback,callbackContext,layer){for(var tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++)tiles[i].setCollisionCallback(callback,callbackContext)}},32903:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),ShuffleArray=__webpack_require__2(33680);module2.exports=function(tileX,tileY,width,height,layer){var tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),indexes=tiles.map((function(tile){return tile.index}));ShuffleArray(indexes);for(var i=0;i<tiles.length;i++)tiles[i].index=indexes[i]}},61325:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnapCeil=__webpack_require__2(63448),SnapFloor=__webpack_require__2(56583);module2.exports=function(layer,camera){var tilemap=layer.tilemapLayer.tilemap,tilemapLayer=layer.tilemapLayer,tileW=Math.floor(tilemap.tileWidth*tilemapLayer.scaleX),tileH=Math.floor(tilemap.tileHeight*tilemapLayer.scaleY);return{left:SnapFloor(camera.worldView.x-tilemapLayer.x,tileW,0,!0)-tilemapLayer.cullPaddingX,right:SnapCeil(camera.worldView.right-tilemapLayer.x,tileW,0,!0)+tilemapLayer.cullPaddingX,top:SnapFloor(camera.worldView.y-tilemapLayer.y,tileH/2,0,!0)-tilemapLayer.cullPaddingY,bottom:SnapCeil(camera.worldView.bottom-tilemapLayer.y,tileH/2,0,!0)+tilemapLayer.cullPaddingY}}},54503:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CullBounds=__webpack_require__2(61325),RunCull=__webpack_require__2(32483);module2.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]),void 0===renderOrder&&(renderOrder=0),outputArray.length=0;var tilemapLayer=layer.tilemapLayer,bounds=CullBounds(layer,camera);return tilemapLayer.skipCull&&1===tilemapLayer.scrollFactorX&&1===tilemapLayer.scrollFactorY&&(bounds.left=0,bounds.right=layer.width,bounds.top=0,bounds.bottom=layer.height),RunCull(layer,bounds,renderOrder,outputArray),outputArray}},97202:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,layerWorldX=0,layerWorldY=0;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),layerWorldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX,layerWorldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY);var x=layerWorldX+tileX*tileWidth+tileY%2*(tileWidth/2),y=layerWorldY+tileY*(tileHeight/2);return point.set(x,y)}},28054:module2=>{module2.exports=function(tileY,camera,layer){var tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,layerWorldY=0;return tilemapLayer&&(void 0===camera&&(camera=tilemapLayer.scene.cameras.main),layerWorldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY),layerWorldY+tileY*(tileHeight/2)+tileHeight}},15108:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(worldX,worldY,snapToFloor,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY,worldX-=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX);var y=snapToFloor?Math.floor(worldY/(tileHeight/2)):worldY/(tileHeight/2),x=snapToFloor?Math.floor((worldX+y%2*.5*tileWidth)/tileWidth):(worldX+y%2*.5*tileWidth)/tileWidth;return point.set(x,y)}},51900:module2=>{module2.exports=function(worldY,snapToFloor,camera,layer){var tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;return tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY),snapToFloor?Math.floor(worldY/(tileHeight/2)):worldY/(tileHeight/2)}},86560:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386);module2.exports=function(indexA,indexB,tileX,tileY,width,height,layer){for(var tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++)tiles[i]&&(tiles[i].index===indexA?tiles[i].index=indexB:tiles[i].index===indexB&&(tiles[i].index=indexA))}},97281:module2=>{module2.exports=function(tileX,camera,layer){var tileWidth=layer.baseTileWidth,tilemapLayer=layer.tilemapLayer,layerWorldX=0;return tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),layerWorldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX),layerWorldX+tileX*tileWidth}},70326:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileToWorldX=__webpack_require__2(97281),TileToWorldY=__webpack_require__2(29650),Vector2=__webpack_require__2(26099);module2.exports=function(tileX,tileY,point,camera,layer){return point||(point=new Vector2(0,0)),point.x=TileToWorldX(tileX,camera,layer),point.y=TileToWorldY(tileY,camera,layer),point}},29650:module2=>{module2.exports=function(tileY,camera,layer){var tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,layerWorldY=0;return tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),layerWorldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY),layerWorldY+tileY*tileHeight}},77366:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTilesWithin=__webpack_require__2(7386),MATH=__webpack_require__2(75508);module2.exports=function(tileX,tileY,width,height,weightedIndexes,layer){if(weightedIndexes){var i,tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),weightTotal=0;for(i=0;i<weightedIndexes.length;i++)weightTotal+=weightedIndexes[i].weight;if(!(weightTotal<=0))for(i=0;i<tiles.length;i++){for(var rand=MATH.RND.frac()*weightTotal,sum=0,randomIndex=-1,j=0;j<weightedIndexes.length;j++)if(rand<=(sum+=weightedIndexes[j].weight)){var chosen=weightedIndexes[j].index;randomIndex=Array.isArray(chosen)?chosen[Math.floor(MATH.RND.frac()*chosen.length)]:chosen;break}tiles[i].index=randomIndex}}}},10095:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WorldToTileXY=__webpack_require__2(85896),tempVec=new(__webpack_require__2(26099));module2.exports=function(worldX,snapToFloor,camera,layer){return WorldToTileXY(worldX,0,snapToFloor,tempVec,camera,layer),tempVec.x}},85896:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Vector2=__webpack_require__2(26099);module2.exports=function(worldX,worldY,snapToFloor,point,camera,layer){void 0===snapToFloor&&(snapToFloor=!0),point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldX-=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileWidth*=tilemapLayer.scaleX,tileHeight*=tilemapLayer.scaleY);var x=worldX/tileWidth,y=worldY/tileHeight;return snapToFloor&&(x=Math.floor(x),y=Math.floor(y)),point.set(x,y)}},63288:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var WorldToTileXY=__webpack_require__2(85896),tempVec=new(__webpack_require__2(26099));module2.exports=function(worldY,snapToFloor,camera,layer){return WorldToTileXY(0,worldY,snapToFloor,tempVec,camera,layer),tempVec.y}},81086:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CalculateFacesAt:__webpack_require__2(72023),CalculateFacesWithin:__webpack_require__2(42573),CheckIsoBounds:__webpack_require__2(33528),Copy:__webpack_require__2(1785),CreateFromTiles:__webpack_require__2(78419),CullBounds:__webpack_require__2(19545),CullTiles:__webpack_require__2(30003),Fill:__webpack_require__2(35137),FilterTiles:__webpack_require__2(40253),FindByIndex:__webpack_require__2(52692),FindTile:__webpack_require__2(66151),ForEachTile:__webpack_require__2(97560),GetCullTilesFunction:__webpack_require__2(43305),GetTileAt:__webpack_require__2(7423),GetTileAtWorldXY:__webpack_require__2(60540),GetTileCorners:__webpack_require__2(55826),GetTileCornersFunction:__webpack_require__2(11758),GetTilesWithin:__webpack_require__2(7386),GetTilesWithinShape:__webpack_require__2(91141),GetTilesWithinWorldXY:__webpack_require__2(96523),GetTileToWorldXFunction:__webpack_require__2(39167),GetTileToWorldXYFunction:__webpack_require__2(62e3),GetTileToWorldYFunction:__webpack_require__2(5984),GetWorldToTileXFunction:__webpack_require__2(96113),GetWorldToTileXYFunction:__webpack_require__2(16926),GetWorldToTileYFunction:__webpack_require__2(55762),HasTileAt:__webpack_require__2(45091),HasTileAtWorldXY:__webpack_require__2(24152),HexagonalCullBounds:__webpack_require__2(90454),HexagonalCullTiles:__webpack_require__2(9474),HexagonalGetTileCorners:__webpack_require__2(27229),HexagonalTileToWorldXY:__webpack_require__2(19951),HexagonalWorldToTileXY:__webpack_require__2(86625),IsInLayerBounds:__webpack_require__2(62991),IsometricCullTiles:__webpack_require__2(14018),IsometricTileToWorldXY:__webpack_require__2(14127),IsometricWorldToTileXY:__webpack_require__2(96897),PutTileAt:__webpack_require__2(71558),PutTileAtWorldXY:__webpack_require__2(26303),PutTilesAt:__webpack_require__2(14051),Randomize:__webpack_require__2(77389),RemoveTileAt:__webpack_require__2(63557),RemoveTileAtWorldXY:__webpack_require__2(94178),RenderDebug:__webpack_require__2(15533),ReplaceByIndex:__webpack_require__2(27987),RunCull:__webpack_require__2(32483),SetCollision:__webpack_require__2(57068),SetCollisionBetween:__webpack_require__2(37266),SetCollisionByExclusion:__webpack_require__2(75661),SetCollisionByProperty:__webpack_require__2(64740),SetCollisionFromCollisionGroup:__webpack_require__2(63307),SetLayerCollisionIndex:__webpack_require__2(9589),SetTileCollision:__webpack_require__2(20576),SetTileIndexCallback:__webpack_require__2(79583),SetTileLocationCallback:__webpack_require__2(93254),Shuffle:__webpack_require__2(32903),StaggeredCullBounds:__webpack_require__2(61325),StaggeredCullTiles:__webpack_require__2(54503),StaggeredTileToWorldXY:__webpack_require__2(97202),StaggeredTileToWorldY:__webpack_require__2(28054),StaggeredWorldToTileXY:__webpack_require__2(15108),StaggeredWorldToTileY:__webpack_require__2(51900),SwapByIndex:__webpack_require__2(86560),TileToWorldX:__webpack_require__2(97281),TileToWorldXY:__webpack_require__2(70326),TileToWorldY:__webpack_require__2(29650),WeightedRandomize:__webpack_require__2(77366),WorldToTileX:__webpack_require__2(10095),WorldToTileXY:__webpack_require__2(85896),WorldToTileY:__webpack_require__2(63288)}},91907:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST={ORIENTATION:__webpack_require__2(91907)};module2.exports=CONST},62501:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291),CONST=__webpack_require__2(21829),Tilemaps={Components:__webpack_require__2(81086),Parsers:__webpack_require__2(57442),Formats:__webpack_require__2(80341),ImageCollection:__webpack_require__2(16536),ParseToTilemap:__webpack_require__2(31989),Tile:__webpack_require__2(23029),Tilemap:__webpack_require__2(49075),TilemapCreator:__webpack_require__2(45939),TilemapFactory:__webpack_require__2(46029),Tileset:__webpack_require__2(33629),TilemapLayer:__webpack_require__2(20442),Orientation:__webpack_require__2(91907),LayerData:__webpack_require__2(14977),MapData:__webpack_require__2(87010),ObjectLayer:__webpack_require__2(48700)};Tilemaps=Extend(!1,Tilemaps,CONST.ORIENTATION),module2.exports=Tilemaps},14977:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(91907),GetFastValue=__webpack_require__2(95540),LayerData=new Class({initialize:function LayerData2(config2){void 0===config2&&(config2={}),this.name=GetFastValue(config2,"name","layer"),this.id=GetFastValue(config2,"id",0),this.x=GetFastValue(config2,"x",0),this.y=GetFastValue(config2,"y",0),this.width=GetFastValue(config2,"width",0),this.height=GetFastValue(config2,"height",0),this.tileWidth=GetFastValue(config2,"tileWidth",0),this.tileHeight=GetFastValue(config2,"tileHeight",0),this.baseTileWidth=GetFastValue(config2,"baseTileWidth",this.tileWidth),this.baseTileHeight=GetFastValue(config2,"baseTileHeight",this.tileHeight),this.orientation=GetFastValue(config2,"orientation",CONST.ORTHOGONAL),this.widthInPixels=GetFastValue(config2,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=GetFastValue(config2,"heightInPixels",this.height*this.baseTileHeight),this.alpha=GetFastValue(config2,"alpha",1),this.visible=GetFastValue(config2,"visible",!0),this.properties=GetFastValue(config2,"properties",[]),this.indexes=GetFastValue(config2,"indexes",[]),this.collideIndexes=GetFastValue(config2,"collideIndexes",[]),this.callbacks=GetFastValue(config2,"callbacks",[]),this.bodies=GetFastValue(config2,"bodies",[]),this.data=GetFastValue(config2,"data",[]),this.tilemapLayer=GetFastValue(config2,"tilemapLayer",null),this.hexSideLength=GetFastValue(config2,"hexSideLength",0),this.staggerAxis=GetFastValue(config2,"staggerAxis","y"),this.staggerIndex=GetFastValue(config2,"staggerIndex","odd")}});module2.exports=LayerData},87010:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),CONST=__webpack_require__2(91907),GetFastValue=__webpack_require__2(95540),MapData=new Class({initialize:function MapData2(config2){void 0===config2&&(config2={}),this.name=GetFastValue(config2,"name","map"),this.width=GetFastValue(config2,"width",0),this.height=GetFastValue(config2,"height",0),this.infinite=GetFastValue(config2,"infinite",!1),this.tileWidth=GetFastValue(config2,"tileWidth",0),this.tileHeight=GetFastValue(config2,"tileHeight",0),this.widthInPixels=GetFastValue(config2,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=GetFastValue(config2,"heightInPixels",this.height*this.tileHeight),this.format=GetFastValue(config2,"format",null),this.orientation=GetFastValue(config2,"orientation",CONST.ORTHOGONAL),this.renderOrder=GetFastValue(config2,"renderOrder","right-down"),this.version=GetFastValue(config2,"version","1"),this.properties=GetFastValue(config2,"properties",{}),this.layers=GetFastValue(config2,"layers",[]),this.images=GetFastValue(config2,"images",[]),this.objects=GetFastValue(config2,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=GetFastValue(config2,"collision",{}),this.tilesets=GetFastValue(config2,"tilesets",[]),this.imageCollections=GetFastValue(config2,"imageCollections",[]),this.tiles=GetFastValue(config2,"tiles",[]),this.hexSideLength=GetFastValue(config2,"hexSideLength",0),this.staggerAxis=GetFastValue(config2,"staggerAxis","y"),this.staggerIndex=GetFastValue(config2,"staggerIndex","odd")}});module2.exports=MapData},48700:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),ObjectLayer=new Class({initialize:function ObjectLayer2(config2){void 0===config2&&(config2={}),this.name=GetFastValue(config2,"name","object layer"),this.id=GetFastValue(config2,"id",0),this.opacity=GetFastValue(config2,"opacity",1),this.properties=GetFastValue(config2,"properties",{}),this.propertyTypes=GetFastValue(config2,"propertytypes",{}),this.type=GetFastValue(config2,"type","objectgroup"),this.visible=GetFastValue(config2,"visible",!0),this.objects=GetFastValue(config2,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});module2.exports=ObjectLayer},6641:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CONST=__webpack_require__2(91907);module2.exports=function(orientation){return"isometric"===(orientation=orientation.toLowerCase())?CONST.ISOMETRIC:"staggered"===orientation?CONST.STAGGERED:"hexagonal"===orientation?CONST.HEXAGONAL:CONST.ORTHOGONAL}},46177:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Formats=__webpack_require__2(80341),Parse2DArray=__webpack_require__2(2342),ParseCSV=__webpack_require__2(82593),ParseJSONTiled=__webpack_require__2(46594),ParseWeltmeister=__webpack_require__2(87021);module2.exports=function(name,mapFormat,data,tileWidth,tileHeight,insertNull){var newMap;switch(mapFormat){case Formats.ARRAY_2D:newMap=Parse2DArray(name,data,tileWidth,tileHeight,insertNull);break;case Formats.CSV:newMap=ParseCSV(name,data,tileWidth,tileHeight,insertNull);break;case Formats.TILED_JSON:newMap=ParseJSONTiled(name,data,insertNull);break;case Formats.WELTMEISTER:newMap=ParseWeltmeister(name,data,insertNull);break;default:console.warn("Unrecognized tilemap data format: "+mapFormat),newMap=null}return newMap}},2342:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Formats=__webpack_require__2(80341),LayerData=__webpack_require__2(14977),MapData=__webpack_require__2(87010),Tile=__webpack_require__2(23029);module2.exports=function(name,data,tileWidth,tileHeight,insertNull){for(var layerData=new LayerData({tileWidth:tileWidth,tileHeight:tileHeight}),mapData=new MapData({name:name,tileWidth:tileWidth,tileHeight:tileHeight,format:Formats.ARRAY_2D,layers:[layerData]}),tiles=[],height=data.length,width=0,y=0;y<data.length;y++){tiles[y]=[];for(var row=data[y],x=0;x<row.length;x++){var tileIndex=parseInt(row[x],10);isNaN(tileIndex)||-1===tileIndex?tiles[y][x]=insertNull?null:new Tile(layerData,-1,x,y,tileWidth,tileHeight):tiles[y][x]=new Tile(layerData,tileIndex,x,y,tileWidth,tileHeight)}0===width&&(width=row.length)}return mapData.width=layerData.width=width,mapData.height=layerData.height=height,mapData.widthInPixels=layerData.widthInPixels=width*tileWidth,mapData.heightInPixels=layerData.heightInPixels=height*tileHeight,layerData.data=tiles,mapData}},82593:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Formats=__webpack_require__2(80341),Parse2DArray=__webpack_require__2(2342);module2.exports=function(name,data,tileWidth,tileHeight,insertNull){var array2D=data.trim().split("\n").map((function(row){return row.split(",")})),map=Parse2DArray(name,array2D,tileWidth,tileHeight,insertNull);return map.format=Formats.CSV,map}},6656:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LayerData=__webpack_require__2(14977),Tile=__webpack_require__2(23029);module2.exports=function(json,insertNull){for(var tileLayers=[],i=0;i<json.layer.length;i++){for(var layer=json.layer[i],layerData=new LayerData({name:layer.name,width:layer.width,height:layer.height,tileWidth:layer.tilesize,tileHeight:layer.tilesize,visible:1===layer.visible}),row=[],tileGrid=[],y=0;y<layer.data.length;y++){for(var x=0;x<layer.data[y].length;x++){var tile,index=layer.data[y][x]-1;tile=index>-1?new Tile(layerData,index,x,y,layer.tilesize,layer.tilesize):insertNull?null:new Tile(layerData,-1,x,y,layer.tilesize,layer.tilesize),row.push(tile)}tileGrid.push(row),row=[]}layerData.data=tileGrid,tileLayers.push(layerData)}return tileLayers}},96483:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tileset=__webpack_require__2(33629);module2.exports=function(json){for(var tilesets=[],tilesetsNames=[],i=0;i<json.layer.length;i++){var layer=json.layer[i],tilesetName=layer.tilesetName;""!==tilesetName&&-1===tilesetsNames.indexOf(tilesetName)&&(tilesetsNames.push(tilesetName),tilesets.push(new Tileset(tilesetName,0,layer.tilesize,layer.tilesize,0,0)))}return tilesets}},87021:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Formats=__webpack_require__2(80341),MapData=__webpack_require__2(87010),ParseTileLayers=__webpack_require__2(6656),ParseTilesets=__webpack_require__2(96483);module2.exports=function(name,json,insertNull){if(0===json.layer.length)return console.warn("No layers found in the Weltmeister map: "+name),null;for(var width=0,height=0,i=0;i<json.layer.length;i++)json.layer[i].width>width&&(width=json.layer[i].width),json.layer[i].height>height&&(height=json.layer[i].height);var mapData=new MapData({width:width,height:height,name:name,tileWidth:json.layer[0].tilesize,tileHeight:json.layer[0].tilesize,format:Formats.WELTMEISTER});return mapData.layers=ParseTileLayers(json,insertNull),mapData.tilesets=ParseTilesets(json),mapData}},52833:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ParseTileLayers:__webpack_require__2(6656),ParseTilesets:__webpack_require__2(96483),ParseWeltmeister:__webpack_require__2(87021)}},57442:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={FromOrientationString:__webpack_require__2(6641),Parse:__webpack_require__2(46177),Parse2DArray:__webpack_require__2(2342),ParseCSV:__webpack_require__2(82593),Impact:__webpack_require__2(52833),Tiled:__webpack_require__2(96761)}},51233:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Extend=__webpack_require__2(79291);module2.exports=function(mapData){for(var layerData,tile,sid,set,row,i=0;i<mapData.layers.length;i++){layerData=mapData.layers[i],set=null;for(var j=0;j<layerData.data.length;j++){row=layerData.data[j];for(var k=0;k<row.length;k++)null===(tile=row[k])||tile.index<0||(sid=mapData.tiles[tile.index][2],set=mapData.tilesets[sid],tile.width=set.tileWidth,tile.height=set.tileHeight,set.tileProperties&&set.tileProperties[tile.index-set.firstgid]&&(tile.properties=Extend(tile.properties,set.tileProperties[tile.index-set.firstgid])))}}}},41868:module2=>{module2.exports=function(data){for(var binaryString=window.atob(data),len=binaryString.length,bytes=new Array(len/4),i=0;i<len;i+=4)bytes[i/4]=(binaryString.charCodeAt(i)|binaryString.charCodeAt(i+1)<<8|binaryString.charCodeAt(i+2)<<16|binaryString.charCodeAt(i+3)<<24)>>>0;return bytes}},84101:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tileset=__webpack_require__2(33629);module2.exports=function(mapData){var i,set,tiles=[];for(i=0;i<mapData.imageCollections.length;i++)for(var collection=mapData.imageCollections[i],images=collection.images,j=0;j<images.length;j++){var image=images[j];(set=new Tileset(image.image,image.gid,collection.imageWidth,collection.imageHeight,0,0)).updateTileData(collection.imageWidth,collection.imageHeight),mapData.tilesets.push(set)}for(i=0;i<mapData.tilesets.length;i++)for(var x=(set=mapData.tilesets[i]).tileMargin,y=set.tileMargin,count=0,countX=0,countY=0,t=set.firstgid;t<set.firstgid+set.total&&(tiles[t]=[x,y,i],x+=set.tileWidth+set.tileSpacing,++count!==set.total)&&(++countX!==set.columns||(x=set.tileMargin,y+=set.tileHeight+set.tileSpacing,countX=0,++countY!==set.rows));t++);return tiles}},79677:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Seth Berrier <berriers@uwstout.edu>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540);module2.exports=function(json,group,parentState){if(!group)return{i:0,layers:json.layers,name:"",opacity:1,visible:!0,x:0,y:0};var layerX=group.x+GetFastValue(group,"startx",0)*json.tilewidth+GetFastValue(group,"offsetx",0),layerY=group.y+GetFastValue(group,"starty",0)*json.tileheight+GetFastValue(group,"offsety",0);return{i:0,layers:group.layers,name:parentState.name+group.name+"/",opacity:parentState.opacity*group.opacity,visible:parentState.visible&&group.visible,x:parentState.x+layerX,y:parentState.y+layerY}}},29920:module2=>{module2.exports=function(gid){var flippedHorizontal=Boolean(2147483648&gid),flippedVertical=Boolean(1073741824&gid),flippedAntiDiagonal=Boolean(536870912&gid);gid&=536870911;var rotation=0,flipped=!1;return flippedHorizontal&&flippedVertical&&flippedAntiDiagonal?(rotation=Math.PI/2,flipped=!0):flippedHorizontal&&flippedVertical&&!flippedAntiDiagonal?(rotation=Math.PI,flipped=!1):flippedHorizontal&&!flippedVertical&&flippedAntiDiagonal?(rotation=Math.PI/2,flipped=!1):!flippedHorizontal||flippedVertical||flippedAntiDiagonal?!flippedHorizontal&&flippedVertical&&flippedAntiDiagonal?(rotation=3*Math.PI/2,flipped=!1):flippedHorizontal||!flippedVertical||flippedAntiDiagonal?flippedHorizontal||flippedVertical||!flippedAntiDiagonal?flippedHorizontal||flippedVertical||flippedAntiDiagonal||(rotation=0,flipped=!1):(rotation=3*Math.PI/2,flipped=!0):(rotation=Math.PI,flipped=!0):(rotation=0,flipped=!0),{gid:gid,flippedHorizontal:flippedHorizontal,flippedVertical:flippedVertical,flippedAntiDiagonal:flippedAntiDiagonal,rotation:rotation,flipped:flipped}}},12635:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540),CreateGroupLayer=__webpack_require__2(79677);module2.exports=function(json){for(var images=[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||groupStack.length>0;)if(curGroupState.i>=curGroupState.layers.length){if(groupStack.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curi=curGroupState.layers[curGroupState.i];if(curGroupState.i++,"imagelayer"===curi.type){var layerOffsetX=GetFastValue(curi,"offsetx",0)+GetFastValue(curi,"startx",0),layerOffsetY=GetFastValue(curi,"offsety",0)+GetFastValue(curi,"starty",0);images.push({name:curGroupState.name+curi.name,image:curi.image,x:curGroupState.x+layerOffsetX+curi.x,y:curGroupState.y+layerOffsetY+curi.y,alpha:curGroupState.opacity*curi.opacity,visible:curGroupState.visible&&curi.visible,properties:GetFastValue(curi,"properties",{})})}else if("group"===curi.type){var nextGroupState=CreateGroupLayer(json,curi,curGroupState);groupStack.push(curGroupState),curGroupState=nextGroupState}}return images}},46594:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AssignTileProperties=__webpack_require__2(51233),BuildTilesetIndex=__webpack_require__2(84101),CONST=__webpack_require__2(91907),DeepCopy=__webpack_require__2(62644),Formats=__webpack_require__2(80341),FromOrientationString=__webpack_require__2(6641),MapData=__webpack_require__2(87010),ParseImageLayers=__webpack_require__2(12635),ParseObjectLayers=__webpack_require__2(22611),ParseTileLayers=__webpack_require__2(28200),ParseTilesets=__webpack_require__2(24619);module2.exports=function(name,source,insertNull){var json=DeepCopy(source),mapData=new MapData({width:json.width,height:json.height,name:name,tileWidth:json.tilewidth,tileHeight:json.tileheight,orientation:FromOrientationString(json.orientation),format:Formats.TILED_JSON,version:json.version,properties:json.properties,renderOrder:json.renderorder,infinite:json.infinite});mapData.orientation===CONST.HEXAGONAL&&(mapData.hexSideLength=json.hexsidelength,mapData.staggerAxis=json.staggeraxis,mapData.staggerIndex=json.staggerindex),mapData.layers=ParseTileLayers(json,insertNull),mapData.images=ParseImageLayers(json);var sets=ParseTilesets(json);return mapData.tilesets=sets.tilesets,mapData.imageCollections=sets.imageCollections,mapData.objects=ParseObjectLayers(json),mapData.tiles=BuildTilesetIndex(mapData),AssignTileProperties(mapData),mapData}},52205:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Pick=__webpack_require__2(18254),ParseGID=__webpack_require__2(29920),copyPoints=function(p){return{x:p.x,y:p.y}},commonObjectProps=["id","name","type","rotation","properties","visible","x","y","width","height"];module2.exports=function(tiledObject,offsetX,offsetY){void 0===offsetX&&(offsetX=0),void 0===offsetY&&(offsetY=0);var parsedObject=Pick(tiledObject,commonObjectProps);if(parsedObject.x+=offsetX,parsedObject.y+=offsetY,tiledObject.gid){var gidInfo=ParseGID(tiledObject.gid);parsedObject.gid=gidInfo.gid,parsedObject.flippedHorizontal=gidInfo.flippedHorizontal,parsedObject.flippedVertical=gidInfo.flippedVertical,parsedObject.flippedAntiDiagonal=gidInfo.flippedAntiDiagonal}else tiledObject.polyline?parsedObject.polyline=tiledObject.polyline.map(copyPoints):tiledObject.polygon?parsedObject.polygon=tiledObject.polygon.map(copyPoints):tiledObject.ellipse?parsedObject.ellipse=tiledObject.ellipse:tiledObject.text?parsedObject.text=tiledObject.text:tiledObject.point?parsedObject.point=!0:parsedObject.rectangle=!0;return parsedObject}},22611:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=__webpack_require__2(95540),ParseObject=__webpack_require__2(52205),ObjectLayer=__webpack_require__2(48700),CreateGroupLayer=__webpack_require__2(79677);module2.exports=function(json){for(var objectLayers=[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||groupStack.length>0;)if(curGroupState.i>=curGroupState.layers.length){if(groupStack.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curo=curGroupState.layers[curGroupState.i];if(curGroupState.i++,curo.opacity*=curGroupState.opacity,curo.visible=curGroupState.visible&&curo.visible,"objectgroup"===curo.type){curo.name=curGroupState.name+curo.name;for(var offsetX=curGroupState.x+GetFastValue(curo,"startx",0)+GetFastValue(curo,"offsetx",0),offsetY=curGroupState.y+GetFastValue(curo,"starty",0)+GetFastValue(curo,"offsety",0),objects=[],j=0;j<curo.objects.length;j++){var parsedObject=ParseObject(curo.objects[j],offsetX,offsetY);objects.push(parsedObject)}var objectLayer=new ObjectLayer(curo);objectLayer.objects=objects,objectLayers.push(objectLayer)}else if("group"===curo.type){var nextGroupState=CreateGroupLayer(json,curo,curGroupState);groupStack.push(curGroupState),curGroupState=nextGroupState}}return objectLayers}},28200:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Base64Decode=__webpack_require__2(41868),CONST=__webpack_require__2(91907),CreateGroupLayer=__webpack_require__2(79677),FromOrientationString=__webpack_require__2(6641),GetFastValue=__webpack_require__2(95540),LayerData=__webpack_require__2(14977),ParseGID=__webpack_require__2(29920),Tile=__webpack_require__2(23029);module2.exports=function(json,insertNull){for(var infiniteMap=GetFastValue(json,"infinite",!1),tileLayers=[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||groupStack.length>0;)if(curGroupState.i>=curGroupState.layers.length){if(groupStack.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curl=curGroupState.layers[curGroupState.i];if(curGroupState.i++,"tilelayer"===curl.type)if(curl.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+curl.name+"'");else{if(curl.encoding&&"base64"===curl.encoding){if(curl.chunks)for(var i=0;i<curl.chunks.length;i++)curl.chunks[i].data=Base64Decode(curl.chunks[i].data);curl.data&&(curl.data=Base64Decode(curl.data)),delete curl.encoding}var layerData,gidInfo,tile,blankTile,output=[],x=0;if(infiniteMap){var layerOffsetX=GetFastValue(curl,"startx",0)+curl.x,layerOffsetY=GetFastValue(curl,"starty",0)+curl.y;(layerData=new LayerData({name:curGroupState.name+curl.name,id:curl.id,x:curGroupState.x+GetFastValue(curl,"offsetx",0)+layerOffsetX*json.tilewidth,y:curGroupState.y+GetFastValue(curl,"offsety",0)+layerOffsetY*json.tileheight,width:curl.width,height:curl.height,tileWidth:json.tilewidth,tileHeight:json.tileheight,alpha:curGroupState.opacity*curl.opacity,visible:curGroupState.visible&&curl.visible,properties:GetFastValue(curl,"properties",[]),orientation:FromOrientationString(json.orientation)})).orientation===CONST.HEXAGONAL&&(layerData.hexSideLength=json.hexsidelength,layerData.staggerAxis=json.staggeraxis,layerData.staggerIndex=json.staggerindex);for(var c=0;c<curl.height;c++){output[c]=[null];for(var j=0;j<curl.width;j++)output[c][j]=null}for(c=0,len=curl.chunks.length;c<len;c++)for(var chunk=curl.chunks[c],offsetX=chunk.x-layerOffsetX,offsetY=chunk.y-layerOffsetY,y=0,t=0,len2=chunk.data.length;t<len2;t++){var newOffsetX=x+offsetX,newOffsetY=y+offsetY;(gidInfo=ParseGID(chunk.data[t])).gid>0?((tile=new Tile(layerData,gidInfo.gid,newOffsetX,newOffsetY,json.tilewidth,json.tileheight)).rotation=gidInfo.rotation,tile.flipX=gidInfo.flipped,output[newOffsetY][newOffsetX]=tile):(blankTile=insertNull?null:new Tile(layerData,-1,newOffsetX,newOffsetY,json.tilewidth,json.tileheight),output[newOffsetY][newOffsetX]=blankTile),++x===chunk.width&&(y++,x=0)}}else{(layerData=new LayerData({name:curGroupState.name+curl.name,id:curl.id,x:curGroupState.x+GetFastValue(curl,"offsetx",0)+curl.x,y:curGroupState.y+GetFastValue(curl,"offsety",0)+curl.y,width:curl.width,height:curl.height,tileWidth:json.tilewidth,tileHeight:json.tileheight,alpha:curGroupState.opacity*curl.opacity,visible:curGroupState.visible&&curl.visible,properties:GetFastValue(curl,"properties",[]),orientation:FromOrientationString(json.orientation)})).orientation===CONST.HEXAGONAL&&(layerData.hexSideLength=json.hexsidelength,layerData.staggerAxis=json.staggeraxis,layerData.staggerIndex=json.staggerindex);for(var row=[],k=0,len=curl.data.length;k<len;k++)(gidInfo=ParseGID(curl.data[k])).gid>0?((tile=new Tile(layerData,gidInfo.gid,x,output.length,json.tilewidth,json.tileheight)).rotation=gidInfo.rotation,tile.flipX=gidInfo.flipped,row.push(tile)):(blankTile=insertNull?null:new Tile(layerData,-1,x,output.length,json.tilewidth,json.tileheight),row.push(blankTile)),++x===curl.width&&(output.push(row),x=0,row=[])}layerData.data=output,tileLayers.push(layerData)}else if("group"===curl.type){var nextGroupState=CreateGroupLayer(json,curl,curGroupState);groupStack.push(curGroupState),curGroupState=nextGroupState}}return tileLayers}},24619:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tileset=__webpack_require__2(33629),ImageCollection=__webpack_require__2(16536),ParseObject=__webpack_require__2(52205),ParseWangsets=__webpack_require__2(57880);module2.exports=function(json){for(var stringID,tilesets=[],imageCollections=[],lastSet=null,i=0;i<json.tilesets.length;i++){var set=json.tilesets[i];if(set.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(set.image){var newSet=new Tileset(set.name,set.firstgid,set.tilewidth,set.tileheight,set.margin,set.spacing,void 0,void 0,set.tileoffset);if(json.version>1){var datas=void 0,props=void 0;if(Array.isArray(set.tiles)){datas=datas||{},props=props||{};for(var t=0;t<set.tiles.length;t++){var tile=set.tiles[t];if(tile.properties){var newPropData={};tile.properties.forEach((function(propData){newPropData[propData.name]=propData.value})),props[tile.id]=newPropData}if(tile.objectgroup&&((datas[tile.id]||(datas[tile.id]={})).objectgroup=tile.objectgroup,tile.objectgroup.objects)){var parsedObjects2=tile.objectgroup.objects.map((function(obj){return ParseObject(obj)}));datas[tile.id].objectgroup.objects=parsedObjects2}tile.animation&&((datas[tile.id]||(datas[tile.id]={})).animation=tile.animation),tile.type&&((datas[tile.id]||(datas[tile.id]={})).type=tile.type)}}Array.isArray(set.wangsets)&&(datas=datas||{},props=props||{},ParseWangsets(set.wangsets,datas)),datas&&(newSet.tileData=datas,newSet.tileProperties=props)}else if(set.tileproperties&&(newSet.tileProperties=set.tileproperties),set.tiles)for(stringID in newSet.tileData=set.tiles,newSet.tileData){var objectGroup=newSet.tileData[stringID].objectgroup;if(objectGroup&&objectGroup.objects){var parsedObjects1=objectGroup.objects.map((function(obj){return ParseObject(obj)}));newSet.tileData[stringID].objectgroup.objects=parsedObjects1}}newSet.updateTileData(set.imagewidth,set.imageheight),tilesets.push(newSet)}else{var newCollection=new ImageCollection(set.name,set.firstgid,set.tilewidth,set.tileheight,set.margin,set.spacing,set.properties),maxId=0;for(t=0;t<set.tiles.length;t++){var image=(tile=set.tiles[t]).image,tileId=parseInt(tile.id,10),gid=set.firstgid+tileId;newCollection.addImage(gid,image),maxId=Math.max(tileId,maxId)}newCollection.maxId=maxId,imageCollections.push(newCollection)}lastSet&&(lastSet.lastgid=set.firstgid-1),lastSet=set}return{tilesets:tilesets,imageCollections:imageCollections}}},57880:module2=>{module2.exports=function(wangsets,datas){for(var w=0;w<wangsets.length;w++){var wangset=wangsets[w],identifier=w;if(wangset.name&&""!==wangset.name&&(identifier=wangset.name),Array.isArray(wangset.wangtiles)&&wangset.wangtiles.length>0){var c,color,colorIndex,edgeColors={},cornerColors={};if(Array.isArray(wangset.edgecolors))for(c=0;c<wangset.edgecolors.length;c++)colorIndex=1+c,""!==(color=wangset.edgecolors[c]).name&&(edgeColors[colorIndex]=color.name);if(Array.isArray(wangset.cornercolors))for(c=0;c<wangset.cornercolors.length;c++)colorIndex=1+c,""!==(color=wangset.cornercolors[c]).name&&(cornerColors[colorIndex]=color.name);if(Array.isArray(wangset.colors))for(c=0;c<wangset.colors.length;c++)colorIndex=1+c,""!==(color=wangset.colors[c]).name&&(edgeColors[colorIndex]=cornerColors[colorIndex]=color.name);for(var idLayout=[edgeColors,cornerColors,edgeColors,cornerColors,edgeColors,cornerColors,edgeColors,cornerColors],t=0;t<wangset.wangtiles.length;t++){var wangtile=wangset.wangtiles[t],obj=datas[wangtile.tileid]||(datas[wangtile.tileid]={});obj=obj.wangid||(obj.wangid={});for(var wangid=[],i=0;i<Math.min(idLayout.length,wangtile.wangid.length);i++)if(0!==(color=wangtile.wangid[i])){var renamed=idLayout[i][color];void 0===renamed?wangid.push(color):wangid.push(renamed)}else wangid.push(void 0);obj[identifier]=wangid}}}}},96761:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={AssignTileProperties:__webpack_require__2(51233),Base64Decode:__webpack_require__2(41868),BuildTilesetIndex:__webpack_require__2(84101),CreateGroupLayer:__webpack_require__2(79677),ParseGID:__webpack_require__2(29920),ParseImageLayers:__webpack_require__2(12635),ParseJSONTiled:__webpack_require__2(46594),ParseObject:__webpack_require__2(52205),ParseObjectLayers:__webpack_require__2(22611),ParseTileLayers:__webpack_require__2(28200),ParseTilesets:__webpack_require__2(24619)}},33385:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),TimerEvent=__webpack_require__2(94880),Remove=__webpack_require__2(72905),Clock=new Class({initialize:function Clock2(scene){this.scene=scene,this.systems=scene.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],scene.sys.events.once(SceneEvents.BOOT,this.boot,this),scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this),eventEmitter.on(SceneEvents.UPDATE,this.update,this),eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},addEvent:function(config2){var event;return config2 instanceof TimerEvent?(event=config2,this.removeEvent(event),event.elapsed=event.startAt,event.hasDispatched=!1,event.repeatCount=-1===event.repeat||event.loop?999999999999:event.repeat):event=new TimerEvent(config2),this._pendingInsertion.push(event),event},delayedCall:function(delay,callback,args,callbackScope){return this.addEvent({delay:delay,callback:callback,args:args,callbackScope:callbackScope})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(events){Array.isArray(events)||(events=[events]);for(var i=0;i<events.length;i++){var event=events[i];Remove(this._pendingRemoval,event),Remove(this._pendingInsertion,event),Remove(this._active,event)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var toRemove=this._pendingRemoval.length,toInsert=this._pendingInsertion.length;if(0!==toRemove||0!==toInsert){var i,event;for(i=0;i<toRemove;i++){event=this._pendingRemoval[i];var index=this._active.indexOf(event);index>-1&&this._active.splice(index,1),event.destroy()}for(i=0;i<toInsert;i++)event=this._pendingInsertion[i],this._active.push(event);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(time,delta){if(this.now=time,!this.paused){delta*=this.timeScale;for(var i=0;i<this._active.length;i++){var event=this._active[i];if(!event.paused&&(event.elapsed+=delta*event.timeScale,event.elapsed>=event.delay)){var remainder=event.elapsed-event.delay;if(event.elapsed=event.delay,!event.hasDispatched&&event.callback&&(event.hasDispatched=!0,event.callback.apply(event.callbackScope,event.args)),event.repeatCount>0){if(event.repeatCount--,remainder>=event.delay)for(;remainder>=event.delay&&event.repeatCount>0;)event.callback&&event.callback.apply(event.callbackScope,event.args),remainder-=event.delay,event.repeatCount--;event.elapsed=remainder,event.hasDispatched=!1}else event.hasDispatched&&this._pendingRemoval.push(event)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.PRE_UPDATE,this.preUpdate,this),eventEmitter.off(SceneEvents.UPDATE,this.update,this),eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(SceneEvents.START,this.start,this),this.scene=null,this.systems=null}});PluginCache.register("Clock",Clock,"time"),module2.exports=Clock},96120:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),GameObjectFactory=__webpack_require__2(39429),GetFastValue=__webpack_require__2(95540),SceneEvents=__webpack_require__2(44594),Events2=__webpack_require__2(89809),Timeline=new Class({Extends:EventEmitter2,initialize:function Timeline2(scene,config2){EventEmitter2.call(this),this.scene=scene,this.systems=scene.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this),eventEmitter.on(SceneEvents.UPDATE,this.update,this),eventEmitter.once(SceneEvents.SHUTDOWN,this.destroy,this),config2&&this.add(config2)},preUpdate:function(time,delta){this.paused||(this.elapsed+=delta*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var i,target2,events=this.events,removeSweep=!1,sys=this.systems;for(i=0;i<events.length;i++){var event=events[i];if(!event.complete&&event.time<=this.elapsed){if(event.complete=!0,this.totalComplete++,target2=event.target?event.target:this,event.if&&!event.if.call(target2,event))continue;if(event.once&&(removeSweep=!0),event.set&&event.target)for(var key in event.set)event.target[key]=event.set[key];this.iteration&&event.repeat++,event.loop&&event.repeat&&event.loop.call(target2),event.tween&&(event.tweenInstance=sys.tweens.add(event.tween)),event.sound&&("string"==typeof event.sound?sys.sound.play(event.sound):sys.sound.play(event.sound.key,event.sound.config)),event.event&&this.emit(event.event,target2),event.run&&event.run.call(target2),event.stop&&this.stop()}}if(removeSweep)for(i=0;i<events.length;i++)events[i].complete&&events[i].once&&(events.splice(i,1),i--);this.totalComplete>=events.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(Events2.COMPLETE,this)}},play:function(fromStart){return void 0===fromStart&&(fromStart=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,fromStart&&this.reset(),this},pause:function(){this.paused=!0;for(var events=this.events,i=0;i<events.length;i++){var event=events[i];event.tweenInstance&&(event.tweenInstance.paused=!0)}return this},repeat:function(amount){return void 0!==amount&&!0!==amount||(amount=-1),!1===amount&&(amount=0),this.loop=amount,this},resume:function(){this.paused=!1;for(var events=this.events,i=0;i<events.length;i++){var event=events[i];event.tweenInstance&&(event.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(loop){void 0===loop&&(loop=!1),this.elapsed=0,loop||(this.iteration=0);for(var events=this.events,i=0;i<events.length;i++){var event=events[i];event.complete=!1,loop||(event.repeat=0),event.tweenInstance&&event.tweenInstance.stop()}return this.play(!1)},add:function(config2){Array.isArray(config2)||(config2=[config2]);var events=this.events,prevTime=0;events.length>0&&(prevTime=events[events.length-1].time);for(var i=0;i<config2.length;i++){var entry=config2[i],startTime=GetFastValue(entry,"at",0),offsetTime=GetFastValue(entry,"in",null);null!==offsetTime&&(startTime=this.elapsed+offsetTime);var fromTime=GetFastValue(entry,"from",null);null!==fromTime&&(startTime=prevTime+fromTime),events.push({complete:!1,time:startTime,repeat:0,if:GetFastValue(entry,"if",null),run:GetFastValue(entry,"run",null),loop:GetFastValue(entry,"loop",null),event:GetFastValue(entry,"event",null),target:GetFastValue(entry,"target",null),set:GetFastValue(entry,"set",null),tween:GetFastValue(entry,"tween",null),sound:GetFastValue(entry,"sound",null),once:GetFastValue(entry,"once",!1),stop:GetFastValue(entry,"stop",!1)}),prevTime=startTime}return this.complete=!1,this},clear:function(){for(var events=this.events,i=0;i<events.length;i++){var event=events[i];event.tweenInstance&&event.tweenInstance.stop()}return events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.PRE_UPDATE,this.preUpdate,this),eventEmitter.off(SceneEvents.UPDATE,this.update,this),eventEmitter.off(SceneEvents.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});GameObjectFactory.register("timeline",(function(config2){return new Timeline(this.scene,config2)})),module2.exports=Timeline},94880:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),GetFastValue=__webpack_require__2(95540),TimerEvent=new Class({initialize:function TimerEvent2(config2){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(config2)},reset:function(config2){if(this.delay=GetFastValue(config2,"delay",0),this.repeat=GetFastValue(config2,"repeat",0),this.loop=GetFastValue(config2,"loop",!1),this.callback=GetFastValue(config2,"callback",void 0),this.callbackScope=GetFastValue(config2,"callbackScope",this),this.args=GetFastValue(config2,"args",[]),this.timeScale=GetFastValue(config2,"timeScale",1),this.startAt=GetFastValue(config2,"startAt",0),this.paused=GetFastValue(config2,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var totalDuration=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/totalDuration}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(dispatchCallback){void 0===dispatchCallback&&(dispatchCallback=!1),this.elapsed=this.delay,this.hasDispatched=!dispatchCallback,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});module2.exports=TimerEvent},35945:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},89809:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={COMPLETE:__webpack_require__2(35945)}},90291:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Clock:__webpack_require__2(33385),Events:__webpack_require__2(89809),Timeline:__webpack_require__2(96120),TimerEvent:__webpack_require__2(94880)}},40382:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayRemove=__webpack_require__2(72905),Class=__webpack_require__2(83419),Flatten=__webpack_require__2(43491),NumberTweenBuilder=__webpack_require__2(88032),PluginCache=__webpack_require__2(37277),SceneEvents=__webpack_require__2(44594),StaggerBuilder=__webpack_require__2(93109),Tween=__webpack_require__2(86081),TweenBuilder=__webpack_require__2(8357),TweenChain=__webpack_require__2(43960),TweenChainBuilder=__webpack_require__2(26012),TweenManager=new Class({initialize:function TweenManager2(scene){this.scene=scene,this.events=scene.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(SceneEvents.BOOT,this.boot,this),this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(SceneEvents.UPDATE,this.update,this),this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},create:function(config2){Array.isArray(config2)||(config2=[config2]);for(var result=[],i=0;i<config2.length;i++){var tween=config2[i];tween instanceof Tween||tween instanceof TweenChain?result.push(tween):Array.isArray(tween.tweens)?result.push(TweenChainBuilder(this,tween)):result.push(TweenBuilder(this,tween))}return 1===result.length?result[0]:result},add:function(config2){var tween=config2,tweens=this.tweens;return tween instanceof Tween||tween instanceof TweenChain||(tween=Array.isArray(tween.tweens)?TweenChainBuilder(this,tween):TweenBuilder(this,tween)),tweens.push(tween.reset()),tween},addMultiple:function(configs){for(var tween,result=[],tweens=this.tweens,i=0;i<configs.length;i++)(tween=configs[i])instanceof Tween||tween instanceof TweenChain||(tween=Array.isArray(tween.tweens)?TweenChainBuilder(this,tween):TweenBuilder(this,tween)),tweens.push(tween.reset()),result.push(tween);return result},chain:function(config2){var chain=TweenChainBuilder(this,config2);return this.tweens.push(chain.init()),chain},getChainedTweens:function(tween){return tween.getChainedTweens()},has:function(tween){return this.tweens.indexOf(tween)>-1},existing:function(tween){return this.has(tween)||this.tweens.push(tween.reset()),this},addCounter:function(config2){var tween=NumberTweenBuilder(this,config2);return this.tweens.push(tween.reset()),tween},stagger:function(value,options){return StaggerBuilder(value,options)},setLagSmooth:function(limit,skip){return void 0===limit&&(limit=1/1e-8),void 0===skip&&(skip=0),this.maxLag=limit,this.lagSkip=Math.min(skip,this.maxLag),this},setFps:function(fps){return void 0===fps&&(fps=240),this.gap=1e3/fps,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(tick){var elapsed=Date.now()-this.prevTime;elapsed>this.maxLag&&(this.startTime+=elapsed-this.lagSkip),this.prevTime+=elapsed;var time=this.prevTime-this.startTime,overlap=time-this.nextTime,delta=time-1e3*this.time;return overlap>0||tick?(time/=1e3,this.time=time,this.nextTime+=overlap+(overlap>=this.gap?4:this.gap-overlap)):delta=0,delta},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(tick){void 0===tick&&(tick=!1);var delta=this.getDelta(tick);if(!(delta<=0)){var i,tween;this.processing=!0;var toDestroy=[],list=this.tweens;for(i=0;i<list.length;i++)(tween=list[i]).update(delta)&&toDestroy.push(tween);var count=toDestroy.length;if(count&&list.length>0){for(i=0;i<count;i++){tween=toDestroy[i];var idx=list.indexOf(tween);idx>-1&&(tween.isPendingRemove()||tween.isDestroyed())&&(list.splice(idx,1),tween.destroy())}toDestroy.length=0}this.processing=!1}},remove:function(tween){return this.processing?tween.setPendingRemoveState():(ArrayRemove(this.tweens,tween),tween.setRemovedState()),this},reset:function(tween){return this.existing(tween),tween.seek(),tween.setActiveState(),this},makeActive:function(tween){return this.existing(tween),tween.setActiveState(),this},each:function(callback,scope){var i,args=[null];for(i=1;i<arguments.length;i++)args.push(arguments[i]);return this.tweens.forEach((function(tween){args[0]=tween,callback.apply(scope,args)})),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(target2){for(var output=[],list=this.tweens,targetLen=(target2=Array.isArray(target2)?Flatten(target2):[target2]).length,i=0;i<list.length;i++)for(var tween=list[i],t=0;t<targetLen;t++)!tween.isDestroyed()&&tween.hasTarget(target2[t])&&output.push(tween);return output},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(value){return this.timeScale=value,this},isTweening:function(target2){for(var tween,list=this.tweens,i=0;i<list.length;i++)if((tween=list[i]).isPlaying()&&tween.hasTarget(target2))return!0;return!1},killAll:function(){for(var tweens=this.processing?this.getTweens():this.tweens,i=0;i<tweens.length;i++)tweens[i].destroy();return this.processing||(tweens.length=0),this},killTweensOf:function(target2){for(var tweens=this.getTweensOf(target2),i=0;i<tweens.length;i++)tweens[i].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(SceneEvents.UPDATE,this.update,this),this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(SceneEvents.START,this.start,this),this.scene=null,this.events=null}});PluginCache.register("TweenManager",TweenManager,"tweens"),module2.exports=TweenManager},57355:module2=>{module2.exports=function(source,key,defaultValue){return source&&source.hasOwnProperty(key)?source[key]:defaultValue}},6113:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var EaseMap=__webpack_require__2(62640),UppercaseFirst=__webpack_require__2(35355);module2.exports=function(ease,easeParams){var easeFunction=EaseMap.Power0;if("string"==typeof ease)if(EaseMap.hasOwnProperty(ease))easeFunction=EaseMap[ease];else{var direction="";if(ease.indexOf(".")){var directionLower=(direction=ease.substring(ease.indexOf(".")+1)).toLowerCase();"in"===directionLower?direction="easeIn":"out"===directionLower?direction="easeOut":"inout"===directionLower&&(direction="easeInOut")}ease=UppercaseFirst(ease.substring(0,ease.indexOf(".")+1)+direction),EaseMap.hasOwnProperty(ease)&&(easeFunction=EaseMap[ease])}else"function"==typeof ease&&(easeFunction=ease);if(!easeParams)return easeFunction;var cloneParams=easeParams.slice(0);return cloneParams.unshift(0),function(v){return cloneParams[0]=v,easeFunction.apply(this,cloneParams)}}},91389:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Bezier=__webpack_require__2(89318),CatmullRom=__webpack_require__2(77259),FuncMap={bezier:Bezier,catmull:CatmullRom,catmullrom:CatmullRom,linear:__webpack_require__2(28392)};module2.exports=function(interpolation){if(null===interpolation)return null;var interpolationFunction=FuncMap.linear;return"string"==typeof interpolation?FuncMap.hasOwnProperty(interpolation)&&(interpolationFunction=FuncMap[interpolation]):"function"==typeof interpolation&&(interpolationFunction=interpolation),interpolationFunction}},55292:module2=>{module2.exports=function(source,key,defaultValue){return source.hasOwnProperty(key)?"function"==typeof source[key]?function(target2,targetKey,value,targetIndex,totalTargets,tween){return source[key](target2,targetKey,value,targetIndex,totalTargets,tween)}:function(){return source[key]}:"function"==typeof defaultValue?defaultValue:function(){return defaultValue}}},82985:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RESERVED=__webpack_require__2(81076);module2.exports=function(config2){var key,keys=[];if(config2.hasOwnProperty("props"))for(key in config2.props)"_"!==key.substring(0,1)&&keys.push({key:key,value:config2.props[key]});else for(key in config2)-1===RESERVED.indexOf(key)&&"_"!==key.substring(0,1)&&keys.push({key:key,value:config2[key]});return keys}},62329:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=__webpack_require__2(35154);module2.exports=function(config2){var targets=GetValue(config2,"targets",null);return null===targets||("function"==typeof targets&&(targets=targets.call()),Array.isArray(targets)||(targets=[targets])),targets}},17777:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=__webpack_require__2(30976),FloatBetween=__webpack_require__2(99472);function hasGetActive(def){return!!def.getActive&&"function"==typeof def.getActive}function hasGetStart(def){return!!def.getStart&&"function"==typeof def.getStart}function hasGetEnd(def){return!!def.getEnd&&"function"==typeof def.getEnd}var GetValueOp=function(key,propertyValue){var callbacks,getEnd=function(target2,key2,value){return value},getStart=function(target2,key2,value){return value},getActive=null,t=typeof propertyValue;if("number"===t)getEnd=function(){return propertyValue};else if(Array.isArray(propertyValue))getStart=function(){return propertyValue[0]},getEnd=function(){return propertyValue[propertyValue.length-1]};else if("string"===t){var op=propertyValue.toLowerCase(),isRandom="random"===op.substring(0,6),isInt="int"===op.substring(0,3);if(isRandom||isInt){var brace1=op.indexOf("("),brace2=op.indexOf(")"),comma=op.indexOf(",");if(!(brace1&&brace2&&comma))throw new Error("invalid random() format");var value1=parseFloat(op.substring(brace1+1,comma)),value2=parseFloat(op.substring(comma+1,brace2));getEnd=isRandom?function(){return FloatBetween(value1,value2)}:function(){return Between(value1,value2)}}else{op=op[0];var num=parseFloat(propertyValue.substr(2));switch(op){case"+":getEnd=function(target2,key2,value){return value+num};break;case"-":getEnd=function(target2,key2,value){return value-num};break;case"*":getEnd=function(target2,key2,value){return value*num};break;case"/":getEnd=function(target2,key2,value){return value/num};break;default:getEnd=function(){return parseFloat(propertyValue)}}}}else if("function"===t)getEnd=propertyValue;else if("object"===t)if(function hasGetters(def){return hasGetStart(def)||hasGetEnd(def)||hasGetActive(def)}(propertyValue))hasGetActive(propertyValue)&&(getActive=propertyValue.getActive),hasGetEnd(propertyValue)&&(getEnd=propertyValue.getEnd),hasGetStart(propertyValue)&&(getStart=propertyValue.getStart);else if(propertyValue.hasOwnProperty("value"))callbacks=GetValueOp(key,propertyValue.value);else{var hasTo=propertyValue.hasOwnProperty("to"),hasFrom=propertyValue.hasOwnProperty("from"),hasStart=propertyValue.hasOwnProperty("start");if(hasTo&&(hasFrom||hasStart)){if(callbacks=GetValueOp(key,propertyValue.to),hasStart){var startCallbacks=GetValueOp(key,propertyValue.start);callbacks.getActive=startCallbacks.getEnd}if(hasFrom){var fromCallbacks=GetValueOp(key,propertyValue.from);callbacks.getStart=fromCallbacks.getEnd}}}return callbacks||(callbacks={getActive:getActive,getEnd:getEnd,getStart:getStart}),callbacks};module2.exports=GetValueOp},88032:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTween=__webpack_require__2(70402),Defaults=__webpack_require__2(69902),GetAdvancedValue=__webpack_require__2(23568),GetBoolean=__webpack_require__2(57355),GetEaseFunction=__webpack_require__2(6113),GetNewValue=__webpack_require__2(55292),GetValue=__webpack_require__2(35154),GetValueOp=__webpack_require__2(17777),MergeRight=__webpack_require__2(269),Tween=__webpack_require__2(86081);module2.exports=function(parent,config2,defaults2){if(config2 instanceof Tween)return config2.parent=parent,config2;defaults2=void 0===defaults2?Defaults:MergeRight(Defaults,defaults2);var from=GetValue(config2,"from",0),to=GetValue(config2,"to",1),targets=[{value:from}],delay=GetValue(config2,"delay",defaults2.delay),easeParams=GetValue(config2,"easeParams",defaults2.easeParams),ease=GetValue(config2,"ease",defaults2.ease),ops=GetValueOp("value",to),tween=new Tween(parent,targets),tweenData=tween.add(0,"value",ops.getEnd,ops.getStart,ops.getActive,GetEaseFunction(GetValue(config2,"ease",ease),GetValue(config2,"easeParams",easeParams)),GetNewValue(config2,"delay",delay),GetValue(config2,"duration",defaults2.duration),GetBoolean(config2,"yoyo",defaults2.yoyo),GetValue(config2,"hold",defaults2.hold),GetValue(config2,"repeat",defaults2.repeat),GetValue(config2,"repeatDelay",defaults2.repeatDelay),!1,!1);tweenData.start=from,tweenData.current=from,tween.completeDelay=GetAdvancedValue(config2,"completeDelay",0),tween.loop=Math.round(GetAdvancedValue(config2,"loop",0)),tween.loopDelay=Math.round(GetAdvancedValue(config2,"loopDelay",0)),tween.paused=GetBoolean(config2,"paused",!1),tween.persist=GetBoolean(config2,"persist",!1),tween.callbackScope=GetValue(config2,"callbackScope",tween);for(var callbacks=BaseTween.TYPES,i=0;i<callbacks.length;i++){var type=callbacks[i],callback=GetValue(config2,type,!1);if(callback){var callbackParams=GetValue(config2,type+"Params",[]);tween.setCallback(type,callback,callbackParams)}}return tween}},93109:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetEaseFunction=__webpack_require__2(6113),GetValue=__webpack_require__2(35154),MATH_CONST=__webpack_require__2(36383);module2.exports=function(value,options){void 0===options&&(options={});var start=GetValue(options,"start",0),ease=GetValue(options,"ease",null),grid=GetValue(options,"grid",null),from=GetValue(options,"from",0),fromFirst="first"===from,fromCenter="center"===from,fromLast="last"===from,fromValue="number"==typeof from,isRange=Array.isArray(value),value1=isRange?parseFloat(value[0]):parseFloat(value),value2=isRange?parseFloat(value[1]):0,maxValue=Math.max(value1,value2);if(isRange&&(start+=value1),grid){var gridWidth=grid[0],gridHeight=grid[1],fromX=0,fromY=0,distanceX=0,distanceY=0,gridValues=[];fromLast?(fromX=gridWidth-1,fromY=gridHeight-1):fromValue?(fromX=from%gridWidth,fromY=Math.floor(from/gridWidth)):fromCenter&&(fromX=(gridWidth-1)/2,fromY=(gridHeight-1)/2);for(var gridMax=MATH_CONST.MIN_SAFE_INTEGER,toY=0;toY<gridHeight;toY++){gridValues[toY]=[];for(var toX=0;toX<gridWidth;toX++){distanceX=fromX-toX,distanceY=fromY-toY;var dist=Math.sqrt(distanceX*distanceX+distanceY*distanceY);dist>gridMax&&(gridMax=dist),gridValues[toY][toX]=dist}}}var easeFunction=ease?GetEaseFunction(ease):null;return grid?function(target2,key,value3,index){var output,gridSpace=0,toX2=index%gridWidth,toY2=Math.floor(index/gridWidth);if(toX2>=0&&toX2<gridWidth&&toY2>=0&&toY2<gridHeight&&(gridSpace=gridValues[toY2][toX2]),isRange){var diff=value2-value1;output=easeFunction?gridSpace/gridMax*diff*easeFunction(gridSpace/gridMax):gridSpace/gridMax*diff}else output=easeFunction?gridSpace*value1*easeFunction(gridSpace/gridMax):gridSpace*value1;return output+start}:function(target2,key,value3,index,total){var fromIndex,output,spacing;return total--,fromFirst?fromIndex=index:fromCenter?fromIndex=Math.abs(total/2-index):fromLast?fromIndex=total-index:fromValue&&(fromIndex=Math.abs(from-index)),isRange?(spacing=fromCenter?(value2-value1)/total*(2*fromIndex):(value2-value1)/total*fromIndex,output=easeFunction?spacing*easeFunction(fromIndex/total):spacing):output=easeFunction?total*maxValue*easeFunction(fromIndex/total):fromIndex*value1,output+start}}},8357:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTween=__webpack_require__2(70402),Defaults=__webpack_require__2(69902),GetAdvancedValue=__webpack_require__2(23568),GetBoolean=__webpack_require__2(57355),GetEaseFunction=__webpack_require__2(6113),GetInterpolationFunction=__webpack_require__2(91389),GetNewValue=__webpack_require__2(55292),GetProps=__webpack_require__2(82985),GetTargets=__webpack_require__2(62329),GetValue=__webpack_require__2(35154),GetValueOp=__webpack_require__2(17777),MergeRight=__webpack_require__2(269),Tween=__webpack_require__2(86081);module2.exports=function(parent,config2,defaults2){if(config2 instanceof Tween)return config2.parent=parent,config2;defaults2=void 0===defaults2?Defaults:MergeRight(Defaults,defaults2);var targets=GetTargets(config2);!targets&&defaults2.targets&&(targets=defaults2.targets);for(var props=GetProps(config2),delay=GetValue(config2,"delay",defaults2.delay),duration=GetValue(config2,"duration",defaults2.duration),easeParams=GetValue(config2,"easeParams",defaults2.easeParams),ease=GetValue(config2,"ease",defaults2.ease),hold=GetValue(config2,"hold",defaults2.hold),repeat=GetValue(config2,"repeat",defaults2.repeat),repeatDelay=GetValue(config2,"repeatDelay",defaults2.repeatDelay),yoyo=GetBoolean(config2,"yoyo",defaults2.yoyo),flipX=GetBoolean(config2,"flipX",defaults2.flipX),flipY=GetBoolean(config2,"flipY",defaults2.flipY),interpolation=GetValue(config2,"interpolation",defaults2.interpolation),addTarget=function(tween2,targetIndex2,key2,value2){if("texture"===key2){var texture=value2,frame=void 0;Array.isArray(value2)?(texture=value2[0],frame=value2[1]):value2.hasOwnProperty("value")?(texture=value2.value,Array.isArray(value2.value)?(texture=value2.value[0],frame=value2.value[1]):"string"==typeof value2.value&&(texture=value2.value)):"string"==typeof value2&&(texture=value2),tween2.addFrame(targetIndex2,texture,frame,GetNewValue(value2,"delay",delay),GetValue(value2,"duration",duration),GetValue(value2,"hold",hold),GetValue(value2,"repeat",repeat),GetValue(value2,"repeatDelay",repeatDelay),GetBoolean(value2,"flipX",flipX),GetBoolean(value2,"flipY",flipY))}else{var ops=GetValueOp(key2,value2),interpolationFunc=GetInterpolationFunction(GetValue(value2,"interpolation",interpolation));tween2.add(targetIndex2,key2,ops.getEnd,ops.getStart,ops.getActive,GetEaseFunction(GetValue(value2,"ease",ease),GetValue(value2,"easeParams",easeParams)),GetNewValue(value2,"delay",delay),GetValue(value2,"duration",duration),GetBoolean(value2,"yoyo",yoyo),GetValue(value2,"hold",hold),GetValue(value2,"repeat",repeat),GetValue(value2,"repeatDelay",repeatDelay),GetBoolean(value2,"flipX",flipX),GetBoolean(value2,"flipY",flipY),interpolationFunc,interpolationFunc?value2:null)}},tween=new Tween(parent,targets),p=0;p<props.length;p++)for(var key=props[p].key,value=props[p].value,targetIndex=0;targetIndex<targets.length;targetIndex++)"scale"!==key||targets[targetIndex].hasOwnProperty("scale")?addTarget(tween,targetIndex,key,value):(addTarget(tween,targetIndex,"scaleX",value),addTarget(tween,targetIndex,"scaleY",value));tween.completeDelay=GetAdvancedValue(config2,"completeDelay",0),tween.loop=Math.round(GetAdvancedValue(config2,"loop",0)),tween.loopDelay=Math.round(GetAdvancedValue(config2,"loopDelay",0)),tween.paused=GetBoolean(config2,"paused",!1),tween.persist=GetBoolean(config2,"persist",!1),tween.callbackScope=GetValue(config2,"callbackScope",tween);for(var callbacks=BaseTween.TYPES,i=0;i<callbacks.length;i++){var type=callbacks[i],callback=GetValue(config2,type,!1);if(callback){var callbackParams=GetValue(config2,type+"Params",[]);tween.setCallback(type,callback,callbackParams)}}return tween}},26012:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTween=__webpack_require__2(70402),GetAdvancedValue=__webpack_require__2(23568),GetBoolean=__webpack_require__2(57355),GetTargets=__webpack_require__2(62329),GetValue=__webpack_require__2(35154),TweenBuilder=__webpack_require__2(8357),TweenChain=__webpack_require__2(43960);module2.exports=function(parent,config2){if(config2 instanceof TweenChain)return config2.parent=parent,config2;var i,chain=new TweenChain(parent);chain.startDelay=GetValue(config2,"delay",0),chain.completeDelay=GetAdvancedValue(config2,"completeDelay",0),chain.loop=Math.round(GetAdvancedValue(config2,"loop",GetValue(config2,"repeat",0))),chain.loopDelay=Math.round(GetAdvancedValue(config2,"loopDelay",GetValue(config2,"repeatDelay",0))),chain.paused=GetBoolean(config2,"paused",!1),chain.persist=GetBoolean(config2,"persist",!1),chain.callbackScope=GetValue(config2,"callbackScope",chain);var callbacks=BaseTween.TYPES;for(i=0;i<callbacks.length;i++){var type=callbacks[i],callback=GetValue(config2,type,!1);if(callback){var callbackParams=GetValue(config2,type+"Params",[]);chain.setCallback(type,callback,callbackParams)}}var tweens=GetValue(config2,"tweens",null);if(Array.isArray(tweens)){var chainedTweens=[],targets=GetTargets(config2),defaults2=void 0;for(targets&&(defaults2={targets:targets}),i=0;i<tweens.length;i++)chainedTweens.push(TweenBuilder(chain,tweens[i],defaults2));chain.add(chainedTweens)}return chain}},30231:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={GetBoolean:__webpack_require__2(57355),GetEaseFunction:__webpack_require__2(6113),GetInterpolationFunction:__webpack_require__2(91389),GetNewValue:__webpack_require__2(55292),GetProps:__webpack_require__2(82985),GetTargets:__webpack_require__2(62329),GetValueOp:__webpack_require__2(17777),NumberTweenBuilder:__webpack_require__2(88032),StaggerBuilder:__webpack_require__2(93109),TweenBuilder:__webpack_require__2(8357)}},73685:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="active"},98540:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="complete"},67233:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="loop"},2859:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="pause"},98336:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="repeat"},25764:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="resume"},32193:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="start"},84371:module2=>{
/**
               * @author       samme
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="stop"},70766:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="update"},55659:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports="yoyo"},842:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={TWEEN_ACTIVE:__webpack_require__2(73685),TWEEN_COMPLETE:__webpack_require__2(98540),TWEEN_LOOP:__webpack_require__2(67233),TWEEN_PAUSE:__webpack_require__2(2859),TWEEN_RESUME:__webpack_require__2(25764),TWEEN_REPEAT:__webpack_require__2(98336),TWEEN_START:__webpack_require__2(32193),TWEEN_STOP:__webpack_require__2(84371),TWEEN_UPDATE:__webpack_require__2(70766),TWEEN_YOYO:__webpack_require__2(55659)}},43066:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Tweens={States:__webpack_require__2(86353),Builders:__webpack_require__2(30231),Events:__webpack_require__2(842),TweenManager:__webpack_require__2(40382),Tween:__webpack_require__2(86081),TweenData:__webpack_require__2(48177),TweenFrameData:__webpack_require__2(42220),BaseTween:__webpack_require__2(70402),TweenChain:__webpack_require__2(43960)};module2.exports=Tweens},70402:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),EventEmitter2=__webpack_require__2(50792),Events2=__webpack_require__2(842),TWEEN_CONST=__webpack_require__2(86353),BaseTween=new Class({Extends:EventEmitter2,initialize:function BaseTween2(parent){EventEmitter2.call(this),this.parent=parent,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=TWEEN_CONST.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(value){return this.timeScale=value,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(Events2.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(Events2.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(Events2.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(Events2.TWEEN_COMPLETE,"onComplete")},complete:function(delay){return void 0===delay&&(delay=0),delay?(this.setCompleteDelayState(),this.countdown=delay):this.onCompleteHandler(),this},completeAfterLoop:function(loops){return void 0===loops&&(loops=0),this.loopCounter>loops&&(this.loopCounter=loops),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return!this.parent||this.isRemoved()||this.isPendingRemove()||this.isDestroyed()||(this.dispatchEvent(Events2.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(delta){this.countdown-=delta,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(Events2.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(delta){return this.countdown-=delta,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(Events2.TWEEN_START,"onStart"),delta=0),delta},updateCompleteDelay:function(delta){this.countdown-=delta,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(type,callback,params){return void 0===params&&(params=[]),this.callbacks.hasOwnProperty(type)&&(this.callbacks[type]={func:callback,params:params}),this},setPendingState:function(){this.state=TWEEN_CONST.PENDING},setActiveState:function(){this.state=TWEEN_CONST.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=TWEEN_CONST.LOOP_DELAY},setCompleteDelayState:function(){this.state=TWEEN_CONST.COMPLETE_DELAY},setStartDelayState:function(){this.state=TWEEN_CONST.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=TWEEN_CONST.PENDING_REMOVE},setRemovedState:function(){this.state=TWEEN_CONST.REMOVED},setFinishedState:function(){this.state=TWEEN_CONST.FINISHED},setDestroyedState:function(){this.state=TWEEN_CONST.DESTROYED},isPending:function(){return this.state===TWEEN_CONST.PENDING},isActive:function(){return this.state===TWEEN_CONST.ACTIVE},isLoopDelayed:function(){return this.state===TWEEN_CONST.LOOP_DELAY},isCompleteDelayed:function(){return this.state===TWEEN_CONST.COMPLETE_DELAY},isStartDelayed:function(){return this.state===TWEEN_CONST.START_DELAY},isPendingRemove:function(){return this.state===TWEEN_CONST.PENDING_REMOVE},isRemoved:function(){return this.state===TWEEN_CONST.REMOVED},isFinished:function(){return this.state===TWEEN_CONST.FINISHED},isDestroyed:function(){return this.state===TWEEN_CONST.DESTROYED},destroy:function(){this.data&&this.data.forEach((function(tweenData){tweenData.destroy()})),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});BaseTween.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],module2.exports=BaseTween},95042:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Class=__webpack_require__2(83419),Events2=__webpack_require__2(842),TWEEN_CONST=__webpack_require__2(86353),BaseTweenData=new Class({initialize:function BaseTweenData2(tween,targetIndex,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY){this.tween=tween,this.targetIndex=targetIndex,this.duration=duration,this.totalDuration=0,this.delay=0,this.getDelay=delay,this.yoyo=yoyo,this.hold=hold,this.repeat=repeat,this.repeatDelay=repeatDelay,this.repeatCounter=0,this.flipX=flipX,this.flipY=flipY,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(value){void 0===value&&(value=this.current),this.tween.targets[this.targetIndex][this.key]=value},setCreatedState:function(){this.state=TWEEN_CONST.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=TWEEN_CONST.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=TWEEN_CONST.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=TWEEN_CONST.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=TWEEN_CONST.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=TWEEN_CONST.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=TWEEN_CONST.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=TWEEN_CONST.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===TWEEN_CONST.CREATED},isDelayed:function(){return this.state===TWEEN_CONST.DELAY},isPendingRender:function(){return this.state===TWEEN_CONST.PENDING_RENDER},isPlayingForward:function(){return this.state===TWEEN_CONST.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===TWEEN_CONST.PLAYING_BACKWARD},isHolding:function(){return this.state===TWEEN_CONST.HOLD_DELAY},isRepeating:function(){return this.state===TWEEN_CONST.REPEAT_DELAY},isComplete:function(){return this.state===TWEEN_CONST.COMPLETE},setStateFromEnd:function(diff){this.yoyo?this.onRepeat(diff,!0,!0):this.repeatCounter>0?this.onRepeat(diff,!0,!1):this.setCompleteState()},setStateFromStart:function(diff){this.repeatCounter>0?this.onRepeat(diff,!1):this.setCompleteState()},reset:function(){var tween=this.tween,totalTargets=tween.totalTargets,targetIndex=this.targetIndex,target2=tween.targets[targetIndex],key=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(target2,key,0,targetIndex,totalTargets,tween),this.repeatCounter=-1===this.repeat?TWEEN_CONST.MAX:this.repeat,this.setPendingRenderState();var t1=this.duration+this.hold;this.yoyo&&(t1+=this.duration);var t2=t1+this.repeatDelay;this.totalDuration=this.delay+t1,-1===this.repeat?(this.totalDuration+=t2*TWEEN_CONST.MAX,tween.isInfinite=!0):this.repeat>0&&(this.totalDuration+=t2*this.repeat),this.totalDuration>tween.duration&&(tween.duration=this.totalDuration),this.delay<tween.startDelay&&(tween.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(diff,setStart,isYoyo){var tween=this.tween,totalTargets=tween.totalTargets,targetIndex=this.targetIndex,target2=tween.targets[targetIndex],key=this.key,isTweenData="texture"!==key;if(this.elapsed=diff,this.progress=diff/this.duration,this.flipX&&target2.toggleFlipX(),this.flipY&&target2.toggleFlipY(),isTweenData&&(setStart||isYoyo)&&(this.start=this.getStartValue(target2,key,this.start,targetIndex,totalTargets,tween)),isYoyo)return this.setPlayingBackwardState(),void this.dispatchEvent(Events2.TWEEN_YOYO,"onYoyo");this.repeatCounter--,isTweenData&&(this.end=this.getEndValue(target2,key,this.start,targetIndex,totalTargets,tween)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-diff,isTweenData&&(this.current=this.start,target2[key]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(Events2.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});module2.exports=BaseTweenData},69902:module2=>{module2.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTween=__webpack_require__2(70402),Class=__webpack_require__2(83419),Events2=__webpack_require__2(842),GameObjectCreator=__webpack_require__2(44603),GameObjectFactory=__webpack_require__2(39429),MATH_CONST=__webpack_require__2(36383),TWEEN_CONST=__webpack_require__2(86353),TweenData=__webpack_require__2(48177),TweenFrameData=__webpack_require__2(42220),Tween=new Class({Extends:BaseTween,initialize:function Tween2(parent,targets){BaseTween.call(this,parent),this.targets=targets,this.totalTargets=targets.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(targetIndex,key,getEnd,getStart,getActive,ease,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY,interpolation,interpolationData){var tweenData=new TweenData(this,targetIndex,key,getEnd,getStart,getActive,ease,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY,interpolation,interpolationData);return this.totalData=this.data.push(tweenData),tweenData},addFrame:function(targetIndex,texture,frame,delay,duration,hold,repeat,repeatDelay,flipX,flipY){var tweenData=new TweenFrameData(this,targetIndex,texture,frame,delay,duration,hold,repeat,repeatDelay,flipX,flipY);return this.totalData=this.data.push(tweenData),tweenData},getValue:function(index){void 0===index&&(index=0);var value=null;return this.data&&(value=this.data[index].current),value},hasTarget:function(target2){return this.targets&&-1!==this.targets.indexOf(target2)},updateTo:function(key,value,startToCurrent){if(void 0===startToCurrent&&(startToCurrent=!1),"texture"!==key)for(var i=0;i<this.totalData;i++){var tweenData=this.data[i];tweenData.key===key&&(tweenData.isPlayingForward()||tweenData.isPlayingBackward())&&(tweenData.end=value,startToCurrent&&(tweenData.start=tweenData.current))}return this},restart:function(){switch(this.state){case TWEEN_CONST.REMOVED:case TWEEN_CONST.FINISHED:this.seek(),this.parent.makeActive(this);break;case TWEEN_CONST.PENDING:case TWEEN_CONST.PENDING_REMOVE:this.parent.reset(this);break;case TWEEN_CONST.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(Events2.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,BaseTween.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(amount,delta,emit){if(void 0===amount&&(amount=0),void 0===delta&&(delta=16.6),void 0===emit&&(emit=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;emit||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(Events2.TWEEN_ACTIVE,"onActive");var isPaused=this.paused;if(this.paused=!1,amount>0){for(var iterations=Math.floor(amount/delta),remainder=amount-iterations*delta,i=0;i<iterations;i++)this.update(delta);remainder>0&&this.update(remainder)}return this.paused=isPaused,this.isSeeking=!1,this},initTweenData:function(isSeeking){void 0===isSeeking&&(isSeeking=!1),this.duration=0,this.startDelay=MATH_CONST.MAX_SAFE_INTEGER;for(var data=this.data,i=0;i<this.totalData;i++)data[i].reset(isSeeking);this.duration=Math.max(this.duration,.01);var duration=this.duration,completeDelay=this.completeDelay,loopCounter=this.loopCounter,loopDelay=this.loopDelay;this.totalDuration=loopCounter>0?duration+completeDelay+(duration+loopDelay)*loopCounter:duration+completeDelay},reset:function(skipInit){return void 0===skipInit&&(skipInit=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=TWEEN_CONST.MAX),skipInit||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(Events2.TWEEN_ACTIVE,"onActive")),this},update:function(delta){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(delta*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(delta),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(delta),!1;this.hasStarted||(this.startDelay-=delta,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(Events2.TWEEN_START,"onStart"),delta=0));var stillRunning=!1;if(this.isActive())for(var data=this.data,i=0;i<this.totalData;i++)data[i].update(delta)&&(stillRunning=!0);this.elapsed+=delta,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=delta,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),stillRunning||this.nextState();var remove=this.isPendingRemove();return remove&&this.persist&&(this.setFinishedState(),remove=!1),remove},forward:function(ms){return this.update(ms),this},rewind:function(ms){return this.update(-ms),this},dispatchEvent:function(event,callback){if(!this.isSeeking){this.emit(event,this,this.targets);var handler=this.callbacks[callback];handler&&handler.func.apply(this.callbackScope,[this,this.targets].concat(handler.params))}},destroy:function(){BaseTween.prototype.destroy.call(this),this.targets=null}});GameObjectFactory.register("tween",(function(config2){return this.scene.sys.tweens.add(config2)})),GameObjectCreator.register("tween",(function(config2){return this.scene.sys.tweens.create(config2)})),module2.exports=Tween},43960:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ArrayRemove=__webpack_require__2(72905),BaseTween=__webpack_require__2(70402),Class=__webpack_require__2(83419),Events2=__webpack_require__2(842),GameObjectCreator=__webpack_require__2(44603),GameObjectFactory=__webpack_require__2(39429),TWEEN_CONST=__webpack_require__2(86353),TweenChain=new Class({Extends:BaseTween,initialize:function TweenChain2(parent){BaseTween.call(this,parent),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?TWEEN_CONST.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(tweens){var newTweens=this.parent.create(tweens);Array.isArray(newTweens)||(newTweens=[newTweens]);for(var data=this.data,i=0;i<newTweens.length;i++){var tween=newTweens[i];tween.parent=this,data.push(tween.reset())}return this.totalData=data.length,this},remove:function(tween){return ArrayRemove(this.data,tween),tween.setRemovedState(),tween===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(target2){for(var data=this.data,i=0;i<this.totalData;i++)if(data[i].hasTarget(target2))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(tween){return tween.seek(),tween.setActiveState(),this},makeActive:function(tween){return tween.reset(),tween.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(Events2.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var data=this.data,total=this.totalData,i=0;i<total;i++)data[i].reset(!1);this.setCurrentTween(0)},update:function(delta){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;delta*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(delta):this.isCompleteDelayed()?this.updateCompleteDelay(delta):this.isStartDelayed()&&(delta=this.updateStartCountdown(delta));var remove=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(delta)&&this.nextTween()&&this.nextState(),(remove=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),remove=!1)),remove},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(index){this.currentIndex=index,this.currentTween=this.data[index],this.currentTween.setActiveState()},dispatchEvent:function(event,callback){this.emit(event,this);var handler=this.callbacks[callback];handler&&handler.func.apply(this.callbackScope,[this].concat(handler.params))},destroy:function(){BaseTween.prototype.destroy.call(this),this.currentTween=null}});GameObjectFactory.register("tweenchain",(function(config2){return this.scene.sys.tweens.chain(config2)})),GameObjectCreator.register("tweenchain",(function(config2){return this.scene.sys.tweens.create(config2)})),module2.exports=TweenChain},48177:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTweenData=__webpack_require__2(95042),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(842),TweenData=new Class({Extends:BaseTweenData,initialize:function TweenData2(tween,targetIndex,key,getEnd,getStart,getActive,ease,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY,interpolation,interpolationData){BaseTweenData.call(this,tween,targetIndex,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY),this.key=key,this.getActiveValue=getActive,this.getEndValue=getEnd,this.getStartValue=getStart,this.ease=ease,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=interpolation,this.interpolationData=interpolationData},reset:function(isSeeking){BaseTweenData.prototype.reset.call(this);var target2=this.tween.targets[this.targetIndex],key=this.key;isSeeking&&(target2[key]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(target2[key]=this.getActiveValue(target2,key,0))},update:function(delta){var tween=this.tween,totalTargets=tween.totalTargets,targetIndex=this.targetIndex,target2=tween.targets[targetIndex],key=this.key;if(!target2)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=delta,this.elapsed<=0&&(this.elapsed=0,delta=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(Events2.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(target2,key,target2[key],targetIndex,totalTargets,tween),this.end=this.getEndValue(target2,key,this.start,targetIndex,totalTargets,tween),this.current=this.start,target2[key]=this.start,this.setPlayingForwardState(),!0;var forward=this.isPlayingForward(),backward=this.isPlayingBackward();if(forward||backward){var elapsed=this.elapsed,duration=this.duration,diff=0,complete=!1;(elapsed+=delta)>=duration?(diff=elapsed-duration,elapsed=duration,complete=!0):elapsed<0&&(elapsed=0);var progress=Clamp(elapsed/duration,0,1);this.elapsed=elapsed,this.progress=progress,this.previous=this.current,forward||(progress=1-progress);var v=this.ease(progress);this.interpolation?this.current=this.interpolation(this.interpolationData,v):this.current=this.start+(this.end-this.start)*v,target2[key]=this.current,complete&&(forward?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(diff):this.setStateFromStart(diff)),this.dispatchEvent(Events2.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(event,callback){var tween=this.tween;if(!tween.isSeeking){var target2=tween.targets[this.targetIndex],key=this.key,current=this.current,previous=this.previous;tween.emit(event,tween,key,target2,current,previous);var handler=tween.callbacks[callback];handler&&handler.func.apply(tween.callbackScope,[tween,target2,key,current,previous].concat(handler.params))}},destroy:function(){BaseTweenData.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});module2.exports=TweenData},42220:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BaseTweenData=__webpack_require__2(95042),Clamp=__webpack_require__2(45319),Class=__webpack_require__2(83419),Events2=__webpack_require__2(842),TweenFrameData=new Class({Extends:BaseTweenData,initialize:function TweenFrameData2(tween,targetIndex,texture,frame,delay,duration,hold,repeat,repeatDelay,flipX,flipY){BaseTweenData.call(this,tween,targetIndex,delay,duration,!1,hold,repeat,repeatDelay,flipX,flipY),this.key="texture",this.startTexture=null,this.endTexture=texture,this.startFrame=null,this.endFrame=frame,this.yoyo=0!==repeat},reset:function(isSeeking){BaseTweenData.prototype.reset.call(this);var target2=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=target2.texture.key,this.startFrame=target2.frame.name),isSeeking&&target2.setTexture(this.startTexture,this.startFrame)},update:function(delta){var tween=this.tween,targetIndex=this.targetIndex,target2=tween.targets[targetIndex];if(!target2)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=delta,this.elapsed<=0&&(this.elapsed=0,delta=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(Events2.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&target2.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var forward=this.isPlayingForward(),backward=this.isPlayingBackward();if(forward||backward){var elapsed=this.elapsed,duration=this.duration,diff=0,complete=!1;(elapsed+=delta)>=duration?(diff=elapsed-duration,elapsed=duration,complete=!0):elapsed<0&&(elapsed=0);var progress=Clamp(elapsed/duration,0,1);this.elapsed=elapsed,this.progress=progress,complete&&(forward?(target2.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(diff)):(target2.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(diff))),this.dispatchEvent(Events2.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(event,callback){var tween=this.tween;if(!tween.isSeeking){var target2=tween.targets[this.targetIndex],key=this.key;tween.emit(event,tween,key,target2);var handler=tween.callbacks[callback];handler&&handler.func.apply(tween.callbackScope,[tween,target2,key].concat(handler.params))}},destroy:function(){BaseTweenData.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});module2.exports=TweenFrameData},86353:module2=>{module2.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:module2=>{function getProperty(definition,k,isClassDescriptor){var def=isClassDescriptor?definition[k]:Object.getOwnPropertyDescriptor(definition,k);return!isClassDescriptor&&def.value&&"object"==typeof def.value&&(def=def.value),!(!def||!
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function hasGetterOrSetter(def){return!!def.get&&"function"==typeof def.get||!!def.set&&"function"==typeof def.set}(def))&&(void 0===def.enumerable&&(def.enumerable=!0),void 0===def.configurable&&(def.configurable=!0),def)}function hasNonConfigurable(obj,k){var prop=Object.getOwnPropertyDescriptor(obj,k);return!!prop&&(prop.value&&"object"==typeof prop.value&&(prop=prop.value),!1===prop.configurable)}function extend(ctor,definition,isClassDescriptor,extend2){for(var k in definition)if(definition.hasOwnProperty(k)){var def=getProperty(definition,k,isClassDescriptor);if(!1!==def){if(hasNonConfigurable((extend2||ctor).prototype,k)){if(Class.ignoreFinals)continue;throw new Error("cannot override final property '"+k+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(ctor.prototype,k,def)}else ctor.prototype[k]=definition[k]}}function mixin(myClass,mixins){if(mixins){Array.isArray(mixins)||(mixins=[mixins]);for(var i=0;i<mixins.length;i++)extend(myClass,mixins[i].prototype||mixins[i])}}function Class(definition){var initialize,Extends;if(definition||(definition={}),definition.initialize){if("function"!=typeof definition.initialize)throw new Error("initialize must be a function");initialize=definition.initialize,delete definition.initialize}else if(definition.Extends){var base=definition.Extends;initialize=function(){base.apply(this,arguments)}}else initialize=function(){};definition.Extends?(initialize.prototype=Object.create(definition.Extends.prototype),initialize.prototype.constructor=initialize,Extends=definition.Extends,delete definition.Extends):initialize.prototype.constructor=initialize;var mixins=null;return definition.Mixins&&(mixins=definition.Mixins,delete definition.Mixins),mixin(initialize,mixins),extend(initialize,definition,!0,Extends),initialize}Class.extend=extend,Class.mixin=mixin,Class.ignoreFinals=!1,module2.exports=Class},29747:module2=>{module2.exports=function(){}},20242:module2=>{module2.exports=function(){return null}},71146:module2=>{module2.exports=function(array,item,limit,callback,context){if(void 0===context&&(context=array),limit>0){var remaining=limit-array.length;if(remaining<=0)return null}if(!Array.isArray(item))return-1===array.indexOf(item)?(array.push(item),callback&&callback.call(context,item),item):null;for(var itemLength=item.length-1;itemLength>=0;)-1!==array.indexOf(item[itemLength])&&item.splice(itemLength,1),itemLength--;if(0===(itemLength=item.length))return null;limit>0&&itemLength>remaining&&(item.splice(remaining),itemLength=remaining);for(var i=0;i<itemLength;i++){var entry=item[i];array.push(entry),callback&&callback.call(context,entry)}return item}},51067:module2=>{module2.exports=function(array,item,index,limit,callback,context){if(void 0===index&&(index=0),void 0===context&&(context=array),limit>0){var remaining=limit-array.length;if(remaining<=0)return null}if(!Array.isArray(item))return-1===array.indexOf(item)?(array.splice(index,0,item),callback&&callback.call(context,item),item):null;for(var itemLength=item.length-1;itemLength>=0;)-1!==array.indexOf(item[itemLength])&&item.pop(),itemLength--;if(0===(itemLength=item.length))return null;limit>0&&itemLength>remaining&&(item.splice(remaining),itemLength=remaining);for(var i=itemLength-1;i>=0;i--){var entry=item[i];array.splice(index,0,entry),callback&&callback.call(context,entry)}return item}},66905:module2=>{module2.exports=function(array,item){var currentIndex=array.indexOf(item);return-1!==currentIndex&&currentIndex<array.length&&(array.splice(currentIndex,1),array.push(item)),item}},21612:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,property,value,startIndex,endIndex){void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length);var total=0;if(SafeRange(array,startIndex,endIndex))for(var i=startIndex;i<endIndex;i++)array[i][property]===value&&total++;return total}},95428:module2=>{module2.exports=function(array,callback,context){var i,args=[null];for(i=3;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<array.length;i++)args[0]=array[i],callback.apply(context,args);return array}},36914:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,callback,context,startIndex,endIndex){if(void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length),SafeRange(array,startIndex,endIndex)){var i,args=[null];for(i=5;i<arguments.length;i++)args.push(arguments[i]);for(i=startIndex;i<endIndex;i++)args[0]=array[i],callback.apply(context,args)}return array}},81957:module2=>{module2.exports=function(value,array,key){if(!array.length)return NaN;if(1===array.length)return array[0];var low,high,i=1;if(key){if(value<array[0][key])return array[0];for(;array[i][key]<value;)i++}else for(;array[i]<value;)i++;return i>array.length&&(i=array.length),key?(low=array[i-1][key],(high=array[i][key])-value<=value-low?array[i]:array[i-1]):(low=array[i-1],(high=array[i])-value<=value-low?high:low)}},43491:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Flatten=function(array,output){void 0===output&&(output=[]);for(var i=0;i<array.length;i++)Array.isArray(array[i])?Flatten(array[i],output):output.push(array[i]);return output};module2.exports=Flatten},46710:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,property,value,startIndex,endIndex){void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length);var output=[];if(SafeRange(array,startIndex,endIndex))for(var i=startIndex;i<endIndex;i++){var child=array[i];(!property||property&&void 0===value&&child.hasOwnProperty(property)||property&&void 0!==value&&child[property]===value)&&output.push(child)}return output}},58731:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,property,value,startIndex,endIndex){if(void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length),SafeRange(array,startIndex,endIndex))for(var i=startIndex;i<endIndex;i++){var child=array[i];if(!property||property&&void 0===value&&child.hasOwnProperty(property)||property&&void 0!==value&&child[property]===value)return child}return null}},26546:module2=>{module2.exports=function(array,startIndex,length){void 0===startIndex&&(startIndex=0),void 0===length&&(length=array.length);var randomIndex=startIndex+Math.floor(Math.random()*length);return void 0===array[randomIndex]?null:array[randomIndex]}},85835:module2=>{module2.exports=function(array,item1,item2){if(item1===item2)return array;var currentIndex=array.indexOf(item1),baseIndex=array.indexOf(item2);if(currentIndex<0||baseIndex<0)throw new Error("Supplied items must be elements of the same array");return currentIndex>baseIndex||(array.splice(currentIndex,1),baseIndex=array.indexOf(item2),array.splice(baseIndex+1,0,item1)),array}},83371:module2=>{module2.exports=function(array,item1,item2){if(item1===item2)return array;var currentIndex=array.indexOf(item1),baseIndex=array.indexOf(item2);if(currentIndex<0||baseIndex<0)throw new Error("Supplied items must be elements of the same array");return currentIndex<baseIndex||(array.splice(currentIndex,1),0===baseIndex?array.unshift(item1):array.splice(baseIndex,0,item1)),array}},70864:module2=>{module2.exports=function(array,item){var currentIndex=array.indexOf(item);if(currentIndex>0){var item2=array[currentIndex-1],index2=array.indexOf(item2);array[currentIndex]=item2,array[index2]=item}return array}},69693:module2=>{module2.exports=function(array,item,index){var currentIndex=array.indexOf(item);if(-1===currentIndex||index<0||index>=array.length)throw new Error("Supplied index out of bounds");return currentIndex!==index&&(array.splice(currentIndex,1),array.splice(index,0,item)),item}},40853:module2=>{module2.exports=function(array,item){var currentIndex=array.indexOf(item);if(-1!==currentIndex&&currentIndex<array.length-1){var item2=array[currentIndex+1],index2=array.indexOf(item2);array[currentIndex]=item2,array[index2]=item}return array}},20283:module2=>{module2.exports=function(start,end,prefix,suffix){var i,result=[],asString=!1;if((prefix||suffix)&&(asString=!0,prefix||(prefix=""),suffix||(suffix="")),end<start)for(i=start;i>=end;i--)asString?result.push(prefix+i.toString()+suffix):result.push(i);else for(i=start;i<=end;i++)asString?result.push(prefix+i.toString()+suffix):result.push(i);return result}},593:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RoundAwayFromZero=__webpack_require__2(2284);module2.exports=function(start,end,step){void 0===start&&(start=0),void 0===end&&(end=null),void 0===step&&(step=1),null===end&&(end=start,start=0);for(var result=[],total=Math.max(RoundAwayFromZero((end-start)/(step||1)),0),i=0;i<total;i++)result.push(start),start+=step;return result}},43886:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j],arr[j]=tmp}function defaultCompare(a,b){return a<b?-1:a>b?1:0}var QuickSelect=function(arr,k,left,right,compare){for(void 0===left&&(left=0),void 0===right&&(right=arr.length-1),void 0===compare&&(compare=defaultCompare);right>left;){if(right-left>600){var n=right-left+1,m=k-left+1,z2=Math.log(n),s=.5*Math.exp(2*z2/3),sd=.5*Math.sqrt(z2*s*(n-s)/n)*(m-n/2<0?-1:1),newLeft=Math.max(left,Math.floor(k-m*s/n+sd)),newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));QuickSelect(arr,k,newLeft,newRight,compare)}var t=arr[k],i=left,j=right;for(swap(arr,left,k),compare(arr[right],t)>0&&swap(arr,left,right);i<j;){for(swap(arr,i,j),i++,j--;compare(arr[i],t)<0;)i++;for(;compare(arr[j],t)>0;)j--}0===compare(arr[left],t)?swap(arr,left,j):swap(arr,++j,right),j<=k&&(left=j+1),k<=j&&(right=j-1)}};module2.exports=QuickSelect},88492:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=__webpack_require__2(35154),Shuffle=__webpack_require__2(33680),BuildChunk=function(a,b,qty){for(var out=[],aIndex=0;aIndex<a.length;aIndex++)for(var bIndex=0;bIndex<b.length;bIndex++)for(var i=0;i<qty;i++)out.push({a:a[aIndex],b:b[bIndex]});return out};module2.exports=function(a,b,options){var max=GetValue(options,"max",0),qty=GetValue(options,"qty",1),random=GetValue(options,"random",!1),randomB=GetValue(options,"randomB",!1),repeat=GetValue(options,"repeat",0),yoyo=GetValue(options,"yoyo",!1),out=[];if(randomB&&Shuffle(b),-1===repeat)if(0===max)repeat=0;else{var total=a.length*b.length*qty;yoyo&&(total*=2),repeat=Math.ceil(max/total)}for(var i=0;i<=repeat;i++){var chunk=BuildChunk(a,b,qty);random&&Shuffle(chunk),out=out.concat(chunk),yoyo&&(chunk.reverse(),out=out.concat(chunk))}return max&&out.splice(max),out}},72905:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpliceOne=__webpack_require__2(19133);module2.exports=function(array,item,callback,context){var index;if(void 0===context&&(context=array),!Array.isArray(item))return-1!==(index=array.indexOf(item))?(SpliceOne(array,index),callback&&callback.call(context,item),item):null;for(var itemLength=item.length-1,removed=[];itemLength>=0;){var entry=item[itemLength];-1!==(index=array.indexOf(entry))&&(SpliceOne(array,index),removed.push(entry),callback&&callback.call(context,entry)),itemLength--}return removed}},60248:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpliceOne=__webpack_require__2(19133);module2.exports=function(array,index,callback,context){if(void 0===context&&(context=array),index<0||index>array.length-1)throw new Error("Index out of bounds");var item=SpliceOne(array,index);return callback&&callback.call(context,item),item}},81409:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,startIndex,endIndex,callback,context){if(void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length),void 0===context&&(context=array),SafeRange(array,startIndex,endIndex)){var size=endIndex-startIndex,removed=array.splice(startIndex,size);if(callback)for(var i=0;i<removed.length;i++){var entry=removed[i];callback.call(context,entry)}return removed}return[]}},31856:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpliceOne=__webpack_require__2(19133);module2.exports=function(array,start,length){void 0===start&&(start=0),void 0===length&&(length=array.length);var randomIndex=start+Math.floor(Math.random()*length);return SpliceOne(array,randomIndex)}},42169:module2=>{module2.exports=function(array,oldChild,newChild){var index1=array.indexOf(oldChild),index2=array.indexOf(newChild);return-1!==index1&&-1===index2&&(array[index1]=newChild,!0)}},86003:module2=>{module2.exports=function(array,total){void 0===total&&(total=1);for(var element=null,i=0;i<total;i++)element=array.shift(),array.push(element);return element}},49498:module2=>{module2.exports=function(array,total){void 0===total&&(total=1);for(var element=null,i=0;i<total;i++)element=array.pop(),array.unshift(element);return element}},82011:module2=>{module2.exports=function(array,startIndex,endIndex,throwError){var len=array.length;if(startIndex<0||startIndex>len||startIndex>=endIndex||endIndex>len){if(throwError)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:module2=>{module2.exports=function(array,item){var currentIndex=array.indexOf(item);return-1!==currentIndex&&currentIndex>0&&(array.splice(currentIndex,1),array.unshift(item)),item}},17810:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=__webpack_require__2(82011);module2.exports=function(array,property,value,startIndex,endIndex){if(void 0===startIndex&&(startIndex=0),void 0===endIndex&&(endIndex=array.length),SafeRange(array,startIndex,endIndex))for(var i=startIndex;i<endIndex;i++){var entry=array[i];entry.hasOwnProperty(property)&&(entry[property]=value)}return array}},33680:module2=>{module2.exports=function(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1)),temp=array[i];array[i]=array[j],array[j]=temp}return array}},90126:module2=>{module2.exports=function(array){var re=/\D/g;return array.sort((function(a,b){return parseInt(a.replace(re,""),10)-parseInt(b.replace(re,""),10)})),array}},19133:module2=>{module2.exports=function(array,index){if(!(index>=array.length)){for(var len=array.length-1,item=array[index],i=index;i<len;i++)array[i]=array[i+1];return array.length=len,item}}},19186:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Angry Bytes (and contributors)
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Device=__webpack_require__2(82264);function Compare(a,b){return String(a).localeCompare(b)}function RunPass(arr,comp,chk,result){var l,r,e,li,ri,len=arr.length,i=0,dbl=2*chk;for(l=0;l<len;l+=dbl)for(e=(r=l+chk)+chk,r>len&&(r=len),e>len&&(e=len),li=l,ri=r;;)if(li<r&&ri<e)comp(arr[li],arr[ri])<=0?result[i++]=arr[li++]:result[i++]=arr[ri++];else if(li<r)result[i++]=arr[li++];else{if(!(ri<e))break;result[i++]=arr[ri++]}}module2.exports=function(array,compare){if(void 0===compare&&(compare=Compare),!array||array.length<2)return array;if(Device.features.stableSort)return array.sort(compare);var result=function Process(array,compare){var len=array.length;if(len<=1)return array;for(var buffer=new Array(len),chk=1;chk<len;chk*=2){RunPass(array,compare,chk,buffer);var tmp=array;array=buffer,buffer=tmp}return array}(array,compare);return result!==array&&RunPass(result,null,array.length,array),array}},25630:module2=>{module2.exports=function(array,item1,item2){if(item1===item2)return array;var index1=array.indexOf(item1),index2=array.indexOf(item2);if(index1<0||index2<0)throw new Error("Supplied items must be elements of the same array");return array[index1]=item2,array[index2]=item1,array}},37105:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Matrix:__webpack_require__2(54915),Add:__webpack_require__2(71146),AddAt:__webpack_require__2(51067),BringToTop:__webpack_require__2(66905),CountAllMatching:__webpack_require__2(21612),Each:__webpack_require__2(95428),EachInRange:__webpack_require__2(36914),FindClosestInSorted:__webpack_require__2(81957),Flatten:__webpack_require__2(43491),GetAll:__webpack_require__2(46710),GetFirst:__webpack_require__2(58731),GetRandom:__webpack_require__2(26546),MoveDown:__webpack_require__2(70864),MoveTo:__webpack_require__2(69693),MoveUp:__webpack_require__2(40853),MoveAbove:__webpack_require__2(85835),MoveBelow:__webpack_require__2(83371),NumberArray:__webpack_require__2(20283),NumberArrayStep:__webpack_require__2(593),QuickSelect:__webpack_require__2(43886),Range:__webpack_require__2(88492),Remove:__webpack_require__2(72905),RemoveAt:__webpack_require__2(60248),RemoveBetween:__webpack_require__2(81409),RemoveRandomElement:__webpack_require__2(31856),Replace:__webpack_require__2(42169),RotateLeft:__webpack_require__2(86003),RotateRight:__webpack_require__2(49498),SafeRange:__webpack_require__2(82011),SendToBack:__webpack_require__2(89545),SetAll:__webpack_require__2(17810),Shuffle:__webpack_require__2(33680),SortByDigits:__webpack_require__2(90126),SpliceOne:__webpack_require__2(19133),StableSort:__webpack_require__2(19186),Swap:__webpack_require__2(25630)}},86922:module2=>{module2.exports=function(matrix){if(!Array.isArray(matrix)||!Array.isArray(matrix[0]))return!1;for(var size=matrix[0].length,i=1;i<matrix.length;i++)if(matrix[i].length!==size)return!1;return!0}},63362:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Pad=__webpack_require__2(41836),CheckMatrix=__webpack_require__2(86922);module2.exports=function(matrix){var str="";if(!CheckMatrix(matrix))return str;for(var r=0;r<matrix.length;r++){for(var c=0;c<matrix[r].length;c++){var cell=matrix[r][c].toString();str+="undefined"!==cell?Pad(cell,2):"?",c<matrix[r].length-1&&(str+=" |")}if(r<matrix.length-1){str+="\n";for(var i=0;i<matrix[r].length;i++)str+="---",i<matrix[r].length-1&&(str+="+");str+="\n"}}return str}},92598:module2=>{module2.exports=function(matrix){return matrix.reverse()}},21224:module2=>{module2.exports=function(matrix){for(var i=0;i<matrix.length;i++)matrix[i].reverse();return matrix}},98717:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateMatrix=__webpack_require__2(37829);module2.exports=function(matrix){return RotateMatrix(matrix,180)}},44657:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateMatrix=__webpack_require__2(37829);module2.exports=function(matrix,amount){void 0===amount&&(amount=1);for(var i=0;i<amount;i++)matrix=RotateMatrix(matrix,90);return matrix}},37829:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CheckMatrix=__webpack_require__2(86922),TransposeMatrix=__webpack_require__2(2429);module2.exports=function(matrix,direction){if(void 0===direction&&(direction=90),!CheckMatrix(matrix))return null;if("string"!=typeof direction&&(direction=(direction%360+360)%360),90===direction||-270===direction||"rotateLeft"===direction)(matrix=TransposeMatrix(matrix)).reverse();else if(-90===direction||270===direction||"rotateRight"===direction)matrix.reverse(),matrix=TransposeMatrix(matrix);else if(180===Math.abs(direction)||"rotate180"===direction){for(var i=0;i<matrix.length;i++)matrix[i].reverse();matrix.reverse()}return matrix}},92632:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateMatrix=__webpack_require__2(37829);module2.exports=function(matrix,amount){void 0===amount&&(amount=1);for(var i=0;i<amount;i++)matrix=RotateMatrix(matrix,-90);return matrix}},69512:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateLeft=__webpack_require__2(86003),RotateRight=__webpack_require__2(49498);module2.exports=function(matrix,x,y){if(void 0===x&&(x=0),void 0===y&&(y=0),0!==y&&(y<0?RotateLeft(matrix,Math.abs(y)):RotateRight(matrix,y)),0!==x)for(var i=0;i<matrix.length;i++){var row=matrix[i];x<0?RotateLeft(row,Math.abs(x)):RotateRight(row,x)}return matrix}},2429:module2=>{module2.exports=function(array){for(var sourceRowCount=array.length,sourceColCount=array[0].length,result=new Array(sourceColCount),i=0;i<sourceColCount;i++){result[i]=new Array(sourceRowCount);for(var j=sourceRowCount-1;j>-1;j--)result[i][j]=array[j][i]}return result}},54915:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={CheckMatrix:__webpack_require__2(86922),MatrixToString:__webpack_require__2(63362),ReverseColumns:__webpack_require__2(92598),ReverseRows:__webpack_require__2(21224),Rotate180:__webpack_require__2(98717),RotateLeft:__webpack_require__2(44657),RotateMatrix:__webpack_require__2(37829),RotateRight:__webpack_require__2(92632),Translate:__webpack_require__2(69512),TransposeMatrix:__webpack_require__2(2429)}},71334:module2=>{
/**
               * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";module2.exports=function(arrayBuffer,mediaType){for(var bytes=new Uint8Array(arrayBuffer),len=bytes.length,base64=mediaType?"data:"+mediaType+";base64,":"",i=0;i<len;i+=3)base64+=chars[bytes[i]>>2],base64+=chars[(3&bytes[i])<<4|bytes[i+1]>>4],base64+=chars[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64+=chars[63&bytes[i+2]];return len%3==2?base64=base64.substring(0,base64.length-1)+"=":len%3==1&&(base64=base64.substring(0,base64.length-2)+"=="),base64}},53134:module2=>{for(
/**
               * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<64;i++)lookup[chars.charCodeAt(i)]=i;module2.exports=function(base64){var encoded1,encoded2,encoded3,encoded4,len=(base64=base64.substr(base64.indexOf(",")+1)).length,bufferLength=.75*len,p=0;"="===base64[len-1]&&(bufferLength--,"="===base64[len-2]&&bufferLength--);for(var arrayBuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arrayBuffer),i2=0;i2<len;i2+=4)encoded1=lookup[base64.charCodeAt(i2)],encoded2=lookup[base64.charCodeAt(i2+1)],encoded3=lookup[base64.charCodeAt(i2+2)],encoded4=lookup[base64.charCodeAt(i2+3)],bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arrayBuffer}},65839:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={ArrayBufferToBase64:__webpack_require__2(71334),Base64ToArrayBuffer:__webpack_require__2(53134)}},91799:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Array:__webpack_require__2(37105),Base64:__webpack_require__2(65839),Objects:__webpack_require__2(1183),String:__webpack_require__2(31749),NOOP:__webpack_require__2(29747),NULL:__webpack_require__2(20242)}},41786:module2=>{module2.exports=function(obj){var clone2={};for(var key in obj)Array.isArray(obj[key])?clone2[key]=obj[key].slice(0):clone2[key]=obj[key];return clone2}},62644:module2=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeepCopy=function(inObject){var outObject,value,key;if("object"!=typeof inObject||null===inObject)return inObject;for(key in outObject=Array.isArray(inObject)?[]:{},inObject)value=inObject[key],outObject[key]=DeepCopy(value);return outObject};module2.exports=DeepCopy},79291:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsPlainObject=__webpack_require__2(41212),Extend=function(){var options,name,src2,copy2,copyIsArray,clone2,target2=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target2&&(deep=target2,target2=arguments[1]||{},i=2),length===i&&(target2=this,--i);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src2=target2[name],target2!==(copy2=options[name])&&(deep&&copy2&&(IsPlainObject(copy2)||(copyIsArray=Array.isArray(copy2)))?(copyIsArray?(copyIsArray=!1,clone2=src2&&Array.isArray(src2)?src2:[]):clone2=src2&&IsPlainObject(src2)?src2:{},target2[name]=Extend(deep,clone2,copy2)):void 0!==copy2&&(target2[name]=copy2));return target2};module2.exports=Extend},23568:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MATH=__webpack_require__2(75508),GetValue=__webpack_require__2(35154);module2.exports=function(source,key,defaultValue){var value=GetValue(source,key,null);if(null===value)return defaultValue;if(Array.isArray(value))return MATH.RND.pick(value);if("object"==typeof value){if(value.hasOwnProperty("randInt"))return MATH.RND.integerInRange(value.randInt[0],value.randInt[1]);if(value.hasOwnProperty("randFloat"))return MATH.RND.realInRange(value.randFloat[0],value.randFloat[1])}else if("function"==typeof value)return value(key);return value}},95540:module2=>{module2.exports=function(source,key,defaultValue){var t=typeof source;return source&&"number"!==t&&"string"!==t&&source.hasOwnProperty(key)&&void 0!==source[key]?source[key]:defaultValue}},82840:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=__webpack_require__2(35154),Clamp=__webpack_require__2(45319);module2.exports=function(source,key,min,max,defaultValue){void 0===defaultValue&&(defaultValue=min);var value=GetValue(source,key,defaultValue);return Clamp(value,min,max)}},35154:module2=>{module2.exports=function(source,key,defaultValue,altSource){if(!source&&!altSource||"number"==typeof source)return defaultValue;if(source&&source.hasOwnProperty(key))return source[key];if(altSource&&altSource.hasOwnProperty(key))return altSource[key];if(-1!==key.indexOf(".")){for(var keys=key.split("."),parentA=source,parentB=altSource,valueA=defaultValue,valueB=defaultValue,valueAFound=!0,valueBFound=!0,i=0;i<keys.length;i++)parentA&&parentA.hasOwnProperty(keys[i])?(valueA=parentA[keys[i]],parentA=parentA[keys[i]]):valueAFound=!1,parentB&&parentB.hasOwnProperty(keys[i])?(valueB=parentB[keys[i]],parentB=parentB[keys[i]]):valueBFound=!1;return valueAFound?valueA:valueBFound?valueB:defaultValue}return defaultValue}},69036:module2=>{module2.exports=function(source,keys){for(var i=0;i<keys.length;i++)if(!source.hasOwnProperty(keys[i]))return!1;return!0}},1985:module2=>{module2.exports=function(source,keys){for(var i=0;i<keys.length;i++)if(source.hasOwnProperty(keys[i]))return!0;return!1}},97022:module2=>{module2.exports=function(source,key){return source.hasOwnProperty(key)}},41212:module2=>{module2.exports=function(obj){if(!obj||"object"!=typeof obj||obj.nodeType||obj===obj.window)return!1;try{if(obj.constructor&&!{}.hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},46975:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clone=__webpack_require__2(41786);module2.exports=function(obj1,obj2){var clone2=Clone(obj1);for(var key in obj2)clone2.hasOwnProperty(key)||(clone2[key]=obj2[key]);return clone2}},269:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clone=__webpack_require__2(41786);module2.exports=function(obj1,obj2){var clone2=Clone(obj1);for(var key in obj2)clone2.hasOwnProperty(key)&&(clone2[key]=obj2[key]);return clone2}},18254:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HasValue=__webpack_require__2(97022);module2.exports=function(object,keys){for(var obj={},i=0;i<keys.length;i++){var key=keys[i];HasValue(object,key)&&(obj[key]=object[key])}return obj}},61622:module2=>{module2.exports=function(source,key,value){if(!source||"number"==typeof source)return!1;if(source.hasOwnProperty(key))return source[key]=value,!0;if(-1!==key.indexOf(".")){for(var keys=key.split("."),parent=source,prev=source,i=0;i<keys.length;i++){if(!parent.hasOwnProperty(keys[i]))return!1;prev=parent,parent=parent[keys[i]]}return prev[keys[keys.length-1]]=value,!0}return!1}},1183:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Clone:__webpack_require__2(41786),DeepCopy:__webpack_require__2(62644),Extend:__webpack_require__2(79291),GetAdvancedValue:__webpack_require__2(23568),GetFastValue:__webpack_require__2(95540),GetMinMaxValue:__webpack_require__2(82840),GetValue:__webpack_require__2(35154),HasAll:__webpack_require__2(69036),HasAny:__webpack_require__2(1985),HasValue:__webpack_require__2(97022),IsPlainObject:__webpack_require__2(41212),Merge:__webpack_require__2(46975),MergeRight:__webpack_require__2(269),Pick:__webpack_require__2(18254),SetValue:__webpack_require__2(61622)}},27902:module2=>{module2.exports=function(string,values){return string.replace(/%([0-9]+)/g,(function(s,n){return values[Number(n)-1]}))}},41836:module2=>{module2.exports=function(str,len,pad,dir){void 0===len&&(len=0),void 0===pad&&(pad=" "),void 0===dir&&(dir=3);var padlen=0;if(len+1>=(str=str.toString()).length)switch(dir){case 1:str=new Array(len+1-str.length).join(pad)+str;break;case 3:var right=Math.ceil((padlen=len-str.length)/2);str=new Array(padlen-right+1).join(pad)+str+new Array(right+1).join(pad);break;default:str+=new Array(len+1-str.length).join(pad)}return str}},33628:module2=>{module2.exports=function(string,index){return 0===index?string.slice(1):string.slice(0,index)+string.slice(index+1)}},27671:module2=>{module2.exports=function(string){return string.split("").reverse().join("")}},45650:module2=>{module2.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}},35355:module2=>{module2.exports=function(str){return str&&str[0].toUpperCase()+str.slice(1)}},31749:(module2,__unused_webpack_exports,__webpack_require__2)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2024 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
module2.exports={Format:__webpack_require__2(27902),Pad:__webpack_require__2(41836),RemoveAt:__webpack_require__2(33628),Reverse:__webpack_require__2(27671),UppercaseFirst:__webpack_require__2(35355),UUID:__webpack_require__2(45650)}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module2=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module2,module2.exports,__webpack_require__),module2.exports}return __webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__(85454)})()));var phaserExports=phaser.exports;const Phaser$1=getDefaultExportFromCjs$1(phaserExports),_ScaleFlow=class _ScaleFlow{constructor(config2){__publicField(this,"game"),__publicField(this,"canvas"),__publicField(this,"parent"),__publicField(this,"guide");const width=config2.width,height=config2.height;_ScaleFlow.width=width,_ScaleFlow.height=height,_ScaleFlow.center=new Phaser$1.Math.Vector2(width/2,height/2),_ScaleFlow.isLandscape=_ScaleFlow.width>_ScaleFlow.height,_ScaleFlow.gameZone=new Phaser$1.Geom.Rectangle(0,0,width,height),_ScaleFlow.uiZone=new Phaser$1.Geom.Rectangle(0,0,width,height),_ScaleFlow.cameras=new Set,config2.callbacks={postBoot:()=>this.gameBootHandler()},this.game=new Phaser$1.Game(config2)}gameBootHandler(){_ScaleFlow.scaleManager=this.game.scale,_ScaleFlow.scaleManager.on("resize",(()=>this.onResizeHandler())),this.canvas=this.game.canvas,this.parent=this.canvas.parentElement,this.guide=document.getElementById("guide"),window.setTimeout((()=>this.onResizeHandler()),16)}onResizeHandler(){const parentBounds=this.parent.getBoundingClientRect(),canvasBounds=this.canvas.getBoundingClientRect(),guideBounds=this.guide.getBoundingClientRect(),widthScale=parentBounds.width/_ScaleFlow.width,heightScale=parentBounds.height/_ScaleFlow.height,scale=Math.max(widthScale,heightScale),widthDiffScale=(parentBounds.width-widthScale)*(1/scale),heightDiffScale=(parentBounds.height-heightScale)*(1/scale),leftBounds=_ScaleFlow.width/2-widthDiffScale/2,rightBounds=_ScaleFlow.width/2+widthDiffScale/2,topBounds=_ScaleFlow.height/2-heightDiffScale/2,bottomBounds=_ScaleFlow.height/2+heightDiffScale/2;_ScaleFlow.uiZone.left=leftBounds,_ScaleFlow.uiZone.right=rightBounds,_ScaleFlow.uiZone.top=topBounds,_ScaleFlow.uiZone.bottom=bottomBounds;const scaleX=guideBounds.width/canvasBounds.width,scaleY=guideBounds.height/canvasBounds.height,scaleFactor=Math.min(scaleX,scaleY);_ScaleFlow.scaleFactor=scaleFactor,_ScaleFlow.cameras.forEach((camera=>{camera.zoom=scaleFactor})),this.game.events.emit(_ScaleFlow.RESIZE)}static addCamera(camera){this.cameras.add(camera),camera.zoom=_ScaleFlow.scaleFactor}static removeCamera(camera){this.cameras.delete(camera)}static getX(x){if("number"==typeof x)return x;return this.scaleManager.width*(parseInt(x,10)/100)}static getY(y){if("number"==typeof y)return y;return this.scaleManager.height*(parseInt(y,10)/100)}static getUIX(x){if("number"==typeof x)return x;return _ScaleFlow.uiZone.width*(parseInt(x,10)/100)}static getUIY(y){if("number"==typeof y)return y;return _ScaleFlow.uiZone.height*(parseInt(y,10)/100)}};__publicField(_ScaleFlow,"scaleManager"),__publicField(_ScaleFlow,"cameras"),__publicField(_ScaleFlow,"gameZone"),__publicField(_ScaleFlow,"uiZone"),__publicField(_ScaleFlow,"width"),__publicField(_ScaleFlow,"height"),__publicField(_ScaleFlow,"center"),__publicField(_ScaleFlow,"isLandscape"),__publicField(_ScaleFlow,"scaleFactor",1),__publicField(_ScaleFlow,"scaleFactor2",1),__publicField(_ScaleFlow,"RESIZE","scaleflowresize");let ScaleFlow=_ScaleFlow;var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var eventemitter3={exports:{}};!function(module){var has=Object.prototype.hasOwnProperty,prefix="~";function Events2(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0===--emitter._eventsCount?emitter._events=new Events2:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events2,this._eventsCount=0}Object.create&&(Events2.prototype=Object.create(null),(new Events2).__proto__||(prefix=!1)),EventEmitter2.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter2.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter2.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter2.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter2.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter2.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter2.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter2.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events2,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=prefix,EventEmitter2.EventEmitter=EventEmitter2,module.exports=EventEmitter2}(eventemitter3);var util,util2,objectUtil,EventEmitter$1=getDefaultExportFromCjs(eventemitter3.exports);(util2=util||(util={})).assertEqual=val=>val,util2.assertIs=function assertIs(_arg){},util2.assertNever=function assertNever(_x){throw new Error},util2.arrayToEnum=items=>{const obj={};for(const item of items)obj[item]=item;return obj},util2.getValidEnumValues=obj=>{const validKeys=util2.objectKeys(obj).filter((k=>"number"!=typeof obj[obj[k]])),filtered={};for(const k of validKeys)filtered[k]=obj[k];return util2.objectValues(filtered)},util2.objectValues=obj=>util2.objectKeys(obj).map((function(e){return obj[e]})),util2.objectKeys="function"==typeof Object.keys?obj=>Object.keys(obj):object=>{const keys=[];for(const key in object)Object.prototype.hasOwnProperty.call(object,key)&&keys.push(key);return keys},util2.find=(arr,checker)=>{for(const item of arr)if(checker(item))return item},util2.isInteger="function"==typeof Number.isInteger?val=>Number.isInteger(val):val=>"number"==typeof val&&isFinite(val)&&Math.floor(val)===val,util2.joinValues=function joinValues(array,separator=" | "){return array.map((val=>"string"==typeof val?`'${val}'`:val)).join(separator)},util2.jsonStringifyReplacer=(_,value)=>"bigint"==typeof value?value.toString():value,(objectUtil||(objectUtil={})).mergeShapes=(first,second)=>({...first,...second});const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=data=>{switch(typeof data){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(data)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(data)?ZodParsedType.array:null===data?ZodParsedType.null:data.then&&"function"==typeof data.then&&data.catch&&"function"==typeof data.catch?ZodParsedType.promise:"undefined"!=typeof Map&&data instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&data instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&data instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{constructor(issues){super(),this.issues=[],this.addIssue=sub=>{this.issues=[...this.issues,sub]},this.addIssues=(subs=[])=>{this.issues=[...this.issues,...subs]};const actualProto=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,actualProto):this.__proto__=actualProto,this.name="ZodError",this.issues=issues}get errors(){return this.issues}format(_mapper){const mapper=_mapper||function(issue){return issue.message},fieldErrors={_errors:[]},processError=error=>{for(const issue of error.issues)if("invalid_union"===issue.code)issue.unionErrors.map(processError);else if("invalid_return_type"===issue.code)processError(issue.returnTypeError);else if("invalid_arguments"===issue.code)processError(issue.argumentsError);else if(0===issue.path.length)fieldErrors._errors.push(mapper(issue));else{let curr=fieldErrors,i=0;for(;i<issue.path.length;){const el=issue.path[i];i===issue.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i++}}};return processError(this),fieldErrors}static assert(value){if(!(value instanceof ZodError))throw new Error(`Not a ZodError: ${value}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(mapper=issue=>issue.message){const fieldErrors={},formErrors=[];for(const sub of this.issues)sub.path.length>0?(fieldErrors[sub.path[0]]=fieldErrors[sub.path[0]]||[],fieldErrors[sub.path[0]].push(mapper(sub))):formErrors.push(mapper(sub));return{formErrors:formErrors,fieldErrors:fieldErrors}}get formErrors(){return this.flatten()}}ZodError.create=issues=>new ZodError(issues);const errorMap=(issue,_ctx)=>{let message;switch(issue.code){case ZodIssueCode.invalid_type:message=issue.received===ZodParsedType.undefined?"Required":`Expected ${issue.expected}, received ${issue.received}`;break;case ZodIssueCode.invalid_literal:message=`Invalid literal value, expected ${JSON.stringify(issue.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:message=`Unrecognized key(s) in object: ${util.joinValues(issue.keys,", ")}`;break;case ZodIssueCode.invalid_union:message="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:message=`Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;break;case ZodIssueCode.invalid_enum_value:message=`Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;break;case ZodIssueCode.invalid_arguments:message="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:message="Invalid function return type";break;case ZodIssueCode.invalid_date:message="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof issue.validation?"includes"in issue.validation?(message=`Invalid input: must include "${issue.validation.includes}"`,"number"==typeof issue.validation.position&&(message=`${message} at one or more positions greater than or equal to ${issue.validation.position}`)):"startsWith"in issue.validation?message=`Invalid input: must start with "${issue.validation.startsWith}"`:"endsWith"in issue.validation?message=`Invalid input: must end with "${issue.validation.endsWith}"`:util.assertNever(issue.validation):message="regex"!==issue.validation?`Invalid ${issue.validation}`:"Invalid";break;case ZodIssueCode.too_small:message="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at least":"more than"} ${issue.minimum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at least":"over"} ${issue.minimum} character(s)`:"number"===issue.type?`Number must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${issue.minimum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(issue.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:message="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at most":"less than"} ${issue.maximum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at most":"under"} ${issue.maximum} character(s)`:"number"===issue.type?`Number must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"bigint"===issue.type?`BigInt must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly":issue.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(issue.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:message="Invalid input";break;case ZodIssueCode.invalid_intersection_types:message="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:message=`Number must be a multiple of ${issue.multipleOf}`;break;case ZodIssueCode.not_finite:message="Number must be finite";break;default:message=_ctx.defaultError,util.assertNever(issue)}return{message:message}};let overrideErrorMap=errorMap;function getErrorMap(){return overrideErrorMap}const makeIssue=params=>{const{data:data,path:path,errorMaps:errorMaps,issueData:issueData}=params,fullPath=[...path,...issueData.path||[]],fullIssue={...issueData,path:fullPath};if(void 0!==issueData.message)return{...issueData,path:fullPath,message:issueData.message};let errorMessage="";const maps=errorMaps.filter((m=>!!m)).slice().reverse();for(const map of maps)errorMessage=map(fullIssue,{data:data,defaultError:errorMessage}).message;return{...issueData,path:fullPath,message:errorMessage}};function addIssueToContext(ctx,issueData){const overrideMap=getErrorMap(),issue=makeIssue({issueData:issueData,data:ctx.data,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,overrideMap,overrideMap===errorMap?void 0:errorMap].filter((x=>!!x))});ctx.common.issues.push(issue)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(status,results){const arrayValue=[];for(const s of results){if("aborted"===s.status)return INVALID;"dirty"===s.status&&status.dirty(),arrayValue.push(s.value)}return{status:status.value,value:arrayValue}}static async mergeObjectAsync(status,pairs){const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key:key,value:value})}return ParseStatus.mergeObjectSync(status,syncPairs)}static mergeObjectSync(status,pairs){const finalObject={};for(const pair of pairs){const{key:key,value:value}=pair;if("aborted"===key.status)return INVALID;if("aborted"===value.status)return INVALID;"dirty"===key.status&&status.dirty(),"dirty"===value.status&&status.dirty(),"__proto__"===key.value||void 0===value.value&&!pair.alwaysSet||(finalObject[key.value]=value.value)}return{status:status.value,value:finalObject}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=value=>({status:"dirty",value:value}),OK=value=>({status:"valid",value:value}),isAborted=x=>"aborted"===x.status,isDirty=x=>"dirty"===x.status,isValid=x=>"valid"===x.status,isAsync=x=>"undefined"!=typeof Promise&&x instanceof Promise;function __classPrivateFieldGet$1(receiver,state,kind,f){if("function"==typeof state||!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return state.get(receiver)}function __classPrivateFieldSet$1(receiver,state,value,kind,f){if("function"==typeof state||!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return state.set(receiver,value),value}var errorUtil,errorUtil2,_ZodEnum_cache,_ZodNativeEnum_cache;"function"==typeof SuppressedError&&SuppressedError,(errorUtil2=errorUtil||(errorUtil={})).errToObj=message=>"string"==typeof message?{message:message}:message||{},errorUtil2.toString=message=>"string"==typeof message?message:null==message?void 0:message.message;class ParseInputLazyPath{constructor(parent,value,path,key){this._cachedPath=[],this.parent=parent,this.data=value,this._path=path,this._key=key}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(ctx,result)=>{if(isValid(result))return{success:!0,data:result.value};if(!ctx.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const error=new ZodError(ctx.common.issues);return this._error=error,this._error}}};function processCreateParams(params){if(!params)return{};const{errorMap:errorMap2,invalid_type_error:invalid_type_error,required_error:required_error,description:description}=params;if(errorMap2&&(invalid_type_error||required_error))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(errorMap2)return{errorMap:errorMap2,description:description};return{errorMap:(iss,ctx)=>{var _a2,_b;const{message:message}=params;return"invalid_enum_value"===iss.code?{message:null!=message?message:ctx.defaultError}:void 0===ctx.data?{message:null!==(_a2=null!=message?message:required_error)&&void 0!==_a2?_a2:ctx.defaultError}:"invalid_type"!==iss.code?{message:ctx.defaultError}:{message:null!==(_b=null!=message?message:invalid_type_error)&&void 0!==_b?_b:ctx.defaultError}},description:description}}class ZodType{constructor(def){this.spa=this.safeParseAsync,this._def=def,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(input){return getParsedType(input.data)}_getOrReturnCtx(input,ctx){return ctx||{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}_processInputParams(input){return{status:new ParseStatus,ctx:{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}}_parseSync(input){const result=this._parse(input);if(isAsync(result))throw new Error("Synchronous parse encountered promise.");return result}_parseAsync(input){const result=this._parse(input);return Promise.resolve(result)}parse(data,params){const result=this.safeParse(data,params);if(result.success)return result.data;throw result.error}safeParse(data,params){var _a2;const ctx={common:{issues:[],async:null!==(_a2=null==params?void 0:params.async)&&void 0!==_a2&&_a2,contextualErrorMap:null==params?void 0:params.errorMap},path:(null==params?void 0:params.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:data,parsedType:getParsedType(data)},result=this._parseSync({data:data,path:ctx.path,parent:ctx});return handleResult(ctx,result)}async parseAsync(data,params){const result=await this.safeParseAsync(data,params);if(result.success)return result.data;throw result.error}async safeParseAsync(data,params){const ctx={common:{issues:[],contextualErrorMap:null==params?void 0:params.errorMap,async:!0},path:(null==params?void 0:params.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:data,parsedType:getParsedType(data)},maybeAsyncResult=this._parse({data:data,path:ctx.path,parent:ctx}),result=await(isAsync(maybeAsyncResult)?maybeAsyncResult:Promise.resolve(maybeAsyncResult));return handleResult(ctx,result)}refine(check,message){const getIssueProperties=val=>"string"==typeof message||void 0===message?{message:message}:"function"==typeof message?message(val):message;return this._refinement(((val,ctx)=>{const result=check(val),setError=()=>ctx.addIssue({code:ZodIssueCode.custom,...getIssueProperties(val)});return"undefined"!=typeof Promise&&result instanceof Promise?result.then((data=>!!data||(setError(),!1))):!!result||(setError(),!1)}))}refinement(check,refinementData){return this._refinement(((val,ctx)=>!!check(val)||(ctx.addIssue("function"==typeof refinementData?refinementData(val,ctx):refinementData),!1)))}_refinement(refinement){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:refinement}})}superRefine(refinement){return this._refinement(refinement)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(option){return ZodUnion.create([this,option],this._def)}and(incoming){return ZodIntersection.create(this,incoming,this._def)}transform(transform2){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:transform2}})}default(def){const defaultValueFunc="function"==typeof def?def:()=>def;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:defaultValueFunc,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(def){const catchValueFunc="function"==typeof def?def:()=>def;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:catchValueFunc,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(description){return new(0,this.constructor)({...this._def,description:description})}pipe(target2){return ZodPipeline.create(this,target2)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(args){let regex="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return args.precision?regex=`${regex}\\.\\d{${args.precision}}`:null==args.precision&&(regex=`${regex}(\\.\\d+)?`),regex}function datetimeRegex(args){let regex=`${dateRegexSource}T${timeRegexSource(args)}`;const opts=[];return opts.push(args.local?"Z?":"Z"),args.offset&&opts.push("([+-]\\d{2}:?\\d{2})"),regex=`${regex}(${opts.join("|")})`,new RegExp(`^${regex}$`)}class ZodString extends ZodType{_parse(input){this._def.coerce&&(input.data=String(input.data));if(this._getType(input)!==ZodParsedType.string){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ctx2.parsedType}),INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)if("min"===check.kind)input.data.length<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("max"===check.kind)input.data.length>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("length"===check.kind){const tooBig=input.data.length>check.value,tooSmall=input.data.length<check.value;(tooBig||tooSmall)&&(ctx=this._getOrReturnCtx(input,ctx),tooBig?addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}):tooSmall&&addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}),status.dirty())}else if("email"===check.kind)emailRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"email",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("emoji"===check.kind)emojiRegex||(emojiRegex=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),emojiRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"emoji",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("uuid"===check.kind)uuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"uuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("nanoid"===check.kind)nanoidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid"===check.kind)cuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid2"===check.kind)cuid2Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("ulid"===check.kind)ulidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ulid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("url"===check.kind)try{new URL(input.data)}catch(_a2){ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()}else if("regex"===check.kind){check.regex.lastIndex=0;check.regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"regex",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty())}else if("trim"===check.kind)input.data=input.data.trim();else if("includes"===check.kind)input.data.includes(check.value,check.position)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{includes:check.value,position:check.position},message:check.message}),status.dirty());else if("toLowerCase"===check.kind)input.data=input.data.toLowerCase();else if("toUpperCase"===check.kind)input.data=input.data.toUpperCase();else if("startsWith"===check.kind)input.data.startsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{startsWith:check.value},message:check.message}),status.dirty());else if("endsWith"===check.kind)input.data.endsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{endsWith:check.value},message:check.message}),status.dirty());else if("datetime"===check.kind){datetimeRegex(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"datetime",message:check.message}),status.dirty())}else if("date"===check.kind){dateRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"date",message:check.message}),status.dirty())}else if("time"===check.kind){new RegExp(`^${timeRegexSource(check)}$`).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"time",message:check.message}),status.dirty())}else"duration"===check.kind?durationRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"duration",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"ip"===check.kind?(ip=input.data,("v4"!==(version=check.version)&&version||!ipv4Regex.test(ip))&&("v6"!==version&&version||!ipv6Regex.test(ip))&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ip",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty())):"base64"===check.kind?base64Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):util.assertNever(check);var ip,version;return{status:status.value,value:input.data}}_regex(regex,validation,message){return this.refinement((data=>regex.test(data)),{validation:validation,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(message)})}_addCheck(check){return new ZodString({...this._def,checks:[...this._def.checks,check]})}email(message){return this._addCheck({kind:"email",...errorUtil.errToObj(message)})}url(message){return this._addCheck({kind:"url",...errorUtil.errToObj(message)})}emoji(message){return this._addCheck({kind:"emoji",...errorUtil.errToObj(message)})}uuid(message){return this._addCheck({kind:"uuid",...errorUtil.errToObj(message)})}nanoid(message){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(message)})}cuid(message){return this._addCheck({kind:"cuid",...errorUtil.errToObj(message)})}cuid2(message){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(message)})}ulid(message){return this._addCheck({kind:"ulid",...errorUtil.errToObj(message)})}base64(message){return this._addCheck({kind:"base64",...errorUtil.errToObj(message)})}ip(options){return this._addCheck({kind:"ip",...errorUtil.errToObj(options)})}datetime(options){var _a2,_b;return"string"==typeof options?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:options}):this._addCheck({kind:"datetime",precision:void 0===(null==options?void 0:options.precision)?null:null==options?void 0:options.precision,offset:null!==(_a2=null==options?void 0:options.offset)&&void 0!==_a2&&_a2,local:null!==(_b=null==options?void 0:options.local)&&void 0!==_b&&_b,...errorUtil.errToObj(null==options?void 0:options.message)})}date(message){return this._addCheck({kind:"date",message:message})}time(options){return"string"==typeof options?this._addCheck({kind:"time",precision:null,message:options}):this._addCheck({kind:"time",precision:void 0===(null==options?void 0:options.precision)?null:null==options?void 0:options.precision,...errorUtil.errToObj(null==options?void 0:options.message)})}duration(message){return this._addCheck({kind:"duration",...errorUtil.errToObj(message)})}regex(regex,message){return this._addCheck({kind:"regex",regex:regex,...errorUtil.errToObj(message)})}includes(value,options){return this._addCheck({kind:"includes",value:value,position:null==options?void 0:options.position,...errorUtil.errToObj(null==options?void 0:options.message)})}startsWith(value,message){return this._addCheck({kind:"startsWith",value:value,...errorUtil.errToObj(message)})}endsWith(value,message){return this._addCheck({kind:"endsWith",value:value,...errorUtil.errToObj(message)})}min(minLength,message){return this._addCheck({kind:"min",value:minLength,...errorUtil.errToObj(message)})}max(maxLength,message){return this._addCheck({kind:"max",value:maxLength,...errorUtil.errToObj(message)})}length(len,message){return this._addCheck({kind:"length",value:len,...errorUtil.errToObj(message)})}nonempty(message){return this.min(1,errorUtil.errToObj(message))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((ch=>"datetime"===ch.kind))}get isDate(){return!!this._def.checks.find((ch=>"date"===ch.kind))}get isTime(){return!!this._def.checks.find((ch=>"time"===ch.kind))}get isDuration(){return!!this._def.checks.find((ch=>"duration"===ch.kind))}get isEmail(){return!!this._def.checks.find((ch=>"email"===ch.kind))}get isURL(){return!!this._def.checks.find((ch=>"url"===ch.kind))}get isEmoji(){return!!this._def.checks.find((ch=>"emoji"===ch.kind))}get isUUID(){return!!this._def.checks.find((ch=>"uuid"===ch.kind))}get isNANOID(){return!!this._def.checks.find((ch=>"nanoid"===ch.kind))}get isCUID(){return!!this._def.checks.find((ch=>"cuid"===ch.kind))}get isCUID2(){return!!this._def.checks.find((ch=>"cuid2"===ch.kind))}get isULID(){return!!this._def.checks.find((ch=>"ulid"===ch.kind))}get isIP(){return!!this._def.checks.find((ch=>"ip"===ch.kind))}get isBase64(){return!!this._def.checks.find((ch=>"base64"===ch.kind))}get minLength(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxLength(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}}function floatSafeRemainder(val,step){const valDecCount=(val.toString().split(".")[1]||"").length,stepDecCount=(step.toString().split(".")[1]||"").length,decCount=valDecCount>stepDecCount?valDecCount:stepDecCount;return parseInt(val.toFixed(decCount).replace(".",""))%parseInt(step.toFixed(decCount).replace(".",""))/Math.pow(10,decCount)}ZodString.create=params=>{var _a2;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:null!==(_a2=null==params?void 0:params.coerce)&&void 0!==_a2&&_a2,...processCreateParams(params)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(input){this._def.coerce&&(input.data=Number(input.data));if(this._getType(input)!==ZodParsedType.number){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ctx2.parsedType}),INVALID}let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("int"===check.kind)util.isInteger(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:check.message}),status.dirty());else if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else"multipleOf"===check.kind?0!==floatSafeRemainder(input.data,check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):"finite"===check.kind?Number.isFinite(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_finite,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:kind,value:value,inclusive:inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new ZodNumber({...this._def,checks:[...this._def.checks,check]})}int(message){return this._addCheck({kind:"int",message:errorUtil.toString(message)})}positive(message){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value:value,message:errorUtil.toString(message)})}finite(message){return this._addCheck({kind:"finite",message:errorUtil.toString(message)})}safe(message){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(message)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(message)})}get minValue(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}get isInt(){return!!this._def.checks.find((ch=>"int"===ch.kind||"multipleOf"===ch.kind&&util.isInteger(ch.value)))}get isFinite(){let max=null,min=null;for(const ch of this._def.checks){if("finite"===ch.kind||"int"===ch.kind||"multipleOf"===ch.kind)return!0;"min"===ch.kind?(null===min||ch.value>min)&&(min=ch.value):"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value)}return Number.isFinite(min)&&Number.isFinite(max)}}ZodNumber.create=params=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(null==params?void 0:params.coerce)||!1,...processCreateParams(params)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(input){this._def.coerce&&(input.data=BigInt(input.data));if(this._getType(input)!==ZodParsedType.bigint){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ctx2.parsedType}),INVALID}let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,type:"bigint",minimum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,type:"bigint",maximum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else"multipleOf"===check.kind?input.data%check.value!==BigInt(0)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:kind,value:value,inclusive:inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new ZodBigInt({...this._def,checks:[...this._def.checks,check]})}positive(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value:value,message:errorUtil.toString(message)})}get minValue(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}}ZodBigInt.create=params=>{var _a2;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:null!==(_a2=null==params?void 0:params.coerce)&&void 0!==_a2&&_a2,...processCreateParams(params)})};class ZodBoolean extends ZodType{_parse(input){this._def.coerce&&(input.data=Boolean(input.data));if(this._getType(input)!==ZodParsedType.boolean){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodBoolean.create=params=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(null==params?void 0:params.coerce)||!1,...processCreateParams(params)});class ZodDate extends ZodType{_parse(input){this._def.coerce&&(input.data=new Date(input.data));if(this._getType(input)!==ZodParsedType.date){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ctx2.parsedType}),INVALID}if(isNaN(input.data.getTime())){return addIssueToContext(this._getOrReturnCtx(input),{code:ZodIssueCode.invalid_date}),INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)"min"===check.kind?input.data.getTime()<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,message:check.message,inclusive:!0,exact:!1,minimum:check.value,type:"date"}),status.dirty()):"max"===check.kind?input.data.getTime()>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,message:check.message,inclusive:!0,exact:!1,maximum:check.value,type:"date"}),status.dirty()):util.assertNever(check);return{status:status.value,value:new Date(input.data.getTime())}}_addCheck(check){return new ZodDate({...this._def,checks:[...this._def.checks,check]})}min(minDate,message){return this._addCheck({kind:"min",value:minDate.getTime(),message:errorUtil.toString(message)})}max(maxDate,message){return this._addCheck({kind:"max",value:maxDate.getTime(),message:errorUtil.toString(message)})}get minDate(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return null!=min?new Date(min):null}get maxDate(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return null!=max?new Date(max):null}}ZodDate.create=params=>new ZodDate({checks:[],coerce:(null==params?void 0:params.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(params)});class ZodSymbol extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.symbol){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodSymbol.create=params=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(params)});class ZodUndefined extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodUndefined.create=params=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(params)});class ZodNull extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.null){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodNull.create=params=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(params)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(input){return OK(input.data)}}ZodAny.create=params=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(params)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(input){return OK(input.data)}}ZodUnknown.create=params=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(params)});class ZodNever extends ZodType{_parse(input){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ctx.parsedType}),INVALID}}ZodNever.create=params=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(params)});class ZodVoid extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodVoid.create=params=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(params)});class ZodArray extends ZodType{_parse(input){const{ctx:ctx,status:status}=this._processInputParams(input),def=this._def;if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(null!==def.exactLength){const tooBig=ctx.data.length>def.exactLength.value,tooSmall=ctx.data.length<def.exactLength.value;(tooBig||tooSmall)&&(addIssueToContext(ctx,{code:tooBig?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:tooSmall?def.exactLength.value:void 0,maximum:tooBig?def.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:def.exactLength.message}),status.dirty())}if(null!==def.minLength&&ctx.data.length<def.minLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minLength.value,type:"array",inclusive:!0,exact:!1,message:def.minLength.message}),status.dirty()),null!==def.maxLength&&ctx.data.length>def.maxLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxLength.value,type:"array",inclusive:!0,exact:!1,message:def.maxLength.message}),status.dirty()),ctx.common.async)return Promise.all([...ctx.data].map(((item,i)=>def.type._parseAsync(new ParseInputLazyPath(ctx,item,ctx.path,i))))).then((result2=>ParseStatus.mergeArray(status,result2)));const result=[...ctx.data].map(((item,i)=>def.type._parseSync(new ParseInputLazyPath(ctx,item,ctx.path,i))));return ParseStatus.mergeArray(status,result)}get element(){return this._def.type}min(minLength,message){return new ZodArray({...this._def,minLength:{value:minLength,message:errorUtil.toString(message)}})}max(maxLength,message){return new ZodArray({...this._def,maxLength:{value:maxLength,message:errorUtil.toString(message)}})}length(len,message){return new ZodArray({...this._def,exactLength:{value:len,message:errorUtil.toString(message)}})}nonempty(message){return this.min(1,message)}}function deepPartialify(schema2){if(schema2 instanceof ZodObject){const newShape={};for(const key in schema2.shape){const fieldSchema=schema2.shape[key];newShape[key]=ZodOptional.create(deepPartialify(fieldSchema))}return new ZodObject({...schema2._def,shape:()=>newShape})}return schema2 instanceof ZodArray?new ZodArray({...schema2._def,type:deepPartialify(schema2.element)}):schema2 instanceof ZodOptional?ZodOptional.create(deepPartialify(schema2.unwrap())):schema2 instanceof ZodNullable?ZodNullable.create(deepPartialify(schema2.unwrap())):schema2 instanceof ZodTuple?ZodTuple.create(schema2.items.map((item=>deepPartialify(item)))):schema2}ZodArray.create=(schema2,params)=>new ZodArray({type:schema2,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(params)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const shape=this._def.shape(),keys=util.objectKeys(shape);return this._cached={shape:shape,keys:keys}}_parse(input){if(this._getType(input)!==ZodParsedType.object){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx2.parsedType}),INVALID}const{status:status,ctx:ctx}=this._processInputParams(input),{shape:shape,keys:shapeKeys}=this._getCached(),extraKeys=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const key in ctx.data)shapeKeys.includes(key)||extraKeys.push(key);const pairs=[];for(const key of shapeKeys){const keyValidator=shape[key],value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:keyValidator._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}if(this._def.catchall instanceof ZodNever){const unknownKeys=this._def.unknownKeys;if("passthrough"===unknownKeys)for(const key of extraKeys)pairs.push({key:{status:"valid",value:key},value:{status:"valid",value:ctx.data[key]}});else if("strict"===unknownKeys)extraKeys.length>0&&(addIssueToContext(ctx,{code:ZodIssueCode.unrecognized_keys,keys:extraKeys}),status.dirty());else if("strip"!==unknownKeys)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const catchall=this._def.catchall;for(const key of extraKeys){const value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:catchall._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}}return ctx.common.async?Promise.resolve().then((async()=>{const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key:key,value:value,alwaysSet:pair.alwaysSet})}return syncPairs})).then((syncPairs=>ParseStatus.mergeObjectSync(status,syncPairs))):ParseStatus.mergeObjectSync(status,pairs)}get shape(){return this._def.shape()}strict(message){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==message?{errorMap:(issue,ctx)=>{var _a2,_b,_c,_d;const defaultError=null!==(_c=null===(_b=(_a2=this._def).errorMap)||void 0===_b?void 0:_b.call(_a2,issue,ctx).message)&&void 0!==_c?_c:ctx.defaultError;return"unrecognized_keys"===issue.code?{message:null!==(_d=errorUtil.errToObj(message).message)&&void 0!==_d?_d:defaultError}:{message:defaultError}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(augmentation){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...augmentation})})}merge(merging){return new ZodObject({unknownKeys:merging._def.unknownKeys,catchall:merging._def.catchall,shape:()=>({...this._def.shape(),...merging._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(key,schema2){return this.augment({[key]:schema2})}catchall(index){return new ZodObject({...this._def,catchall:index})}pick(mask){const shape={};return util.objectKeys(mask).forEach((key=>{mask[key]&&this.shape[key]&&(shape[key]=this.shape[key])})),new ZodObject({...this._def,shape:()=>shape})}omit(mask){const shape={};return util.objectKeys(this.shape).forEach((key=>{mask[key]||(shape[key]=this.shape[key])})),new ZodObject({...this._def,shape:()=>shape})}deepPartial(){return deepPartialify(this)}partial(mask){const newShape={};return util.objectKeys(this.shape).forEach((key=>{const fieldSchema=this.shape[key];mask&&!mask[key]?newShape[key]=fieldSchema:newShape[key]=fieldSchema.optional()})),new ZodObject({...this._def,shape:()=>newShape})}required(mask){const newShape={};return util.objectKeys(this.shape).forEach((key=>{if(mask&&!mask[key])newShape[key]=this.shape[key];else{let newField=this.shape[key];for(;newField instanceof ZodOptional;)newField=newField._def.innerType;newShape[key]=newField}})),new ZodObject({...this._def,shape:()=>newShape})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.strictCreate=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.lazycreate=(shape,params)=>new ZodObject({shape:shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});class ZodUnion extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),options=this._def.options;if(ctx.common.async)return Promise.all(options.map((async option=>{const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null};return{result:await option._parseAsync({data:ctx.data,path:ctx.path,parent:childCtx}),ctx:childCtx}}))).then((function handleResults(results){for(const result of results)if("valid"===result.result.status)return result.result;for(const result of results)if("dirty"===result.result.status)return ctx.common.issues.push(...result.ctx.common.issues),result.result;const unionErrors=results.map((result=>new ZodError(result.ctx.common.issues)));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors:unionErrors}),INVALID}));{let dirty;const issues=[];for(const option of options){const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null},result=option._parseSync({data:ctx.data,path:ctx.path,parent:childCtx});if("valid"===result.status)return result;"dirty"!==result.status||dirty||(dirty={result:result,ctx:childCtx}),childCtx.common.issues.length&&issues.push(childCtx.common.issues)}if(dirty)return ctx.common.issues.push(...dirty.ctx.common.issues),dirty.result;const unionErrors=issues.map((issues2=>new ZodError(issues2)));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors:unionErrors}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(types,params)=>new ZodUnion({options:types,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(params)});const getDiscriminator=type=>type instanceof ZodLazy?getDiscriminator(type.schema):type instanceof ZodEffects?getDiscriminator(type.innerType()):type instanceof ZodLiteral?[type.value]:type instanceof ZodEnum?type.options:type instanceof ZodNativeEnum?util.objectValues(type.enum):type instanceof ZodDefault?getDiscriminator(type._def.innerType):type instanceof ZodUndefined?[void 0]:type instanceof ZodNull?[null]:type instanceof ZodOptional?[void 0,...getDiscriminator(type.unwrap())]:type instanceof ZodNullable?[null,...getDiscriminator(type.unwrap())]:type instanceof ZodBranded||type instanceof ZodReadonly?getDiscriminator(type.unwrap()):type instanceof ZodCatch?getDiscriminator(type._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.object)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx.parsedType}),INVALID;const discriminator=this.discriminator,discriminatorValue=ctx.data[discriminator],option=this.optionsMap.get(discriminatorValue);return option?ctx.common.async?option._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}):option._parseSync({data:ctx.data,path:ctx.path,parent:ctx}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[discriminator]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(discriminator,options,params){const optionsMap=new Map;for(const type of options){const discriminatorValues=getDiscriminator(type.shape[discriminator]);if(!discriminatorValues.length)throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);for(const value of discriminatorValues){if(optionsMap.has(value))throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);optionsMap.set(value,type)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:discriminator,options:options,optionsMap:optionsMap,...processCreateParams(params)})}}function mergeValues(a,b){const aType=getParsedType(a),bType=getParsedType(b);if(a===b)return{valid:!0,data:a};if(aType===ZodParsedType.object&&bType===ZodParsedType.object){const bKeys=util.objectKeys(b),sharedKeys=util.objectKeys(a).filter((key=>-1!==bKeys.indexOf(key))),newObj={...a,...b};for(const key of sharedKeys){const sharedValue=mergeValues(a[key],b[key]);if(!sharedValue.valid)return{valid:!1};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}if(aType===ZodParsedType.array&&bType===ZodParsedType.array){if(a.length!==b.length)return{valid:!1};const newArray=[];for(let index=0;index<a.length;index++){const sharedValue=mergeValues(a[index],b[index]);if(!sharedValue.valid)return{valid:!1};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}return aType===ZodParsedType.date&&bType===ZodParsedType.date&&+a===+b?{valid:!0,data:a}:{valid:!1}}class ZodIntersection extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input),handleParsed=(parsedLeft,parsedRight)=>{if(isAborted(parsedLeft)||isAborted(parsedRight))return INVALID;const merged=mergeValues(parsedLeft.value,parsedRight.value);return merged.valid?((isDirty(parsedLeft)||isDirty(parsedRight))&&status.dirty(),{status:status.value,value:merged.data}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ctx.common.async?Promise.all([this._def.left._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseAsync({data:ctx.data,path:ctx.path,parent:ctx})]).then((([left,right])=>handleParsed(left,right))):handleParsed(this._def.left._parseSync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseSync({data:ctx.data,path:ctx.path,parent:ctx}))}}ZodIntersection.create=(left,right,params)=>new ZodIntersection({left:left,right:right,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(params)});class ZodTuple extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(ctx.data.length<this._def.items.length)return addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ctx.data.length>this._def.items.length&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),status.dirty());const items=[...ctx.data].map(((item,itemIndex)=>{const schema2=this._def.items[itemIndex]||this._def.rest;return schema2?schema2._parse(new ParseInputLazyPath(ctx,item,ctx.path,itemIndex)):null})).filter((x=>!!x));return ctx.common.async?Promise.all(items).then((results=>ParseStatus.mergeArray(status,results))):ParseStatus.mergeArray(status,items)}get items(){return this._def.items}rest(rest){return new ZodTuple({...this._def,rest:rest})}}ZodTuple.create=(schemas,params)=>{if(!Array.isArray(schemas))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:schemas,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(params)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.object)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx.parsedType}),INVALID;const pairs=[],keyType=this._def.keyType,valueType=this._def.valueType;for(const key in ctx.data)pairs.push({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,key)),value:valueType._parse(new ParseInputLazyPath(ctx,ctx.data[key],ctx.path,key)),alwaysSet:key in ctx.data});return ctx.common.async?ParseStatus.mergeObjectAsync(status,pairs):ParseStatus.mergeObjectSync(status,pairs)}get element(){return this._def.valueType}static create(first,second,third){return new ZodRecord(second instanceof ZodType?{keyType:first,valueType:second,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(third)}:{keyType:ZodString.create(),valueType:first,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(second)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.map)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ctx.parsedType}),INVALID;const keyType=this._def.keyType,valueType=this._def.valueType,pairs=[...ctx.data.entries()].map((([key,value],index)=>({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,[index,"key"])),value:valueType._parse(new ParseInputLazyPath(ctx,value,ctx.path,[index,"value"]))})));if(ctx.common.async){const finalMap=new Map;return Promise.resolve().then((async()=>{for(const pair of pairs){const key=await pair.key,value=await pair.value;if("aborted"===key.status||"aborted"===value.status)return INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}))}{const finalMap=new Map;for(const pair of pairs){const key=pair.key,value=pair.value;if("aborted"===key.status||"aborted"===value.status)return INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}}}ZodMap.create=(keyType,valueType,params)=>new ZodMap({valueType:valueType,keyType:keyType,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(params)});class ZodSet extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.set)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ctx.parsedType}),INVALID;const def=this._def;null!==def.minSize&&ctx.data.size<def.minSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minSize.value,type:"set",inclusive:!0,exact:!1,message:def.minSize.message}),status.dirty()),null!==def.maxSize&&ctx.data.size>def.maxSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxSize.value,type:"set",inclusive:!0,exact:!1,message:def.maxSize.message}),status.dirty());const valueType=this._def.valueType;function finalizeSet(elements2){const parsedSet=new Set;for(const element of elements2){if("aborted"===element.status)return INVALID;"dirty"===element.status&&status.dirty(),parsedSet.add(element.value)}return{status:status.value,value:parsedSet}}const elements=[...ctx.data.values()].map(((item,i)=>valueType._parse(new ParseInputLazyPath(ctx,item,ctx.path,i))));return ctx.common.async?Promise.all(elements).then((elements2=>finalizeSet(elements2))):finalizeSet(elements)}min(minSize,message){return new ZodSet({...this._def,minSize:{value:minSize,message:errorUtil.toString(message)}})}max(maxSize,message){return new ZodSet({...this._def,maxSize:{value:maxSize,message:errorUtil.toString(message)}})}size(size,message){return this.min(size,message).max(size,message)}nonempty(message){return this.min(1,message)}}ZodSet.create=(valueType,params)=>new ZodSet({valueType:valueType,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(params)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(input){const{ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.function)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ctx.parsedType}),INVALID;function makeArgsIssue(args,error){return makeIssue({data:args,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,getErrorMap(),errorMap].filter((x=>!!x)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:error}})}function makeReturnsIssue(returns,error){return makeIssue({data:returns,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,getErrorMap(),errorMap].filter((x=>!!x)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:error}})}const params={errorMap:ctx.common.contextualErrorMap},fn=ctx.data;if(this._def.returns instanceof ZodPromise){const me=this;return OK((async function(...args){const error=new ZodError([]),parsedArgs=await me._def.args.parseAsync(args,params).catch((e=>{throw error.addIssue(makeArgsIssue(args,e)),error})),result=await Reflect.apply(fn,this,parsedArgs);return await me._def.returns._def.type.parseAsync(result,params).catch((e=>{throw error.addIssue(makeReturnsIssue(result,e)),error}))}))}{const me=this;return OK((function(...args){const parsedArgs=me._def.args.safeParse(args,params);if(!parsedArgs.success)throw new ZodError([makeArgsIssue(args,parsedArgs.error)]);const result=Reflect.apply(fn,this,parsedArgs.data),parsedReturns=me._def.returns.safeParse(result,params);if(!parsedReturns.success)throw new ZodError([makeReturnsIssue(result,parsedReturns.error)]);return parsedReturns.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...items){return new ZodFunction({...this._def,args:ZodTuple.create(items).rest(ZodUnknown.create())})}returns(returnType){return new ZodFunction({...this._def,returns:returnType})}implement(func){return this.parse(func)}strictImplement(func){return this.parse(func)}static create(args,returns,params){return new ZodFunction({args:args||ZodTuple.create([]).rest(ZodUnknown.create()),returns:returns||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(params)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(input){const{ctx:ctx}=this._processInputParams(input);return this._def.getter()._parse({data:ctx.data,path:ctx.path,parent:ctx})}}ZodLazy.create=(getter,params)=>new ZodLazy({getter:getter,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(params)});class ZodLiteral extends ZodType{_parse(input){if(input.data!==this._def.value){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:input.data}}get value(){return this._def.value}}function createZodEnum(values,params){return new ZodEnum({values:values,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(params)})}ZodLiteral.create=(value,params)=>new ZodLiteral({value:value,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(params)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(input){if("string"!=typeof input.data){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodEnum_cache)||__classPrivateFieldSet$1(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet$1(this,_ZodEnum_cache).has(input.data)){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get options(){return this._def.values}get enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Values(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}extract(values,newDef=this._def){return ZodEnum.create(values,{...this._def,...newDef})}exclude(values,newDef=this._def){return ZodEnum.create(this.options.filter((opt=>!values.includes(opt))),{...this._def,...newDef})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(input){const nativeEnumValues=util.getValidEnumValues(this._def.values),ctx=this._getOrReturnCtx(input);if(ctx.parsedType!==ZodParsedType.string&&ctx.parsedType!==ZodParsedType.number){const expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodNativeEnum_cache)||__classPrivateFieldSet$1(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet$1(this,_ZodNativeEnum_cache).has(input.data)){const expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(values,params)=>new ZodNativeEnum({values:values,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(params)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(input){const{ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.promise&&!1===ctx.common.async)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ctx.parsedType}),INVALID;const promisified=ctx.parsedType===ZodParsedType.promise?ctx.data:Promise.resolve(ctx.data);return OK(promisified.then((data=>this._def.type.parseAsync(data,{path:ctx.path,errorMap:ctx.common.contextualErrorMap}))))}}ZodPromise.create=(schema2,params)=>new ZodPromise({type:schema2,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(params)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input),effect=this._def.effect||null,checkCtx={addIssue:arg=>{addIssueToContext(ctx,arg),arg.fatal?status.abort():status.dirty()},get path(){return ctx.path}};if(checkCtx.addIssue=checkCtx.addIssue.bind(checkCtx),"preprocess"===effect.type){const processed=effect.transform(ctx.data,checkCtx);if(ctx.common.async)return Promise.resolve(processed).then((async processed2=>{if("aborted"===status.value)return INVALID;const result=await this._def.schema._parseAsync({data:processed2,path:ctx.path,parent:ctx});return"aborted"===result.status?INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result}));{if("aborted"===status.value)return INVALID;const result=this._def.schema._parseSync({data:processed,path:ctx.path,parent:ctx});return"aborted"===result.status?INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result}}if("refinement"===effect.type){const executeRefinement=acc=>{const result=effect.refinement(acc,checkCtx);if(ctx.common.async)return Promise.resolve(result);if(result instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return acc};if(!1===ctx.common.async){const inner=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inner.status?INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value),{status:status.value,value:inner.value})}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then((inner=>"aborted"===inner.status?INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value).then((()=>({status:status.value,value:inner.value}))))))}if("transform"===effect.type){if(!1===ctx.common.async){const base=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});if(!isValid(base))return base;const result=effect.transform(base.value,checkCtx);if(result instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:status.value,value:result}}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then((base=>isValid(base)?Promise.resolve(effect.transform(base.value,checkCtx)).then((result=>({status:status.value,value:result}))):base))}util.assertNever(effect)}}ZodEffects.create=(schema2,effect,params)=>new ZodEffects({schema:schema2,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:effect,...processCreateParams(params)}),ZodEffects.createWithPreprocess=(preprocess,schema2,params)=>new ZodEffects({schema:schema2,effect:{type:"preprocess",transform:preprocess},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(params)});class ZodOptional extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodOptional.create=(type,params)=>new ZodOptional({innerType:type,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(params)});class ZodNullable extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.null?OK(null):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodNullable.create=(type,params)=>new ZodNullable({innerType:type,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(params)});class ZodDefault extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input);let data=ctx.data;return ctx.parsedType===ZodParsedType.undefined&&(data=this._def.defaultValue()),this._def.innerType._parse({data:data,path:ctx.path,parent:ctx})}removeDefault(){return this._def.innerType}}ZodDefault.create=(type,params)=>new ZodDefault({innerType:type,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof params.default?params.default:()=>params.default,...processCreateParams(params)});class ZodCatch extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),newCtx={...ctx,common:{...ctx.common,issues:[]}},result=this._def.innerType._parse({data:newCtx.data,path:newCtx.path,parent:{...newCtx}});return isAsync(result)?result.then((result2=>({status:"valid",value:"valid"===result2.status?result2.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})}))):{status:"valid",value:"valid"===result.status?result.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(type,params)=>new ZodCatch({innerType:type,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof params.catch?params.catch:()=>params.catch,...processCreateParams(params)});class ZodNaN extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.nan){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ctx.parsedType}),INVALID}return{status:"valid",value:input.data}}}ZodNaN.create=params=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(params)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),data=ctx.data;return this._def.type._parse({data:data,path:ctx.path,parent:ctx})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.common.async){return(async()=>{const inResult=await this._def.in._parseAsync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?INVALID:"dirty"===inResult.status?(status.dirty(),DIRTY(inResult.value)):this._def.out._parseAsync({data:inResult.value,path:ctx.path,parent:ctx})})()}{const inResult=this._def.in._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?INVALID:"dirty"===inResult.status?(status.dirty(),{status:"dirty",value:inResult.value}):this._def.out._parseSync({data:inResult.value,path:ctx.path,parent:ctx})}}static create(a,b){return new ZodPipeline({in:a,out:b,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(input){const result=this._def.innerType._parse(input),freeze=data=>(isValid(data)&&(data.value=Object.freeze(data.value)),data);return isAsync(result)?result.then((data=>freeze(data))):freeze(result)}unwrap(){return this._def.innerType}}function custom(check,params={},fatal){return check?ZodAny.create().superRefine(((data,ctx)=>{var _a2,_b;if(!check(data)){const p="function"==typeof params?params(data):"string"==typeof params?{message:params}:params,_fatal=null===(_b=null!==(_a2=p.fatal)&&void 0!==_a2?_a2:fatal)||void 0===_b||_b,p2="string"==typeof p?{message:p}:p;ctx.addIssue({code:"custom",...p2,fatal:_fatal})}})):ZodAny.create()}ZodReadonly.create=(type,params)=>new ZodReadonly({innerType:type,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(params)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind,ZodFirstPartyTypeKind2;(ZodFirstPartyTypeKind2=ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={})).ZodString="ZodString",ZodFirstPartyTypeKind2.ZodNumber="ZodNumber",ZodFirstPartyTypeKind2.ZodNaN="ZodNaN",ZodFirstPartyTypeKind2.ZodBigInt="ZodBigInt",ZodFirstPartyTypeKind2.ZodBoolean="ZodBoolean",ZodFirstPartyTypeKind2.ZodDate="ZodDate",ZodFirstPartyTypeKind2.ZodSymbol="ZodSymbol",ZodFirstPartyTypeKind2.ZodUndefined="ZodUndefined",ZodFirstPartyTypeKind2.ZodNull="ZodNull",ZodFirstPartyTypeKind2.ZodAny="ZodAny",ZodFirstPartyTypeKind2.ZodUnknown="ZodUnknown",ZodFirstPartyTypeKind2.ZodNever="ZodNever",ZodFirstPartyTypeKind2.ZodVoid="ZodVoid",ZodFirstPartyTypeKind2.ZodArray="ZodArray",ZodFirstPartyTypeKind2.ZodObject="ZodObject",ZodFirstPartyTypeKind2.ZodUnion="ZodUnion",ZodFirstPartyTypeKind2.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ZodFirstPartyTypeKind2.ZodIntersection="ZodIntersection",ZodFirstPartyTypeKind2.ZodTuple="ZodTuple",ZodFirstPartyTypeKind2.ZodRecord="ZodRecord",ZodFirstPartyTypeKind2.ZodMap="ZodMap",ZodFirstPartyTypeKind2.ZodSet="ZodSet",ZodFirstPartyTypeKind2.ZodFunction="ZodFunction",ZodFirstPartyTypeKind2.ZodLazy="ZodLazy",ZodFirstPartyTypeKind2.ZodLiteral="ZodLiteral",ZodFirstPartyTypeKind2.ZodEnum="ZodEnum",ZodFirstPartyTypeKind2.ZodEffects="ZodEffects",ZodFirstPartyTypeKind2.ZodNativeEnum="ZodNativeEnum",ZodFirstPartyTypeKind2.ZodOptional="ZodOptional",ZodFirstPartyTypeKind2.ZodNullable="ZodNullable",ZodFirstPartyTypeKind2.ZodDefault="ZodDefault",ZodFirstPartyTypeKind2.ZodCatch="ZodCatch",ZodFirstPartyTypeKind2.ZodPromise="ZodPromise",ZodFirstPartyTypeKind2.ZodBranded="ZodBranded",ZodFirstPartyTypeKind2.ZodPipeline="ZodPipeline",ZodFirstPartyTypeKind2.ZodReadonly="ZodReadonly";const stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,coerce={string:arg=>ZodString.create({...arg,coerce:!0}),number:arg=>ZodNumber.create({...arg,coerce:!0}),boolean:arg=>ZodBoolean.create({...arg,coerce:!0}),bigint:arg=>ZodBigInt.create({...arg,coerce:!0}),date:arg=>ZodDate.create({...arg,coerce:!0})},NEVER$1=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:function setErrorMap(map){overrideErrorMap=map},getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:[],addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:INVALID,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType:ZodParsedType,getParsedType:getParsedType,ZodType:ZodType,datetimeRegex:datetimeRegex,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:BRAND,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:(cls,params={message:`Input not instance of ${cls.name}`})=>custom((data=>data instanceof cls),params),intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean:()=>booleanType().optional(),onumber:()=>numberType().optional(),optional:optionalType,ostring:()=>stringType().optional(),pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode:ZodIssueCode,quotelessJson:obj=>JSON.stringify(obj,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:ZodError}),BigInteger={exports:{}};!function(module){var bigInt2=function(){var BASE2=1e7,MAX_INT=9007199254740992,MAX_INT_ARR=smallToArray(MAX_INT),supportsNativeBigInt="function"==typeof BigInt;function Integer(v,radix,alphabet,caseSensitive){return void 0===v?Integer[0]:void 0!==radix&&(10!==+radix||alphabet)?parseBase(v,radix,alphabet,caseSensitive):parseValue(v)}function BigInteger2(value,sign){this.value=value,this.sign=sign,this.isSmall=!1}function SmallInteger(value){this.value=value,this.sign=value<0,this.isSmall=!0}function NativeBigInt(value){this.value=value}function isPrecise(n){return-9007199254740992<n&&n<MAX_INT}function smallToArray(n){return n<1e7?[n]:n<1e14?[n%1e7,Math.floor(n/1e7)]:[n%1e7,Math.floor(n/1e7)%1e7,Math.floor(n/1e14)]}function arrayToSmall(arr){trim(arr);var length=arr.length;if(length<4&&compareAbs(arr,MAX_INT_ARR)<0)switch(length){case 0:return 0;case 1:return arr[0];case 2:return arr[0]+arr[1]*BASE2;default:return arr[0]+(arr[1]+arr[2]*BASE2)*BASE2}return arr}function trim(v){for(var i2=v.length;0===v[--i2];);v.length=i2+1}function createArray(length){for(var x=new Array(length),i2=-1;++i2<length;)x[i2]=0;return x}function truncate2(n){return n>0?Math.floor(n):Math.ceil(n)}function add2(a,b){var sum,i2,l_a=a.length,l_b=b.length,r=new Array(l_a),carry=0,base=BASE2;for(i2=0;i2<l_b;i2++)carry=(sum=a[i2]+b[i2]+carry)>=base?1:0,r[i2]=sum-carry*base;for(;i2<l_a;)carry=(sum=a[i2]+carry)===base?1:0,r[i2++]=sum-carry*base;return carry>0&&r.push(carry),r}function addAny(a,b){return a.length>=b.length?add2(a,b):add2(b,a)}function addSmall(a,carry){var sum,i2,l=a.length,r=new Array(l),base=BASE2;for(i2=0;i2<l;i2++)sum=a[i2]-base+carry,carry=Math.floor(sum/base),r[i2]=sum-carry*base,carry+=1;for(;carry>0;)r[i2++]=carry%base,carry=Math.floor(carry/base);return r}function subtract2(a,b){var i2,difference,a_l=a.length,b_l=b.length,r=new Array(a_l),borrow=0;for(i2=0;i2<b_l;i2++)(difference=a[i2]-borrow-b[i2])<0?(difference+=1e7,borrow=1):borrow=0,r[i2]=difference;for(i2=b_l;i2<a_l;i2++){if(!((difference=a[i2]-borrow)<0)){r[i2++]=difference;break}difference+=1e7,r[i2]=difference}for(;i2<a_l;i2++)r[i2]=a[i2];return trim(r),r}function subtractSmall(a,b,sign){var i2,difference,l=a.length,r=new Array(l),carry=-b,base=BASE2;for(i2=0;i2<l;i2++)difference=a[i2]+carry,carry=Math.floor(difference/base),difference%=base,r[i2]=difference<0?difference+base:difference;return"number"==typeof(r=arrayToSmall(r))?(sign&&(r=-r),new SmallInteger(r)):new BigInteger2(r,sign)}function multiplyLong(a,b){var product,carry,i2,a_i,a_l=a.length,b_l=b.length,r=createArray(a_l+b_l);for(i2=0;i2<a_l;++i2){a_i=a[i2];for(var j=0;j<b_l;++j)product=a_i*b[j]+r[i2+j],carry=Math.floor(product/1e7),r[i2+j]=product-1e7*carry,r[i2+j+1]+=carry}return trim(r),r}function multiplySmall(a,b){var product,i2,l=a.length,r=new Array(l),base=BASE2,carry=0;for(i2=0;i2<l;i2++)product=a[i2]*b+carry,carry=Math.floor(product/base),r[i2]=product-carry*base;for(;carry>0;)r[i2++]=carry%base,carry=Math.floor(carry/base);return r}function shiftLeft(x,n){for(var r=[];n-- >0;)r.push(0);return r.concat(x)}function multiplyKaratsuba(x,y){var n=Math.max(x.length,y.length);if(n<=30)return multiplyLong(x,y);n=Math.ceil(n/2);var b=x.slice(n),a=x.slice(0,n),d=y.slice(n),c=y.slice(0,n),ac=multiplyKaratsuba(a,c),bd=multiplyKaratsuba(b,d),abcd=multiplyKaratsuba(addAny(a,b),addAny(c,d)),product=addAny(addAny(ac,shiftLeft(subtract2(subtract2(abcd,ac),bd),n)),shiftLeft(bd,2*n));return trim(product),product}function multiplySmallAndArray(a,b,sign){return new BigInteger2(a<BASE2?multiplySmall(b,a):multiplyLong(b,smallToArray(a)),sign)}function square(a){var product,carry,i2,a_i,l=a.length,r=createArray(l+l);for(i2=0;i2<l;i2++){carry=0-(a_i=a[i2])*a_i;for(var j=i2;j<l;j++)product=a_i*a[j]*2+r[i2+j]+carry,carry=Math.floor(product/1e7),r[i2+j]=product-1e7*carry;r[i2+l]=carry}return trim(r),r}function divModSmall(value,lambda){var i2,q,remainder,divisor,length=value.length,quotient=createArray(length);for(remainder=0,i2=length-1;i2>=0;--i2)remainder=(divisor=1e7*remainder+value[i2])-(q=truncate2(divisor/lambda))*lambda,quotient[i2]=0|q;return[quotient,0|remainder]}function divModAny(self2,v){var value,n=parseValue(v);if(supportsNativeBigInt)return[new NativeBigInt(self2.value/n.value),new NativeBigInt(self2.value%n.value)];var quotient,a=self2.value,b=n.value;if(0===b)throw new Error("Cannot divide by zero");if(self2.isSmall)return n.isSmall?[new SmallInteger(truncate2(a/b)),new SmallInteger(a%b)]:[Integer[0],self2];if(n.isSmall){if(1===b)return[self2,Integer[0]];if(-1==b)return[self2.negate(),Integer[0]];var abs=Math.abs(b);if(abs<BASE2){quotient=arrayToSmall((value=divModSmall(a,abs))[0]);var remainder=value[1];return self2.sign&&(remainder=-remainder),"number"==typeof quotient?(self2.sign!==n.sign&&(quotient=-quotient),[new SmallInteger(quotient),new SmallInteger(remainder)]):[new BigInteger2(quotient,self2.sign!==n.sign),new SmallInteger(remainder)]}b=smallToArray(abs)}var comparison=compareAbs(a,b);if(-1===comparison)return[Integer[0],self2];if(0===comparison)return[Integer[self2.sign===n.sign?1:-1],Integer[0]];value=a.length+b.length<=200?function divMod1(a,b){var quotientDigit,shift,carry,borrow,i2,l,q,a_l=a.length,b_l=b.length,base=BASE2,result=createArray(b.length),divisorMostSignificantDigit=b[b_l-1],lambda=Math.ceil(base/(2*divisorMostSignificantDigit)),remainder=multiplySmall(a,lambda),divisor=multiplySmall(b,lambda);for(remainder.length<=a_l&&remainder.push(0),divisor.push(0),divisorMostSignificantDigit=divisor[b_l-1],shift=a_l-b_l;shift>=0;shift--){for(quotientDigit=base-1,remainder[shift+b_l]!==divisorMostSignificantDigit&&(quotientDigit=Math.floor((remainder[shift+b_l]*base+remainder[shift+b_l-1])/divisorMostSignificantDigit)),carry=0,borrow=0,l=divisor.length,i2=0;i2<l;i2++)carry+=quotientDigit*divisor[i2],q=Math.floor(carry/base),borrow+=remainder[shift+i2]-(carry-q*base),carry=q,borrow<0?(remainder[shift+i2]=borrow+base,borrow=-1):(remainder[shift+i2]=borrow,borrow=0);for(;0!==borrow;){for(quotientDigit-=1,carry=0,i2=0;i2<l;i2++)(carry+=remainder[shift+i2]-base+divisor[i2])<0?(remainder[shift+i2]=carry+base,carry=0):(remainder[shift+i2]=carry,carry=1);borrow+=carry}result[shift]=quotientDigit}return remainder=divModSmall(remainder,lambda)[0],[arrayToSmall(result),arrayToSmall(remainder)]}(a,b):function divMod2(a,b){for(var guess,xlen,highx,highy,check,a_l=a.length,b_l=b.length,result=[],part=[],base=BASE2;a_l;)if(part.unshift(a[--a_l]),trim(part),compareAbs(part,b)<0)result.push(0);else{highx=part[(xlen=part.length)-1]*base+part[xlen-2],highy=b[b_l-1]*base+b[b_l-2],xlen>b_l&&(highx=(highx+1)*base),guess=Math.ceil(highx/highy);do{if(compareAbs(check=multiplySmall(b,guess),part)<=0)break;guess--}while(guess);result.push(guess),part=subtract2(part,check)}return result.reverse(),[arrayToSmall(result),arrayToSmall(part)]}(a,b),quotient=value[0];var qSign=self2.sign!==n.sign,mod=value[1],mSign=self2.sign;return"number"==typeof quotient?(qSign&&(quotient=-quotient),quotient=new SmallInteger(quotient)):quotient=new BigInteger2(quotient,qSign),"number"==typeof mod?(mSign&&(mod=-mod),mod=new SmallInteger(mod)):mod=new BigInteger2(mod,mSign),[quotient,mod]}function compareAbs(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var i2=a.length-1;i2>=0;i2--)if(a[i2]!==b[i2])return a[i2]>b[i2]?1:-1;return 0}function isBasicPrime(v){var n=v.abs();return!n.isUnit()&&(!!(n.equals(2)||n.equals(3)||n.equals(5))||!(n.isEven()||n.isDivisibleBy(3)||n.isDivisibleBy(5))&&(!!n.lesser(49)||void 0))}function millerRabinTest(n,a){for(var d,i2,x,nPrev=n.prev(),b=nPrev,r=0;b.isEven();)b=b.divide(2),r++;next:for(i2=0;i2<a.length;i2++)if(!n.lesser(a[i2])&&!(x=bigInt2(a[i2]).modPow(b,n)).isUnit()&&!x.equals(nPrev)){for(d=r-1;0!=d;d--){if((x=x.square().mod(n)).isUnit())return!1;if(x.equals(nPrev))continue next}return!1}return!0}BigInteger2.prototype=Object.create(Integer.prototype),SmallInteger.prototype=Object.create(Integer.prototype),NativeBigInt.prototype=Object.create(Integer.prototype),BigInteger2.prototype.add=function(v){var n=parseValue(v);if(this.sign!==n.sign)return this.subtract(n.negate());var a=this.value,b=n.value;return n.isSmall?new BigInteger2(addSmall(a,Math.abs(b)),this.sign):new BigInteger2(addAny(a,b),this.sign)},BigInteger2.prototype.plus=BigInteger2.prototype.add,SmallInteger.prototype.add=function(v){var n=parseValue(v),a=this.value;if(a<0!==n.sign)return this.subtract(n.negate());var b=n.value;if(n.isSmall){if(isPrecise(a+b))return new SmallInteger(a+b);b=smallToArray(Math.abs(b))}return new BigInteger2(addSmall(b,Math.abs(a)),a<0)},SmallInteger.prototype.plus=SmallInteger.prototype.add,NativeBigInt.prototype.add=function(v){return new NativeBigInt(this.value+parseValue(v).value)},NativeBigInt.prototype.plus=NativeBigInt.prototype.add,BigInteger2.prototype.subtract=function(v){var n=parseValue(v);if(this.sign!==n.sign)return this.add(n.negate());var a=this.value,b=n.value;return n.isSmall?subtractSmall(a,Math.abs(b),this.sign):function subtractAny(a,b,sign){var value;return compareAbs(a,b)>=0?value=subtract2(a,b):(value=subtract2(b,a),sign=!sign),"number"==typeof(value=arrayToSmall(value))?(sign&&(value=-value),new SmallInteger(value)):new BigInteger2(value,sign)}(a,b,this.sign)},BigInteger2.prototype.minus=BigInteger2.prototype.subtract,SmallInteger.prototype.subtract=function(v){var n=parseValue(v),a=this.value;if(a<0!==n.sign)return this.add(n.negate());var b=n.value;return n.isSmall?new SmallInteger(a-b):subtractSmall(b,Math.abs(a),a>=0)},SmallInteger.prototype.minus=SmallInteger.prototype.subtract,NativeBigInt.prototype.subtract=function(v){return new NativeBigInt(this.value-parseValue(v).value)},NativeBigInt.prototype.minus=NativeBigInt.prototype.subtract,BigInteger2.prototype.negate=function(){return new BigInteger2(this.value,!this.sign)},SmallInteger.prototype.negate=function(){var sign=this.sign,small=new SmallInteger(-this.value);return small.sign=!sign,small},NativeBigInt.prototype.negate=function(){return new NativeBigInt(-this.value)},BigInteger2.prototype.abs=function(){return new BigInteger2(this.value,!1)},SmallInteger.prototype.abs=function(){return new SmallInteger(Math.abs(this.value))},NativeBigInt.prototype.abs=function(){return new NativeBigInt(this.value>=0?this.value:-this.value)},BigInteger2.prototype.multiply=function(v){var abs,n=parseValue(v),a=this.value,b=n.value,sign=this.sign!==n.sign;if(n.isSmall){if(0===b)return Integer[0];if(1===b)return this;if(-1===b)return this.negate();if((abs=Math.abs(b))<BASE2)return new BigInteger2(multiplySmall(a,abs),sign);b=smallToArray(abs)}return function useKaratsuba(l1,l2){return-.012*l1-.012*l2+15e-6*l1*l2>0}(a.length,b.length)?new BigInteger2(multiplyKaratsuba(a,b),sign):new BigInteger2(multiplyLong(a,b),sign)},BigInteger2.prototype.times=BigInteger2.prototype.multiply,SmallInteger.prototype._multiplyBySmall=function(a){return isPrecise(a.value*this.value)?new SmallInteger(a.value*this.value):multiplySmallAndArray(Math.abs(a.value),smallToArray(Math.abs(this.value)),this.sign!==a.sign)},BigInteger2.prototype._multiplyBySmall=function(a){return 0===a.value?Integer[0]:1===a.value?this:-1===a.value?this.negate():multiplySmallAndArray(Math.abs(a.value),this.value,this.sign!==a.sign)},SmallInteger.prototype.multiply=function(v){return parseValue(v)._multiplyBySmall(this)},SmallInteger.prototype.times=SmallInteger.prototype.multiply,NativeBigInt.prototype.multiply=function(v){return new NativeBigInt(this.value*parseValue(v).value)},NativeBigInt.prototype.times=NativeBigInt.prototype.multiply,BigInteger2.prototype.square=function(){return new BigInteger2(square(this.value),!1)},SmallInteger.prototype.square=function(){var value=this.value*this.value;return isPrecise(value)?new SmallInteger(value):new BigInteger2(square(smallToArray(Math.abs(this.value))),!1)},NativeBigInt.prototype.square=function(v){return new NativeBigInt(this.value*this.value)},BigInteger2.prototype.divmod=function(v){var result=divModAny(this,v);return{quotient:result[0],remainder:result[1]}},NativeBigInt.prototype.divmod=SmallInteger.prototype.divmod=BigInteger2.prototype.divmod,BigInteger2.prototype.divide=function(v){return divModAny(this,v)[0]},NativeBigInt.prototype.over=NativeBigInt.prototype.divide=function(v){return new NativeBigInt(this.value/parseValue(v).value)},SmallInteger.prototype.over=SmallInteger.prototype.divide=BigInteger2.prototype.over=BigInteger2.prototype.divide,BigInteger2.prototype.mod=function(v){return divModAny(this,v)[1]},NativeBigInt.prototype.mod=NativeBigInt.prototype.remainder=function(v){return new NativeBigInt(this.value%parseValue(v).value)},SmallInteger.prototype.remainder=SmallInteger.prototype.mod=BigInteger2.prototype.remainder=BigInteger2.prototype.mod,BigInteger2.prototype.pow=function(v){var value,x,y,n=parseValue(v),a=this.value,b=n.value;if(0===b)return Integer[1];if(0===a)return Integer[0];if(1===a)return Integer[1];if(-1===a)return n.isEven()?Integer[1]:Integer[-1];if(n.sign)return Integer[0];if(!n.isSmall)throw new Error("The exponent "+n.toString()+" is too large.");if(this.isSmall&&isPrecise(value=Math.pow(a,b)))return new SmallInteger(truncate2(value));for(x=this,y=Integer[1];!0&b&&(y=y.times(x),--b),0!==b;)b/=2,x=x.square();return y},SmallInteger.prototype.pow=BigInteger2.prototype.pow,NativeBigInt.prototype.pow=function(v){var n=parseValue(v),a=this.value,b=n.value,_0=BigInt(0),_1=BigInt(1),_2=BigInt(2);if(b===_0)return Integer[1];if(a===_0)return Integer[0];if(a===_1)return Integer[1];if(a===BigInt(-1))return n.isEven()?Integer[1]:Integer[-1];if(n.isNegative())return new NativeBigInt(_0);for(var x=this,y=Integer[1];(b&_1)===_1&&(y=y.times(x),--b),b!==_0;)b/=_2,x=x.square();return y},BigInteger2.prototype.modPow=function(exp2,mod){if(exp2=parseValue(exp2),(mod=parseValue(mod)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=Integer[1],base=this.mod(mod);for(exp2.isNegative()&&(exp2=exp2.multiply(Integer[-1]),base=base.modInv(mod));exp2.isPositive();){if(base.isZero())return Integer[0];exp2.isOdd()&&(r=r.multiply(base).mod(mod)),exp2=exp2.divide(2),base=base.square().mod(mod)}return r},NativeBigInt.prototype.modPow=SmallInteger.prototype.modPow=BigInteger2.prototype.modPow,BigInteger2.prototype.compareAbs=function(v){var n=parseValue(v),a=this.value,b=n.value;return n.isSmall?1:compareAbs(a,b)},SmallInteger.prototype.compareAbs=function(v){var n=parseValue(v),a=Math.abs(this.value),b=n.value;return n.isSmall?a===(b=Math.abs(b))?0:a>b?1:-1:-1},NativeBigInt.prototype.compareAbs=function(v){var a=this.value,b=parseValue(v).value;return(a=a>=0?a:-a)===(b=b>=0?b:-b)?0:a>b?1:-1},BigInteger2.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var n=parseValue(v),a=this.value,b=n.value;return this.sign!==n.sign?n.sign?1:-1:n.isSmall?this.sign?-1:1:compareAbs(a,b)*(this.sign?-1:1)},BigInteger2.prototype.compareTo=BigInteger2.prototype.compare,SmallInteger.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var n=parseValue(v),a=this.value,b=n.value;return n.isSmall?a==b?0:a>b?1:-1:a<0!==n.sign?a<0?-1:1:a<0?1:-1},SmallInteger.prototype.compareTo=SmallInteger.prototype.compare,NativeBigInt.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var a=this.value,b=parseValue(v).value;return a===b?0:a>b?1:-1},NativeBigInt.prototype.compareTo=NativeBigInt.prototype.compare,BigInteger2.prototype.equals=function(v){return 0===this.compare(v)},NativeBigInt.prototype.eq=NativeBigInt.prototype.equals=SmallInteger.prototype.eq=SmallInteger.prototype.equals=BigInteger2.prototype.eq=BigInteger2.prototype.equals,BigInteger2.prototype.notEquals=function(v){return 0!==this.compare(v)},NativeBigInt.prototype.neq=NativeBigInt.prototype.notEquals=SmallInteger.prototype.neq=SmallInteger.prototype.notEquals=BigInteger2.prototype.neq=BigInteger2.prototype.notEquals,BigInteger2.prototype.greater=function(v){return this.compare(v)>0},NativeBigInt.prototype.gt=NativeBigInt.prototype.greater=SmallInteger.prototype.gt=SmallInteger.prototype.greater=BigInteger2.prototype.gt=BigInteger2.prototype.greater,BigInteger2.prototype.lesser=function(v){return this.compare(v)<0},NativeBigInt.prototype.lt=NativeBigInt.prototype.lesser=SmallInteger.prototype.lt=SmallInteger.prototype.lesser=BigInteger2.prototype.lt=BigInteger2.prototype.lesser,BigInteger2.prototype.greaterOrEquals=function(v){return this.compare(v)>=0},NativeBigInt.prototype.geq=NativeBigInt.prototype.greaterOrEquals=SmallInteger.prototype.geq=SmallInteger.prototype.greaterOrEquals=BigInteger2.prototype.geq=BigInteger2.prototype.greaterOrEquals,BigInteger2.prototype.lesserOrEquals=function(v){return this.compare(v)<=0},NativeBigInt.prototype.leq=NativeBigInt.prototype.lesserOrEquals=SmallInteger.prototype.leq=SmallInteger.prototype.lesserOrEquals=BigInteger2.prototype.leq=BigInteger2.prototype.lesserOrEquals,BigInteger2.prototype.isEven=function(){return!(1&this.value[0])},SmallInteger.prototype.isEven=function(){return!(1&this.value)},NativeBigInt.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},BigInteger2.prototype.isOdd=function(){return!(1&~this.value[0])},SmallInteger.prototype.isOdd=function(){return!(1&~this.value)},NativeBigInt.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},BigInteger2.prototype.isPositive=function(){return!this.sign},SmallInteger.prototype.isPositive=function(){return this.value>0},NativeBigInt.prototype.isPositive=SmallInteger.prototype.isPositive,BigInteger2.prototype.isNegative=function(){return this.sign},SmallInteger.prototype.isNegative=function(){return this.value<0},NativeBigInt.prototype.isNegative=SmallInteger.prototype.isNegative,BigInteger2.prototype.isUnit=function(){return!1},SmallInteger.prototype.isUnit=function(){return 1===Math.abs(this.value)},NativeBigInt.prototype.isUnit=function(){return this.abs().value===BigInt(1)},BigInteger2.prototype.isZero=function(){return!1},SmallInteger.prototype.isZero=function(){return 0===this.value},NativeBigInt.prototype.isZero=function(){return this.value===BigInt(0)},BigInteger2.prototype.isDivisibleBy=function(v){var n=parseValue(v);return!n.isZero()&&(!!n.isUnit()||(0===n.compareAbs(2)?this.isEven():this.mod(n).isZero()))},NativeBigInt.prototype.isDivisibleBy=SmallInteger.prototype.isDivisibleBy=BigInteger2.prototype.isDivisibleBy,BigInteger2.prototype.isPrime=function(strict){var isPrime=isBasicPrime(this);if(undefined!==isPrime)return isPrime;var n=this.abs(),bits=n.bitLength();if(bits<=64)return millerRabinTest(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var logN=Math.log(2)*bits.toJSNumber(),t=Math.ceil(!0===strict?2*Math.pow(logN,2):logN),a=[],i2=0;i2<t;i2++)a.push(bigInt2(i2+2));return millerRabinTest(n,a)},NativeBigInt.prototype.isPrime=SmallInteger.prototype.isPrime=BigInteger2.prototype.isPrime,BigInteger2.prototype.isProbablePrime=function(iterations,rng2){var isPrime=isBasicPrime(this);if(undefined!==isPrime)return isPrime;for(var n=this.abs(),t=undefined===iterations?5:iterations,a=[],i2=0;i2<t;i2++)a.push(bigInt2.randBetween(2,n.minus(2),rng2));return millerRabinTest(n,a)},NativeBigInt.prototype.isProbablePrime=SmallInteger.prototype.isProbablePrime=BigInteger2.prototype.isProbablePrime,BigInteger2.prototype.modInv=function(n){for(var q,lastT,lastR,t=bigInt2.zero,newT=bigInt2.one,r=parseValue(n),newR=this.abs();!newR.isZero();)q=r.divide(newR),lastT=t,lastR=r,t=newT,r=newR,newT=lastT.subtract(q.multiply(newT)),newR=lastR.subtract(q.multiply(newR));if(!r.isUnit())throw new Error(this.toString()+" and "+n.toString()+" are not co-prime");return-1===t.compare(0)&&(t=t.add(n)),this.isNegative()?t.negate():t},NativeBigInt.prototype.modInv=SmallInteger.prototype.modInv=BigInteger2.prototype.modInv,BigInteger2.prototype.next=function(){var value=this.value;return this.sign?subtractSmall(value,1,this.sign):new BigInteger2(addSmall(value,1),this.sign)},SmallInteger.prototype.next=function(){var value=this.value;return value+1<MAX_INT?new SmallInteger(value+1):new BigInteger2(MAX_INT_ARR,!1)},NativeBigInt.prototype.next=function(){return new NativeBigInt(this.value+BigInt(1))},BigInteger2.prototype.prev=function(){var value=this.value;return this.sign?new BigInteger2(addSmall(value,1),!0):subtractSmall(value,1,this.sign)},SmallInteger.prototype.prev=function(){var value=this.value;return value-1>-9007199254740992?new SmallInteger(value-1):new BigInteger2(MAX_INT_ARR,!0)},NativeBigInt.prototype.prev=function(){return new NativeBigInt(this.value-BigInt(1))};for(var powersOfTwo=[1];2*powersOfTwo[powersOfTwo.length-1]<=BASE2;)powersOfTwo.push(2*powersOfTwo[powersOfTwo.length-1]);var powers2Length=powersOfTwo.length,highestPower2=powersOfTwo[powers2Length-1];function shift_isSmall(n){return Math.abs(n)<=BASE2}function bitwise(x,y,fn){y=parseValue(y);for(var xSign=x.isNegative(),ySign=y.isNegative(),xRem=xSign?x.not():x,yRem=ySign?y.not():y,xDigit=0,yDigit=0,xDivMod=null,yDivMod=null,result=[];!xRem.isZero()||!yRem.isZero();)xDigit=(xDivMod=divModAny(xRem,highestPower2))[1].toJSNumber(),xSign&&(xDigit=highestPower2-1-xDigit),yDigit=(yDivMod=divModAny(yRem,highestPower2))[1].toJSNumber(),ySign&&(yDigit=highestPower2-1-yDigit),xRem=xDivMod[0],yRem=yDivMod[0],result.push(fn(xDigit,yDigit));for(var sum=0!==fn(xSign?1:0,ySign?1:0)?bigInt2(-1):bigInt2(0),i2=result.length-1;i2>=0;i2-=1)sum=sum.multiply(highestPower2).add(bigInt2(result[i2]));return sum}BigInteger2.prototype.shiftLeft=function(v){var n=parseValue(v).toJSNumber();if(!shift_isSmall(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftRight(-n);var result=this;if(result.isZero())return result;for(;n>=powers2Length;)result=result.multiply(highestPower2),n-=powers2Length-1;return result.multiply(powersOfTwo[n])},NativeBigInt.prototype.shiftLeft=SmallInteger.prototype.shiftLeft=BigInteger2.prototype.shiftLeft,BigInteger2.prototype.shiftRight=function(v){var remQuo,n=parseValue(v).toJSNumber();if(!shift_isSmall(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var result=this;n>=powers2Length;){if(result.isZero()||result.isNegative()&&result.isUnit())return result;result=(remQuo=divModAny(result,highestPower2))[1].isNegative()?remQuo[0].prev():remQuo[0],n-=powers2Length-1}return(remQuo=divModAny(result,powersOfTwo[n]))[1].isNegative()?remQuo[0].prev():remQuo[0]},NativeBigInt.prototype.shiftRight=SmallInteger.prototype.shiftRight=BigInteger2.prototype.shiftRight,BigInteger2.prototype.not=function(){return this.negate().prev()},NativeBigInt.prototype.not=SmallInteger.prototype.not=BigInteger2.prototype.not,BigInteger2.prototype.and=function(n){return bitwise(this,n,(function(a,b){return a&b}))},NativeBigInt.prototype.and=SmallInteger.prototype.and=BigInteger2.prototype.and,BigInteger2.prototype.or=function(n){return bitwise(this,n,(function(a,b){return a|b}))},NativeBigInt.prototype.or=SmallInteger.prototype.or=BigInteger2.prototype.or,BigInteger2.prototype.xor=function(n){return bitwise(this,n,(function(a,b){return a^b}))},NativeBigInt.prototype.xor=SmallInteger.prototype.xor=BigInteger2.prototype.xor;function roughLOB(n){var v=n.value,x="number"==typeof v?1073741824|v:"bigint"==typeof v?v|BigInt(1073741824):v[0]+v[1]*BASE2|1073758208;return x&-x}function integerLogarithm(value,base){if(base.compareTo(value)<=0){var tmp=integerLogarithm(value,base.square(base)),p=tmp.p,e=tmp.e,t=p.multiply(base);return t.compareTo(value)<=0?{p:t,e:2*e+1}:{p:p,e:2*e}}return{p:bigInt2(1),e:0}}function max(a,b){return a=parseValue(a),b=parseValue(b),a.greater(b)?a:b}function min(a,b){return a=parseValue(a),b=parseValue(b),a.lesser(b)?a:b}function gcd(a,b){if(a=parseValue(a).abs(),b=parseValue(b).abs(),a.equals(b))return a;if(a.isZero())return b;if(b.isZero())return a;for(var d,t,c=Integer[1];a.isEven()&&b.isEven();)d=min(roughLOB(a),roughLOB(b)),a=a.divide(d),b=b.divide(d),c=c.multiply(d);for(;a.isEven();)a=a.divide(roughLOB(a));do{for(;b.isEven();)b=b.divide(roughLOB(b));a.greater(b)&&(t=b,b=a,a=t),b=b.subtract(a)}while(!b.isZero());return c.isUnit()?a:a.multiply(c)}BigInteger2.prototype.bitLength=function(){var n=this;return n.compareTo(bigInt2(0))<0&&(n=n.negate().subtract(bigInt2(1))),0===n.compareTo(bigInt2(0))?bigInt2(0):bigInt2(integerLogarithm(n,bigInt2(2)).e).add(bigInt2(1))},NativeBigInt.prototype.bitLength=SmallInteger.prototype.bitLength=BigInteger2.prototype.bitLength;var parseBase=function(text,base,alphabet,caseSensitive){alphabet=alphabet||"0123456789abcdefghijklmnopqrstuvwxyz",text=String(text),caseSensitive||(text=text.toLowerCase(),alphabet=alphabet.toLowerCase());var i2,length=text.length,absBase=Math.abs(base),alphabetValues={};for(i2=0;i2<alphabet.length;i2++)alphabetValues[alphabet[i2]]=i2;for(i2=0;i2<length;i2++){if("-"!==(c=text[i2])&&(c in alphabetValues&&alphabetValues[c]>=absBase)){if("1"===c&&1===absBase)continue;throw new Error(c+" is not a valid digit in base "+base+".")}}base=parseValue(base);var digits=[],isNegative="-"===text[0];for(i2=isNegative?1:0;i2<text.length;i2++){var c;if((c=text[i2])in alphabetValues)digits.push(parseValue(alphabetValues[c]));else{if("<"!==c)throw new Error(c+" is not a valid character");var start=i2;do{i2++}while(">"!==text[i2]&&i2<text.length);digits.push(parseValue(text.slice(start+1,i2)))}}return parseBaseFromArray(digits,base,isNegative)};function parseBaseFromArray(digits,base,isNegative){var i2,val=Integer[0],pow=Integer[1];for(i2=digits.length-1;i2>=0;i2--)val=val.add(digits[i2].times(pow)),pow=pow.times(base);return isNegative?val.negate():val}function toBase(n,base){if((base=bigInt2(base)).isZero()){if(n.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(base.equals(-1)){if(n.isZero())return{value:[0],isNegative:!1};if(n.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-n.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var arr=Array.apply(null,Array(n.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return arr.unshift([1]),{value:[].concat.apply([],arr),isNegative:!1}}var neg=!1;if(n.isNegative()&&base.isPositive()&&(neg=!0,n=n.abs()),base.isUnit())return n.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(n.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:neg};for(var divmod,out=[],left=n;left.isNegative()||left.compareAbs(base)>=0;){divmod=left.divmod(base),left=divmod.quotient;var digit=divmod.remainder;digit.isNegative()&&(digit=base.minus(digit).abs(),left=left.next()),out.push(digit.toJSNumber())}return out.push(left.toJSNumber()),{value:out.reverse(),isNegative:neg}}function toBaseString(n,base,alphabet){var arr=toBase(n,base);return(arr.isNegative?"-":"")+arr.value.map((function(x){return function stringify(digit,alphabet){return digit<(alphabet=alphabet||"0123456789abcdefghijklmnopqrstuvwxyz").length?alphabet[digit]:"<"+digit+">"}(x,alphabet)})).join("")}function parseStringValue(v){if(isPrecise(+v)){var x=+v;if(x===truncate2(x))return supportsNativeBigInt?new NativeBigInt(BigInt(x)):new SmallInteger(x);throw new Error("Invalid integer: "+v)}var sign="-"===v[0];sign&&(v=v.slice(1));var split=v.split(/e/i);if(split.length>2)throw new Error("Invalid integer: "+split.join("e"));if(2===split.length){var exp2=split[1];if("+"===exp2[0]&&(exp2=exp2.slice(1)),(exp2=+exp2)!==truncate2(exp2)||!isPrecise(exp2))throw new Error("Invalid integer: "+exp2+" is not a valid exponent.");var text=split[0],decimalPlace=text.indexOf(".");if(decimalPlace>=0&&(exp2-=text.length-decimalPlace-1,text=text.slice(0,decimalPlace)+text.slice(decimalPlace+1)),exp2<0)throw new Error("Cannot include negative exponent part for integers");v=text+=new Array(exp2+1).join("0")}if(!/^([0-9][0-9]*)$/.test(v))throw new Error("Invalid integer: "+v);if(supportsNativeBigInt)return new NativeBigInt(BigInt(sign?"-"+v:v));for(var r=[],max2=v.length,min2=max2-7;max2>0;)r.push(+v.slice(min2,max2)),(min2-=7)<0&&(min2=0),max2-=7;return trim(r),new BigInteger2(r,sign)}function parseValue(v){return"number"==typeof v?function parseNumberValue(v){if(supportsNativeBigInt)return new NativeBigInt(BigInt(v));if(isPrecise(v)){if(v!==truncate2(v))throw new Error(v+" is not an integer.");return new SmallInteger(v)}return parseStringValue(v.toString())}(v):"string"==typeof v?parseStringValue(v):"bigint"==typeof v?new NativeBigInt(v):v}BigInteger2.prototype.toArray=function(radix){return toBase(this,radix)},SmallInteger.prototype.toArray=function(radix){return toBase(this,radix)},NativeBigInt.prototype.toArray=function(radix){return toBase(this,radix)},BigInteger2.prototype.toString=function(radix,alphabet){if(undefined===radix&&(radix=10),10!==radix||alphabet)return toBaseString(this,radix,alphabet);for(var digit,v=this.value,l=v.length,str=String(v[--l]);--l>=0;)digit=String(v[l]),str+="0000000".slice(digit.length)+digit;return(this.sign?"-":"")+str},SmallInteger.prototype.toString=function(radix,alphabet){return undefined===radix&&(radix=10),10!=radix||alphabet?toBaseString(this,radix,alphabet):String(this.value)},NativeBigInt.prototype.toString=SmallInteger.prototype.toString,NativeBigInt.prototype.toJSON=BigInteger2.prototype.toJSON=SmallInteger.prototype.toJSON=function(){return this.toString()},BigInteger2.prototype.valueOf=function(){return parseInt(this.toString(),10)},BigInteger2.prototype.toJSNumber=BigInteger2.prototype.valueOf,SmallInteger.prototype.valueOf=function(){return this.value},SmallInteger.prototype.toJSNumber=SmallInteger.prototype.valueOf,NativeBigInt.prototype.valueOf=NativeBigInt.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var i=0;i<1e3;i++)Integer[i]=parseValue(i),i>0&&(Integer[-i]=parseValue(-i));return Integer.one=Integer[1],Integer.zero=Integer[0],Integer.minusOne=Integer[-1],Integer.max=max,Integer.min=min,Integer.gcd=gcd,Integer.lcm=function lcm(a,b){return a=parseValue(a).abs(),b=parseValue(b).abs(),a.divide(gcd(a,b)).multiply(b)},Integer.isInstance=function(x){return x instanceof BigInteger2||x instanceof SmallInteger||x instanceof NativeBigInt},Integer.randBetween=function randBetween(a,b,rng2){a=parseValue(a),b=parseValue(b);var usedRNG=rng2||Math.random,low=min(a,b),range=max(a,b).subtract(low).add(1);if(range.isSmall)return low.add(Math.floor(usedRNG()*range));for(var digits=toBase(range,BASE2).value,result=[],restricted=!0,i2=0;i2<digits.length;i2++){var top=restricted?digits[i2]+(i2+1<digits.length?digits[i2+1]/BASE2:0):BASE2,digit=truncate2(usedRNG()*top);result.push(digit),digit<digits[i2]&&(restricted=!1)}return low.add(Integer.fromArray(result,BASE2,!1))},Integer.fromArray=function(digits,base,isNegative){return parseBaseFromArray(digits.map(parseValue),parseValue(base||10),isNegative)},Integer}();module.hasOwnProperty("exports")&&(module.exports=bigInt2)}(BigInteger);var bigInt=getDefaultExportFromCjs(BigInteger.exports);function fromHexReverseArray(hexValues,start,size){let value=0;for(let i=0;i<size;i++){const byte=hexValues[start+i];if(void 0===byte)break;value+=byte*16**i}return value}function toHexReverseArray(value){const sum=[];for(let i=0;i<value.length;i++){let s=Number(value[i]);for(let j=0;s||j<sum.length;j++)s+=10*(sum[j]||0),sum[j]=s%16,s=(s-sum[j])/16}return sum}class HighLow{static fromString(value){return new HighLow(function splitBigInt(value){const sum=toHexReverseArray(value),parts=Array(4);for(let i=0;i<4;i++)parts[3-i]=fromHexReverseArray(sum,4*i,4);return parts}(value),value)}static fromBit(index){const parts=Array(4),offset=Math.floor(index/16);for(let i=0;i<4;i++)parts[3-i]=i===offset?1<<index-16*offset:0;return new HighLow(parts)}constructor(parts,str){this.parts=parts,this.str=str}and({parts:parts}){return new HighLow(this.parts.map(((v,i)=>v&parts[i])))}or({parts:parts}){return new HighLow(this.parts.map(((v,i)=>v|parts[i])))}xor({parts:parts}){return new HighLow(this.parts.map(((v,i)=>v^parts[i])))}not(){return new HighLow(this.parts.map((v=>~v)))}equals({parts:parts}){return this.parts.every(((v,i)=>v===parts[i]))}toString(){if(null!=this.str)return this.str;const array=new Array(16);return this.parts.forEach(((value,offset)=>{const hex=toHexReverseArray(value.toString());for(let i=0;i<4;i++)array[i+4*offset]=hex[3-i]||0})),this.str=bigInt.fromArray(array,16).toString()}toJSON(){return this.toString()}}const SUPPORTS_BIGINT=function checkBrowserSupportsBigInt(){try{return BigInt,!0}catch(_a2){return!1}}();SUPPORTS_BIGINT&&null==BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return this.toString()});const HIGH_LOW_CACHE={},convertToBigFlag=SUPPORTS_BIGINT?function convertToBigFlagBigInt(value){return BigInt(value)}:function convertToBigFlagHighLow(value){return value instanceof HighLow?value:("number"==typeof value&&(value=value.toString()),null!=HIGH_LOW_CACHE[value]||(HIGH_LOW_CACHE[value]=HighLow.fromString(value)),HIGH_LOW_CACHE[value])},EMPTY_FLAG=convertToBigFlag(0),flagAnd=SUPPORTS_BIGINT?function flagAndBigInt(first=EMPTY_FLAG,second=EMPTY_FLAG){return first&second}:function flagAndHighLow(first=EMPTY_FLAG,second=EMPTY_FLAG){return first.and(second)},flagOr=SUPPORTS_BIGINT?function flagOrBigInt(first=EMPTY_FLAG,second=EMPTY_FLAG){return first|second}:function flagOrHighLow(first=EMPTY_FLAG,second=EMPTY_FLAG){return first.or(second)},flagXor=SUPPORTS_BIGINT?function flagXorBigInt(first=EMPTY_FLAG,second=EMPTY_FLAG){return first^second}:function flagXorHighLow(first=EMPTY_FLAG,second=EMPTY_FLAG){return first.xor(second)},flagEquals=SUPPORTS_BIGINT?function flagEqualsBigInt(first,second){return first===second}:function flagEqualsHighLow(first,second){return null==first||null==second?first==second:first.equals(second)};var RPCCloseCodes,RPCCloseCodes2,RPCErrorCodes,RPCErrorCodes2,Orientation,Orientation2,Platform,Platform2,BigFlagUtils={combine:function flagOrMultiple(...flags){let result=flags[0];for(let i=1;i<flags.length;i++)result=flagOr(result,flags[i]);return result},add:function flagAdd(base,flag){return flag===EMPTY_FLAG?base:flagOr(base,flag)},remove:function flagRemove(base,flag){return flag===EMPTY_FLAG?base:flagXor(base,flagAnd(base,flag))},filter:flagAnd,invert:SUPPORTS_BIGINT?function flagNotBigInt(first=EMPTY_FLAG){return~first}:function flagNotHighLow(first=EMPTY_FLAG){return first.not()},has:function flagHas(base,flag){return flagEquals(flagAnd(base,flag),flag)},hasAny:function flagHasAny(base,flag){return!flagEquals(flagAnd(base,flag),EMPTY_FLAG)},equals:flagEquals,deserialize:convertToBigFlag,getFlag:SUPPORTS_BIGINT?function getFlagBigInt(index){return BigInt(1)<<BigInt(index)}:function getFlagHighLow(index){return HighLow.fromBit(index)}};function zodCoerceUnhandledValue(inputObject){return preprocessType((arg=>{var _a2;const[objectKey]=null!==(_a2=Object.entries(inputObject).find((([,value])=>value===arg)))&&void 0!==_a2?_a2:[];return null!=arg&&void 0===objectKey?inputObject.UNHANDLED:arg}),stringType().or(numberType()))}(RPCCloseCodes2=RPCCloseCodes||(RPCCloseCodes={}))[RPCCloseCodes2.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",RPCCloseCodes2[RPCCloseCodes2.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",RPCCloseCodes2[RPCCloseCodes2.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",RPCCloseCodes2[RPCCloseCodes2.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",RPCCloseCodes2[RPCCloseCodes2.INVALID_ORIGIN=4001]="INVALID_ORIGIN",RPCCloseCodes2[RPCCloseCodes2.RATELIMITED=4002]="RATELIMITED",RPCCloseCodes2[RPCCloseCodes2.TOKEN_REVOKED=4003]="TOKEN_REVOKED",RPCCloseCodes2[RPCCloseCodes2.INVALID_VERSION=4004]="INVALID_VERSION",RPCCloseCodes2[RPCCloseCodes2.INVALID_ENCODING=4005]="INVALID_ENCODING",(RPCErrorCodes2=RPCErrorCodes||(RPCErrorCodes={}))[RPCErrorCodes2.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",RPCErrorCodes2[RPCErrorCodes2.INVALID_COMMAND=4002]="INVALID_COMMAND",RPCErrorCodes2[RPCErrorCodes2.INVALID_EVENT=4004]="INVALID_EVENT",RPCErrorCodes2[RPCErrorCodes2.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS",(Orientation2=Orientation||(Orientation={})).LANDSCAPE="landscape",Orientation2.PORTRAIT="portrait",(Platform2=Platform||(Platform={})).MOBILE="mobile",Platform2.DESKTOP="desktop",Object.freeze({CREATE_INSTANT_INVITE:BigFlagUtils.getFlag(0),ADMINISTRATOR:BigFlagUtils.getFlag(3)});const InitiateImageUploadResponseSchema=z.object({image_url:z.string()}),OpenShareMomentDialogRequestSchema=z.object({mediaUrl:z.string().max(1024)}),AuthenticateRequestSchema=z.object({access_token:z.union([z.string(),z.null()]).optional()}),AuthenticateResponseSchema=z.object({access_token:z.string(),user:z.object({username:z.string(),discriminator:z.string(),id:z.string(),avatar:z.union([z.string(),z.null()]).optional(),public_flags:z.number(),global_name:z.union([z.string(),z.null()]).optional()}),scopes:z.array(function fallbackToDefault(schema2){const transform2=custom().transform((data=>{const res=schema2.safeParse(data);return res.success?res.data:schema2._def.defaultValue()}));return transform2.overlayType=schema2,transform2}(z.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(z.literal(-1)).default(-1))),expires:z.string(),application:z.object({description:z.string(),icon:z.union([z.string(),z.null()]).optional(),id:z.string(),rpc_origins:z.array(z.string()).optional(),name:z.string()})}),GetActivityInstanceConnectedParticipantsResponseSchema=z.object({participants:z.array(z.object({id:z.string(),username:z.string(),global_name:z.union([z.string(),z.null()]).optional(),discriminator:z.string(),avatar:z.union([z.string(),z.null()]).optional(),flags:z.number(),bot:z.boolean(),avatar_decoration_data:z.union([z.object({asset:z.string(),skuId:z.string().optional()}),z.null()]).optional(),premium_type:z.union([z.number(),z.null()]).optional(),nickname:z.string().optional()}))});var Command,Command2;(Command2=Command||(Command={})).INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",Command2.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",Command2.AUTHENTICATE="AUTHENTICATE",Command2.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS";const emptyResponseSchema=z.object({}).optional().nullable(),emptyRequestSchema=z.void(),Schemas={[Command.INITIATE_IMAGE_UPLOAD]:{request:emptyRequestSchema,response:InitiateImageUploadResponseSchema},[Command.OPEN_SHARE_MOMENT_DIALOG]:{request:OpenShareMomentDialogRequestSchema,response:emptyResponseSchema},[Command.AUTHENTICATE]:{request:AuthenticateRequestSchema,response:AuthenticateResponseSchema},[Command.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:emptyRequestSchema,response:GetActivityInstanceConnectedParticipantsResponseSchema}};var Commands,Commands2;(Commands2=Commands||(Commands={})).AUTHORIZE="AUTHORIZE",Commands2.AUTHENTICATE="AUTHENTICATE",Commands2.GET_GUILDS="GET_GUILDS",Commands2.GET_GUILD="GET_GUILD",Commands2.GET_CHANNEL="GET_CHANNEL",Commands2.GET_CHANNELS="GET_CHANNELS",Commands2.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",Commands2.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",Commands2.SUBSCRIBE="SUBSCRIBE",Commands2.UNSUBSCRIBE="UNSUBSCRIBE",Commands2.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",Commands2.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",Commands2.SET_ACTIVITY="SET_ACTIVITY",Commands2.GET_SKUS="GET_SKUS",Commands2.GET_ENTITLEMENTS="GET_ENTITLEMENTS",Commands2.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",Commands2.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",Commands2.START_PURCHASE="START_PURCHASE",Commands2.SET_CONFIG="SET_CONFIG",Commands2.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",Commands2.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",Commands2.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",Commands2.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",Commands2.CAPTURE_LOG="CAPTURE_LOG",Commands2.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",Commands2.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",Commands2.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",Commands2.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",Commands2.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",Commands2.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",Commands2.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS";const ReceiveFramePayload=objectType({cmd:stringType(),data:unknownType(),evt:nullType(),nonce:stringType()}).passthrough();zodCoerceUnhandledValue(Object.assign(Object.assign({},AuthenticateResponseSchema.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1}));const User=objectType({id:stringType(),username:stringType(),discriminator:stringType(),global_name:stringType().optional().nullable(),avatar:stringType().optional().nullable(),avatar_decoration_data:objectType({asset:stringType(),sku_id:stringType().optional()}).nullable(),bot:booleanType(),flags:numberType().optional().nullable(),premium_type:numberType().optional().nullable()}),GuildMember=objectType({user:User,nick:stringType().optional().nullable(),roles:arrayType(stringType()),joined_at:stringType(),deaf:booleanType(),mute:booleanType()}),GuildMemberRPC=objectType({user_id:stringType(),nick:stringType().optional().nullable(),guild_id:stringType(),avatar:stringType().optional().nullable(),avatar_decoration_data:objectType({asset:stringType(),sku_id:stringType().optional().nullable()}).optional().nullable(),color_string:stringType().optional().nullable()}),Emoji=objectType({id:stringType(),name:stringType().optional().nullable(),roles:arrayType(stringType()).optional().nullable(),user:User.optional().nullable(),require_colons:booleanType().optional().nullable(),managed:booleanType().optional().nullable(),animated:booleanType().optional().nullable(),available:booleanType().optional().nullable()}),VoiceState=objectType({mute:booleanType(),deaf:booleanType(),self_mute:booleanType(),self_deaf:booleanType(),suppress:booleanType()}),UserVoiceState=objectType({mute:booleanType(),nick:stringType(),user:User,voice_state:VoiceState,volume:numberType()}),Status=zodCoerceUnhandledValue({UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"}),Activity=objectType({name:stringType(),type:numberType(),url:stringType().optional().nullable(),created_at:numberType().optional().nullable(),timestamps:objectType({start:numberType(),end:numberType()}).partial().optional().nullable(),application_id:stringType().optional().nullable(),details:stringType().optional().nullable(),state:stringType().optional().nullable(),emoji:Emoji.optional().nullable(),party:objectType({id:stringType().optional().nullable(),size:arrayType(numberType()).optional().nullable()}).optional().nullable(),assets:objectType({large_image:stringType().nullable(),large_text:stringType().nullable(),small_image:stringType().nullable(),small_text:stringType().nullable()}).partial().optional().nullable(),secrets:objectType({join:stringType(),match:stringType()}).partial().optional().nullable(),instance:booleanType().optional().nullable(),flags:numberType().optional().nullable()}),PermissionOverwrite=objectType({id:stringType(),type:zodCoerceUnhandledValue({UNHANDLED:-1,ROLE:0,MEMBER:1}),allow:stringType(),deny:stringType()}),ChannelTypesObject={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Channel=objectType({id:stringType(),type:zodCoerceUnhandledValue(ChannelTypesObject),guild_id:stringType().optional().nullable(),position:numberType().optional().nullable(),permission_overwrites:arrayType(PermissionOverwrite).optional().nullable(),name:stringType().optional().nullable(),topic:stringType().optional().nullable(),nsfw:booleanType().optional().nullable(),last_message_id:stringType().optional().nullable(),bitrate:numberType().optional().nullable(),user_limit:numberType().optional().nullable(),rate_limit_per_user:numberType().optional().nullable(),recipients:arrayType(User).optional().nullable(),icon:stringType().optional().nullable(),owner_id:stringType().optional().nullable(),application_id:stringType().optional().nullable(),parent_id:stringType().optional().nullable(),last_pin_timestamp:stringType().optional().nullable()}),PresenceUpdate=objectType({user:User,guild_id:stringType(),status:Status,activities:arrayType(Activity),client_status:objectType({desktop:Status,mobile:Status,web:Status}).partial()}),Role=objectType({id:stringType(),name:stringType(),color:numberType(),hoist:booleanType(),position:numberType(),permissions:stringType(),managed:booleanType(),mentionable:booleanType()});objectType({id:stringType(),name:stringType(),owner_id:stringType(),icon:stringType().nullable(),icon_hash:stringType().optional().nullable(),splash:stringType().nullable(),discovery_splash:stringType().nullable(),owner:booleanType().optional().nullable(),permissions:stringType().optional().nullable(),region:stringType(),afk_channel_id:stringType().nullable(),afk_timeout:numberType(),widget_enabled:booleanType().optional().nullable(),widget_channel_id:stringType().optional().nullable(),verification_level:numberType(),default_message_notifications:numberType(),explicit_content_filter:numberType(),roles:arrayType(Role),emojis:arrayType(Emoji),features:arrayType(stringType()),mfa_level:numberType(),application_id:stringType().nullable(),system_channel_id:stringType().nullable(),system_channel_flags:numberType(),rules_channel_id:stringType().nullable(),joined_at:stringType().optional().nullable(),large:booleanType().optional().nullable(),unavailable:booleanType().optional().nullable(),member_count:numberType().optional().nullable(),voice_states:arrayType(VoiceState).optional().nullable(),members:arrayType(GuildMember).optional().nullable(),channels:arrayType(Channel).optional().nullable(),presences:arrayType(PresenceUpdate).optional().nullable(),max_presences:numberType().optional().nullable(),max_members:numberType().optional().nullable(),vanity_url_code:stringType().nullable(),description:stringType().nullable(),banner:stringType().nullable(),premium_tier:numberType(),premium_subscription_count:numberType().optional().nullable(),preferred_locale:stringType(),public_updates_channel_id:stringType().nullable(),max_video_channel_users:numberType().optional().nullable(),approximate_member_count:numberType().optional().nullable(),approximate_presence_count:numberType().optional().nullable()});const ChannelMention=objectType({id:stringType(),guild_id:stringType(),type:numberType(),name:stringType()}),Attachment=objectType({id:stringType(),filename:stringType(),size:numberType(),url:stringType(),proxy_url:stringType(),height:numberType().optional().nullable(),width:numberType().optional().nullable()}),EmbedFooter=objectType({text:stringType(),icon_url:stringType().optional().nullable(),proxy_icon_url:stringType().optional().nullable()}),Image$1=objectType({url:stringType().optional().nullable(),proxy_url:stringType().optional().nullable(),height:numberType().optional().nullable(),width:numberType().optional().nullable()}),Video=Image$1.omit({proxy_url:!0}),EmbedProvider=objectType({name:stringType().optional().nullable(),url:stringType().optional().nullable()}),EmbedAuthor=objectType({name:stringType().optional().nullable(),url:stringType().optional().nullable(),icon_url:stringType().optional().nullable(),proxy_icon_url:stringType().optional().nullable()}),EmbedField=objectType({name:stringType(),value:stringType(),inline:booleanType()}),Embed=objectType({title:stringType().optional().nullable(),type:stringType().optional().nullable(),description:stringType().optional().nullable(),url:stringType().optional().nullable(),timestamp:stringType().optional().nullable(),color:numberType().optional().nullable(),footer:EmbedFooter.optional().nullable(),image:Image$1.optional().nullable(),thumbnail:Image$1.optional().nullable(),video:Video.optional().nullable(),provider:EmbedProvider.optional().nullable(),author:EmbedAuthor.optional().nullable(),fields:arrayType(EmbedField).optional().nullable()}),Reaction=objectType({count:numberType(),me:booleanType(),emoji:Emoji}),MessageActivity=objectType({type:numberType(),party_id:stringType().optional().nullable()}),MessageApplication=objectType({id:stringType(),cover_image:stringType().optional().nullable(),description:stringType(),icon:stringType().optional().nullable(),name:stringType()}),MessageReference=objectType({message_id:stringType().optional().nullable(),channel_id:stringType().optional().nullable(),guild_id:stringType().optional().nullable()}),Message=objectType({id:stringType(),channel_id:stringType(),guild_id:stringType().optional().nullable(),author:User.optional().nullable(),member:GuildMember.optional().nullable(),content:stringType(),timestamp:stringType(),edited_timestamp:stringType().optional().nullable(),tts:booleanType(),mention_everyone:booleanType(),mentions:arrayType(User),mention_roles:arrayType(stringType()),mention_channels:arrayType(ChannelMention),attachments:arrayType(Attachment),embeds:arrayType(Embed),reactions:arrayType(Reaction).optional().nullable(),nonce:unionType([stringType(),numberType()]).optional().nullable(),pinned:booleanType(),webhook_id:stringType().optional().nullable(),type:numberType(),activity:MessageActivity.optional().nullable(),application:MessageApplication.optional().nullable(),message_reference:MessageReference.optional().nullable(),flags:numberType().optional().nullable(),stickers:arrayType(unknownType()).optional().nullable(),referenced_message:unknownType().optional().nullable()}),VoiceDevice=objectType({id:stringType(),name:stringType()}),ShortcutKey=objectType({type:zodCoerceUnhandledValue({UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3}),code:numberType(),name:stringType()}),VoiceSettingsMode=objectType({type:zodCoerceUnhandledValue({UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"}),auto_threshold:booleanType(),threshold:numberType(),shortcut:arrayType(ShortcutKey),delay:numberType()}),VoiceSettingsIO=objectType({device_id:stringType(),volume:numberType(),available_devices:arrayType(VoiceDevice)});objectType({type:zodCoerceUnhandledValue({UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"}),id:stringType(),vendor:objectType({name:stringType(),url:stringType()}),model:objectType({name:stringType(),url:stringType()}),related:arrayType(stringType()),echo_cancellation:booleanType().optional().nullable(),noise_suppression:booleanType().optional().nullable(),automatic_gain_control:booleanType().optional().nullable(),hardware_mute:booleanType().optional().nullable()});const Sku=objectType({id:stringType(),name:stringType(),type:zodCoerceUnhandledValue({UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5}),price:objectType({amount:numberType(),currency:stringType()}),application_id:stringType(),flags:numberType(),release_date:stringType().nullable()}),Entitlement=objectType({id:stringType(),sku_id:stringType(),application_id:stringType(),user_id:stringType(),gift_code_flags:numberType(),type:zodCoerceUnhandledValue({UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7}),gifter_user_id:stringType().optional().nullable(),branches:arrayType(stringType()).optional().nullable(),starts_at:stringType().optional().nullable(),ends_at:stringType().optional().nullable(),parent_id:stringType().optional().nullable(),consumed:booleanType().optional().nullable(),deleted:booleanType().optional().nullable(),gift_code_batch_id:stringType().optional().nullable()});zodCoerceUnhandledValue({UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3});const ThermalState=zodCoerceUnhandledValue({UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3}),OrientationTypeObject={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};zodCoerceUnhandledValue(OrientationTypeObject);const LayoutModeTypeObject={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};zodCoerceUnhandledValue(LayoutModeTypeObject);var Events,Events2;(Events2=Events||(Events={})).READY="READY",Events2.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",Events2.SPEAKING_START="SPEAKING_START",Events2.SPEAKING_STOP="SPEAKING_STOP",Events2.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",Events2.ORIENTATION_UPDATE="ORIENTATION_UPDATE",Events2.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",Events2.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",Events2.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",Events2.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",Events2.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE";const DispatchEventFrame=ReceiveFramePayload.extend({evt:nativeEnumType(Events),nonce:stringType().nullable(),cmd:literalType("DISPATCH"),data:objectType({}).passthrough()}),ErrorEvent=ReceiveFramePayload.extend({evt:literalType("ERROR"),data:objectType({code:numberType(),message:stringType().optional()}).passthrough(),cmd:nativeEnumType(Commands),nonce:stringType().nullable()}),OtherEvent=DispatchEventFrame.extend({evt:stringType()}),EventFrame=unionType([DispatchEventFrame,OtherEvent,ErrorEvent]);const EventSchema={[Events.READY]:{payload:DispatchEventFrame.extend({evt:literalType(Events.READY),data:objectType({v:numberType(),config:objectType({cdn_host:stringType().optional(),api_endpoint:stringType(),environment:stringType()}),user:objectType({id:stringType(),username:stringType(),discriminator:stringType(),avatar:stringType().optional()}).optional()})})},[Events.VOICE_STATE_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.VOICE_STATE_UPDATE),data:UserVoiceState}),subscribeArgs:objectType({channel_id:stringType()})},[Events.SPEAKING_START]:{payload:DispatchEventFrame.extend({evt:literalType(Events.SPEAKING_START),data:objectType({lobby_id:stringType().optional(),channel_id:stringType().optional(),user_id:stringType()})}),subscribeArgs:objectType({lobby_id:stringType().nullable().optional(),channel_id:stringType().nullable().optional()})},[Events.SPEAKING_STOP]:{payload:DispatchEventFrame.extend({evt:literalType(Events.SPEAKING_STOP),data:objectType({lobby_id:stringType().optional(),channel_id:stringType().optional(),user_id:stringType()})}),subscribeArgs:objectType({lobby_id:stringType().nullable().optional(),channel_id:stringType().nullable().optional()})},[Events.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.ACTIVITY_LAYOUT_MODE_UPDATE),data:objectType({layout_mode:zodCoerceUnhandledValue(LayoutModeTypeObject)})})},[Events.ORIENTATION_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.ORIENTATION_UPDATE),data:objectType({screen_orientation:zodCoerceUnhandledValue(OrientationTypeObject),orientation:nativeEnumType(Orientation)})})},[Events.CURRENT_USER_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.CURRENT_USER_UPDATE),data:User})},[Events.CURRENT_GUILD_MEMBER_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.CURRENT_GUILD_MEMBER_UPDATE),data:GuildMemberRPC}),subscribeArgs:objectType({guild_id:stringType()})},[Events.ENTITLEMENT_CREATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.ENTITLEMENT_CREATE),data:objectType({entitlement:Entitlement})})},[Events.THERMAL_STATE_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.THERMAL_STATE_UPDATE),data:objectType({thermal_state:ThermalState})})},[Events.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:DispatchEventFrame.extend({evt:literalType(Events.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:objectType({participants:GetActivityInstanceConnectedParticipantsResponseSchema.shape.participants})})}};const EmptyResponse=objectType({}).nullable(),AuthorizeResponse=objectType({code:stringType()}),GetGuildsResponse=objectType({guilds:arrayType(objectType({id:stringType(),name:stringType()}))}),GetGuildResponse=objectType({id:stringType(),name:stringType(),icon_url:stringType().optional(),members:arrayType(GuildMember)}),GetChannelResponse=objectType({id:stringType(),type:zodCoerceUnhandledValue(ChannelTypesObject),guild_id:stringType().optional().nullable(),name:stringType().optional().nullable(),topic:stringType().optional().nullable(),bitrate:numberType().optional().nullable(),user_limit:numberType().optional().nullable(),position:numberType().optional().nullable(),voice_states:arrayType(UserVoiceState),messages:arrayType(Message)}),GetChannelsResponse=objectType({channels:arrayType(Channel)});GetChannelResponse.nullable();const SelectVoiceChannelResponse=GetChannelResponse.nullable(),SelectTextChannelResponse=GetChannelResponse.nullable();objectType({input:VoiceSettingsIO,output:VoiceSettingsIO,mode:VoiceSettingsMode,automatic_gain_control:booleanType(),echo_cancellation:booleanType(),noise_suppression:booleanType(),qos:booleanType(),silence_warning:booleanType(),deaf:booleanType(),mute:booleanType()});const SubscribeResponse=objectType({evt:stringType()}),CaptureShortcutResponse=objectType({shortcut:ShortcutKey}),SetActivityResponse=Activity,GetSkusResponse=objectType({skus:arrayType(Sku)}),GetEntitlementsResponse=objectType({entitlements:arrayType(Entitlement)}),StartPurchaseResponse=arrayType(Entitlement).nullable(),SetConfigResponse=objectType({use_interactive_pip:booleanType()}),UserSettingsGetLocaleResponse=objectType({locale:stringType()}),EncourageHardwareAccelerationResponse=objectType({enabled:booleanType()}),GetChannelPermissionsResponse=objectType({permissions:bigIntType().or(stringType())}),GetPlatformBehaviorsResponse=objectType({iosKeyboardResizesView:optionalType(booleanType())}),ResponseFrame=ReceiveFramePayload.extend({cmd:nativeEnumType(Commands),evt:nullType()});function parseResponseData({cmd:cmd,data:data}){switch(cmd){case Commands.AUTHORIZE:return AuthorizeResponse.parse(data);case Commands.CAPTURE_SHORTCUT:return CaptureShortcutResponse.parse(data);case Commands.ENCOURAGE_HW_ACCELERATION:return EncourageHardwareAccelerationResponse.parse(data);case Commands.GET_CHANNEL:return GetChannelResponse.parse(data);case Commands.GET_CHANNELS:return GetChannelsResponse.parse(data);case Commands.GET_CHANNEL_PERMISSIONS:return GetChannelPermissionsResponse.parse(data);case Commands.GET_GUILD:return GetGuildResponse.parse(data);case Commands.GET_GUILDS:return GetGuildsResponse.parse(data);case Commands.GET_PLATFORM_BEHAVIORS:return GetPlatformBehaviorsResponse.parse(data);case Commands.GET_CHANNEL:return GetChannelResponse.parse(data);case Commands.SELECT_TEXT_CHANNEL:return SelectTextChannelResponse.parse(data);case Commands.SELECT_VOICE_CHANNEL:return SelectVoiceChannelResponse.parse(data);case Commands.SET_ACTIVITY:return SetActivityResponse.parse(data);case Commands.GET_SKUS_EMBEDDED:return GetSkusResponse.parse(data);case Commands.GET_ENTITLEMENTS_EMBEDDED:return GetEntitlementsResponse.parse(data);case Commands.SET_CONFIG:return SetConfigResponse.parse(data);case Commands.START_PURCHASE:return StartPurchaseResponse.parse(data);case Commands.SUBSCRIBE:case Commands.UNSUBSCRIBE:return SubscribeResponse.parse(data);case Commands.USER_SETTINGS_GET_LOCALE:return UserSettingsGetLocaleResponse.parse(data);case Commands.OPEN_EXTERNAL_LINK:case Commands.SET_ORIENTATION_LOCK_STATE:case Commands.SET_CERTIFIED_DEVICES:case Commands.SEND_ANALYTICS_EVENT:case Commands.OPEN_INVITE_DIALOG:case Commands.CAPTURE_LOG:case Commands.GET_SKUS:case Commands.GET_ENTITLEMENTS:return EmptyResponse.parse(data);case Commands.AUTHENTICATE:case Commands.INITIATE_IMAGE_UPLOAD:case Commands.OPEN_SHARE_MOMENT_DIALOG:case Commands.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:response}=Schemas[cmd];return response.parse(data);default:!function assertUnreachable(_x,runtimeError){throw runtimeError}(0,new Error(`Unrecognized command ${cmd}`))}}objectType({frame_id:stringType(),platform:nativeEnumType(Platform).optional().nullable()}),objectType({v:literalType(1),encoding:literalType("json").optional(),client_id:stringType(),frame_id:stringType()});const ClosePayload=objectType({code:numberType(),message:stringType().optional()}),IncomingPayload=objectType({evt:stringType().nullable(),nonce:stringType().nullable(),data:unknownType().nullable(),cmd:stringType()}).passthrough();function parseIncomingPayload(payload){const incoming=IncomingPayload.parse(payload);return null!=incoming.evt?"ERROR"===incoming.evt?ErrorEvent.parse(incoming):function parseEventPayload(data){const event=data.evt;if(!(event in Events))throw new Error(`Unrecognized event type ${data.evt}`);return EventSchema[event].payload.parse(data)}(EventFrame.parse(incoming)):function parseResponsePayload(payload){return Object.assign(Object.assign({},payload),{data:parseResponseData(payload)})}(ResponseFrame.passthrough().parse(incoming))}function commandFactory(sendCommand,cmd,response,transferTransform=()=>{}){const payload=ReceiveFramePayload.extend({cmd:literalType(cmd),data:response});return async args=>{const reply=await sendCommand({cmd:cmd,args:args,transfer:transferTransform(args)});return payload.parse(reply).data}}function schemaCommandFactory(cmd,transferTransform=()=>{}){const response=Schemas[cmd].response,payload=ReceiveFramePayload.extend({cmd:literalType(cmd),data:response});return sendCommand=>async args=>{const reply=await sendCommand({cmd:cmd,args:args,transfer:transferTransform(args)});return payload.parse(reply).data}}const authenticate=schemaCommandFactory(Command.AUTHENTICATE),authorize=sendCommand=>commandFactory(sendCommand,Commands.AUTHORIZE,AuthorizeResponse),captureLog=sendCommand=>commandFactory(sendCommand,Commands.CAPTURE_LOG,EmptyResponse),encourageHardwareAcceleration=sendCommand=>commandFactory(sendCommand,Commands.ENCOURAGE_HW_ACCELERATION,EncourageHardwareAccelerationResponse),getEntitlements=sendCommand=>commandFactory(sendCommand,Commands.GET_ENTITLEMENTS_EMBEDDED,GetEntitlementsResponse),getSkus=sendCommand=>commandFactory(sendCommand,Commands.GET_SKUS_EMBEDDED,GetSkusResponse),getChannelPermissions=sendCommand=>commandFactory(sendCommand,Commands.GET_CHANNEL_PERMISSIONS,GetChannelPermissionsResponse),getPlatformBehaviors=sendCommand=>commandFactory(sendCommand,Commands.GET_PLATFORM_BEHAVIORS,GetPlatformBehaviorsResponse),openExternalLink=sendCommand=>commandFactory(sendCommand,Commands.OPEN_EXTERNAL_LINK,EmptyResponse),openInviteDialog=sendCommand=>commandFactory(sendCommand,Commands.OPEN_INVITE_DIALOG,EmptyResponse),openShareMomentDialog=schemaCommandFactory(Command.OPEN_SHARE_MOMENT_DIALOG);Activity.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:Activity.shape.type.optional(),instance:Activity.shape.instance.optional()}).nullable();const setActivity=sendCommand=>commandFactory(sendCommand,Commands.SET_ACTIVITY,SetActivityResponse),setConfig=sendCommand=>commandFactory(sendCommand,Commands.SET_CONFIG,SetConfigResponse);const fallbackTransform=args=>({lock_state:args.lock_state,picture_in_picture_lock_state:args.picture_in_picture_lock_state}),setOrientationLockState=sendCommand=>function compatCommandFactory({sendCommand:sendCommand,cmd:cmd,response:response,fallbackTransform:fallbackTransform2,transferTransform:transferTransform=()=>{}}){const payload=ReceiveFramePayload.extend({cmd:literalType(cmd),data:response});return async args=>{try{const reply=await sendCommand({cmd:cmd,args:args,transfer:transferTransform(args)});return payload.parse(reply).data}catch(error){if(error.code===RPCErrorCodes.INVALID_PAYLOAD){const fallbackArgs=fallbackTransform2(args),reply=await sendCommand({cmd:cmd,args:fallbackArgs,transfer:transferTransform(fallbackArgs)});return payload.parse(reply).data}throw error}}}({sendCommand:sendCommand,cmd:Commands.SET_ORIENTATION_LOCK_STATE,response:EmptyResponse,fallbackTransform:fallbackTransform}),startPurchase=sendCommand=>commandFactory(sendCommand,Commands.START_PURCHASE,StartPurchaseResponse),userSettingsGetLocale=sendCommand=>commandFactory(sendCommand,Commands.USER_SETTINGS_GET_LOCALE,UserSettingsGetLocaleResponse),initiateImageUpload=schemaCommandFactory(Command.INITIATE_IMAGE_UPLOAD),getChannel=sendCommand=>commandFactory(sendCommand,Commands.GET_CHANNEL,GetChannelResponse),getInstanceConnectedParticipants=schemaCommandFactory(Command.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);class SDKError extends Error{constructor(code,message=""){super(message),this.code=code,this.message=message,this.name="Discord SDK Error"}}const consoleLevels=["log","warn","debug","info","error"];var getRandomValues,native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var Opcodes,Opcodes2,byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function v4(options,buf,offset){if(native.randomUUID&&!options)return native.randomUUID();var rnds=(options=options||{}).random||(options.rng||rng)();return rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}(rnds)}(Opcodes2=Opcodes||(Opcodes={}))[Opcodes2.HANDSHAKE=0]="HANDSHAKE",Opcodes2[Opcodes2.FRAME=1]="FRAME",Opcodes2[Opcodes2.CLOSE=2]="CLOSE",Opcodes2[Opcodes2.HELLO=3]="HELLO";const ALLOWED_ORIGINS=new Set(function getAllowedOrigins(){return"undefined"==typeof window?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}());class DiscordSDK{getTransfer(payload){var _a2;switch(payload.cmd){case Commands.SUBSCRIBE:case Commands.UNSUBSCRIBE:return;default:return null!==(_a2=payload.transfer)&&void 0!==_a2?_a2:void 0}}constructor(clientId2,configuration){if(this.source=null,this.sourceOrigin="",this.eventBus=new EventEmitter$1,this.pendingCommands=new Map,this.sendCommand=payload=>{var _a2;if(null==this.source)throw new Error("Attempting to send message before initialization");const nonce=v4();null===(_a2=this.source)||void 0===_a2||_a2.postMessage([Opcodes.FRAME,Object.assign(Object.assign({},payload),{nonce:nonce})],this.sourceOrigin,this.getTransfer(payload));return new Promise(((resolve,reject)=>{this.pendingCommands.set(nonce,{resolve:resolve,reject:reject})}))},this.commands=function commands(sendCommand){return{authenticate:authenticate(sendCommand),authorize:authorize(sendCommand),captureLog:captureLog(sendCommand),encourageHardwareAcceleration:encourageHardwareAcceleration(sendCommand),getChannel:getChannel(sendCommand),getChannelPermissions:getChannelPermissions(sendCommand),getEntitlements:getEntitlements(sendCommand),getPlatformBehaviors:getPlatformBehaviors(sendCommand),getSkus:getSkus(sendCommand),openExternalLink:openExternalLink(sendCommand),openInviteDialog:openInviteDialog(sendCommand),openShareMomentDialog:openShareMomentDialog(sendCommand),setActivity:setActivity(sendCommand),setConfig:setConfig(sendCommand),setOrientationLockState:setOrientationLockState(sendCommand),startPurchase:startPurchase(sendCommand),userSettingsGetLocale:userSettingsGetLocale(sendCommand),initiateImageUpload:initiateImageUpload(sendCommand),getInstanceConnectedParticipants:getInstanceConnectedParticipants(sendCommand)}}(this.sendCommand),this.handleMessage=event=>{if(!ALLOWED_ORIGINS.has(event.origin))return;const tuple=event.data;if(!Array.isArray(tuple))return;const[opcode,data]=tuple;switch(opcode){case Opcodes.HELLO:return;case Opcodes.CLOSE:return this.handleClose(data);case Opcodes.HANDSHAKE:return this.handleHandshake();case Opcodes.FRAME:return this.handleFrame(data);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=clientId2,this.configuration=null!=configuration?configuration:{disableConsoleLogOverride:!1},"undefined"!=typeof window&&window.addEventListener("message",this.handleMessage),"undefined"==typeof window)return this.frameId="",this.instanceId="",this.platform=Platform.DESKTOP,this.guildId=null,void(this.channelId=null);const urlParams=new URLSearchParams(this._getSearch()),frameId=urlParams.get("frame_id");if(!frameId)throw new Error("frame_id query param is not defined");this.frameId=frameId;const instanceId=urlParams.get("instance_id");if(!instanceId)throw new Error("instance_id query param is not defined");this.instanceId=instanceId;const platform=urlParams.get("platform");if(!platform)throw new Error("platform query param is not defined");if(platform!==Platform.DESKTOP&&platform!==Platform.MOBILE)throw new Error(`Invalid query param "platform" of "${platform}". Valid values are "${Platform.DESKTOP}" or "${Platform.MOBILE}"`);this.platform=platform,this.guildId=urlParams.get("guild_id"),this.channelId=urlParams.get("channel_id"),[this.source,this.sourceOrigin]=function getRPCServerSource(){var _a2;return[null!==(_a2=window.parent.opener)&&void 0!==_a2?_a2:window.parent,document.referrer?document.referrer:"*"]}(),this.addOnReadyListener(),this.handshake()}close(code,message){var _a2;window.removeEventListener("message",this.handleMessage);const nonce=v4();null===(_a2=this.source)||void 0===_a2||_a2.postMessage([Opcodes.CLOSE,{code:code,message:message,nonce:nonce}],this.sourceOrigin)}async subscribe(event,listener,...rest){const[subscribeArgs]=rest,listenerCount=this.eventBus.listenerCount(event),emitter=this.eventBus.on(event,listener);return Object.values(Events).includes(event)&&event!==Events.READY&&0===listenerCount&&await this.sendCommand({cmd:Commands.SUBSCRIBE,args:subscribeArgs,evt:event}),emitter}async unsubscribe(event,listener,...rest){const[unsubscribeArgs]=rest;return event!==Events.READY&&1===this.eventBus.listenerCount(event)&&await this.sendCommand({cmd:Commands.UNSUBSCRIBE,evt:event,args:unsubscribeArgs}),this.eventBus.off(event,listener)}async ready(){this.isReady||await new Promise((resolve=>{this.eventBus.once(Events.READY,resolve)}))}handshake(){var _a2;null===(_a2=this.source)||void 0===_a2||_a2.postMessage([Opcodes.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(Events.READY,(()=>{this.overrideConsoleLogging(),this.isReady=!0}))}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const sendCaptureLogCommand=(level,message)=>{this.commands.captureLog({level:level,message:message})};consoleLevels.forEach((level=>{!function wrapConsoleMethod(console2,level,callback){const _consoleMethod=console2[level],_console=console2;_consoleMethod&&(console2[level]=function(){const args=[].slice.call(arguments),message=""+args.join(" ");callback(level,message),_consoleMethod.apply(_console,args)})}(console,level,sendCaptureLogCommand)}))}handleClose(data){ClosePayload.parse(data)}handleHandshake(){}handleFrame(payload){var _a2,_b;let parsed;try{parsed=parseIncomingPayload(payload)}catch(e){return console.error("Failed to parse",payload),void console.error(e)}if("DISPATCH"===parsed.cmd)this.eventBus.emit(parsed.evt,parsed.data);else{if("ERROR"===parsed.evt){if(null!=parsed.nonce)return null===(_a2=this.pendingCommands.get(parsed.nonce))||void 0===_a2||_a2.reject(parsed.data),void this.pendingCommands.delete(parsed.nonce);this.eventBus.emit("error",new SDKError(parsed.data.code,parsed.data.message))}if(null==parsed.nonce)return void console.error("Missing nonce",payload);null===(_b=this.pendingCommands.get(parsed.nonce))||void 0===_b||_b.resolve(parsed),this.pendingCommands.delete(parsed.nonce)}}_getSearch(){return"undefined"==typeof window?"":window.location.search}}var ONE,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,MAX_E=mathfloor(1286742750677284.5),P={};function add(x,y){var carry,d,e,i,k,len,xd,yd,Ctor=x.constructor,pr=Ctor.precision;if(!x.s||!y.s)return y.s||(y=new Ctor(x)),external?round(y,pr):y;if(xd=x.d,yd=y.d,k=x.e,e=y.e,xd=xd.slice(),i=k-e){for(i<0?(d=xd,i=-i,len=yd.length):(d=yd,e=k,len=xd.length),i>(len=(k=Math.ceil(pr/7))>len?k+1:len+1)&&(i=len,d.length=1),d.reverse();i--;)d.push(0);d.reverse()}for((len=xd.length)-(i=yd.length)<0&&(i=len,d=yd,yd=xd,xd=d),carry=0;i;)carry=(xd[--i]=xd[i]+yd[i]+carry)/BASE|0,xd[i]%=BASE;for(carry&&(xd.unshift(carry),++e),len=xd.length;0==xd[--len];)xd.pop();return y.d=xd,y.e=e,external?round(y,pr):y}function checkInt32(i,min,max){if(i!==~~i||i<min||i>max)throw Error(invalidArgument+i)}function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str="",w=d[0];if(indexOfLastWord>0){for(str+=w,i=1;i<indexOfLastWord;i++)(k=7-(ws=d[i]+"").length)&&(str+=getZeroString(k)),str+=ws;(k=7-(ws=(w=d[i])+"").length)&&(str+=getZeroString(k))}else if(0===w)return"0";for(;w%10==0;)w/=10;return str+w}P.absoluteValue=P.abs=function(){var x=new this.constructor(this);return x.s&&(x.s=1),x},P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this;if(y=new x.constructor(y),x.s!==y.s)return x.s||-y.s;if(x.e!==y.e)return x.e>y.e^x.s<0?1:-1;for(i=0,j=(xdL=x.d.length)<(ydL=y.d.length)?xdL:ydL;i<j;++i)if(x.d[i]!==y.d[i])return x.d[i]>y.d[i]^x.s<0?1:-1;return xdL===ydL?0:xdL>ydL^x.s<0?1:-1},P.decimalPlaces=P.dp=function(){var x=this,w=x.d.length-1,dp=7*(w-x.e);if(w=x.d[w])for(;w%10==0;w/=10)dp--;return dp<0?0:dp},P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y))},P.dividedToIntegerBy=P.idiv=function(y){var Ctor=this.constructor;return round(divide(this,new Ctor(y),0,1),Ctor.precision)},P.equals=P.eq=function(y){return!this.cmp(y)},P.exponent=function(){return getBase10Exponent(this)},P.greaterThan=P.gt=function(y){return this.cmp(y)>0},P.greaterThanOrEqualTo=P.gte=function(y){return this.cmp(y)>=0},P.isInteger=P.isint=function(){return this.e>this.d.length-2},P.isNegative=P.isneg=function(){return this.s<0},P.isPositive=P.ispos=function(){return this.s>0},P.isZero=function(){return 0===this.s},P.lessThan=P.lt=function(y){return this.cmp(y)<0},P.lessThanOrEqualTo=P.lte=function(y){return this.cmp(y)<1},P.logarithm=P.log=function(base){var r,x=this,Ctor=x.constructor,pr=Ctor.precision,wpr=pr+5;if(void 0===base)base=new Ctor(10);else if((base=new Ctor(base)).s<1||base.eq(ONE))throw Error(decimalError+"NaN");if(x.s<1)throw Error(decimalError+(x.s?"NaN":"-Infinity"));return x.eq(ONE)?new Ctor(0):(external=!1,r=divide(ln(x,wpr),ln(base,wpr),wpr),external=!0,round(r,pr))},P.minus=P.sub=function(y){var x=this;return y=new x.constructor(y),x.s==y.s?subtract(x,y):add(x,(y.s=-y.s,y))},P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor,pr=Ctor.precision;if(!(y=new Ctor(y)).s)throw Error(decimalError+"NaN");return x.s?(external=!1,q=divide(x,y,0,1).times(y),external=!0,x.minus(q)):round(new Ctor(x),pr)},P.naturalExponential=P.exp=function(){return exp(this)},P.naturalLogarithm=P.ln=function(){return ln(this)},P.negated=P.neg=function(){var x=new this.constructor(this);return x.s=-x.s||0,x},P.plus=P.add=function(y){var x=this;return y=new x.constructor(y),x.s==y.s?add(x,y):subtract(x,(y.s=-y.s,y))},P.precision=P.sd=function(z2){var e,sd,w,x=this;if(void 0!==z2&&z2!==!!z2&&1!==z2&&0!==z2)throw Error(invalidArgument+z2);if(e=getBase10Exponent(x)+1,sd=7*(w=x.d.length-1)+1,w=x.d[w]){for(;w%10==0;w/=10)sd--;for(w=x.d[0];w>=10;w/=10)sd++}return z2&&e>sd?e:sd},P.squareRoot=P.sqrt=function(){var e,n,pr,r,s,t,wpr,x=this,Ctor=x.constructor;if(x.s<1){if(!x.s)return new Ctor(0);throw Error(decimalError+"NaN")}for(e=getBase10Exponent(x),external=!1,0==(s=Math.sqrt(+x))||s==1/0?(((n=digitsToString(x.d)).length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=mathfloor((e+1)/2)-(e<0||e%2),r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):r=new Ctor(s.toString()),s=wpr=(pr=Ctor.precision)+3;;)if(r=(t=r).plus(divide(x,t,wpr+2)).times(.5),digitsToString(t.d).slice(0,wpr)===(n=digitsToString(r.d)).slice(0,wpr)){if(n=n.slice(wpr-3,wpr+1),s==wpr&&"4999"==n){if(round(t,pr+1,0),t.times(t).eq(x)){r=t;break}}else if("9999"!=n)break;wpr+=4}return external=!0,round(r,pr)},P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;if(!x.s||!y.s)return new Ctor(0);for(y.s*=x.s,e=x.e+y.e,(xdL=xd.length)<(ydL=yd.length)&&(r=xd,xd=yd,yd=r,rL=xdL,xdL=ydL,ydL=rL),r=[],i=rL=xdL+ydL;i--;)r.push(0);for(i=ydL;--i>=0;){for(carry=0,k=xdL+i;k>i;)t=r[k]+yd[i]*xd[k-i-1]+carry,r[k--]=t%BASE|0,carry=t/BASE|0;r[k]=(r[k]+carry)%BASE|0}for(;!r[--rL];)r.pop();return carry?++e:r.shift(),y.d=r,y.e=e,external?round(y,Ctor.precision):y},P.toDecimalPlaces=P.todp=function(dp,rm){var x=this,Ctor=x.constructor;return x=new Ctor(x),void 0===dp?x:(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),round(x,dp+getBase10Exponent(x)+1,rm))},P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;return void 0===dp?str=toString$1(x,!0):(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1(x=round(new Ctor(x),dp+1,rm),!0,dp+1)),str},P.toFixed=function(dp,rm){var str,y,x=this,Ctor=x.constructor;return void 0===dp?toString$1(x):(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1((y=round(new Ctor(x),dp+getBase10Exponent(x)+1,rm)).abs(),!1,dp+getBase10Exponent(y)+1),x.isneg()&&!x.isZero()?"-"+str:str)},P.toInteger=P.toint=function(){var x=this,Ctor=x.constructor;return round(new Ctor(x),getBase10Exponent(x)+1,Ctor.rounding)},P.toNumber=function(){return+this},P.toPower=P.pow=function(y){var e,k,pr,r,sign,yIsInt,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!y.s)return new Ctor(ONE);if(!(x=new Ctor(x)).s){if(y.s<1)throw Error(decimalError+"Infinity");return x}if(x.eq(ONE))return x;if(pr=Ctor.precision,y.eq(ONE))return round(x,pr);if(yIsInt=(e=y.e)>=(k=y.d.length-1),sign=x.s,yIsInt){if((k=yn<0?-yn:yn)<=9007199254740991){for(r=new Ctor(ONE),e=Math.ceil(pr/7+4),external=!1;k%2&&truncate((r=r.times(x)).d,e),0!==(k=mathfloor(k/2));)truncate((x=x.times(x)).d,e);return external=!0,y.s<0?new Ctor(ONE).div(r):round(r,pr)}}else if(sign<0)throw Error(decimalError+"NaN");return sign=sign<0&&1&y.d[Math.max(e,k)]?-1:1,x.s=1,external=!1,r=y.times(ln(x,pr+12)),external=!0,(r=exp(r)).s=sign,r},P.toPrecision=function(sd,rm){var e,str,x=this,Ctor=x.constructor;return void 0===sd?str=toString$1(x,(e=getBase10Exponent(x))<=Ctor.toExpNeg||e>=Ctor.toExpPos):(checkInt32(sd,1,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1(x=round(new Ctor(x),sd,rm),sd<=(e=getBase10Exponent(x))||e<=Ctor.toExpNeg,sd)),str},P.toSignificantDigits=P.tosd=function(sd,rm){var Ctor=this.constructor;return void 0===sd?(sd=Ctor.precision,rm=Ctor.rounding):(checkInt32(sd,1,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),round(new Ctor(this),sd,rm)},P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var x=this,e=getBase10Exponent(x),Ctor=x.constructor;return toString$1(x,e<=Ctor.toExpNeg||e>=Ctor.toExpPos)};var divide=function(){function multiplyInteger(x,k){var temp,carry=0,i=x.length;for(x=x.slice();i--;)temp=x[i]*k+carry,x[i]=temp%BASE|0,carry=temp/BASE|0;return carry&&x.unshift(carry),x}function compare(a,b,aL,bL){var i,r;if(aL!=bL)r=aL>bL?1:-1;else for(i=r=0;i<aL;i++)if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break}return r}function subtract2(a,b,aL){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*BASE+a[aL]-b[aL];for(;!a[0]&&a.length>1;)a.shift()}return function(x,y,pr,dp){var cmp,e,i,k,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!x.s)return new Ctor(x);if(!y.s)throw Error(decimalError+"Division by zero");for(e=x.e-y.e,yL=yd.length,xL=xd.length,qd=(q=new Ctor(sign)).d=[],i=0;yd[i]==(xd[i]||0);)++i;if(yd[i]>(xd[i]||0)&&--e,(sd=null==pr?pr=Ctor.precision:dp?pr+(getBase10Exponent(x)-getBase10Exponent(y))+1:pr)<0)return new Ctor(0);if(sd=sd/7+2|0,i=0,1==yL)for(k=0,yd=yd[0],sd++;(i<xL||k)&&sd--;i++)t=k*BASE+(xd[i]||0),qd[i]=t/yd|0,k=t%yd|0;else{for((k=BASE/(yd[0]+1)|0)>1&&(yd=multiplyInteger(yd,k),xd=multiplyInteger(xd,k),yL=yd.length,xL=xd.length),xi=yL,remL=(rem=xd.slice(0,yL)).length;remL<yL;)rem[remL++]=0;(yz=yd.slice()).unshift(0),yd0=yd[0],yd[1]>=BASE/2&&++yd0;do{k=0,(cmp=compare(yd,rem,yL,remL))<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*BASE+(rem[1]||0)),(k=rem0/yd0|0)>1?(k>=BASE&&(k=BASE-1),1==(cmp=compare(prod=multiplyInteger(yd,k),rem,prodL=prod.length,remL=rem.length))&&(k--,subtract2(prod,yL<prodL?yz:yd,prodL))):(0==k&&(cmp=k=1),prod=yd.slice()),(prodL=prod.length)<remL&&prod.unshift(0),subtract2(rem,prod,remL),-1==cmp&&(cmp=compare(yd,rem,yL,remL=rem.length))<1&&(k++,subtract2(rem,yL<remL?yz:yd,remL)),remL=rem.length):0===cmp&&(k++,rem=[0]),qd[i++]=k,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--)}return qd[0]||qd.shift(),q.e=e,round(q,dp?pr+getBase10Exponent(q)+1:pr)}}();function exp(x,sd){var denominator,pow,sum,t,wpr,i=0,k=0,Ctor=x.constructor,pr=Ctor.precision;if(getBase10Exponent(x)>16)throw Error(exponentOutOfRange+getBase10Exponent(x));if(!x.s)return new Ctor(ONE);for(external=!1,wpr=pr,t=new Ctor(.03125);x.abs().gte(.1);)x=x.times(t),k+=5;for(wpr+=Math.log(mathpow(2,k))/Math.LN10*2+5|0,denominator=pow=sum=new Ctor(ONE),Ctor.precision=wpr;;){if(pow=round(pow.times(x),wpr),denominator=denominator.times(++i),digitsToString((t=sum.plus(divide(pow,denominator,wpr))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){for(;k--;)sum=round(sum.times(sum),wpr);return Ctor.precision=pr,null==sd?(external=!0,round(sum,pr)):sum}sum=t}}function getBase10Exponent(x){for(var e=7*x.e,w=x.d[0];w>=10;w/=10)e++;return e}function getLn10(Ctor,sd,pr){if(sd>Ctor.LN10.sd())throw external=!0,pr&&(Ctor.precision=pr),Error(decimalError+"LN10 precision limit exceeded");return round(new Ctor(Ctor.LN10),sd)}function getZeroString(k){for(var zs="";k--;)zs+="0";return zs}function ln(y,sd){var c,c0,denominator,e,numerator,sum,t,wpr,x2,n=1,x=y,xd=x.d,Ctor=x.constructor,pr=Ctor.precision;if(x.s<1)throw Error(decimalError+(x.s?"NaN":"-Infinity"));if(x.eq(ONE))return new Ctor(0);if(null==sd?(external=!1,wpr=pr):wpr=sd,x.eq(10))return null==sd&&(external=!0),getLn10(Ctor,wpr);if(wpr+=10,Ctor.precision=wpr,c0=(c=digitsToString(xd)).charAt(0),e=getBase10Exponent(x),!(Math.abs(e)<15e14))return t=getLn10(Ctor,wpr+2,pr).times(e+""),x=ln(new Ctor(c0+"."+c.slice(1)),wpr-10).plus(t),Ctor.precision=pr,null==sd?(external=!0,round(x,pr)):x;for(;c0<7&&1!=c0||1==c0&&c.charAt(1)>3;)c0=(c=digitsToString((x=x.times(y)).d)).charAt(0),n++;for(e=getBase10Exponent(x),c0>1?(x=new Ctor("0."+c),e++):x=new Ctor(c0+"."+c.slice(1)),sum=numerator=x=divide(x.minus(ONE),x.plus(ONE),wpr),x2=round(x.times(x),wpr),denominator=3;;){if(numerator=round(numerator.times(x2),wpr),digitsToString((t=sum.plus(divide(numerator,new Ctor(denominator),wpr))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr))return sum=sum.times(2),0!==e&&(sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+""))),sum=divide(sum,new Ctor(n),wpr),Ctor.precision=pr,null==sd?(external=!0,round(sum,pr)):sum;sum=t,denominator+=2}}function parseDecimal(x,str){var e,i,len;for((e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);)++i;for(len=str.length;48===str.charCodeAt(len-1);)--len;if(str=str.slice(i,len)){if(len-=i,e=e-i-1,x.e=mathfloor(e/7),x.d=[],i=(e+1)%7,e<0&&(i+=7),i<len){for(i&&x.d.push(+str.slice(0,i)),len-=7;i<len;)x.d.push(+str.slice(i,i+=7));i=7-(str=str.slice(i)).length}else i-=len;for(;i--;)str+="0";if(x.d.push(+str),external&&(x.e>MAX_E||x.e<-MAX_E))throw Error(exponentOutOfRange+e)}else x.s=0,x.e=0,x.d=[0];return x}function round(x,sd,rm){var i,j,k,n,rd,doRound,w,xdi,xd=x.d;for(n=1,k=xd[0];k>=10;k/=10)n++;if((i=sd-n)<0)i+=7,j=sd,w=xd[xdi=0];else{if((xdi=Math.ceil((i+1)/7))>=(k=xd.length))return x;for(w=k=xd[xdi],n=1;k>=10;k/=10)n++;j=(i%=7)-7+n}if(void 0!==rm&&(rd=w/(k=mathpow(10,n-j-1))%10|0,doRound=sd<0||void 0!==xd[xdi+1]||w%k,doRound=rm<4?(rd||doRound)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||doRound||6==rm&&(i>0?j>0?w/mathpow(10,n-j):0:xd[xdi-1])%10&1||rm==(x.s<0?8:7))),sd<1||!xd[0])return doRound?(k=getBase10Exponent(x),xd.length=1,sd=sd-k-1,xd[0]=mathpow(10,(7-sd%7)%7),x.e=mathfloor(-sd/7)||0):(xd.length=1,xd[0]=x.e=x.s=0),x;if(0==i?(xd.length=xdi,k=1,xdi--):(xd.length=xdi+1,k=mathpow(10,7-i),xd[xdi]=j>0?(w/mathpow(10,n-j)%mathpow(10,j)|0)*k:0),doRound)for(;;){if(0==xdi){(xd[0]+=k)==BASE&&(xd[0]=1,++x.e);break}if(xd[xdi]+=k,xd[xdi]!=BASE)break;xd[xdi--]=0,k=1}for(i=xd.length;0===xd[--i];)xd.pop();if(external&&(x.e>MAX_E||x.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(x));return x}function subtract(x,y){var d,e,i,j,k,len,xd,xe,xLTy,yd,Ctor=x.constructor,pr=Ctor.precision;if(!x.s||!y.s)return y.s?y.s=-y.s:y=new Ctor(x),external?round(y,pr):y;if(xd=x.d,yd=y.d,e=y.e,xe=x.e,xd=xd.slice(),k=xe-e){for((xLTy=k<0)?(d=xd,k=-k,len=yd.length):(d=yd,e=xe,len=xd.length),k>(i=Math.max(Math.ceil(pr/7),len)+2)&&(k=i,d.length=1),d.reverse(),i=k;i--;)d.push(0);d.reverse()}else{for((xLTy=(i=xd.length)<(len=yd.length))&&(len=i),i=0;i<len;i++)if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break}k=0}for(xLTy&&(d=xd,xd=yd,yd=d,y.s=-y.s),len=xd.length,i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&0===xd[--j];)xd[j]=BASE-1;--xd[j],xd[i]+=BASE}xd[i]-=yd[i]}for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e;return xd[0]?(y.d=xd,y.e=e,external?round(y,pr):y):new Ctor(0)}function toString$1(x,isExp,sd){var k,e=getBase10Exponent(x),str=digitsToString(x.d),len=str.length;return isExp?(sd&&(k=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(e<0?"e":"e+")+e):e<0?(str="0."+getZeroString(-e-1)+str,sd&&(k=sd-len)>0&&(str+=getZeroString(k))):e>=len?(str+=getZeroString(e+1-len),sd&&(k=sd-e-1)>0&&(str=str+"."+getZeroString(k))):((k=e+1)<len&&(str=str.slice(0,k)+"."+str.slice(k)),sd&&(k=sd-len)>0&&(e+1===len&&(str+="."),str+=getZeroString(k))),x.s<0?"-"+str:str}function truncate(arr,len){if(arr.length>len)return arr.length=len,!0}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i,p,v,ps=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(i=0;i<ps.length;i+=3)if(void 0!==(v=obj[p=ps[i]])){if(!(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2]))throw Error(invalidArgument+p+": "+v);this[p]=v}if(void 0!==(v=obj[p="LN10"])){if(v!=Math.LN10)throw Error(invalidArgument+p+": "+v);this[p]=new this(v)}return this}var CurrencyCodes,CurrencyCodes2,Decimal=function clone(obj){var i,p,ps;function Decimal2(value){var x=this;if(!(x instanceof Decimal2))return new Decimal2(value);if(x.constructor=Decimal2,value instanceof Decimal2)return x.s=value.s,x.e=value.e,void(x.d=(value=value.d)?value.slice():value);if("number"==typeof value){if(0*value!=0)throw Error(invalidArgument+value);if(value>0)x.s=1;else{if(!(value<0))return x.s=0,x.e=0,void(x.d=[0]);value=-value,x.s=-1}return value===~~value&&value<1e7?(x.e=0,void(x.d=[value])):parseDecimal(x,value.toString())}if("string"!=typeof value)throw Error(invalidArgument+value);if(45===value.charCodeAt(0)?(value=value.slice(1),x.s=-1):x.s=1,!isDecimal.test(value))throw Error(invalidArgument+value);parseDecimal(x,value)}if(Decimal2.prototype=P,Decimal2.ROUND_UP=0,Decimal2.ROUND_DOWN=1,Decimal2.ROUND_CEIL=2,Decimal2.ROUND_FLOOR=3,Decimal2.ROUND_HALF_UP=4,Decimal2.ROUND_HALF_DOWN=5,Decimal2.ROUND_HALF_EVEN=6,Decimal2.ROUND_HALF_CEIL=7,Decimal2.ROUND_HALF_FLOOR=8,Decimal2.clone=clone,Decimal2.config=Decimal2.set=config,void 0===obj&&(obj={}),obj)for(ps=["precision","rounding","toExpNeg","toExpPos","LN10"],i=0;i<ps.length;)obj.hasOwnProperty(p=ps[i++])||(obj[p]=this[p]);return Decimal2.config(obj),Decimal2}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});ONE=new Decimal(1),(CurrencyCodes2=CurrencyCodes||(CurrencyCodes={})).AED="aed",CurrencyCodes2.AFN="afn",CurrencyCodes2.ALL="all",CurrencyCodes2.AMD="amd",CurrencyCodes2.ANG="ang",CurrencyCodes2.AOA="aoa",CurrencyCodes2.ARS="ars",CurrencyCodes2.AUD="aud",CurrencyCodes2.AWG="awg",CurrencyCodes2.AZN="azn",CurrencyCodes2.BAM="bam",CurrencyCodes2.BBD="bbd",CurrencyCodes2.BDT="bdt",CurrencyCodes2.BGN="bgn",CurrencyCodes2.BHD="bhd",CurrencyCodes2.BIF="bif",CurrencyCodes2.BMD="bmd",CurrencyCodes2.BND="bnd",CurrencyCodes2.BOB="bob",CurrencyCodes2.BOV="bov",CurrencyCodes2.BRL="brl",CurrencyCodes2.BSD="bsd",CurrencyCodes2.BTN="btn",CurrencyCodes2.BWP="bwp",CurrencyCodes2.BYN="byn",CurrencyCodes2.BYR="byr",CurrencyCodes2.BZD="bzd",CurrencyCodes2.CAD="cad",CurrencyCodes2.CDF="cdf",CurrencyCodes2.CHE="che",CurrencyCodes2.CHF="chf",CurrencyCodes2.CHW="chw",CurrencyCodes2.CLF="clf",CurrencyCodes2.CLP="clp",CurrencyCodes2.CNY="cny",CurrencyCodes2.COP="cop",CurrencyCodes2.COU="cou",CurrencyCodes2.CRC="crc",CurrencyCodes2.CUC="cuc",CurrencyCodes2.CUP="cup",CurrencyCodes2.CVE="cve",CurrencyCodes2.CZK="czk",CurrencyCodes2.DJF="djf",CurrencyCodes2.DKK="dkk",CurrencyCodes2.DOP="dop",CurrencyCodes2.DZD="dzd",CurrencyCodes2.EGP="egp",CurrencyCodes2.ERN="ern",CurrencyCodes2.ETB="etb",CurrencyCodes2.EUR="eur",CurrencyCodes2.FJD="fjd",CurrencyCodes2.FKP="fkp",CurrencyCodes2.GBP="gbp",CurrencyCodes2.GEL="gel",CurrencyCodes2.GHS="ghs",CurrencyCodes2.GIP="gip",CurrencyCodes2.GMD="gmd",CurrencyCodes2.GNF="gnf",CurrencyCodes2.GTQ="gtq",CurrencyCodes2.GYD="gyd",CurrencyCodes2.HKD="hkd",CurrencyCodes2.HNL="hnl",CurrencyCodes2.HRK="hrk",CurrencyCodes2.HTG="htg",CurrencyCodes2.HUF="huf",CurrencyCodes2.IDR="idr",CurrencyCodes2.ILS="ils",CurrencyCodes2.INR="inr",CurrencyCodes2.IQD="iqd",CurrencyCodes2.IRR="irr",CurrencyCodes2.ISK="isk",CurrencyCodes2.JMD="jmd",CurrencyCodes2.JOD="jod",CurrencyCodes2.JPY="jpy",CurrencyCodes2.KES="kes",CurrencyCodes2.KGS="kgs",CurrencyCodes2.KHR="khr",CurrencyCodes2.KMF="kmf",CurrencyCodes2.KPW="kpw",CurrencyCodes2.KRW="krw",CurrencyCodes2.KWD="kwd",CurrencyCodes2.KYD="kyd",CurrencyCodes2.KZT="kzt",CurrencyCodes2.LAK="lak",CurrencyCodes2.LBP="lbp",CurrencyCodes2.LKR="lkr",CurrencyCodes2.LRD="lrd",CurrencyCodes2.LSL="lsl",CurrencyCodes2.LTL="ltl",CurrencyCodes2.LVL="lvl",CurrencyCodes2.LYD="lyd",CurrencyCodes2.MAD="mad",CurrencyCodes2.MDL="mdl",CurrencyCodes2.MGA="mga",CurrencyCodes2.MKD="mkd",CurrencyCodes2.MMK="mmk",CurrencyCodes2.MNT="mnt",CurrencyCodes2.MOP="mop",CurrencyCodes2.MRO="mro",CurrencyCodes2.MUR="mur",CurrencyCodes2.MVR="mvr",CurrencyCodes2.MWK="mwk",CurrencyCodes2.MXN="mxn",CurrencyCodes2.MXV="mxv",CurrencyCodes2.MYR="myr",CurrencyCodes2.MZN="mzn",CurrencyCodes2.NAD="nad",CurrencyCodes2.NGN="ngn",CurrencyCodes2.NIO="nio",CurrencyCodes2.NOK="nok",CurrencyCodes2.NPR="npr",CurrencyCodes2.NZD="nzd",CurrencyCodes2.OMR="omr",CurrencyCodes2.PAB="pab",CurrencyCodes2.PEN="pen",CurrencyCodes2.PGK="pgk",CurrencyCodes2.PHP="php",CurrencyCodes2.PKR="pkr",CurrencyCodes2.PLN="pln",CurrencyCodes2.PYG="pyg",CurrencyCodes2.QAR="qar",CurrencyCodes2.RON="ron",CurrencyCodes2.RSD="rsd",CurrencyCodes2.RUB="rub",CurrencyCodes2.RWF="rwf",CurrencyCodes2.SAR="sar",CurrencyCodes2.SBD="sbd",CurrencyCodes2.SCR="scr",CurrencyCodes2.SDG="sdg",CurrencyCodes2.SEK="sek",CurrencyCodes2.SGD="sgd",CurrencyCodes2.SHP="shp",CurrencyCodes2.SLL="sll",CurrencyCodes2.SOS="sos",CurrencyCodes2.SRD="srd",CurrencyCodes2.SSP="ssp",CurrencyCodes2.STD="std",CurrencyCodes2.SVC="svc",CurrencyCodes2.SYP="syp",CurrencyCodes2.SZL="szl",CurrencyCodes2.THB="thb",CurrencyCodes2.TJS="tjs",CurrencyCodes2.TMT="tmt",CurrencyCodes2.TND="tnd",CurrencyCodes2.TOP="top",CurrencyCodes2.TRY="try",CurrencyCodes2.TTD="ttd",CurrencyCodes2.TWD="twd",CurrencyCodes2.TZS="tzs",CurrencyCodes2.UAH="uah",CurrencyCodes2.UGX="ugx",CurrencyCodes2.USD="usd",CurrencyCodes2.USN="usn",CurrencyCodes2.USS="uss",CurrencyCodes2.UYI="uyi",CurrencyCodes2.UYU="uyu",CurrencyCodes2.UZS="uzs",CurrencyCodes2.VEF="vef",CurrencyCodes2.VND="vnd",CurrencyCodes2.VUV="vuv",CurrencyCodes2.WST="wst",CurrencyCodes2.XAF="xaf",CurrencyCodes2.XAG="xag",CurrencyCodes2.XAU="xau",CurrencyCodes2.XBA="xba",CurrencyCodes2.XBB="xbb",CurrencyCodes2.XBC="xbc",CurrencyCodes2.XBD="xbd",CurrencyCodes2.XCD="xcd",CurrencyCodes2.XDR="xdr",CurrencyCodes2.XFU="xfu",CurrencyCodes2.XOF="xof",CurrencyCodes2.XPD="xpd",CurrencyCodes2.XPF="xpf",CurrencyCodes2.XPT="xpt",CurrencyCodes2.XSU="xsu",CurrencyCodes2.XTS="xts",CurrencyCodes2.XUA="xua",CurrencyCodes2.YER="yer",CurrencyCodes2.ZAR="zar",CurrencyCodes2.ZMW="zmw",CurrencyCodes2.ZWL="zwl",CurrencyCodes.AED,CurrencyCodes.AFN,CurrencyCodes.ALL,CurrencyCodes.AMD,CurrencyCodes.ANG,CurrencyCodes.AOA,CurrencyCodes.ARS,CurrencyCodes.AUD,CurrencyCodes.AWG,CurrencyCodes.AZN,CurrencyCodes.BAM,CurrencyCodes.BBD,CurrencyCodes.BDT,CurrencyCodes.BGN,CurrencyCodes.BHD,CurrencyCodes.BIF,CurrencyCodes.BMD,CurrencyCodes.BND,CurrencyCodes.BOB,CurrencyCodes.BOV,CurrencyCodes.BRL,CurrencyCodes.BSD,CurrencyCodes.BTN,CurrencyCodes.BWP,CurrencyCodes.BYR,CurrencyCodes.BYN,CurrencyCodes.BZD,CurrencyCodes.CAD,CurrencyCodes.CDF,CurrencyCodes.CHE,CurrencyCodes.CHF,CurrencyCodes.CHW,CurrencyCodes.CLF,CurrencyCodes.CLP,CurrencyCodes.CNY,CurrencyCodes.COP,CurrencyCodes.COU,CurrencyCodes.CRC,CurrencyCodes.CUC,CurrencyCodes.CUP,CurrencyCodes.CVE,CurrencyCodes.CZK,CurrencyCodes.DJF,CurrencyCodes.DKK,CurrencyCodes.DOP,CurrencyCodes.DZD,CurrencyCodes.EGP,CurrencyCodes.ERN,CurrencyCodes.ETB,CurrencyCodes.EUR,CurrencyCodes.FJD,CurrencyCodes.FKP,CurrencyCodes.GBP,CurrencyCodes.GEL,CurrencyCodes.GHS,CurrencyCodes.GIP,CurrencyCodes.GMD,CurrencyCodes.GNF,CurrencyCodes.GTQ,CurrencyCodes.GYD,CurrencyCodes.HKD,CurrencyCodes.HNL,CurrencyCodes.HRK,CurrencyCodes.HTG,CurrencyCodes.HUF,CurrencyCodes.IDR,CurrencyCodes.ILS,CurrencyCodes.INR,CurrencyCodes.IQD,CurrencyCodes.IRR,CurrencyCodes.ISK,CurrencyCodes.JMD,CurrencyCodes.JOD,CurrencyCodes.JPY,CurrencyCodes.KES,CurrencyCodes.KGS,CurrencyCodes.KHR,CurrencyCodes.KMF,CurrencyCodes.KPW,CurrencyCodes.KRW,CurrencyCodes.KWD,CurrencyCodes.KYD,CurrencyCodes.KZT,CurrencyCodes.LAK,CurrencyCodes.LBP,CurrencyCodes.LKR,CurrencyCodes.LRD,CurrencyCodes.LSL,CurrencyCodes.LTL,CurrencyCodes.LVL,CurrencyCodes.LYD,CurrencyCodes.MAD,CurrencyCodes.MDL,CurrencyCodes.MGA,CurrencyCodes.MKD,CurrencyCodes.MMK,CurrencyCodes.MNT,CurrencyCodes.MOP,CurrencyCodes.MRO,CurrencyCodes.MUR,CurrencyCodes.MVR,CurrencyCodes.MWK,CurrencyCodes.MXN,CurrencyCodes.MXV,CurrencyCodes.MYR,CurrencyCodes.MZN,CurrencyCodes.NAD,CurrencyCodes.NGN,CurrencyCodes.NIO,CurrencyCodes.NOK,CurrencyCodes.NPR,CurrencyCodes.NZD,CurrencyCodes.OMR,CurrencyCodes.PAB,CurrencyCodes.PEN,CurrencyCodes.PGK,CurrencyCodes.PHP,CurrencyCodes.PKR,CurrencyCodes.PLN,CurrencyCodes.PYG,CurrencyCodes.QAR,CurrencyCodes.RON,CurrencyCodes.RSD,CurrencyCodes.RUB,CurrencyCodes.RWF,CurrencyCodes.SAR,CurrencyCodes.SBD,CurrencyCodes.SCR,CurrencyCodes.SDG,CurrencyCodes.SEK,CurrencyCodes.SGD,CurrencyCodes.SHP,CurrencyCodes.SLL,CurrencyCodes.SOS,CurrencyCodes.SRD,CurrencyCodes.SSP,CurrencyCodes.STD,CurrencyCodes.SVC,CurrencyCodes.SYP,CurrencyCodes.SZL,CurrencyCodes.THB,CurrencyCodes.TJS,CurrencyCodes.TMT,CurrencyCodes.TND,CurrencyCodes.TOP,CurrencyCodes.TRY,CurrencyCodes.TTD,CurrencyCodes.TWD,CurrencyCodes.TZS,CurrencyCodes.UAH,CurrencyCodes.UGX,CurrencyCodes.USD,CurrencyCodes.USN,CurrencyCodes.USS,CurrencyCodes.UYI,CurrencyCodes.UYU,CurrencyCodes.UZS,CurrencyCodes.VEF,CurrencyCodes.VND,CurrencyCodes.VUV,CurrencyCodes.WST,CurrencyCodes.XAF,CurrencyCodes.XAG,CurrencyCodes.XAU,CurrencyCodes.XBA,CurrencyCodes.XBB,CurrencyCodes.XBC,CurrencyCodes.XBD,CurrencyCodes.XCD,CurrencyCodes.XDR,CurrencyCodes.XFU,CurrencyCodes.XOF,CurrencyCodes.XPD,CurrencyCodes.XPF,CurrencyCodes.XPT,CurrencyCodes.XSU,CurrencyCodes.XTS,CurrencyCodes.XUA,CurrencyCodes.YER,CurrencyCodes.ZAR,CurrencyCodes.ZMW,CurrencyCodes.ZWL;var lodash_transform={exports:{}};!function(module,exports){var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",mapTag="[object Map]",objectTag="[object Object]",setTag="[object Set]",dataViewTag="[object DataView]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags[mapTag]=typedArrayTags["[object Number]"]=typedArrayTags[objectTag]=typedArrayTags["[object RegExp]"]=typedArrayTags[setTag]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););return array}function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform3){return function(arg){return func(transform3(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol2=root.Symbol,Uint8Array2=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeKeys=overArg(Object.keys,Object),DataView2=getNative(root,"DataView"),Map2=getNative(root,"Map"),Promise2=getNative(root,"Promise"),Set2=getNative(root,"Set"),WeakMap2=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView2),mapCtorString=toSource(Map2),promiseCtorString=toSource(Promise2),setCtorString=toSource(Set2),weakMapCtorString=toSource(WeakMap2),symbolProto=Symbol2?Symbol2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){this.__data__=new ListCache(entries)}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map2||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache},Stack.prototype.delete=function stackDelete(key){return this.__data__.delete(key)},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map2||pairs.length<199)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this};var baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseGet(object,path){for(var index=0,length=(path=isKey(path,object)?[path]:castPath(path)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=(objTag=getTag(object))==argsTag?objectTag:objTag);othIsArr||(othTag=(othTag=getTag(other))==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array2(object),new Uint8Array2(other)));case boolTag:case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=2&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=1,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(2&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=2&bitmask,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,equalFunc,customizer,bitmask,stack)}(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue))return matchesStrictComparable(toKey(path),srcValue);return function(object){var objValue=function get2(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}(object,path);return void 0===objValue&&objValue===srcValue?function hasIn(object,path){return null!=object&&function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);var result,index=-1,length=path.length;for(;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}(object,path,baseHasIn)}(object,path):baseIsEqual(srcValue,objValue,void 0,3)}}(value[0],value[1]):function baseMatches(source){var matchData=function getMatchData(object){var result=keys(object),length=result.length;for(;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}(source);if(1==matchData.length&&matchData[0][2])return matchesStrictComparable(matchData[0][0],matchData[0][1]);return function(object){return object===source||function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(data[2]){if(void 0===objValue&&!(key in object))return!1}else if(!baseIsEqual(srcValue,objValue,customizer,3,new Stack))return!1}return!0}(object,0,matchData)}}(value):function property(path){return isKey(path)?function baseProperty(key){return function(object){return null==object?void 0:object[key]}}(toKey(path)):function basePropertyDeep(path){return function(object){return baseGet(object,path)}}(path)}(value)}function baseKeys(object){if(!function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function castPath(value){return isArray(value)?value:stringToPath(value)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=2&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen2=1&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen2){if(!arraySome(other,(function(othValue2,othIndex){if(!seen2.has(othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,customizer,bitmask,stack)))return seen2.add(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}var getTag=function baseGetTag(value){return objectToString.call(value)};function isIndex(value,length){return!!(length=null==length?9007199254740991:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}(DataView2&&getTag(new DataView2(new ArrayBuffer(1)))!=dataViewTag||Map2&&getTag(new Map2)!=mapTag||Promise2&&"[object Promise]"!=getTag(Promise2.resolve())||Set2&&getTag(new Set2)!=setTag||WeakMap2&&"[object WeakMap]"!=getTag(new WeakMap2))&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var stringToPath=memoize((function(string){string=function toString2(value){return null==value?"":function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}(value)}(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,(function(match,number,quote,string2){result.push(quote?string2.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!=value&&other!=other}function isArguments(value){return function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}memoize.Cache=MapCache;var isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return"[object Function]"==tag||"[object GeneratorFunction]"==tag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==objectToString.call(value)}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]};function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function identity(value){return value}module.exports=function transform2(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:isFunction(Ctor)?function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}(getPrototype(object)):{}}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,(function(value,index,object2){return iteratee(accumulator,value,index,object2)})),accumulator}}(lodash_transform,lodash_transform.exports);var transform=getDefaultExportFromCjs(lodash_transform.exports);class DiscordSDKMock{constructor(clientId2,guildId,channelId){this.platform=Platform.DESKTOP,this.instanceId="123456789012345678",this.configuration={disableConsoleLogOverride:!1},this.source=null,this.sourceOrigin="",this.frameId="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",this.eventBus=new EventEmitter$1,this.clientId=clientId2,this.commands=this._updateCommandMocks({}),this.guildId=guildId,this.channelId=channelId}_updateCommandMocks(newCommands){return this.commands=transform(Object.assign({},commandsMockDefault,newCommands),((mock,func,name)=>{mock[name]=async(...args)=>(console.info(`DiscordSDKMock: ${String(name)}(${JSON.stringify(args)})`),await func(...args))})),this.commands}emitReady(){this.emitEvent("READY",void 0)}close(...args){console.info(`DiscordSDKMock: close(${JSON.stringify(args)})`)}ready(){return Promise.resolve()}async subscribe(event,listener,..._subscribeArgs){return await this.eventBus.on(event,listener)}async unsubscribe(event,listener,..._unsubscribeArgs){return await this.eventBus.off(event,listener)}emitEvent(event,data){this.eventBus.emit(event,data)}}const commandsMockDefault={authorize:()=>Promise.resolve({code:"mock_code"}),authenticate:()=>Promise.resolve({access_token:"mock_token",user:{username:"mock_user_username",discriminator:"mock_user_discriminator",id:"mock_user_id",avatar:null,public_flags:1},scopes:[],expires:new Date(2121,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}}),setActivity:()=>Promise.resolve({name:"mock_activity_name",type:0}),getChannel:()=>Promise.resolve({id:"mock_channel_id",name:"mock_channel_name",type:ChannelTypesObject.GUILD_TEXT,voice_states:[],messages:[]}),getSkus:()=>Promise.resolve({skus:[]}),getEntitlements:()=>Promise.resolve({entitlements:[]}),startPurchase:()=>Promise.resolve([]),setConfig:()=>Promise.resolve({use_interactive_pip:!1}),userSettingsGetLocale:()=>Promise.resolve({locale:""}),openExternalLink:()=>Promise.resolve(null),encourageHardwareAcceleration:()=>Promise.resolve({enabled:!0}),captureLog:()=>Promise.resolve(null),setOrientationLockState:()=>Promise.resolve(null),openInviteDialog:()=>Promise.resolve(null),getPlatformBehaviors:()=>Promise.resolve({iosKeyboardResizesView:!0}),getChannelPermissions:()=>Promise.resolve({permissions:bigInt(1234567890)}),openShareMomentDialog:()=>Promise.resolve(null),initiateImageUpload:()=>Promise.resolve({image_url:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b52aa9e99b832574a53_full_logo_blurple_RGB.png"}),getInstanceConnectedParticipants:()=>Promise.resolve({participants:[]})};"function"==typeof SuppressedError&&SuppressedError;var cjs={};ArrayBuffer.isView||(ArrayBuffer.isView=a=>null!==a&&"object"==typeof a&&a.buffer instanceof ArrayBuffer),"undefined"==typeof FormData&&(commonjsGlobal$1.FormData=class{}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var Client$1={},extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)Object.prototype.hasOwnProperty.call(b2,p)&&(d2[p]=b2[p])})(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign2(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target2,key,desc){var d,c=arguments.length,r=c<3?target2:null===desc?desc=Object.getOwnPropertyDescriptor(target2,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target2,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target2,key,r):d(target2,key))||r);return c>3&&r&&Object.defineProperty(target2,key,r),r}function __param(paramIndex,decorator){return function(target2,key){decorator(target2,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P2,generator){return new(P2||(P2=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P2?value:new P2((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var __createBinding=Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]};function __exportStar(m,o){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(o,p)||__createBinding(o,m,p)}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __spreadArray(to,from,pack2){if(pack2||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:!1}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v2){resolve({value:v2,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}var __setModuleDefault=Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v};function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}function __classPrivateFieldIn(state,receiver){if(null===receiver||"object"!=typeof receiver&&"function"!=typeof receiver)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof state?receiver===state:state.has(receiver)}function __addDisposableResource(env,value,async){if(null!=value){if("object"!=typeof value&&"function"!=typeof value)throw new TypeError("Object expected.");var dispose;if(async){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");dispose=value[Symbol.asyncDispose]}if(void 0===dispose){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");dispose=value[Symbol.dispose]}if("function"!=typeof dispose)throw new TypeError("Object not disposable.");env.stack.push({value:value,dispose:dispose,async:async})}else async&&env.stack.push({async:!0});return value}var _SuppressedError="function"==typeof SuppressedError?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e};function __disposeResources(env){function fail(e){env.error=env.hasError?new _SuppressedError(e,env.error,"An error was suppressed during disposal."):e,env.hasError=!0}return function next(){for(;env.stack.length;){var rec=env.stack.pop();try{var result=rec.dispose&&rec.dispose.call(rec.value);if(rec.async)return Promise.resolve(result).then(next,(function(e){return fail(e),next()}))}catch(e){fail(e)}}if(env.hasError)throw env.error}()}const tslib_es6={__extends:__extends,__assign:__assign,__rest:__rest,__decorate:__decorate,__param:__param,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__createBinding:__createBinding,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__spreadArrays:__spreadArrays,__spreadArray:__spreadArray,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldSet:__classPrivateFieldSet,__classPrivateFieldIn:__classPrivateFieldIn,__addDisposableResource:__addDisposableResource,__disposeResources:__disposeResources},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:__addDisposableResource,get __assign(){return __assign},__asyncDelegator:__asyncDelegator,__asyncGenerator:__asyncGenerator,__asyncValues:__asyncValues,__await:__await,__awaiter:__awaiter,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldIn:__classPrivateFieldIn,__classPrivateFieldSet:__classPrivateFieldSet,__createBinding:__createBinding,__decorate:__decorate,__disposeResources:__disposeResources,__esDecorate:function __esDecorate(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target2=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target2?Object.getOwnPropertyDescriptor(target2,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target2&&Object.defineProperty(target2,contextIn.name,descriptor),done=!0},__exportStar:__exportStar,__extends:__extends,__generator:__generator,__importDefault:__importDefault,__importStar:__importStar,__makeTemplateObject:__makeTemplateObject,__metadata:__metadata,__param:__param,__propKey:function __propKey(x){return"symbol"==typeof x?x:"".concat(x)},__read:__read,__rest:__rest,__runInitializers:function __runInitializers(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__setFunctionName:function __setFunctionName(f,name,prefix){return"symbol"==typeof name&&(name=name.description?"[".concat(name.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:prefix?"".concat(prefix," ",name):name})},__spread:__spread,__spreadArray:__spreadArray,__spreadArrays:__spreadArrays,__values:__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6$1);var ServerError$3={};!function(exports){var CloseCode;exports.CloseCode=void 0,(CloseCode=exports.CloseCode||(exports.CloseCode={}))[CloseCode.CONSENTED=4e3]="CONSENTED",CloseCode[CloseCode.DEVMODE_RESTART=4010]="DEVMODE_RESTART";class ServerError2 extends Error{constructor(code,message){super(message),this.name="ServerError",this.code=code}}exports.ServerError=ServerError2}(ServerError$3);var Room$2={},Connection$2={},H3Transport$1={},umd$1={exports:{}};!function(exports2){const SWITCH_TO_STRUCTURE=255,TYPE_ID=213;var OPERATION;exports2.OPERATION=void 0,(OPERATION=exports2.OPERATION||(exports2.OPERATION={}))[OPERATION.ADD=128]="ADD",OPERATION[OPERATION.REPLACE=0]="REPLACE",OPERATION[OPERATION.DELETE=64]="DELETE",OPERATION[OPERATION.DELETE_AND_MOVE=96]="DELETE_AND_MOVE",OPERATION[OPERATION.MOVE_AND_ADD=160]="MOVE_AND_ADD",OPERATION[OPERATION.DELETE_AND_ADD=192]="DELETE_AND_ADD",OPERATION[OPERATION.CLEAR=10]="CLEAR",OPERATION[OPERATION.REVERSE=15]="REVERSE",OPERATION[OPERATION.MOVE=32]="MOVE",OPERATION[OPERATION.DELETE_BY_REFID=33]="DELETE_BY_REFID",OPERATION[OPERATION.ADD_BY_REFID=129]="ADD_BY_REFID",Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));const $track=Symbol("$track"),$encoder=Symbol("$encoder"),$decoder=Symbol("$decoder"),$filter=Symbol("$filter"),$getByIndex=Symbol("$getByIndex"),$deleteByIndex=Symbol("$deleteByIndex"),$changes=Symbol("$changes"),$childType=Symbol("$childType"),$onEncodeEnd=Symbol("$onEncodeEnd"),$onDecodeEnd=Symbol("$onDecodeEnd"),$descriptors=Symbol("$descriptors"),$numFields="$__numFields",$refTypeFieldIndexes="$__refTypeFieldIndexes",$viewFieldIndexes="$__viewFieldIndexes",$fieldIndexesByViewTag="$__fieldIndexesByViewTag";let textEncoder2;try{textEncoder2=new TextEncoder}catch(e){}const _convoBuffer$1=new ArrayBuffer(8),_int32$1=new Int32Array(_convoBuffer$1),_float32$1=new Float32Array(_convoBuffer$1),_float64$1=new Float64Array(_convoBuffer$1),_int64$1=new BigInt64Array(_convoBuffer$1),utf8Length="undefined"!=typeof Buffer&&Buffer.byteLength?Buffer.byteLength:function(str,_){for(var c=0,length=0,i=0,l=str.length;i<l;i++)(c=str.charCodeAt(i))<128?length+=1:c<2048?length+=2:c<55296||c>=57344?length+=3:(i++,length+=4);return length};function utf8Write(view2,str,it){for(var c=0,i=0,l=str.length;i<l;i++)(c=str.charCodeAt(i))<128?view2[it.offset++]=c:c<2048?(view2[it.offset]=192|c>>6,view2[it.offset+1]=128|63&c,it.offset+=2):c<55296||c>=57344?(view2[it.offset]=224|c>>12,view2[it.offset+1]=128|c>>6&63,view2[it.offset+2]=128|63&c,it.offset+=3):(i++,c=65536+((1023&c)<<10|1023&str.charCodeAt(i)),view2[it.offset]=240|c>>18,view2[it.offset+1]=128|c>>12&63,view2[it.offset+2]=128|c>>6&63,view2[it.offset+3]=128|63&c,it.offset+=4)}function int8$1(bytes,value,it){bytes[it.offset++]=255&value}function uint8$1(bytes,value,it){bytes[it.offset++]=255&value}function int16$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255}function uint16$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255}function int32$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255,bytes[it.offset++]=value>>16&255,bytes[it.offset++]=value>>24&255}function uint32$1(bytes,value,it){const b4=value>>24,b3=value>>16,b2=value>>8,b1=value;bytes[it.offset++]=255&b1,bytes[it.offset++]=255&b2,bytes[it.offset++]=255&b3,bytes[it.offset++]=255&b4}function int64$1(bytes,value,it){const high=Math.floor(value/Math.pow(2,32));uint32$1(bytes,value>>>0,it),uint32$1(bytes,high,it)}function uint64$1(bytes,value,it){const high=value/Math.pow(2,32)|0;uint32$1(bytes,value>>>0,it),uint32$1(bytes,high,it)}function bigint64$1(bytes,value,it){_int64$1[0]=BigInt.asIntN(64,value),int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function biguint64$1(bytes,value,it){_int64$1[0]=BigInt.asIntN(64,value),int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function float32$1(bytes,value,it){_float32$1[0]=value,int32$1(bytes,_int32$1[0],it)}function float64$1(bytes,value,it){_float64$1[0]=value,int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function boolean$1(bytes,value,it){bytes[it.offset++]=value?1:0}function string$1(bytes,value,it){value||(value="");let length=utf8Length(value,"utf8"),size=0;if(length<32)bytes[it.offset++]=160|length,size=1;else if(length<256)bytes[it.offset++]=217,bytes[it.offset++]=length%255,size=2;else if(length<65536)bytes[it.offset++]=218,uint16$1(bytes,length,it),size=3;else{if(!(length<4294967296))throw new Error("String too long");bytes[it.offset++]=219,uint32$1(bytes,length,it),size=5}return utf8Write(bytes,value,it),size+length}function number$1(bytes,value,it){return isNaN(value)?number$1(bytes,0,it):isFinite(value)?value!==(0|value)?Math.abs(value)<=34028235e31&&(_float32$1[0]=value,Math.abs(Math.abs(_float32$1[0])-Math.abs(value))<1e-4)?(bytes[it.offset++]=202,float32$1(bytes,value,it),5):(bytes[it.offset++]=203,float64$1(bytes,value,it),9):value>=0?value<128?(bytes[it.offset++]=255&value,1):value<256?(bytes[it.offset++]=204,bytes[it.offset++]=255&value,2):value<65536?(bytes[it.offset++]=205,uint16$1(bytes,value,it),3):value<4294967296?(bytes[it.offset++]=206,uint32$1(bytes,value,it),5):(bytes[it.offset++]=207,uint64$1(bytes,value,it),9):value>=-32?(bytes[it.offset++]=224|value+32,1):value>=-128?(bytes[it.offset++]=208,int8$1(bytes,value,it),2):value>=-32768?(bytes[it.offset++]=209,int16$1(bytes,value,it),3):value>=-2147483648?(bytes[it.offset++]=210,int32$1(bytes,value,it),5):(bytes[it.offset++]=211,int64$1(bytes,value,it),9):number$1(bytes,value>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER,it)}const encode2={int8:int8$1,uint8:uint8$1,int16:int16$1,uint16:uint16$1,int32:int32$1,uint32:uint32$1,int64:int64$1,uint64:uint64$1,bigint64:bigint64$1,biguint64:biguint64$1,float32:float32$1,float64:float64$1,boolean:boolean$1,string:string$1,number:number$1,utf8Write:utf8Write,utf8Length:utf8Length},_convoBuffer=new ArrayBuffer(8),_int32=new Int32Array(_convoBuffer),_float32=new Float32Array(_convoBuffer),_float64=new Float64Array(_convoBuffer),_uint64=new BigUint64Array(_convoBuffer),_int64=new BigInt64Array(_convoBuffer);function utf8Read(bytes,it,length){for(var string2="",chr=0,i=it.offset,end=it.offset+length;i<end;i++){var byte=bytes[i];128&byte?192!=(224&byte)?224!=(240&byte)?240!=(248&byte)?console.error("Invalid byte "+byte.toString(16)):(chr=(7&byte)<<18|(63&bytes[++i])<<12|(63&bytes[++i])<<6|63&bytes[++i])>=65536?(chr-=65536,string2+=String.fromCharCode((chr>>>10)+55296,56320+(1023&chr))):string2+=String.fromCharCode(chr):string2+=String.fromCharCode((15&byte)<<12|(63&bytes[++i])<<6|63&bytes[++i]):string2+=String.fromCharCode((31&byte)<<6|63&bytes[++i]):string2+=String.fromCharCode(byte)}return it.offset+=length,string2}function int8(bytes,it){return uint8(bytes,it)<<24>>24}function uint8(bytes,it){return bytes[it.offset++]}function int16(bytes,it){return uint16(bytes,it)<<16>>16}function uint16(bytes,it){return bytes[it.offset++]|bytes[it.offset++]<<8}function int32(bytes,it){return bytes[it.offset++]|bytes[it.offset++]<<8|bytes[it.offset++]<<16|bytes[it.offset++]<<24}function uint32(bytes,it){return int32(bytes,it)>>>0}function float32(bytes,it){return _int32[0]=int32(bytes,it),_float32[0]}function float64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_float64[0]}function int64(bytes,it){const low=uint32(bytes,it);return int32(bytes,it)*Math.pow(2,32)+low}function uint64(bytes,it){const low=uint32(bytes,it);return uint32(bytes,it)*Math.pow(2,32)+low}function bigint64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_int64[0]}function biguint64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_uint64[0]}function boolean(bytes,it){return uint8(bytes,it)>0}function string(bytes,it){const prefix=bytes[it.offset++];let length;return prefix<192?length=31&prefix:217===prefix?length=uint8(bytes,it):218===prefix?length=uint16(bytes,it):219===prefix&&(length=uint32(bytes,it)),utf8Read(bytes,it,length)}function number(bytes,it){const prefix=bytes[it.offset++];return prefix<128?prefix:202===prefix?float32(bytes,it):203===prefix?float64(bytes,it):204===prefix?uint8(bytes,it):205===prefix?uint16(bytes,it):206===prefix?uint32(bytes,it):207===prefix?uint64(bytes,it):208===prefix?int8(bytes,it):209===prefix?int16(bytes,it):210===prefix?int32(bytes,it):211===prefix?int64(bytes,it):prefix>223?-1*(255-prefix+1):void 0}function stringCheck(bytes,it){const prefix=bytes[it.offset];return prefix<192&&prefix>160||217===prefix||218===prefix||219===prefix}const decode2={utf8Read:utf8Read,int8:int8,uint8:uint8,int16:int16,uint16:uint16,int32:int32,uint32:uint32,float32:float32,float64:float64,int64:int64,uint64:uint64,bigint64:bigint64,biguint64:biguint64,boolean:boolean,string:string,number:number,stringCheck:stringCheck},registeredTypes={},identifiers=new Map;function registerType(identifier,definition){definition.constructor&&(identifiers.set(definition.constructor,identifier),registeredTypes[identifier]=definition),definition.encode&&(encode2[identifier]=definition.encode),definition.decode&&(decode2[identifier]=definition.decode)}function getType(identifier){return registeredTypes[identifier]}function defineCustomTypes(types){for(const identifier in types)registerType(identifier,types[identifier]);return t=>type(t)}const _TypeContext=class _TypeContext{static register(target2){const parent=Object.getPrototypeOf(target2);if(parent!==Schema){let inherits=_TypeContext.inheritedTypes.get(parent);inherits||(inherits=new Set,_TypeContext.inheritedTypes.set(parent,inherits)),inherits.add(target2)}}static cache(rootClass){let context=_TypeContext.cachedContexts.get(rootClass);return context||(context=new _TypeContext(rootClass),_TypeContext.cachedContexts.set(rootClass,context)),context}constructor(rootClass){this.types={},this.schemas=new Map,this.hasFilters=!1,this.parentFiltered={},rootClass&&this.discoverTypes(rootClass)}has(schema3){return this.schemas.has(schema3)}get(typeid){return this.types[typeid]}add(schema3,typeid=this.schemas.size){return!this.schemas.has(schema3)&&(this.types[typeid]=schema3,void 0===schema3[Symbol.metadata]&&Metadata.initialize(schema3),this.schemas.set(schema3,typeid),!0)}getTypeId(klass){return this.schemas.get(klass)}discoverTypes(klass,parentType,parentIndex,parentHasViewTag){var _a3,_b2;if(parentHasViewTag&&this.registerFilteredByParent(klass,parentType,parentIndex),!this.add(klass))return;null==(_a3=_TypeContext.inheritedTypes.get(klass))||_a3.forEach((child=>{this.discoverTypes(child,parentType,parentIndex,parentHasViewTag)}));let parent=klass;for(;(parent=Object.getPrototypeOf(parent))&&parent!==Schema&&parent!==Function.prototype;)this.discoverTypes(parent);const metadata=klass[_b2=Symbol.metadata]??(klass[_b2]={});metadata[$viewFieldIndexes]&&(this.hasFilters=!0);for(const fieldIndex in metadata){const index=fieldIndex,fieldType=metadata[index].type,fieldHasViewTag=void 0!==metadata[index].tag;if("string"!=typeof fieldType)if(Array.isArray(fieldType)){const type2=fieldType[0];if("string"===type2)continue;this.discoverTypes(type2,klass,index,parentHasViewTag||fieldHasViewTag)}else if("function"==typeof fieldType)this.discoverTypes(fieldType,klass,index,parentHasViewTag||fieldHasViewTag);else{const type2=Object.values(fieldType)[0];if("string"==typeof type2)continue;this.discoverTypes(type2,klass,index,parentHasViewTag||fieldHasViewTag)}}}registerFilteredByParent(schema3,parentType,parentIndex){let key=`${this.schemas.get(schema3)??this.schemas.size}`;parentType&&(key+=`-${this.schemas.get(parentType)}`),key+=`-${parentIndex}`,this.parentFiltered[key]=!0}debug(){let parentFiltered="";for(const key in this.parentFiltered){const keys=key.split("-").map(Number),fieldIndex=keys.pop();parentFiltered+="\n\t\t",parentFiltered+=`${key}: ${keys.reverse().map(((id,i)=>{const klass=this.types[id],metadata=klass[Symbol.metadata];let txt=klass.name;return 0===i&&(txt+=`[${metadata[fieldIndex].name}]`),`${txt}`})).join(" -> ")}`}return`TypeContext ->\n\tSchema types: ${this.schemas.size}\n\thasFilters: ${this.hasFilters}\n\tparentFiltered:${parentFiltered}`}};_TypeContext.inheritedTypes=new Map,_TypeContext.cachedContexts=new Map;let TypeContext=_TypeContext;function getNormalizedType(type2){return Array.isArray(type2)?{array:type2[0]}:void 0!==type2.type?type2.type:type2}const Metadata={addField(metadata,index,name,type2,descriptor){if(index>64)throw new Error(`Can't define field '${name}'.\nSchema instances may only have up to 64 fields.`);metadata[index]=Object.assign(metadata[index]||{},{type:getNormalizedType(type2),index:index,name:name}),Object.defineProperty(metadata,$descriptors,{value:metadata[$descriptors]||{},enumerable:!1,configurable:!0}),descriptor?(metadata[$descriptors][name]=descriptor,metadata[$descriptors][`_${name}`]={value:void 0,writable:!0,enumerable:!1,configurable:!0}):metadata[$descriptors][name]={value:void 0,writable:!0,enumerable:!0,configurable:!0},Object.defineProperty(metadata,$numFields,{value:index,enumerable:!1,configurable:!0}),Object.defineProperty(metadata,name,{value:index,enumerable:!1,configurable:!0}),"string"!=typeof metadata[index].type&&(void 0===metadata[$refTypeFieldIndexes]&&Object.defineProperty(metadata,$refTypeFieldIndexes,{value:[],enumerable:!1,configurable:!0}),metadata[$refTypeFieldIndexes].push(index))},setTag(metadata,fieldName,tag){const index=metadata[fieldName];metadata[index].tag=tag,metadata[$viewFieldIndexes]||(Object.defineProperty(metadata,$viewFieldIndexes,{value:[],enumerable:!1,configurable:!0}),Object.defineProperty(metadata,$fieldIndexesByViewTag,{value:{},enumerable:!1,configurable:!0})),metadata[$viewFieldIndexes].push(index),metadata[$fieldIndexesByViewTag][tag]||(metadata[$fieldIndexesByViewTag][tag]=[]),metadata[$fieldIndexesByViewTag][tag].push(index)},setFields(target2,fields){const constructor=target2.prototype.constructor;TypeContext.register(constructor);const parentClass=Object.getPrototypeOf(constructor),parentMetadata=parentClass&&parentClass[Symbol.metadata],metadata=Metadata.initialize(constructor);constructor[$track]||(constructor[$track]=Schema[$track]),constructor[$encoder]||(constructor[$encoder]=Schema[$encoder]),constructor[$decoder]||(constructor[$decoder]=Schema[$decoder]),constructor.prototype.toJSON||(constructor.prototype.toJSON=Schema.prototype.toJSON);let fieldIndex=metadata[$numFields]??(parentMetadata&&parentMetadata[$numFields])??-1;fieldIndex++;for(const field in fields){const type2=fields[field],complexTypeKlass=Array.isArray(type2)?getType("array"):"string"==typeof Object.keys(type2)[0]&&getType(Object.keys(type2)[0]),childType=complexTypeKlass?Object.values(type2)[0]:getNormalizedType(type2);Metadata.addField(metadata,fieldIndex,field,type2,getPropertyDescriptor(`_${field}`,fieldIndex,childType,complexTypeKlass)),fieldIndex++}return target2},isDeprecated:(metadata,field)=>!0===metadata[field].deprecated,init(klass){const metadata={};klass[Symbol.metadata]=metadata,Object.defineProperty(metadata,$numFields,{value:0,enumerable:!1,configurable:!0})},initialize(constructor){const parentClass=Object.getPrototypeOf(constructor),parentMetadata=parentClass[Symbol.metadata];let metadata=constructor[Symbol.metadata]??Object.create(null);return parentClass!==Schema&&metadata===parentMetadata&&(metadata=Object.create(null),parentMetadata&&(Object.setPrototypeOf(metadata,parentMetadata),Object.defineProperty(metadata,$numFields,{value:parentMetadata[$numFields],enumerable:!1,configurable:!0,writable:!0}),void 0!==parentMetadata[$viewFieldIndexes]&&(Object.defineProperty(metadata,$viewFieldIndexes,{value:[...parentMetadata[$viewFieldIndexes]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(metadata,$fieldIndexesByViewTag,{value:{...parentMetadata[$fieldIndexesByViewTag]},enumerable:!1,configurable:!0,writable:!0})),void 0!==parentMetadata[$refTypeFieldIndexes]&&Object.defineProperty(metadata,$refTypeFieldIndexes,{value:[...parentMetadata[$refTypeFieldIndexes]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(metadata,$descriptors,{value:{...parentMetadata[$descriptors]},enumerable:!1,configurable:!0,writable:!0}))),constructor[Symbol.metadata]=metadata,metadata},isValidInstance:klass=>klass.constructor[Symbol.metadata]&&Object.prototype.hasOwnProperty.call(klass.constructor[Symbol.metadata],$numFields),getFields(klass){const metadata=klass[Symbol.metadata],fields={};for(let i=0;i<=metadata[$numFields];i++)fields[metadata[i].name]=metadata[i].type;return fields},hasViewTagAtIndex(metadata,index){var _a3;return null==(_a3=null==metadata?void 0:metadata[$viewFieldIndexes])?void 0:_a3.includes(index)}};function createChangeSet(){return{indexes:{},operations:[]}}function setOperationAtIndex(changeSet,index){const operationsIndex=changeSet.indexes[index];void 0===operationsIndex?changeSet.indexes[index]=changeSet.operations.push(index)-1:changeSet.operations[operationsIndex]=index}function deleteOperationAtIndex(changeSet,index){var _a3;let operationsIndex=changeSet.indexes[index];void 0===operationsIndex&&(operationsIndex=Object.values(changeSet.indexes).at(-1),index=null==(_a3=Object.entries(changeSet.indexes).find((([_,value])=>value===operationsIndex)))?void 0:_a3[0]),changeSet.operations[operationsIndex]=void 0,delete changeSet.indexes[index]}function enqueueChangeTree(root,changeTree,changeSet,queueRootIndex=changeTree[changeSet].queueRootIndex){root&&root[changeSet][queueRootIndex]!==changeTree&&(changeTree[changeSet].queueRootIndex=root[changeSet].push(changeTree)-1)}class ChangeTree{constructor(ref){this.isFiltered=!1,this.indexedOperations={},this.changes={indexes:{},operations:[]},this.allChanges={indexes:{},operations:[]},this.isNew=!0,this.ref=ref;const metadata=ref.constructor[Symbol.metadata];(null==metadata?void 0:metadata[$viewFieldIndexes])&&(this.allFilteredChanges={indexes:{},operations:[]},this.filteredChanges={indexes:{},operations:[]})}setRoot(root){var _a3;this.root=root,this.checkIsFiltered(this.parent,this.parentIndex);const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];null==value||value[$changes].setRoot(root)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{value[$changes].setRoot(root)}))}setParent(parent,root,parentIndex){var _a3;if(this.parent=parent,this.parentIndex=parentIndex,!root)return;root!==this.root?(this.root=root,this.checkIsFiltered(parent,parentIndex)):root.add(this);const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];null==value||value[$changes].setParent(this.ref,root,index)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{value[$changes].setParent(this.ref,root,this.indexes[key]??key)}))}forEachChild(callback){var _a3;const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];value&&callback(value[$changes],index)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{callback(value[$changes],this.indexes[key]??key)}))}operation(op){void 0!==this.filteredChanges?(this.filteredChanges.operations.push(-op),enqueueChangeTree(this.root,this,"filteredChanges")):(this.changes.operations.push(-op),enqueueChangeTree(this.root,this,"changes"))}change(index,operation=exports2.OPERATION.ADD){var _a3;const metadata=this.ref.constructor[Symbol.metadata],isFiltered=this.isFiltered||void 0!==(null==(_a3=null==metadata?void 0:metadata[index])?void 0:_a3.tag),changeSet=isFiltered?this.filteredChanges:this.changes,previousOperation=this.indexedOperations[index];if(!previousOperation||previousOperation===exports2.OPERATION.DELETE){const op=previousOperation&&previousOperation===exports2.OPERATION.DELETE?exports2.OPERATION.DELETE_AND_ADD:operation;this.indexedOperations[index]=op}setOperationAtIndex(changeSet,index),isFiltered?(setOperationAtIndex(this.allFilteredChanges,index),this.root&&(enqueueChangeTree(this.root,this,"filteredChanges"),enqueueChangeTree(this.root,this,"allFilteredChanges"))):(setOperationAtIndex(this.allChanges,index),enqueueChangeTree(this.root,this,"changes"))}shiftChangeIndexes(shiftIndex){const changeSet=this.isFiltered?this.filteredChanges:this.changes,newIndexedOperations={},newIndexes={};for(const index in this.indexedOperations)newIndexedOperations[Number(index)+shiftIndex]=this.indexedOperations[index],newIndexes[Number(index)+shiftIndex]=changeSet.indexes[index];this.indexedOperations=newIndexedOperations,changeSet.indexes=newIndexes,changeSet.operations=changeSet.operations.map((index=>index+shiftIndex))}shiftAllChangeIndexes(shiftIndex,startIndex=0){void 0!==this.filteredChanges?(this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allFilteredChanges),this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allChanges)):this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allChanges)}_shiftAllChangeIndexes(shiftIndex,startIndex=0,changeSet){const newIndexes={};let newKey=0;for(const key in changeSet.indexes)newIndexes[newKey++]=changeSet.indexes[key];changeSet.indexes=newIndexes;for(let i=0;i<changeSet.operations.length;i++){const index=changeSet.operations[i];index>startIndex&&(changeSet.operations[i]=index+shiftIndex)}}indexedOperation(index,operation,allChangesIndex=index){this.indexedOperations[index]=operation,void 0!==this.filteredChanges?(setOperationAtIndex(this.allFilteredChanges,allChangesIndex),setOperationAtIndex(this.filteredChanges,index),enqueueChangeTree(this.root,this,"filteredChanges")):(setOperationAtIndex(this.allChanges,allChangesIndex),setOperationAtIndex(this.changes,index),enqueueChangeTree(this.root,this,"changes"))}getType(index){return Metadata.isValidInstance(this.ref)?this.ref.constructor[Symbol.metadata][index].type:this.ref[$childType]}getChange(index){return this.indexedOperations[index]}getValue(index,isEncodeAll=!1){return this.ref[$getByIndex](index,isEncodeAll)}delete(index,operation,allChangesIndex=index){var _a3;if(void 0===index){try{throw new Error(`@colyseus/schema ${this.ref.constructor.name}: trying to delete non-existing index '${index}'`)}catch(e){console.warn(e)}return}const changeSet=void 0!==this.filteredChanges?this.filteredChanges:this.changes;this.indexedOperations[index]=operation??exports2.OPERATION.DELETE,setOperationAtIndex(changeSet,index),deleteOperationAtIndex(this.allChanges,allChangesIndex);const previousValue=this.getValue(index);return previousValue&&previousValue[$changes]&&(null==(_a3=this.root)||_a3.remove(previousValue[$changes])),void 0!==this.filteredChanges?(deleteOperationAtIndex(this.allFilteredChanges,allChangesIndex),enqueueChangeTree(this.root,this,"filteredChanges")):enqueueChangeTree(this.root,this,"changes"),previousValue}endEncode(changeSetName){var _a3,_b2;this.indexedOperations={},this[changeSetName].indexes={},this[changeSetName].operations.length=0,this[changeSetName].queueRootIndex=void 0,null==(_b2=(_a3=this.ref)[$onEncodeEnd])||_b2.call(_a3),this.isNew=!1}discard(discardAll=!1){var _a3,_b2;null==(_b2=(_a3=this.ref)[$onEncodeEnd])||_b2.call(_a3),this.indexedOperations={},this.changes.indexes={},this.changes.operations.length=0,this.changes.queueRootIndex=void 0,void 0!==this.filteredChanges&&(this.filteredChanges.indexes={},this.filteredChanges.operations.length=0,this.filteredChanges.queueRootIndex=void 0),discardAll&&(this.allChanges.indexes={},this.allChanges.operations.length=0,void 0!==this.allFilteredChanges&&(this.allFilteredChanges.indexes={},this.allFilteredChanges.operations.length=0),this.forEachChild(((changeTree,_)=>{var _a4;return null==(_a4=this.root)?void 0:_a4.remove(changeTree)})))}discardAll(){const keys=Object.keys(this.indexedOperations);for(let i=0,len=keys.length;i<len;i++){const value=this.getValue(Number(keys[i]));value&&value[$changes]&&value[$changes].discardAll()}this.discard()}ensureRefId(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())}get changed(){return Object.entries(this.indexedOperations).length>0}checkIsFiltered(parent,parentIndex){const isNewChangeTree=this.root.add(this);this.root.types.hasFilters&&(this._checkFilteredByParent(parent,parentIndex),void 0!==this.filteredChanges&&(enqueueChangeTree(this.root,this,"filteredChanges"),isNewChangeTree&&this.root.allFilteredChanges.push(this))),this.isFiltered||(enqueueChangeTree(this.root,this,"changes"),isNewChangeTree&&this.root.allChanges.push(this))}_checkFilteredByParent(parent,parentIndex){if(!parent)return;const refType=Metadata.isValidInstance(this.ref)?this.ref.constructor:this.ref[$childType];let parentChangeTree,parentIsCollection=!Metadata.isValidInstance(parent);parentIsCollection?(parentChangeTree=parent[$changes],parent=parentChangeTree.parent,parentIndex=parentChangeTree.parentIndex):parentChangeTree=parent[$changes];const parentConstructor=parent.constructor;let key=`${this.root.types.getTypeId(refType)}`;parentConstructor&&(key+=`-${this.root.types.schemas.get(parentConstructor)}`),key+=`-${parentIndex}`;const fieldHasViewTag=Metadata.hasViewTagAtIndex(null==parentConstructor?void 0:parentConstructor[Symbol.metadata],parentIndex);this.isFiltered=parent[$changes].isFiltered||this.root.types.parentFiltered[key]||fieldHasViewTag,this.isFiltered&&(this.isVisibilitySharedWithParent=parentChangeTree.isFiltered&&"string"!=typeof refType&&!fieldHasViewTag&&parentIsCollection,this.filteredChanges||(this.filteredChanges=createChangeSet(),this.allFilteredChanges=createChangeSet()),this.changes.operations.length>0&&(this.changes.operations.forEach((index=>setOperationAtIndex(this.filteredChanges,index))),this.allChanges.operations.forEach((index=>setOperationAtIndex(this.allFilteredChanges,index))),this.changes=createChangeSet(),this.allChanges=createChangeSet()))}}function encodeValue(encoder,bytes,type2,value,operation,it){var _a3;"string"==typeof type2?null==(_a3=encode2[type2])||_a3.call(encode2,bytes,value,it):void 0!==type2[Symbol.metadata]?(encode2.number(bytes,value[$changes].refId,it),(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&encoder.tryEncodeTypeId(bytes,type2,value.constructor,it)):encode2.number(bytes,value[$changes].refId,it)}const encodeSchemaOperation=function(encoder,bytes,changeTree,index,operation,it,_,__,metadata){if(bytes[it.offset++]=255&(index|operation),operation===exports2.OPERATION.DELETE)return;const ref=changeTree.ref,field=metadata[index];encodeValue(encoder,bytes,metadata[index].type,ref[field.name],operation,it)},encodeKeyValueOperation=function(encoder,bytes,changeTree,index,operation,it){if(bytes[it.offset++]=255&operation,operation===exports2.OPERATION.CLEAR)return;if(encode2.number(bytes,index,it),operation===exports2.OPERATION.DELETE)return;const ref=changeTree.ref;if((operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&"function"==typeof ref.set){const dynamicIndex=changeTree.ref.$indexes.get(index);encode2.string(bytes,dynamicIndex,it)}encodeValue(encoder,bytes,ref[$childType],ref[$getByIndex](index),operation,it)},encodeArray=function(encoder,bytes,changeTree,field,operation,it,isEncodeAll,hasView){const ref=changeTree.ref;let refOrIndex;hasView&&changeTree.isFiltered&&"string"!=typeof changeTree.getType(field)?(refOrIndex=ref.tmpItems[field][$changes].refId,operation===exports2.OPERATION.DELETE?operation=exports2.OPERATION.DELETE_BY_REFID:operation===exports2.OPERATION.ADD&&(operation=exports2.OPERATION.ADD_BY_REFID)):refOrIndex=field,bytes[it.offset++]=255&operation,operation!==exports2.OPERATION.CLEAR&&operation!==exports2.OPERATION.REVERSE&&(encode2.number(bytes,refOrIndex,it),operation!==exports2.OPERATION.DELETE&&operation!==exports2.OPERATION.DELETE_BY_REFID&&encodeValue(encoder,bytes,changeTree.getType(field),changeTree.getValue(field,isEncodeAll),operation,it))},DEFINITION_MISMATCH=-1;function decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges){const $root=decoder2.root,previousValue=ref[$getByIndex](index);let value;if((operation&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE){const previousRefId=$root.refIds.get(previousValue);void 0!==previousRefId&&$root.removeRef(previousRefId),operation!==exports2.OPERATION.DELETE_AND_ADD&&ref[$deleteByIndex](index),value=void 0}if(operation===exports2.OPERATION.DELETE);else if(Schema.is(type2)){const refId=decode2.number(bytes,it);if(value=$root.refs.get(refId),(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD){const childType=decoder2.getInstanceType(bytes,it,type2);value||(value=decoder2.createInstanceOfType(childType)),$root.addRef(refId,value,value!==previousValue||operation===exports2.OPERATION.DELETE_AND_ADD&&value===previousValue)}}else if("string"==typeof type2)value=decode2[type2](bytes,it);else{const typeDef=getType(Object.keys(type2)[0]),refId=decode2.number(bytes,it),valueRef=$root.refs.has(refId)?previousValue||$root.refs.get(refId):new typeDef.constructor;if(value=valueRef.clone(!0),value[$childType]=Object.values(type2)[0],previousValue){let previousRefId=$root.refIds.get(previousValue);if(void 0!==previousRefId&&refId!==previousRefId){const entries=previousValue.entries();let iter;for(;(iter=entries.next())&&!iter.done;){const[key,value2]=iter.value;"object"==typeof value2&&(previousRefId=$root.refIds.get(value2),$root.removeRef(previousRefId)),allChanges.push({ref:previousValue,refId:previousRefId,op:exports2.OPERATION.DELETE,field:key,value:void 0,previousValue:value2})}}}$root.addRef(refId,value,valueRef!==previousValue||operation===exports2.OPERATION.DELETE_AND_ADD&&valueRef===previousValue)}return{value:value,previousValue:previousValue}}const decodeSchemaOperation=function(decoder2,bytes,it,ref,allChanges){const first_byte=bytes[it.offset++],metadata=ref.constructor[Symbol.metadata],operation=first_byte>>6<<6,index=first_byte%(operation||255),field=metadata[index];if(void 0===field)return console.warn("@colyseus/schema: field not defined at",{index:index,ref:ref.constructor.name,metadata:metadata}),DEFINITION_MISMATCH;const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,field.type,bytes,it,allChanges);null!=value&&(ref[field.name]=value),previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:field.name,value:value,previousValue:previousValue})},decodeKeyValueOperation=function(decoder2,bytes,it,ref,allChanges){const operation=bytes[it.offset++];if(operation===exports2.OPERATION.CLEAR)return decoder2.removeChildRefs(ref,allChanges),void ref.clear();const index=decode2.number(bytes,it),type2=ref[$childType];let dynamicIndex;(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD?"function"==typeof ref.set?(dynamicIndex=decode2.string(bytes,it),ref.setIndex(index,dynamicIndex)):dynamicIndex=index:dynamicIndex=ref.getIndex(index);const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges);if(null!=value)if("function"==typeof ref.set)ref.$items.set(dynamicIndex,value);else if("function"==typeof ref.$setAt)ref.$setAt(index,value,operation);else if("function"==typeof ref.add){const index2=ref.add(value);"number"==typeof index2&&ref.setIndex(index2,index2)}previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:"",dynamicIndex:dynamicIndex,value:value,previousValue:previousValue})},decodeArray=function(decoder2,bytes,it,ref,allChanges){let index,operation=bytes[it.offset++];if(operation===exports2.OPERATION.CLEAR)return decoder2.removeChildRefs(ref,allChanges),void ref.clear();if(operation===exports2.OPERATION.REVERSE)return void ref.reverse();if(operation===exports2.OPERATION.DELETE_BY_REFID){const refId=decode2.number(bytes,it),previousValue2=decoder2.root.refs.get(refId);return index=ref.findIndex((value2=>value2===previousValue2)),ref[$deleteByIndex](index),void allChanges.push({ref:ref,refId:decoder2.currentRefId,op:exports2.OPERATION.DELETE,field:"",dynamicIndex:index,value:void 0,previousValue:previousValue2})}if(operation===exports2.OPERATION.ADD_BY_REFID){const refId=decode2.number(bytes,it),itemByRefId=decoder2.root.refs.get(refId);itemByRefId&&(index=ref.findIndex((value2=>value2===itemByRefId))),-1!==index&&void 0!==index||(index=ref.length)}else index=decode2.number(bytes,it);const type2=ref[$childType];let dynamicIndex=index;const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges);null!=value&&value!==previousValue&&ref.$setAt(index,value,operation),previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:"",dynamicIndex:dynamicIndex,value:value,previousValue:previousValue})};class EncodeSchemaError extends Error{}function assertType(value,type2,klass,field){let typeofTarget,allowNull=!1;switch(type2){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":typeofTarget="number",isNaN(value)&&console.log(`trying to encode "NaN" in ${klass.constructor.name}#${field}`);break;case"bigint64":case"biguint64":typeofTarget="bigint";break;case"string":typeofTarget="string",allowNull=!0;break;default:return}if(typeof value!==typeofTarget&&(!allowNull||allowNull&&null!==value)){let foundValue=`'${JSON.stringify(value)}'${value&&value.constructor&&` (${value.constructor.name})`||""}`;throw new EncodeSchemaError(`a '${typeofTarget}' was expected, but ${foundValue} was provided in ${klass.constructor.name}#${field}`)}}function assertInstanceType(value,type2,instance,field){if(!(value instanceof type2))throw new EncodeSchemaError(`a '${type2.name}' was expected, but '${value&&value.constructor.name}' was provided in ${instance.constructor.name}#${field}`)}var _a$4,_b$4;const DEFAULT_SORT=(a,b)=>{const A=a.toString(),B=b.toString();return A<B?-1:A>B?1:0},_ArraySchema=class _ArraySchema{static[(_a$4=$encoder,_b$4=$decoder,$filter)](ref,index,view2){var _a3;return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible(null==(_a3=ref.tmpItems[index])?void 0:_a3[$changes])}static is(type2){return Array.isArray(type2)||void 0!==type2.array}static from(iterable){return new _ArraySchema(...Array.from(iterable))}constructor(...items){this.items=[],this.tmpItems=[],this.deletedIndexes={},this.isMovingItems=!1,Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0});const proxy=new Proxy(this,{get:(obj,prop)=>"symbol"==typeof prop||isNaN(prop)?Reflect.get(obj,prop):this.items[prop],set:(obj,key,setValue)=>{var _a3;if("symbol"==typeof key||isNaN(key))return Reflect.set(obj,key,setValue);if(null==setValue)obj.$deleteAt(key);else{if(setValue[$changes]){assertInstanceType(setValue,obj[$childType],obj,key);const previousValue=obj.items[key];obj.isMovingItems?(void 0!==previousValue?setValue[$changes].isNew?obj[$changes].indexedOperation(Number(key),exports2.OPERATION.MOVE_AND_ADD):(obj[$changes].getChange(Number(key))&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE?obj[$changes].indexedOperation(Number(key),exports2.OPERATION.DELETE_AND_MOVE):obj[$changes].indexedOperation(Number(key),exports2.OPERATION.MOVE):setValue[$changes].isNew&&obj[$changes].indexedOperation(Number(key),exports2.OPERATION.ADD),setValue[$changes].setParent(this,obj[$changes].root,key)):obj.$changeAt(Number(key),setValue),void 0!==previousValue&&(null==(_a3=previousValue[$changes].root)||_a3.remove(previousValue[$changes]))}else obj.$changeAt(Number(key),setValue);obj.items[key]=setValue,obj.tmpItems[key]=setValue}return!0},deleteProperty:(obj,prop)=>("number"==typeof prop?obj.$deleteAt(prop):delete obj[prop],!0),has:(obj,key)=>"symbol"==typeof key||isNaN(Number(key))?Reflect.has(obj,key):Reflect.has(this.items,key)});return this[$changes]=new ChangeTree(proxy),this[$changes].indexes={},items.length>0&&this.push(...items),proxy}set length(newLength){0===newLength?this.clear():newLength<this.items.length?this.splice(newLength,this.length-newLength):console.warn("ArraySchema: can't set .length to a higher value than its length.")}get length(){return this.items.length}push(...values){var _a3;let length=this.tmpItems.length;const changeTree=this[$changes];let i=0;for(values.length;i<values.length;i++,length++){const value=values[i];if(null==value)return;"object"==typeof value&&this[$childType]&&assertInstanceType(value,this[$childType],this,i),changeTree.indexedOperation(length,exports2.OPERATION.ADD,this.items.length),this.items.push(value),this.tmpItems.push(value),null==(_a3=value[$changes])||_a3.setParent(this,changeTree.root,length)}return length}pop(){let index=-1;for(let i=this.tmpItems.length-1;i>=0;i--)if(!0!==this.deletedIndexes[i]){index=i;break}if(!(index<0))return this[$changes].delete(index,void 0,this.items.length-1),this.deletedIndexes[index]=!0,this.items.pop()}at(index){return index<0&&(index+=this.length),this.items[index]}$changeAt(index,value){var _a3;if(null==value)return void console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");if(this.items[index]===value)return;const operation=void 0!==this.items[index]?"object"==typeof value?exports2.OPERATION.DELETE_AND_ADD:exports2.OPERATION.REPLACE:exports2.OPERATION.ADD,changeTree=this[$changes];changeTree.change(index,operation),null==(_a3=value[$changes])||_a3.setParent(this,changeTree.root,index)}$deleteAt(index,operation){this[$changes].delete(index,operation)}$setAt(index,value,operation){0===index&&operation===exports2.OPERATION.ADD&&void 0!==this.items[index]?this.items.unshift(value):operation===exports2.OPERATION.DELETE_AND_MOVE?(this.items.splice(index,1),this.items[index]=value):this.items[index]=value}clear(){if(0===this.items.length)return;const changeTree=this[$changes];changeTree.forEachChild(((changeTree2,_)=>{changeTree2.discard(!0);const root=changeTree2.root;void 0!==root&&(root.removeChangeFromChangeSet("changes",changeTree2),root.removeChangeFromChangeSet("allChanges",changeTree2),root.removeChangeFromChangeSet("allFilteredChanges",changeTree2))})),changeTree.discard(!0),changeTree.operation(exports2.OPERATION.CLEAR),this.items.length=0,this.tmpItems.length=0}concat(...items){return new _ArraySchema(...this.items.concat(...items))}join(separator){return this.items.join(separator)}reverse(){return this[$changes].operation(exports2.OPERATION.REVERSE),this.items.reverse(),this.tmpItems.reverse(),this}shift(){if(0===this.items.length)return;const changeTree=this[$changes],index=this.tmpItems.findIndex((item=>item===this.items[0])),allChangesIndex=this.items.findIndex((item=>item===this.items[0]));return changeTree.delete(index,exports2.OPERATION.DELETE,allChangesIndex),changeTree.shiftAllChangeIndexes(-1,allChangesIndex),this.items.shift()}slice(start,end){const sliced=new _ArraySchema;return sliced.push(...this.items.slice(start,end)),sliced}sort(compareFn=DEFAULT_SORT){this.isMovingItems=!0;const changeTree=this[$changes];return this.items.sort(compareFn).forEach(((_,i)=>changeTree.change(i,exports2.OPERATION.REPLACE))),this.tmpItems.sort(compareFn),this.isMovingItems=!1,this}splice(start,deleteCount,...insertItems){var _a3;const changeTree=this[$changes],itemsLength=this.items.length,tmpItemsLength=this.tmpItems.length,insertCount=insertItems.length,indexes=[];for(let i=0;i<tmpItemsLength;i++)!0!==this.deletedIndexes[i]&&indexes.push(i);if(itemsLength>start){void 0===deleteCount&&(deleteCount=itemsLength-start);for(let i=start;i<start+deleteCount;i++){const index=indexes[i];changeTree.delete(index,exports2.OPERATION.DELETE),this.deletedIndexes[index]=!0}}else deleteCount=0;if(insertCount>0){if(insertCount>deleteCount)throw console.error("Inserting more elements than deleting during ArraySchema#splice()"),new Error("ArraySchema#splice(): insertCount must be equal or lower than deleteCount.");for(let i=0;i<insertCount;i++){const addIndex=(indexes[start]??itemsLength)+i;changeTree.indexedOperation(addIndex,this.deletedIndexes[addIndex]?exports2.OPERATION.DELETE_AND_ADD:exports2.OPERATION.ADD),null==(_a3=insertItems[i][$changes])||_a3.setParent(this,changeTree.root,addIndex)}}return deleteCount>insertCount&&changeTree.shiftAllChangeIndexes(-(deleteCount-insertCount),indexes[start+insertCount]),void 0!==changeTree.filteredChanges?enqueueChangeTree(changeTree.root,changeTree,"filteredChanges"):enqueueChangeTree(changeTree.root,changeTree,"changes"),this.items.splice(start,deleteCount,...insertItems)}unshift(...items){const changeTree=this[$changes];return changeTree.shiftChangeIndexes(items.length),changeTree.isFiltered?setOperationAtIndex(changeTree.filteredChanges,this.items.length):setOperationAtIndex(changeTree.allChanges,this.items.length),items.forEach(((_,index)=>{changeTree.change(index,exports2.OPERATION.ADD)})),this.tmpItems.unshift(...items),this.items.unshift(...items)}indexOf(searchElement,fromIndex){return this.items.indexOf(searchElement,fromIndex)}lastIndexOf(searchElement,fromIndex=this.length-1){return this.items.lastIndexOf(searchElement,fromIndex)}every(callbackfn,thisArg){return this.items.every(callbackfn,thisArg)}some(callbackfn,thisArg){return this.items.some(callbackfn,thisArg)}forEach(callbackfn,thisArg){return this.items.forEach(callbackfn,thisArg)}map(callbackfn,thisArg){return this.items.map(callbackfn,thisArg)}filter(callbackfn,thisArg){return this.items.filter(callbackfn,thisArg)}reduce(callbackfn,initialValue){return this.items.reduce(callbackfn,initialValue)}reduceRight(callbackfn,initialValue){return this.items.reduceRight(callbackfn,initialValue)}find(predicate,thisArg){return this.items.find(predicate,thisArg)}findIndex(predicate,thisArg){return this.items.findIndex(predicate,thisArg)}fill(value,start,end){throw new Error("ArraySchema#fill() not implemented")}copyWithin(target2,start,end){throw new Error("ArraySchema#copyWithin() not implemented")}toString(){return this.items.toString()}toLocaleString(){return this.items.toLocaleString()}[Symbol.iterator](){return this.items[Symbol.iterator]()}static get[Symbol.species](){return _ArraySchema}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}includes(searchElement,fromIndex){return this.items.includes(searchElement,fromIndex)}flatMap(callback,thisArg){throw new Error("ArraySchema#flatMap() is not supported.")}flat(depth){throw new Error("ArraySchema#flat() is not supported.")}findLast(){return this.items.findLast.apply(this.items,arguments)}findLastIndex(...args){return this.items.findLastIndex.apply(this.items,arguments)}with(index,value){const copy2=this.items.slice();return index<0&&(index+=this.length),copy2[index]=value,new _ArraySchema(...copy2)}toReversed(){return this.items.slice().reverse()}toSorted(compareFn){return this.items.slice().sort(compareFn)}toSpliced(start,deleteCount,...items){return this.items.toSpliced.apply(copy,arguments)}shuffle(){return this.move((_=>{let currentIndex=this.items.length;for(;0!=currentIndex;){let randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--,[this[currentIndex],this[randomIndex]]=[this[randomIndex],this[currentIndex]]}}))}move(cb){return this.isMovingItems=!0,cb(this),this.isMovingItems=!1,this}[$getByIndex](index,isEncodeAll=!1){return isEncodeAll||this.deletedIndexes[index]?this.items[index]:this.tmpItems[index]||this.items[index]}[$deleteByIndex](index){this.items[index]=void 0,this.tmpItems[index]=void 0}[$onEncodeEnd](){this.tmpItems=this.items.slice(),this.deletedIndexes={}}[$onDecodeEnd](){this.items=this.items.filter((item=>void 0!==item)),this.tmpItems=this.items.slice()}toArray(){return this.items.slice(0)}toJSON(){return this.toArray().map((value=>"function"==typeof value.toJSON?value.toJSON():value))}clone(isDecoding){let cloned;return isDecoding?(cloned=new _ArraySchema,cloned.push(...this.items)):cloned=new _ArraySchema(...this.map((item=>item[$changes]?item.clone():item))),cloned}};_ArraySchema[_a$4]=encodeArray,_ArraySchema[_b$4]=decodeArray;let ArraySchema=_ArraySchema;var _a$3,_b$3;registerType("array",{constructor:ArraySchema});const _MapSchema=class _MapSchema{static[(_a$3=$encoder,_b$3=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.map}constructor(initialValues){if(this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues)if(initialValues instanceof Map||initialValues instanceof _MapSchema)initialValues.forEach(((v,k)=>this.set(k,v)));else for(const k in initialValues)this.set(k,initialValues[k]);Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}[Symbol.iterator](){return this.$items[Symbol.iterator]()}get[Symbol.toStringTag](){return this.$items[Symbol.toStringTag]}static get[Symbol.species](){return _MapSchema}set(key,value){var _a3;if(null==value)throw new Error(`MapSchema#set('${key}', ${value}): trying to set ${value} value on '${key}'.`);"object"==typeof value&&this[$childType]&&assertInstanceType(value,this[$childType],this,key),key=key.toString();const changeTree=this[$changes],isRef=void 0!==value[$changes];let index,operation;if(void 0!==changeTree.indexes[key]){index=changeTree.indexes[key],operation=exports2.OPERATION.REPLACE;const previousValue=this.$items.get(key);if(previousValue===value)return;isRef&&(operation=exports2.OPERATION.DELETE_AND_ADD,void 0!==previousValue&&(null==(_a3=previousValue[$changes].root)||_a3.remove(previousValue[$changes])))}else index=changeTree.indexes[$numFields]??0,operation=exports2.OPERATION.ADD,this.$indexes.set(index,key),changeTree.indexes[key]=index,changeTree.indexes[$numFields]=index+1;return this.$items.set(key,value),changeTree.change(index,operation),isRef&&value[$changes].setParent(this,changeTree.root,index),this}get(key){return this.$items.get(key)}delete(key){const index=this[$changes].indexes[key];return this.deletedItems[index]=this[$changes].delete(index),this.$items.delete(key)}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(key){return this.$items.has(key)}forEach(callbackfn){this.$items.forEach(callbackfn)}entries(){return this.$items.entries()}keys(){return this.$items.keys()}values(){return this.$items.values()}get size(){return this.$items.size}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toJSON(){const map={};return this.forEach(((value,key)=>{map[key]="function"==typeof value.toJSON?value.toJSON():value})),map}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _MapSchema,this):(cloned=new _MapSchema,this.forEach(((value,key)=>{value[$changes]?cloned.set(key,value.clone()):cloned.set(key,value)}))),cloned}};_MapSchema[_a$3]=encodeKeyValueOperation,_MapSchema[_b$3]=decodeKeyValueOperation;let MapSchema=_MapSchema;registerType("map",{constructor:MapSchema});const DEFAULT_VIEW_TAG=-1;function entity(constructor){return TypeContext.register(constructor),constructor}function view(tag=DEFAULT_VIEW_TAG){return function(target2,fieldName){var _a3;const constructor=target2.constructor,parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=constructor[_a3=Symbol.metadata]??(constructor[_a3]=Object.assign({},constructor[Symbol.metadata],parentMetadata??Object.create(null)));Metadata.setTag(metadata,fieldName,tag)}}function type(type2,options){return function(target2,field){const constructor=target2.constructor;if(!type2)throw new Error(`${constructor.name}: @type() reference provided for "${field}" is undefined. Make sure you don't have any circular dependencies.`);TypeContext.register(constructor);const parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=Metadata.initialize(constructor);let fieldIndex=metadata[field];if(void 0!==metadata[fieldIndex]){if(metadata[fieldIndex].deprecated)return;if(void 0!==metadata[fieldIndex].type)try{throw new Error(`@colyseus/schema: Duplicate '${field}' definition on '${constructor.name}'.\nCheck @type() annotation`)}catch(e){const definitionAtLine=e.stack.split("\n")[4].trim();throw new Error(`${e.message} ${definitionAtLine}`)}}else fieldIndex=metadata[$numFields]??(parentMetadata&&parentMetadata[$numFields])??-1,fieldIndex++;if(options&&options.manual)Metadata.addField(metadata,fieldIndex,field,type2,{enumerable:!0,configurable:!0,writable:!0});else{const complexTypeKlass=Array.isArray(type2)?getType("array"):"string"==typeof Object.keys(type2)[0]&&getType(Object.keys(type2)[0]),childType=complexTypeKlass?Object.values(type2)[0]:type2;Metadata.addField(metadata,fieldIndex,field,type2,getPropertyDescriptor(`_${field}`,fieldIndex,childType,complexTypeKlass))}}}function getPropertyDescriptor(fieldCached,fieldIndex,type2,complexTypeKlass){return{get:function(){return this[fieldCached]},set:function(value){var _a3,_b2;const previousValue=this[fieldCached]??void 0;if(value!==previousValue){if(null!=value){complexTypeKlass?(complexTypeKlass.constructor!==ArraySchema||value instanceof ArraySchema||(value=new ArraySchema(...value)),complexTypeKlass.constructor!==MapSchema||value instanceof MapSchema||(value=new MapSchema(value)),value[$childType]=type2):"string"!=typeof type2?assertInstanceType(value,type2,this,fieldCached.substring(1)):assertType(value,type2,this,fieldCached.substring(1));const changeTree=this[$changes];void 0!==previousValue&&previousValue[$changes]?(null==(_a3=changeTree.root)||_a3.remove(previousValue[$changes]),this.constructor[$track](changeTree,fieldIndex,exports2.OPERATION.DELETE_AND_ADD)):this.constructor[$track](changeTree,fieldIndex,exports2.OPERATION.ADD),null==(_b2=value[$changes])||_b2.setParent(this,changeTree.root,fieldIndex)}else void 0!==previousValue&&this[$changes].delete(fieldIndex);this[fieldCached]=value}},enumerable:!0,configurable:!0}}function deprecated(throws=!0){return function(klass,field){var _a3;const constructor=klass.constructor,parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=constructor[_a3=Symbol.metadata]??(constructor[_a3]=Object.assign({},constructor[Symbol.metadata],parentMetadata??Object.create(null))),fieldIndex=metadata[field];metadata[fieldIndex].deprecated=!0,throws&&(metadata[$descriptors]??(metadata[$descriptors]={}),metadata[$descriptors][field]={get:function(){throw new Error(`${field} is deprecated.`)},set:function(value){},enumerable:!1,configurable:!0}),Object.defineProperty(metadata,fieldIndex,{value:metadata[fieldIndex],enumerable:!1,configurable:!0})}}function defineTypes(target2,fields,options){for(let field in fields)type(fields[field],options)(target2.prototype,field);return target2}function schema2(fields,name,inherits=Schema){const defaultValues={},viewTagFields={};for(let fieldName in fields){const field=fields[fieldName];"object"==typeof field&&(void 0!==field.default&&(defaultValues[fieldName]=field.default),void 0!==field.view&&(viewTagFields[fieldName]="boolean"==typeof field.view?DEFAULT_VIEW_TAG:field.view))}const klass=Metadata.setFields(class extends inherits{constructor(...args){args[0]=Object.assign({},defaultValues,args[0]),super(...args)}},fields);for(let fieldName in viewTagFields)view(viewTagFields[fieldName])(klass.prototype,fieldName);return name&&Object.defineProperty(klass,"name",{value:name}),klass.extends=(fields2,name2)=>schema2(fields2,name2,klass),klass}function getIndent(level){return new Array(level).fill(0).map(((_,i)=>i===level-1?"└─ ":"   ")).join("")}function dumpChanges(schema3){const $root=schema3[$changes].root,dump={ops:{},refs:[]};return $root.changes.forEach((changeTree=>{if(void 0===changeTree)return;const changes=changeTree.indexedOperations;dump.refs.push(`refId#${changeTree.refId}`);for(const index in changes){const op=changes[index],opName=exports2.OPERATION[op];dump.ops[opName]||(dump.ops[opName]=0),dump.ops[exports2.OPERATION[op]]++}})),dump}var _a$2,_b$2;const _Schema=class _Schema{static initialize(instance){var _a3;Object.defineProperty(instance,$changes,{value:new ChangeTree(instance),enumerable:!1,writable:!0}),Object.defineProperties(instance,(null==(_a3=instance.constructor[Symbol.metadata])?void 0:_a3[$descriptors])||{})}static is(type2){return"object"==typeof type2[Symbol.metadata]}static[(_a$2=$encoder,_b$2=$decoder,$track)](changeTree,index,operation=exports2.OPERATION.ADD){changeTree.change(index,operation)}static[$filter](ref,index,view2){var _a3,_b2;const tag=null==(_a3=ref.constructor[Symbol.metadata][index])?void 0:_a3.tag;if(void 0===view2)return void 0===tag;if(void 0===tag)return!0;if(tag===DEFAULT_VIEW_TAG)return view2.isChangeTreeVisible(ref[$changes]);{const tags=null==(_b2=view2.tags)?void 0:_b2.get(ref[$changes]);return tags&&tags.has(tag)}}constructor(...args){_Schema.initialize(this),args[0]&&Object.assign(this,args[0])}assign(props){return Object.assign(this,props),this}setDirty(property,operation){const metadata=this.constructor[Symbol.metadata];this[$changes].change(metadata[metadata[property]].index,operation)}clone(){var _a3;const cloned=new this.constructor,metadata=this.constructor[Symbol.metadata];for(const fieldIndex in metadata){const field=metadata[fieldIndex].name;"object"==typeof this[field]&&"function"==typeof(null==(_a3=this[field])?void 0:_a3.clone)?cloned[field]=this[field].clone():cloned[field]=this[field]}return cloned}toJSON(){const obj={},metadata=this.constructor[Symbol.metadata];for(const index in metadata){const field=metadata[index],fieldName=field.name;field.deprecated||null===this[fieldName]||void 0===this[fieldName]||(obj[fieldName]="function"==typeof this[fieldName].toJSON?this[fieldName].toJSON():this[fieldName])}return obj}discardAllChanges(){this[$changes].discardAll()}[$getByIndex](index){return this[this.constructor[Symbol.metadata][index].name]}[$deleteByIndex](index){this[this.constructor[Symbol.metadata][index].name]=void 0}static debugRefIds(ref,showContents=!1,level=0){const contents=showContents?` - ${JSON.stringify(ref.toJSON())}`:"",changeTree=ref[$changes],refId=changeTree.refId;let output="";return output+=`${getIndent(level)}${ref.constructor.name} (refId: ${refId})${contents}\n`,changeTree.forEachChild((childChangeTree=>output+=this.debugRefIds(childChangeTree.ref,showContents,level+1))),output}static debugChanges(instance,isEncodeAll=!1){const changeTree=instance[$changes],changeSet=isEncodeAll?changeTree.allChanges:changeTree.changes,changeSetName=isEncodeAll?"allChanges":"changes";let output=`${instance.constructor.name} (${changeTree.refId}) -> .${changeSetName}:\n`;function dumpChangeSet(changeSet2){changeSet2.operations.filter((op=>op)).forEach((index=>{const operation=changeTree.indexedOperations[index];console.log({index:index,operation:operation}),output+=`- [${index}]: ${exports2.OPERATION[operation]} (${JSON.stringify(changeTree.getValue(Number(index),isEncodeAll))})\n`}))}return dumpChangeSet(changeSet),!isEncodeAll&&changeTree.filteredChanges&&changeTree.filteredChanges.operations.filter((op=>op)).length>0&&(output+=`${instance.constructor.name} (${changeTree.refId}) -> .filteredChanges:\n`,dumpChangeSet(changeTree.filteredChanges)),isEncodeAll&&changeTree.allFilteredChanges&&changeTree.allFilteredChanges.operations.filter((op=>op)).length>0&&(output+=`${instance.constructor.name} (${changeTree.refId}) -> .allFilteredChanges:\n`,dumpChangeSet(changeTree.allFilteredChanges)),output}static debugChangesDeep(ref,changeSetName="changes"){var _a3,_b2;let output="";const rootChangeTree=ref[$changes],root=rootChangeTree.root,changeTrees=new Map,instanceRefIds=[];let totalOperations=0;for(const[refId,changes]of Object.entries(root[changeSetName])){const changeTree=root.changeTrees[refId];let includeChangeTree=!1,parentChangeTrees=[],parentChangeTree=null==(_a3=changeTree.parent)?void 0:_a3[$changes];if(changeTree===rootChangeTree)includeChangeTree=!0;else for(;void 0!==parentChangeTree;){if(parentChangeTrees.push(parentChangeTree),parentChangeTree.ref===ref){includeChangeTree=!0;break}parentChangeTree=null==(_b2=parentChangeTree.parent)?void 0:_b2[$changes]}includeChangeTree&&(instanceRefIds.push(changeTree.refId),totalOperations+=Object.keys(changes).length,changeTrees.set(changeTree,parentChangeTrees.reverse()))}output+="---\n",output+=`root refId: ${rootChangeTree.refId}\n`,output+=`Total instances: ${instanceRefIds.length} (refIds: ${instanceRefIds.join(", ")})\n`,output+=`Total changes: ${totalOperations}\n`,output+="---\n";const visitedParents=new WeakSet;for(const[changeTree,parentChangeTrees]of changeTrees.entries()){parentChangeTrees.forEach(((parentChangeTree,level2)=>{visitedParents.has(parentChangeTree)||(output+=`${getIndent(level2)}${parentChangeTree.ref.constructor.name} (refId: ${parentChangeTree.refId})\n`,visitedParents.add(parentChangeTree))}));const changes=changeTree.indexedOperations,level=parentChangeTrees.length,indent=getIndent(level),parentIndex=level>0?`(${changeTree.parentIndex}) `:"";output+=`${indent}${parentIndex}${changeTree.ref.constructor.name} (refId: ${changeTree.refId}) - changes: ${Object.keys(changes).length}\n`;for(const index in changes){const operation=changes[index];output+=`${getIndent(level+1)}${exports2.OPERATION[operation]}: ${index}\n`}}return`${output}`}};_Schema[_a$2]=encodeSchemaOperation,_Schema[_b$2]=decodeSchemaOperation;let Schema=_Schema;var _a$1,_b$1;const _CollectionSchema=class _CollectionSchema{static[(_a$1=$encoder,_b$1=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.collection}constructor(initialValues){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues&&initialValues.forEach((v=>this.add(v))),Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(value){const index=this.$refId++;return void 0!==value[$changes]&&value[$changes].setParent(this,this[$changes].root,index),this[$changes].indexes[index]=index,this.$indexes.set(index,index),this.$items.set(index,value),this[$changes].change(index),index}at(index){const key=Array.from(this.$items.keys())[index];return this.$items.get(key)}entries(){return this.$items.entries()}delete(item){const entries=this.$items.entries();let index,entry;for(;(entry=entries.next())&&!entry.done;)if(item===entry.value[1]){index=entry.value[0];break}return void 0!==index&&(this.deletedItems[index]=this[$changes].delete(index),this.$indexes.delete(index),this.$items.delete(index))}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(value){return Array.from(this.$items.values()).some((v=>v===value))}forEach(callbackfn){this.$items.forEach(((value,key,_)=>callbackfn(value,key,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const values=[];return this.forEach(((value,key)=>{values.push("function"==typeof value.toJSON?value.toJSON():value)})),values}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _CollectionSchema,this):(cloned=new _CollectionSchema,this.forEach((value=>{value[$changes]?cloned.add(value.clone()):cloned.add(value)}))),cloned}};_CollectionSchema[_a$1]=encodeKeyValueOperation,_CollectionSchema[_b$1]=decodeKeyValueOperation;let CollectionSchema=_CollectionSchema;var _a2,_b;registerType("collection",{constructor:CollectionSchema});const _SetSchema=class _SetSchema{static[(_a2=$encoder,_b=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.visible.has((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.set}constructor(initialValues){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues&&initialValues.forEach((v=>this.add(v))),Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(value){var _a3;if(this.has(value))return!1;const index=this.$refId++;void 0!==value[$changes]&&value[$changes].setParent(this,this[$changes].root,index);const operation=(null==(_a3=this[$changes].indexes[index])?void 0:_a3.op)??exports2.OPERATION.ADD;return this[$changes].indexes[index]=index,this.$indexes.set(index,index),this.$items.set(index,value),this[$changes].change(index,operation),index}entries(){return this.$items.entries()}delete(item){const entries=this.$items.entries();let index,entry;for(;(entry=entries.next())&&!entry.done;)if(item===entry.value[1]){index=entry.value[0];break}return void 0!==index&&(this.deletedItems[index]=this[$changes].delete(index),this.$indexes.delete(index),this.$items.delete(index))}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(value){const values=this.$items.values();let entry,has=!1;for(;(entry=values.next())&&!entry.done;)if(value===entry.value){has=!0;break}return has}forEach(callbackfn){this.$items.forEach(((value,key,_)=>callbackfn(value,key,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const values=[];return this.forEach(((value,key)=>{values.push("function"==typeof value.toJSON?value.toJSON():value)})),values}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _SetSchema,this):(cloned=new _SetSchema,this.forEach((value=>{value[$changes]?cloned.add(value.clone()):cloned.add(value)}))),cloned}};_SetSchema[_a2]=encodeKeyValueOperation,_SetSchema[_b]=decodeKeyValueOperation;let SetSchema=_SetSchema;function __decorate2(decorators,target2,key,desc){var d,c=arguments.length,r=c<3?target2:desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target2,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target2,key,r):d(target2,key))||r);return c>3&&r&&Object.defineProperty(target2,key,r),r}registerType("set",{constructor:SetSchema}),"function"==typeof SuppressedError&&SuppressedError;class Root{constructor(types){this.types=types,this.nextUniqueId=0,this.refCount={},this.changeTrees={},this.allChanges=[],this.allFilteredChanges=[],this.changes=[],this.filteredChanges=[]}getNextUniqueId(){return this.nextUniqueId++}add(changeTree){changeTree.ensureRefId();const isNewChangeTree=void 0===this.changeTrees[changeTree.refId];isNewChangeTree&&(this.changeTrees[changeTree.refId]=changeTree);const previousRefCount=this.refCount[changeTree.refId];if(0===previousRefCount){const ops=changeTree.allChanges.operations;let len=ops.length;for(;len--;)changeTree.indexedOperations[ops[len]]=exports2.OPERATION.ADD,setOperationAtIndex(changeTree.changes,len)}return this.refCount[changeTree.refId]=(previousRefCount||0)+1,isNewChangeTree}remove(changeTree){const refCount=this.refCount[changeTree.refId]-1;return refCount<=0?(changeTree.root=void 0,delete this.changeTrees[changeTree.refId],this.removeChangeFromChangeSet("allChanges",changeTree),this.removeChangeFromChangeSet("changes",changeTree),changeTree.filteredChanges&&(this.removeChangeFromChangeSet("allFilteredChanges",changeTree),this.removeChangeFromChangeSet("filteredChanges",changeTree)),this.refCount[changeTree.refId]=0):(this.refCount[changeTree.refId]=refCount,void 0!==changeTree.filteredChanges?(this.removeChangeFromChangeSet("filteredChanges",changeTree),enqueueChangeTree(this,changeTree,"filteredChanges")):(this.removeChangeFromChangeSet("changes",changeTree),enqueueChangeTree(this,changeTree,"changes"))),changeTree.forEachChild(((child,_)=>this.remove(child))),refCount}removeChangeFromChangeSet(changeSetName,changeTree){const changeSet=this[changeSetName],changeSetIndex=changeSet.indexOf(changeTree);if(-1!==changeSetIndex)return changeTree[changeSetName].queueRootIndex=-1,changeSet[changeSetIndex]=void 0,!0}clear(){this.changes.length=0}}const _Encoder=class _Encoder{constructor(state){this.sharedBuffer=Buffer.allocUnsafe(_Encoder.BUFFER_SIZE),this.context=TypeContext.cache(state.constructor),this.root=new Root(this.context),this.setState(state)}setState(state){this.state=state,this.state[$changes].setRoot(this.root)}encode(it={offset:0},view2,buffer=this.sharedBuffer,changeSetName="changes",isEncodeAll="allChanges"===changeSetName,initialOffset=it.offset){const hasView=void 0!==view2,rootChangeTree=this.state[$changes],changeTrees=this.root[changeSetName];for(let i=0,numChangeTrees=changeTrees.length;i<numChangeTrees;i++){const changeTree=changeTrees[i];if(!changeTree)continue;if(hasView){if(!view2.isChangeTreeVisible(changeTree)){view2.invisible.add(changeTree);continue}view2.invisible.delete(changeTree)}const changeSet=changeTree[changeSetName],ref=changeTree.ref,numChanges=changeSet.operations.length;if(0===numChanges)continue;const ctor=ref.constructor,encoder=ctor[$encoder],filter=ctor[$filter],metadata=ctor[Symbol.metadata];(hasView||it.offset>initialOffset||changeTree!==rootChangeTree)&&(buffer[it.offset++]=255&SWITCH_TO_STRUCTURE,encode2.number(buffer,changeTree.refId,it));for(let j=0;j<numChanges;j++){const fieldIndex=changeSet.operations[j],operation=fieldIndex<0?Math.abs(fieldIndex):isEncodeAll?exports2.OPERATION.ADD:changeTree.indexedOperations[fieldIndex];void 0===fieldIndex||void 0===operation||filter&&!filter(ref,fieldIndex,view2)||encoder(this,buffer,changeTree,fieldIndex,operation,it,isEncodeAll,hasView,metadata)}}if(it.offset>buffer.byteLength){const newSize=Math.ceil(it.offset/(Buffer.poolSize??8192))*(Buffer.poolSize??8192);return console.warn(`@colyseus/schema buffer overflow. Encoded state is higher than default BUFFER_SIZE. Use the following to increase default BUFFER_SIZE:\n\n    import { Encoder } from "@colyseus/schema";\n    Encoder.BUFFER_SIZE = ${Math.round(newSize/1024)} * 1024; // ${Math.round(newSize/1024)} KB\n`),(buffer=Buffer.alloc(newSize,buffer))===this.sharedBuffer&&(this.sharedBuffer=buffer),this.encode({offset:initialOffset},view2,buffer,changeSetName,isEncodeAll)}return buffer.subarray(0,it.offset)}encodeAll(it={offset:0},buffer=this.sharedBuffer){return this.encode(it,void 0,buffer,"allChanges",!0)}encodeAllView(view2,sharedOffset,it,bytes=this.sharedBuffer){const viewOffset=it.offset;return this.encode(it,view2,bytes,"allFilteredChanges",!0,viewOffset),Buffer.concat([bytes.subarray(0,sharedOffset),bytes.subarray(viewOffset,it.offset)])}debugChanges(field){("string"==typeof field?this.root[field]:field).forEach((changeTree=>{const changeSet=changeTree[field],metadata=changeTree.ref.constructor[Symbol.metadata];console.log("->",{ref:changeTree.ref.constructor.name,refId:changeTree.refId,changes:Object.keys(changeSet).length});for(const index in changeSet){const op=changeSet[index];console.log("  ->",{index:index,field:null==metadata?void 0:metadata[index],op:exports2.OPERATION[op]})}}))}encodeView(view2,sharedOffset,it,bytes=this.sharedBuffer){const viewOffset=it.offset;for(const[refId,changes]of view2.changes){const changeTree=this.root.changeTrees[refId];if(void 0===changeTree){view2.changes.delete(refId);continue}const keys=Object.keys(changes);if(0===keys.length)continue;const ctor=changeTree.ref.constructor,encoder=ctor[$encoder],metadata=ctor[Symbol.metadata];bytes[it.offset++]=255&SWITCH_TO_STRUCTURE,encode2.number(bytes,changeTree.refId,it);for(let i=0,numChanges=keys.length;i<numChanges;i++){const index=Number(keys[i]),value=changeTree.ref[$getByIndex](index);encoder(this,bytes,changeTree,index,void 0!==value&&changes[index]||exports2.OPERATION.DELETE,it,!1,!0,metadata)}}return view2.changes.clear(),this.encode(it,view2,bytes,"filteredChanges",!1,viewOffset),Buffer.concat([bytes.subarray(0,sharedOffset),bytes.subarray(viewOffset,it.offset)])}discardChanges(){var _a3,_b2;let length=this.root.changes.length;if(length>0){for(;length--;)null==(_a3=this.root.changes[length])||_a3.endEncode("changes");this.root.changes.length=0}if(length=this.root.filteredChanges.length,length>0){for(;length--;)null==(_b2=this.root.filteredChanges[length])||_b2.endEncode("filteredChanges");this.root.filteredChanges.length=0}}tryEncodeTypeId(bytes,baseType,targetType,it){const baseTypeId=this.context.getTypeId(baseType),targetTypeId=this.context.getTypeId(targetType);void 0!==targetTypeId?baseTypeId!==targetTypeId&&(bytes[it.offset++]=255&TYPE_ID,encode2.number(bytes,targetTypeId,it)):console.warn(`@colyseus/schema WARNING: Class "${targetType.name}" is not registered on TypeRegistry - Please either tag the class with @entity or define a @type() field.`)}get hasChanges(){return this.root.changes.length>0||this.root.filteredChanges.length>0}};_Encoder.BUFFER_SIZE="undefined"!=typeof Buffer&&Buffer.poolSize||8192;let Encoder2=_Encoder;function spliceOne(arr,index){if(-1===index||index>=arr.length)return!1;const len=arr.length-1;for(let i=index;i<len;i++)arr[i]=arr[i+1];return arr.length=len,!0}class DecodingWarning extends Error{constructor(message){super(message),this.name="DecodingWarning"}}class ReferenceTracker{constructor(){this.refs=new Map,this.refIds=new WeakMap,this.refCounts={},this.deletedRefs=new Set,this.callbacks={},this.nextUniqueId=0}getNextUniqueId(){return this.nextUniqueId++}addRef(refId,ref,incrementCount=!0){this.refs.set(refId,ref),this.refIds.set(ref,refId),incrementCount&&(this.refCounts[refId]=(this.refCounts[refId]||0)+1),this.deletedRefs.has(refId)&&this.deletedRefs.delete(refId)}removeRef(refId){const refCount=this.refCounts[refId];if(void 0!==refCount)if(0!==refCount)(this.refCounts[refId]=refCount-1)<=0&&this.deletedRefs.add(refId);else try{const ref=this.refs.get(refId);throw new DecodingWarning(`trying to remove refId '${refId}' with 0 refCount (${ref.constructor.name}: ${JSON.stringify(ref)})`)}catch(e){console.warn(e)}else try{throw new DecodingWarning("trying to remove refId that doesn't exist: "+refId)}catch(e){console.warn(e)}}clearRefs(){this.refs.clear(),this.deletedRefs.clear(),this.callbacks={},this.refCounts={}}garbageCollectDeletedRefs(){this.deletedRefs.forEach((refId=>{if(this.refCounts[refId]>0)return;const ref=this.refs.get(refId);if(void 0!==ref.constructor[Symbol.metadata]){const metadata=ref.constructor[Symbol.metadata];for(const index in metadata){const field=metadata[index].name,childRefId="object"==typeof ref[field]&&this.refIds.get(ref[field]);childRefId&&!this.deletedRefs.has(childRefId)&&this.removeRef(childRefId)}}else"function"==typeof ref[$childType]&&Array.from(ref.values()).forEach((child=>{const childRefId=this.refIds.get(child);this.deletedRefs.has(childRefId)||this.removeRef(childRefId)}));this.refs.delete(refId),delete this.refCounts[refId],delete this.callbacks[refId]})),this.deletedRefs.clear()}addCallback(refId,fieldOrOperation,callback){if(void 0===refId){const name="number"==typeof fieldOrOperation?exports2.OPERATION[fieldOrOperation]:fieldOrOperation;throw new Error(`Can't addCallback on '${name}' (refId is undefined)`)}return this.callbacks[refId]||(this.callbacks[refId]={}),this.callbacks[refId][fieldOrOperation]||(this.callbacks[refId][fieldOrOperation]=[]),this.callbacks[refId][fieldOrOperation].push(callback),()=>this.removeCallback(refId,fieldOrOperation,callback)}removeCallback(refId,field,callback){var _a3,_b2,_c;const index=null==(_c=null==(_b2=null==(_a3=this.callbacks)?void 0:_a3[refId])?void 0:_b2[field])?void 0:_c.indexOf(callback);-1!==index&&spliceOne(this.callbacks[refId][field],index)}}class Decoder2{constructor(root,context){this.currentRefId=0,this.setState(root),this.context=context||new TypeContext(root.constructor)}setState(root){this.state=root,this.root=new ReferenceTracker,this.root.addRef(0,root)}decode(bytes,it={offset:0},ref=this.state){var _a3,_b2,_c;const allChanges=[],$root=this.root,totalBytes=bytes.byteLength;let decoder2=ref.constructor[$decoder];for(this.currentRefId=0;it.offset<totalBytes;)if(bytes[it.offset]!=SWITCH_TO_STRUCTURE)if(decoder2(this,bytes,it,ref,allChanges)!==DEFINITION_MISMATCH);else{console.warn("@colyseus/schema: definition mismatch");const nextIterator={offset:it.offset};for(;it.offset<totalBytes&&(bytes[it.offset]!==SWITCH_TO_STRUCTURE||(nextIterator.offset=it.offset+1,!$root.refs.has(decode2.number(bytes,nextIterator))));)it.offset++}else{it.offset++,this.currentRefId=decode2.number(bytes,it);const nextRef=$root.refs.get(this.currentRefId);if(!nextRef)throw new Error(`"refId" not found: ${this.currentRefId}`);null==(_a3=ref[$onDecodeEnd])||_a3.call(ref),decoder2=(ref=nextRef).constructor[$decoder]}return null==(_b2=ref[$onDecodeEnd])||_b2.call(ref),null==(_c=this.triggerChanges)||_c.call(this,allChanges),$root.garbageCollectDeletedRefs(),allChanges}getInstanceType(bytes,it,defaultType){let type2;if(bytes[it.offset]===TYPE_ID){it.offset++;const type_id=decode2.number(bytes,it);type2=this.context.get(type_id)}return type2||defaultType}createInstanceOfType(type2){return new type2}removeChildRefs(ref,allChanges){const needRemoveRef="string"!=typeof ref[$childType],refId=this.root.refIds.get(ref);ref.forEach(((value,key)=>{allChanges.push({ref:ref,refId:refId,op:exports2.OPERATION.DELETE,field:key,value:void 0,previousValue:value}),needRemoveRef&&this.root.removeRef(this.root.refIds.get(value))}))}}class ReflectionField extends Schema{}__decorate2([type("string")],ReflectionField.prototype,"name",void 0),__decorate2([type("string")],ReflectionField.prototype,"type",void 0),__decorate2([type("number")],ReflectionField.prototype,"referencedType",void 0);class ReflectionType extends Schema{constructor(){super(...arguments),this.fields=new ArraySchema}}__decorate2([type("number")],ReflectionType.prototype,"id",void 0),__decorate2([type("number")],ReflectionType.prototype,"extendsId",void 0),__decorate2([type([ReflectionField])],ReflectionType.prototype,"fields",void 0);class Reflection extends Schema{constructor(){super(...arguments),this.types=new ArraySchema}static encode(encoder,it={offset:0}){const context=encoder.context,reflection=new Reflection,reflectionEncoder=new Encoder2(reflection),rootType=context.schemas.get(encoder.state.constructor);rootType>0&&(reflection.rootType=rootType);const includedTypeIds=new Set,pendingReflectionTypes={},addType=type2=>{if(void 0===type2.extendsId||includedTypeIds.has(type2.extendsId)){includedTypeIds.add(type2.id),reflection.types.push(type2);const deps=pendingReflectionTypes[type2.id];void 0!==deps&&(delete pendingReflectionTypes[type2.id],deps.forEach((childType=>addType(childType))))}else void 0===pendingReflectionTypes[type2.extendsId]&&(pendingReflectionTypes[type2.extendsId]=[]),pendingReflectionTypes[type2.extendsId].push(type2)};context.schemas.forEach(((typeid,klass)=>{const type2=new ReflectionType;type2.id=Number(typeid);const inheritFrom=Object.getPrototypeOf(klass);inheritFrom!==Schema&&(type2.extendsId=context.schemas.get(inheritFrom));const metadata=klass[Symbol.metadata];if(metadata!==inheritFrom[Symbol.metadata])for(const fieldIndex in metadata){const index=Number(fieldIndex),fieldName=metadata[index].name;if(!Object.prototype.hasOwnProperty.call(metadata,fieldName))continue;const reflectionField=new ReflectionField;let fieldType;reflectionField.name=fieldName;const field=metadata[index];if("string"==typeof field.type)fieldType=field.type;else{let childTypeSchema;Schema.is(field.type)?(fieldType="ref",childTypeSchema=field.type):(fieldType=Object.keys(field.type)[0],"string"==typeof field.type[fieldType]?fieldType+=":"+field.type[fieldType]:childTypeSchema=field.type[fieldType]),reflectionField.referencedType=childTypeSchema?context.getTypeId(childTypeSchema):-1}reflectionField.type=fieldType,type2.fields.push(reflectionField)}addType(type2)}));for(const typeid in pendingReflectionTypes)pendingReflectionTypes[typeid].forEach((type2=>reflection.types.push(type2)));const buf=reflectionEncoder.encodeAll(it);return Buffer.from(buf,0,it.offset)}static decode(bytes,it){const reflection=new Reflection;new Decoder2(reflection).decode(bytes,it);const typeContext=new TypeContext;reflection.types.forEach((reflectionType=>{const parentClass=typeContext.get(reflectionType.extendsId)??Schema,schema3=class _ extends parentClass{};TypeContext.register(schema3),typeContext.add(schema3,reflectionType.id)}),{});const addFields=(metadata,reflectionType,parentFieldIndex)=>{reflectionType.fields.forEach(((field,i)=>{const fieldIndex=parentFieldIndex+i;if(void 0!==field.referencedType){let fieldType=field.type,refType=typeContext.get(field.referencedType);if(!refType){const typeInfo=field.type.split(":");fieldType=typeInfo[0],refType=typeInfo[1]}"ref"===fieldType?Metadata.addField(metadata,fieldIndex,field.name,refType):Metadata.addField(metadata,fieldIndex,field.name,{[fieldType]:refType})}else Metadata.addField(metadata,fieldIndex,field.name,field.type)}))};reflection.types.forEach((reflectionType=>{const schema3=typeContext.get(reflectionType.id),metadata=Metadata.initialize(schema3),inheritedTypes=[];let parentType=reflectionType;do{inheritedTypes.push(parentType),parentType=reflection.types.find((t=>t.id===parentType.extendsId))}while(parentType);let parentFieldIndex=0;inheritedTypes.reverse().forEach((reflectionType2=>{addFields(metadata,reflectionType2,parentFieldIndex),parentFieldIndex+=reflectionType2.fields.length}))}));const state=new(typeContext.get(reflection.rootType||0));return new Decoder2(state,typeContext)}}function getDecoderStateCallbacks(decoder2){const $root=decoder2.root,callbacks=$root.callbacks,onAddCalls=new WeakMap;let currentOnAddCallback;function getProxy(metadataOrType,context){var _a3;let metadata=(null==(_a3=context.instance)?void 0:_a3.constructor[Symbol.metadata])||metadataOrType,isCollection=context.instance&&"function"==typeof context.instance.forEach||metadataOrType&&void 0===metadataOrType[Symbol.metadata];if(metadata&&!isCollection){const onAddListen=function(ref,prop,callback,immediate){return immediate&&void 0!==context.instance[prop]&&!onAddCalls.has(currentOnAddCallback)&&callback(context.instance[prop],void 0),$root.addCallback($root.refIds.get(ref),prop,callback)};return new Proxy({listen:function listen(prop,callback,immediate=!0){if(context.instance)return onAddListen(context.instance,prop,callback,immediate);{let detachCallback=()=>{};return context.onInstanceAvailable(((ref,existing)=>{detachCallback=onAddListen(ref,prop,callback,immediate&&existing&&!onAddCalls.has(currentOnAddCallback))})),()=>detachCallback()}},onChange:function onChange(callback){return $root.addCallback($root.refIds.get(context.instance),exports2.OPERATION.REPLACE,callback)},bindTo:function bindTo(targetObject,properties){return properties||(properties=Object.keys(metadata).map((index=>metadata[index].name))),$root.addCallback($root.refIds.get(context.instance),exports2.OPERATION.REPLACE,(()=>{properties.forEach((prop=>targetObject[prop]=context.instance[prop]))}))}},{get(target2,prop){var _a4;const metadataField=metadata[metadata[prop]];if(metadataField){const instance=null==(_a4=context.instance)?void 0:_a4[prop],onInstanceAvailable=callback=>{const unbind=$(context.instance).listen(prop,((value,_)=>{callback(value,!1),null==unbind||unbind()}),!1);void 0!==$root.refIds.get(instance)&&callback(instance,!0)};return getProxy(metadataField.type,{instance:$root.refIds.get(instance)&&instance,parentInstance:context.instance,onInstanceAvailable:onInstanceAvailable})}return target2[prop]},has:(target2,prop)=>void 0!==metadata[prop],set(_,_1,_2){throw new Error("not allowed")},deleteProperty(_,_1){throw new Error("not allowed")}})}{const onAdd=function(ref,callback,immediate){return immediate&&ref.forEach(((v,k)=>callback(v,k))),$root.addCallback($root.refIds.get(ref),exports2.OPERATION.ADD,((value,key)=>{onAddCalls.set(callback,!0),currentOnAddCallback=callback,callback(value,key),onAddCalls.delete(callback),currentOnAddCallback=void 0}))},onRemove=function(ref,callback){return $root.addCallback($root.refIds.get(ref),exports2.OPERATION.DELETE,callback)},onChange=function(ref,callback){return $root.addCallback($root.refIds.get(ref),exports2.OPERATION.REPLACE,callback)};return new Proxy({onAdd:function(callback,immediate=!0){if(context.instance)return onAdd(context.instance,callback,immediate&&!onAddCalls.has(currentOnAddCallback));if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable(((ref,existing)=>{detachCallback=onAdd(ref,callback,immediate&&existing&&!onAddCalls.has(currentOnAddCallback))})),()=>detachCallback()}},onRemove:function(callback){if(context.instance)return onRemove(context.instance,callback);if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable((ref=>{detachCallback=onRemove(ref,callback)})),()=>detachCallback()}},onChange:function(callback){if(context.instance)return onChange(context.instance,callback);if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable((ref=>{detachCallback=onChange(ref,callback)})),()=>detachCallback()}}},{get(target2,prop){if(!target2[prop])throw new Error(`Can't access '${prop}' through callback proxy. access the instance directly.`);return target2[prop]},has:(target2,prop)=>void 0!==target2[prop],set(_,_1,_2){throw new Error("not allowed")},deleteProperty(_,_1){throw new Error("not allowed")}})}}function $(instance){return getProxy(void 0,{instance:instance})}return decoder2.triggerChanges=function(allChanges){var _a3;const uniqueRefIds=new Set;for(let i=0,l=allChanges.length;i<l;i++){const change=allChanges[i],refId=change.refId,ref=change.ref,$callbacks=callbacks[refId];if($callbacks){if((change.op&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE&&change.previousValue instanceof Schema){const deleteCallbacks=null==(_a3=callbacks[$root.refIds.get(change.previousValue)])?void 0:_a3[exports2.OPERATION.DELETE];for(let i2=(null==deleteCallbacks?void 0:deleteCallbacks.length)-1;i2>=0;i2--)deleteCallbacks[i2]()}if(ref instanceof Schema){if(!uniqueRefIds.has(refId)){const replaceCallbacks=null==$callbacks?void 0:$callbacks[exports2.OPERATION.REPLACE];for(let i2=(null==replaceCallbacks?void 0:replaceCallbacks.length)-1;i2>=0;i2--)replaceCallbacks[i2]()}if($callbacks.hasOwnProperty(change.field)){const fieldCallbacks=$callbacks[change.field];for(let i2=(null==fieldCallbacks?void 0:fieldCallbacks.length)-1;i2>=0;i2--)fieldCallbacks[i2](change.value,change.previousValue)}}else{if((change.op&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE){if(void 0!==change.previousValue){const deleteCallbacks=$callbacks[exports2.OPERATION.DELETE];for(let i2=(null==deleteCallbacks?void 0:deleteCallbacks.length)-1;i2>=0;i2--)deleteCallbacks[i2](change.previousValue,change.dynamicIndex??change.field)}if((change.op&exports2.OPERATION.ADD)===exports2.OPERATION.ADD){const addCallbacks=$callbacks[exports2.OPERATION.ADD];for(let i2=(null==addCallbacks?void 0:addCallbacks.length)-1;i2>=0;i2--)addCallbacks[i2](change.value,change.dynamicIndex??change.field)}}else if((change.op&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&change.previousValue!==change.value){const addCallbacks=$callbacks[exports2.OPERATION.ADD];for(let i2=(null==addCallbacks?void 0:addCallbacks.length)-1;i2>=0;i2--)addCallbacks[i2](change.value,change.dynamicIndex??change.field)}if(change.value!==change.previousValue&&(void 0!==change.value||void 0!==change.previousValue)){const replaceCallbacks=$callbacks[exports2.OPERATION.REPLACE];for(let i2=(null==replaceCallbacks?void 0:replaceCallbacks.length)-1;i2>=0;i2--)replaceCallbacks[i2](change.value,change.dynamicIndex??change.field)}}uniqueRefIds.add(refId)}}},$}function getRawChangesCallback(decoder2,callback){decoder2.triggerChanges=callback}__decorate2([type([ReflectionType])],Reflection.prototype,"types",void 0),__decorate2([type("number")],Reflection.prototype,"rootType",void 0);class StateView{constructor(iterable=!1){this.iterable=iterable,this.visible=new WeakSet,this.invisible=new WeakSet,this.changes=new Map,iterable&&(this.items=[])}add(obj,tag=DEFAULT_VIEW_TAG,checkIncludeParent=!0){var _a3,_b2;const changeTree=null==obj?void 0:obj[$changes];if(!changeTree)return console.warn("StateView#add(), invalid object:",obj),this;if(!changeTree.parent&&0!==changeTree.refId)throw new Error(`Cannot add a detached instance to the StateView. Make sure to assign the "${changeTree.ref.constructor.name}" instance to the state before calling view.add()`);const metadata=obj.constructor[Symbol.metadata];this.visible.add(changeTree),this.iterable&&checkIncludeParent&&this.items.push(obj),checkIncludeParent&&changeTree.parent&&this.addParentOf(changeTree,tag);let changes=this.changes.get(changeTree.refId);if(void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),tag!==DEFAULT_VIEW_TAG){let tags;this.tags||(this.tags=new WeakMap),this.tags.has(changeTree)?tags=this.tags.get(changeTree):(tags=new Set,this.tags.set(changeTree,tags)),tags.add(tag),null==(_b2=null==(_a3=null==metadata?void 0:metadata[$fieldIndexesByViewTag])?void 0:_a3[tag])||_b2.forEach((index=>{changeTree.getChange(index)!==exports2.OPERATION.DELETE&&(changes[index]=exports2.OPERATION.ADD)}))}else{const isInvisible=this.invisible.has(changeTree),changeSet=void 0!==changeTree.filteredChanges?changeTree.allFilteredChanges:changeTree.allChanges;for(let i=0,len=changeSet.operations.length;i<len;i++){const index=changeSet.operations[i];if(void 0===index)continue;const op=changeTree.indexedOperations[index]??exports2.OPERATION.ADD,tagAtIndex=null==metadata?void 0:metadata[index].tag;changeTree.isNew||!isInvisible&&void 0!==tagAtIndex&&tagAtIndex!==tag||op===exports2.OPERATION.DELETE||(changes[index]=op)}}return changeTree.forEachChild(((change,index)=>{metadata&&void 0!==metadata[index].tag&&metadata[index].tag!==tag||this.add(change.ref,tag,!1)})),this}addParentOf(childChangeTree,tag){var _a3;const changeTree=childChangeTree.parent[$changes],parentIndex=childChangeTree.parentIndex;if(!this.visible.has(changeTree)){this.visible.add(changeTree);const parentChangeTree=null==(_a3=changeTree.parent)?void 0:_a3[$changes];parentChangeTree&&void 0!==parentChangeTree.filteredChanges&&this.addParentOf(changeTree,tag)}if(changeTree.getChange(parentIndex)!==exports2.OPERATION.DELETE){let tags,changes=this.changes.get(changeTree.refId);void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),this.tags||(this.tags=new WeakMap),this.tags.has(changeTree)?tags=this.tags.get(changeTree):(tags=new Set,this.tags.set(changeTree,tags)),tags.add(tag),changes[parentIndex]=exports2.OPERATION.ADD}}remove(obj,tag=DEFAULT_VIEW_TAG,_isClear=!1){var _a3;const changeTree=obj[$changes];if(!changeTree)return console.warn("StateView#remove(), invalid object:",obj),this;this.visible.delete(changeTree),this.iterable&&!_isClear&&spliceOne(this.items,this.items.indexOf(obj));const metadata=changeTree.ref.constructor[Symbol.metadata];let changes=this.changes.get(changeTree.refId);if(void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),tag===DEFAULT_VIEW_TAG){const parent=changeTree.parent;if(!Metadata.isValidInstance(parent)&&changeTree.isFiltered){const parentChangeTree=parent[$changes];let changes2=this.changes.get(parentChangeTree.refId);void 0===changes2&&(changes2={},this.changes.set(parentChangeTree.refId,changes2)),changes2[changeTree.parentIndex]=exports2.OPERATION.DELETE}else null==(_a3=null==metadata?void 0:metadata[$viewFieldIndexes])||_a3.forEach((index=>changes[index]=exports2.OPERATION.DELETE))}else null==metadata||metadata[$fieldIndexesByViewTag][tag].forEach((index=>changes[index]=exports2.OPERATION.DELETE));if(this.tags&&this.tags.has(changeTree)){const tags=this.tags.get(changeTree);void 0===tag?this.tags.delete(changeTree):(tags.delete(tag),0===tags.size&&this.tags.delete(changeTree))}return this}has(obj){return this.visible.has(obj[$changes])}hasTag(ob,tag=DEFAULT_VIEW_TAG){var _a3;const tags=null==(_a3=this.tags)?void 0:_a3.get(ob[$changes]);return(null==tags?void 0:tags.has(tag))??!1}clear(){if(!this.iterable)throw new Error("StateView#clear() is only available for iterable StateView's. Use StateView(iterable: true) constructor.");for(let i=0,l=this.items.length;i<l;i++)this.remove(this.items[i],DEFAULT_VIEW_TAG,!0);this.items.length=0}isChangeTreeVisible(changeTree){let isVisible=this.visible.has(changeTree);return!isVisible&&changeTree.isVisibilitySharedWithParent&&this.visible.has(changeTree.parent[$changes])&&(this.visible.add(changeTree),isVisible=!0),isVisible}}registerType("map",{constructor:MapSchema}),registerType("array",{constructor:ArraySchema}),registerType("set",{constructor:SetSchema}),registerType("collection",{constructor:CollectionSchema}),exports2.$changes=$changes,exports2.$childType=$childType,exports2.$decoder=$decoder,exports2.$deleteByIndex=$deleteByIndex,exports2.$encoder=$encoder,exports2.$filter=$filter,exports2.$getByIndex=$getByIndex,exports2.$track=$track,exports2.ArraySchema=ArraySchema,exports2.ChangeTree=ChangeTree,exports2.CollectionSchema=CollectionSchema,exports2.Decoder=Decoder2,exports2.Encoder=Encoder2,exports2.MapSchema=MapSchema,exports2.Metadata=Metadata,exports2.Reflection=Reflection,exports2.ReflectionField=ReflectionField,exports2.ReflectionType=ReflectionType,exports2.Schema=Schema,exports2.SetSchema=SetSchema,exports2.StateView=StateView,exports2.TypeContext=TypeContext,exports2.decode=decode2,exports2.decodeKeyValueOperation=decodeKeyValueOperation,exports2.decodeSchemaOperation=decodeSchemaOperation,exports2.defineCustomTypes=defineCustomTypes,exports2.defineTypes=defineTypes,exports2.deprecated=deprecated,exports2.dumpChanges=dumpChanges,exports2.encode=encode2,exports2.encodeArray=encodeArray,exports2.encodeKeyValueOperation=encodeKeyValueOperation,exports2.encodeSchemaOperation=encodeSchemaOperation,exports2.entity=entity,exports2.getDecoderStateCallbacks=getDecoderStateCallbacks,exports2.getRawChangesCallback=getRawChangesCallback,exports2.registerType=registerType,exports2.schema=schema2,exports2.type=type,exports2.view=view}(umd$1.exports);var umdExports$1=umd$1.exports,tslib$3=require$$0,schema$2=umdExports$1;H3Transport$1.H3TransportTransport=class H3TransportTransport{constructor(events){this.events=events,this.isOpen=!1,this.lengthPrefixBuffer=new Uint8Array(9)}connect(url,options={}){const wtOpts=options.fingerprint&&{serverCertificateHashes:[{algorithm:"sha-256",value:new Uint8Array(options.fingerprint).buffer}]}||void 0;this.wt=new WebTransport(url,wtOpts),this.wt.ready.then((e=>{console.log("WebTransport ready!",e),this.isOpen=!0,this.unreliableReader=this.wt.datagrams.readable.getReader(),this.unreliableWriter=this.wt.datagrams.writable.getWriter();this.wt.incomingBidirectionalStreams.getReader().read().then((stream=>{this.reader=stream.value.readable.getReader(),this.writer=stream.value.writable.getWriter(),this.sendSeatReservation(options.room.roomId,options.sessionId,options.reconnectionToken),this.readIncomingData(),this.readIncomingUnreliableData()})).catch((e2=>{console.error("failed to read incoming stream",e2),console.error("TODO: close the connection")}))})).catch((e=>{console.log("WebTransport not ready!",e),this._close()})),this.wt.closed.then((e=>{console.log("WebTransport closed w/ success",e),this.events.onclose({code:e.closeCode,reason:e.reason})})).catch((e=>{console.log("WebTransport closed w/ error",e),this.events.onerror(e),this.events.onclose({code:e.closeCode,reason:e.reason})})).finally((()=>{this._close()}))}send(data){const prefixLength=schema$2.encode.number(this.lengthPrefixBuffer,data.length,{offset:0}),dataWithPrefixedLength=new Uint8Array(prefixLength+data.length);dataWithPrefixedLength.set(this.lengthPrefixBuffer.subarray(0,prefixLength),0),dataWithPrefixedLength.set(data,prefixLength),this.writer.write(dataWithPrefixedLength)}sendUnreliable(data){const prefixLength=schema$2.encode.number(this.lengthPrefixBuffer,data.length,{offset:0}),dataWithPrefixedLength=new Uint8Array(prefixLength+data.length);dataWithPrefixedLength.set(this.lengthPrefixBuffer.subarray(0,prefixLength),0),dataWithPrefixedLength.set(data,prefixLength),this.unreliableWriter.write(dataWithPrefixedLength)}close(code,reason){try{this.wt.close({closeCode:code,reason:reason})}catch(e){console.error(e)}}readIncomingData(){return tslib$3.__awaiter(this,void 0,void 0,(function*(){let result;for(;this.isOpen;){try{result=yield this.reader.read();const messages=result.value,it={offset:0};do{const length=schema$2.decode.number(messages,it);this.events.onmessage({data:messages.subarray(it.offset,it.offset+length)}),it.offset+=length}while(it.offset<messages.length)}catch(e){-1===e.message.indexOf("session is closed")&&console.error("H3Transport: failed to read incoming data",e);break}if(result.done)break}}))}readIncomingUnreliableData(){return tslib$3.__awaiter(this,void 0,void 0,(function*(){let result;for(;this.isOpen;){try{result=yield this.unreliableReader.read();const messages=result.value,it={offset:0};do{const length=schema$2.decode.number(messages,it);this.events.onmessage({data:messages.subarray(it.offset,it.offset+length)}),it.offset+=length}while(it.offset<messages.length)}catch(e){-1===e.message.indexOf("session is closed")&&console.error("H3Transport: failed to read incoming data",e);break}if(result.done)break}}))}sendSeatReservation(roomId,sessionId,reconnectionToken){const it={offset:0},bytes=[];schema$2.encode.string(bytes,roomId,it),schema$2.encode.string(bytes,sessionId,it),reconnectionToken&&schema$2.encode.string(bytes,reconnectionToken,it),this.writer.write(new Uint8Array(bytes).buffer)}_close(){this.isOpen=!1}};var WebSocketTransport$2={},NodeWebSocket=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const WebSocket=globalThis.WebSocket||NodeWebSocket;WebSocketTransport$2.WebSocketTransport=class WebSocketTransport{constructor(events){this.events=events}send(data){this.ws.send(data)}sendUnreliable(data){console.warn("colyseus.js: The WebSocket transport does not support unreliable messages")}connect(url,headers){try{this.ws=new WebSocket(url,{headers:headers,protocols:this.protocols})}catch(e){this.ws=new WebSocket(url,this.protocols)}this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(code,reason){this.ws.close(code,reason)}get isOpen(){return this.ws.readyState===WebSocket.OPEN}};var H3Transport=H3Transport$1,WebSocketTransport2=WebSocketTransport$2;Connection$2.Connection=class Connection{constructor(protocol){if(this.events={},"h3"===protocol)this.transport=new H3Transport.H3TransportTransport(this.events);else this.transport=new WebSocketTransport2.WebSocketTransport(this.events)}connect(url,options){this.transport.connect.call(this.transport,url,options)}send(data){this.transport.send(data)}sendUnreliable(data){this.transport.sendUnreliable(data)}close(code,reason){this.transport.close(code,reason)}get isOpen(){return this.transport.isOpen}};var exports,Protocol2,ErrorCode,Protocol$1={};(exports=Protocol$1).Protocol=void 0,(Protocol2=exports.Protocol||(exports.Protocol={}))[Protocol2.HANDSHAKE=9]="HANDSHAKE",Protocol2[Protocol2.JOIN_ROOM=10]="JOIN_ROOM",Protocol2[Protocol2.ERROR=11]="ERROR",Protocol2[Protocol2.LEAVE_ROOM=12]="LEAVE_ROOM",Protocol2[Protocol2.ROOM_DATA=13]="ROOM_DATA",Protocol2[Protocol2.ROOM_STATE=14]="ROOM_STATE",Protocol2[Protocol2.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",Protocol2[Protocol2.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",Protocol2[Protocol2.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES",exports.ErrorCode=void 0,(ErrorCode=exports.ErrorCode||(exports.ErrorCode={}))[ErrorCode.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",ErrorCode[ErrorCode.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",ErrorCode[ErrorCode.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",ErrorCode[ErrorCode.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",ErrorCode[ErrorCode.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",ErrorCode[ErrorCode.AUTH_FAILED=4215]="AUTH_FAILED",ErrorCode[ErrorCode.APPLICATION_ERROR=4216]="APPLICATION_ERROR";var Serializer$1={};const serializers={};Serializer$1.getSerializer=function getSerializer(id){const serializer=serializers[id];if(!serializer)throw new Error("missing serializer: "+id);return serializer},Serializer$1.registerSerializer=function registerSerializer(id,serializer){serializers[id]=serializer};var nanoevents$2={};nanoevents$2.createNanoEvents=()=>({emit(event,...args){let callbacks=this.events[event]||[];for(let i=0,length=callbacks.length;i<length;i++)callbacks[i](...args)},events:{},on(event,cb){var _a2;return(null===(_a2=this.events[event])||void 0===_a2?void 0:_a2.push(cb))||(this.events[event]=[cb]),()=>{var _a3;this.events[event]=null===(_a3=this.events[event])||void 0===_a3?void 0:_a3.filter((i=>cb!==i))}}});var signal$1={};class EventEmitter{constructor(){this.handlers=[]}register(cb,once=!1){return this.handlers.push(cb),this}invoke(...args){this.handlers.forEach((handler=>handler.apply(this,args)))}invokeAsync(...args){return Promise.all(this.handlers.map((handler=>handler.apply(this,args))))}remove(cb){const index=this.handlers.indexOf(cb);this.handlers[index]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}signal$1.EventEmitter=EventEmitter,signal$1.createSignal=function createSignal(){const emitter=new EventEmitter;function register(cb){return emitter.register(cb,null===this)}return register.once=cb=>{const callback=function(...args){cb.apply(this,args),emitter.remove(callback)};emitter.register(callback)},register.remove=cb=>emitter.remove(cb),register.invoke=(...args)=>emitter.invoke(...args),register.invokeAsync=(...args)=>emitter.invokeAsync(...args),register.clear=()=>emitter.clear(),register};var SchemaSerializer$2={},schema$1=umdExports$1;var decoder,src,srcEnd;SchemaSerializer$2.SchemaSerializer=class SchemaSerializer{setState(encodedState,it){this.decoder.decode(encodedState,it)}getState(){return this.state}patch(patches,it){return this.decoder.decode(patches,it)}teardown(){this.decoder.root.clearRefs()}handshake(bytes,it){this.state?(schema$1.Reflection.decode(bytes,it),this.decoder=new schema$1.Decoder(this.state)):(this.decoder=schema$1.Reflection.decode(bytes,it),this.state=this.decoder.state)}},SchemaSerializer$2.getStateCallbacks=function getStateCallbacks(room){try{return schema$1.getDecoderStateCallbacks(room.serializer.decoder)}catch(e){return}};try{decoder=new TextDecoder}catch(error){}var currentStructures,srcString,bundledStrings$1,referenceMap,dataView,position$1=0,currentUnpackr={},srcStringStart=0,srcStringEnd=0,currentExtensions=[],defaultOptions={useRecords:!1,mapsAsObjects:!0};class C1Type{}const C1=new C1Type;C1.name="MessagePack 0xC1";var sequentialMode=!1,inlineObjectReadThreshold=2;try{new Function("")}catch(error){inlineObjectReadThreshold=1/0}class Unpackr{constructor(options){options&&(!1===options.useRecords&&void 0===options.mapsAsObjects&&(options.mapsAsObjects=!0),options.sequential&&!1!==options.trusted&&(options.trusted=!0,options.structures||0==options.useRecords||(options.structures=[],options.maxSharedStructures||(options.maxSharedStructures=0))),options.structures?options.structures.sharedLength=options.structures.length:options.getStructures&&((options.structures=[]).uninitialized=!0,options.structures.sharedLength=0),options.int64AsNumber&&(options.int64AsType="number")),Object.assign(this,options)}unpack(source,options){if(src)return saveState((()=>(clearSource(),this?this.unpack(source,options):Unpackr.prototype.unpack.call(defaultOptions,source,options))));source.buffer||source.constructor!==ArrayBuffer||(source="undefined"!=typeof Buffer?Buffer.from(source):new Uint8Array(source)),"object"==typeof options?(srcEnd=options.end||source.length,position$1=options.start||0):(position$1=0,srcEnd=options>-1?options:source.length),srcStringEnd=0,srcString=null,bundledStrings$1=null,src=source;try{dataView=source.dataView||(source.dataView=new DataView(source.buffer,source.byteOffset,source.byteLength))}catch(error){if(src=null,source instanceof Uint8Array)throw error;throw new Error("Source must be a Uint8Array or Buffer but was a "+(source&&"object"==typeof source?source.constructor.name:typeof source))}if(this instanceof Unpackr){if(currentUnpackr=this,this.structures)return currentStructures=this.structures,checkedRead(options);(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentUnpackr=defaultOptions,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]);return checkedRead(options)}unpackMultiple(source,forEach){let values,lastPosition=0;try{sequentialMode=!0;let size=source.length,value=this?this.unpack(source,size):defaultUnpackr.unpack(source,size);if(!forEach){for(values=[value];position$1<size;)lastPosition=position$1,values.push(checkedRead());return values}if(!1===forEach(value,lastPosition,position$1))return;for(;position$1<size;)if(lastPosition=position$1,!1===forEach(checkedRead(),lastPosition,position$1))return}catch(error){throw error.lastPosition=lastPosition,error.values=values,error}finally{sequentialMode=!1,clearSource()}}_mergeStructures(loadedStructures,existingStructures){loadedStructures=loadedStructures||[],Object.isFrozen(loadedStructures)&&(loadedStructures=loadedStructures.map((structure=>structure.slice(0))));for(let i=0,l=loadedStructures.length;i<l;i++){let structure=loadedStructures[i];structure&&(structure.isShared=!0,i>=32&&(structure.highByte=i-32>>5))}loadedStructures.sharedLength=loadedStructures.length;for(let id in existingStructures||[])if(id>=0){let structure=loadedStructures[id],existing=existingStructures[id];existing&&(structure&&((loadedStructures.restoreStructures||(loadedStructures.restoreStructures=[]))[id]=structure),loadedStructures[id]=existing)}return this.structures=loadedStructures}decode(source,options){return this.unpack(source,options)}}function checkedRead(options){try{if(!currentUnpackr.trusted&&!sequentialMode){let sharedLength=currentStructures.sharedLength||0;sharedLength<currentStructures.length&&(currentStructures.length=sharedLength)}let result;if(currentUnpackr.randomAccessStructure&&src[position$1]<64&&src[position$1],result=read(),bundledStrings$1&&(position$1=bundledStrings$1.postBundlePosition,bundledStrings$1=null),sequentialMode&&(currentStructures.restoreStructures=null),position$1==srcEnd)currentStructures&&currentStructures.restoreStructures&&restoreStructures(),currentStructures=null,src=null,referenceMap&&(referenceMap=null);else{if(position$1>srcEnd)throw new Error("Unexpected end of MessagePack data");if(!sequentialMode){let jsonView;try{jsonView=JSON.stringify(result,((_,value)=>"bigint"==typeof value?`${value}n`:value)).slice(0,100)}catch(error){jsonView="(JSON view not available "+error+")"}throw new Error("Data read, but end of buffer not reached "+jsonView)}}return result}catch(error){throw currentStructures&&currentStructures.restoreStructures&&restoreStructures(),clearSource(),(error instanceof RangeError||error.message.startsWith("Unexpected end of buffer")||position$1>srcEnd)&&(error.incomplete=!0),error}}function restoreStructures(){for(let id in currentStructures.restoreStructures)currentStructures[id]=currentStructures.restoreStructures[id];currentStructures.restoreStructures=null}function read(){let token=src[position$1++];if(token<160){if(token<128){if(token<64)return token;{let structure=currentStructures[63&token]||currentUnpackr.getStructures&&loadStructures()[63&token];return structure?(structure.read||(structure.read=createStructureReader(structure,63&token)),structure.read()):token}}if(token<144){if(token-=128,currentUnpackr.mapsAsObjects){let object={};for(let i=0;i<token;i++){let key=readKey();"__proto__"===key&&(key="__proto_"),object[key]=read()}return object}{let map=new Map;for(let i=0;i<token;i++)map.set(read(),read());return map}}{token-=144;let array=new Array(token);for(let i=0;i<token;i++)array[i]=read();return currentUnpackr.freezeData?Object.freeze(array):array}}if(token<192){let length=token-160;if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=length)-srcStringStart);if(0==srcStringEnd&&srcEnd<140){let string=length<16?shortStringInJS(length):longStringInJS(length);if(null!=string)return string}return readFixedString(length)}{let value;switch(token){case 192:return null;case 193:return bundledStrings$1?(value=read(),value>0?bundledStrings$1[1].slice(bundledStrings$1.position1,bundledStrings$1.position1+=value):bundledStrings$1[0].slice(bundledStrings$1.position0,bundledStrings$1.position0-=value)):C1;case 194:return!1;case 195:return!0;case 196:if(value=src[position$1++],void 0===value)throw new Error("Unexpected end of buffer");return readBin(value);case 197:return value=dataView.getUint16(position$1),position$1+=2,readBin(value);case 198:return value=dataView.getUint32(position$1),position$1+=4,readBin(value);case 199:return readExt(src[position$1++]);case 200:return value=dataView.getUint16(position$1),position$1+=2,readExt(value);case 201:return value=dataView.getUint32(position$1),position$1+=4,readExt(value);case 202:if(value=dataView.getFloat32(position$1),currentUnpackr.useFloat32>2){let multiplier=mult10[(127&src[position$1])<<1|src[position$1+1]>>7];return position$1+=4,(multiplier*value+(value>0?.5:-.5)|0)/multiplier}return position$1+=4,value;case 203:return value=dataView.getFloat64(position$1),position$1+=8,value;case 204:return src[position$1++];case 205:return value=dataView.getUint16(position$1),position$1+=2,value;case 206:return value=dataView.getUint32(position$1),position$1+=4,value;case 207:return"number"===currentUnpackr.int64AsType?(value=4294967296*dataView.getUint32(position$1),value+=dataView.getUint32(position$1+4)):"string"===currentUnpackr.int64AsType?value=dataView.getBigUint64(position$1).toString():"auto"===currentUnpackr.int64AsType?(value=dataView.getBigUint64(position$1),value<=BigInt(2)<<BigInt(52)&&(value=Number(value))):value=dataView.getBigUint64(position$1),position$1+=8,value;case 208:return dataView.getInt8(position$1++);case 209:return value=dataView.getInt16(position$1),position$1+=2,value;case 210:return value=dataView.getInt32(position$1),position$1+=4,value;case 211:return"number"===currentUnpackr.int64AsType?(value=4294967296*dataView.getInt32(position$1),value+=dataView.getUint32(position$1+4)):"string"===currentUnpackr.int64AsType?value=dataView.getBigInt64(position$1).toString():"auto"===currentUnpackr.int64AsType?(value=dataView.getBigInt64(position$1),value>=BigInt(-2)<<BigInt(52)&&value<=BigInt(2)<<BigInt(52)&&(value=Number(value))):value=dataView.getBigInt64(position$1),position$1+=8,value;case 212:if(value=src[position$1++],114==value)return recordDefinition(63&src[position$1++]);{let extension=currentExtensions[value];if(extension)return extension.read?(position$1++,extension.read(read())):extension.noBuffer?(position$1++,extension()):extension(src.subarray(position$1,++position$1));throw new Error("Unknown extension "+value)}case 213:return value=src[position$1],114==value?(position$1++,recordDefinition(63&src[position$1++],src[position$1++])):readExt(2);case 214:return readExt(4);case 215:return readExt(8);case 216:return readExt(16);case 217:return value=src[position$1++],srcStringEnd>=position$1?srcString.slice(position$1-srcStringStart,(position$1+=value)-srcStringStart):readString8(value);case 218:return value=dataView.getUint16(position$1),srcStringEnd>=(position$1+=2)?srcString.slice(position$1-srcStringStart,(position$1+=value)-srcStringStart):readString16(value);case 219:return value=dataView.getUint32(position$1),srcStringEnd>=(position$1+=4)?srcString.slice(position$1-srcStringStart,(position$1+=value)-srcStringStart):readString32(value);case 220:return value=dataView.getUint16(position$1),position$1+=2,readArray(value);case 221:return value=dataView.getUint32(position$1),position$1+=4,readArray(value);case 222:return value=dataView.getUint16(position$1),position$1+=2,readMap(value);case 223:return value=dataView.getUint32(position$1),position$1+=4,readMap(value);default:if(token>=224)return token-256;if(void 0===token){let error=new Error("Unexpected end of MessagePack data");throw error.incomplete=!0,error}throw new Error("Unknown MessagePack token "+token)}}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(structure,firstId){function readObject(){if(readObject.count++>inlineObjectReadThreshold){let readObject2=structure.read=new Function("r","return function(){return "+(currentUnpackr.freezeData?"Object.freeze":"")+"({"+structure.map((key=>"__proto__"===key?"__proto_:r()":validName.test(key)?key+":r()":"["+JSON.stringify(key)+"]:r()")).join(",")+"})}")(read);return 0===structure.highByte&&(structure.read=createSecondByteReader(firstId,structure.read)),readObject2()}let object={};for(let i=0,l=structure.length;i<l;i++){let key=structure[i];"__proto__"===key&&(key="__proto_"),object[key]=read()}return currentUnpackr.freezeData?Object.freeze(object):object}return readObject.count=0,0===structure.highByte?createSecondByteReader(firstId,readObject):readObject}const createSecondByteReader=(firstId,read0)=>function(){let highByte=src[position$1++];if(0===highByte)return read0();let id=firstId<32?-(firstId+(highByte<<5)):firstId+(highByte<<5),structure=currentStructures[id]||loadStructures()[id];if(!structure)throw new Error("Record id is not defined for "+id);return structure.read||(structure.read=createStructureReader(structure,firstId)),structure.read()};function loadStructures(){let loadedStructures=saveState((()=>(src=null,currentUnpackr.getStructures())));return currentStructures=currentUnpackr._mergeStructures(loadedStructures,currentStructures)}var readFixedString=readStringJS,readString8=readStringJS,readString16=readStringJS,readString32=readStringJS;function readStringJS(length){let result;if(length<16&&(result=shortStringInJS(length)))return result;if(length>64&&decoder)return decoder.decode(src.subarray(position$1,position$1+=length));const end=position$1+length,units=[];for(result="";position$1<end;){const byte1=src[position$1++];if(128&byte1)if(192==(224&byte1)){const byte2=63&src[position$1++];units.push((31&byte1)<<6|byte2)}else if(224==(240&byte1)){const byte2=63&src[position$1++],byte3=63&src[position$1++];units.push((31&byte1)<<12|byte2<<6|byte3)}else if(240==(248&byte1)){let unit=(7&byte1)<<18|(63&src[position$1++])<<12|(63&src[position$1++])<<6|63&src[position$1++];unit>65535&&(unit-=65536,units.push(unit>>>10&1023|55296),unit=56320|1023&unit),units.push(unit)}else units.push(byte1);else units.push(byte1);units.length>=4096&&(result+=fromCharCode.apply(String,units),units.length=0)}return units.length>0&&(result+=fromCharCode.apply(String,units)),result}function readArray(length){let array=new Array(length);for(let i=0;i<length;i++)array[i]=read();return currentUnpackr.freezeData?Object.freeze(array):array}function readMap(length){if(currentUnpackr.mapsAsObjects){let object={};for(let i=0;i<length;i++){let key=readKey();"__proto__"===key&&(key="__proto_"),object[key]=read()}return object}{let map=new Map;for(let i=0;i<length;i++)map.set(read(),read());return map}}var fromCharCode=String.fromCharCode;function longStringInJS(length){let start=position$1,bytes=new Array(length);for(let i=0;i<length;i++){const byte=src[position$1++];if((128&byte)>0)return void(position$1=start);bytes[i]=byte}return fromCharCode.apply(String,bytes)}function shortStringInJS(length){if(length<4){if(length<2){if(0===length)return"";{let a=src[position$1++];return(128&a)>1?void(position$1-=1):fromCharCode(a)}}{let a=src[position$1++],b=src[position$1++];if((128&a)>0||(128&b)>0)return void(position$1-=2);if(length<3)return fromCharCode(a,b);let c=src[position$1++];return(128&c)>0?void(position$1-=3):fromCharCode(a,b,c)}}{let a=src[position$1++],b=src[position$1++],c=src[position$1++],d=src[position$1++];if((128&a)>0||(128&b)>0||(128&c)>0||(128&d)>0)return void(position$1-=4);if(length<6){if(4===length)return fromCharCode(a,b,c,d);{let e=src[position$1++];return(128&e)>0?void(position$1-=5):fromCharCode(a,b,c,d,e)}}if(length<8){let e=src[position$1++],f=src[position$1++];if((128&e)>0||(128&f)>0)return void(position$1-=6);if(length<7)return fromCharCode(a,b,c,d,e,f);let g=src[position$1++];return(128&g)>0?void(position$1-=7):fromCharCode(a,b,c,d,e,f,g)}{let e=src[position$1++],f=src[position$1++],g=src[position$1++],h=src[position$1++];if((128&e)>0||(128&f)>0||(128&g)>0||(128&h)>0)return void(position$1-=8);if(length<10){if(8===length)return fromCharCode(a,b,c,d,e,f,g,h);{let i=src[position$1++];return(128&i)>0?void(position$1-=9):fromCharCode(a,b,c,d,e,f,g,h,i)}}if(length<12){let i=src[position$1++],j=src[position$1++];if((128&i)>0||(128&j)>0)return void(position$1-=10);if(length<11)return fromCharCode(a,b,c,d,e,f,g,h,i,j);let k=src[position$1++];return(128&k)>0?void(position$1-=11):fromCharCode(a,b,c,d,e,f,g,h,i,j,k)}{let i=src[position$1++],j=src[position$1++],k=src[position$1++],l=src[position$1++];if((128&i)>0||(128&j)>0||(128&k)>0||(128&l)>0)return void(position$1-=12);if(length<14){if(12===length)return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l);{let m=src[position$1++];return(128&m)>0?void(position$1-=13):fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m)}}{let m=src[position$1++],n=src[position$1++];if((128&m)>0||(128&n)>0)return void(position$1-=14);if(length<15)return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m,n);let o=src[position$1++];return(128&o)>0?void(position$1-=15):fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}}}}}function readOnlyJSString(){let length,token=src[position$1++];if(token<192)length=token-160;else switch(token){case 217:length=src[position$1++];break;case 218:length=dataView.getUint16(position$1),position$1+=2;break;case 219:length=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected string")}return readStringJS(length)}function readBin(length){return currentUnpackr.copyBuffers?Uint8Array.prototype.slice.call(src,position$1,position$1+=length):src.subarray(position$1,position$1+=length)}function readExt(length){let type=src[position$1++];if(currentExtensions[type]){let end;return currentExtensions[type](src.subarray(position$1,end=position$1+=length),(readPosition=>{position$1=readPosition;try{return read()}finally{position$1=end}}))}throw new Error("Unknown extension type "+type)}var keyCache=new Array(4096);function readKey(){let length=src[position$1++];if(!(length>=160&&length<192))return position$1--,asSafeString(read());if(length-=160,srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=length)-srcStringStart);if(!(0==srcStringEnd&&srcEnd<180))return readFixedString(length);let chunk,key=4095&(length<<5^(length>1?dataView.getUint16(position$1):length>0?src[position$1]:0)),entry=keyCache[key],checkPosition=position$1,end=position$1+length-3,i=0;if(entry&&entry.bytes==length){for(;checkPosition<end;){if(chunk=dataView.getUint32(checkPosition),chunk!=entry[i++]){checkPosition=1879048192;break}checkPosition+=4}for(end+=3;checkPosition<end;)if(chunk=src[checkPosition++],chunk!=entry[i++]){checkPosition=1879048192;break}if(checkPosition===end)return position$1=checkPosition,entry.string;end-=3,checkPosition=position$1}for(entry=[],keyCache[key]=entry,entry.bytes=length;checkPosition<end;)chunk=dataView.getUint32(checkPosition),entry.push(chunk),checkPosition+=4;for(end+=3;checkPosition<end;)chunk=src[checkPosition++],entry.push(chunk);let string=length<16?shortStringInJS(length):longStringInJS(length);return entry.string=null!=string?string:readFixedString(length)}function asSafeString(property){if("string"==typeof property)return property;if("number"==typeof property||"boolean"==typeof property||"bigint"==typeof property)return property.toString();if(null==property)return property+"";if(currentUnpackr.allowArraysInMapKeys&&Array.isArray(property)&&property.flat().every((item=>["string","number","boolean","bigint"].includes(typeof item))))return property.flat().toString();throw new Error("Invalid property type for record: "+typeof property)}const recordDefinition=(id,highByte)=>{let structure=read().map(asSafeString),firstByte=id;void 0!==highByte&&(id=id<32?-((highByte<<5)+id):(highByte<<5)+id,structure.highByte=highByte);let existingStructure=currentStructures[id];return existingStructure&&(existingStructure.isShared||sequentialMode)&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[id]=existingStructure),currentStructures[id]=structure,structure.read=createStructureReader(structure,firstByte),structure.read()};currentExtensions[0]=()=>{},currentExtensions[0].noBuffer=!0,currentExtensions[66]=data=>{let length=data.length,value=BigInt(128&data[0]?data[0]-256:data[0]);for(let i=1;i<length;i++)value<<=BigInt(8),value+=BigInt(data[i]);return value};let errors={Error:Error,TypeError:TypeError,ReferenceError:ReferenceError};currentExtensions[101]=()=>{let data=read();return(errors[data[0]]||Error)(data[1],{cause:data[2]})},currentExtensions[105]=data=>{if(!1===currentUnpackr.structuredClone)throw new Error("Structured clone extension is disabled");let id=dataView.getUint32(position$1-4);referenceMap||(referenceMap=new Map);let target2,token=src[position$1];target2=token>=144&&token<160||220==token||221==token?[]:{};let refEntry={target:target2};referenceMap.set(id,refEntry);let targetProperties=read();return refEntry.used?Object.assign(target2,targetProperties):(refEntry.target=targetProperties,targetProperties)},currentExtensions[112]=data=>{if(!1===currentUnpackr.structuredClone)throw new Error("Structured clone extension is disabled");let id=dataView.getUint32(position$1-4),refEntry=referenceMap.get(id);return refEntry.used=!0,refEntry.target},currentExtensions[115]=()=>new Set(read());const typedArrays=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((type=>type+"Array"));let glbl="object"==typeof globalThis?globalThis:window;currentExtensions[116]=data=>{let typeCode=data[0],typedArrayName=typedArrays[typeCode];if(!typedArrayName){if(16===typeCode){let ab=new ArrayBuffer(data.length-1);return new Uint8Array(ab).set(data.subarray(1)),ab}throw new Error("Could not find typed array for code "+typeCode)}return new glbl[typedArrayName](Uint8Array.prototype.slice.call(data,1).buffer)},currentExtensions[120]=()=>{let data=read();return new RegExp(data[0],data[1])};const TEMP_BUNDLE=[];function saveState(callback){let savedSrcEnd=srcEnd,savedPosition=position$1,savedSrcStringStart=srcStringStart,savedSrcStringEnd=srcStringEnd,savedSrcString=srcString,savedReferenceMap=referenceMap,savedBundledStrings=bundledStrings$1,savedSrc=new Uint8Array(src.slice(0,srcEnd)),savedStructures=currentStructures,savedStructuresContents=currentStructures.slice(0,currentStructures.length),savedPackr=currentUnpackr,savedSequentialMode=sequentialMode,value=callback();return srcEnd=savedSrcEnd,position$1=savedPosition,srcStringStart=savedSrcStringStart,srcStringEnd=savedSrcStringEnd,srcString=savedSrcString,referenceMap=savedReferenceMap,bundledStrings$1=savedBundledStrings,src=savedSrc,sequentialMode=savedSequentialMode,(currentStructures=savedStructures).splice(0,currentStructures.length,...savedStructuresContents),currentUnpackr=savedPackr,dataView=new DataView(src.buffer,src.byteOffset,src.byteLength),value}function clearSource(){src=null,referenceMap=null,currentStructures=null}currentExtensions[98]=data=>{let dataSize=(data[0]<<24)+(data[1]<<16)+(data[2]<<8)+data[3],dataPosition=position$1;return position$1+=dataSize-data.length,bundledStrings$1=TEMP_BUNDLE,(bundledStrings$1=[readOnlyJSString(),readOnlyJSString()]).position0=0,bundledStrings$1.position1=0,bundledStrings$1.postBundlePosition=position$1,position$1=dataPosition,read()},currentExtensions[255]=data=>4==data.length?new Date(1e3*(16777216*data[0]+(data[1]<<16)+(data[2]<<8)+data[3])):8==data.length?new Date(((data[0]<<22)+(data[1]<<14)+(data[2]<<6)+(data[3]>>2))/1e6+1e3*(4294967296*(3&data[3])+16777216*data[4]+(data[5]<<16)+(data[6]<<8)+data[7])):12==data.length?new Date(((data[0]<<24)+(data[1]<<16)+(data[2]<<8)+data[3])/1e6+1e3*((128&data[4]?-281474976710656:0)+1099511627776*data[6]+4294967296*data[7]+16777216*data[8]+(data[9]<<16)+(data[10]<<8)+data[11])):new Date("invalid");const mult10=new Array(147);for(let i=0;i<256;i++)mult10[i]=+("1e"+Math.floor(45.15-.30103*i));const Decoder=Unpackr;var defaultUnpackr=new Unpackr({useRecords:!1});const unpack=defaultUnpackr.unpack,unpackMultiple=defaultUnpackr.unpackMultiple,decode=defaultUnpackr.unpack,FLOAT32_OPTIONS={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};let textEncoder,extensions,extensionClasses,f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);try{textEncoder=new TextEncoder}catch(error){}const hasNodeBuffer="undefined"!=typeof Buffer,ByteArrayAllocate=hasNodeBuffer?function(length){return Buffer.allocUnsafeSlow(length)}:Uint8Array,ByteArray=hasNodeBuffer?Buffer:Uint8Array,MAX_BUFFER_SIZE=hasNodeBuffer?4294967296:2144337920;let target,keysTarget,targetView,safeEnd,position=0,bundledStrings=null;const hasNonLatin=/[\u0080-\uFFFF]/,RECORD_SYMBOL=Symbol("record-id");class Packr extends Unpackr{constructor(options){let start,hasSharedUpdate,structures,referenceMap2;super(options),this.offset=0;let encodeUtf8=ByteArray.prototype.utf8Write?function(string,position2){return target.utf8Write(string,position2,target.byteLength-position2)}:!(!textEncoder||!textEncoder.encodeInto)&&function(string,position2){return textEncoder.encodeInto(string,target.subarray(position2)).written},packr=this;options||(options={});let isSequential=options&&options.sequential,hasSharedStructures=options.structures||options.saveStructures,maxSharedStructures=options.maxSharedStructures;if(null==maxSharedStructures&&(maxSharedStructures=hasSharedStructures?32:0),maxSharedStructures>8160)throw new Error("Maximum maxSharedStructure is 8160");options.structuredClone&&null==options.moreTypes&&(this.moreTypes=!0);let maxOwnStructures=options.maxOwnStructures;null==maxOwnStructures&&(maxOwnStructures=hasSharedStructures?32:64),this.structures||0==options.useRecords||(this.structures=[]);let useTwoByteRecords=maxSharedStructures>32||maxOwnStructures+maxSharedStructures>64,sharedLimitId=maxSharedStructures+64,maxStructureId=maxSharedStructures+maxOwnStructures+64;if(maxStructureId>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let recordIdsToRemove=[],transitionsCount=0,serializationsSinceTransitionRebuild=0;this.pack=this.encode=function(value,encodeOptions){if(target||(target=new ByteArrayAllocate(8192),targetView=target.dataView||(target.dataView=new DataView(target.buffer,0,8192)),position=0),safeEnd=target.length-10,safeEnd-position<2048?(target=new ByteArrayAllocate(target.length),targetView=target.dataView||(target.dataView=new DataView(target.buffer,0,target.length)),safeEnd=target.length-10,position=0):position=position+7&2147483640,start=position,encodeOptions&RESERVE_START_SPACE&&(position+=255&encodeOptions),referenceMap2=packr.structuredClone?new Map:null,packr.bundleStrings&&"string"!=typeof value?(bundledStrings=[],bundledStrings.size=1/0):bundledStrings=null,structures=packr.structures,structures){structures.uninitialized&&(structures=packr._mergeStructures(packr.getStructures()));let sharedLength=structures.sharedLength||0;if(sharedLength>maxSharedStructures)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+structures.sharedLength);if(!structures.transitions){structures.transitions=Object.create(null);for(let i=0;i<sharedLength;i++){let keys=structures[i];if(!keys)continue;let nextTransition,transition=structures.transitions;for(let j=0,l=keys.length;j<l;j++){let key=keys[j];nextTransition=transition[key],nextTransition||(nextTransition=transition[key]=Object.create(null)),transition=nextTransition}transition[RECORD_SYMBOL]=i+64}this.lastNamedStructuresLength=sharedLength}isSequential||(structures.nextId=sharedLength+64)}let encodingError;hasSharedUpdate&&(hasSharedUpdate=!1);try{packr.randomAccessStructure&&value&&value.constructor&&value.constructor===Object?writeStruct(value):pack2(value);let lastBundle=bundledStrings;if(bundledStrings&&writeBundles(start,pack2,0),referenceMap2&&referenceMap2.idsToInsert){let idsToInsert=referenceMap2.idsToInsert.sort(((a,b)=>a.offset>b.offset?1:-1)),i=idsToInsert.length,incrementPosition=-1;for(;lastBundle&&i>0;){let insertionPoint=idsToInsert[--i].offset+start;insertionPoint<lastBundle.stringsPosition+start&&-1===incrementPosition&&(incrementPosition=0),insertionPoint>lastBundle.position+start?incrementPosition>=0&&(incrementPosition+=6):(incrementPosition>=0&&(targetView.setUint32(lastBundle.position+start,targetView.getUint32(lastBundle.position+start)+incrementPosition),incrementPosition=-1),lastBundle=lastBundle.previous,i++)}incrementPosition>=0&&lastBundle&&targetView.setUint32(lastBundle.position+start,targetView.getUint32(lastBundle.position+start)+incrementPosition),position+=6*idsToInsert.length,position>safeEnd&&makeRoom(position),packr.offset=position;let serialized=function insertIds(serialized,idsToInsert){let nextId,distanceToMove=6*idsToInsert.length,lastEnd=serialized.length-distanceToMove;for(;nextId=idsToInsert.pop();){let offset=nextId.offset,id=nextId.id;serialized.copyWithin(offset+distanceToMove,offset,lastEnd),distanceToMove-=6;let position2=offset+distanceToMove;serialized[position2++]=214,serialized[position2++]=105,serialized[position2++]=id>>24,serialized[position2++]=id>>16&255,serialized[position2++]=id>>8&255,serialized[position2++]=255&id,lastEnd=offset}return serialized}(target.subarray(start,position),idsToInsert);return referenceMap2=null,serialized}return packr.offset=position,encodeOptions&REUSE_BUFFER_MODE?(target.start=start,target.end=position,target):target.subarray(start,position)}catch(error){throw encodingError=error,error}finally{if(structures&&(resetStructures(),hasSharedUpdate&&packr.saveStructures)){let sharedLength=structures.sharedLength||0,returnBuffer=target.subarray(start,position),newSharedData=function prepareStructures(structures,packr){return structures.isCompatible=existingStructures=>{let compatible=!existingStructures||(packr.lastNamedStructuresLength||0)===existingStructures.length;return compatible||packr._mergeStructures(existingStructures),compatible},structures}(structures,packr);if(!encodingError)return!1===packr.saveStructures(newSharedData,newSharedData.isCompatible)?packr.pack(value,encodeOptions):(packr.lastNamedStructuresLength=sharedLength,target.length>1073741824&&(target=null),returnBuffer)}target.length>1073741824&&(target=null),encodeOptions&RESET_BUFFER_MODE&&(position=start)}};const resetStructures=()=>{serializationsSinceTransitionRebuild<10&&serializationsSinceTransitionRebuild++;let sharedLength=structures.sharedLength||0;if(structures.length>sharedLength&&!isSequential&&(structures.length=sharedLength),transitionsCount>1e4)structures.transitions=null,serializationsSinceTransitionRebuild=0,transitionsCount=0,recordIdsToRemove.length>0&&(recordIdsToRemove=[]);else if(recordIdsToRemove.length>0&&!isSequential){for(let i=0,l=recordIdsToRemove.length;i<l;i++)recordIdsToRemove[i][RECORD_SYMBOL]=0;recordIdsToRemove=[]}},packArray=value=>{var length=value.length;length<16?target[position++]=144|length:length<65536?(target[position++]=220,target[position++]=length>>8,target[position++]=255&length):(target[position++]=221,targetView.setUint32(position,length),position+=4);for(let i=0;i<length;i++)pack2(value[i])},pack2=value=>{position>safeEnd&&(target=makeRoom(position));var length,type=typeof value;if("string"===type){let headerSize,strLength=value.length;if(bundledStrings&&strLength>=4&&strLength<4096){if((bundledStrings.size+=strLength)>21760){let extStart,lastBundle,maxBytes2=(bundledStrings[0]?3*bundledStrings[0].length+bundledStrings[1].length:0)+10;position+maxBytes2>safeEnd&&(target=makeRoom(position+maxBytes2)),bundledStrings.position?(lastBundle=bundledStrings,target[position]=200,position+=3,target[position++]=98,extStart=position-start,position+=4,writeBundles(start,pack2,0),targetView.setUint16(extStart+start-3,position-start-extStart)):(target[position++]=214,target[position++]=98,extStart=position-start,position+=4),bundledStrings=["",""],bundledStrings.previous=lastBundle,bundledStrings.size=0,bundledStrings.position=extStart}let twoByte=hasNonLatin.test(value);return bundledStrings[twoByte?0:1]+=value,target[position++]=193,void pack2(twoByte?-strLength:strLength)}headerSize=strLength<32?1:strLength<256?2:strLength<65536?3:5;let maxBytes=3*strLength;if(position+maxBytes>safeEnd&&(target=makeRoom(position+maxBytes)),strLength<64||!encodeUtf8){let i,c1,c2,strPosition=position+headerSize;for(i=0;i<strLength;i++)c1=value.charCodeAt(i),c1<128?target[strPosition++]=c1:c1<2048?(target[strPosition++]=c1>>6|192,target[strPosition++]=63&c1|128):55296==(64512&c1)&&56320==(64512&(c2=value.charCodeAt(i+1)))?(c1=65536+((1023&c1)<<10)+(1023&c2),i++,target[strPosition++]=c1>>18|240,target[strPosition++]=c1>>12&63|128,target[strPosition++]=c1>>6&63|128,target[strPosition++]=63&c1|128):(target[strPosition++]=c1>>12|224,target[strPosition++]=c1>>6&63|128,target[strPosition++]=63&c1|128);length=strPosition-position-headerSize}else length=encodeUtf8(value,position+headerSize);length<32?target[position++]=160|length:length<256?(headerSize<2&&target.copyWithin(position+2,position+1,position+1+length),target[position++]=217,target[position++]=length):length<65536?(headerSize<3&&target.copyWithin(position+3,position+2,position+2+length),target[position++]=218,target[position++]=length>>8,target[position++]=255&length):(headerSize<5&&target.copyWithin(position+5,position+3,position+3+length),target[position++]=219,targetView.setUint32(position,length),position+=4),position+=length}else if("number"===type)if(value>>>0===value)value<32||value<128&&!1===this.useRecords||value<64&&!this.randomAccessStructure?target[position++]=value:value<256?(target[position++]=204,target[position++]=value):value<65536?(target[position++]=205,target[position++]=value>>8,target[position++]=255&value):(target[position++]=206,targetView.setUint32(position,value),position+=4);else if((value|0)===value)value>=-32?target[position++]=256+value:value>=-128?(target[position++]=208,target[position++]=value+256):value>=-32768?(target[position++]=209,targetView.setInt16(position,value),position+=2):(target[position++]=210,targetView.setInt32(position,value),position+=4);else{let useFloat32;if((useFloat32=this.useFloat32)>0&&value<4294967296&&value>=-2147483648){let xShifted;if(target[position++]=202,targetView.setFloat32(position,value),useFloat32<4||((xShifted=value*mult10[(127&target[position])<<1|target[position+1]>>7])|0)===xShifted)return void(position+=4);position--}target[position++]=203,targetView.setFloat64(position,value),position+=8}else if("object"===type||"function"===type)if(value){if(referenceMap2){let referee=referenceMap2.get(value);if(referee){if(!referee.id){let idsToInsert=referenceMap2.idsToInsert||(referenceMap2.idsToInsert=[]);referee.id=idsToInsert.push(referee)}return target[position++]=214,target[position++]=112,targetView.setUint32(position,referee.id),void(position+=4)}referenceMap2.set(value,{offset:position-start})}let constructor=value.constructor;if(constructor===Object)writeObject(value);else if(constructor===Array)packArray(value);else if(constructor===Map)if(this.mapAsEmptyObject)target[position++]=128;else{(length=value.size)<16?target[position++]=128|length:length<65536?(target[position++]=222,target[position++]=length>>8,target[position++]=255&length):(target[position++]=223,targetView.setUint32(position,length),position+=4);for(let[key,entryValue]of value)pack2(key),pack2(entryValue)}else{for(let i=0,l=extensions.length;i<l;i++){if(value instanceof extensionClasses[i]){let extension=extensions[i];if(extension.write){extension.type&&(target[position++]=212,target[position++]=extension.type,target[position++]=0);let writeResult=extension.write.call(this,value);return void(writeResult===value?Array.isArray(value)?packArray(value):writeObject(value):pack2(writeResult))}let result,currentTarget=target,currentTargetView=targetView,currentPosition=position;target=null;try{result=extension.pack.call(this,value,(size=>(target=currentTarget,currentTarget=null,position+=size,position>safeEnd&&makeRoom(position),{target:target,targetView:targetView,position:position-size})),pack2)}finally{currentTarget&&(target=currentTarget,targetView=currentTargetView,position=currentPosition,safeEnd=target.length-10)}return void(result&&(result.length+position>safeEnd&&makeRoom(result.length+position),position=writeExtensionData(result,target,position,extension.type)))}}if(Array.isArray(value))packArray(value);else{if(value.toJSON){const json=value.toJSON();if(json!==value)return pack2(json)}if("function"===type)return pack2(this.writeFunction&&this.writeFunction(value));writeObject(value)}}}else target[position++]=192;else if("boolean"===type)target[position++]=value?195:194;else if("bigint"===type){if(value<BigInt(1)<<BigInt(63)&&value>=-(BigInt(1)<<BigInt(63)))target[position++]=211,targetView.setBigInt64(position,value);else if(value<BigInt(1)<<BigInt(64)&&value>0)target[position++]=207,targetView.setBigUint64(position,value);else{if(!this.largeBigIntToFloat){if(this.largeBigIntToString)return pack2(value.toString());if(this.useBigIntExtension&&value<BigInt(2)**BigInt(1023)&&value>-(BigInt(2)**BigInt(1023))){target[position++]=199,position++,target[position++]=66;let alignedSign,bytes=[];do{let byte=value&BigInt(255);alignedSign=(byte&BigInt(128))===(value<BigInt(0)?BigInt(128):BigInt(0)),bytes.push(byte),value>>=BigInt(8)}while(value!==BigInt(0)&&value!==BigInt(-1)||!alignedSign);target[position-2]=bytes.length;for(let i=bytes.length;i>0;)target[position++]=Number(bytes[--i]);return}throw new RangeError(value+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}target[position++]=203,targetView.setFloat64(position,Number(value))}position+=8}else{if("undefined"!==type)throw new Error("Unknown type: "+type);this.encodeUndefinedAsNil?target[position++]=192:(target[position++]=212,target[position++]=0,target[position++]=0)}},writePlainObject=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?object=>{let keys;if(this.skipValues){keys=[];for(let key2 in object)"function"==typeof object.hasOwnProperty&&!object.hasOwnProperty(key2)||this.skipValues.includes(object[key2])||keys.push(key2)}else keys=Object.keys(object);let key,length=keys.length;if(length<16?target[position++]=128|length:length<65536?(target[position++]=222,target[position++]=length>>8,target[position++]=255&length):(target[position++]=223,targetView.setUint32(position,length),position+=4),this.coercibleKeyAsNumber)for(let i=0;i<length;i++){key=keys[i];let num=Number(key);pack2(isNaN(num)?key:num),pack2(object[key])}else for(let i=0;i<length;i++)pack2(key=keys[i]),pack2(object[key])}:object=>{target[position++]=222;let objectOffset=position-start;position+=2;let size=0;for(let key in object)("function"!=typeof object.hasOwnProperty||object.hasOwnProperty(key))&&(pack2(key),pack2(object[key]),size++);if(size>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');target[objectOffset+++start]=size>>8,target[objectOffset+start]=255&size},writeRecord=!1===this.useRecords?writePlainObject:options.progressiveRecords&&!useTwoByteRecords?object=>{let nextTransition,wroteKeys,transition=structures.transitions||(structures.transitions=Object.create(null)),objectOffset=position++-start;for(let key in object)if("function"!=typeof object.hasOwnProperty||object.hasOwnProperty(key)){if(nextTransition=transition[key],nextTransition)transition=nextTransition;else{let keys=Object.keys(object),lastTransition=transition;transition=structures.transitions;let newTransitions=0;for(let i=0,l=keys.length;i<l;i++){let key2=keys[i];nextTransition=transition[key2],nextTransition||(nextTransition=transition[key2]=Object.create(null),newTransitions++),transition=nextTransition}objectOffset+start+1==position?(position--,newRecord(transition,keys,newTransitions)):insertNewRecord(transition,keys,objectOffset,newTransitions),wroteKeys=!0,transition=lastTransition[key]}pack2(object[key])}if(!wroteKeys){let recordId=transition[RECORD_SYMBOL];recordId?target[objectOffset+start]=recordId:insertNewRecord(transition,Object.keys(object),objectOffset,0)}}:object=>{let nextTransition,transition=structures.transitions||(structures.transitions=Object.create(null)),newTransitions=0;for(let key in object)("function"!=typeof object.hasOwnProperty||object.hasOwnProperty(key))&&(nextTransition=transition[key],nextTransition||(nextTransition=transition[key]=Object.create(null),newTransitions++),transition=nextTransition);let recordId=transition[RECORD_SYMBOL];recordId?recordId>=96&&useTwoByteRecords?(target[position++]=96+(31&(recordId-=96)),target[position++]=recordId>>5):target[position++]=recordId:newRecord(transition,transition.__keys__||Object.keys(object),newTransitions);for(let key in object)("function"!=typeof object.hasOwnProperty||object.hasOwnProperty(key))&&pack2(object[key])},checkUseRecords="function"==typeof this.useRecords&&this.useRecords,writeObject=checkUseRecords?object=>{checkUseRecords(object)?writeRecord(object):writePlainObject(object)}:writeRecord,makeRoom=end=>{let newSize;if(end>16777216){if(end-start>MAX_BUFFER_SIZE)throw new Error("Packed buffer would be larger than maximum buffer size");newSize=Math.min(MAX_BUFFER_SIZE,4096*Math.round(Math.max((end-start)*(end>67108864?1.25:2),4194304)/4096))}else newSize=1+(Math.max(end-start<<2,target.length-1)>>12)<<12;let newBuffer=new ByteArrayAllocate(newSize);return targetView=newBuffer.dataView||(newBuffer.dataView=new DataView(newBuffer.buffer,0,newSize)),end=Math.min(end,target.length),target.copy?target.copy(newBuffer,0,start,end):newBuffer.set(target.slice(start,end)),position-=start,start=0,safeEnd=newBuffer.length-10,target=newBuffer},newRecord=(transition,keys,newTransitions)=>{let recordId=structures.nextId;recordId||(recordId=64),recordId<sharedLimitId&&this.shouldShareStructure&&!this.shouldShareStructure(keys)?(recordId=structures.nextOwnId,recordId<maxStructureId||(recordId=sharedLimitId),structures.nextOwnId=recordId+1):(recordId>=maxStructureId&&(recordId=sharedLimitId),structures.nextId=recordId+1);let highByte=keys.highByte=recordId>=96&&useTwoByteRecords?recordId-96>>5:-1;transition[RECORD_SYMBOL]=recordId,transition.__keys__=keys,structures[recordId-64]=keys,recordId<sharedLimitId?(keys.isShared=!0,structures.sharedLength=recordId-63,hasSharedUpdate=!0,highByte>=0?(target[position++]=96+(31&recordId),target[position++]=highByte):target[position++]=recordId):(highByte>=0?(target[position++]=213,target[position++]=114,target[position++]=96+(31&recordId),target[position++]=highByte):(target[position++]=212,target[position++]=114,target[position++]=recordId),newTransitions&&(transitionsCount+=serializationsSinceTransitionRebuild*newTransitions),recordIdsToRemove.length>=maxOwnStructures&&(recordIdsToRemove.shift()[RECORD_SYMBOL]=0),recordIdsToRemove.push(transition),pack2(keys))},insertNewRecord=(transition,keys,insertionOffset,newTransitions)=>{let mainTarget=target,mainPosition=position,mainSafeEnd=safeEnd,mainStart=start;target=keysTarget,position=0,start=0,target||(keysTarget=target=new ByteArrayAllocate(8192)),safeEnd=target.length-10,newRecord(transition,keys,newTransitions),keysTarget=target;let keysPosition=position;if(target=mainTarget,position=mainPosition,safeEnd=mainSafeEnd,start=mainStart,keysPosition>1){let newEnd=position+keysPosition-1;newEnd>safeEnd&&makeRoom(newEnd);let insertionPosition=insertionOffset+start;target.copyWithin(insertionPosition+keysPosition,insertionPosition+1,position),target.set(keysTarget.slice(0,keysPosition),insertionPosition),position=newEnd}else target[insertionOffset+start]=keysTarget[0]},writeStruct=object=>{let newPosition=undefined(object,target,start,position,structures,makeRoom,((value,newPosition2,notifySharedUpdate)=>{if(notifySharedUpdate)return hasSharedUpdate=!0;position=newPosition2;let startTarget=target;return pack2(value),resetStructures(),startTarget!==target?{position:position,targetView:targetView,target:target}:position}),this);if(0===newPosition)return writeObject(object);position=newPosition}}useBuffer(buffer){target=buffer,target.dataView||(target.dataView=new DataView(target.buffer,target.byteOffset,target.byteLength)),position=0}set position(value){position=value}get position(){return position}set buffer(buffer){target=buffer}get buffer(){return target}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function writeExtBuffer(typedArray,type,allocateForWrite,encode2){let length=typedArray.byteLength;if(length+1<256){var{target:target2,position:position2}=allocateForWrite(4+length);target2[position2++]=199,target2[position2++]=length+1}else if(length+1<65536){var{target:target2,position:position2}=allocateForWrite(5+length);target2[position2++]=200,target2[position2++]=length+1>>8,target2[position2++]=length+1&255}else{var{target:target2,position:position2,targetView:targetView2}=allocateForWrite(7+length);target2[position2++]=201,targetView2.setUint32(position2,length+1),position2+=4}target2[position2++]=116,target2[position2++]=type,typedArray.buffer||(typedArray=new Uint8Array(typedArray)),target2.set(new Uint8Array(typedArray.buffer,typedArray.byteOffset,typedArray.byteLength),position2)}function writeBuffer(buffer,allocateForWrite){let length=buffer.byteLength;var target2,position2;if(length<256){var{target:target2,position:position2}=allocateForWrite(length+2);target2[position2++]=196,target2[position2++]=length}else if(length<65536){var{target:target2,position:position2}=allocateForWrite(length+3);target2[position2++]=197,target2[position2++]=length>>8,target2[position2++]=255&length}else{var{target:target2,position:position2,targetView:targetView2}=allocateForWrite(length+5);target2[position2++]=198,targetView2.setUint32(position2,length),position2+=4}target2.set(buffer,position2)}function writeExtensionData(result,target2,position2,type){let length=result.length;switch(length){case 1:target2[position2++]=212;break;case 2:target2[position2++]=213;break;case 4:target2[position2++]=214;break;case 8:target2[position2++]=215;break;case 16:target2[position2++]=216;break;default:length<256?(target2[position2++]=199,target2[position2++]=length):length<65536?(target2[position2++]=200,target2[position2++]=length>>8,target2[position2++]=255&length):(target2[position2++]=201,target2[position2++]=length>>24,target2[position2++]=length>>16&255,target2[position2++]=length>>8&255,target2[position2++]=255&length)}return target2[position2++]=type,target2.set(result,position2),position2+=length}function writeBundles(start,pack2,incrementPosition){if(bundledStrings.length>0){targetView.setUint32(bundledStrings.position+start,position+incrementPosition-bundledStrings.position-start),bundledStrings.stringsPosition=position-start;let writeStrings=bundledStrings;bundledStrings=null,pack2(writeStrings[0]),pack2(writeStrings[1])}}extensionClasses=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,C1Type],extensions=[{pack(date,allocateForWrite,pack2){let seconds=date.getTime()/1e3;if((this.useTimestamp32||0===date.getMilliseconds())&&seconds>=0&&seconds<4294967296){let{target:target2,targetView:targetView2,position:position2}=allocateForWrite(6);target2[position2++]=214,target2[position2++]=255,targetView2.setUint32(position2,seconds)}else if(seconds>0&&seconds<4294967296){let{target:target2,targetView:targetView2,position:position2}=allocateForWrite(10);target2[position2++]=215,target2[position2++]=255,targetView2.setUint32(position2,4e6*date.getMilliseconds()+(seconds/1e3/4294967296|0)),targetView2.setUint32(position2+4,seconds)}else if(isNaN(seconds)){if(this.onInvalidDate)return allocateForWrite(0),pack2(this.onInvalidDate());let{target:target2,targetView:targetView2,position:position2}=allocateForWrite(3);target2[position2++]=212,target2[position2++]=255,target2[position2++]=255}else{let{target:target2,targetView:targetView2,position:position2}=allocateForWrite(15);target2[position2++]=199,target2[position2++]=12,target2[position2++]=255,targetView2.setUint32(position2,1e6*date.getMilliseconds()),targetView2.setBigInt64(position2+4,BigInt(Math.floor(seconds)))}}},{pack(set,allocateForWrite,pack2){if(this.setAsEmptyObject)return allocateForWrite(0),pack2({});let array=Array.from(set),{target:target2,position:position2}=allocateForWrite(this.moreTypes?3:0);this.moreTypes&&(target2[position2++]=212,target2[position2++]=115,target2[position2++]=0),pack2(array)}},{pack(error,allocateForWrite,pack2){let{target:target2,position:position2}=allocateForWrite(this.moreTypes?3:0);this.moreTypes&&(target2[position2++]=212,target2[position2++]=101,target2[position2++]=0),pack2([error.name,error.message,error.cause])}},{pack(regex,allocateForWrite,pack2){let{target:target2,position:position2}=allocateForWrite(this.moreTypes?3:0);this.moreTypes&&(target2[position2++]=212,target2[position2++]=120,target2[position2++]=0),pack2([regex.source,regex.flags])}},{pack(arrayBuffer,allocateForWrite){this.moreTypes?writeExtBuffer(arrayBuffer,16,allocateForWrite):writeBuffer(hasNodeBuffer?Buffer.from(arrayBuffer):new Uint8Array(arrayBuffer),allocateForWrite)}},{pack(typedArray,allocateForWrite){let constructor=typedArray.constructor;constructor!==ByteArray&&this.moreTypes?writeExtBuffer(typedArray,typedArrays.indexOf(constructor.name),allocateForWrite):writeBuffer(typedArray,allocateForWrite)}},{pack(c1,allocateForWrite){let{target:target2,position:position2}=allocateForWrite(1);target2[position2]=193}}];let defaultPackr=new Packr({useRecords:!1});const pack=defaultPackr.pack,encode=defaultPackr.pack,Encoder=Packr,{NEVER:NEVER,ALWAYS:ALWAYS,DECIMAL_ROUND:DECIMAL_ROUND,DECIMAL_FIT:DECIMAL_FIT}=FLOAT32_OPTIONS,REUSE_BUFFER_MODE=512,RESET_BUFFER_MODE=1024,RESERVE_START_SPACE=2048;const decodeIter=function unpackIter(bufferIterator,options={}){if(!bufferIterator||"object"!=typeof bufferIterator)throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");const unpackr=new Unpackr(options);let incomplete;const parser=chunk=>{let yields;incomplete&&(chunk=Buffer.concat([incomplete,chunk]),incomplete=void 0);try{yields=unpackr.unpackMultiple(chunk)}catch(err){if(!err.incomplete)throw err;incomplete=chunk.slice(err.lastPosition),yields=err.values}return yields};return"function"==typeof bufferIterator[Symbol.iterator]?function*iter(){for(const value of bufferIterator)yield*parser(value)}():"function"==typeof bufferIterator[Symbol.asyncIterator]?async function*iter(){for await(const value of bufferIterator)yield*parser(value)}():void 0},encodeIter=function packIter(objectIterator,options={}){if(objectIterator&&"object"==typeof objectIterator){if("function"==typeof objectIterator[Symbol.iterator])return function*packIterSync(objectIterator,options){const packr=new Packr(options);for(const value of objectIterator)yield packr.pack(value)}(objectIterator,options);if("function"==typeof objectIterator.then||"function"==typeof objectIterator[Symbol.asyncIterator])return async function*packIterAsync(objectIterator,options){const packr=new Packr(options);for await(const value of objectIterator)yield packr.pack(value)}(objectIterator,options);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")},msgpackr$1=Object.freeze(Object.defineProperty({__proto__:null,ALWAYS:ALWAYS,C1:C1,DECIMAL_FIT:DECIMAL_FIT,DECIMAL_ROUND:DECIMAL_ROUND,Decoder:Decoder,Encoder:Encoder,FLOAT32_OPTIONS:FLOAT32_OPTIONS,NEVER:NEVER,Packr:Packr,RESERVE_START_SPACE:RESERVE_START_SPACE,RESET_BUFFER_MODE:RESET_BUFFER_MODE,REUSE_BUFFER_MODE:REUSE_BUFFER_MODE,Unpackr:Unpackr,addExtension:function addExtension(extension){if(extension.Class){if(!extension.pack&&!extension.write)throw new Error("Extension has no pack or write function");if(extension.pack&&!extension.type)throw new Error("Extension has no type (numeric code to identify the extension)");extensionClasses.unshift(extension.Class),extensions.unshift(extension)}!function addExtension$1(extension){extension.unpack?currentExtensions[extension.type]=extension.unpack:currentExtensions[extension.type]=extension}(extension)},clearSource:clearSource,decode:decode,decodeIter:decodeIter,encode:encode,encodeIter:encodeIter,isNativeAccelerationEnabled:!1,mapsAsObjects:!0,pack:pack,roundFloat32:function roundFloat32(float32Number){f32Array[0]=float32Number;let multiplier=mult10[(127&u8Array[3])<<1|u8Array[2]>>7];return(multiplier*float32Number+(float32Number>0?.5:-.5)|0)/multiplier},unpack:unpack,unpackMultiple:unpackMultiple,useRecords:!1},Symbol.toStringTag,{value:"Module"}));var Connection2=Connection$2,Protocol=Protocol$1,Serializer=Serializer$1,nanoevents$1=nanoevents$2,signal=signal$1,schema=umdExports$1,SchemaSerializer2=SchemaSerializer$2,ServerError$2=ServerError$3,msgpackr=getAugmentedNamespace(msgpackr$1);Room$2.Room=class Room{constructor(name,rootSchema){this.onStateChange=signal.createSignal(),this.onError=signal.createSignal(),this.onLeave=signal.createSignal(),this.onJoin=signal.createSignal(),this.hasJoined=!1,this.onMessageHandlers=nanoevents$1.createNanoEvents(),this.roomId=null,this.name=name,this.packr=new msgpackr.Packr,this.packr.encode(void 0),rootSchema&&(this.serializer=new(Serializer.getSerializer("schema")),this.rootSchema=rootSchema,this.serializer.state=new rootSchema),this.onError(((code,message)=>{var _a2;return null===(_a2=console.warn)||void 0===_a2?void 0:_a2.call(console,`colyseus.js - onError => (${code}) ${message}`)})),this.onLeave((()=>this.removeAllListeners()))}connect(endpoint,devModeCloseCallback,room=this,options,headers){const connection=new Connection2.Connection(options.protocol);if(room.connection=connection,connection.events.onmessage=Room.prototype.onMessageCallback.bind(room),connection.events.onclose=function(e){var _a2;if(!room.hasJoined)return null===(_a2=console.warn)||void 0===_a2||_a2.call(console,`Room connection was closed unexpectedly (${e.code}): ${e.reason}`),void room.onError.invoke(e.code,e.reason);e.code===ServerError$2.CloseCode.DEVMODE_RESTART&&devModeCloseCallback?devModeCloseCallback():(room.onLeave.invoke(e.code,e.reason),room.destroy())},connection.events.onerror=function(e){var _a2;null===(_a2=console.warn)||void 0===_a2||_a2.call(console,`Room, onError (${e.code}): ${e.reason}`),room.onError.invoke(e.code,e.reason)},"h3"===options.protocol){const url=new URL(endpoint);connection.connect(url.origin,options)}else connection.connect(endpoint,headers)}leave(consented=!0){return new Promise((resolve=>{this.onLeave((code=>resolve(code))),this.connection?consented?(this.packr.buffer[0]=Protocol.Protocol.LEAVE_ROOM,this.connection.send(this.packr.buffer.subarray(0,1))):this.connection.close():this.onLeave.invoke(ServerError$2.CloseCode.CONSENTED)}))}onMessage(type,callback){return this.onMessageHandlers.on(this.getMessageHandlerKey(type),callback)}send(type,message){const it={offset:1};this.packr.buffer[0]=Protocol.Protocol.ROOM_DATA,"string"==typeof type?schema.encode.string(this.packr.buffer,type,it):schema.encode.number(this.packr.buffer,type,it),this.packr.position=0;const data=void 0!==message?this.packr.pack(message,2048+it.offset):this.packr.buffer.subarray(0,it.offset);this.connection.send(data)}sendUnreliable(type,message){const it={offset:1};this.packr.buffer[0]=Protocol.Protocol.ROOM_DATA,"string"==typeof type?schema.encode.string(this.packr.buffer,type,it):schema.encode.number(this.packr.buffer,type,it),this.packr.position=0;const data=void 0!==message?this.packr.pack(message,2048+it.offset):this.packr.buffer.subarray(0,it.offset);this.connection.sendUnreliable(data)}sendBytes(type,bytes){const it={offset:1};if(this.packr.buffer[0]=Protocol.Protocol.ROOM_DATA_BYTES,"string"==typeof type?schema.encode.string(this.packr.buffer,type,it):schema.encode.number(this.packr.buffer,type,it),bytes.byteLength+it.offset>this.packr.buffer.byteLength){const newBuffer=new Uint8Array(it.offset+bytes.byteLength);newBuffer.set(this.packr.buffer),this.packr.useBuffer(newBuffer)}this.packr.buffer.set(bytes,it.offset),this.connection.send(this.packr.buffer.subarray(0,it.offset+bytes.byteLength))}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={},this.serializer instanceof SchemaSerializer2.SchemaSerializer&&(this.serializer.decoder.root.callbacks={})}onMessageCallback(event){const buffer=new Uint8Array(event.data),it={offset:1},code=buffer[0];if(code===Protocol.Protocol.JOIN_ROOM){const reconnectionToken=schema.decode.utf8Read(buffer,it,buffer[it.offset++]);if(this.serializerId=schema.decode.utf8Read(buffer,it,buffer[it.offset++]),!this.serializer){const serializer=Serializer.getSerializer(this.serializerId);this.serializer=new serializer}buffer.byteLength>it.offset&&this.serializer.handshake&&this.serializer.handshake(buffer,it),this.reconnectionToken=`${this.roomId}:${reconnectionToken}`,this.hasJoined=!0,this.onJoin.invoke(),this.packr.buffer[0]=Protocol.Protocol.JOIN_ROOM,this.connection.send(this.packr.buffer.subarray(0,1))}else if(code===Protocol.Protocol.ERROR){const code2=schema.decode.number(buffer,it),message=schema.decode.string(buffer,it);this.onError.invoke(code2,message)}else if(code===Protocol.Protocol.LEAVE_ROOM)this.leave();else if(code===Protocol.Protocol.ROOM_STATE)this.serializer.setState(buffer,it),this.onStateChange.invoke(this.serializer.getState());else if(code===Protocol.Protocol.ROOM_STATE_PATCH)this.serializer.patch(buffer,it),this.onStateChange.invoke(this.serializer.getState());else if(code===Protocol.Protocol.ROOM_DATA){const type=schema.decode.stringCheck(buffer,it)?schema.decode.string(buffer,it):schema.decode.number(buffer,it),message=buffer.byteLength>it.offset?msgpackr.unpack(buffer,{start:it.offset}):void 0;this.dispatchMessage(type,message)}else if(code===Protocol.Protocol.ROOM_DATA_BYTES){const type=schema.decode.stringCheck(buffer,it)?schema.decode.string(buffer,it):schema.decode.number(buffer,it);this.dispatchMessage(type,buffer.subarray(it.offset))}}dispatchMessage(type,message){var _a2;const messageType=this.getMessageHandlerKey(type);this.onMessageHandlers.events[messageType]?this.onMessageHandlers.emit(messageType,message):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",type,message):null===(_a2=console.warn)||void 0===_a2||_a2.call(console,`colyseus.js: onMessage() not registered for type '${type}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(type){switch(typeof type){case"string":return type;case"number":return`i${type}`;default:throw new Error("invalid message type.")}}};var HTTP$2={};function apply(src2,tar){tar.headers=src2.headers||{},tar.statusMessage=src2.statusText,tar.statusCode=src2.status,tar.data=src2.response}function send(method,uri,opts){return new Promise((function(res,rej){opts=opts||{};var k,tmp,arr,req=new XMLHttpRequest,str=opts.body,headers=opts.headers||{};for(k in opts.timeout&&(req.timeout=opts.timeout),req.ontimeout=req.onerror=function(err){err.timeout="timeout"==err.type,rej(err)},req.open(method,uri.href||uri),req.onload=function(){for(arr=req.getAllResponseHeaders().trim().split(/[\r\n]+/),apply(req,req);tmp=arr.shift();)tmp=tmp.split(": "),req.headers[tmp.shift().toLowerCase()]=tmp.join(": ");if((tmp=req.headers["content-type"])&&~tmp.indexOf("application/json"))try{req.data=JSON.parse(req.data,opts.reviver)}catch(err){return apply(req,err),rej(err)}(req.status>=400?rej:res)(req)},typeof FormData<"u"&&str instanceof FormData||str&&"object"==typeof str&&(headers["content-type"]="application/json",str=JSON.stringify(str)),req.withCredentials=!!opts.withCredentials,headers)req.setRequestHeader(k,headers[k]);req.send(str)}))}var get=send.bind(send,"GET"),post=send.bind(send,"POST"),patch=send.bind(send,"PATCH"),del=send.bind(send,"DELETE"),put=send.bind(send,"PUT");const xhr=Object.freeze(Object.defineProperty({__proto__:null,del:del,get:get,patch:patch,post:post,put:put,send:send},Symbol.toStringTag,{value:"Module"}));var ServerError$1=ServerError$3;function _interopNamespaceDefault(e){var n=Object.create(null);return e&&Object.keys(e).forEach((function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}})),n.default=e,Object.freeze(n)}var httpie__namespace=_interopNamespaceDefault(getAugmentedNamespace(xhr));HTTP$2.HTTP=class HTTP{constructor(client,headers={}){this.client=client,this.headers=headers}get(path,options={}){return this.request("get",path,options)}post(path,options={}){return this.request("post",path,options)}del(path,options={}){return this.request("del",path,options)}put(path,options={}){return this.request("put",path,options)}request(method,path,options={}){return httpie__namespace[method](this.client.getHttpEndpoint(path),this.getOptions(options)).catch((e=>{var _a2;const status=e.statusCode,message=(null===(_a2=e.data)||void 0===_a2?void 0:_a2.error)||e.statusMessage||e.message;if(!status&&!message)throw e;throw new ServerError$1.ServerError(status,message)}))}getOptions(options){return options.headers=Object.assign({},this.headers,options.headers),this.authToken&&(options.headers.Authorization=`Bearer ${this.authToken}`),"undefined"!=typeof cc&&cc.sys&&cc.sys.isNative||(options.withCredentials=!0),options}};var Auth$2={},Storage$1={},tslib$2=require$$0;let storage;function getStorage(){if(!storage)try{storage="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(e){}return storage||void 0===globalThis.indexedDB||(storage=new IndexedDBStorage),storage||(storage={cache:{},setItem:function(key,value){this.cache[key]=value},getItem:function(key){this.cache[key]},removeItem:function(key){delete this.cache[key]}}),storage}class IndexedDBStorage{constructor(){this.dbPromise=new Promise((resolve=>{const request=indexedDB.open("_colyseus_storage",1);request.onupgradeneeded=()=>request.result.createObjectStore("store"),request.onsuccess=()=>resolve(request.result)}))}tx(mode,fn){return tslib$2.__awaiter(this,void 0,void 0,(function*(){const store=(yield this.dbPromise).transaction("store",mode).objectStore("store");return fn(store)}))}setItem(key,value){return this.tx("readwrite",(store=>store.put(value,key))).then()}getItem(key){return tslib$2.__awaiter(this,void 0,void 0,(function*(){const request=yield this.tx("readonly",(store=>store.get(key)));return new Promise((resolve=>{request.onsuccess=()=>resolve(request.result)}))}))}removeItem(key){return this.tx("readwrite",(store=>store.delete(key))).then()}}Storage$1.getItem=function getItem(key,callback){const value=getStorage().getItem(key);"undefined"!=typeof Promise&&value instanceof Promise?value.then((id=>callback(id))):callback(value)},Storage$1.removeItem=function removeItem(key){getStorage().removeItem(key)},Storage$1.setItem=function setItem(key,value){getStorage().setItem(key,value)};var _Auth__initialized,_Auth__initializationPromise,_Auth__signInWindow,_Auth__events,tslib$1=require$$0,Storage=Storage$1,nanoevents=nanoevents$2;_Auth__initialized=new WeakMap,_Auth__initializationPromise=new WeakMap,_Auth__signInWindow=new WeakMap,_Auth__events=new WeakMap,Auth$2.Auth=class Auth{constructor(http){this.http=http,this.settings={path:"/auth",key:"colyseus-auth-token"},_Auth__initialized.set(this,!1),_Auth__initializationPromise.set(this,void 0),_Auth__signInWindow.set(this,void 0),_Auth__events.set(this,nanoevents.createNanoEvents()),Storage.getItem(this.settings.key,(token=>this.token=token))}set token(token){this.http.authToken=token}get token(){return this.http.authToken}onChange(callback){const unbindChange=tslib$1.__classPrivateFieldGet(this,_Auth__events,"f").on("change",callback);return tslib$1.__classPrivateFieldGet(this,_Auth__initialized,"f")||tslib$1.__classPrivateFieldSet(this,_Auth__initializationPromise,new Promise(((resolve,reject)=>{this.getUserData().then((userData=>{this.emitChange(Object.assign(Object.assign({},userData),{token:this.token}))})).catch((e=>{this.emitChange({user:null,token:void 0})})).finally((()=>{resolve()}))})),"f"),tslib$1.__classPrivateFieldSet(this,_Auth__initialized,!0,"f"),unbindChange}getUserData(){return tslib$1.__awaiter(this,void 0,void 0,(function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")}))}registerWithEmailAndPassword(email,password,options){return tslib$1.__awaiter(this,void 0,void 0,(function*(){const data=(yield this.http.post(`${this.settings.path}/register`,{body:{email:email,password:password,options:options}})).data;return this.emitChange(data),data}))}signInWithEmailAndPassword(email,password){return tslib$1.__awaiter(this,void 0,void 0,(function*(){const data=(yield this.http.post(`${this.settings.path}/login`,{body:{email:email,password:password}})).data;return this.emitChange(data),data}))}signInAnonymously(options){return tslib$1.__awaiter(this,void 0,void 0,(function*(){const data=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:options}})).data;return this.emitChange(data),data}))}sendPasswordResetEmail(email){return tslib$1.__awaiter(this,void 0,void 0,(function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:email}})).data}))}signInWithProvider(providerName_1){return tslib$1.__awaiter(this,arguments,void 0,(function*(providerName,settings={}){return new Promise(((resolve,reject)=>{const w=settings.width||480,h=settings.height||768,upgradingToken=this.token?`?token=${this.token}`:"",title=`Login with ${providerName[0].toUpperCase()+providerName.substring(1)}`,url=this.http.client.getHttpEndpoint(`${settings.prefix||`${this.settings.path}/provider`}/${providerName}${upgradingToken}`),left=screen.width/2-w/2,top=screen.height/2-h/2;tslib$1.__classPrivateFieldSet(this,_Auth__signInWindow,window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left),"f");const onMessage=event=>{void 0===event.data.user&&void 0===event.data.token||(clearInterval(rejectionChecker),tslib$1.__classPrivateFieldGet(this,_Auth__signInWindow,"f").close(),tslib$1.__classPrivateFieldSet(this,_Auth__signInWindow,void 0,"f"),window.removeEventListener("message",onMessage),void 0!==event.data.error?reject(event.data.error):(resolve(event.data),this.emitChange(event.data)))},rejectionChecker=setInterval((()=>{tslib$1.__classPrivateFieldGet(this,_Auth__signInWindow,"f")&&!tslib$1.__classPrivateFieldGet(this,_Auth__signInWindow,"f").closed||(tslib$1.__classPrivateFieldSet(this,_Auth__signInWindow,void 0,"f"),reject("cancelled"),window.removeEventListener("message",onMessage))}),200);window.addEventListener("message",onMessage)}))}))}signOut(){return tslib$1.__awaiter(this,void 0,void 0,(function*(){this.emitChange({user:null,token:null})}))}emitChange(authData){void 0!==authData.token&&(this.token=authData.token,null===authData.token?Storage.removeItem(this.settings.key):Storage.setItem(this.settings.key,authData.token)),tslib$1.__classPrivateFieldGet(this,_Auth__events,"f").emit("change",authData)}};var discord$1={};discord$1.discordURLBuilder=function discordURLBuilder(url){var _a2;const localHostname=(null===(_a2=null===window||void 0===window?void 0:window.location)||void 0===_a2?void 0:_a2.hostname)||"localhost",remoteHostnameSplitted=url.hostname.split("."),subdomain=!url.hostname.includes("trycloudflare.com")&&!url.hostname.includes("discordsays.com")&&remoteHostnameSplitted.length>2?`/${remoteHostnameSplitted[0]}`:"";return url.pathname.startsWith("/.proxy")?`${url.protocol}//${localHostname}${subdomain}${url.pathname}${url.search}`:`${url.protocol}//${localHostname}/.proxy/colyseus${subdomain}${url.pathname}${url.search}`};var _a,tslib=require$$0,ServerError=ServerError$3,Room2=Room$2,HTTP2=HTTP$2,Auth2=Auth$2,discord=discord$1;class MatchMakeError extends Error{constructor(message,code){super(message),this.code=code,this.name="MatchMakeError",Object.setPrototypeOf(this,MatchMakeError.prototype)}}const DEFAULT_ENDPOINT="undefined"!=typeof window&&void 0!==(null===(_a=null===window||void 0===window?void 0:window.location)||void 0===_a?void 0:_a.hostname)?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";class Client{constructor(settings=DEFAULT_ENDPOINT,options){var _a2,_b;if("string"==typeof settings){const url=settings.startsWith("/")?new URL(settings,DEFAULT_ENDPOINT):new URL(settings),secure="https:"===url.protocol||"wss:"===url.protocol,port=Number(url.port||(secure?443:80));this.settings={hostname:url.hostname,pathname:url.pathname,port:port,secure:secure}}else void 0===settings.port&&(settings.port=settings.secure?443:80),void 0===settings.pathname&&(settings.pathname=""),this.settings=settings;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new HTTP2.HTTP(this,(null==options?void 0:options.headers)||{}),this.auth=new Auth2.Auth(this.http),this.urlBuilder=null==options?void 0:options.urlBuilder,!this.urlBuilder&&"undefined"!=typeof window&&(null===(_b=null===(_a2=null===window||void 0===window?void 0:window.location)||void 0===_a2?void 0:_a2.hostname)||void 0===_b?void 0:_b.includes("discordsays.com"))&&(this.urlBuilder=discord.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(roomName_1){return tslib.__awaiter(this,arguments,void 0,(function*(roomName,options={},rootSchema){return yield this.createMatchMakeRequest("joinOrCreate",roomName,options,rootSchema)}))}create(roomName_1){return tslib.__awaiter(this,arguments,void 0,(function*(roomName,options={},rootSchema){return yield this.createMatchMakeRequest("create",roomName,options,rootSchema)}))}join(roomName_1){return tslib.__awaiter(this,arguments,void 0,(function*(roomName,options={},rootSchema){return yield this.createMatchMakeRequest("join",roomName,options,rootSchema)}))}joinById(roomId_1){return tslib.__awaiter(this,arguments,void 0,(function*(roomId,options={},rootSchema){return yield this.createMatchMakeRequest("joinById",roomId,options,rootSchema)}))}reconnect(reconnectionToken,rootSchema){return tslib.__awaiter(this,void 0,void 0,(function*(){if("string"==typeof reconnectionToken&&"string"==typeof rootSchema)throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[roomId,token]=reconnectionToken.split(":");if(!roomId||!token)throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return yield this.createMatchMakeRequest("reconnect",roomId,{reconnectionToken:token},rootSchema)}))}consumeSeatReservation(response,rootSchema,reuseRoomInstance){return tslib.__awaiter(this,void 0,void 0,(function*(){const room=this.createRoom(response.room.name,rootSchema);room.roomId=response.room.roomId,room.sessionId=response.sessionId;const options={sessionId:room.sessionId};response.reconnectionToken&&(options.reconnectionToken=response.reconnectionToken);const targetRoom=reuseRoomInstance||room;return room.connect(this.buildEndpoint(response.room,options,response.protocol),response.devMode&&(()=>tslib.__awaiter(this,void 0,void 0,(function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${room.roomId}'...`);let retryCount=0;const retryReconnection=()=>tslib.__awaiter(this,void 0,void 0,(function*(){retryCount++;try{yield this.consumeSeatReservation(response,rootSchema,targetRoom),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${room.roomId}'`)}catch(e){retryCount<8?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${retryCount} out of 8)`),setTimeout(retryReconnection,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}}));setTimeout(retryReconnection,2e3)}))),targetRoom,response,this.http.headers),new Promise(((resolve,reject)=>{const onError=(code,message)=>reject(new ServerError.ServerError(code,message));targetRoom.onError.once(onError),targetRoom.onJoin.once((()=>{targetRoom.onError.remove(onError),resolve(targetRoom)}))}))}))}createMatchMakeRequest(method_1,roomName_1){return tslib.__awaiter(this,arguments,void 0,(function*(method,roomName,options={},rootSchema,reuseRoomInstance){const response=(yield this.http.post(`matchmake/${method}/${roomName}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(options)})).data;if(response.error)throw new MatchMakeError(response.error,response.code);return"reconnect"===method&&(response.reconnectionToken=options.reconnectionToken),yield this.consumeSeatReservation(response,rootSchema,reuseRoomInstance)}))}createRoom(roomName,rootSchema){return new Room2.Room(roomName,rootSchema)}buildEndpoint(room,options={},protocol="ws"){const params=[];this.http.authToken&&(options._authToken=this.http.authToken);for(const name in options)options.hasOwnProperty(name)&&params.push(`${name}=${options[name]}`);"h3"===protocol&&(protocol="http");let endpoint=this.settings.secure?`${protocol}s://`:`${protocol}://`;room.publicAddress?endpoint+=`${room.publicAddress}`:endpoint+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const endpointURL=`${endpoint}/${room.processId}/${room.roomId}?${params.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(endpointURL)):endpointURL}getHttpEndpoint(segments=""){const path=segments.startsWith("/")?segments:`/${segments}`,endpointURL=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${path}`;return this.urlBuilder?this.urlBuilder(new URL(endpointURL)):endpointURL}getEndpointPort(){return 80!==this.settings.port&&443!==this.settings.port?`:${this.settings.port}`:""}}Client.VERSION="0.16.16",Client$1.Client=Client,Client$1.MatchMakeError=MatchMakeError;var NoneSerializer$1={};NoneSerializer$1.NoneSerializer=class NoneSerializer{setState(rawState){}getState(){return null}patch(patches){}teardown(){}handshake(bytes){}},function(exports){var Client2=Client$1,Protocol2=Protocol$1,Room3=Room$2,Auth3=Auth$2,ServerError2=ServerError$3,SchemaSerializer3=SchemaSerializer$2,NoneSerializer2=NoneSerializer$1,Serializer2=Serializer$1;Serializer2.registerSerializer("schema",SchemaSerializer3.SchemaSerializer),Serializer2.registerSerializer("none",NoneSerializer2.NoneSerializer),exports.Client=Client2.Client,exports.MatchMakeError=Client2.MatchMakeError,Object.defineProperty(exports,"ErrorCode",{enumerable:!0,get:function(){return Protocol2.ErrorCode}}),Object.defineProperty(exports,"Protocol",{enumerable:!0,get:function(){return Protocol2.Protocol}}),exports.Room=Room3.Room,exports.Auth=Auth3.Auth,exports.ServerError=ServerError2.ServerError,exports.SchemaSerializer=SchemaSerializer3.SchemaSerializer,exports.getStateCallbacks=SchemaSerializer3.getStateCallbacks,exports.registerSerializer=Serializer2.registerSerializer}(cjs);let colyseusRoom=null,colyseusClient=null,globalCardDataCache=new Map;async function loadAllCardData(){return!!colyseusRoom&&new Promise((resolve=>{const timeout=setTimeout((()=>{console.error("loadAllCardData: Timeout while waiting for card data"),resolve(!1)}),5e3);colyseusRoom.send("getAllCards"),colyseusRoom.onMessage("allCards",(cardData=>{clearTimeout(timeout),console.log(`Received ${cardData.length} cards from server`),globalCardDataCache.clear(),cardData.forEach((card=>{globalCardDataCache.set(card.id,card)})),resolve(!0)}))}))}async function connectColyseus(accessToken,username){const url=location.host.includes("localhost")?"ws://localhost:4001":`wss://${location.host}/.proxy/api`;colyseusClient=new cjs.Client(url);try{console.log("Attempting to join or create Colyseus room..."),colyseusRoom=await colyseusClient.joinOrCreate("game",{accessToken:accessToken,username:username}),console.log("Successfully joined room:",colyseusRoom.roomId),console.log("Session ID:",colyseusRoom.sessionId),console.log("Initial room state:",colyseusRoom.state.toJSON()),console.log("Loading all card data..."),await loadAllCardData(),console.log("Card data loaded, cache size:",globalCardDataCache.size),colyseusRoom.onStateChange((state=>{})),colyseusRoom.onError(((code,message)=>{console.error("Colyseus room error:",code,message),colyseusRoom=null})),colyseusRoom.onLeave((code=>{console.log("Left Colyseus room, code:",code),colyseusRoom=null}))}catch(e){throw console.error("Failed to connect to Colyseus:",e),e instanceof ProgressEvent?(console.error("Connection failed: Network error (ProgressEvent). Potential causes:"),console.error("- Colyseus server might not be running or accessible at the target URL:",url),console.error("- WebSocket connection blocked by firewall or proxy."),console.error("- Incorrect WebSocket proxy configuration on the deployment server (if applicable)."),alert("Failed to connect to game server: Network Error. Please ensure the server is running and accessible.")):e instanceof Error?(console.error("Connection failed due to error:",e.message),alert(`Failed to connect to game server: ${e.message}`)):(console.error("Connection failed due to unknown error:",e),alert("Failed to connect to game server: An unknown error occurred.")),colyseusRoom=null,e}}const colyseusClient$1=Object.freeze(Object.defineProperty({__proto__:null,get colyseusClient(){return colyseusClient},get colyseusRoom(){return colyseusRoom},connectColyseus:connectColyseus,globalCardDataCache:globalCardDataCache,loadAllCardData:loadAllCardData},Symbol.toStringTag,{value:"Module"}));let auth;const queryParams=new URLSearchParams(window.location.search),isEmbedded=null!=queryParams.get("frame_id");let discordSdk;const clientId="1363939642289946886",mockUserId=getOverrideOrRandomSessionValue("user_id"),mockGuildId=getOverrideOrRandomSessionValue("guild_id"),mockChannelId=getOverrideOrRandomSessionValue("channel_id");function getOverrideOrRandomSessionValue(queryParam){const overrideValue=queryParams.get(queryParam);if(null!=overrideValue)return overrideValue;const currentStoredValue=sessionStorage.getItem(queryParam);if(null!=currentStoredValue)return currentStoredValue;const randomString=Math.random().toString(36).slice(2,10);return sessionStorage.setItem(queryParam,randomString),randomString}class Boot extends phaserExports.Scene{constructor(){super("Boot")}preload(){this.load.setPath("/assets"),this.load.image("background","bg.png"),this.load.image("fridge_bg","fridge_bg.png")}create(){this.scene.start("Preloader")}}class Game extends phaserExports.Scene{constructor(){super("Game"),__publicField(this,"room")}async create(){this.scene.launch("background");this.add.image(.5*this.cameras.main.width,.4*this.cameras.main.height,"grid").setScale(.6),await this.connect(),this.room.state.draggables.onAdd(((draggable,draggableId)=>{const image=this.add.image(draggable.x,draggable.y,draggableId).setInteractive();image.name=draggableId,image.setScale(.8),this.input.setDraggable(image),image.on("drag",((pointer,dragX,dragY)=>{this.room&&(image.x=Phaser.Math.Clamp(dragX,image.displayWidth/2,Number(this.game.config.width)-image.displayWidth/2),image.y=Phaser.Math.Clamp(dragY,image.displayHeight/2,Number(this.game.config.height)-image.displayHeight/2),this.room.send("move",{imageId:draggableId,x:image.x,y:image.y}))}))})),this.add.text(.5*this.cameras.main.width,.95*this.cameras.main.height,`Connected as: ${(()=>{if(!auth)return!isEmbedded&&discordSdk instanceof DiscordSDKMock?getOverrideOrRandomSessionValue("user_id")||"MockUser":"User";return auth.user.username})()}`,{font:"14px Arial",color:"#000000"}).setOrigin(.5)}async connect(){const url="localhost:3000"===location.host?"ws://localhost:3001":`wss://${location.host}/.proxy/api/colyseus`,client=new cjs.Client(`${url}`);try{this.room=await client.joinOrCreate("some_other_room",{screenWidth:this.game.config.width,screenHeight:this.game.config.height}),this.room.onMessage("move",(message=>{})),console.log("Successfully connected!")}catch(e){console.log(`Could not connect with the server: ${e}`)}}}class MainMenu extends phaserExports.Scene{constructor(){super("MainMenu"),__publicField(this,"statusText")}create(){const bg=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"background");let scaleX=this.cameras.main.width/bg.width+.2,scaleY=this.cameras.main.height/bg.height+.2,scale=Math.max(scaleX,scaleY);bg.setScale(scale).setScrollFactor(0),this.add.text(.5*Number(this.game.config.width),300,"Legends of the Friend",{fontFamily:"Arial Black",fontSize:58,color:"#ffff00",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(.5*Number(this.game.config.width),460,"Click to Start",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.statusText=this.add.text(this.cameras.main.centerX,520,"",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5),this.input.once("pointerdown",(async()=>{this.statusText.setText("Authorizing with Discord...");if(await(async()=>{if(!isEmbedded){console.log("Running locally, attempting mock authentication...");try{return await discordSdk.commands.authenticate({}),!0}catch(error){return console.error("Mock authentication failed:",error),!1}}let step="authorize";try{console.log("Requesting Discord authorization...");const{code:code}=await discordSdk.commands.authorize({client_id:clientId,response_type:"code",state:"",prompt:"none",scope:["identify","guilds"]});console.log("Authorization code received:",code),step="fetchToken",console.log("Fetching access token from /.proxy/api/token...");const response=await fetch("/.proxy/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:code})});if(console.log("Token fetch response received. Status:",response.status),!response.ok){const errorText=await response.text();throw console.error("Token fetch failed:",response.status,response.statusText,errorText),new Error(`Token fetch failed: ${response.status} ${response.statusText} - ${errorText}`)}const{access_token:access_token}=await response.json();if(console.log("Access token received successfully."),step="discordAuthenticate",console.log("Authenticating with Discord SDK..."),auth=await discordSdk.commands.authenticate({access_token:access_token}),!(null==auth?void 0:auth.user))throw console.error("Discord SDK Authentication failed: No user data received.",auth),new Error("Discord SDK Authentication failed to return user data.");console.log("Discord SDK Authentication successful:",auth.user.username),step="connectColyseus",console.log("Connecting to Colyseus...");try{await connectColyseus(auth.access_token,auth.user.username),console.log("Colyseus connection successful.")}catch(colyseusError){throw console.error("Colyseus connection failed:",colyseusError),colyseusError}return!0}catch(error){return console.error(`Error during step: ${step}`),console.error("Discord authorization or Colyseus connection failed:",error),error instanceof ProgressEvent?console.error("Network error (ProgressEvent) occurred, likely during fetch."):error.message&&error.message.includes("Token fetch failed")?console.error("Error specifically during token fetch step."):"connectColyseus"===step&&console.error("Error specifically during Colyseus connection step."),auth=null,!1}})())if(this.statusText.setText("Connecting to server..."),await new Promise((resolve=>setTimeout(resolve,1e3))),colyseusRoom){this.statusText.setText("Loading game data...");await loadAllCardData()?(this.statusText.setText("Connected! Entering Lobby..."),this.scene.start("Lobby")):this.statusText.setText("Failed to load game data. Please try again.")}else this.statusText.setText("Failed to connect to server. Please try again.");else this.statusText.setText("Discord authorization failed. Please try again.")}))}}class Preloader extends phaserExports.Scene{constructor(){super("Preloader")}init(){const bg=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"background");let scaleX=this.cameras.main.width/bg.width+.2,scaleY=this.cameras.main.height/bg.height+.2,scale=Math.max(scaleX,scaleY);bg.setScale(scale).setScrollFactor(0),this.add.rectangle(.5*Number(this.game.config.width),.5*Number(this.game.config.height),468,32).setStrokeStyle(1,16777215);const bar=this.add.rectangle(.5*Number(this.game.config.width)-230,.5*Number(this.game.config.height),4,28,16777215);this.load.on("progress",(progress=>{bar.width=4+460*progress}))}preload(){this.load.setPath("/assets"),this.load.image("logo","logo.png"),this.load.image("cardFullTier1","CardFullTier1.png"),this.load.image("cardMinionTier1","CardMinionTier1.png")}create(){this.scene.start("MainMenu")}}class Background extends phaserExports.Scene{constructor(){super("background")}create(){this.cameras.main.setBackgroundColor(11393254),this.scene.sendToBack()}}const seen={};var umd={exports:{}};!function(exports2){const SWITCH_TO_STRUCTURE=255,TYPE_ID=213;var OPERATION;exports2.OPERATION=void 0,(OPERATION=exports2.OPERATION||(exports2.OPERATION={}))[OPERATION.ADD=128]="ADD",OPERATION[OPERATION.REPLACE=0]="REPLACE",OPERATION[OPERATION.DELETE=64]="DELETE",OPERATION[OPERATION.DELETE_AND_MOVE=96]="DELETE_AND_MOVE",OPERATION[OPERATION.MOVE_AND_ADD=160]="MOVE_AND_ADD",OPERATION[OPERATION.DELETE_AND_ADD=192]="DELETE_AND_ADD",OPERATION[OPERATION.CLEAR=10]="CLEAR",OPERATION[OPERATION.REVERSE=15]="REVERSE",OPERATION[OPERATION.MOVE=32]="MOVE",OPERATION[OPERATION.DELETE_BY_REFID=33]="DELETE_BY_REFID",OPERATION[OPERATION.ADD_BY_REFID=129]="ADD_BY_REFID",Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));const $track=Symbol("$track"),$encoder=Symbol("$encoder"),$decoder=Symbol("$decoder"),$filter=Symbol("$filter"),$getByIndex=Symbol("$getByIndex"),$deleteByIndex=Symbol("$deleteByIndex"),$changes=Symbol("$changes"),$childType=Symbol("$childType"),$onEncodeEnd=Symbol("$onEncodeEnd"),$onDecodeEnd=Symbol("$onDecodeEnd"),$descriptors=Symbol("$descriptors"),$numFields="$__numFields",$refTypeFieldIndexes="$__refTypeFieldIndexes",$viewFieldIndexes="$__viewFieldIndexes",$fieldIndexesByViewTag="$__fieldIndexesByViewTag";let textEncoder2;try{textEncoder2=new TextEncoder}catch(e){}const _convoBuffer$1=new ArrayBuffer(8),_int32$1=new Int32Array(_convoBuffer$1),_float32$1=new Float32Array(_convoBuffer$1),_float64$1=new Float64Array(_convoBuffer$1),_int64$1=new BigInt64Array(_convoBuffer$1),utf8Length="undefined"!=typeof Buffer&&Buffer.byteLength?Buffer.byteLength:function(str,_){for(var c=0,length=0,i=0,l=str.length;i<l;i++)(c=str.charCodeAt(i))<128?length+=1:c<2048?length+=2:c<55296||c>=57344?length+=3:(i++,length+=4);return length};function utf8Write(view2,str,it){for(var c=0,i=0,l=str.length;i<l;i++)(c=str.charCodeAt(i))<128?view2[it.offset++]=c:c<2048?(view2[it.offset]=192|c>>6,view2[it.offset+1]=128|63&c,it.offset+=2):c<55296||c>=57344?(view2[it.offset]=224|c>>12,view2[it.offset+1]=128|c>>6&63,view2[it.offset+2]=128|63&c,it.offset+=3):(i++,c=65536+((1023&c)<<10|1023&str.charCodeAt(i)),view2[it.offset]=240|c>>18,view2[it.offset+1]=128|c>>12&63,view2[it.offset+2]=128|c>>6&63,view2[it.offset+3]=128|63&c,it.offset+=4)}function int8$1(bytes,value,it){bytes[it.offset++]=255&value}function uint8$1(bytes,value,it){bytes[it.offset++]=255&value}function int16$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255}function uint16$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255}function int32$1(bytes,value,it){bytes[it.offset++]=255&value,bytes[it.offset++]=value>>8&255,bytes[it.offset++]=value>>16&255,bytes[it.offset++]=value>>24&255}function uint32$1(bytes,value,it){const b4=value>>24,b3=value>>16,b2=value>>8,b1=value;bytes[it.offset++]=255&b1,bytes[it.offset++]=255&b2,bytes[it.offset++]=255&b3,bytes[it.offset++]=255&b4}function int64$1(bytes,value,it){const high=Math.floor(value/Math.pow(2,32));uint32$1(bytes,value>>>0,it),uint32$1(bytes,high,it)}function uint64$1(bytes,value,it){const high=value/Math.pow(2,32)|0;uint32$1(bytes,value>>>0,it),uint32$1(bytes,high,it)}function bigint64$1(bytes,value,it){_int64$1[0]=BigInt.asIntN(64,value),int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function biguint64$1(bytes,value,it){_int64$1[0]=BigInt.asIntN(64,value),int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function float32$1(bytes,value,it){_float32$1[0]=value,int32$1(bytes,_int32$1[0],it)}function float64$1(bytes,value,it){_float64$1[0]=value,int32$1(bytes,_int32$1[0],it),int32$1(bytes,_int32$1[1],it)}function boolean$1(bytes,value,it){bytes[it.offset++]=value?1:0}function string$1(bytes,value,it){value||(value="");let length=utf8Length(value,"utf8"),size=0;if(length<32)bytes[it.offset++]=160|length,size=1;else if(length<256)bytes[it.offset++]=217,bytes[it.offset++]=length%255,size=2;else if(length<65536)bytes[it.offset++]=218,uint16$1(bytes,length,it),size=3;else{if(!(length<4294967296))throw new Error("String too long");bytes[it.offset++]=219,uint32$1(bytes,length,it),size=5}return utf8Write(bytes,value,it),size+length}function number$1(bytes,value,it){return isNaN(value)?number$1(bytes,0,it):isFinite(value)?value!==(0|value)?Math.abs(value)<=34028235e31&&(_float32$1[0]=value,Math.abs(Math.abs(_float32$1[0])-Math.abs(value))<1e-4)?(bytes[it.offset++]=202,float32$1(bytes,value,it),5):(bytes[it.offset++]=203,float64$1(bytes,value,it),9):value>=0?value<128?(bytes[it.offset++]=255&value,1):value<256?(bytes[it.offset++]=204,bytes[it.offset++]=255&value,2):value<65536?(bytes[it.offset++]=205,uint16$1(bytes,value,it),3):value<4294967296?(bytes[it.offset++]=206,uint32$1(bytes,value,it),5):(bytes[it.offset++]=207,uint64$1(bytes,value,it),9):value>=-32?(bytes[it.offset++]=224|value+32,1):value>=-128?(bytes[it.offset++]=208,int8$1(bytes,value,it),2):value>=-32768?(bytes[it.offset++]=209,int16$1(bytes,value,it),3):value>=-2147483648?(bytes[it.offset++]=210,int32$1(bytes,value,it),5):(bytes[it.offset++]=211,int64$1(bytes,value,it),9):number$1(bytes,value>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER,it)}const encode2={int8:int8$1,uint8:uint8$1,int16:int16$1,uint16:uint16$1,int32:int32$1,uint32:uint32$1,int64:int64$1,uint64:uint64$1,bigint64:bigint64$1,biguint64:biguint64$1,float32:float32$1,float64:float64$1,boolean:boolean$1,string:string$1,number:number$1,utf8Write:utf8Write,utf8Length:utf8Length},_convoBuffer=new ArrayBuffer(8),_int32=new Int32Array(_convoBuffer),_float32=new Float32Array(_convoBuffer),_float64=new Float64Array(_convoBuffer),_uint64=new BigUint64Array(_convoBuffer),_int64=new BigInt64Array(_convoBuffer);function utf8Read(bytes,it,length){for(var string2="",chr=0,i=it.offset,end=it.offset+length;i<end;i++){var byte=bytes[i];128&byte?192!=(224&byte)?224!=(240&byte)?240!=(248&byte)?console.error("Invalid byte "+byte.toString(16)):(chr=(7&byte)<<18|(63&bytes[++i])<<12|(63&bytes[++i])<<6|63&bytes[++i])>=65536?(chr-=65536,string2+=String.fromCharCode((chr>>>10)+55296,56320+(1023&chr))):string2+=String.fromCharCode(chr):string2+=String.fromCharCode((15&byte)<<12|(63&bytes[++i])<<6|63&bytes[++i]):string2+=String.fromCharCode((31&byte)<<6|63&bytes[++i]):string2+=String.fromCharCode(byte)}return it.offset+=length,string2}function int8(bytes,it){return uint8(bytes,it)<<24>>24}function uint8(bytes,it){return bytes[it.offset++]}function int16(bytes,it){return uint16(bytes,it)<<16>>16}function uint16(bytes,it){return bytes[it.offset++]|bytes[it.offset++]<<8}function int32(bytes,it){return bytes[it.offset++]|bytes[it.offset++]<<8|bytes[it.offset++]<<16|bytes[it.offset++]<<24}function uint32(bytes,it){return int32(bytes,it)>>>0}function float32(bytes,it){return _int32[0]=int32(bytes,it),_float32[0]}function float64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_float64[0]}function int64(bytes,it){const low=uint32(bytes,it);return int32(bytes,it)*Math.pow(2,32)+low}function uint64(bytes,it){const low=uint32(bytes,it);return uint32(bytes,it)*Math.pow(2,32)+low}function bigint64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_int64[0]}function biguint64(bytes,it){return _int32[0]=int32(bytes,it),_int32[1]=int32(bytes,it),_uint64[0]}function boolean(bytes,it){return uint8(bytes,it)>0}function string(bytes,it){const prefix=bytes[it.offset++];let length;return prefix<192?length=31&prefix:217===prefix?length=uint8(bytes,it):218===prefix?length=uint16(bytes,it):219===prefix&&(length=uint32(bytes,it)),utf8Read(bytes,it,length)}function number(bytes,it){const prefix=bytes[it.offset++];return prefix<128?prefix:202===prefix?float32(bytes,it):203===prefix?float64(bytes,it):204===prefix?uint8(bytes,it):205===prefix?uint16(bytes,it):206===prefix?uint32(bytes,it):207===prefix?uint64(bytes,it):208===prefix?int8(bytes,it):209===prefix?int16(bytes,it):210===prefix?int32(bytes,it):211===prefix?int64(bytes,it):prefix>223?-1*(255-prefix+1):void 0}function stringCheck(bytes,it){const prefix=bytes[it.offset];return prefix<192&&prefix>160||217===prefix||218===prefix||219===prefix}const decode2={utf8Read:utf8Read,int8:int8,uint8:uint8,int16:int16,uint16:uint16,int32:int32,uint32:uint32,float32:float32,float64:float64,int64:int64,uint64:uint64,bigint64:bigint64,biguint64:biguint64,boolean:boolean,string:string,number:number,stringCheck:stringCheck},registeredTypes={},identifiers=new Map;function registerType(identifier,definition){definition.constructor&&(identifiers.set(definition.constructor,identifier),registeredTypes[identifier]=definition),definition.encode&&(encode2[identifier]=definition.encode),definition.decode&&(decode2[identifier]=definition.decode)}function getType(identifier){return registeredTypes[identifier]}function defineCustomTypes(types){for(const identifier in types)registerType(identifier,types[identifier]);return t=>type(t)}const _TypeContext=class _TypeContext{static register(target2){const parent=Object.getPrototypeOf(target2);if(parent!==Schema){let inherits=_TypeContext.inheritedTypes.get(parent);inherits||(inherits=new Set,_TypeContext.inheritedTypes.set(parent,inherits)),inherits.add(target2)}}static cache(rootClass){let context=_TypeContext.cachedContexts.get(rootClass);return context||(context=new _TypeContext(rootClass),_TypeContext.cachedContexts.set(rootClass,context)),context}constructor(rootClass){this.types={},this.schemas=new Map,this.hasFilters=!1,this.parentFiltered={},rootClass&&this.discoverTypes(rootClass)}has(schema3){return this.schemas.has(schema3)}get(typeid){return this.types[typeid]}add(schema3,typeid=this.schemas.size){return!this.schemas.has(schema3)&&(this.types[typeid]=schema3,void 0===schema3[Symbol.metadata]&&Metadata.initialize(schema3),this.schemas.set(schema3,typeid),!0)}getTypeId(klass){return this.schemas.get(klass)}discoverTypes(klass,parentType,parentIndex,parentHasViewTag){var _a3,_b2;if(parentHasViewTag&&this.registerFilteredByParent(klass,parentType,parentIndex),!this.add(klass))return;null==(_a3=_TypeContext.inheritedTypes.get(klass))||_a3.forEach((child=>{this.discoverTypes(child,parentType,parentIndex,parentHasViewTag)}));let parent=klass;for(;(parent=Object.getPrototypeOf(parent))&&parent!==Schema&&parent!==Function.prototype;)this.discoverTypes(parent);const metadata=klass[_b2=Symbol.metadata]??(klass[_b2]={});metadata[$viewFieldIndexes]&&(this.hasFilters=!0);for(const fieldIndex in metadata){const index=fieldIndex,fieldType=metadata[index].type,fieldHasViewTag=void 0!==metadata[index].tag;if("string"!=typeof fieldType)if(Array.isArray(fieldType)){const type2=fieldType[0];if("string"===type2)continue;this.discoverTypes(type2,klass,index,parentHasViewTag||fieldHasViewTag)}else if("function"==typeof fieldType)this.discoverTypes(fieldType,klass,index,parentHasViewTag||fieldHasViewTag);else{const type2=Object.values(fieldType)[0];if("string"==typeof type2)continue;this.discoverTypes(type2,klass,index,parentHasViewTag||fieldHasViewTag)}}}registerFilteredByParent(schema3,parentType,parentIndex){let key=`${this.schemas.get(schema3)??this.schemas.size}`;parentType&&(key+=`-${this.schemas.get(parentType)}`),key+=`-${parentIndex}`,this.parentFiltered[key]=!0}debug(){let parentFiltered="";for(const key in this.parentFiltered){const keys=key.split("-").map(Number),fieldIndex=keys.pop();parentFiltered+="\n\t\t",parentFiltered+=`${key}: ${keys.reverse().map(((id,i)=>{const klass=this.types[id],metadata=klass[Symbol.metadata];let txt=klass.name;return 0===i&&(txt+=`[${metadata[fieldIndex].name}]`),`${txt}`})).join(" -> ")}`}return`TypeContext ->\n\tSchema types: ${this.schemas.size}\n\thasFilters: ${this.hasFilters}\n\tparentFiltered:${parentFiltered}`}};_TypeContext.inheritedTypes=new Map,_TypeContext.cachedContexts=new Map;let TypeContext=_TypeContext;function getNormalizedType(type2){return Array.isArray(type2)?{array:type2[0]}:void 0!==type2.type?type2.type:type2}const Metadata={addField(metadata,index,name,type2,descriptor){if(index>64)throw new Error(`Can't define field '${name}'.\nSchema instances may only have up to 64 fields.`);metadata[index]=Object.assign(metadata[index]||{},{type:getNormalizedType(type2),index:index,name:name}),Object.defineProperty(metadata,$descriptors,{value:metadata[$descriptors]||{},enumerable:!1,configurable:!0}),descriptor?(metadata[$descriptors][name]=descriptor,metadata[$descriptors][`_${name}`]={value:void 0,writable:!0,enumerable:!1,configurable:!0}):metadata[$descriptors][name]={value:void 0,writable:!0,enumerable:!0,configurable:!0},Object.defineProperty(metadata,$numFields,{value:index,enumerable:!1,configurable:!0}),Object.defineProperty(metadata,name,{value:index,enumerable:!1,configurable:!0}),"string"!=typeof metadata[index].type&&(void 0===metadata[$refTypeFieldIndexes]&&Object.defineProperty(metadata,$refTypeFieldIndexes,{value:[],enumerable:!1,configurable:!0}),metadata[$refTypeFieldIndexes].push(index))},setTag(metadata,fieldName,tag){const index=metadata[fieldName];metadata[index].tag=tag,metadata[$viewFieldIndexes]||(Object.defineProperty(metadata,$viewFieldIndexes,{value:[],enumerable:!1,configurable:!0}),Object.defineProperty(metadata,$fieldIndexesByViewTag,{value:{},enumerable:!1,configurable:!0})),metadata[$viewFieldIndexes].push(index),metadata[$fieldIndexesByViewTag][tag]||(metadata[$fieldIndexesByViewTag][tag]=[]),metadata[$fieldIndexesByViewTag][tag].push(index)},setFields(target2,fields){const constructor=target2.prototype.constructor;TypeContext.register(constructor);const parentClass=Object.getPrototypeOf(constructor),parentMetadata=parentClass&&parentClass[Symbol.metadata],metadata=Metadata.initialize(constructor);constructor[$track]||(constructor[$track]=Schema[$track]),constructor[$encoder]||(constructor[$encoder]=Schema[$encoder]),constructor[$decoder]||(constructor[$decoder]=Schema[$decoder]),constructor.prototype.toJSON||(constructor.prototype.toJSON=Schema.prototype.toJSON);let fieldIndex=metadata[$numFields]??(parentMetadata&&parentMetadata[$numFields])??-1;fieldIndex++;for(const field in fields){const type2=fields[field],complexTypeKlass=Array.isArray(type2)?getType("array"):"string"==typeof Object.keys(type2)[0]&&getType(Object.keys(type2)[0]),childType=complexTypeKlass?Object.values(type2)[0]:getNormalizedType(type2);Metadata.addField(metadata,fieldIndex,field,type2,getPropertyDescriptor(`_${field}`,fieldIndex,childType,complexTypeKlass)),fieldIndex++}return target2},isDeprecated:(metadata,field)=>!0===metadata[field].deprecated,init(klass){const metadata={};klass[Symbol.metadata]=metadata,Object.defineProperty(metadata,$numFields,{value:0,enumerable:!1,configurable:!0})},initialize(constructor){const parentClass=Object.getPrototypeOf(constructor),parentMetadata=parentClass[Symbol.metadata];let metadata=constructor[Symbol.metadata]??Object.create(null);return parentClass!==Schema&&metadata===parentMetadata&&(metadata=Object.create(null),parentMetadata&&(Object.setPrototypeOf(metadata,parentMetadata),Object.defineProperty(metadata,$numFields,{value:parentMetadata[$numFields],enumerable:!1,configurable:!0,writable:!0}),void 0!==parentMetadata[$viewFieldIndexes]&&(Object.defineProperty(metadata,$viewFieldIndexes,{value:[...parentMetadata[$viewFieldIndexes]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(metadata,$fieldIndexesByViewTag,{value:{...parentMetadata[$fieldIndexesByViewTag]},enumerable:!1,configurable:!0,writable:!0})),void 0!==parentMetadata[$refTypeFieldIndexes]&&Object.defineProperty(metadata,$refTypeFieldIndexes,{value:[...parentMetadata[$refTypeFieldIndexes]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(metadata,$descriptors,{value:{...parentMetadata[$descriptors]},enumerable:!1,configurable:!0,writable:!0}))),constructor[Symbol.metadata]=metadata,metadata},isValidInstance:klass=>klass.constructor[Symbol.metadata]&&Object.prototype.hasOwnProperty.call(klass.constructor[Symbol.metadata],$numFields),getFields(klass){const metadata=klass[Symbol.metadata],fields={};for(let i=0;i<=metadata[$numFields];i++)fields[metadata[i].name]=metadata[i].type;return fields},hasViewTagAtIndex(metadata,index){var _a3;return null==(_a3=null==metadata?void 0:metadata[$viewFieldIndexes])?void 0:_a3.includes(index)}};function createChangeSet(){return{indexes:{},operations:[]}}function setOperationAtIndex(changeSet,index){const operationsIndex=changeSet.indexes[index];void 0===operationsIndex?changeSet.indexes[index]=changeSet.operations.push(index)-1:changeSet.operations[operationsIndex]=index}function deleteOperationAtIndex(changeSet,index){var _a3;let operationsIndex=changeSet.indexes[index];void 0===operationsIndex&&(operationsIndex=Object.values(changeSet.indexes).at(-1),index=null==(_a3=Object.entries(changeSet.indexes).find((([_,value])=>value===operationsIndex)))?void 0:_a3[0]),changeSet.operations[operationsIndex]=void 0,delete changeSet.indexes[index]}function enqueueChangeTree(root,changeTree,changeSet,queueRootIndex=changeTree[changeSet].queueRootIndex){root&&root[changeSet][queueRootIndex]!==changeTree&&(changeTree[changeSet].queueRootIndex=root[changeSet].push(changeTree)-1)}class ChangeTree{constructor(ref){this.isFiltered=!1,this.indexedOperations={},this.changes={indexes:{},operations:[]},this.allChanges={indexes:{},operations:[]},this.isNew=!0,this.ref=ref;const metadata=ref.constructor[Symbol.metadata];(null==metadata?void 0:metadata[$viewFieldIndexes])&&(this.allFilteredChanges={indexes:{},operations:[]},this.filteredChanges={indexes:{},operations:[]})}setRoot(root){var _a3;this.root=root,this.checkIsFiltered(this.parent,this.parentIndex);const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];null==value||value[$changes].setRoot(root)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{value[$changes].setRoot(root)}))}setParent(parent,root,parentIndex){var _a3;if(this.parent=parent,this.parentIndex=parentIndex,!root)return;root!==this.root?(this.root=root,this.checkIsFiltered(parent,parentIndex)):root.add(this);const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];null==value||value[$changes].setParent(this.ref,root,index)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{value[$changes].setParent(this.ref,root,this.indexes[key]??key)}))}forEachChild(callback){var _a3;const metadata=this.ref.constructor[Symbol.metadata];metadata?null==(_a3=metadata[$refTypeFieldIndexes])||_a3.forEach((index=>{const field=metadata[index],value=this.ref[field.name];value&&callback(value[$changes],index)})):this.ref[$childType]&&"string"!=typeof this.ref[$childType]&&this.ref.forEach(((value,key)=>{callback(value[$changes],this.indexes[key]??key)}))}operation(op){void 0!==this.filteredChanges?(this.filteredChanges.operations.push(-op),enqueueChangeTree(this.root,this,"filteredChanges")):(this.changes.operations.push(-op),enqueueChangeTree(this.root,this,"changes"))}change(index,operation=exports2.OPERATION.ADD){var _a3;const metadata=this.ref.constructor[Symbol.metadata],isFiltered=this.isFiltered||void 0!==(null==(_a3=null==metadata?void 0:metadata[index])?void 0:_a3.tag),changeSet=isFiltered?this.filteredChanges:this.changes,previousOperation=this.indexedOperations[index];if(!previousOperation||previousOperation===exports2.OPERATION.DELETE){const op=previousOperation&&previousOperation===exports2.OPERATION.DELETE?exports2.OPERATION.DELETE_AND_ADD:operation;this.indexedOperations[index]=op}setOperationAtIndex(changeSet,index),isFiltered?(setOperationAtIndex(this.allFilteredChanges,index),this.root&&(enqueueChangeTree(this.root,this,"filteredChanges"),enqueueChangeTree(this.root,this,"allFilteredChanges"))):(setOperationAtIndex(this.allChanges,index),enqueueChangeTree(this.root,this,"changes"))}shiftChangeIndexes(shiftIndex){const changeSet=this.isFiltered?this.filteredChanges:this.changes,newIndexedOperations={},newIndexes={};for(const index in this.indexedOperations)newIndexedOperations[Number(index)+shiftIndex]=this.indexedOperations[index],newIndexes[Number(index)+shiftIndex]=changeSet.indexes[index];this.indexedOperations=newIndexedOperations,changeSet.indexes=newIndexes,changeSet.operations=changeSet.operations.map((index=>index+shiftIndex))}shiftAllChangeIndexes(shiftIndex,startIndex=0){void 0!==this.filteredChanges?(this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allFilteredChanges),this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allChanges)):this._shiftAllChangeIndexes(shiftIndex,startIndex,this.allChanges)}_shiftAllChangeIndexes(shiftIndex,startIndex=0,changeSet){const newIndexes={};let newKey=0;for(const key in changeSet.indexes)newIndexes[newKey++]=changeSet.indexes[key];changeSet.indexes=newIndexes;for(let i=0;i<changeSet.operations.length;i++){const index=changeSet.operations[i];index>startIndex&&(changeSet.operations[i]=index+shiftIndex)}}indexedOperation(index,operation,allChangesIndex=index){this.indexedOperations[index]=operation,void 0!==this.filteredChanges?(setOperationAtIndex(this.allFilteredChanges,allChangesIndex),setOperationAtIndex(this.filteredChanges,index),enqueueChangeTree(this.root,this,"filteredChanges")):(setOperationAtIndex(this.allChanges,allChangesIndex),setOperationAtIndex(this.changes,index),enqueueChangeTree(this.root,this,"changes"))}getType(index){return Metadata.isValidInstance(this.ref)?this.ref.constructor[Symbol.metadata][index].type:this.ref[$childType]}getChange(index){return this.indexedOperations[index]}getValue(index,isEncodeAll=!1){return this.ref[$getByIndex](index,isEncodeAll)}delete(index,operation,allChangesIndex=index){var _a3;if(void 0===index){try{throw new Error(`@colyseus/schema ${this.ref.constructor.name}: trying to delete non-existing index '${index}'`)}catch(e){console.warn(e)}return}const changeSet=void 0!==this.filteredChanges?this.filteredChanges:this.changes;this.indexedOperations[index]=operation??exports2.OPERATION.DELETE,setOperationAtIndex(changeSet,index),deleteOperationAtIndex(this.allChanges,allChangesIndex);const previousValue=this.getValue(index);return previousValue&&previousValue[$changes]&&(null==(_a3=this.root)||_a3.remove(previousValue[$changes])),void 0!==this.filteredChanges?(deleteOperationAtIndex(this.allFilteredChanges,allChangesIndex),enqueueChangeTree(this.root,this,"filteredChanges")):enqueueChangeTree(this.root,this,"changes"),previousValue}endEncode(changeSetName){var _a3,_b2;this.indexedOperations={},this[changeSetName].indexes={},this[changeSetName].operations.length=0,this[changeSetName].queueRootIndex=void 0,null==(_b2=(_a3=this.ref)[$onEncodeEnd])||_b2.call(_a3),this.isNew=!1}discard(discardAll=!1){var _a3,_b2;null==(_b2=(_a3=this.ref)[$onEncodeEnd])||_b2.call(_a3),this.indexedOperations={},this.changes.indexes={},this.changes.operations.length=0,this.changes.queueRootIndex=void 0,void 0!==this.filteredChanges&&(this.filteredChanges.indexes={},this.filteredChanges.operations.length=0,this.filteredChanges.queueRootIndex=void 0),discardAll&&(this.allChanges.indexes={},this.allChanges.operations.length=0,void 0!==this.allFilteredChanges&&(this.allFilteredChanges.indexes={},this.allFilteredChanges.operations.length=0),this.forEachChild(((changeTree,_)=>{var _a4;return null==(_a4=this.root)?void 0:_a4.remove(changeTree)})))}discardAll(){const keys=Object.keys(this.indexedOperations);for(let i=0,len=keys.length;i<len;i++){const value=this.getValue(Number(keys[i]));value&&value[$changes]&&value[$changes].discardAll()}this.discard()}ensureRefId(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())}get changed(){return Object.entries(this.indexedOperations).length>0}checkIsFiltered(parent,parentIndex){const isNewChangeTree=this.root.add(this);this.root.types.hasFilters&&(this._checkFilteredByParent(parent,parentIndex),void 0!==this.filteredChanges&&(enqueueChangeTree(this.root,this,"filteredChanges"),isNewChangeTree&&this.root.allFilteredChanges.push(this))),this.isFiltered||(enqueueChangeTree(this.root,this,"changes"),isNewChangeTree&&this.root.allChanges.push(this))}_checkFilteredByParent(parent,parentIndex){if(!parent)return;const refType=Metadata.isValidInstance(this.ref)?this.ref.constructor:this.ref[$childType];let parentChangeTree,parentIsCollection=!Metadata.isValidInstance(parent);parentIsCollection?(parentChangeTree=parent[$changes],parent=parentChangeTree.parent,parentIndex=parentChangeTree.parentIndex):parentChangeTree=parent[$changes];const parentConstructor=parent.constructor;let key=`${this.root.types.getTypeId(refType)}`;parentConstructor&&(key+=`-${this.root.types.schemas.get(parentConstructor)}`),key+=`-${parentIndex}`;const fieldHasViewTag=Metadata.hasViewTagAtIndex(null==parentConstructor?void 0:parentConstructor[Symbol.metadata],parentIndex);this.isFiltered=parent[$changes].isFiltered||this.root.types.parentFiltered[key]||fieldHasViewTag,this.isFiltered&&(this.isVisibilitySharedWithParent=parentChangeTree.isFiltered&&"string"!=typeof refType&&!fieldHasViewTag&&parentIsCollection,this.filteredChanges||(this.filteredChanges=createChangeSet(),this.allFilteredChanges=createChangeSet()),this.changes.operations.length>0&&(this.changes.operations.forEach((index=>setOperationAtIndex(this.filteredChanges,index))),this.allChanges.operations.forEach((index=>setOperationAtIndex(this.allFilteredChanges,index))),this.changes=createChangeSet(),this.allChanges=createChangeSet()))}}function encodeValue(encoder,bytes,type2,value,operation,it){var _a3;"string"==typeof type2?null==(_a3=encode2[type2])||_a3.call(encode2,bytes,value,it):void 0!==type2[Symbol.metadata]?(encode2.number(bytes,value[$changes].refId,it),(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&encoder.tryEncodeTypeId(bytes,type2,value.constructor,it)):encode2.number(bytes,value[$changes].refId,it)}const encodeSchemaOperation=function(encoder,bytes,changeTree,index,operation,it,_,__,metadata){if(bytes[it.offset++]=255&(index|operation),operation===exports2.OPERATION.DELETE)return;const ref=changeTree.ref,field=metadata[index];encodeValue(encoder,bytes,metadata[index].type,ref[field.name],operation,it)},encodeKeyValueOperation=function(encoder,bytes,changeTree,index,operation,it){if(bytes[it.offset++]=255&operation,operation===exports2.OPERATION.CLEAR)return;if(encode2.number(bytes,index,it),operation===exports2.OPERATION.DELETE)return;const ref=changeTree.ref;if((operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&"function"==typeof ref.set){const dynamicIndex=changeTree.ref.$indexes.get(index);encode2.string(bytes,dynamicIndex,it)}encodeValue(encoder,bytes,ref[$childType],ref[$getByIndex](index),operation,it)},encodeArray=function(encoder,bytes,changeTree,field,operation,it,isEncodeAll,hasView){const ref=changeTree.ref;let refOrIndex;hasView&&changeTree.isFiltered&&"string"!=typeof changeTree.getType(field)?(refOrIndex=ref.tmpItems[field][$changes].refId,operation===exports2.OPERATION.DELETE?operation=exports2.OPERATION.DELETE_BY_REFID:operation===exports2.OPERATION.ADD&&(operation=exports2.OPERATION.ADD_BY_REFID)):refOrIndex=field,bytes[it.offset++]=255&operation,operation!==exports2.OPERATION.CLEAR&&operation!==exports2.OPERATION.REVERSE&&(encode2.number(bytes,refOrIndex,it),operation!==exports2.OPERATION.DELETE&&operation!==exports2.OPERATION.DELETE_BY_REFID&&encodeValue(encoder,bytes,changeTree.getType(field),changeTree.getValue(field,isEncodeAll),operation,it))},DEFINITION_MISMATCH=-1;function decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges){const $root=decoder2.root,previousValue=ref[$getByIndex](index);let value;if((operation&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE){const previousRefId=$root.refIds.get(previousValue);void 0!==previousRefId&&$root.removeRef(previousRefId),operation!==exports2.OPERATION.DELETE_AND_ADD&&ref[$deleteByIndex](index),value=void 0}if(operation===exports2.OPERATION.DELETE);else if(Schema.is(type2)){const refId=decode2.number(bytes,it);if(value=$root.refs.get(refId),(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD){const childType=decoder2.getInstanceType(bytes,it,type2);value||(value=decoder2.createInstanceOfType(childType)),$root.addRef(refId,value,value!==previousValue||operation===exports2.OPERATION.DELETE_AND_ADD&&value===previousValue)}}else if("string"==typeof type2)value=decode2[type2](bytes,it);else{const typeDef=getType(Object.keys(type2)[0]),refId=decode2.number(bytes,it),valueRef=$root.refs.has(refId)?previousValue||$root.refs.get(refId):new typeDef.constructor;if(value=valueRef.clone(!0),value[$childType]=Object.values(type2)[0],previousValue){let previousRefId=$root.refIds.get(previousValue);if(void 0!==previousRefId&&refId!==previousRefId){const entries=previousValue.entries();let iter;for(;(iter=entries.next())&&!iter.done;){const[key,value2]=iter.value;"object"==typeof value2&&(previousRefId=$root.refIds.get(value2),$root.removeRef(previousRefId)),allChanges.push({ref:previousValue,refId:previousRefId,op:exports2.OPERATION.DELETE,field:key,value:void 0,previousValue:value2})}}}$root.addRef(refId,value,valueRef!==previousValue||operation===exports2.OPERATION.DELETE_AND_ADD&&valueRef===previousValue)}return{value:value,previousValue:previousValue}}const decodeSchemaOperation=function(decoder2,bytes,it,ref,allChanges){const first_byte=bytes[it.offset++],metadata=ref.constructor[Symbol.metadata],operation=first_byte>>6<<6,index=first_byte%(operation||255),field=metadata[index];if(void 0===field)return console.warn("@colyseus/schema: field not defined at",{index:index,ref:ref.constructor.name,metadata:metadata}),DEFINITION_MISMATCH;const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,field.type,bytes,it,allChanges);null!=value&&(ref[field.name]=value),previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:field.name,value:value,previousValue:previousValue})},decodeKeyValueOperation=function(decoder2,bytes,it,ref,allChanges){const operation=bytes[it.offset++];if(operation===exports2.OPERATION.CLEAR)return decoder2.removeChildRefs(ref,allChanges),void ref.clear();const index=decode2.number(bytes,it),type2=ref[$childType];let dynamicIndex;(operation&exports2.OPERATION.ADD)===exports2.OPERATION.ADD?"function"==typeof ref.set?(dynamicIndex=decode2.string(bytes,it),ref.setIndex(index,dynamicIndex)):dynamicIndex=index:dynamicIndex=ref.getIndex(index);const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges);if(null!=value)if("function"==typeof ref.set)ref.$items.set(dynamicIndex,value);else if("function"==typeof ref.$setAt)ref.$setAt(index,value,operation);else if("function"==typeof ref.add){const index2=ref.add(value);"number"==typeof index2&&ref.setIndex(index2,index2)}previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:"",dynamicIndex:dynamicIndex,value:value,previousValue:previousValue})},decodeArray=function(decoder2,bytes,it,ref,allChanges){let index,operation=bytes[it.offset++];if(operation===exports2.OPERATION.CLEAR)return decoder2.removeChildRefs(ref,allChanges),void ref.clear();if(operation===exports2.OPERATION.REVERSE)return void ref.reverse();if(operation===exports2.OPERATION.DELETE_BY_REFID){const refId=decode2.number(bytes,it),previousValue2=decoder2.root.refs.get(refId);return index=ref.findIndex((value2=>value2===previousValue2)),ref[$deleteByIndex](index),void allChanges.push({ref:ref,refId:decoder2.currentRefId,op:exports2.OPERATION.DELETE,field:"",dynamicIndex:index,value:void 0,previousValue:previousValue2})}if(operation===exports2.OPERATION.ADD_BY_REFID){const refId=decode2.number(bytes,it),itemByRefId=decoder2.root.refs.get(refId);itemByRefId&&(index=ref.findIndex((value2=>value2===itemByRefId))),-1!==index&&void 0!==index||(index=ref.length)}else index=decode2.number(bytes,it);const type2=ref[$childType];let dynamicIndex=index;const{value:value,previousValue:previousValue}=decodeValue(decoder2,operation,ref,index,type2,bytes,it,allChanges);null!=value&&value!==previousValue&&ref.$setAt(index,value,operation),previousValue!==value&&allChanges.push({ref:ref,refId:decoder2.currentRefId,op:operation,field:"",dynamicIndex:dynamicIndex,value:value,previousValue:previousValue})};class EncodeSchemaError extends Error{}function assertType(value,type2,klass,field){let typeofTarget,allowNull=!1;switch(type2){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":typeofTarget="number",isNaN(value)&&console.log(`trying to encode "NaN" in ${klass.constructor.name}#${field}`);break;case"bigint64":case"biguint64":typeofTarget="bigint";break;case"string":typeofTarget="string",allowNull=!0;break;default:return}if(typeof value!==typeofTarget&&(!allowNull||allowNull&&null!==value)){let foundValue=`'${JSON.stringify(value)}'${value&&value.constructor&&` (${value.constructor.name})`||""}`;throw new EncodeSchemaError(`a '${typeofTarget}' was expected, but ${foundValue} was provided in ${klass.constructor.name}#${field}`)}}function assertInstanceType(value,type2,instance,field){if(!(value instanceof type2))throw new EncodeSchemaError(`a '${type2.name}' was expected, but '${value&&value.constructor.name}' was provided in ${instance.constructor.name}#${field}`)}var _a$4,_b$4;const DEFAULT_SORT=(a,b)=>{const A=a.toString(),B=b.toString();return A<B?-1:A>B?1:0},_ArraySchema=class _ArraySchema{static[(_a$4=$encoder,_b$4=$decoder,$filter)](ref,index,view2){var _a3;return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible(null==(_a3=ref.tmpItems[index])?void 0:_a3[$changes])}static is(type2){return Array.isArray(type2)||void 0!==type2.array}static from(iterable){return new _ArraySchema(...Array.from(iterable))}constructor(...items){this.items=[],this.tmpItems=[],this.deletedIndexes={},this.isMovingItems=!1,Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0});const proxy=new Proxy(this,{get:(obj,prop)=>"symbol"==typeof prop||isNaN(prop)?Reflect.get(obj,prop):this.items[prop],set:(obj,key,setValue)=>{var _a3;if("symbol"==typeof key||isNaN(key))return Reflect.set(obj,key,setValue);if(null==setValue)obj.$deleteAt(key);else{if(setValue[$changes]){assertInstanceType(setValue,obj[$childType],obj,key);const previousValue=obj.items[key];obj.isMovingItems?(void 0!==previousValue?setValue[$changes].isNew?obj[$changes].indexedOperation(Number(key),exports2.OPERATION.MOVE_AND_ADD):(obj[$changes].getChange(Number(key))&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE?obj[$changes].indexedOperation(Number(key),exports2.OPERATION.DELETE_AND_MOVE):obj[$changes].indexedOperation(Number(key),exports2.OPERATION.MOVE):setValue[$changes].isNew&&obj[$changes].indexedOperation(Number(key),exports2.OPERATION.ADD),setValue[$changes].setParent(this,obj[$changes].root,key)):obj.$changeAt(Number(key),setValue),void 0!==previousValue&&(null==(_a3=previousValue[$changes].root)||_a3.remove(previousValue[$changes]))}else obj.$changeAt(Number(key),setValue);obj.items[key]=setValue,obj.tmpItems[key]=setValue}return!0},deleteProperty:(obj,prop)=>("number"==typeof prop?obj.$deleteAt(prop):delete obj[prop],!0),has:(obj,key)=>"symbol"==typeof key||isNaN(Number(key))?Reflect.has(obj,key):Reflect.has(this.items,key)});return this[$changes]=new ChangeTree(proxy),this[$changes].indexes={},items.length>0&&this.push(...items),proxy}set length(newLength){0===newLength?this.clear():newLength<this.items.length?this.splice(newLength,this.length-newLength):console.warn("ArraySchema: can't set .length to a higher value than its length.")}get length(){return this.items.length}push(...values){var _a3;let length=this.tmpItems.length;const changeTree=this[$changes];let i=0;for(values.length;i<values.length;i++,length++){const value=values[i];if(null==value)return;"object"==typeof value&&this[$childType]&&assertInstanceType(value,this[$childType],this,i),changeTree.indexedOperation(length,exports2.OPERATION.ADD,this.items.length),this.items.push(value),this.tmpItems.push(value),null==(_a3=value[$changes])||_a3.setParent(this,changeTree.root,length)}return length}pop(){let index=-1;for(let i=this.tmpItems.length-1;i>=0;i--)if(!0!==this.deletedIndexes[i]){index=i;break}if(!(index<0))return this[$changes].delete(index,void 0,this.items.length-1),this.deletedIndexes[index]=!0,this.items.pop()}at(index){return index<0&&(index+=this.length),this.items[index]}$changeAt(index,value){var _a3;if(null==value)return void console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");if(this.items[index]===value)return;const operation=void 0!==this.items[index]?"object"==typeof value?exports2.OPERATION.DELETE_AND_ADD:exports2.OPERATION.REPLACE:exports2.OPERATION.ADD,changeTree=this[$changes];changeTree.change(index,operation),null==(_a3=value[$changes])||_a3.setParent(this,changeTree.root,index)}$deleteAt(index,operation){this[$changes].delete(index,operation)}$setAt(index,value,operation){0===index&&operation===exports2.OPERATION.ADD&&void 0!==this.items[index]?this.items.unshift(value):operation===exports2.OPERATION.DELETE_AND_MOVE?(this.items.splice(index,1),this.items[index]=value):this.items[index]=value}clear(){if(0===this.items.length)return;const changeTree=this[$changes];changeTree.forEachChild(((changeTree2,_)=>{changeTree2.discard(!0);const root=changeTree2.root;void 0!==root&&(root.removeChangeFromChangeSet("changes",changeTree2),root.removeChangeFromChangeSet("allChanges",changeTree2),root.removeChangeFromChangeSet("allFilteredChanges",changeTree2))})),changeTree.discard(!0),changeTree.operation(exports2.OPERATION.CLEAR),this.items.length=0,this.tmpItems.length=0}concat(...items){return new _ArraySchema(...this.items.concat(...items))}join(separator){return this.items.join(separator)}reverse(){return this[$changes].operation(exports2.OPERATION.REVERSE),this.items.reverse(),this.tmpItems.reverse(),this}shift(){if(0===this.items.length)return;const changeTree=this[$changes],index=this.tmpItems.findIndex((item=>item===this.items[0])),allChangesIndex=this.items.findIndex((item=>item===this.items[0]));return changeTree.delete(index,exports2.OPERATION.DELETE,allChangesIndex),changeTree.shiftAllChangeIndexes(-1,allChangesIndex),this.items.shift()}slice(start,end){const sliced=new _ArraySchema;return sliced.push(...this.items.slice(start,end)),sliced}sort(compareFn=DEFAULT_SORT){this.isMovingItems=!0;const changeTree=this[$changes];return this.items.sort(compareFn).forEach(((_,i)=>changeTree.change(i,exports2.OPERATION.REPLACE))),this.tmpItems.sort(compareFn),this.isMovingItems=!1,this}splice(start,deleteCount,...insertItems){var _a3;const changeTree=this[$changes],itemsLength=this.items.length,tmpItemsLength=this.tmpItems.length,insertCount=insertItems.length,indexes=[];for(let i=0;i<tmpItemsLength;i++)!0!==this.deletedIndexes[i]&&indexes.push(i);if(itemsLength>start){void 0===deleteCount&&(deleteCount=itemsLength-start);for(let i=start;i<start+deleteCount;i++){const index=indexes[i];changeTree.delete(index,exports2.OPERATION.DELETE),this.deletedIndexes[index]=!0}}else deleteCount=0;if(insertCount>0){if(insertCount>deleteCount)throw console.error("Inserting more elements than deleting during ArraySchema#splice()"),new Error("ArraySchema#splice(): insertCount must be equal or lower than deleteCount.");for(let i=0;i<insertCount;i++){const addIndex=(indexes[start]??itemsLength)+i;changeTree.indexedOperation(addIndex,this.deletedIndexes[addIndex]?exports2.OPERATION.DELETE_AND_ADD:exports2.OPERATION.ADD),null==(_a3=insertItems[i][$changes])||_a3.setParent(this,changeTree.root,addIndex)}}return deleteCount>insertCount&&changeTree.shiftAllChangeIndexes(-(deleteCount-insertCount),indexes[start+insertCount]),void 0!==changeTree.filteredChanges?enqueueChangeTree(changeTree.root,changeTree,"filteredChanges"):enqueueChangeTree(changeTree.root,changeTree,"changes"),this.items.splice(start,deleteCount,...insertItems)}unshift(...items){const changeTree=this[$changes];return changeTree.shiftChangeIndexes(items.length),changeTree.isFiltered?setOperationAtIndex(changeTree.filteredChanges,this.items.length):setOperationAtIndex(changeTree.allChanges,this.items.length),items.forEach(((_,index)=>{changeTree.change(index,exports2.OPERATION.ADD)})),this.tmpItems.unshift(...items),this.items.unshift(...items)}indexOf(searchElement,fromIndex){return this.items.indexOf(searchElement,fromIndex)}lastIndexOf(searchElement,fromIndex=this.length-1){return this.items.lastIndexOf(searchElement,fromIndex)}every(callbackfn,thisArg){return this.items.every(callbackfn,thisArg)}some(callbackfn,thisArg){return this.items.some(callbackfn,thisArg)}forEach(callbackfn,thisArg){return this.items.forEach(callbackfn,thisArg)}map(callbackfn,thisArg){return this.items.map(callbackfn,thisArg)}filter(callbackfn,thisArg){return this.items.filter(callbackfn,thisArg)}reduce(callbackfn,initialValue){return this.items.reduce(callbackfn,initialValue)}reduceRight(callbackfn,initialValue){return this.items.reduceRight(callbackfn,initialValue)}find(predicate,thisArg){return this.items.find(predicate,thisArg)}findIndex(predicate,thisArg){return this.items.findIndex(predicate,thisArg)}fill(value,start,end){throw new Error("ArraySchema#fill() not implemented")}copyWithin(target2,start,end){throw new Error("ArraySchema#copyWithin() not implemented")}toString(){return this.items.toString()}toLocaleString(){return this.items.toLocaleString()}[Symbol.iterator](){return this.items[Symbol.iterator]()}static get[Symbol.species](){return _ArraySchema}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}includes(searchElement,fromIndex){return this.items.includes(searchElement,fromIndex)}flatMap(callback,thisArg){throw new Error("ArraySchema#flatMap() is not supported.")}flat(depth){throw new Error("ArraySchema#flat() is not supported.")}findLast(){return this.items.findLast.apply(this.items,arguments)}findLastIndex(...args){return this.items.findLastIndex.apply(this.items,arguments)}with(index,value){const copy2=this.items.slice();return index<0&&(index+=this.length),copy2[index]=value,new _ArraySchema(...copy2)}toReversed(){return this.items.slice().reverse()}toSorted(compareFn){return this.items.slice().sort(compareFn)}toSpliced(start,deleteCount,...items){return this.items.toSpliced.apply(copy,arguments)}shuffle(){return this.move((_=>{let currentIndex=this.items.length;for(;0!=currentIndex;){let randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--,[this[currentIndex],this[randomIndex]]=[this[randomIndex],this[currentIndex]]}}))}move(cb){return this.isMovingItems=!0,cb(this),this.isMovingItems=!1,this}[$getByIndex](index,isEncodeAll=!1){return isEncodeAll||this.deletedIndexes[index]?this.items[index]:this.tmpItems[index]||this.items[index]}[$deleteByIndex](index){this.items[index]=void 0,this.tmpItems[index]=void 0}[$onEncodeEnd](){this.tmpItems=this.items.slice(),this.deletedIndexes={}}[$onDecodeEnd](){this.items=this.items.filter((item=>void 0!==item)),this.tmpItems=this.items.slice()}toArray(){return this.items.slice(0)}toJSON(){return this.toArray().map((value=>"function"==typeof value.toJSON?value.toJSON():value))}clone(isDecoding){let cloned;return isDecoding?(cloned=new _ArraySchema,cloned.push(...this.items)):cloned=new _ArraySchema(...this.map((item=>item[$changes]?item.clone():item))),cloned}};_ArraySchema[_a$4]=encodeArray,_ArraySchema[_b$4]=decodeArray;let ArraySchema=_ArraySchema;var _a$3,_b$3;registerType("array",{constructor:ArraySchema});const _MapSchema=class _MapSchema{static[(_a$3=$encoder,_b$3=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.map}constructor(initialValues){if(this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues)if(initialValues instanceof Map||initialValues instanceof _MapSchema)initialValues.forEach(((v,k)=>this.set(k,v)));else for(const k in initialValues)this.set(k,initialValues[k]);Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}[Symbol.iterator](){return this.$items[Symbol.iterator]()}get[Symbol.toStringTag](){return this.$items[Symbol.toStringTag]}static get[Symbol.species](){return _MapSchema}set(key,value){var _a3;if(null==value)throw new Error(`MapSchema#set('${key}', ${value}): trying to set ${value} value on '${key}'.`);"object"==typeof value&&this[$childType]&&assertInstanceType(value,this[$childType],this,key),key=key.toString();const changeTree=this[$changes],isRef=void 0!==value[$changes];let index,operation;if(void 0!==changeTree.indexes[key]){index=changeTree.indexes[key],operation=exports2.OPERATION.REPLACE;const previousValue=this.$items.get(key);if(previousValue===value)return;isRef&&(operation=exports2.OPERATION.DELETE_AND_ADD,void 0!==previousValue&&(null==(_a3=previousValue[$changes].root)||_a3.remove(previousValue[$changes])))}else index=changeTree.indexes[$numFields]??0,operation=exports2.OPERATION.ADD,this.$indexes.set(index,key),changeTree.indexes[key]=index,changeTree.indexes[$numFields]=index+1;return this.$items.set(key,value),changeTree.change(index,operation),isRef&&value[$changes].setParent(this,changeTree.root,index),this}get(key){return this.$items.get(key)}delete(key){const index=this[$changes].indexes[key];return this.deletedItems[index]=this[$changes].delete(index),this.$items.delete(key)}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(key){return this.$items.has(key)}forEach(callbackfn){this.$items.forEach(callbackfn)}entries(){return this.$items.entries()}keys(){return this.$items.keys()}values(){return this.$items.values()}get size(){return this.$items.size}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toJSON(){const map={};return this.forEach(((value,key)=>{map[key]="function"==typeof value.toJSON?value.toJSON():value})),map}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _MapSchema,this):(cloned=new _MapSchema,this.forEach(((value,key)=>{value[$changes]?cloned.set(key,value.clone()):cloned.set(key,value)}))),cloned}};_MapSchema[_a$3]=encodeKeyValueOperation,_MapSchema[_b$3]=decodeKeyValueOperation;let MapSchema=_MapSchema;registerType("map",{constructor:MapSchema});const DEFAULT_VIEW_TAG=-1;function entity(constructor){return TypeContext.register(constructor),constructor}function view(tag=DEFAULT_VIEW_TAG){return function(target2,fieldName){var _a3;const constructor=target2.constructor,parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=constructor[_a3=Symbol.metadata]??(constructor[_a3]=Object.assign({},constructor[Symbol.metadata],parentMetadata??Object.create(null)));Metadata.setTag(metadata,fieldName,tag)}}function type(type2,options){return function(target2,field){const constructor=target2.constructor;if(!type2)throw new Error(`${constructor.name}: @type() reference provided for "${field}" is undefined. Make sure you don't have any circular dependencies.`);TypeContext.register(constructor);const parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=Metadata.initialize(constructor);let fieldIndex=metadata[field];if(void 0!==metadata[fieldIndex]){if(metadata[fieldIndex].deprecated)return;if(void 0!==metadata[fieldIndex].type)try{throw new Error(`@colyseus/schema: Duplicate '${field}' definition on '${constructor.name}'.\nCheck @type() annotation`)}catch(e){const definitionAtLine=e.stack.split("\n")[4].trim();throw new Error(`${e.message} ${definitionAtLine}`)}}else fieldIndex=metadata[$numFields]??(parentMetadata&&parentMetadata[$numFields])??-1,fieldIndex++;if(options&&options.manual)Metadata.addField(metadata,fieldIndex,field,type2,{enumerable:!0,configurable:!0,writable:!0});else{const complexTypeKlass=Array.isArray(type2)?getType("array"):"string"==typeof Object.keys(type2)[0]&&getType(Object.keys(type2)[0]),childType=complexTypeKlass?Object.values(type2)[0]:type2;Metadata.addField(metadata,fieldIndex,field,type2,getPropertyDescriptor(`_${field}`,fieldIndex,childType,complexTypeKlass))}}}function getPropertyDescriptor(fieldCached,fieldIndex,type2,complexTypeKlass){return{get:function(){return this[fieldCached]},set:function(value){var _a3,_b2;const previousValue=this[fieldCached]??void 0;if(value!==previousValue){if(null!=value){complexTypeKlass?(complexTypeKlass.constructor!==ArraySchema||value instanceof ArraySchema||(value=new ArraySchema(...value)),complexTypeKlass.constructor!==MapSchema||value instanceof MapSchema||(value=new MapSchema(value)),value[$childType]=type2):"string"!=typeof type2?assertInstanceType(value,type2,this,fieldCached.substring(1)):assertType(value,type2,this,fieldCached.substring(1));const changeTree=this[$changes];void 0!==previousValue&&previousValue[$changes]?(null==(_a3=changeTree.root)||_a3.remove(previousValue[$changes]),this.constructor[$track](changeTree,fieldIndex,exports2.OPERATION.DELETE_AND_ADD)):this.constructor[$track](changeTree,fieldIndex,exports2.OPERATION.ADD),null==(_b2=value[$changes])||_b2.setParent(this,changeTree.root,fieldIndex)}else void 0!==previousValue&&this[$changes].delete(fieldIndex);this[fieldCached]=value}},enumerable:!0,configurable:!0}}function deprecated(throws=!0){return function(klass,field){var _a3;const constructor=klass.constructor,parentMetadata=Object.getPrototypeOf(constructor)[Symbol.metadata],metadata=constructor[_a3=Symbol.metadata]??(constructor[_a3]=Object.assign({},constructor[Symbol.metadata],parentMetadata??Object.create(null))),fieldIndex=metadata[field];metadata[fieldIndex].deprecated=!0,throws&&(metadata[$descriptors]??(metadata[$descriptors]={}),metadata[$descriptors][field]={get:function(){throw new Error(`${field} is deprecated.`)},set:function(value){},enumerable:!1,configurable:!0}),Object.defineProperty(metadata,fieldIndex,{value:metadata[fieldIndex],enumerable:!1,configurable:!0})}}function defineTypes(target2,fields,options){for(let field in fields)type(fields[field],options)(target2.prototype,field);return target2}function schema2(fields,name,inherits=Schema){const defaultValues={},viewTagFields={};for(let fieldName in fields){const field=fields[fieldName];"object"==typeof field&&(void 0!==field.default&&(defaultValues[fieldName]=field.default),void 0!==field.view&&(viewTagFields[fieldName]="boolean"==typeof field.view?DEFAULT_VIEW_TAG:field.view))}const klass=Metadata.setFields(class extends inherits{constructor(...args){args[0]=Object.assign({},defaultValues,args[0]),super(...args)}},fields);for(let fieldName in viewTagFields)view(viewTagFields[fieldName])(klass.prototype,fieldName);return name&&Object.defineProperty(klass,"name",{value:name}),klass.extends=(fields2,name2)=>schema2(fields2,name2,klass),klass}function getIndent(level){return new Array(level).fill(0).map(((_,i)=>i===level-1?"└─ ":"   ")).join("")}function dumpChanges(schema3){const $root=schema3[$changes].root,dump={ops:{},refs:[]};return $root.changes.forEach((changeTree=>{if(void 0===changeTree)return;const changes=changeTree.indexedOperations;dump.refs.push(`refId#${changeTree.refId}`);for(const index in changes){const op=changes[index],opName=exports2.OPERATION[op];dump.ops[opName]||(dump.ops[opName]=0),dump.ops[exports2.OPERATION[op]]++}})),dump}var _a$2,_b$2;const _Schema=class _Schema{static initialize(instance){var _a3;Object.defineProperty(instance,$changes,{value:new ChangeTree(instance),enumerable:!1,writable:!0}),Object.defineProperties(instance,(null==(_a3=instance.constructor[Symbol.metadata])?void 0:_a3[$descriptors])||{})}static is(type2){return"object"==typeof type2[Symbol.metadata]}static[(_a$2=$encoder,_b$2=$decoder,$track)](changeTree,index,operation=exports2.OPERATION.ADD){changeTree.change(index,operation)}static[$filter](ref,index,view2){var _a3,_b2;const tag=null==(_a3=ref.constructor[Symbol.metadata][index])?void 0:_a3.tag;if(void 0===view2)return void 0===tag;if(void 0===tag)return!0;if(tag===DEFAULT_VIEW_TAG)return view2.isChangeTreeVisible(ref[$changes]);{const tags=null==(_b2=view2.tags)?void 0:_b2.get(ref[$changes]);return tags&&tags.has(tag)}}constructor(...args){_Schema.initialize(this),args[0]&&Object.assign(this,args[0])}assign(props){return Object.assign(this,props),this}setDirty(property,operation){const metadata=this.constructor[Symbol.metadata];this[$changes].change(metadata[metadata[property]].index,operation)}clone(){var _a3;const cloned=new this.constructor,metadata=this.constructor[Symbol.metadata];for(const fieldIndex in metadata){const field=metadata[fieldIndex].name;"object"==typeof this[field]&&"function"==typeof(null==(_a3=this[field])?void 0:_a3.clone)?cloned[field]=this[field].clone():cloned[field]=this[field]}return cloned}toJSON(){const obj={},metadata=this.constructor[Symbol.metadata];for(const index in metadata){const field=metadata[index],fieldName=field.name;field.deprecated||null===this[fieldName]||void 0===this[fieldName]||(obj[fieldName]="function"==typeof this[fieldName].toJSON?this[fieldName].toJSON():this[fieldName])}return obj}discardAllChanges(){this[$changes].discardAll()}[$getByIndex](index){return this[this.constructor[Symbol.metadata][index].name]}[$deleteByIndex](index){this[this.constructor[Symbol.metadata][index].name]=void 0}static debugRefIds(ref,showContents=!1,level=0){const contents=showContents?` - ${JSON.stringify(ref.toJSON())}`:"",changeTree=ref[$changes],refId=changeTree.refId;let output="";return output+=`${getIndent(level)}${ref.constructor.name} (refId: ${refId})${contents}\n`,changeTree.forEachChild((childChangeTree=>output+=this.debugRefIds(childChangeTree.ref,showContents,level+1))),output}static debugChanges(instance,isEncodeAll=!1){const changeTree=instance[$changes],changeSet=isEncodeAll?changeTree.allChanges:changeTree.changes,changeSetName=isEncodeAll?"allChanges":"changes";let output=`${instance.constructor.name} (${changeTree.refId}) -> .${changeSetName}:\n`;function dumpChangeSet(changeSet2){changeSet2.operations.filter((op=>op)).forEach((index=>{const operation=changeTree.indexedOperations[index];console.log({index:index,operation:operation}),output+=`- [${index}]: ${exports2.OPERATION[operation]} (${JSON.stringify(changeTree.getValue(Number(index),isEncodeAll))})\n`}))}return dumpChangeSet(changeSet),!isEncodeAll&&changeTree.filteredChanges&&changeTree.filteredChanges.operations.filter((op=>op)).length>0&&(output+=`${instance.constructor.name} (${changeTree.refId}) -> .filteredChanges:\n`,dumpChangeSet(changeTree.filteredChanges)),isEncodeAll&&changeTree.allFilteredChanges&&changeTree.allFilteredChanges.operations.filter((op=>op)).length>0&&(output+=`${instance.constructor.name} (${changeTree.refId}) -> .allFilteredChanges:\n`,dumpChangeSet(changeTree.allFilteredChanges)),output}static debugChangesDeep(ref,changeSetName="changes"){var _a3,_b2;let output="";const rootChangeTree=ref[$changes],root=rootChangeTree.root,changeTrees=new Map,instanceRefIds=[];let totalOperations=0;for(const[refId,changes]of Object.entries(root[changeSetName])){const changeTree=root.changeTrees[refId];let includeChangeTree=!1,parentChangeTrees=[],parentChangeTree=null==(_a3=changeTree.parent)?void 0:_a3[$changes];if(changeTree===rootChangeTree)includeChangeTree=!0;else for(;void 0!==parentChangeTree;){if(parentChangeTrees.push(parentChangeTree),parentChangeTree.ref===ref){includeChangeTree=!0;break}parentChangeTree=null==(_b2=parentChangeTree.parent)?void 0:_b2[$changes]}includeChangeTree&&(instanceRefIds.push(changeTree.refId),totalOperations+=Object.keys(changes).length,changeTrees.set(changeTree,parentChangeTrees.reverse()))}output+="---\n",output+=`root refId: ${rootChangeTree.refId}\n`,output+=`Total instances: ${instanceRefIds.length} (refIds: ${instanceRefIds.join(", ")})\n`,output+=`Total changes: ${totalOperations}\n`,output+="---\n";const visitedParents=new WeakSet;for(const[changeTree,parentChangeTrees]of changeTrees.entries()){parentChangeTrees.forEach(((parentChangeTree,level2)=>{visitedParents.has(parentChangeTree)||(output+=`${getIndent(level2)}${parentChangeTree.ref.constructor.name} (refId: ${parentChangeTree.refId})\n`,visitedParents.add(parentChangeTree))}));const changes=changeTree.indexedOperations,level=parentChangeTrees.length,indent=getIndent(level),parentIndex=level>0?`(${changeTree.parentIndex}) `:"";output+=`${indent}${parentIndex}${changeTree.ref.constructor.name} (refId: ${changeTree.refId}) - changes: ${Object.keys(changes).length}\n`;for(const index in changes){const operation=changes[index];output+=`${getIndent(level+1)}${exports2.OPERATION[operation]}: ${index}\n`}}return`${output}`}};_Schema[_a$2]=encodeSchemaOperation,_Schema[_b$2]=decodeSchemaOperation;let Schema=_Schema;var _a$1,_b$1;const _CollectionSchema=class _CollectionSchema{static[(_a$1=$encoder,_b$1=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.isChangeTreeVisible((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.collection}constructor(initialValues){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues&&initialValues.forEach((v=>this.add(v))),Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(value){const index=this.$refId++;return void 0!==value[$changes]&&value[$changes].setParent(this,this[$changes].root,index),this[$changes].indexes[index]=index,this.$indexes.set(index,index),this.$items.set(index,value),this[$changes].change(index),index}at(index){const key=Array.from(this.$items.keys())[index];return this.$items.get(key)}entries(){return this.$items.entries()}delete(item){const entries=this.$items.entries();let index,entry;for(;(entry=entries.next())&&!entry.done;)if(item===entry.value[1]){index=entry.value[0];break}return void 0!==index&&(this.deletedItems[index]=this[$changes].delete(index),this.$indexes.delete(index),this.$items.delete(index))}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(value){return Array.from(this.$items.values()).some((v=>v===value))}forEach(callbackfn){this.$items.forEach(((value,key,_)=>callbackfn(value,key,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const values=[];return this.forEach(((value,key)=>{values.push("function"==typeof value.toJSON?value.toJSON():value)})),values}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _CollectionSchema,this):(cloned=new _CollectionSchema,this.forEach((value=>{value[$changes]?cloned.add(value.clone()):cloned.add(value)}))),cloned}};_CollectionSchema[_a$1]=encodeKeyValueOperation,_CollectionSchema[_b$1]=decodeKeyValueOperation;let CollectionSchema=_CollectionSchema;var _a2,_b;registerType("collection",{constructor:CollectionSchema});const _SetSchema=class _SetSchema{static[(_a2=$encoder,_b=$decoder,$filter)](ref,index,view2){return!view2||"string"==typeof ref[$childType]||view2.visible.has((ref[$getByIndex](index)??ref.deletedItems[index])[$changes])}static is(type2){return void 0!==type2.set}constructor(initialValues){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[$changes]=new ChangeTree(this),this[$changes].indexes={},initialValues&&initialValues.forEach((v=>this.add(v))),Object.defineProperty(this,$childType,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(value){var _a3;if(this.has(value))return!1;const index=this.$refId++;void 0!==value[$changes]&&value[$changes].setParent(this,this[$changes].root,index);const operation=(null==(_a3=this[$changes].indexes[index])?void 0:_a3.op)??exports2.OPERATION.ADD;return this[$changes].indexes[index]=index,this.$indexes.set(index,index),this.$items.set(index,value),this[$changes].change(index,operation),index}entries(){return this.$items.entries()}delete(item){const entries=this.$items.entries();let index,entry;for(;(entry=entries.next())&&!entry.done;)if(item===entry.value[1]){index=entry.value[0];break}return void 0!==index&&(this.deletedItems[index]=this[$changes].delete(index),this.$indexes.delete(index),this.$items.delete(index))}clear(){const changeTree=this[$changes];changeTree.discard(!0),changeTree.indexes={},this.$indexes.clear(),this.$items.clear(),changeTree.operation(exports2.OPERATION.CLEAR)}has(value){const values=this.$items.values();let entry,has=!1;for(;(entry=values.next())&&!entry.done;)if(value===entry.value){has=!0;break}return has}forEach(callbackfn){this.$items.forEach(((value,key,_)=>callbackfn(value,key,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(index,key){this.$indexes.set(index,key)}getIndex(index){return this.$indexes.get(index)}[$getByIndex](index){return this.$items.get(this.$indexes.get(index))}[$deleteByIndex](index){const key=this.$indexes.get(index);this.$items.delete(key),this.$indexes.delete(index)}[$onEncodeEnd](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const values=[];return this.forEach(((value,key)=>{values.push("function"==typeof value.toJSON?value.toJSON():value)})),values}clone(isDecoding){let cloned;return isDecoding?cloned=Object.assign(new _SetSchema,this):(cloned=new _SetSchema,this.forEach((value=>{value[$changes]?cloned.add(value.clone()):cloned.add(value)}))),cloned}};_SetSchema[_a2]=encodeKeyValueOperation,_SetSchema[_b]=decodeKeyValueOperation;let SetSchema=_SetSchema;function __decorate2(decorators,target2,key,desc){var d,c=arguments.length,r=c<3?target2:desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target2,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target2,key,r):d(target2,key))||r);return c>3&&r&&Object.defineProperty(target2,key,r),r}registerType("set",{constructor:SetSchema}),"function"==typeof SuppressedError&&SuppressedError;class Root{constructor(types){this.types=types,this.nextUniqueId=0,this.refCount={},this.changeTrees={},this.allChanges=[],this.allFilteredChanges=[],this.changes=[],this.filteredChanges=[]}getNextUniqueId(){return this.nextUniqueId++}add(changeTree){changeTree.ensureRefId();const isNewChangeTree=void 0===this.changeTrees[changeTree.refId];isNewChangeTree&&(this.changeTrees[changeTree.refId]=changeTree);const previousRefCount=this.refCount[changeTree.refId];if(0===previousRefCount){const ops=changeTree.allChanges.operations;let len=ops.length;for(;len--;)changeTree.indexedOperations[ops[len]]=exports2.OPERATION.ADD,setOperationAtIndex(changeTree.changes,len)}return this.refCount[changeTree.refId]=(previousRefCount||0)+1,isNewChangeTree}remove(changeTree){const refCount=this.refCount[changeTree.refId]-1;return refCount<=0?(changeTree.root=void 0,delete this.changeTrees[changeTree.refId],this.removeChangeFromChangeSet("allChanges",changeTree),this.removeChangeFromChangeSet("changes",changeTree),changeTree.filteredChanges&&(this.removeChangeFromChangeSet("allFilteredChanges",changeTree),this.removeChangeFromChangeSet("filteredChanges",changeTree)),this.refCount[changeTree.refId]=0):(this.refCount[changeTree.refId]=refCount,void 0!==changeTree.filteredChanges?(this.removeChangeFromChangeSet("filteredChanges",changeTree),enqueueChangeTree(this,changeTree,"filteredChanges")):(this.removeChangeFromChangeSet("changes",changeTree),enqueueChangeTree(this,changeTree,"changes"))),changeTree.forEachChild(((child,_)=>this.remove(child))),refCount}removeChangeFromChangeSet(changeSetName,changeTree){const changeSet=this[changeSetName],changeSetIndex=changeSet.indexOf(changeTree);if(-1!==changeSetIndex)return changeTree[changeSetName].queueRootIndex=-1,changeSet[changeSetIndex]=void 0,!0}clear(){this.changes.length=0}}const _Encoder=class _Encoder{constructor(state){this.sharedBuffer=Buffer.allocUnsafe(_Encoder.BUFFER_SIZE),this.context=TypeContext.cache(state.constructor),this.root=new Root(this.context),this.setState(state)}setState(state){this.state=state,this.state[$changes].setRoot(this.root)}encode(it={offset:0},view2,buffer=this.sharedBuffer,changeSetName="changes",isEncodeAll="allChanges"===changeSetName,initialOffset=it.offset){const hasView=void 0!==view2,rootChangeTree=this.state[$changes],changeTrees=this.root[changeSetName];for(let i=0,numChangeTrees=changeTrees.length;i<numChangeTrees;i++){const changeTree=changeTrees[i];if(!changeTree)continue;if(hasView){if(!view2.isChangeTreeVisible(changeTree)){view2.invisible.add(changeTree);continue}view2.invisible.delete(changeTree)}const changeSet=changeTree[changeSetName],ref=changeTree.ref,numChanges=changeSet.operations.length;if(0===numChanges)continue;const ctor=ref.constructor,encoder=ctor[$encoder],filter=ctor[$filter],metadata=ctor[Symbol.metadata];(hasView||it.offset>initialOffset||changeTree!==rootChangeTree)&&(buffer[it.offset++]=255&SWITCH_TO_STRUCTURE,encode2.number(buffer,changeTree.refId,it));for(let j=0;j<numChanges;j++){const fieldIndex=changeSet.operations[j],operation=fieldIndex<0?Math.abs(fieldIndex):isEncodeAll?exports2.OPERATION.ADD:changeTree.indexedOperations[fieldIndex];void 0===fieldIndex||void 0===operation||filter&&!filter(ref,fieldIndex,view2)||encoder(this,buffer,changeTree,fieldIndex,operation,it,isEncodeAll,hasView,metadata)}}if(it.offset>buffer.byteLength){const newSize=Math.ceil(it.offset/(Buffer.poolSize??8192))*(Buffer.poolSize??8192);return console.warn(`@colyseus/schema buffer overflow. Encoded state is higher than default BUFFER_SIZE. Use the following to increase default BUFFER_SIZE:\n\n    import { Encoder } from "@colyseus/schema";\n    Encoder.BUFFER_SIZE = ${Math.round(newSize/1024)} * 1024; // ${Math.round(newSize/1024)} KB\n`),(buffer=Buffer.alloc(newSize,buffer))===this.sharedBuffer&&(this.sharedBuffer=buffer),this.encode({offset:initialOffset},view2,buffer,changeSetName,isEncodeAll)}return buffer.subarray(0,it.offset)}encodeAll(it={offset:0},buffer=this.sharedBuffer){return this.encode(it,void 0,buffer,"allChanges",!0)}encodeAllView(view2,sharedOffset,it,bytes=this.sharedBuffer){const viewOffset=it.offset;return this.encode(it,view2,bytes,"allFilteredChanges",!0,viewOffset),Buffer.concat([bytes.subarray(0,sharedOffset),bytes.subarray(viewOffset,it.offset)])}debugChanges(field){("string"==typeof field?this.root[field]:field).forEach((changeTree=>{const changeSet=changeTree[field],metadata=changeTree.ref.constructor[Symbol.metadata];console.log("->",{ref:changeTree.ref.constructor.name,refId:changeTree.refId,changes:Object.keys(changeSet).length});for(const index in changeSet){const op=changeSet[index];console.log("  ->",{index:index,field:null==metadata?void 0:metadata[index],op:exports2.OPERATION[op]})}}))}encodeView(view2,sharedOffset,it,bytes=this.sharedBuffer){const viewOffset=it.offset;for(const[refId,changes]of view2.changes){const changeTree=this.root.changeTrees[refId];if(void 0===changeTree){view2.changes.delete(refId);continue}const keys=Object.keys(changes);if(0===keys.length)continue;const ctor=changeTree.ref.constructor,encoder=ctor[$encoder],metadata=ctor[Symbol.metadata];bytes[it.offset++]=255&SWITCH_TO_STRUCTURE,encode2.number(bytes,changeTree.refId,it);for(let i=0,numChanges=keys.length;i<numChanges;i++){const index=Number(keys[i]),value=changeTree.ref[$getByIndex](index);encoder(this,bytes,changeTree,index,void 0!==value&&changes[index]||exports2.OPERATION.DELETE,it,!1,!0,metadata)}}return view2.changes.clear(),this.encode(it,view2,bytes,"filteredChanges",!1,viewOffset),Buffer.concat([bytes.subarray(0,sharedOffset),bytes.subarray(viewOffset,it.offset)])}discardChanges(){var _a3,_b2;let length=this.root.changes.length;if(length>0){for(;length--;)null==(_a3=this.root.changes[length])||_a3.endEncode("changes");this.root.changes.length=0}if(length=this.root.filteredChanges.length,length>0){for(;length--;)null==(_b2=this.root.filteredChanges[length])||_b2.endEncode("filteredChanges");this.root.filteredChanges.length=0}}tryEncodeTypeId(bytes,baseType,targetType,it){const baseTypeId=this.context.getTypeId(baseType),targetTypeId=this.context.getTypeId(targetType);void 0!==targetTypeId?baseTypeId!==targetTypeId&&(bytes[it.offset++]=255&TYPE_ID,encode2.number(bytes,targetTypeId,it)):console.warn(`@colyseus/schema WARNING: Class "${targetType.name}" is not registered on TypeRegistry - Please either tag the class with @entity or define a @type() field.`)}get hasChanges(){return this.root.changes.length>0||this.root.filteredChanges.length>0}};_Encoder.BUFFER_SIZE="undefined"!=typeof Buffer&&Buffer.poolSize||8192;let Encoder2=_Encoder;function spliceOne(arr,index){if(-1===index||index>=arr.length)return!1;const len=arr.length-1;for(let i=index;i<len;i++)arr[i]=arr[i+1];return arr.length=len,!0}class DecodingWarning extends Error{constructor(message){super(message),this.name="DecodingWarning"}}class ReferenceTracker{constructor(){this.refs=new Map,this.refIds=new WeakMap,this.refCounts={},this.deletedRefs=new Set,this.callbacks={},this.nextUniqueId=0}getNextUniqueId(){return this.nextUniqueId++}addRef(refId,ref,incrementCount=!0){this.refs.set(refId,ref),this.refIds.set(ref,refId),incrementCount&&(this.refCounts[refId]=(this.refCounts[refId]||0)+1),this.deletedRefs.has(refId)&&this.deletedRefs.delete(refId)}removeRef(refId){const refCount=this.refCounts[refId];if(void 0!==refCount)if(0!==refCount)(this.refCounts[refId]=refCount-1)<=0&&this.deletedRefs.add(refId);else try{const ref=this.refs.get(refId);throw new DecodingWarning(`trying to remove refId '${refId}' with 0 refCount (${ref.constructor.name}: ${JSON.stringify(ref)})`)}catch(e){console.warn(e)}else try{throw new DecodingWarning("trying to remove refId that doesn't exist: "+refId)}catch(e){console.warn(e)}}clearRefs(){this.refs.clear(),this.deletedRefs.clear(),this.callbacks={},this.refCounts={}}garbageCollectDeletedRefs(){this.deletedRefs.forEach((refId=>{if(this.refCounts[refId]>0)return;const ref=this.refs.get(refId);if(void 0!==ref.constructor[Symbol.metadata]){const metadata=ref.constructor[Symbol.metadata];for(const index in metadata){const field=metadata[index].name,childRefId="object"==typeof ref[field]&&this.refIds.get(ref[field]);childRefId&&!this.deletedRefs.has(childRefId)&&this.removeRef(childRefId)}}else"function"==typeof ref[$childType]&&Array.from(ref.values()).forEach((child=>{const childRefId=this.refIds.get(child);this.deletedRefs.has(childRefId)||this.removeRef(childRefId)}));this.refs.delete(refId),delete this.refCounts[refId],delete this.callbacks[refId]})),this.deletedRefs.clear()}addCallback(refId,fieldOrOperation,callback){if(void 0===refId){const name="number"==typeof fieldOrOperation?exports2.OPERATION[fieldOrOperation]:fieldOrOperation;throw new Error(`Can't addCallback on '${name}' (refId is undefined)`)}return this.callbacks[refId]||(this.callbacks[refId]={}),this.callbacks[refId][fieldOrOperation]||(this.callbacks[refId][fieldOrOperation]=[]),this.callbacks[refId][fieldOrOperation].push(callback),()=>this.removeCallback(refId,fieldOrOperation,callback)}removeCallback(refId,field,callback){var _a3,_b2,_c;const index=null==(_c=null==(_b2=null==(_a3=this.callbacks)?void 0:_a3[refId])?void 0:_b2[field])?void 0:_c.indexOf(callback);-1!==index&&spliceOne(this.callbacks[refId][field],index)}}class Decoder2{constructor(root,context){this.currentRefId=0,this.setState(root),this.context=context||new TypeContext(root.constructor)}setState(root){this.state=root,this.root=new ReferenceTracker,this.root.addRef(0,root)}decode(bytes,it={offset:0},ref=this.state){var _a3,_b2,_c;const allChanges=[],$root=this.root,totalBytes=bytes.byteLength;let decoder2=ref.constructor[$decoder];for(this.currentRefId=0;it.offset<totalBytes;)if(bytes[it.offset]!=SWITCH_TO_STRUCTURE)if(decoder2(this,bytes,it,ref,allChanges)!==DEFINITION_MISMATCH);else{console.warn("@colyseus/schema: definition mismatch");const nextIterator={offset:it.offset};for(;it.offset<totalBytes&&(bytes[it.offset]!==SWITCH_TO_STRUCTURE||(nextIterator.offset=it.offset+1,!$root.refs.has(decode2.number(bytes,nextIterator))));)it.offset++}else{it.offset++,this.currentRefId=decode2.number(bytes,it);const nextRef=$root.refs.get(this.currentRefId);if(!nextRef)throw new Error(`"refId" not found: ${this.currentRefId}`);null==(_a3=ref[$onDecodeEnd])||_a3.call(ref),decoder2=(ref=nextRef).constructor[$decoder]}return null==(_b2=ref[$onDecodeEnd])||_b2.call(ref),null==(_c=this.triggerChanges)||_c.call(this,allChanges),$root.garbageCollectDeletedRefs(),allChanges}getInstanceType(bytes,it,defaultType){let type2;if(bytes[it.offset]===TYPE_ID){it.offset++;const type_id=decode2.number(bytes,it);type2=this.context.get(type_id)}return type2||defaultType}createInstanceOfType(type2){return new type2}removeChildRefs(ref,allChanges){const needRemoveRef="string"!=typeof ref[$childType],refId=this.root.refIds.get(ref);ref.forEach(((value,key)=>{allChanges.push({ref:ref,refId:refId,op:exports2.OPERATION.DELETE,field:key,value:void 0,previousValue:value}),needRemoveRef&&this.root.removeRef(this.root.refIds.get(value))}))}}class ReflectionField extends Schema{}__decorate2([type("string")],ReflectionField.prototype,"name",void 0),__decorate2([type("string")],ReflectionField.prototype,"type",void 0),__decorate2([type("number")],ReflectionField.prototype,"referencedType",void 0);class ReflectionType extends Schema{constructor(){super(...arguments),this.fields=new ArraySchema}}__decorate2([type("number")],ReflectionType.prototype,"id",void 0),__decorate2([type("number")],ReflectionType.prototype,"extendsId",void 0),__decorate2([type([ReflectionField])],ReflectionType.prototype,"fields",void 0);class Reflection extends Schema{constructor(){super(...arguments),this.types=new ArraySchema}static encode(encoder,it={offset:0}){const context=encoder.context,reflection=new Reflection,reflectionEncoder=new Encoder2(reflection),rootType=context.schemas.get(encoder.state.constructor);rootType>0&&(reflection.rootType=rootType);const includedTypeIds=new Set,pendingReflectionTypes={},addType=type2=>{if(void 0===type2.extendsId||includedTypeIds.has(type2.extendsId)){includedTypeIds.add(type2.id),reflection.types.push(type2);const deps=pendingReflectionTypes[type2.id];void 0!==deps&&(delete pendingReflectionTypes[type2.id],deps.forEach((childType=>addType(childType))))}else void 0===pendingReflectionTypes[type2.extendsId]&&(pendingReflectionTypes[type2.extendsId]=[]),pendingReflectionTypes[type2.extendsId].push(type2)};context.schemas.forEach(((typeid,klass)=>{const type2=new ReflectionType;type2.id=Number(typeid);const inheritFrom=Object.getPrototypeOf(klass);inheritFrom!==Schema&&(type2.extendsId=context.schemas.get(inheritFrom));const metadata=klass[Symbol.metadata];if(metadata!==inheritFrom[Symbol.metadata])for(const fieldIndex in metadata){const index=Number(fieldIndex),fieldName=metadata[index].name;if(!Object.prototype.hasOwnProperty.call(metadata,fieldName))continue;const reflectionField=new ReflectionField;let fieldType;reflectionField.name=fieldName;const field=metadata[index];if("string"==typeof field.type)fieldType=field.type;else{let childTypeSchema;Schema.is(field.type)?(fieldType="ref",childTypeSchema=field.type):(fieldType=Object.keys(field.type)[0],"string"==typeof field.type[fieldType]?fieldType+=":"+field.type[fieldType]:childTypeSchema=field.type[fieldType]),reflectionField.referencedType=childTypeSchema?context.getTypeId(childTypeSchema):-1}reflectionField.type=fieldType,type2.fields.push(reflectionField)}addType(type2)}));for(const typeid in pendingReflectionTypes)pendingReflectionTypes[typeid].forEach((type2=>reflection.types.push(type2)));const buf=reflectionEncoder.encodeAll(it);return Buffer.from(buf,0,it.offset)}static decode(bytes,it){const reflection=new Reflection;new Decoder2(reflection).decode(bytes,it);const typeContext=new TypeContext;reflection.types.forEach((reflectionType=>{const parentClass=typeContext.get(reflectionType.extendsId)??Schema,schema3=class _ extends parentClass{};TypeContext.register(schema3),typeContext.add(schema3,reflectionType.id)}),{});const addFields=(metadata,reflectionType,parentFieldIndex)=>{reflectionType.fields.forEach(((field,i)=>{const fieldIndex=parentFieldIndex+i;if(void 0!==field.referencedType){let fieldType=field.type,refType=typeContext.get(field.referencedType);if(!refType){const typeInfo=field.type.split(":");fieldType=typeInfo[0],refType=typeInfo[1]}"ref"===fieldType?Metadata.addField(metadata,fieldIndex,field.name,refType):Metadata.addField(metadata,fieldIndex,field.name,{[fieldType]:refType})}else Metadata.addField(metadata,fieldIndex,field.name,field.type)}))};reflection.types.forEach((reflectionType=>{const schema3=typeContext.get(reflectionType.id),metadata=Metadata.initialize(schema3),inheritedTypes=[];let parentType=reflectionType;do{inheritedTypes.push(parentType),parentType=reflection.types.find((t=>t.id===parentType.extendsId))}while(parentType);let parentFieldIndex=0;inheritedTypes.reverse().forEach((reflectionType2=>{addFields(metadata,reflectionType2,parentFieldIndex),parentFieldIndex+=reflectionType2.fields.length}))}));const state=new(typeContext.get(reflection.rootType||0));return new Decoder2(state,typeContext)}}function getDecoderStateCallbacks(decoder2){const $root=decoder2.root,callbacks=$root.callbacks,onAddCalls=new WeakMap;let currentOnAddCallback;function getProxy(metadataOrType,context){var _a3;let metadata=(null==(_a3=context.instance)?void 0:_a3.constructor[Symbol.metadata])||metadataOrType,isCollection=context.instance&&"function"==typeof context.instance.forEach||metadataOrType&&void 0===metadataOrType[Symbol.metadata];if(metadata&&!isCollection){const onAddListen=function(ref,prop,callback,immediate){return immediate&&void 0!==context.instance[prop]&&!onAddCalls.has(currentOnAddCallback)&&callback(context.instance[prop],void 0),$root.addCallback($root.refIds.get(ref),prop,callback)};return new Proxy({listen:function listen(prop,callback,immediate=!0){if(context.instance)return onAddListen(context.instance,prop,callback,immediate);{let detachCallback=()=>{};return context.onInstanceAvailable(((ref,existing)=>{detachCallback=onAddListen(ref,prop,callback,immediate&&existing&&!onAddCalls.has(currentOnAddCallback))})),()=>detachCallback()}},onChange:function onChange(callback){return $root.addCallback($root.refIds.get(context.instance),exports2.OPERATION.REPLACE,callback)},bindTo:function bindTo(targetObject,properties){return properties||(properties=Object.keys(metadata).map((index=>metadata[index].name))),$root.addCallback($root.refIds.get(context.instance),exports2.OPERATION.REPLACE,(()=>{properties.forEach((prop=>targetObject[prop]=context.instance[prop]))}))}},{get(target2,prop){var _a4;const metadataField=metadata[metadata[prop]];if(metadataField){const instance=null==(_a4=context.instance)?void 0:_a4[prop],onInstanceAvailable=callback=>{const unbind=$(context.instance).listen(prop,((value,_)=>{callback(value,!1),null==unbind||unbind()}),!1);void 0!==$root.refIds.get(instance)&&callback(instance,!0)};return getProxy(metadataField.type,{instance:$root.refIds.get(instance)&&instance,parentInstance:context.instance,onInstanceAvailable:onInstanceAvailable})}return target2[prop]},has:(target2,prop)=>void 0!==metadata[prop],set(_,_1,_2){throw new Error("not allowed")},deleteProperty(_,_1){throw new Error("not allowed")}})}{const onAdd=function(ref,callback,immediate){return immediate&&ref.forEach(((v,k)=>callback(v,k))),$root.addCallback($root.refIds.get(ref),exports2.OPERATION.ADD,((value,key)=>{onAddCalls.set(callback,!0),currentOnAddCallback=callback,callback(value,key),onAddCalls.delete(callback),currentOnAddCallback=void 0}))},onRemove=function(ref,callback){return $root.addCallback($root.refIds.get(ref),exports2.OPERATION.DELETE,callback)},onChange=function(ref,callback){return $root.addCallback($root.refIds.get(ref),exports2.OPERATION.REPLACE,callback)};return new Proxy({onAdd:function(callback,immediate=!0){if(context.instance)return onAdd(context.instance,callback,immediate&&!onAddCalls.has(currentOnAddCallback));if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable(((ref,existing)=>{detachCallback=onAdd(ref,callback,immediate&&existing&&!onAddCalls.has(currentOnAddCallback))})),()=>detachCallback()}},onRemove:function(callback){if(context.instance)return onRemove(context.instance,callback);if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable((ref=>{detachCallback=onRemove(ref,callback)})),()=>detachCallback()}},onChange:function(callback){if(context.instance)return onChange(context.instance,callback);if(context.onInstanceAvailable){let detachCallback=()=>{};return context.onInstanceAvailable((ref=>{detachCallback=onChange(ref,callback)})),()=>detachCallback()}}},{get(target2,prop){if(!target2[prop])throw new Error(`Can't access '${prop}' through callback proxy. access the instance directly.`);return target2[prop]},has:(target2,prop)=>void 0!==target2[prop],set(_,_1,_2){throw new Error("not allowed")},deleteProperty(_,_1){throw new Error("not allowed")}})}}function $(instance){return getProxy(void 0,{instance:instance})}return decoder2.triggerChanges=function(allChanges){var _a3;const uniqueRefIds=new Set;for(let i=0,l=allChanges.length;i<l;i++){const change=allChanges[i],refId=change.refId,ref=change.ref,$callbacks=callbacks[refId];if($callbacks){if((change.op&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE&&change.previousValue instanceof Schema){const deleteCallbacks=null==(_a3=callbacks[$root.refIds.get(change.previousValue)])?void 0:_a3[exports2.OPERATION.DELETE];for(let i2=(null==deleteCallbacks?void 0:deleteCallbacks.length)-1;i2>=0;i2--)deleteCallbacks[i2]()}if(ref instanceof Schema){if(!uniqueRefIds.has(refId)){const replaceCallbacks=null==$callbacks?void 0:$callbacks[exports2.OPERATION.REPLACE];for(let i2=(null==replaceCallbacks?void 0:replaceCallbacks.length)-1;i2>=0;i2--)replaceCallbacks[i2]()}if($callbacks.hasOwnProperty(change.field)){const fieldCallbacks=$callbacks[change.field];for(let i2=(null==fieldCallbacks?void 0:fieldCallbacks.length)-1;i2>=0;i2--)fieldCallbacks[i2](change.value,change.previousValue)}}else{if((change.op&exports2.OPERATION.DELETE)===exports2.OPERATION.DELETE){if(void 0!==change.previousValue){const deleteCallbacks=$callbacks[exports2.OPERATION.DELETE];for(let i2=(null==deleteCallbacks?void 0:deleteCallbacks.length)-1;i2>=0;i2--)deleteCallbacks[i2](change.previousValue,change.dynamicIndex??change.field)}if((change.op&exports2.OPERATION.ADD)===exports2.OPERATION.ADD){const addCallbacks=$callbacks[exports2.OPERATION.ADD];for(let i2=(null==addCallbacks?void 0:addCallbacks.length)-1;i2>=0;i2--)addCallbacks[i2](change.value,change.dynamicIndex??change.field)}}else if((change.op&exports2.OPERATION.ADD)===exports2.OPERATION.ADD&&change.previousValue!==change.value){const addCallbacks=$callbacks[exports2.OPERATION.ADD];for(let i2=(null==addCallbacks?void 0:addCallbacks.length)-1;i2>=0;i2--)addCallbacks[i2](change.value,change.dynamicIndex??change.field)}if(change.value!==change.previousValue&&(void 0!==change.value||void 0!==change.previousValue)){const replaceCallbacks=$callbacks[exports2.OPERATION.REPLACE];for(let i2=(null==replaceCallbacks?void 0:replaceCallbacks.length)-1;i2>=0;i2--)replaceCallbacks[i2](change.value,change.dynamicIndex??change.field)}}uniqueRefIds.add(refId)}}},$}function getRawChangesCallback(decoder2,callback){decoder2.triggerChanges=callback}__decorate2([type([ReflectionType])],Reflection.prototype,"types",void 0),__decorate2([type("number")],Reflection.prototype,"rootType",void 0);class StateView{constructor(iterable=!1){this.iterable=iterable,this.visible=new WeakSet,this.invisible=new WeakSet,this.changes=new Map,iterable&&(this.items=[])}add(obj,tag=DEFAULT_VIEW_TAG,checkIncludeParent=!0){var _a3,_b2;const changeTree=null==obj?void 0:obj[$changes];if(!changeTree)return console.warn("StateView#add(), invalid object:",obj),this;if(!changeTree.parent&&0!==changeTree.refId)throw new Error(`Cannot add a detached instance to the StateView. Make sure to assign the "${changeTree.ref.constructor.name}" instance to the state before calling view.add()`);const metadata=obj.constructor[Symbol.metadata];this.visible.add(changeTree),this.iterable&&checkIncludeParent&&this.items.push(obj),checkIncludeParent&&changeTree.parent&&this.addParentOf(changeTree,tag);let changes=this.changes.get(changeTree.refId);if(void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),tag!==DEFAULT_VIEW_TAG){let tags;this.tags||(this.tags=new WeakMap),this.tags.has(changeTree)?tags=this.tags.get(changeTree):(tags=new Set,this.tags.set(changeTree,tags)),tags.add(tag),null==(_b2=null==(_a3=null==metadata?void 0:metadata[$fieldIndexesByViewTag])?void 0:_a3[tag])||_b2.forEach((index=>{changeTree.getChange(index)!==exports2.OPERATION.DELETE&&(changes[index]=exports2.OPERATION.ADD)}))}else{const isInvisible=this.invisible.has(changeTree),changeSet=void 0!==changeTree.filteredChanges?changeTree.allFilteredChanges:changeTree.allChanges;for(let i=0,len=changeSet.operations.length;i<len;i++){const index=changeSet.operations[i];if(void 0===index)continue;const op=changeTree.indexedOperations[index]??exports2.OPERATION.ADD,tagAtIndex=null==metadata?void 0:metadata[index].tag;changeTree.isNew||!isInvisible&&void 0!==tagAtIndex&&tagAtIndex!==tag||op===exports2.OPERATION.DELETE||(changes[index]=op)}}return changeTree.forEachChild(((change,index)=>{metadata&&void 0!==metadata[index].tag&&metadata[index].tag!==tag||this.add(change.ref,tag,!1)})),this}addParentOf(childChangeTree,tag){var _a3;const changeTree=childChangeTree.parent[$changes],parentIndex=childChangeTree.parentIndex;if(!this.visible.has(changeTree)){this.visible.add(changeTree);const parentChangeTree=null==(_a3=changeTree.parent)?void 0:_a3[$changes];parentChangeTree&&void 0!==parentChangeTree.filteredChanges&&this.addParentOf(changeTree,tag)}if(changeTree.getChange(parentIndex)!==exports2.OPERATION.DELETE){let tags,changes=this.changes.get(changeTree.refId);void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),this.tags||(this.tags=new WeakMap),this.tags.has(changeTree)?tags=this.tags.get(changeTree):(tags=new Set,this.tags.set(changeTree,tags)),tags.add(tag),changes[parentIndex]=exports2.OPERATION.ADD}}remove(obj,tag=DEFAULT_VIEW_TAG,_isClear=!1){var _a3;const changeTree=obj[$changes];if(!changeTree)return console.warn("StateView#remove(), invalid object:",obj),this;this.visible.delete(changeTree),this.iterable&&!_isClear&&spliceOne(this.items,this.items.indexOf(obj));const metadata=changeTree.ref.constructor[Symbol.metadata];let changes=this.changes.get(changeTree.refId);if(void 0===changes&&(changes={},this.changes.set(changeTree.refId,changes)),tag===DEFAULT_VIEW_TAG){const parent=changeTree.parent;if(!Metadata.isValidInstance(parent)&&changeTree.isFiltered){const parentChangeTree=parent[$changes];let changes2=this.changes.get(parentChangeTree.refId);void 0===changes2&&(changes2={},this.changes.set(parentChangeTree.refId,changes2)),changes2[changeTree.parentIndex]=exports2.OPERATION.DELETE}else null==(_a3=null==metadata?void 0:metadata[$viewFieldIndexes])||_a3.forEach((index=>changes[index]=exports2.OPERATION.DELETE))}else null==metadata||metadata[$fieldIndexesByViewTag][tag].forEach((index=>changes[index]=exports2.OPERATION.DELETE));if(this.tags&&this.tags.has(changeTree)){const tags=this.tags.get(changeTree);void 0===tag?this.tags.delete(changeTree):(tags.delete(tag),0===tags.size&&this.tags.delete(changeTree))}return this}has(obj){return this.visible.has(obj[$changes])}hasTag(ob,tag=DEFAULT_VIEW_TAG){var _a3;const tags=null==(_a3=this.tags)?void 0:_a3.get(ob[$changes]);return(null==tags?void 0:tags.has(tag))??!1}clear(){if(!this.iterable)throw new Error("StateView#clear() is only available for iterable StateView's. Use StateView(iterable: true) constructor.");for(let i=0,l=this.items.length;i<l;i++)this.remove(this.items[i],DEFAULT_VIEW_TAG,!0);this.items.length=0}isChangeTreeVisible(changeTree){let isVisible=this.visible.has(changeTree);return!isVisible&&changeTree.isVisibilitySharedWithParent&&this.visible.has(changeTree.parent[$changes])&&(this.visible.add(changeTree),isVisible=!0),isVisible}}registerType("map",{constructor:MapSchema}),registerType("array",{constructor:ArraySchema}),registerType("set",{constructor:SetSchema}),registerType("collection",{constructor:CollectionSchema}),exports2.$changes=$changes,exports2.$childType=$childType,exports2.$decoder=$decoder,exports2.$deleteByIndex=$deleteByIndex,exports2.$encoder=$encoder,exports2.$filter=$filter,exports2.$getByIndex=$getByIndex,exports2.$track=$track,exports2.ArraySchema=ArraySchema,exports2.ChangeTree=ChangeTree,exports2.CollectionSchema=CollectionSchema,exports2.Decoder=Decoder2,exports2.Encoder=Encoder2,exports2.MapSchema=MapSchema,exports2.Metadata=Metadata,exports2.Reflection=Reflection,exports2.ReflectionField=ReflectionField,exports2.ReflectionType=ReflectionType,exports2.Schema=Schema,exports2.SetSchema=SetSchema,exports2.StateView=StateView,exports2.TypeContext=TypeContext,exports2.decode=decode2,exports2.decodeKeyValueOperation=decodeKeyValueOperation,exports2.decodeSchemaOperation=decodeSchemaOperation,exports2.defineCustomTypes=defineCustomTypes,exports2.defineTypes=defineTypes,exports2.deprecated=deprecated,exports2.dumpChanges=dumpChanges,exports2.encode=encode2,exports2.encodeArray=encodeArray,exports2.encodeKeyValueOperation=encodeKeyValueOperation,exports2.encodeSchemaOperation=encodeSchemaOperation,exports2.entity=entity,exports2.getDecoderStateCallbacks=getDecoderStateCallbacks,exports2.getRawChangesCallback=getRawChangesCallback,exports2.registerType=registerType,exports2.schema=schema2,exports2.type=type,exports2.view=view}(umd.exports);var umdExports=umd.exports,__defProp2=Object.defineProperty,__decorateClass=(decorators,target2,key,kind)=>{for(var decorator,result=void 0,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=decorator(target2,key,result)||result);return result&&__defProp2(target2,key,result),result},Phase=(Phase2=>(Phase2.Lobby="Lobby",Phase2.Shop="Shop",Phase2.Preparation="Preparation",Phase2.Battle="Battle",Phase2.BattleEnd="BattleEnd",Phase2.GameOver="GameOver",Phase2))(Phase||{});const _CardInstanceSchema=class _CardInstanceSchema2 extends umdExports.Schema{constructor(){super(...arguments),this.instanceId="",this.cardId="",this.name="",this.attack=0,this.speed=0,this.health=0,this.currentHp=0,this.brewCost=0,this.description="",this.isLegend=!1}static fromCardData(data,instanceId){const card=new _CardInstanceSchema2;return card.instanceId=instanceId,card.cardId=data.id,card.name=data.name,card.attack=data.attack,card.speed=data.speed,card.health=data.health,card.currentHp=data.health,card.brewCost=data.brewCost,card.description=data.description,card.isLegend=data.isLegend,card}};__decorateClass([umdExports.type("string")],_CardInstanceSchema.prototype,"instanceId"),__decorateClass([umdExports.type("string")],_CardInstanceSchema.prototype,"cardId"),__decorateClass([umdExports.type("string")],_CardInstanceSchema.prototype,"name"),__decorateClass([umdExports.type("number")],_CardInstanceSchema.prototype,"attack"),__decorateClass([umdExports.type("number")],_CardInstanceSchema.prototype,"speed"),__decorateClass([umdExports.type("number")],_CardInstanceSchema.prototype,"health"),__decorateClass([umdExports.type("number")],_CardInstanceSchema.prototype,"currentHp"),__decorateClass([umdExports.type("number")],_CardInstanceSchema.prototype,"brewCost"),__decorateClass([umdExports.type("string")],_CardInstanceSchema.prototype,"description"),__decorateClass([umdExports.type("boolean")],_CardInstanceSchema.prototype,"isLegend");let CardInstanceSchema=_CardInstanceSchema;class PlayerState extends umdExports.Schema{constructor(){super(...arguments),this.sessionId="",this.username="Player",this.health=100,this.brews=5,this.shopRefreshCost=1,this.hand=new umdExports.MapSchema,this.battlefield=new umdExports.MapSchema,this.isReady=!1,this.shopOfferIds=new umdExports.ArraySchema}}__decorateClass([umdExports.type("string")],PlayerState.prototype,"sessionId"),__decorateClass([umdExports.type("string")],PlayerState.prototype,"username"),__decorateClass([umdExports.type("number")],PlayerState.prototype,"health"),__decorateClass([umdExports.type("number")],PlayerState.prototype,"brews"),__decorateClass([umdExports.type("number")],PlayerState.prototype,"shopRefreshCost"),__decorateClass([umdExports.type({map:CardInstanceSchema})],PlayerState.prototype,"hand"),__decorateClass([umdExports.type({map:CardInstanceSchema})],PlayerState.prototype,"battlefield"),__decorateClass([umdExports.type("boolean")],PlayerState.prototype,"isReady"),__decorateClass([umdExports.type(["string"])],PlayerState.prototype,"shopOfferIds");class GameState extends umdExports.Schema{constructor(){super(...arguments),this.players=new umdExports.MapSchema,this.currentDay=0,this.currentPhase="Lobby",this.battleTimer=0}}__decorateClass([umdExports.type({map:PlayerState})],GameState.prototype,"players"),__decorateClass([umdExports.type("number")],GameState.prototype,"currentDay"),__decorateClass([umdExports.type("string")],GameState.prototype,"currentPhase"),__decorateClass([umdExports.type("number")],GameState.prototype,"battleTimer");class Lobby extends phaserExports.Scene{constructor(){super("Lobby"),__publicField(this,"playerTextObjects",new Map),__publicField(this,"statusText"),__publicField(this,"readyButton"),__publicField(this,"waitingText"),__publicField(this,"phaseListenerUnsub",null),__publicField(this,"playerAddListenerUnsub",null),__publicField(this,"playerRemoveListenerUnsub",null),__publicField(this,"playerStateListeners",new Map),__publicField(this,"listenersAttached",!1)}create(){if(this.scene.launch("background"),this.listenersAttached=!1,!colyseusRoom||!colyseusRoom.sessionId)return console.error("Lobby Scene: Not connected to Colyseus room or no session ID!"),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Not connected to server.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center",backgroundColor:"#000000"}).setOrigin(.5),void this.input.once("pointerdown",(()=>{try{null==colyseusRoom||colyseusRoom.leave()}catch(e){}this.scene.start("MainMenu")}));this.add.text(this.cameras.main.centerX,100,"Lobby",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(this.cameras.main.centerX,200,"Players in Lobby:",{fontFamily:"Arial",fontSize:32,color:"#dddddd",align:"center"}).setOrigin(.5),this.statusText=this.add.text(this.cameras.main.centerX,this.cameras.main.height-100,"Connecting to lobby...",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5),this.readyButton=this.add.text(this.cameras.main.centerX,this.cameras.main.height-150,"Ready Up",{fontFamily:"Arial Black",fontSize:40,color:"#888888",backgroundColor:"#333333",padding:{x:20,y:10},stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setVisible(!1).disableInteractive(),this.waitingText=this.add.text(this.cameras.main.centerX,this.cameras.main.height-110,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(!1),this.readyButton.on("pointerdown",(()=>{var _a2;colyseusRoom&&(null==(_a2=this.readyButton.input)?void 0:_a2.enabled)&&(console.log("Lobby: Sending playerReady message."),colyseusRoom.send("playerReady"))})),this.readyButton.on("pointerover",(()=>{var _a2;(null==(_a2=this.readyButton.input)?void 0:_a2.enabled)&&this.readyButton.setColor("#55ff55")})),this.readyButton.on("pointerout",(()=>{var _a2;(null==(_a2=this.readyButton.input)?void 0:_a2.enabled)?this.readyButton.setColor("#00ff00"):this.readyButton.setColor("#888888")})),this.setupColyseusListeners(),this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}attachMainListenersAndUI(){this.listenersAttached?console.log("Lobby: Main listeners and UI setup already performed, skipping."):this.scene.isActive()?colyseusRoom&&colyseusRoom.state?(console.log("Lobby: Attaching main Colyseus listeners and performing initial UI update."),this.attachMainListeners(),this.updateLobbyUI(),this.listenersAttached=!0):console.warn("Lobby: attachMainListenersAndUI called but Colyseus room or state is not ready. Aborting."):console.warn("Lobby: attachMainListenersAndUI called but scene is not active. Aborting.")}setupColyseusListeners(){colyseusRoom?(console.log("Lobby: Setting up Colyseus general listeners."),colyseusRoom.state&&!this.listenersAttached&&(console.log("Lobby: State already available on setup. Scheduling attachMainListenersAndUI."),this.time.delayedCall(1,this.attachMainListenersAndUI,[],this)),colyseusRoom.onStateChange.once((state=>{console.log("Lobby: Initial state received via onStateChange.once."),this.scene.isActive()?this.attachMainListenersAndUI():console.log("Lobby: Scene became inactive before onStateChange.once processing could complete.")}))):console.error("Lobby: setupColyseusListeners called but colyseusRoom is null.")}attachMainListeners(){if(!colyseusRoom||!colyseusRoom.state)return void console.error("Lobby: attachMainListeners - colyseusRoom or state is null.");const $=cjs.getStateCallbacks(colyseusRoom);this.phaseListenerUnsub&&this.phaseListenerUnsub(),this.phaseListenerUnsub=$(colyseusRoom.state).listen("currentPhase",((currentPhase,previousPhase)=>{this.scene.isActive()&&(console.log(`Lobby: Phase changed from ${previousPhase} to: ${currentPhase}`),currentPhase===Phase.Shop?(this.statusText.setText("Starting Game!"),this.time.delayedCall(500,(()=>{this.scene.isActive()&&(this.scene.stop(),this.scene.start("Shop"))}))):currentPhase===Phase.Lobby?this.updateLobbyUI():currentPhase===Phase.GameOver&&(this.statusText.setText("Game Over. Returning to Main Menu."),this.time.delayedCall(1500,(()=>{if(this.scene.isActive()){try{null==colyseusRoom||colyseusRoom.leave()}catch(e){}this.scene.stop(),this.scene.start("MainMenu")}}))))})),this.playerAddListenerUnsub&&this.playerAddListenerUnsub(),this.playerAddListenerUnsub=$(colyseusRoom.state.players).onAdd(((player,sessionId)=>{this.scene.isActive()&&(console.log(`Lobby: Player joined: ${player.username} (${sessionId})`),this.addPlayerStateListener(player,sessionId),this.updateLobbyUI())})),this.playerRemoveListenerUnsub&&this.playerRemoveListenerUnsub(),this.playerRemoveListenerUnsub=$(colyseusRoom.state.players).onRemove(((player,sessionId)=>{this.scene.isActive()&&(console.log(`Lobby: Player left: ${player.username} (${sessionId})`),this.removePlayerStateListener(sessionId),this.updateLobbyUI())})),colyseusRoom.state.players.forEach(((player,sessionId)=>{this.addPlayerStateListener(player,sessionId)}))}addPlayerStateListener(player,sessionId){var _a2;if(!colyseusRoom)return;const $=cjs.getStateCallbacks(colyseusRoom);null==(_a2=this.playerStateListeners.get(sessionId))||_a2(),console.log(`Lobby: Adding 'isReady' listener for player ${sessionId}`);const unsub=$(player).listen("isReady",((currentValue,previousValue)=>{console.log(`Lobby: isReady changed for player ${sessionId}: ${previousValue} -> ${currentValue}`),this.scene.isActive()&&this.updateLobbyUI()}));this.playerStateListeners.set(sessionId,unsub)}removePlayerStateListener(sessionId){const unsub=this.playerStateListeners.get(sessionId);unsub&&(console.log(`Lobby: Removing 'isReady' listener for player ${sessionId}`),unsub(),this.playerStateListeners.delete(sessionId))}updateLobbyUI(){if(!this.scene.isActive())return void console.warn("Lobby: updateLobbyUI called but scene is NOT ACTIVE. Aborting UI update.");if(!colyseusRoom)return console.warn("Lobby: updateLobbyUI called but colyseusRoom is NULL. Aborting UI update."),void(this.statusText&&this.statusText.active&&this.statusText.setText("Error: Connection lost."));if(!colyseusRoom.state)return console.warn("Lobby: updateLobbyUI called but colyseusRoom.state is NULL. Aborting UI update."),void(this.statusText&&this.statusText.active&&this.statusText.setText("Error: Game state unavailable."));0===globalCardDataCache.size&&(console.log("Lobby: Card data not loaded yet. Loading..."),function preload(baseModule,deps){let promise=Promise.resolve();if(deps&&deps.length>0){document.getElementsByTagName("link");const cspNonceMeta=document.querySelector("meta[property=csp-nonce]"),cspNonce=(null==cspNonceMeta?void 0:cspNonceMeta.nonce)||(null==cspNonceMeta?void 0:cspNonceMeta.getAttribute("nonce"));promise=Promise.all(deps.map((dep=>{if((dep=function(dep){return"/"+dep}(dep))in seen)return;seen[dep]=!0;const isCss=dep.endsWith(".css"),cssSelector=isCss?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${dep}"]${cssSelector}`))return;const link=document.createElement("link");return link.rel=isCss?"stylesheet":"modulepreload",isCss||(link.as="script",link.crossOrigin=""),link.href=dep,cspNonce&&link.setAttribute("nonce",cspNonce),document.head.appendChild(link),isCss?new Promise(((res,rej)=>{link.addEventListener("load",res),link.addEventListener("error",(()=>rej(new Error(`Unable to preload CSS for ${dep}`))))})):void 0})))}return promise.then((()=>baseModule())).catch((err=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=err,window.dispatchEvent(e),!e.defaultPrevented)throw err}))}((()=>Promise.resolve().then((()=>colyseusClient$1))),void 0).then((({loadAllCardData:loadAllCardData2})=>{loadAllCardData2().then((success=>{success?console.log("Lobby: Card data loaded successfully"):console.warn("Lobby: Failed to load card data")}))})));const players=colyseusRoom.state.players,mySessionId=colyseusRoom.sessionId,playerCount=players.size;this.playerTextObjects.forEach((textObj=>textObj.destroy())),this.playerTextObjects.clear();let playerIndex=0,allPlayersReady=playerCount>0,localPlayerIsReady=!1;const localPlayer=players.get(mySessionId);localPlayer&&(localPlayerIsReady=localPlayer.isReady),players.forEach(((player,sessionId)=>{const isMe=sessionId===mySessionId,readyMarker=player.isReady?" [Ready]":" [Not Ready]",displayName=`${player.username||"Joining..."}${isMe?" (You)":""}${readyMarker}`,playerText=this.add.text(this.cameras.main.centerX,250+40*playerIndex,displayName,{fontFamily:"Arial",fontSize:24,color:player.isReady?"#00ff00":"#ffffff",align:"center"}).setOrigin(.5);this.playerTextObjects.set(sessionId,playerText),playerIndex++,player.isReady||(allPlayersReady=!1)})),playerCount<2?(this.statusText.setText("Waiting for opponent..."),this.readyButton.setVisible(!1).disableInteractive(),this.waitingText.setVisible(!1)):(this.readyButton.setVisible(!0),localPlayerIsReady?(this.statusText.setText("Waiting for opponent to ready up..."),this.readyButton.setText("Waiting...").setColor("#888888").disableInteractive(),this.waitingText.setText(allPlayersReady?"Starting game...":"Waiting for opponent...").setVisible(!0)):(this.statusText.setText("Lobby full. Ready up!"),this.readyButton.setText("Ready Up").setColor("#00ff00").setInteractive({useHandCursor:!0}),this.waitingText.setVisible(!1)),allPlayersReady&&(this.statusText.setText("Starting game..."),this.readyButton.setVisible(!1),this.waitingText.setVisible(!1)))}shutdown(){var _a2,_b,_c,_d,_e,_f,_g,_h,_i;console.log("Lobby scene shutting down."),this.listenersAttached=!1,null==(_a2=this.phaseListenerUnsub)||_a2.call(this),null==(_b=this.playerAddListenerUnsub)||_b.call(this),null==(_c=this.playerRemoveListenerUnsub)||_c.call(this),this.playerStateListeners.forEach((unsub=>unsub())),this.playerStateListeners.clear(),this.phaseListenerUnsub=null,this.playerAddListenerUnsub=null,this.playerRemoveListenerUnsub=null,this.playerTextObjects.forEach((textObj=>textObj.destroy())),this.playerTextObjects.clear(),null==(_d=this.statusText)||_d.destroy(),null==(_e=this.readyButton)||_e.destroy(),null==(_f=this.waitingText)||_f.destroy(),null==(_g=this.readyButton)||_g.off("pointerdown"),null==(_h=this.readyButton)||_h.off("pointerover"),null==(_i=this.readyButton)||_i.off("pointerout"),this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class Shop extends phaserExports.Scene{constructor(){super("Shop"),__publicField(this,"continueButton"),__publicField(this,"shopCardObjects",[]),__publicField(this,"waitingText"),__publicField(this,"refreshButton"),__publicField(this,"cardDataCache",new Map),__publicField(this,"shopOffersContainer"),__publicField(this,"shopOffersBackground"),__publicField(this,"toggleShopButton"),__publicField(this,"shopOffersVisible",!0),__publicField(this,"phaseListenerUnsub",null),__publicField(this,"playerStateListenersUnsub",new Map),__publicField(this,"shopOfferListenersUnsub",[]),__publicField(this,"listeners",[])}create(){var _a2;if(this.scene.launch("background"),(null==(_a2=this.scene.get("BoardView"))?void 0:_a2.scene.isActive())||this.scene.launch("BoardView"),this.scene.bringToTop(),!colyseusRoom||!colyseusRoom.state||!colyseusRoom.sessionId)return console.error("Shop Scene: Colyseus room not available!"),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{fontFamily:"Arial",fontSize:"24px",color:"#ff0000",align:"center"}).setOrigin(.5),void this.input.once("pointerdown",(()=>{try{null==colyseusRoom||colyseusRoom.leave(!0)}catch(e){}this.scene.start("MainMenu")}));const centerX=this.cameras.main.centerX,centerY=this.cameras.main.centerY,gameWidth=this.cameras.main.width,gameHeight=this.cameras.main.height;this.createShopCardsDisplay(centerX,centerY,gameWidth),this.setupDragAndDrop(),this.requestMissingCardData();const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId),refreshCost=(null==myPlayerState?void 0:myPlayerState.shopRefreshCost)||2;this.refreshButton=this.add.text(gameWidth-150,180,`Refresh: ${refreshCost} 🍺`,{fontFamily:"Arial",fontSize:18,color:"#FFFFFF",backgroundColor:"#4444AA",padding:{x:10,y:5}}).setOrigin(1,.5).setInteractive({useHandCursor:!0}),this.refreshButton.on("pointerdown",(()=>{const myPlayerState2=null==colyseusRoom?void 0:colyseusRoom.state.players.get(colyseusRoom.sessionId);colyseusRoom&&myPlayerState2&&myPlayerState2.brews>=myPlayerState2.shopRefreshCost&&colyseusRoom.send("refreshShop")})),this.refreshButton.on("pointerover",(()=>{var _a3;(null==(_a3=this.refreshButton.input)?void 0:_a3.enabled)&&this.refreshButton.setBackgroundColor("#6666CC")})),this.refreshButton.on("pointerout",(()=>{var _a3;(null==(_a3=this.refreshButton.input)?void 0:_a3.enabled)&&this.refreshButton.setBackgroundColor("#4444AA")})),this.updateRefreshButtonState(),this.continueButton=this.add.text(centerX,gameHeight-50,"Continue",{fontFamily:"Arial Black",fontSize:40,color:"#00ff00",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.continueButton.on("pointerdown",(()=>{const myPlayerState2=null==colyseusRoom?void 0:colyseusRoom.state.players.get(colyseusRoom.sessionId);colyseusRoom&&myPlayerState2&&!myPlayerState2.isReady&&colyseusRoom.state.currentPhase===Phase.Shop&&colyseusRoom.send("playerReady")})),this.continueButton.on("pointerover",(()=>{var _a3;(null==(_a3=this.continueButton.input)?void 0:_a3.enabled)&&this.continueButton.setColor("#55ff55")})),this.continueButton.on("pointerout",(()=>{var _a3;(null==(_a3=this.continueButton.input)?void 0:_a3.enabled)?this.continueButton.setColor("#00ff00"):this.continueButton.setColor("#888888")})),this.waitingText=this.add.text(centerX,gameHeight-20,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(!1),this.setupColyseusListeners(),this.updateWaitingStatus(),this.time.delayedCall(50,(()=>this.createShopCardsDisplay(centerX,centerY,gameWidth))),this.toggleShopButton=this.add.text(gameWidth-100,centerY-250,"Toggle Shop",{fontFamily:"Arial",fontSize:16,color:"#FFFFFF",backgroundColor:"#555555",padding:{x:5,y:5}}).setOrigin(1,.5).setInteractive({useHandCursor:!0}),this.toggleShopButton.on("pointerdown",(()=>{this.shopOffersVisible=!this.shopOffersVisible,this.shopOffersContainer.setVisible(this.shopOffersVisible),this.toggleShopButton.setText(this.shopOffersVisible?"Hide Shop":"Show Shop")})),this.toggleShopButton.setText(this.shopOffersVisible?"Hide Shop":"Show Shop"),this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}createShopCardsDisplay(centerX,centerY,gameWidth){var _a2;null==(_a2=this.shopOffersContainer)||_a2.destroy(),this.shopOffersContainer=this.add.container(0,0),this.shopOffersContainer.setVisible(this.shopOffersVisible),this.shopCardObjects.forEach((obj=>obj.destroy())),this.shopCardObjects=[];const myPlayerState=null==colyseusRoom?void 0:colyseusRoom.state.players.get(colyseusRoom.sessionId),shopOfferIds=null==myPlayerState?void 0:myPlayerState.shopOfferIds;if(!shopOfferIds||0===shopOfferIds.length)return console.log("Shop: No shop offers from server."),void(this.shopOffersBackground&&this.shopOffersBackground.active&&this.shopOffersBackground.setVisible(!1));const numOffers=shopOfferIds.length>0?shopOfferIds.length:4,shopY=centerY,totalShopWidth=120*numOffers+20*(numOffers-1),startShopX=centerX-totalShopWidth/2+60,bgWidth=totalShopWidth+40;this.shopOffersBackground&&this.shopOffersBackground.active&&this.shopOffersBackground.destroy(),this.shopOffersBackground=this.add.rectangle(centerX,shopY,bgWidth,208,51,.6),this.shopOffersContainer.add(this.shopOffersBackground),shopOfferIds.forEach(((cardId,index)=>{const cardData=this.getCardDataFromServer(cardId);if(!cardData)return void console.warn(`Shop: Card data not found for ID: ${cardId}`);const cardX=startShopX+140*index,cardContainer=this.add.container(cardX,shopY),cardImage=this.add.image(0,0,"cardFullTier1").setOrigin(.5).setDisplaySize(120,168);cardContainer.add(cardImage);const nameText=this.add.text(0,-20,cardData.name,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:100}}).setOrigin(.5,.5);cardContainer.add(nameText);const attackText=this.add.text(-28,5.04,`${cardData.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(0,.5);cardContainer.add(attackText);const healthText=this.add.text(42,6,`${cardData.health}/${cardData.health}`,{fontFamily:"Arial",fontSize:16,color:"#00ff00",stroke:"#000000",strokeThickness:3}).setOrigin(1,.5);cardContainer.add(healthText);const speedText=this.add.text(0,34,`${cardData.speed}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5,1);cardContainer.add(speedText);const costText=this.add.text(52,-76,`${cardData.brewCost}B`,{fontFamily:"Arial",fontSize:14,color:"#ffff00",stroke:"#000000",strokeThickness:3,align:"right"}).setOrigin(1,0);cardContainer.add(costText),cardContainer.setSize(120,168),cardContainer.setSize(120,168),cardContainer.setInteractive({useHandCursor:!0}),cardContainer.setData("cardId",cardData.id),cardContainer.setData("cardData",cardData),this.input.setDraggable(cardContainer),cardContainer.off("pointerdown").on("pointerdown",(pointer=>{var _a3;(null==(_a3=cardContainer.input)?void 0:_a3.enabled)&&cardContainer.setData("isBeingDragged",!1)})),cardContainer.off("pointerup").on("pointerup",(pointer=>{var _a3;if(!(null==(_a3=cardContainer.input)?void 0:_a3.enabled))return;if(!colyseusRoom||!colyseusRoom.sessionId)return;if(!0===cardContainer.getData("isBeingDragged"))return void cardContainer.setData("isBeingDragged",!1);const myPlayerState2=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(!myPlayerState2)return;let firstEmptyHandSlot=-1;for(let i=0;i<5;i++)if(!myPlayerState2.hand.has(String(i))){firstEmptyHandSlot=i;break}if(-1!==firstEmptyHandSlot){const cardId2=cardContainer.getData("cardId"),currentCardData=cardContainer.getData("cardData");cardId2&&currentCardData&&myPlayerState2.brews>=currentCardData.brewCost?(console.log(`Shop: Click-to-buy card ${cardId2} (Cost: ${currentCardData.brewCost}) into hand slot ${firstEmptyHandSlot}. Brews: ${myPlayerState2.brews}`),colyseusRoom.send("buyCard",{cardId:cardId2,handSlotIndex:firstEmptyHandSlot})):currentCardData&&myPlayerState2.brews<currentCardData.brewCost?console.log(`Shop: Not enough brews (${myPlayerState2.brews}) to click-buy card ${cardId2} (Cost: ${currentCardData.brewCost}).`):console.log(`Shop: Click-to-buy failed for card ${cardId2}. CardData: ${!!currentCardData}`)}else console.log("Shop: Hand is full, cannot click-buy.")})),this.shopCardObjects.push(cardContainer),this.shopOffersContainer.add(cardContainer)}))}requestMissingCardData(){if(!colyseusRoom||!colyseusRoom.state||!colyseusRoom.sessionId)return;const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(!myPlayerState)return;const shopOfferIds=myPlayerState.shopOfferIds;if(shopOfferIds&&shopOfferIds.length>0){const missingIds=[];shopOfferIds.forEach((id=>{globalCardDataCache.has(id)||missingIds.push(id)})),missingIds.length>0&&(console.log("Requesting missing cards from server:",missingIds),colyseusRoom.send("getCardsByIds",{cardIds:missingIds}))}}getCardDataFromServer(cardId){if(globalCardDataCache.has(cardId))return globalCardDataCache.get(cardId);if(!colyseusRoom||!colyseusRoom.state)return;let cardData;return colyseusRoom.state.players.forEach((player=>{player.hand.forEach((card=>{card.cardId===cardId&&(cardData={id:card.cardId,name:card.name,attack:card.attack,speed:card.speed,health:card.health,brewCost:card.brewCost,description:card.description,isLegend:card.isLegend})})),player.battlefield.forEach((card=>{card.cardId===cardId&&(cardData={id:card.cardId,name:card.name,attack:card.attack,speed:card.speed,health:card.health,brewCost:card.brewCost,description:card.description,isLegend:card.isLegend})}))})),cardData||(cardData={id:cardId,name:`Card ${cardId.split("_").pop()}`,attack:1,speed:1,health:1,brewCost:1,description:"Loading card details...",isLegend:!1},console.warn(`Shop: Card data not found for ID: ${cardId} in global cache or state`)),cardData}setupDragAndDrop(){this.input.off("dragstart"),this.input.off("drag"),this.input.off("dragend"),this.input.off("pointerdown"),this.input.off("pointerup"),this.shopCardObjects.forEach((cardContainer=>{cardContainer.off("pointerdown"),cardContainer.off("pointerup")})),this.input.on("dragstart",((pointer,gameObject)=>{var _a2;gameObject instanceof Phaser.GameObjects.Container&&this.shopCardObjects.includes(gameObject)&&(null==(_a2=gameObject.input)?void 0:_a2.enabled)&&(this.children.bringToTop(gameObject),gameObject.setAlpha(.7),gameObject.setData("startX",gameObject.x),gameObject.setData("startY",gameObject.y),gameObject.setData("isBeingDragged",!0))})),this.input.on("drag",((pointer,gameObject,dragX,dragY)=>{var _a2;gameObject instanceof Phaser.GameObjects.Container&&this.shopCardObjects.includes(gameObject)&&(null==(_a2=gameObject.input)?void 0:_a2.enabled)&&!0===gameObject.getData("isBeingDragged")&&(gameObject.x=dragX,gameObject.y=dragY)})),this.input.on("dragend",((pointer,gameObject)=>{if(!(colyseusRoom&&gameObject instanceof Phaser.GameObjects.Container&&this.shopCardObjects.includes(gameObject)))return void(gameObject instanceof Phaser.GameObjects.Container&&gameObject.setData("isBeingDragged",!1));gameObject.setAlpha(1);let buyAttempted=!1;if(!0===gameObject.getData("isBeingDragged")){const droppedX=gameObject.x,droppedY=gameObject.y,boardViewScene=this.scene.get("BoardView");for(let i=0;i<5;i++){const slotPos=null==boardViewScene?void 0:boardViewScene.getSlotPixelPosition(!0,"hand",i);if(slotPos){const handSlotDropZone=new Phaser.Geom.Rectangle(slotPos.x-50,slotPos.y-70,100,140);if(Phaser.Geom.Rectangle.Contains(handSlotDropZone,droppedX,droppedY)){const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(myPlayerState&&!myPlayerState.hand.has(String(i))){const cardId=gameObject.getData("cardId"),cardData=gameObject.getData("cardData");cardId&&cardData&&myPlayerState.brews>=cardData.brewCost?(colyseusRoom.send("buyCard",{cardId:cardId,handSlotIndex:i}),buyAttempted=!0):console.log("Shop: Drag-to-buy failed (not enough brews or card data missing).")}break}}}buyAttempted||gameObject.active&&(gameObject.x=gameObject.getData("startX"),gameObject.y=gameObject.getData("startY"))}gameObject.setData("isBeingDragged",!1)}))}updateRefreshButtonState(){if(!colyseusRoom||!this.refreshButton||!this.refreshButton.active)return;const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(!myPlayerState)return;this.refreshButton.setText(`Refresh: ${myPlayerState.shopRefreshCost} 🍺`);myPlayerState.brews>=myPlayerState.shopRefreshCost&&colyseusRoom.state.currentPhase===Phase.Shop?(this.refreshButton.setColor("#FFFFFF"),this.refreshButton.setBackgroundColor("#4444AA"),this.refreshButton.setInteractive({useHandCursor:!0})):(this.refreshButton.setColor("#AAAAAA"),this.refreshButton.setBackgroundColor("#555555"),this.refreshButton.disableInteractive())}setupColyseusListeners(){if(!colyseusRoom||!colyseusRoom.sessionId)return;const $=cjs.getStateCallbacks(colyseusRoom),myPlayerId=colyseusRoom.sessionId;this.phaseListenerUnsub=$(colyseusRoom.state).listen("currentPhase",(currentPhase=>{this.scene.isActive()&&(currentPhase===Phase.Preparation?this.scene.isActive()&&(this.scene.stop(),this.scene.start("Preparation")):currentPhase!==Phase.Shop&&this.scene.isActive()&&(this.scene.stop(),this.scene.start("Lobby")),this.updateWaitingStatus())})),colyseusRoom.state.players.forEach(((player,sessionId)=>{const unsub=$(player).listen("isReady",(()=>{this.scene.isActive()&&this.updateWaitingStatus()}));this.playerStateListenersUnsub.set(sessionId,unsub)})),this.listeners.push($(colyseusRoom.state.players).onAdd(((player,sessionId)=>{var _a2;this.playerStateListenersUnsub.has(sessionId)&&(null==(_a2=this.playerStateListenersUnsub.get(sessionId))||_a2());const unsub=$(player).listen("isReady",(()=>{this.scene.isActive()&&this.updateWaitingStatus()}));this.playerStateListenersUnsub.set(sessionId,unsub),this.scene.isActive()&&this.updateWaitingStatus()}))),this.listeners.push($(colyseusRoom.state.players).onRemove(((player,sessionId)=>{var _a2;null==(_a2=this.playerStateListenersUnsub.get(sessionId))||_a2(),this.playerStateListenersUnsub.delete(sessionId),this.scene.isActive()&&this.updateWaitingStatus()}))),this.listeners.push(colyseusRoom.onMessage("cardsByIds",(data=>{if(this.scene.isActive()){Object.entries(data).forEach((([cardId,cardData])=>{globalCardDataCache.set(cardId,cardData)}));const centerX=this.cameras.main.centerX,centerY=this.cameras.main.centerY,gameWidth=this.cameras.main.width;this.createShopCardsDisplay(centerX,centerY,gameWidth)}})));const myPlayerState=colyseusRoom.state.players.get(myPlayerId);if(myPlayerState){const onShopOffersChanged=()=>{if(!this.scene.isActive())return;this.requestMissingCardData();const centerX=this.cameras.main.centerX,centerY=this.cameras.main.centerY,gameWidth=this.cameras.main.width;this.createShopCardsDisplay(centerX,centerY,gameWidth)};this.shopOfferListenersUnsub.push($(myPlayerState.shopOfferIds).onAdd(onShopOffersChanged)),this.shopOfferListenersUnsub.push($(myPlayerState.shopOfferIds).onRemove(onShopOffersChanged)),onShopOffersChanged(),this.listeners.push($(myPlayerState).listen("brews",(()=>{this.scene.isActive()&&this.updateRefreshButtonState()}))),this.listeners.push($(myPlayerState).listen("shopRefreshCost",(()=>{this.scene.isActive()&&this.updateRefreshButtonState()})))}}cleanupListeners(){var _a2,_b,_c,_d;console.log("Shop Scene: Cleaning up listeners."),null==(_a2=this.phaseListenerUnsub)||_a2.call(this),this.phaseListenerUnsub=null,this.playerStateListenersUnsub.forEach((unsub=>unsub())),this.playerStateListenersUnsub.clear(),this.shopOfferListenersUnsub.forEach((unsub=>unsub())),this.shopOfferListenersUnsub=[],this.listeners.forEach((unsub=>unsub())),this.listeners=[],this.input.off("dragstart"),this.input.off("drag"),this.input.off("dragend"),null==(_b=this.continueButton)||_b.off("pointerdown"),null==(_c=this.continueButton)||_c.off("pointerover"),null==(_d=this.continueButton)||_d.off("pointerout")}updateWaitingStatus(){if(!(colyseusRoom&&colyseusRoom.sessionId&&this.continueButton&&this.waitingText&&this.scene.isActive()))return;const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(!myPlayerState)return;let allPlayersReady=!0;colyseusRoom.state.players.forEach((player=>{player.isReady||(allPlayersReady=!1)}));const amReady=myPlayerState.isReady,isShopPhase=colyseusRoom.state.currentPhase===Phase.Shop,canInteract=!amReady&&isShopPhase;this.continueButton.setInteractive(canInteract),this.continueButton.setColor(canInteract?"#00ff00":"#888888"),amReady&&!allPlayersReady&&isShopPhase?(this.waitingText.setText("Waiting for other player(s)...").setVisible(!0),this.continueButton.setText("Waiting...")):isShopPhase?(this.waitingText.setVisible(!1),this.continueButton.setText("Continue")):(this.waitingText.setText(`Waiting for ${colyseusRoom.state.currentPhase} phase...`).setVisible(!0),this.continueButton.setText("Continue")),this.shopCardObjects.forEach((cardObj=>{cardObj.input&&(cardObj.input.enabled=canInteract)}))}shutdown(){var _a2,_b,_c,_d,_e,_f,_g,_h;console.log("Shop scene shutting down."),this.cleanupListeners(),this.shopCardObjects.forEach((obj=>obj.destroy())),this.shopCardObjects=[],null==(_a2=this.continueButton)||_a2.destroy(),null==(_b=this.waitingText)||_b.destroy(),null==(_c=this.refreshButton)||_c.off("pointerdown"),null==(_d=this.refreshButton)||_d.off("pointerover"),null==(_e=this.refreshButton)||_e.off("pointerout"),null==(_f=this.refreshButton)||_f.destroy(),null==(_g=this.toggleShopButton)||_g.destroy(),null==(_h=this.shopOffersContainer)||_h.destroy(),this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class Preparation extends phaserExports.Scene{constructor(){super("Preparation"),__publicField(this,"startBattleButton"),__publicField(this,"waitingText"),__publicField(this,"playerStateListener",null),__publicField(this,"handListener",null),__publicField(this,"battlefieldListener",null),__publicField(this,"phaseListener",null),__publicField(this,"playerStateListenerUnsub",null),__publicField(this,"handAddUnsub",null),__publicField(this,"handRemoveUnsub",null),__publicField(this,"handChangeUnsub",null),__publicField(this,"battlefieldAddUnsub",null),__publicField(this,"battlefieldRemoveUnsub",null),__publicField(this,"battlefieldChangeUnsub",null),__publicField(this,"phaseListenerUnsub",null),__publicField(this,"otherPlayerChangeListeners",new Map),__publicField(this,"otherPlayerAddUnsub",null),__publicField(this,"otherPlayerRemoveUnsub",null),__publicField(this,"clientSideCardLayout",new Map)}create(){var _a2;if(this.scene.launch("background"),(null==(_a2=this.scene.get("BoardView"))?void 0:_a2.scene.isActive())||this.scene.launch("BoardView"),this.scene.bringToTop(),!colyseusRoom||!colyseusRoom.state||!colyseusRoom.sessionId)return console.error("Preparation Scene: Colyseus room not available!"),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center"}).setOrigin(.5),void this.input.once("pointerdown",(()=>this.scene.start("MainMenu")));const centerX=this.cameras.main.centerX;this.cameras.main.centerY;const gameHeight=this.cameras.main.height;this.cameras.main.width;const myPlayerStateForLog=colyseusRoom.state.players.get(colyseusRoom.sessionId);myPlayerStateForLog?console.log("Preparation Create: Initial myPlayerState.hand contents:",JSON.stringify(Object.fromEntries(myPlayerStateForLog.hand.entries()))):console.log("Preparation Create: myPlayerState not found initially."),this.add.text(centerX,80,"Preparation Phase",{fontFamily:"Arial Black",fontSize:48,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.startBattleButton=this.add.text(centerX,gameHeight-50,"Start Battle",{fontFamily:"Arial Black",fontSize:40,color:"#888888",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5),this.startBattleButton.setColor("#888888").disableInteractive(),this.waitingText=this.add.text(centerX,gameHeight-20,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(!1),this.setupColyseusListeners(),this.updateWaitingStatus(),this.time.delayedCall(100,this.updateStartButtonState,[],this),this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}setupColyseusListeners(){if(!colyseusRoom||!colyseusRoom.sessionId)return;const myPlayerId=colyseusRoom.sessionId,$=cjs.getStateCallbacks(colyseusRoom),player=colyseusRoom.state.players.get(myPlayerId);player?(this.playerStateListenerUnsub=$(player).onChange((()=>{this.scene.isActive()&&this.updateWaitingStatus()})),this.handAddUnsub=$(player.hand).onAdd(((card,key)=>{console.log(`Preparation Scene: player.hand.onAdd triggered for key: ${key}, card: ${null==card?void 0:card.name}. Scene active: ${this.scene.isActive()}`),this.scene.isActive()&&this.updateStartButtonState()})),this.handRemoveUnsub=$(player.hand).onRemove(((card,key)=>{this.scene.isActive()&&this.updateStartButtonState()})),this.battlefieldAddUnsub=$(player.battlefield).onAdd(((card,key)=>{this.scene.isActive()&&this.updateStartButtonState()})),this.battlefieldRemoveUnsub=$(player.battlefield).onRemove(((card,key)=>{this.scene.isActive()&&this.updateStartButtonState()}))):console.error("Preparation Scene: My player state not found on init."),this.phaseListenerUnsub=$(colyseusRoom.state).listen("currentPhase",(currentPhase=>{this.scene.isActive()&&(console.log(`Preparation Scene: Phase changed to ${currentPhase}`),currentPhase===Phase.Battle?this.scene.isActive()&&(this.scene.stop(),this.scene.start("Battle")):currentPhase!==Phase.Preparation&&(console.warn(`Preparation Scene: Unexpected phase change to ${currentPhase}. Returning to Lobby.`),this.scene.isActive()&&(this.scene.stop(),this.scene.start("Lobby"))),this.updateWaitingStatus())})),this.otherPlayerAddUnsub=$(colyseusRoom.state.players).onAdd(((addedPlayer,sessionId)=>{if(this.scene.isActive()){if(sessionId!==myPlayerId){const unsub=$(addedPlayer).listen("isReady",(()=>{this.scene.isActive()&&this.updateWaitingStatus()}));this.otherPlayerChangeListeners.set(sessionId,unsub)}this.updateWaitingStatus()}})),this.otherPlayerRemoveUnsub=$(colyseusRoom.state.players).onRemove(((removedPlayer,sessionId)=>{if(this.scene.isActive()){const unsub=this.otherPlayerChangeListeners.get(sessionId);null==unsub||unsub(),this.otherPlayerChangeListeners.delete(sessionId),this.updateWaitingStatus()}})),colyseusRoom.state.players.forEach(((existingPlayer,sessionId)=>{if(sessionId!==myPlayerId){const unsub=$(existingPlayer).listen("isReady",(()=>{this.scene.isActive()&&this.updateWaitingStatus()}));this.otherPlayerChangeListeners.set(sessionId,unsub)}}))}cleanupListeners(){var _a2,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m;console.log("Preparation Scene: Cleaning up listeners."),null==(_a2=this.playerStateListenerUnsub)||_a2.call(this),null==(_b=this.handAddUnsub)||_b.call(this),null==(_c=this.handRemoveUnsub)||_c.call(this),null==(_d=this.handChangeUnsub)||_d.call(this),null==(_e=this.battlefieldAddUnsub)||_e.call(this),null==(_f=this.battlefieldRemoveUnsub)||_f.call(this),null==(_g=this.battlefieldChangeUnsub)||_g.call(this),null==(_h=this.phaseListenerUnsub)||_h.call(this),null==(_i=this.otherPlayerAddUnsub)||_i.call(this),null==(_j=this.otherPlayerRemoveUnsub)||_j.call(this),this.otherPlayerChangeListeners.forEach((unsub=>unsub())),this.playerStateListenerUnsub=null,this.handAddUnsub=null,this.handRemoveUnsub=null,this.handChangeUnsub=null,this.battlefieldAddUnsub=null,this.battlefieldRemoveUnsub=null,this.battlefieldChangeUnsub=null,this.phaseListenerUnsub=null,this.otherPlayerAddUnsub=null,this.otherPlayerRemoveUnsub=null,this.otherPlayerChangeListeners.clear(),this.input.off("dragstart"),this.input.off("drag"),this.input.off("dragend"),null==(_k=this.startBattleButton)||_k.off("pointerdown"),null==(_l=this.startBattleButton)||_l.off("pointerover"),null==(_m=this.startBattleButton)||_m.off("pointerout")}makeLocalPlayerCardsDraggable(){if(!colyseusRoom||!colyseusRoom.sessionId||!this.scene.isActive())return void console.warn("Preparation: Cannot make cards draggable, room/session/scene inactive.");const myPlayerId=colyseusRoom.sessionId,myPlayerState=colyseusRoom.state.players.get(myPlayerId),boardView=this.scene.get("BoardView");if(!myPlayerState||!boardView)return void console.warn("Preparation: Player state or BoardView not found for making cards draggable.");this.clientSideCardLayout.forEach((entry=>{entry.gameObject&&entry.gameObject.input&&this.input.disable(entry.gameObject)})),this.clientSideCardLayout.clear();const processCards=(collection,area)=>{collection.forEach(((cardSchema,slotKey)=>{const cardGO=boardView.getCardGameObjectByInstanceId(cardSchema.instanceId);cardGO?(cardGO.setInteractive({useHandCursor:!0}),this.input.setDraggable(cardGO),this.clientSideCardLayout.set(cardSchema.instanceId,{area:area,slotKey:slotKey,gameObject:cardGO})):console.warn(`Preparation: Could not find GameObject in BoardView for card instance ${cardSchema.instanceId}`)}))};processCards(myPlayerState.hand,"hand"),processCards(myPlayerState.battlefield,"battlefield"),console.log("Preparation: Made local player cards draggable and initialized clientSideCardLayout.",this.clientSideCardLayout),this.updateStartButtonState()}updateWaitingStatus(){if(!(colyseusRoom&&colyseusRoom.sessionId&&this.startBattleButton&&this.waitingText))return;const myPlayerState=colyseusRoom.state.players.get(colyseusRoom.sessionId);if(!myPlayerState)return;let allPlayersReady=!0;colyseusRoom.state.players.forEach((player=>{player.isReady||(allPlayersReady=!1)}));const amReady=myPlayerState.isReady;!amReady&&(colyseusRoom.state.currentPhase,Phase.Preparation),this.updateStartButtonState(),amReady&&!allPlayersReady?(this.waitingText.setText("Waiting for other player(s)...").setVisible(!0),this.startBattleButton.setText("Waiting..."),this.startBattleButton.disableInteractive().setColor("#888888")):(this.waitingText.setVisible(!1),this.startBattleButton.setText("Start Battle"),this.updateStartButtonState())}updateStartButtonState(){if(!this.startBattleButton||!this.startBattleButton.active)return void console.warn("updateStartButtonState called but button is null or inactive.");let battlefieldCardsCount=0;const boardView=this.scene.get("BoardView");if(boardView&&boardView.scene.isActive()){boardView.getLocalPlayerLayoutData().forEach((entry=>{"battlefield"===entry.area&&battlefieldCardsCount++}))}const canStart=battlefieldCardsCount>0,myPlayerState=null==colyseusRoom?void 0:colyseusRoom.state.players.get(null==colyseusRoom?void 0:colyseusRoom.sessionId),amReady=(null==myPlayerState?void 0:myPlayerState.isReady)??!1,isPrepPhase=(null==colyseusRoom?void 0:colyseusRoom.state.currentPhase)===Phase.Preparation;canStart&&!amReady&&isPrepPhase?(this.startBattleButton.setColor("#00ff00"),this.startBattleButton.setInteractive({useHandCursor:!0}),this.startBattleButton.off("pointerdown"),this.startBattleButton.once("pointerdown",this.confirmPreparation,this),this.startBattleButton.on("pointerover",(()=>this.startBattleButton.setColor("#55ff55"))),this.startBattleButton.on("pointerout",(()=>this.startBattleButton.setColor("#00ff00")))):(this.waitingText&&!this.waitingText.visible&&this.startBattleButton.setColor("#888888"),this.startBattleButton.disableInteractive(),this.startBattleButton.off("pointerdown"),this.startBattleButton.off("pointerover"),this.startBattleButton.off("pointerout"))}confirmPreparation(){if(!colyseusRoom)return;console.log("Confirming preparation layout...");const boardView=this.scene.get("BoardView");if(!boardView||!boardView.scene.isActive())return void console.error("Preparation: BoardView not available to get layout data.");const{handLayout:handLayout,battlefieldLayout:battlefieldLayout}=boardView.getCardLayouts();console.log("Sending preparation layout to server:",{handLayout:handLayout,battlefieldLayout:battlefieldLayout}),colyseusRoom.send("setPreparation",{handLayout:handLayout,battlefieldLayout:battlefieldLayout}),this.updateWaitingStatus()}shutdown(){var _a2,_b;console.log("Preparation scene shutting down explicitly."),this.cleanupListeners(),null==(_a2=this.startBattleButton)||_a2.destroy(),null==(_b=this.waitingText)||_b.destroy(),this.clientSideCardLayout.clear(),this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class Battle extends phaserExports.Scene{constructor(){super("Battle"),__publicField(this,"handCardDisplayObjects",new Map),__publicField(this,"battleOver",!1),__publicField(this,"resultText"),__publicField(this,"statusText"),__publicField(this,"phaseListenerUnsubscribe",null)}create(){if(this.scene.launch("background"),this.battleOver=!1,!colyseusRoom||!colyseusRoom.state||!colyseusRoom.sessionId)return console.error("Battle Scene: Colyseus room not available!"),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center",backgroundColor:"#000000"}).setOrigin(.5),void this.input.once("pointerdown",(()=>{try{null==colyseusRoom||colyseusRoom.leave()}catch(e){}this.scene.start("MainMenu")}));const centerX=this.cameras.main.centerX,centerY=this.cameras.main.centerY,gameHeight=this.cameras.main.height;this.cameras.main.width,this.resultText=this.add.text(centerX,centerY,"",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5).setAlpha(0),this.statusText=this.add.text(centerX,gameHeight-50,"",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5).setAlpha(0),this.setupColyseusListeners(),this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}setupColyseusListeners(){if(!colyseusRoom||!colyseusRoom.state)return;const $=cjs.getStateCallbacks(colyseusRoom);this.phaseListenerUnsubscribe=$(colyseusRoom.state).listen("currentPhase",(currentPhase=>{if(this.scene.isActive())if(console.log(`Battle Scene: Phase changed to ${currentPhase}`),currentPhase===Phase.BattleEnd)this.handleBattleEnd();else if(currentPhase===Phase.Shop)this.scene.isActive()&&(this.scene.stop(),this.scene.start("Shop"));else if(currentPhase===Phase.GameOver)this.handleGameOver();else if(currentPhase!==Phase.Battle&&(console.warn(`Battle Scene: Unexpected phase change to ${currentPhase}. Returning to Lobby.`),this.scene.isActive())){try{null==colyseusRoom||colyseusRoom.leave()}catch(e){}this.scene.stop(),this.scene.start("Lobby")}}))}cleanupListeners(){var _a2;console.log("Battle Scene: Cleaning up listeners."),null==(_a2=this.phaseListenerUnsubscribe)||_a2.call(this),this.phaseListenerUnsubscribe=null}handleBattleEnd(){var _a2,_b;if(this.battleOver||!this.scene.isActive())return;this.battleOver=!0,console.log("Battle ended (server signal received). Displaying results.");const myPlayerState=null==colyseusRoom?void 0:colyseusRoom.state.players.get(colyseusRoom.sessionId);let opponentState;null==colyseusRoom||colyseusRoom.state.players.forEach(((p,sid)=>{sid!==(null==colyseusRoom?void 0:colyseusRoom.sessionId)&&(opponentState=p)}));let resultMessage="Battle Ended",resultColor="#ffffff";myPlayerState&&opponentState?myPlayerState.health>opponentState.health?(resultMessage="Victory!",resultColor="#88ff88"):opponentState.health>myPlayerState.health?(resultMessage="Defeat!",resultColor="#ff8888"):(resultMessage="Draw!",resultColor="#ffff88"):(resultMessage="Battle Ended (Opponent Left?)",resultColor="#ffffff"),(null==(_a2=this.resultText)?void 0:_a2.active)&&this.resultText.setText(resultMessage).setColor(resultColor).setAlpha(1),(null==(_b=this.statusText)?void 0:_b.active)&&this.statusText.setText("Waiting for next round...").setAlpha(1)}handleGameOver(){var _a2,_b;if(this.battleOver||!this.scene.isActive())return;this.battleOver=!0,console.log("Game Over signal received.");const myPlayerState=null==colyseusRoom?void 0:colyseusRoom.state.players.get(colyseusRoom.sessionId);let opponentState;null==colyseusRoom||colyseusRoom.state.players.forEach(((p,sid)=>{sid!==(null==colyseusRoom?void 0:colyseusRoom.sessionId)&&(opponentState=p)}));let finalMessage="Game Over!",finalColor="#ffffff";myPlayerState&&opponentState?myPlayerState.health>opponentState.health?(finalMessage="You Win!",finalColor="#00ff00"):opponentState.health>myPlayerState.health?(finalMessage="You Lose!",finalColor="#ff0000"):(finalMessage="Draw!",finalColor="#ffff00"):myPlayerState?(finalMessage="You Win! (Opponent Left)",finalColor="#00ff00"):(finalMessage="Game Over (Error?)",finalColor="#ff0000"),(null==(_a2=this.resultText)?void 0:_a2.active)&&this.resultText.setText(finalMessage).setColor(finalColor).setAlpha(1),(null==(_b=this.statusText)?void 0:_b.active)&&this.statusText.setText("Click to return to Main Menu").setAlpha(1),this.input.once("pointerdown",(()=>{try{null==colyseusRoom||colyseusRoom.leave()}catch(e){}this.scene.stop("Background"),this.scene.start("MainMenu")}))}shutdown(){var _a2,_b;console.log("Battle scene shutting down explicitly."),this.cleanupListeners(),this.handCardDisplayObjects.forEach((hand=>{null==hand||hand.forEach((displayObj=>null==displayObj?void 0:displayObj.destroy()))})),this.handCardDisplayObjects.clear(),null==(_a2=this.resultText)||_a2.destroy(),null==(_b=this.statusText)||_b.destroy(),this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class BoardView extends phaserExports.Scene{constructor(){super("BoardView"),__publicField(this,"playerVisuals",new Map),__publicField(this,"currentPhase",Phase.Lobby),__publicField(this,"sellZone"),__publicField(this,"sellZoneRect"),__publicField(this,"sellZoneText"),__publicField(this,"brewGainText"),__publicField(this,"playerHealthText"),__publicField(this,"opponentHealthText"),__publicField(this,"playerBrewsText"),__publicField(this,"dayPhaseText"),__publicField(this,"opponentUsernameText"),__publicField(this,"listeners",[]),__publicField(this,"cardSchemaListeners",new Map)}updateCardHpVisuals(cardContainer,currentHp,maxHealth){if(!cardContainer||!cardContainer.active)return;const hpText=cardContainer.getData("hpTextObject"),mainCardImage=cardContainer.getData("mainCardImage");if(hpText&&hpText.active){hpText.setText(`${currentHp}/${maxHealth}`);const hpPercent=maxHealth>0?currentHp/maxHealth:0;currentHp<=0?hpText.setColor("#ff0000"):hpPercent<.3?hpText.setColor("#ff8888"):hpPercent<.6?hpText.setColor("#ffff88"):hpText.setColor("#88ff88")}const isVisuallyDead=cardContainer.alpha<1;currentHp<=0?isVisuallyDead||(cardContainer.setAlpha(.6),mainCardImage&&mainCardImage.active&&"function"==typeof mainCardImage.setTint&&mainCardImage.setTint(7829367)):isVisuallyDead&&(cardContainer.setAlpha(1),mainCardImage&&mainCardImage.active&&"function"==typeof mainCardImage.clearTint?mainCardImage.clearTint():mainCardImage&&mainCardImage.active&&console.warn("BoardView: updateCardHpVisuals - clearTint method not found on mainCardImage for card.",cardContainer.getData("instanceId"),mainCardImage))}preload(){if(!this.textures.exists("cardBack")){const graphics=this.make.graphics({x:0,y:0});graphics.fillStyle(5253758),graphics.fillRect(0,0,120,168),graphics.lineStyle(2,12428501),graphics.strokeRect(0,0,120,168),graphics.generateTexture("cardBack",120,168),graphics.destroy()}}create(){console.log("BoardView creating..."),this.createNavbar(),this.createSellZone(),this.setupColyseusListeners(),this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}createNavbar(){const centerX=this.cameras.main.centerX,gameWidth=this.cameras.main.width;this.add.rectangle(centerX,30,gameWidth,50,0,.7).setDepth(1e3);const navTextStyle={fontFamily:"Arial",fontSize:16,color:"#ffffff",align:"left"};this.playerHealthText=this.add.text(.05*gameWidth,30,"You: -- HP",{...navTextStyle,color:"#00ff00"}).setOrigin(0,.5).setDepth(1001),this.playerBrewsText=this.add.text(.95*gameWidth,30,"Brews: --",{...navTextStyle,color:"#ffff00",align:"right"}).setOrigin(1,.5).setDepth(1001),this.opponentUsernameText=this.add.text(.25*gameWidth,20,"Opponent: --",{...navTextStyle,fontSize:14}).setOrigin(0,.5).setDepth(1001),this.opponentHealthText=this.add.text(.25*gameWidth,40,"-- HP",{...navTextStyle,color:"#ff0000"}).setOrigin(0,.5).setDepth(1001),this.dayPhaseText=this.add.text(centerX,30,"Day -- - Phase --",{...navTextStyle,fontSize:20,align:"center"}).setOrigin(.5).setDepth(1001)}showAttackAnimation(cardInstanceId){const cardContainer=this.getCardGameObjectByInstanceId(cardInstanceId);if(cardContainer&&cardContainer.active){const originalScaleX=cardContainer.scaleX,originalScaleY=cardContainer.scaleY;this.tweens.add({targets:cardContainer,scaleX:1.15*originalScaleX,scaleY:1.15*originalScaleY,duration:100,yoyo:!0,ease:"Sine.easeInOut"})}}showDamageNumber(targetInstanceId,damage){const targetContainer=this.getCardGameObjectByInstanceId(targetInstanceId);if(targetContainer&&targetContainer.active&&damage>0){const damageText=this.add.text(targetContainer.x+Phaser.Math.Between(-10,10),targetContainer.y-84-10,`-${damage}`,{fontFamily:"Arial Black",fontSize:24,color:"#ff0000",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setDepth(targetContainer.depth+1);this.tweens.add({targets:damageText,y:damageText.y-50,alpha:0,duration:1e3,ease:"Power1",onComplete:()=>{damageText.destroy()}})}}drawAttackLine(attackerInstanceId,targetInstanceId){const attackerContainer=this.getCardGameObjectByInstanceId(attackerInstanceId),targetContainer=this.getCardGameObjectByInstanceId(targetInstanceId);if(attackerContainer&&attackerContainer.active&&targetContainer&&targetContainer.active){const line=this.add.line(0,0,attackerContainer.x,attackerContainer.y,targetContainer.x,targetContainer.y,16724787,.7).setOrigin(0,0).setLineWidth(2).setDepth(attackerContainer.depth);this.time.delayedCall(250,(()=>{line.destroy()}))}}setupColyseusListeners(){if(!colyseusRoom||!colyseusRoom.state)return console.error("BoardView: Colyseus room or state not available!"),void this.time.delayedCall(100,this.setupColyseusListeners,[],this);const $=cjs.getStateCallbacks(colyseusRoom);this.listeners.push($(colyseusRoom.state).listen("currentDay",(()=>this.updateNavbarText()))),this.listeners.push($(colyseusRoom.state).listen("currentPhase",((newPhase,oldPhase)=>{this.currentPhase=newPhase,this.updateNavbarText(),newPhase===Phase.Shop||newPhase===Phase.Preparation?this.sellZone.setVisible(!0):this.sellZone.setVisible(!1);this.playerVisuals.forEach(((playerData,playerId)=>{playerData.battlefield.forEach(((cardContainer,slotKey)=>{var _a2;((cardContainer,cardSchema,ownerSessionId,slotKey)=>{if(!cardContainer.active)return;const cooldownBarBg=cardContainer.getData("cooldownBarBg"),cooldownBarFill=cardContainer.getData("cooldownBarFill");if(newPhase===Phase.Battle){if("battlefield"===cardContainer.getData("area"))if(cardSchema)if(cooldownBarBg&&cooldownBarFill){cooldownBarBg.setVisible(!0),cooldownBarFill.setVisible(!0);const storedWidth=cardContainer.getData("cooldownBarBaseWidth"),cooldownBarBaseWidth="number"==typeof storedWidth?storedWidth:90;cooldownBarFill.setSize(cooldownBarBaseWidth,6);const maxCooldown=1e3*(cardSchema.speed>0?cardSchema.speed:1.5);cardContainer.setData("maxAttackCooldown",maxCooldown),cardContainer.setData("attackCooldownTimer",maxCooldown)}else console.warn(`BoardView: Battle Phase - Card ${cardSchema.instanceId} (Owner: ${ownerSessionId}, Slot: ${slotKey}) missing cooldown bar elements in data. Bg: ${!!cooldownBarBg}, Fill: ${!!cooldownBarFill}`);else console.warn(`BoardView: Battle Phase - Battlefield card container (Owner: ${ownerSessionId}, Slot: ${slotKey}) has no cardSchema. No cooldown bar shown.`)}else cooldownBarBg&&cooldownBarBg.setVisible(!1),cooldownBarFill&&cooldownBarFill.setVisible(!1);if((oldPhase===Phase.Battle||oldPhase===Phase.BattleEnd)&&newPhase!==Phase.Battle&&newPhase!==Phase.BattleEnd&&cardSchema&&cardSchema.currentHp>0){cardContainer.setAlpha(1);const mainCardImage=cardContainer.getData("mainCardImage");mainCardImage&&mainCardImage.active&&"function"==typeof mainCardImage.clearTint&&mainCardImage.clearTint()}})(cardContainer,null==(_a2=null==colyseusRoom?void 0:colyseusRoom.state.players.get(playerId))?void 0:_a2.battlefield.get(slotKey),playerId,slotKey)})),playerData.hand.forEach(((cardContainer,slotKey)=>{var _a2;const cardSchema=null==(_a2=null==colyseusRoom?void 0:colyseusRoom.state.players.get(playerId))?void 0:_a2.hand.get(slotKey);if((oldPhase===Phase.Battle||oldPhase===Phase.BattleEnd)&&newPhase!==Phase.Battle&&newPhase!==Phase.BattleEnd&&cardSchema&&cardSchema.currentHp>0){cardContainer.setAlpha(1);const mainCardImage=cardContainer.getData("mainCardImage");mainCardImage&&mainCardImage.active&&"function"==typeof mainCardImage.clearTint&&mainCardImage.clearTint()}}))}))}))),this.listeners.push($(colyseusRoom.state.players).onAdd(((player,sessionId)=>{console.log(`BoardView: Player added ${sessionId}`),this.addPlayerVisuals(sessionId),this.addPlayerListeners(player,sessionId),this.updatePlayerSlots(player,sessionId),this.updateNavbarText()}))),this.listeners.push($(colyseusRoom.state.players).onRemove(((player,sessionId)=>{console.log(`BoardView: Player removed ${sessionId}`),this.removePlayerVisuals(sessionId),this.updateNavbarText()}))),this.listeners.push(colyseusRoom.onMessage("battleAttackEvent",(message=>{if(this.currentPhase!==Phase.Battle||!this.scene.isActive())return;console.log("BoardView: Received battleAttackEvent",message);const attackerCard=this.getCardGameObjectByInstanceId(message.attackerInstanceId),targetCard=this.getCardGameObjectByInstanceId(message.targetInstanceId);if(attackerCard&&attackerCard.active&&targetCard&&targetCard.active){this.drawAttackLine(message.attackerInstanceId,message.targetInstanceId),this.showAttackAnimation(message.attackerInstanceId),this.showDamageNumber(message.targetInstanceId,message.damageDealt);const attackerMaxCooldown=attackerCard.getData("maxAttackCooldown");if(attackerMaxCooldown>0){attackerCard.setData("attackCooldownTimer",attackerMaxCooldown);const fillBar=attackerCard.getData("cooldownBarFill"),attackerCooldownBarBaseWidth=attackerCard.getData("cooldownBarBaseWidth")||90;fillBar&&fillBar.setSize(attackerCooldownBarBaseWidth,6)}const targetCardOwnerId=targetCard.getData("ownerSessionId"),targetCardSlotKey=targetCard.getData("slotKey"),targetCardArea=targetCard.getData("area");if(targetCardOwnerId===message.targetPlayerId&&"battlefield"===targetCardArea&&targetCardSlotKey){const targetPlayer=colyseusRoom.state.players.get(message.targetPlayerId),cardSchema=null==targetPlayer?void 0:targetPlayer.battlefield.get(targetCardSlotKey);if(cardSchema&&cardSchema.instanceId===message.targetInstanceId){const newVisualHp=Math.max(0,cardSchema.currentHp-message.damageDealt);this.updateCardHpVisuals(targetCard,newVisualHp,cardSchema.health)}else console.warn(`BoardView: battleAttackEvent - Target card schema not found or instanceId mismatch for player ${message.targetPlayerId}, slot ${targetCardSlotKey}, instance ${message.targetInstanceId}.`)}else console.warn(`BoardView: battleAttackEvent - Target card container data inconsistent or not on battlefield. Owner: ${targetCardOwnerId}, Area: ${targetCardArea}, Slot: ${targetCardSlotKey}`)}else console.warn("BoardView: Attacker or target not found/active for battleAttackEvent",message)}))),colyseusRoom.state.players.forEach(((player,sessionId)=>{this.addPlayerVisuals(sessionId),this.addPlayerListeners(player,sessionId),this.updatePlayerSlots(player,sessionId)})),this.updateNavbarText()}update(time,delta){this.scene.isActive()&&this.currentPhase===Phase.Battle&&colyseusRoom&&colyseusRoom.state&&this.playerVisuals.forEach((playerData=>{playerData.battlefield.forEach((cardContainer=>{if(!cardContainer.active)return;const maxCooldown=cardContainer.getData("maxAttackCooldown");let currentTimer=cardContainer.getData("attackCooldownTimer");const cooldownBarBaseWidth=cardContainer.getData("cooldownBarBaseWidth")||90;if(maxCooldown>0){currentTimer-=delta,currentTimer<0&&(currentTimer=0),cardContainer.setData("attackCooldownTimer",currentTimer);const cooldownBarFill=cardContainer.getData("cooldownBarFill");if(cooldownBarFill&&cooldownBarFill.visible){const progress=currentTimer/maxCooldown;cooldownBarFill.setSize(cooldownBarBaseWidth*Math.max(0,progress),6)}}}))}))}addPlayerListeners(player,sessionId){const $=cjs.getStateCallbacks(colyseusRoom),playerListeners=[];playerListeners.push($(player).listen("health",(()=>this.updateNavbarText()))),playerListeners.push($(player).listen("brews",(()=>this.updateNavbarText()))),playerListeners.push($(player).listen("username",(()=>this.updateNavbarText()))),playerListeners.push($(player.hand).onAdd(((cardSchema,slotKey)=>{this.updateCardVisual(sessionId,"hand",slotKey,cardSchema),this.addCardSchemaListeners(cardSchema)}))),playerListeners.push($(player.hand).onRemove(((cardSchema,slotKey)=>{this.removeCardVisual(sessionId,"hand",slotKey)}))),player.hand.forEach(((cardSchema,slotKey)=>{this.addCardSchemaListeners(cardSchema)})),playerListeners.push($(player.battlefield).onAdd(((cardSchema,slotKey)=>{this.updateCardVisual(sessionId,"battlefield",slotKey,cardSchema),this.addCardSchemaListeners(cardSchema)}))),playerListeners.push($(player.battlefield).onRemove(((cardSchema,slotKey)=>{this.removeCardVisual(sessionId,"battlefield",slotKey)}))),player.battlefield.forEach(((cardSchema,slotKey)=>{this.addCardSchemaListeners(cardSchema)})),this.listeners.push(...playerListeners)}addCardSchemaListeners(cardSchema){if(!cardSchema||!cardSchema.instanceId)return;const $=cjs.getStateCallbacks(colyseusRoom),existingUnsubs=this.cardSchemaListeners.get(cardSchema.instanceId);existingUnsubs&&(existingUnsubs.forEach((unsub=>unsub())),this.cardSchemaListeners.delete(cardSchema.instanceId));const newUnsubs=[],hpUnsub=$(cardSchema).listen("currentHp",((newHp,oldHp)=>{const cardContainer=this.getCardGameObjectByInstanceId(cardSchema.instanceId);cardContainer&&this.updateCardHpVisuals(cardContainer,newHp,cardSchema.health)}));newUnsubs.push(hpUnsub),newUnsubs.length>0&&this.cardSchemaListeners.set(cardSchema.instanceId,newUnsubs)}updatePlayerSlots(player,sessionId){player.hand.forEach(((card,slotKey)=>this.updateCardVisual(sessionId,"hand",slotKey,card))),player.battlefield.forEach(((card,slotKey)=>this.updateCardVisual(sessionId,"battlefield",slotKey,card)))}addPlayerVisuals(sessionId){if(!this.playerVisuals.has(sessionId)){const handSlotOutlines=[],battlefieldSlotOutlines=[],isLocalPlayer=sessionId===(null==colyseusRoom?void 0:colyseusRoom.sessionId);for(let i=0;i<5;i++){const handX=this.calculateSlotX(i,"hand"),handY=isLocalPlayer?580:100,handOutline=this.add.rectangle(handX,handY,120,168).setStrokeStyle(2,isLocalPlayer?11184810:7829367,.8).setDepth(0);handSlotOutlines.push(handOutline);const bfX=this.calculateSlotX(i,"battlefield"),bfY=isLocalPlayer?420:260,bfOutline=this.add.rectangle(bfX,bfY,100,140).setStrokeStyle(2,isLocalPlayer?16777215:11184810,1).setDepth(0);battlefieldSlotOutlines.push(bfOutline)}this.playerVisuals.set(sessionId,{hand:new Map,battlefield:new Map,handSlotOutlines:handSlotOutlines,battlefieldSlotOutlines:battlefieldSlotOutlines})}}removePlayerVisuals(sessionId){const visuals=this.playerVisuals.get(sessionId);visuals&&(visuals.hand.forEach((container=>container.destroy())),visuals.battlefield.forEach((container=>container.destroy())),visuals.handSlotOutlines.forEach((outline=>outline.destroy())),visuals.battlefieldSlotOutlines.forEach((outline=>outline.destroy()))),this.playerVisuals.delete(sessionId)}updateCardVisual(sessionId,area,slotKey,cardSchema){if(!this.scene.isActive())return;if(!colyseusRoom||!colyseusRoom.state)return;this.removeCardVisual(sessionId,area,slotKey);const playerVisuals=this.playerVisuals.get(sessionId);if(!playerVisuals)return;const isLocalPlayer=sessionId===(null==colyseusRoom?void 0:colyseusRoom.sessionId),x=this.calculateSlotX(parseInt(slotKey,10),area);let y,isObscured=!1;"hand"===area?(y=isLocalPlayer?580:100,isLocalPlayer||(isObscured=!0)):y=isLocalPlayer?420:260;const cardContainer=this.createCardGameObject(cardSchema,x,y,isObscured,isLocalPlayer,area);if(cardContainer.setData("instanceId",cardSchema.instanceId),cardContainer.setData("slotKey",slotKey),cardContainer.setData("area",area),cardContainer.setData("ownerSessionId",sessionId),cardContainer.setDepth(1),cardSchema.currentHp<=0){cardContainer.setAlpha(.6);const img=cardContainer.getData("mainCardImage");img&&img.active&&"function"==typeof img.setTint&&img.setTint(7829367);const hpText=cardContainer.getData("hpTextObject");hpText&&hpText.active&&hpText.setColor("#ff0000")}"hand"===area?playerVisuals.hand.set(slotKey,cardContainer):playerVisuals.battlefield.set(slotKey,cardContainer),this.addCardSchemaListeners(cardSchema),isLocalPlayer&&this.makeCardInteractive(cardContainer)}removeCardVisual(sessionId,area,slotKey){const playerVisuals=this.playerVisuals.get(sessionId);if(playerVisuals){const mapArea="hand"===area?playerVisuals.hand:playerVisuals.battlefield,existingVisual=mapArea.get(slotKey);if(existingVisual){const instanceId=existingVisual.getData("instanceId");if(instanceId){const listenersToRemove=this.cardSchemaListeners.get(instanceId);listenersToRemove&&(console.log(`BoardView: Cleaning up ${listenersToRemove.length} listeners for card instance ${instanceId} during removeCardVisual.`),listenersToRemove.forEach((unsub=>{if("function"==typeof unsub)try{unsub()}catch(e){console.warn(`BoardView: Error unsubscribing card listener for ${instanceId}`,e)}})),this.cardSchemaListeners.delete(instanceId))}existingVisual.input&&existingVisual.input.enabled&&this.input.disable(existingVisual),this.time.delayedCall(1,(()=>{existingVisual.active&&existingVisual.destroy()})),mapArea.delete(slotKey)}}}calculateSlotX(slotIndex,area){const currentCardWidth="hand"===area?120:100,totalWidthAllSlots=5*currentCardWidth+60;return(this.cameras.main.width-totalWidthAllSlots)/2+currentCardWidth/2+slotIndex*(currentCardWidth+15)}createCardGameObject(cardSchema,x,y,isObscured,isLocalPlayer,area){const container=this.add.container(x,y),displayCardWidth="hand"===area?120:100,displayCardHeight="hand"===area?168:140;if(container.setData("displayCardWidth",displayCardWidth),container.setData("displayCardHeight",displayCardHeight),isObscured){const cardBack=this.add.image(0,0,"cardBack").setOrigin(.5).setDisplaySize(120,168);return container.add(cardBack),container}const cardTextureKey="hand"===area?"cardFullTier1":"cardMinionTier1",cardImage=this.add.image(0,0,cardTextureKey).setOrigin(.5);if(cardImage.setDisplaySize(displayCardWidth,displayCardHeight),container.add(cardImage),container.setData("mainCardImage",cardImage),"hand"===area){const nameText=this.add.text(0,-20,cardSchema.name,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:displayCardWidth-20}}).setOrigin(.5,.5);container.add(nameText);const attackText=this.add.text(-18,4.2,`${cardSchema.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(0,.5);container.add(attackText);const hpText=this.add.text(32,6,`${cardSchema.currentHp}  ${cardSchema.health}`,{fontFamily:"Arial",fontSize:16,color:"#00ff00",stroke:"#000000",strokeThickness:4}).setOrigin(1,.5);container.add(hpText),container.setData("hpTextObject",hpText);const speedText=this.add.text(0,displayCardHeight/2-50,`${cardSchema.speed}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5,1);container.add(speedText)}else{const nameText=this.add.text(0,-displayCardHeight/2+5,cardSchema.name,{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:displayCardWidth}}).setOrigin(.5,0);container.add(nameText);const attackText=this.add.text(-displayCardWidth/2+32,32,`${cardSchema.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(0,.5);container.add(attackText);const speedText=this.add.text(0,43,`${cardSchema.speed}`,{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(1,0);container.add(speedText);const hpText=this.add.text(displayCardWidth/2-10,displayCardHeight/2-30,`${cardSchema.currentHp}/${cardSchema.health}`,{fontFamily:"Arial",fontSize:14,color:"#00ff00",stroke:"#000000",strokeThickness:3}).setOrigin(1,1);container.add(hpText),container.setData("hpTextObject",hpText);const cooldownBarY=displayCardHeight/2-15,cooldownBarWidth=displayCardWidth-10,cooldownBarBg=this.add.rectangle(0,cooldownBarY,cooldownBarWidth,6,0,.5).setVisible(!1),cooldownBarFill=this.add.rectangle(-cooldownBarWidth/2,cooldownBarY,cooldownBarWidth,6,4521796).setOrigin(0,.5).setVisible(!1);container.add(cooldownBarBg),container.add(cooldownBarFill),container.setData("cooldownBarBg",cooldownBarBg),container.setData("cooldownBarFill",cooldownBarFill),container.setData("attackCooldownTimer",0),container.setData("maxAttackCooldown",0),container.setData("cooldownBarBaseWidth",cooldownBarWidth)}return container}getCardGameObjectByInstanceId(instanceId){for(const[_sessionId,playerData]of this.playerVisuals){for(const[_slotKey,cardObject]of playerData.hand)if(cardObject.getData("instanceId")===instanceId)return cardObject;for(const[_slotKey,cardObject]of playerData.battlefield)if(cardObject.getData("instanceId")===instanceId)return cardObject}}getSlotPixelPosition(isLocalPlayer,area,slotIndex){if(slotIndex<0||slotIndex>4)return;let y;return y="hand"===area?isLocalPlayer?580:100:isLocalPlayer?420:260,{x:this.calculateSlotX(slotIndex,area),y:y}}makeCardInteractive(cardContainer){const cardWidth=cardContainer.getData("displayCardWidth"),cardHeight=cardContainer.getData("displayCardHeight");if(!cardWidth||!cardHeight)return void console.warn("BoardView: makeCardInteractive - displayCardWidth/Height not found on container.",cardContainer.getData("instanceId"));const hitAreaRectangle=new Phaser.Geom.Rectangle(-cardWidth/2,-cardHeight/2,cardWidth,cardHeight);cardContainer.setInteractive({hitArea:hitAreaRectangle,hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}),this.input.setDraggable(cardContainer),cardContainer.input&&(cardContainer.input.enabled=!0),cardContainer.on("dragstart",(pointer=>{this.currentPhase!==Phase.Shop&&this.currentPhase!==Phase.Preparation||cardContainer.input&&cardContainer.input.enabled&&(this.children.bringToTop(cardContainer),cardContainer.setAlpha(.7),cardContainer.setData("isDragging",!0),cardContainer.setData("originalX",cardContainer.x),cardContainer.setData("originalY",cardContainer.y),cardContainer.setData("originalAreaOnDragStart",cardContainer.getData("area")),cardContainer.setData("originalSlotKeyOnDragStart",cardContainer.getData("slotKey")))})),cardContainer.on("drag",((pointer,dragX,dragY)=>{if(cardContainer.getData("isDragging"))if(cardContainer.x=dragX,cardContainer.y=dragY,this.currentPhase!==Phase.Shop&&this.currentPhase!==Phase.Preparation||!this.sellZone.visible)this.brewGainText.setAlpha(0);else if(this.isDroppedOnSellZone(cardContainer)){const instanceId=cardContainer.getData("instanceId"),originalArea=cardContainer.getData("originalAreaOnDragStart"),originalSlotKey=cardContainer.getData("originalSlotKeyOnDragStart"),ownerId=cardContainer.getData("ownerSessionId"),player=null==colyseusRoom?void 0:colyseusRoom.state.players.get(ownerId);let cardSchema;if(player&&(cardSchema="hand"===originalArea?player.hand.get(originalSlotKey):player.battlefield.get(originalSlotKey)),cardSchema&&cardSchema.instanceId===instanceId){const sellValue=Math.max(1,Math.floor(cardSchema.brewCost/2));this.brewGainText.setText(`Sell: +${sellValue} 🍺`),this.brewGainText.setAlpha(1)}else this.brewGainText.setAlpha(0)}else this.brewGainText.setAlpha(0)})),cardContainer.on("dragend",(pointer=>{if(!cardContainer.getData("isDragging"))return;cardContainer.setAlpha(1),cardContainer.setData("isDragging",!1),this.brewGainText.setAlpha(0);const instanceId=cardContainer.getData("instanceId"),originalArea=cardContainer.getData("originalAreaOnDragStart"),originalSlotKey=cardContainer.getData("originalSlotKeyOnDragStart"),ownerSessionId=cardContainer.getData("ownerSessionId");if((this.currentPhase===Phase.Shop||this.currentPhase===Phase.Preparation)&&this.sellZone.visible&&this.isDroppedOnSellZone(cardContainer)){const myPlayer=null==colyseusRoom?void 0:colyseusRoom.state.players.get(null==colyseusRoom?void 0:colyseusRoom.sessionId);let cardSchema;if("hand"===originalArea&&(null==myPlayer?void 0:myPlayer.hand.has(originalSlotKey))?cardSchema=myPlayer.hand.get(originalSlotKey):"battlefield"===originalArea&&(null==myPlayer?void 0:myPlayer.battlefield.has(originalSlotKey))&&(cardSchema=myPlayer.battlefield.get(originalSlotKey)),cardSchema&&cardSchema.instanceId===instanceId){const sellValue=Math.max(1,Math.floor(cardSchema.brewCost/2));return null==colyseusRoom||colyseusRoom.send("sellCard",{instanceId:instanceId,area:originalArea,slotKey:originalSlotKey}),void this.showBrewGain(sellValue)}}let newAreaForServer,newSlotKeyForServer,dropped=!1;for(let i=0;i<5;i++){const targetSlotKey=String(i),slotPos=this.getSlotPixelPosition(!0,"hand",i);if(slotPos){const dropZone=new Phaser.Geom.Rectangle(slotPos.x-60,slotPos.y-84,120,168);if(Phaser.Geom.Rectangle.Contains(dropZone,cardContainer.x,cardContainer.y)){if(this.isSlotEmpty(ownerSessionId,"hand",targetSlotKey,instanceId)){let canDropInHandSlot=!1;if(this.currentPhase===Phase.Shop?"hand"===originalArea&&(canDropInHandSlot=!0):this.currentPhase===Phase.Preparation&&"hand"===originalArea&&(canDropInHandSlot=!0),canDropInHandSlot){cardContainer.x=slotPos.x,cardContainer.y=slotPos.y;const areaChanged="hand"!==originalArea;if(cardContainer.setData("area","hand"),cardContainer.setData("slotKey",targetSlotKey),this.updateVisualMaps(ownerSessionId,originalArea,originalSlotKey,"hand",targetSlotKey,cardContainer),areaChanged){const myPlayer=null==colyseusRoom?void 0:colyseusRoom.state.players.get(ownerSessionId);let cardSchema;myPlayer&&(cardSchema=myPlayer.hand.get(targetSlotKey),cardSchema||(cardSchema="battlefield"===originalArea?myPlayer.battlefield.get(originalSlotKey):myPlayer.hand.get(originalSlotKey))),cardSchema&&cardSchema.instanceId===instanceId&&this.updateCardVisual(ownerSessionId,"hand",targetSlotKey,cardSchema)}dropped=!0,newAreaForServer="hand",newSlotKeyForServer=targetSlotKey,this.currentPhase!==Phase.Shop||"hand"===originalArea&&originalSlotKey===targetSlotKey||null==colyseusRoom||colyseusRoom.send("moveCardInHand",{instanceId:instanceId,fromSlotKey:originalSlotKey,toSlotKey:targetSlotKey})}}if(dropped)break}}}if(!dropped&&this.currentPhase===Phase.Preparation)for(let i=0;i<5;i++){const targetSlotKey=String(i),slotPos=this.getSlotPixelPosition(!0,"battlefield",i);if(slotPos){const dropZone=new Phaser.Geom.Rectangle(slotPos.x-60,slotPos.y-84,120,168);if(Phaser.Geom.Rectangle.Contains(dropZone,cardContainer.x,cardContainer.y)){if(this.isSlotEmpty(ownerSessionId,"battlefield",targetSlotKey,instanceId)){cardContainer.x=slotPos.x,cardContainer.y=slotPos.y;const areaChanged="battlefield"!==originalArea;if(cardContainer.setData("area","battlefield"),cardContainer.setData("slotKey",targetSlotKey),this.updateVisualMaps(ownerSessionId,originalArea,originalSlotKey,"battlefield",targetSlotKey,cardContainer),areaChanged){const myPlayer=null==colyseusRoom?void 0:colyseusRoom.state.players.get(ownerSessionId),cardSchema=(null==myPlayer?void 0:myPlayer.battlefield.get(targetSlotKey))||(null==myPlayer?void 0:myPlayer.hand.get(originalSlotKey));cardSchema&&cardSchema.instanceId===instanceId&&this.updateCardVisual(ownerSessionId,"battlefield",targetSlotKey,cardSchema)}dropped=!0,newAreaForServer="battlefield",newSlotKeyForServer=targetSlotKey}break}}}if(dropped?this.currentPhase===Phase.Preparation&&newAreaForServer&&newSlotKeyForServer&&(originalArea===newAreaForServer&&originalSlotKey===newSlotKeyForServer||null==colyseusRoom||colyseusRoom.send("updatePrepLayout",{instanceId:instanceId,newArea:newAreaForServer,newSlotKey:newSlotKeyForServer})):(cardContainer.x=cardContainer.getData("originalX"),cardContainer.y=cardContainer.getData("originalY"),cardContainer.setData("area",originalArea),cardContainer.setData("slotKey",originalSlotKey)),this.currentPhase===Phase.Preparation){const prepScene=this.scene.get("Preparation");prepScene&&prepScene.scene.isActive()&&prepScene.updateStartButtonState&&prepScene.updateStartButtonState()}}))}getCardLayouts(){const handLayout={},battlefieldLayout={};if(!colyseusRoom||!colyseusRoom.sessionId){for(let i=0;i<5;i++)handLayout[String(i)]=null,battlefieldLayout[String(i)]=null;return{handLayout:handLayout,battlefieldLayout:battlefieldLayout}}const localPlayerId=colyseusRoom.sessionId,playerVisuals=this.playerVisuals.get(localPlayerId);for(let i=0;i<5;i++){const slotKey=String(i);if(playerVisuals&&playerVisuals.hand.has(slotKey)){const cardContainer=playerVisuals.hand.get(slotKey);handLayout[slotKey]=(null==cardContainer?void 0:cardContainer.getData("instanceId"))||null}else handLayout[slotKey]=null;if(playerVisuals&&playerVisuals.battlefield.has(slotKey)){const cardContainer=playerVisuals.battlefield.get(slotKey);battlefieldLayout[slotKey]=(null==cardContainer?void 0:cardContainer.getData("instanceId"))||null}else battlefieldLayout[slotKey]=null}return{handLayout:handLayout,battlefieldLayout:battlefieldLayout}}isSlotEmpty(sessionId,area,slotKey,draggedInstanceId){const playerVisuals=this.playerVisuals.get(sessionId);if(!playerVisuals)return!1;const occupantCard=("hand"===area?playerVisuals.hand:playerVisuals.battlefield).get(slotKey);return!occupantCard||occupantCard.getData("instanceId")===draggedInstanceId}isDroppedOnSellZone(cardContainer){if(!this.sellZone.visible)return!1;return new Phaser.Geom.Rectangle(this.sellZone.x-this.sellZoneRect.width/2-20,this.sellZone.y-this.sellZoneRect.height/2-20,this.sellZoneRect.width+40,this.sellZoneRect.height+40).contains(cardContainer.x,cardContainer.y)}showBrewGain(amount){this.brewGainText.setText(`+${amount} 🍺`),this.brewGainText.setAlpha(1),this.brewGainText.y=-50,this.brewGainText.x=0,this.tweens.add({targets:this.brewGainText,scaleX:1.5,scaleY:1.5,duration:100,yoyo:!0,ease:"Cubic.easeOut",onComplete:()=>{this.tweens.add({targets:this.brewGainText,y:this.brewGainText.y-80,alpha:0,duration:1500,ease:"Power2"})}}),this.tweens.add({targets:this.sellZoneRect,fillAlpha:.7,duration:200,yoyo:!0,repeat:1,ease:"Cubic.easeOut"})}updateVisualMaps(sessionId,originalArea,originalSlotKey,newArea,newSlotKey,cardContainer){const playerVisuals=this.playerVisuals.get(sessionId);if(!playerVisuals)return;const originalMap="hand"===originalArea?playerVisuals.hand:playerVisuals.battlefield;originalMap.get(originalSlotKey)===cardContainer&&originalMap.delete(originalSlotKey);("hand"===newArea?playerVisuals.hand:playerVisuals.battlefield).set(newSlotKey,cardContainer)}getPlayerCardGameObjects(sessionId){const cardObjects=[],visuals=this.playerVisuals.get(sessionId);return visuals&&(visuals.hand.forEach((cardContainer=>cardObjects.push(cardContainer))),visuals.battlefield.forEach((cardContainer=>cardObjects.push(cardContainer)))),cardObjects}getLocalPlayerLayoutData(){const layoutData=[];if(!colyseusRoom||!colyseusRoom.sessionId)return layoutData;const localPlayerId=colyseusRoom.sessionId,playerVisuals=this.playerVisuals.get(localPlayerId);return playerVisuals&&(playerVisuals.hand.forEach(((cardContainer,slotKey)=>{layoutData.push({instanceId:cardContainer.getData("instanceId"),area:"hand",slotKey:cardContainer.getData("slotKey")})})),playerVisuals.battlefield.forEach(((cardContainer,slotKey)=>{layoutData.push({instanceId:cardContainer.getData("instanceId"),area:"battlefield",slotKey:cardContainer.getData("slotKey")})}))),layoutData}createSellZone(){this.sellZone=this.add.container(this.cameras.main.width-80,this.cameras.main.height/2),this.sellZone.setDepth(1e3),this.sellZoneRect=this.add.rectangle(0,0,120,160,16711680,.3),this.sellZoneRect.setStrokeStyle(2,16711680,1),this.sellZone.add(this.sellZoneRect),this.sellZoneText=this.add.text(0,0,"SELL",{fontFamily:"Arial Black",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5),this.sellZone.add(this.sellZoneText),this.brewGainText=this.add.text(0,-50,"",{fontFamily:"Arial Black",fontSize:20,color:"#ffff00",stroke:"#000000",strokeThickness:3,align:"center"}).setOrigin(.5).setAlpha(0),this.sellZone.add(this.brewGainText);const helperText=this.add.text(0,50,"Drag cards here\nto sell",{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}).setOrigin(.5);this.sellZone.add(helperText),this.input.on("dragenter",((pointer,gameObject,dropZone)=>{gameObject instanceof Phaser.GameObjects.Container&&this.sellZone.visible&&this.isDroppedOnSellZone(gameObject)&&(this.sellZoneRect.setFillStyle(16711680,.5),this.sellZoneRect.setStrokeStyle(3,16733525,1))})),this.input.on("dragleave",((pointer,gameObject,dropZone)=>{this.sellZoneRect.setFillStyle(16711680,.3),this.sellZoneRect.setStrokeStyle(2,16711680,1)})),this.input.on("drop",(()=>{this.sellZoneRect.setFillStyle(16711680,.3),this.sellZoneRect.setStrokeStyle(2,16711680,1)})),this.sellZone.setVisible(!1)}updateNavbarText(){if(!(colyseusRoom&&colyseusRoom.state&&this.playerHealthText&&this.playerHealthText.active))return;const myPlayerId=colyseusRoom.sessionId,myPlayerState=colyseusRoom.state.players.get(myPlayerId);let opponentState,opponentName="Opponent: --";colyseusRoom.state.players.forEach(((player,sessionId)=>{sessionId!==myPlayerId&&(opponentState=player,opponentName=`Opponent: ${player.username||"Connecting..."}`)})),this.playerHealthText.setText(`You: ${(null==myPlayerState?void 0:myPlayerState.health)??"--"} HP`),this.playerBrewsText.setText(`Brews: ${(null==myPlayerState?void 0:myPlayerState.brews)??"--"}`),this.opponentUsernameText.setText(opponentName),this.opponentHealthText.setText(`${(null==opponentState?void 0:opponentState.health)??"--"} HP`);const day=colyseusRoom.state.currentDay,phase=colyseusRoom.state.currentPhase;this.dayPhaseText.setText(`Day ${day} - ${phase}`)}cleanupListeners(){var _a2,_b,_c,_d,_e,_f,_g;console.log("BoardView: Cleaning up listeners."),this.listeners.forEach((unsub=>{if("function"==typeof unsub)try{unsub()}catch(e){console.warn("BoardView: Error cleaning up listener:",e)}})),this.listeners=[],this.cardSchemaListeners.forEach(((unsubs,instanceId)=>{console.log(`BoardView cleanup: Cleaning up ${unsubs.length} listeners for card instance ${instanceId}`),unsubs.forEach((unsub=>{if("function"==typeof unsub)try{unsub()}catch(e){console.warn(`BoardView: Error unsubscribing card listener for ${instanceId}`,e)}}))})),this.cardSchemaListeners.clear(),this.playerVisuals.forEach((areas=>{areas.hand.forEach((container=>container.destroy())),areas.battlefield.forEach((container=>container.destroy()))})),this.playerVisuals.clear(),null==(_a2=this.playerHealthText)||_a2.destroy(),null==(_b=this.opponentHealthText)||_b.destroy(),null==(_c=this.playerBrewsText)||_c.destroy(),null==(_d=this.dayPhaseText)||_d.destroy(),null==(_e=this.opponentUsernameText)||_e.destroy(),null==(_f=this.sellZone)||_f.destroy(),null==(_g=this.brewGainText)||_g.destroy(),this.input.off("dragenter"),this.input.off("dragleave"),this.input.off("drop")}shutdown(){console.log("BoardView shutting down..."),this.cleanupListeners(),this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}(async()=>{await(async()=>{if(isEmbedded){const discordClientID=clientId;console.log("Discord SDK: Using embedded client ID:",discordClientID),discordSdk=new DiscordSDK(discordClientID),await discordSdk.ready()}else{discordSdk=new DiscordSDKMock(clientId,mockGuildId,mockChannelId);const discriminator=String(mockUserId.charCodeAt(0)%5),mockAuthData={access_token:"mock_token",user:{username:mockUserId,discriminator:discriminator,id:mockUserId,avatar:null,public_flags:1},scopes:[],expires:new Date(2112,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}};discordSdk._updateCommandMocks({authenticate:async()=>(auth=mockAuthData,console.log("Mock Authentication successful:",auth),await connectColyseus(auth.access_token,auth.user.username),mockAuthData),authorize:async()=>(console.log("Mock Authorize called"),{code:"mock_code"})})}})(),new ScaleFlow({type:Phaser.AUTO,parent:"gameParent",width:1280,height:720,backgroundColor:"#000000",roundPixels:!1,pixelArt:!1,scene:[Boot,Preloader,MainMenu,Lobby,Shop,Preparation,Battle,BoardView,Game,Background]})})();

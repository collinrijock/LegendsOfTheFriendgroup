var t=Object.defineProperty;var __defNormalProp=(e,i,r)=>i in e?t(e,i,{enumerable:true,configurable:true,writable:true,value:r}):e[i]=r;var __publicField=(t,e,i)=>__defNormalProp(t,typeof e!=="symbol"?e+"":e,i);(function polyfill(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload")){return}for(const e of document.querySelectorAll('link[rel="modulepreload"]')){processPreload(e)}new MutationObserver((t=>{for(const e of t){if(e.type!=="childList"){continue}for(const t of e.addedNodes){if(t.tagName==="LINK"&&t.rel==="modulepreload")processPreload(t)}}})).observe(document,{childList:true,subtree:true});function getFetchOpts(t){const e={};if(t.integrity)e.integrity=t.integrity;if(t.referrerPolicy)e.referrerPolicy=t.referrerPolicy;if(t.crossOrigin==="use-credentials")e.credentials="include";else if(t.crossOrigin==="anonymous")e.credentials="omit";else e.credentials="same-origin";return e}function processPreload(t){if(t.ep)return;t.ep=true;const e=getFetchOpts(t);fetch(t.href,e)}})();var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function a2(){if(this instanceof a2){return Reflect.construct(e,arguments,this.constructor)}return e.apply(this,arguments)};i.prototype=e.prototype}else i={};Object.defineProperty(i,"__esModule",{value:true});Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(i,e,r.get?r:{enumerable:true,get:function(){return t[e]}})}));return i}var i={exports:{}};(function(t,i){(function webpackUniversalModuleDefinition(e,i){t.exports=i()})(e,(()=>(()=>{var t={50792:t=>{var e=Object.prototype.hasOwnProperty,i="~";function Events2(){}if(Object.create){Events2.prototype=Object.create(null);if(!(new Events2).__proto__)i=false}function EE(t,e,i){this.fn=t;this.context=e;this.once=i||false}function addListener(t,e,r,s,n){if(typeof r!=="function"){throw new TypeError("The listener must be a function")}var a=new EE(r,s||t,n),o=i?i+e:e;if(!t._events[o])t._events[o]=a,t._eventsCount++;else if(!t._events[o].fn)t._events[o].push(a);else t._events[o]=[t._events[o],a];return t}function clearEvent(t,e){if(--t._eventsCount===0)t._events=new Events2;else delete t._events[e]}function EventEmitter2(){this._events=new Events2;this._eventsCount=0}EventEmitter2.prototype.eventNames=function eventNames(){var t=[],r,s;if(this._eventsCount===0)return t;for(s in r=this._events){if(e.call(r,s))t.push(i?s.slice(1):s)}if(Object.getOwnPropertySymbols){return t.concat(Object.getOwnPropertySymbols(r))}return t};EventEmitter2.prototype.listeners=function listeners(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,n=r.length,a=new Array(n);s<n;s++){a[s]=r[s].fn}return a};EventEmitter2.prototype.listenerCount=function listenerCount(t){var e=i?i+t:t,r=this._events[e];if(!r)return 0;if(r.fn)return 1;return r.length};EventEmitter2.prototype.emit=function emit(t,e,r,s,n,a){var o=i?i+t:t;if(!this._events[o])return false;var l=this._events[o],h=arguments.length,u,c;if(l.fn){if(l.once)this.removeListener(t,l.fn,void 0,true);switch(h){case 1:return l.fn.call(l.context),true;case 2:return l.fn.call(l.context,e),true;case 3:return l.fn.call(l.context,e,r),true;case 4:return l.fn.call(l.context,e,r,s),true;case 5:return l.fn.call(l.context,e,r,s,n),true;case 6:return l.fn.call(l.context,e,r,s,n,a),true}for(c=1,u=new Array(h-1);c<h;c++){u[c-1]=arguments[c]}l.fn.apply(l.context,u)}else{var f=l.length,d;for(c=0;c<f;c++){if(l[c].once)this.removeListener(t,l[c].fn,void 0,true);switch(h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,s);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++){u[d-1]=arguments[d]}l[c].fn.apply(l[c].context,u)}}}return true};EventEmitter2.prototype.on=function on(t,e,i){return addListener(this,t,e,i,false)};EventEmitter2.prototype.once=function once(t,e,i){return addListener(this,t,e,i,true)};EventEmitter2.prototype.removeListener=function removeListener(t,e,r,s){var n=i?i+t:t;if(!this._events[n])return this;if(!e){clearEvent(this,n);return this}var a=this._events[n];if(a.fn){if(a.fn===e&&(!s||a.once)&&(!r||a.context===r)){clearEvent(this,n)}}else{for(var o=0,l=[],h=a.length;o<h;o++){if(a[o].fn!==e||s&&!a[o].once||r&&a[o].context!==r){l.push(a[o])}}if(l.length)this._events[n]=l.length===1?l[0]:l;else clearEvent(this,n)}return this};EventEmitter2.prototype.removeAllListeners=function removeAllListeners(t){var e;if(t){e=i?i+t:t;if(this._events[e])clearEvent(this,e)}else{this._events=new Events2;this._eventsCount=0}return this};EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener;EventEmitter2.prototype.addListener=EventEmitter2.prototype.on;EventEmitter2.prefixed=i;EventEmitter2.EventEmitter=EventEmitter2;{t.exports=EventEmitter2}},11517:(t,e,i)=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(38829);var AlignTo=function(t,e,i,s){var n=t[0];for(var a=1;a<t.length;a++){var o=t[a];r(o,n,e,i,s);n=o}return t};t.exports=AlignTo},80318:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var Angle=function(t,e,i,s,n){return r(t,"angle",e,i,s,n)};t.exports=Angle},60757:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Call=function(t,e,i){for(var r=0;r<t.length;r++){var s=t[r];e.call(i,s)}return t};t.exports=Call},69927:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFirst=function(t,e,i){if(i===void 0){i=0}for(var r=i;r<t.length;r++){var s=t[r];var n=true;for(var a in e){if(s[a]!==e[a]){n=false}}if(n){return s}}return null};t.exports=GetFirst},32265:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLast=function(t,e,i){if(i===void 0){i=0}for(var r=t.length-1;r>=i;r--){var s=t[r];var n=true;for(var a in e){if(s[a]!==e[a]){n=false}}if(n){return s}}return null};t.exports=GetLast},94420:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(11879);var s=i(60461);var n=i(95540);var a=i(29747);var o=i(41481);var l=new o({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0);var GridAlign=function(t,e){if(e===void 0){e={}}var i=e.hasOwnProperty("width");var a=e.hasOwnProperty("height");var o=n(e,"width",-1);var h=n(e,"height",-1);var u=n(e,"cellWidth",1);var c=n(e,"cellHeight",u);var f=n(e,"position",s.TOP_LEFT);var d=n(e,"x",0);var v=n(e,"y",0);var p=0;var g=0;var m=o*u;var y=h*c;l.setPosition(d,v);l.setSize(u,c);for(var x=0;x<t.length;x++){r(t[x],l,f);if(i&&o===-1){l.x+=u}else if(a&&h===-1){l.y+=c}else if(a&&!i){g+=c;l.y+=c;if(g===y){g=0;p+=u;l.y=v;l.x+=u;if(p===m){break}}}else{p+=u;l.x+=u;if(p===m){p=0;g+=c;l.x=d;l.y+=c;if(g===y){break}}}}return t};t.exports=GridAlign},41721:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var IncAlpha=function(t,e,i,s,n){return r(t,"alpha",e,i,s,n)};t.exports=IncAlpha},67285:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var IncX=function(t,e,i,s,n){return r(t,"x",e,i,s,n)};t.exports=IncX},9074:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var IncXY=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"x",e,s,a,o);return r(t,"y",i,n,a,o)};t.exports=IncXY},75222:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var IncY=function(t,e,i,s,n){return r(t,"y",e,i,s,n)};t.exports=IncY},22983:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PlaceOnCircle=function(t,e,i,r){if(i===void 0){i=0}if(r===void 0){r=6.28}var s=i;var n=(r-i)/t.length;var a=e.x;var o=e.y;var l=e.radius;for(var h=0;h<t.length;h++){t[h].x=a+l*Math.cos(s);t[h].y=o+l*Math.sin(s);s+=n}return t};t.exports=PlaceOnCircle},95253:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PlaceOnEllipse=function(t,e,i,r){if(i===void 0){i=0}if(r===void 0){r=6.28}var s=i;var n=(r-i)/t.length;var a=e.width/2;var o=e.height/2;for(var l=0;l<t.length;l++){t[l].x=e.x+a*Math.cos(s);t[l].y=e.y+o*Math.sin(s);s+=n}return t};t.exports=PlaceOnEllipse},88505:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(15258);var s=i(26708);var PlaceOnLine=function(t,e,i){var n;if(i){n=s(e,i,t.length)}else{n=r(e,t.length)}for(var a=0;a<t.length;a++){var o=t[a];var l=n[a];o.x=l.x;o.y=l.y}return t};t.exports=PlaceOnLine},41346:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(14649);var s=i(86003);var n=i(49498);var PlaceOnRectangle=function(t,e,i){if(i===void 0){i=0}var a=r(e,false,t.length);if(i>0){s(a,i)}else if(i<0){n(a,Math.abs(i))}for(var o=0;o<t.length;o++){t[o].x=a[o].x;t[o].y=a[o].y}return t};t.exports=PlaceOnRectangle},11575:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(84993);var PlaceOnTriangle=function(t,e,i){var s=r({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i);var n=r({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i);var a=r({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);s.pop();n.pop();a.pop();s=s.concat(n,a);var o=s.length/t.length;var l=0;for(var h=0;h<t.length;h++){var u=t[h];var c=s[Math.floor(l)];u.x=c.x;u.y=c.y;l+=o}return t};t.exports=PlaceOnTriangle},29953:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PlayAnimation=function(t,e,i){for(var r=0;r<t.length;r++){var s=t[r];if(s.anims){s.anims.play(e,i)}}return t};t.exports=PlayAnimation},66979:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueInc=function(t,e,i,r,s,n){if(r===void 0){r=0}if(s===void 0){s=0}if(n===void 0){n=1}var a;var o=0;var l=t.length;if(n===1){for(a=s;a<l;a++){t[a][e]+=i+o*r;o++}}else{for(a=s;a>=0;a--){t[a][e]+=i+o*r;o++}}return t};t.exports=PropertyValueInc},43967:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PropertyValueSet=function(t,e,i,r,s,n){if(r===void 0){r=0}if(s===void 0){s=0}if(n===void 0){n=1}var a;var o=0;var l=t.length;if(n===1){for(a=s;a<l;a++){t[a][e]=i+o*r;o++}}else{for(a=s;a>=0;a--){t[a][e]=i+o*r;o++}}return t};t.exports=PropertyValueSet},88926:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(28176);var RandomCircle=function(t,e){for(var i=0;i<t.length;i++){r(e,t[i])}return t};t.exports=RandomCircle},33286:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(24820);var RandomEllipse=function(t,e){for(var i=0;i<t.length;i++){r(e,t[i])}return t};t.exports=RandomEllipse},96e3:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65822);var RandomLine=function(t,e){for(var i=0;i<t.length;i++){r(e,t[i])}return t};t.exports=RandomLine},28789:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26597);var RandomRectangle=function(t,e){for(var i=0;i<t.length;i++){r(e,t[i])}return t};t.exports=RandomRectangle},97154:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(90260);var RandomTriangle=function(t,e){for(var i=0;i<t.length;i++){r(e,t[i])}return t};t.exports=RandomTriangle},20510:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var Rotate=function(t,e,i,s,n){return r(t,"rotation",e,i,s,n)};t.exports=Rotate},91051:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(1163);var s=i(20339);var RotateAround=function(t,e,i){var n=e.x;var a=e.y;for(var o=0;o<t.length;o++){var l=t[o];r(l,n,a,i,Math.max(1,s(l.x,l.y,n,a)))}return t};t.exports=RotateAround},76332:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(1163);var RotateAroundDistance=function(t,e,i,s){var n=e.x;var a=e.y;if(s===0){return t}for(var o=0;o<t.length;o++){r(t[o],n,a,i,s)}return t};t.exports=RotateAroundDistance},61619:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var ScaleX=function(t,e,i,s,n){return r(t,"scaleX",e,i,s,n)};t.exports=ScaleX},94868:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var ScaleXY=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"scaleX",e,s,a,o);return r(t,"scaleY",i,n,a,o)};t.exports=ScaleXY},95532:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66979);var ScaleY=function(t,e,i,s,n){return r(t,"scaleY",e,i,s,n)};t.exports=ScaleY},8689:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetAlpha=function(t,e,i,s,n){return r(t,"alpha",e,i,s,n)};t.exports=SetAlpha},2645:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetBlendMode=function(t,e,i,s){return r(t,"blendMode",e,0,i,s)};t.exports=SetBlendMode},32372:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetDepth=function(t,e,i,s,n){return r(t,"depth",e,i,s,n)};t.exports=SetDepth},85373:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetHitArea=function(t,e,i){for(var r=0;r<t.length;r++){t[r].setInteractive(e,i)}return t};t.exports=SetHitArea},81583:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetOrigin=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"originX",e,s,a,o);r(t,"originY",i,n,a,o);t.forEach((function(t){t.updateDisplayOrigin()}));return t};t.exports=SetOrigin},79939:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetRotation=function(t,e,i,s,n){return r(t,"rotation",e,i,s,n)};t.exports=SetRotation},2699:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScale=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"scaleX",e,s,a,o);return r(t,"scaleY",i,n,a,o)};t.exports=SetScale},98739:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScaleX=function(t,e,i,s,n){return r(t,"scaleX",e,i,s,n)};t.exports=SetScaleX},98476:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScaleY=function(t,e,i,s,n){return r(t,"scaleY",e,i,s,n)};t.exports=SetScaleY},6207:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScrollFactor=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"scrollFactorX",e,s,a,o);return r(t,"scrollFactorY",i,n,a,o)};t.exports=SetScrollFactor},6607:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScrollFactorX=function(t,e,i,s,n){return r(t,"scrollFactorX",e,i,s,n)};t.exports=SetScrollFactorX},72248:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetScrollFactorY=function(t,e,i,s,n){return r(t,"scrollFactorY",e,i,s,n)};t.exports=SetScrollFactorY},14036:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTint=function(t,e,i,r,s){for(var n=0;n<t.length;n++){t[n].setTint(e,i,r,s)}return t};t.exports=SetTint},50159:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetVisible=function(t,e,i,s){return r(t,"visible",e,0,i,s)};t.exports=SetVisible},77597:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetX=function(t,e,i,s,n){return r(t,"x",e,i,s,n)};t.exports=SetX},83194:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetXY=function(t,e,i,s,n,a,o){if(i===void 0||i===null){i=e}r(t,"x",e,s,a,o);return r(t,"y",i,n,a,o)};t.exports=SetXY},67678:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43967);var SetY=function(t,e,i,s,n){return r(t,"y",e,i,s,n)};t.exports=SetY},35850:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var ShiftPosition=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=new r}var a;var o;var l=t.length;if(l===1){a=t[0].x;o=t[0].y;t[0].x=e;t[0].y=i}else{var h=1;var u=0;if(s===0){u=l-1;h=l-2}a=t[u].x;o=t[u].y;t[u].x=e;t[u].y=i;for(var c=0;c<l;c++){if(h>=l||h===-1){continue}var f=t[h];var d=f.x;var v=f.y;f.x=a;f.y=o;a=d;o=v;if(s===0){h--}else{h++}}}n.x=a;n.y=o;return n};t.exports=ShiftPosition},8628:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33680);var Shuffle=function(t){return r(t)};t.exports=Shuffle},21837:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7602);var SmoothStep=function(t,e,i,s,n){if(n===void 0){n=false}var a=Math.abs(s-i)/t.length;var o;if(n){for(o=0;o<t.length;o++){t[o][e]+=r(o*a,i,s)}}else{for(o=0;o<t.length;o++){t[o][e]=r(o*a,i,s)}}return t};t.exports=SmoothStep},21910:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54261);var SmootherStep=function(t,e,i,s,n){if(n===void 0){n=false}var a=Math.abs(s-i)/t.length;var o;if(n){for(o=0;o<t.length;o++){t[o][e]+=r(o*a,i,s)}}else{for(o=0;o<t.length;o++){t[o][e]=r(o*a,i,s)}}return t};t.exports=SmootherStep},62054:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Spread=function(t,e,i,r,s){if(s===void 0){s=false}if(t.length===0){return t}if(t.length===1){if(s){t[0][e]+=(r+i)/2}else{t[0][e]=(r+i)/2}return t}var n=Math.abs(r-i)/(t.length-1);var a;if(s){for(a=0;a<t.length;a++){t[a][e]+=a*n+i}}else{for(a=0;a<t.length;a++){t[a][e]=a*n+i}}return t};t.exports=Spread},79815:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ToggleVisible=function(t){for(var e=0;e<t.length;e++){t[e].visible=!t[e].visible}return t};t.exports=ToggleVisible},39665:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       samme <samme.npm@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(15994);var WrapInRectangle=function(t,e,i){if(i===void 0){i=0}for(var s=0;s<t.length;s++){var n=t[s];n.x=r(n.x,e.left-i,e.right+i);n.y=r(n.y,e.top-i,e.bottom+i)}return t};t.exports=WrapInRectangle},61061:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(74943);var a=i(81957);var o=i(41138);var l=i(35154);var h=i(90126);var u=new s({initialize:function Animation2(t,e,i){this.manager=t;this.key=e;this.type="frame";this.frames=this.getFrames(t.textureManager,l(i,"frames",[]),l(i,"defaultTextureKey",null),l(i,"sortFrames",true));this.frameRate=l(i,"frameRate",null);this.duration=l(i,"duration",null);this.msPerFrame;this.skipMissedFrames=l(i,"skipMissedFrames",true);this.delay=l(i,"delay",0);this.repeat=l(i,"repeat",0);this.repeatDelay=l(i,"repeatDelay",0);this.yoyo=l(i,"yoyo",false);this.showBeforeDelay=l(i,"showBeforeDelay",false);this.showOnStart=l(i,"showOnStart",false);this.hideOnComplete=l(i,"hideOnComplete",false);this.randomFrame=l(i,"randomFrame",false);this.paused=false;this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate);if(this.manager.on){this.manager.on(n.PAUSE_ALL,this.pause,this);this.manager.on(n.RESUME_ALL,this.resume,this)}},getTotalFrames:function(){return this.frames.length},calculateDuration:function(t,e,i,r){if(i===null&&r===null){t.frameRate=24;t.duration=24/e*1e3}else if(i&&r===null){t.duration=i;t.frameRate=e/(i/1e3)}else{t.frameRate=r;t.duration=e/r*1e3}t.msPerFrame=1e3/t.frameRate},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(t===0){this.frames=i.concat(this.frames)}else if(t===this.frames.length){this.frames=this.frames.concat(i)}else{var r=this.frames.slice(0,t);var s=this.frames.slice(t);this.frames=r.concat(i,s)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},getFirstTick:function(t){t.accumulator=0;t.nextTick=t.msPerFrame||t.currentFrame.duration},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i,r){if(r===void 0){r=true}var s=[];var n;var a;var u=1;var c;var f;if(typeof e==="string"){f=e;if(!t.exists(f)){console.warn('Texture "%s" not found',f);return s}var d=t.get(f);var v=d.getFrameNames();if(r){h(v)}e=[];v.forEach((function(t){e.push({key:f,frame:t})}))}if(!Array.isArray(e)||e.length===0){return s}for(c=0;c<e.length;c++){var p=e[c];var g=l(p,"key",i);if(!g){continue}var m=l(p,"frame",0);var y=t.getFrame(g,m);if(!y){console.warn('Texture "%s" not found',g);continue}a=new o(g,m,u,y);a.duration=l(p,"duration",0);a.isFirst=!n;if(n){n.nextFrame=a;a.prevFrame=n}s.push(a);n=a;u++}if(s.length>0){a.isLast=true;a.nextFrame=s[0];s[0].prevFrame=a;var x=1/(s.length-1);for(c=0;c<s.length;c++){s[c].progress=c*x}}return s},getNextTick:function(t){t.accumulator-=t.nextTick;t.nextTick=t.msPerFrame||t.currentFrame.duration},getFrameByProgress:function(t){t=r(t,0,1);return a(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;if(e.isLast){if(t.yoyo){this.handleYoyoFrame(t,false)}else if(t.repeatCounter>0){if(t.inReverse&&t.forward){t.forward=false}else{this.repeatAnimation(t)}}else{t.complete()}}else{this.updateAndGetNextTick(t,e.nextFrame)}},handleYoyoFrame:function(t,e){if(!e){e=false}if(t.inReverse===!e&&t.repeatCounter>0){if(t.repeatDelay===0||t.pendingRepeat){t.forward=e}this.repeatAnimation(t);return}if(t.inReverse!==e&&t.repeatCounter===0){t.complete();return}t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;if(e.isFirst){if(t.yoyo){this.handleYoyoFrame(t,true)}else if(t.repeatCounter>0){if(t.inReverse&&!t.forward){this.repeatAnimation(t)}else{t.forward=true;this.repeatAnimation(t)}}else{t.complete()}}else{this.updateAndGetNextTick(t,e.prevFrame)}},updateAndGetNextTick:function(t,e){t.setCurrentFrame(e);this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);if(e!==-1){this.removeFrameAt(e)}return this},removeFrameAt:function(t){this.frames.splice(t,1);this.updateFrameSequence();return this},repeatAnimation:function(t){if(t._pendingStop===2){if(t._pendingStopValue===0){return t.stop()}else{t._pendingStopValue--}}if(t.repeatDelay>0&&!t.pendingRepeat){t.pendingRepeat=true;t.accumulator-=t.nextTick;t.nextTick+=t.repeatDelay}else{t.repeatCounter--;if(t.forward){t.setCurrentFrame(t.currentFrame.nextFrame)}else{t.setCurrentFrame(t.currentFrame.prevFrame)}if(t.isPlaying){this.getNextTick(t);t.handleRepeat()}}},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};this.frames.forEach((function(e){t.frames.push(e.toJSON())}));return t},updateFrameSequence:function(){var t=this.frames.length;var e=1/(t-1);var i;for(var r=0;r<t;r++){i=this.frames[r];i.index=r+1;i.isFirst=false;i.isLast=false;i.progress=r*e;if(r===0){i.isFirst=true;if(t===1){i.isLast=true;i.nextFrame=i;i.prevFrame=i}else{i.isLast=false;i.prevFrame=this.frames[t-1];i.nextFrame=this.frames[r+1]}}else if(r===t-1&&t>1){i.isLast=true;i.prevFrame=this.frames[t-2];i.nextFrame=this.frames[0]}else if(t>1){i.prevFrame=this.frames[r-1];i.nextFrame=this.frames[r+1]}}return this},pause:function(){this.paused=true;return this},resume:function(){this.paused=false;return this},destroy:function(){if(this.manager.off){this.manager.off(n.PAUSE_ALL,this.pause,this);this.manager.off(n.RESUME_ALL,this.resume,this)}this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++){this.frames[t].destroy()}this.frames=[];this.manager=null}});t.exports=u},41138:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function AnimationFrame2(t,e,i,r,s){if(s===void 0){s=false}this.textureKey=t;this.textureFrame=e;this.index=i;this.frame=r;this.isFirst=false;this.isLast=false;this.prevFrame=null;this.nextFrame=null;this.duration=0;this.progress=0;this.isKeyFrame=s},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});t.exports=s},60848:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(42099);var s=i(83419);var n=i(90330);var a=i(50792);var o=i(74943);var l=i(8443);var h=i(95540);var u=i(35154);var c=i(36383);var f=i(20283);var d=i(41836);var v=new s({Extends:a,initialize:function AnimationManager2(t){a.call(this);this.game=t;this.textureManager=null;this.globalTimeScale=1;this.anims=new n;this.mixes=new n;this.paused=false;this.name="AnimationManager";t.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures;this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(t,e,i){var r=this.anims;var s=this.mixes;var n=typeof t==="string"?t:t.key;var a=typeof e==="string"?e:e.key;if(r.has(n)&&r.has(a)){var o=s.get(n);if(!o){o={}}o[a]=i;s.set(n,o)}return this},removeMix:function(t,e){var i=this.mixes;var r=typeof t==="string"?t:t.key;var s=i.get(r);if(s){if(e){var n=typeof e==="string"?e:e.key;if(s.hasOwnProperty(n)){delete s[n]}}else if(!e){i.delete(r)}}return this},getMix:function(t,e){var i=this.mixes;var r=typeof t==="string"?t:t.key;var s=typeof e==="string"?e:e.key;var n=i.get(r);if(n&&n.hasOwnProperty(s)){return n[s]}else{return 0}},add:function(t,e){if(this.anims.has(t)){console.warn("Animation key exists: "+t);return this}e.key=t;this.anims.set(t,e);this.emit(o.ADD_ANIMATION,t,e);return this},exists:function(t){return this.anims.has(t)},createFromAseprite:function(t,e,i){var r=[];var s=this.game.cache.json.get(t);if(!s){console.warn("No Aseprite data found for: "+t);return r}var n=this;var a=u(s,"meta",null);var o=u(s,"frames",null);if(a&&o){var l=u(a,"frameTags",[]);l.forEach((function(s){var a=[];var l=h(s,"name",null);var u=h(s,"from",0);var f=h(s,"to",0);var d=h(s,"direction","forward");if(!l){return}if(!e||e&&e.indexOf(l)>-1){var v=0;for(var p=u;p<=f;p++){var g=p.toString();var m=o[g];if(m){var y=h(m,"duration",c.MAX_SAFE_INTEGER);a.push({key:t,frame:g,duration:y});v+=y}}if(d==="reverse"){a=a.reverse()}var x={key:l,frames:a,duration:v,yoyo:d==="pingpong"};var b;if(i){if(i.anims){b=i.anims.create(x)}}else{b=n.create(x)}if(b){r.push(b)}}}))}return r},create:function(t){var e=t.key;var i=false;if(e){i=this.get(e);if(!i){i=new r(this,e,t);this.anims.set(e,i);this.emit(o.ADD_ANIMATION,e,i)}else{console.warn("AnimationManager key already exists: "+e)}}return i},fromJSON:function(t,e){if(e===void 0){e=false}if(e){this.anims.clear()}if(typeof t==="string"){t=JSON.parse(t)}var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var r=0;r<t.anims.length;r++){i.push(this.create(t.anims[r]))}if(t.hasOwnProperty("globalTimeScale")){this.globalTimeScale=t.globalTimeScale}}else if(t.hasOwnProperty("key")&&t.type==="frame"){i.push(this.create(t))}return i},generateFrameNames:function(t,e){var i=u(e,"prefix","");var r=u(e,"start",0);var s=u(e,"end",0);var n=u(e,"suffix","");var a=u(e,"zeroPad",0);var o=u(e,"outputArray",[]);var l=u(e,"frames",false);if(!this.textureManager.exists(t)){console.warn('Texture "%s" not found',t);return o}var h=this.textureManager.get(t);if(!h){return o}var c;if(!e){l=h.getFrameNames();for(c=0;c<l.length;c++){o.push({key:t,frame:l[c]})}}else{if(!l){l=f(r,s)}for(c=0;c<l.length;c++){var v=i+d(l[c],a,"0",1)+n;if(h.has(v)){o.push({key:t,frame:v})}else{console.warn('Frame "%s" not found in texture "%s"',v,t)}}}return o},generateFrameNumbers:function(t,e){var i=u(e,"start",0);var r=u(e,"end",-1);var s=u(e,"first",false);var n=u(e,"outputArray",[]);var a=u(e,"frames",false);if(!this.textureManager.exists(t)){console.warn('Texture "%s" not found',t);return n}var o=this.textureManager.get(t);if(!o){return n}if(s&&o.has(s)){n.push({key:t,frame:s})}if(!a){if(r===-1){r=o.frameTotal-2}a=f(i,r)}for(var l=0;l<a.length;l++){var h=a[l];if(o.has(h)){n.push({key:t,frame:h})}else{console.warn('Frame "%s" not found in texture "%s"',h,t)}}return n},get:function(t){return this.anims.get(t)},getAnimsFromTexture:function(t){var e=this.textureManager.get(t);var i=e.key;var r=this.anims.getArray();var s=[];for(var n=0;n<r.length;n++){var a=r[n];var o=a.frames;for(var l=0;l<o.length;l++){if(o[l].textureKey===i){s.push(a.key);break}}}return s},pauseAll:function(){if(!this.paused){this.paused=true;this.emit(o.PAUSE_ALL)}return this},play:function(t,e){if(!Array.isArray(e)){e=[e]}for(var i=0;i<e.length;i++){e[i].anims.play(t)}return this},staggerPlay:function(t,e,i,r){if(i===void 0){i=0}if(r===void 0){r=true}if(!Array.isArray(e)){e=[e]}var s=e.length;if(!r){s--}for(var n=0;n<e.length;n++){var a=i<0?Math.abs(i)*(s-n):i*n;e[n].anims.playAfterDelay(t,a)}return this},remove:function(t){var e=this.get(t);if(e){this.emit(o.REMOVE_ANIMATION,t,e);this.anims.delete(t);this.removeMix(t)}return e},resumeAll:function(){if(this.paused){this.paused=false;this.emit(o.RESUME_ALL)}return this},toJSON:function(t){var e={anims:[],globalTimeScale:this.globalTimeScale};if(t!==void 0&&t!==""){e.anims.push(this.anims.get(t).toJSON())}else{this.anims.each((function(t,i){e.anims.push(i.toJSON())}))}return e},destroy:function(){this.anims.clear();this.mixes.clear();this.textureManager=null;this.game=null}});t.exports=v},9674:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(42099);var s=i(30976);var n=i(83419);var a=i(90330);var o=i(74943);var l=i(95540);var h=new n({initialize:function AnimationState2(t){this.parent=t;this.animationManager=t.scene.sys.anims;this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this);this.textureManager=this.animationManager.textureManager;this.anims=null;this.isPlaying=false;this.hasStarted=false;this.currentAnim=null;this.currentFrame=null;this.nextAnim=null;this.nextAnimsQueue=[];this.timeScale=1;this.frameRate=0;this.duration=0;this.msPerFrame=0;this.skipMissedFrames=true;this.randomFrame=false;this.delay=0;this.repeat=0;this.repeatDelay=0;this.yoyo=false;this.showBeforeDelay=false;this.showOnStart=false;this.hideOnComplete=false;this.forward=true;this.inReverse=false;this.accumulator=0;this.nextTick=0;this.delayCounter=0;this.repeatCounter=0;this.pendingRepeat=false;this._paused=false;this._wasPlaying=false;this._pendingStop=0;this._pendingStopValue},chain:function(t){var e=this.parent;if(t===void 0){this.nextAnimsQueue.length=0;this.nextAnim=null;return e}if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];if(!this.nextAnim){this.nextAnim=r}else{this.nextAnimsQueue.push(r)}}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(t){if(this.isPlaying){this.stop()}var e=this.animationManager;var i=typeof t==="string"?t:l(t,"key",null);var r=this.exists(i)?this.get(i):e.get(i);if(!r){console.warn("Missing animation: "+i)}else{this.currentAnim=r;var n=r.getTotalFrames();var a=l(t,"frameRate",r.frameRate);var o=l(t,"duration",r.duration);r.calculateDuration(this,n,o,a);this.delay=l(t,"delay",r.delay);this.repeat=l(t,"repeat",r.repeat);this.repeatDelay=l(t,"repeatDelay",r.repeatDelay);this.yoyo=l(t,"yoyo",r.yoyo);this.showBeforeDelay=l(t,"showBeforeDelay",r.showBeforeDelay);this.showOnStart=l(t,"showOnStart",r.showOnStart);this.hideOnComplete=l(t,"hideOnComplete",r.hideOnComplete);this.skipMissedFrames=l(t,"skipMissedFrames",r.skipMissedFrames);this.randomFrame=l(t,"randomFrame",r.randomFrame);this.timeScale=l(t,"timeScale",this.timeScale);var h=l(t,"startFrame",0);if(h>n){h=0}if(this.randomFrame){h=s(0,n-1)}var u=r.frames[h];if(h===0&&!this.forward){u=r.getLastFrame()}this.currentFrame=u}return this.parent},pause:function(t){if(!this._paused){this._paused=true;this._wasPlaying=this.isPlaying;this.isPlaying=false}if(t!==void 0){this.setCurrentFrame(t)}return this.parent},resume:function(t){if(this._paused){this._paused=false;this.isPlaying=this._wasPlaying}if(t!==void 0){this.setCurrentFrame(t)}return this.parent},playAfterDelay:function(t,e){if(!this.isPlaying){this.delayCounter=e;this.play(t,true)}else{var i=this.nextAnim;var r=this.nextAnimsQueue;if(i){r.unshift(i)}this.nextAnim=t;this._pendingStop=1;this._pendingStopValue=e}return this.parent},playAfterRepeat:function(t,e){if(e===void 0){e=1}if(!this.isPlaying){this.play(t)}else{var i=this.nextAnim;var r=this.nextAnimsQueue;if(i){r.unshift(i)}if(this.repeatCounter!==-1&&e>this.repeatCounter){e=this.repeatCounter}this.nextAnim=t;this._pendingStop=2;this._pendingStopValue=e}return this.parent},play:function(t,e){if(e===void 0){e=false}var i=this.currentAnim;var r=this.parent;var s=typeof t==="string"?t:t.key;if(e&&this.isPlaying&&i.key===s){return r}if(i&&this.isPlaying){var n=this.animationManager.getMix(i.key,t);if(n>0){return this.playAfterDelay(t,n)}}this.forward=true;this.inReverse=false;this._paused=false;this._wasPlaying=true;return this.startAnimation(t)},playReverse:function(t,e){if(e===void 0){e=false}var i=typeof t==="string"?t:t.key;if(e&&this.isPlaying&&this.currentAnim.key===i){return this.parent}this.forward=false;this.inReverse=true;this._paused=false;this._wasPlaying=true;return this.startAnimation(t)},startAnimation:function(t){this.load(t);var e=this.currentAnim;var i=this.parent;if(!e){return i}this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat;e.getFirstTick(this);this.isPlaying=true;this.pendingRepeat=false;this.hasStarted=false;this._pendingStop=0;this._pendingStopValue=0;this._paused=false;this.delayCounter+=this.delay;if(this.delayCounter===0){this.handleStart()}else if(this.showBeforeDelay){this.setCurrentFrame(this.currentFrame)}return i},handleStart:function(){if(this.showOnStart){this.parent.setVisible(true)}this.setCurrentFrame(this.currentFrame);this.hasStarted=true;this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=false;this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0;this.isPlaying=false;this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0;this.isPlaying=false;if(this.hideOnComplete){this.parent.setVisible(false)}this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(t,e){var i=this.currentAnim;if(i){var r=this.currentFrame;var s=this.parent;var n=r.textureFrame;s.emit(t,i,r,s,n);if(e){s.emit(e+i.key,i,r,s,n)}}},reverse:function(){if(this.isPlaying){this.inReverse=!this.inReverse;this.forward=!this.forward}return this.parent},getProgress:function(){var t=this.currentFrame;if(!t){return 0}var e=t.progress;if(this.inReverse){e*=-1}return e},setProgress:function(t){if(!this.forward){t=1-t}this.setCurrentFrame(this.currentAnim.getFrameByProgress(t));return this.parent},setRepeat:function(t){this.repeatCounter=t===-1?Number.MAX_VALUE:t;return this.parent},globalRemove:function(t,e){if(e===void 0){e=this.currentAnim}if(this.isPlaying&&e.key===this.currentAnim.key){this.stop();this.setCurrentFrame(this.currentAnim.frames[0])}},restart:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}var i=this.currentAnim;var r=this.parent;if(!i){return r}if(e){this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat}i.getFirstTick(this);this.emitEvents(o.ANIMATION_RESTART);this.isPlaying=true;this.pendingRepeat=false;this.hasStarted=!t;this._pendingStop=0;this._pendingStopValue=0;this._paused=false;this.setCurrentFrame(i.frames[0]);return this.parent},complete:function(){this._pendingStop=0;this.isPlaying=false;if(this.currentAnim){this.handleComplete()}if(this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null;this.play(t)}return this.parent},stop:function(){this._pendingStop=0;this.isPlaying=false;this.delayCounter=0;if(this.currentAnim){this.handleStop()}if(this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift();this.play(t)}return this.parent},stopAfterDelay:function(t){this._pendingStop=1;this._pendingStopValue=t;return this.parent},stopAfterRepeat:function(t){if(t===void 0){t=1}if(this.repeatCounter!==-1&&t>this.repeatCounter){t=this.repeatCounter}this._pendingStop=2;this._pendingStopValue=t;return this.parent},stopOnFrame:function(t){this._pendingStop=3;this._pendingStopValue=t;return this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(t,e){var i=this.currentAnim;if(!this.isPlaying||!i||i.paused){return}this.accumulator+=e*this.timeScale*this.animationManager.globalTimeScale;if(this._pendingStop===1){this._pendingStopValue-=e;if(this._pendingStopValue<=0){return this.stop()}}if(!this.hasStarted){if(this.accumulator>=this.delayCounter){this.accumulator-=this.delayCounter;this.handleStart()}}else if(this.accumulator>=this.nextTick){if(this.forward){i.nextFrame(this)}else{i.previousFrame(this)}if(this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick){var r=0;do{if(this.forward){i.nextFrame(this)}else{i.previousFrame(this)}r++}while(this.isPlaying&&this.accumulator>this.nextTick&&r<60)}}},setCurrentFrame:function(t){var e=this.parent;this.currentFrame=t;e.texture=t.frame.texture;e.frame=t.frame;if(e.isCropped){e.frame.updateCropUVs(e._crop,e.flipX,e.flipY)}if(t.setAlpha){e.alpha=t.alpha}e.setSizeToFrame();if(e._originComponent){if(t.frame.customPivot){e.setOrigin(t.frame.pivotX,t.frame.pivotY)}else{e.updateDisplayOrigin()}}if(this.isPlaying&&this.hasStarted){this.emitEvents(o.ANIMATION_UPDATE);if(this._pendingStop===3&&this._pendingStopValue===t){this.stop()}}return e},nextFrame:function(){if(this.currentAnim){this.currentAnim.nextFrame(this)}return this.parent},previousFrame:function(){if(this.currentAnim){this.currentAnim.previousFrame(this)}return this.parent},get:function(t){return this.anims?this.anims.get(t):null},exists:function(t){return this.anims?this.anims.has(t):false},create:function(t){var e=t.key;var i=false;if(e){i=this.get(e);if(!i){i=new r(this,e,t);if(!this.anims){this.anims=new a}this.anims.set(e,i)}else{console.warn("Animation key already exists: "+e)}}return i},createFromAseprite:function(t,e){return this.animationManager.createFromAseprite(t,e,this.parent)},generateFrameNames:function(t,e){return this.animationManager.generateFrameNames(t,e)},generateFrameNumbers:function(t,e){return this.animationManager.generateFrameNumbers(t,e)},remove:function(t){var e=this.get(t);if(e){if(this.currentAnim===e){this.stop()}this.anims.delete(t)}return e},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this);if(this.anims){this.anims.clear()}this.animationManager=null;this.parent=null;this.nextAnim=null;this.nextAnimsQueue.length=0;this.currentAnim=null;this.currentFrame=null},isPaused:{get:function(){return this._paused}}});t.exports=h},57090:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="add"},25312:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationcomplete"},89580:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationcomplete-"},52860:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationrepeat"},63850:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationrestart"},99085:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationstart"},28087:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationstop"},1794:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="animationupdate"},52562:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pauseall"},57953:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="remove"},68339:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resumeall"},74943:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(90330);var n=i(50792);var a=i(24736);var o=new r({initialize:function BaseCache2(){this.entries=new s;this.events=new n},add:function(t,e){this.entries.set(t,e);this.events.emit(a.ADD,this,t,e);return this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);if(e){this.entries.delete(t);this.events.emit(a.REMOVE,this,t,e.data)}return this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear();this.events.removeAllListeners();this.entries=null;this.events=null}});t.exports=o},24047:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2161);var s=i(83419);var n=i(8443);var a=new s({initialize:function CacheManager2(t){this.game=t;this.binary=new r;this.bitmapFont=new r;this.json=new r;this.physics=new r;this.shader=new r;this.audio=new r;this.video=new r;this.text=new r;this.html=new r;this.obj=new r;this.tilemap=new r;this.xml=new r;this.custom={};this.game.events.once(n.DESTROY,this.destroy,this)},addCustom:function(t){if(!this.custom.hasOwnProperty(t)){this.custom[t]=new r}return this.custom[t]},destroy:function(){var t=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"];for(var e=0;e<t.length;e++){this[t[e]].destroy();this[t[e]]=null}for(var i in this.custom){this.custom[i].destroy()}this.custom=null;this.game=null}});t.exports=a},51464:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="add"},59261:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="remove"},24736:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(39506);var a=i(50792);var o=i(19715);var l=i(87841);var h=i(61340);var u=i(80333);var c=i(26099);var f=new r({Extends:a,Mixins:[s.AlphaSingle,s.Visible],initialize:function BaseCamera2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}a.call(this);this.scene;this.sceneManager;this.scaleManager;this.cameraManager;this.id=0;this.name="";this.roundPixels=false;this.useBounds=false;this.worldView=new l;this.dirty=true;this._x=t;this._y=e;this._width=i;this._height=r;this._bounds=new l;this._scrollX=0;this._scrollY=0;this._zoomX=1;this._zoomY=1;this._rotation=0;this.matrix=new h;this.transparent=true;this.backgroundColor=u("rgba(0,0,0,0)");this.disableCull=false;this.culledObjects=[];this.midPoint=new c(i/2,r/2);this.originX=.5;this.originY=.5;this._customViewport=false;this.mask=null;this._maskCamera=null;this.renderList=[];this.isSceneCamera=true;this.renderRoundPixels=true},addToRenderList:function(t){this.renderList.push(t)},setOrigin:function(t,e){if(t===void 0){t=.5}if(e===void 0){e=t}this.originX=t;this.originY=e;return this},getScroll:function(t,e,i){if(i===void 0){i=new c}var r=this.width*.5;var s=this.height*.5;i.x=t-r;i.y=e-s;if(this.useBounds){i.x=this.clampX(i.x);i.y=this.clampY(i.y)}return i},centerOnX:function(t){var e=this.width*.5;this.midPoint.x=t;this.scrollX=t-e;if(this.useBounds){this.scrollX=this.clampX(this.scrollX)}return this},centerOnY:function(t){var e=this.height*.5;this.midPoint.y=t;this.scrollY=t-e;if(this.useBounds){this.scrollY=this.clampY(this.scrollY)}return this},centerOn:function(t,e){this.centerOnX(t);this.centerOnY(e);return this},centerToBounds:function(){if(this.useBounds){var t=this._bounds;var e=this.width*.5;var i=this.height*.5;this.midPoint.set(t.centerX,t.centerY);this.scrollX=t.centerX-e;this.scrollY=t.centerY-i}return this},centerToSize:function(){this.scrollX=this.width*.5;this.scrollY=this.height*.5;return this},cull:function(t){if(this.disableCull){return t}var e=this.matrix.matrix;var i=e[0];var r=e[1];var s=e[2];var n=e[3];var a=i*n-r*s;if(!a){return t}var o=e[4];var l=e[5];var h=this.scrollX;var u=this.scrollY;var c=this.width;var f=this.height;var d=this.y;var v=d+f;var p=this.x;var g=p+c;var m=this.culledObjects;var y=t.length;a=1/a;m.length=0;for(var x=0;x<y;++x){var b=t[x];if(!b.hasOwnProperty("width")||b.parentContainer){m.push(b);continue}var T=b.width;var w=b.height;var E=b.x-h*b.scrollFactorX-T*b.originX;var S=b.y-u*b.scrollFactorY-w*b.originY;var A=E*i+S*s+o;var C=E*r+S*n+l;var O=(E+T)*i+(S+w)*s+o;var P=(E+T)*r+(S+w)*n+l;if(O>p&&A<g&&(P>d&&C<v)){m.push(b)}}return m},getWorldPoint:function(t,e,i){if(i===void 0){i=new c}var r=this.matrix.matrix;var s=r[0];var n=r[1];var a=r[2];var o=r[3];var l=r[4];var h=r[5];var u=s*o-n*a;if(!u){i.x=t;i.y=e;return i}u=1/u;var f=o*u;var d=-n*u;var v=-a*u;var p=s*u;var g=(a*h-o*l)*u;var m=(n*l-s*h)*u;var y=Math.cos(this.rotation);var x=Math.sin(this.rotation);var b=this.zoomX;var T=this.zoomY;var w=this.scrollX;var E=this.scrollY;var S=t+(w*y-E*x)*b;var A=e+(w*x+E*y)*T;i.x=S*f+A*v+g;i.y=S*d+A*p+m;return i},ignore:function(t){var e=this.id;if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];if(Array.isArray(r)){this.ignore(r)}else if(r.isParent){this.ignore(r.getChildren())}else{r.cameraFilter|=e}}return this},clampX:function(t){var e=this._bounds;var i=this.displayWidth;var r=e.x+(i-this.width)/2;var s=Math.max(r,r+e.width-i);if(t<r){t=r}else if(t>s){t=s}return t},clampY:function(t){var e=this._bounds;var i=this.displayHeight;var r=e.y+(i-this.height)/2;var s=Math.max(r,r+e.height-i);if(t<r){t=r}else if(t>s){t=s}return t},removeBounds:function(){this.useBounds=false;this.dirty=true;this._bounds.setEmpty();return this},setAngle:function(t){if(t===void 0){t=0}this.rotation=n(t);return this},setBackgroundColor:function(t){if(t===void 0){t="rgba(0,0,0,0)"}this.backgroundColor=u(t);this.transparent=this.backgroundColor.alpha===0;return this},setBounds:function(t,e,i,r,s){if(s===void 0){s=false}this._bounds.setTo(t,e,i,r);this.dirty=true;this.useBounds=true;if(s){this.centerToBounds()}else{this.scrollX=this.clampX(this.scrollX);this.scrollY=this.clampY(this.scrollY)}return this},getBounds:function(t){if(t===void 0){t=new l}var e=this._bounds;t.setTo(e.x,e.y,e.width,e.height);return t},setName:function(t){if(t===void 0){t=""}this.name=t;return this},setPosition:function(t,e){if(e===void 0){e=t}this.x=t;this.y=e;return this},setRotation:function(t){if(t===void 0){t=0}this.rotation=t;return this},setRoundPixels:function(t){this.roundPixels=t;return this},setScene:function(t,e){if(e===void 0){e=true}if(this.scene&&this._customViewport){this.sceneManager.customViewports--}this.scene=t;this.isSceneCamera=e;var i=t.sys;this.sceneManager=i.game.scene;this.scaleManager=i.scale;this.cameraManager=i.cameras;this.updateSystem();return this},setScroll:function(t,e){if(e===void 0){e=t}this.scrollX=t;this.scrollY=e;return this},setSize:function(t,e){if(e===void 0){e=t}this.width=t;this.height=e;return this},setViewport:function(t,e,i,r){this.x=t;this.y=e;this.width=i;this.height=r;return this},setZoom:function(t,e){if(t===void 0){t=1}if(e===void 0){e=t}if(t===0){t=.001}if(e===0){e=.001}this.zoomX=t;this.zoomY=e;return this},setMask:function(t,e){if(e===void 0){e=true}this.mask=t;this._maskCamera=e?this.cameraManager.default:this;return this},clearMask:function(t){if(t===void 0){t=false}if(t&&this.mask){this.mask.destroy()}this.mask=null;return this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};if(this.useBounds){t["bounds"]={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}}return t},update:function(){},setIsSceneCamera:function(t){this.isSceneCamera=t;return this},updateSystem:function(){if(!this.scaleManager||!this.isSceneCamera){return}var t=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height;var e=this.sceneManager;if(t&&!this._customViewport){e.customViewports++}else if(!t&&this._customViewport){e.customViewports--}this.dirty=true;this._customViewport=t},destroy:function(){this.emit(o.DESTROY,this);this.removeAllListeners();this.matrix.destroy();this.culledObjects=[];if(this._customViewport){this.sceneManager.customViewports--}this.renderList=[];this._bounds=null;this.scene=null;this.scaleManager=null;this.sceneManager=null;this.cameraManager=null},x:{get:function(){return this._x},set:function(t){this._x=t;this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t;this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t;this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t;this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){if(t!==this._scrollX){this._scrollX=t;this.dirty=true}}},scrollY:{get:function(){return this._scrollY},set:function(t){if(t!==this._scrollY){this._scrollY=t;this.dirty=true}}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(t){this._zoomX=t;this._zoomY=t;this.dirty=true}},zoomX:{get:function(){return this._zoomX},set:function(t){this._zoomX=t;this.dirty=true}},zoomY:{get:function(){return this._zoomY},set:function(t){this._zoomY=t;this.dirty=true}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t;this.dirty=true}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});t.exports=f},38058:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(71911);var s=i(67502);var n=i(45319);var a=i(83419);var o=i(31401);var l=i(20052);var h=i(19715);var u=i(28915);var c=i(87841);var f=i(26099);var d=new a({Extends:r,Mixins:[o.PostPipeline],initialize:function Camera2(t,e,i,s){r.call(this,t,e,i,s);this.initPostPipeline();this.inputEnabled=true;this.fadeEffect=new l.Fade(this);this.flashEffect=new l.Flash(this);this.shakeEffect=new l.Shake(this);this.panEffect=new l.Pan(this);this.rotateToEffect=new l.RotateTo(this);this.zoomEffect=new l.Zoom(this);this.lerp=new f(1,1);this.followOffset=new f;this.deadzone=null;this._follow=null},setDeadzone:function(t,e){if(t===void 0){this.deadzone=null}else{if(this.deadzone){this.deadzone.width=t;this.deadzone.height=e}else{this.deadzone=new c(0,0,t,e)}if(this._follow){var i=this.width/2;var r=this.height/2;var n=this._follow.x-this.followOffset.x;var a=this._follow.y-this.followOffset.y;this.midPoint.set(n,a);this.scrollX=n-i;this.scrollY=a-r}s(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,r,s,n){return this.fadeEffect.start(false,t,e,i,r,true,s,n)},fadeOut:function(t,e,i,r,s,n){return this.fadeEffect.start(true,t,e,i,r,true,s,n)},fadeFrom:function(t,e,i,r,s,n,a){return this.fadeEffect.start(false,t,e,i,r,s,n,a)},fade:function(t,e,i,r,s,n,a){return this.fadeEffect.start(true,t,e,i,r,s,n,a)},flash:function(t,e,i,r,s,n,a){return this.flashEffect.start(t,e,i,r,s,n,a)},shake:function(t,e,i,r,s){return this.shakeEffect.start(t,e,i,r,s)},pan:function(t,e,i,r,s,n,a){return this.panEffect.start(t,e,i,r,s,n,a)},rotateTo:function(t,e,i,r,s,n,a){return this.rotateToEffect.start(t,e,i,r,s,n,a)},zoomTo:function(t,e,i,r,s,n){return this.zoomEffect.start(t,e,i,r,s,n)},preRender:function(){this.renderList.length=0;var t=this.width;var e=this.height;var i=t*.5;var r=e*.5;var n=this.zoomX;var a=this.zoomY;var o=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(n)&&Number.isInteger(a);var l=t*this.originX;var c=e*this.originY;var f=this._follow;var d=this.deadzone;var v=this.scrollX;var p=this.scrollY;if(d){s(d,this.midPoint.x,this.midPoint.y)}var g=false;if(f&&!this.panEffect.isRunning){var m=this.lerp;var y=f.x-this.followOffset.x;var x=f.y-this.followOffset.y;if(d){if(y<d.x){v=u(v,v-(d.x-y),m.x)}else if(y>d.right){v=u(v,v+(y-d.right),m.x)}if(x<d.y){p=u(p,p-(d.y-x),m.y)}else if(x>d.bottom){p=u(p,p+(x-d.bottom),m.y)}}else{v=u(v,y-l,m.x);p=u(p,x-c,m.y)}g=true}if(this.roundPixels){v=Math.floor(v);p=Math.floor(p)}if(this.useBounds){v=this.clampX(v);p=this.clampY(p)}this.scrollX=v;this.scrollY=p;var b=v+i;var T=p+r;this.midPoint.set(b,T);var w=Math.floor(t/n+.5);var E=Math.floor(e/a+.5);var S=Math.floor(b-w/2+.5);var A=Math.floor(T-E/2+.5);this.worldView.setTo(S,A,w,E);o.applyITRS(Math.floor(this.x+l+.5),Math.floor(this.y+c+.5),this.rotation,n,a);o.translate(-l,-c);this.shakeEffect.preRender();if(g){this.emit(h.FOLLOW_UPDATE,this,f)}},setLerp:function(t,e){if(t===void 0){t=1}if(e===void 0){e=t}this.lerp.set(t,e);return this},setFollowOffset:function(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.followOffset.set(t,e);return this},startFollow:function(t,e,i,r,s,a){if(e===void 0){e=false}if(i===void 0){i=1}if(r===void 0){r=i}if(s===void 0){s=0}if(a===void 0){a=s}this._follow=t;this.roundPixels=e;i=n(i,0,1);r=n(r,0,1);this.lerp.set(i,r);this.followOffset.set(s,a);var o=this.width/2;var l=this.height/2;var h=t.x-s;var u=t.y-a;this.midPoint.set(h,u);this.scrollX=h-o;this.scrollY=u-l;if(this.useBounds){this.scrollX=this.clampX(this.scrollX);this.scrollY=this.clampY(this.scrollY)}return this},stopFollow:function(){this._follow=null;return this},resetFX:function(){this.rotateToEffect.reset();this.panEffect.reset();this.shakeEffect.reset();this.flashEffect.reset();this.fadeEffect.reset();return this},update:function(t,e){if(this.visible){this.rotateToEffect.update(t,e);this.panEffect.update(t,e);this.zoomEffect.update(t,e);this.shakeEffect.update(t,e);this.flashEffect.update(t,e);this.fadeEffect.update(t,e)}},destroy:function(){this.resetFX();r.prototype.destroy.call(this);this._follow=null;this.deadzone=null}});t.exports=d},32743:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(38058);var s=i(83419);var n=i(95540);var a=i(37277);var o=i(37303);var l=i(97480);var h=i(44594);var u=new s({initialize:function CameraManager2(t){this.scene=t;this.systems=t.sys;this.roundPixels=t.sys.game.config.roundPixels;this.cameras=[];this.main;this.default;t.sys.events.once(h.BOOT,this.boot,this);t.sys.events.on(h.START,this.start,this)},boot:function(){var t=this.systems;if(t.settings.cameras){this.fromJSON(t.settings.cameras)}else{this.add()}this.main=this.cameras[0];this.default=new r(0,0,t.scale.width,t.scale.height).setScene(this.scene);t.game.scale.on(l.RESIZE,this.onResize,this);this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var t=this.systems;if(t.settings.cameras){this.fromJSON(t.settings.cameras)}else{this.add()}this.main=this.cameras[0]}var e=this.systems.events;e.on(h.UPDATE,this.update,this);e.once(h.SHUTDOWN,this.shutdown,this)},add:function(t,e,i,s,n,a){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.scene.sys.scale.width}if(s===void 0){s=this.scene.sys.scale.height}if(n===void 0){n=false}if(a===void 0){a=""}var o=new r(t,e,i,s);o.setName(a);o.setScene(this.scene);o.setRoundPixels(this.roundPixels);o.id=this.getNextID();this.cameras.push(o);if(n){this.main=o}return o},addExisting:function(t,e){if(e===void 0){e=false}var i=this.cameras.indexOf(t);if(i===-1){t.id=this.getNextID();t.setRoundPixels(this.roundPixels);this.cameras.push(t);if(e){this.main=t}return t}return null},getNextID:function(){var t=this.cameras;var e=1;for(var i=0;i<32;i++){var r=false;for(var s=0;s<t.length;s++){var n=t[s];if(n&&n.id===e){r=true;continue}}if(r){e=e<<1}else{return e}}return 0},getTotal:function(t){if(t===void 0){t=false}var e=0;var i=this.cameras;for(var r=0;r<i.length;r++){var s=i[r];if(!t||t&&s.visible){e++}}return e},fromJSON:function(t){if(!Array.isArray(t)){t=[t]}var e=this.scene.sys.scale.width;var i=this.scene.sys.scale.height;for(var r=0;r<t.length;r++){var s=t[r];var a=n(s,"x",0);var o=n(s,"y",0);var l=n(s,"width",e);var h=n(s,"height",i);var u=this.add(a,o,l,h);u.name=n(s,"name","");u.zoom=n(s,"zoom",1);u.rotation=n(s,"rotation",0);u.scrollX=n(s,"scrollX",0);u.scrollY=n(s,"scrollY",0);u.roundPixels=n(s,"roundPixels",false);u.visible=n(s,"visible",true);var c=n(s,"backgroundColor",false);if(c){u.setBackgroundColor(c)}var f=n(s,"bounds",null);if(f){var d=n(f,"x",0);var v=n(f,"y",0);var p=n(f,"width",e);var g=n(f,"height",i);u.setBounds(d,v,p,g)}}return this},getCamera:function(t){var e=this.cameras;for(var i=0;i<e.length;i++){if(e[i].name===t){return e[i]}}return null},getCamerasBelowPointer:function(t){var e=this.cameras;var i=t.x;var r=t.y;var s=[];for(var n=0;n<e.length;n++){var a=e[n];if(a.visible&&a.inputEnabled&&o(a,i,r)){s.unshift(a)}}return s},remove:function(t,e){if(e===void 0){e=true}if(!Array.isArray(t)){t=[t]}var i=0;var r=this.cameras;for(var s=0;s<t.length;s++){var n=r.indexOf(t[s]);if(n!==-1){if(e){r[n].destroy()}else{r[n].renderList=[]}r.splice(n,1);i++}}if(!this.main&&r[0]){this.main=r[0]}return i},render:function(t,e){var i=this.scene;var r=this.cameras;for(var s=0;s<r.length;s++){var n=r[s];if(n.visible&&n.alpha>0){n.preRender();var a=this.getVisibleChildren(e.getChildren(),n);t.render(i,a,n)}}},getVisibleChildren:function(t,e){return t.filter((function(t){return t.willRender(e)}))},resetAll:function(){for(var t=0;t<this.cameras.length;t++){this.cameras[t].destroy()}this.cameras=[];this.main=this.add();return this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++){this.cameras[i].update(t,e)}},onResize:function(t,e,i,r,s){for(var n=0;n<this.cameras.length;n++){var a=this.cameras[n];if(a._x===0&&a._y===0&&a._width===r&&a._height===s){a.setSize(e.width,e.height)}}},resize:function(t,e){for(var i=0;i<this.cameras.length;i++){this.cameras[i].setSize(t,e)}},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++){this.cameras[t].destroy()}this.cameras=[];var e=this.systems.events;e.off(h.UPDATE,this.update,this);e.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.default.destroy();this.systems.events.off(h.START,this.start,this);this.systems.events.off(h.DESTROY,this.destroy,this);this.systems.game.scale.off(l.RESIZE,this.onResize,this);this.scene=null;this.systems=null}});a.register("CameraManager",u,"cameras");t.exports=u},5020:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(19715);var a=new s({initialize:function Fade2(t){this.camera=t;this.isRunning=false;this.isComplete=false;this.direction=true;this.duration=0;this.red=0;this.green=0;this.blue=0;this.alpha=0;this.progress=0;this._elapsed=0;this._onUpdate;this._onUpdateScope},start:function(t,e,i,r,s,a,o,l){if(t===void 0){t=true}if(e===void 0){e=1e3}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}if(a===void 0){a=false}if(o===void 0){o=null}if(l===void 0){l=this.camera.scene}if(!a&&this.isRunning){return this.camera}this.isRunning=true;this.isComplete=false;this.duration=e;this.direction=t;this.progress=0;this.red=i;this.green=r;this.blue=s;this.alpha=t?Number.MIN_VALUE:1;this._elapsed=0;this._onUpdate=o;this._onUpdateScope=l;var h=t?n.FADE_OUT_START:n.FADE_IN_START;this.camera.emit(h,this.camera,this,e,i,r,s);return this.camera},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;this.progress=r(this._elapsed/this.duration,0,1);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.camera,this.progress)}if(this._elapsed<this.duration){this.alpha=this.direction?this.progress:1-this.progress}else{this.alpha=this.direction?1:0;this.effectComplete()}},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete){return false}var e=this.camera;t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";t.fillRect(e.x,e.y,e.width,e.height);return true},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete){return false}var i=this.camera;var r=this.red/255;var s=this.green/255;var n=this.blue/255;t.drawFillRect(i.x,i.y,i.width,i.height,e(n,s,r,1),this.alpha);return true},effectComplete:function(){this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.isComplete=true;var t=this.direction?n.FADE_OUT_COMPLETE:n.FADE_IN_COMPLETE;this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=false;this.isComplete=false;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null}});t.exports=a},10662:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(19715);var a=new s({initialize:function Flash2(t){this.camera=t;this.isRunning=false;this.duration=0;this.red=0;this.green=0;this.blue=0;this.alpha=1;this.progress=0;this._elapsed=0;this._alpha;this._onUpdate;this._onUpdateScope},start:function(t,e,i,r,s,a,o){if(t===void 0){t=250}if(e===void 0){e=255}if(i===void 0){i=255}if(r===void 0){r=255}if(s===void 0){s=false}if(a===void 0){a=null}if(o===void 0){o=this.camera.scene}if(!s&&this.isRunning){return this.camera}this.isRunning=true;this.duration=t;this.progress=0;this.red=e;this.green=i;this.blue=r;this._alpha=this.alpha;this._elapsed=0;this._onUpdate=a;this._onUpdateScope=o;this.camera.emit(n.FLASH_START,this.camera,this,t,e,i,r);return this.camera},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;this.progress=r(this._elapsed/this.duration,0,1);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.camera,this.progress)}if(this._elapsed<this.duration){this.alpha=this._alpha*(1-this.progress)}else{this.effectComplete()}},postRenderCanvas:function(t){if(!this.isRunning){return false}var e=this.camera;t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";t.fillRect(e.x,e.y,e.width,e.height);return true},postRenderWebGL:function(t,e){if(!this.isRunning){return false}var i=this.camera;var r=this.red/255;var s=this.green/255;var n=this.blue/255;t.drawFillRect(i.x,i.y,i.width,i.height,e(n,s,r,1),this.alpha);return true},effectComplete:function(){this.alpha=this._alpha;this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.camera.emit(n.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=false;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null}});t.exports=a},20359:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(62640);var a=i(19715);var o=i(26099);var l=new s({initialize:function Pan2(t){this.camera=t;this.isRunning=false;this.duration=0;this.source=new o;this.current=new o;this.destination=new o;this.ease;this.progress=0;this._elapsed=0;this._onUpdate;this._onUpdateScope},start:function(t,e,i,r,s,o,l){if(i===void 0){i=1e3}if(r===void 0){r=n.Linear}if(s===void 0){s=false}if(o===void 0){o=null}if(l===void 0){l=this.camera.scene}var h=this.camera;if(!s&&this.isRunning){return h}this.isRunning=true;this.duration=i;this.progress=0;this.source.set(h.scrollX,h.scrollY);this.destination.set(t,e);h.getScroll(t,e,this.current);if(typeof r==="string"&&n.hasOwnProperty(r)){this.ease=n[r]}else if(typeof r==="function"){this.ease=r}this._elapsed=0;this._onUpdate=o;this._onUpdateScope=l;this.camera.emit(a.PAN_START,this.camera,this,i,t,e);return h},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;var i=r(this._elapsed/this.duration,0,1);this.progress=i;var s=this.camera;if(this._elapsed<this.duration){var n=this.ease(i);s.getScroll(this.destination.x,this.destination.y,this.current);var a=this.source.x+(this.current.x-this.source.x)*n;var o=this.source.y+(this.current.y-this.source.y)*n;s.setScroll(a,o);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,s,i,a,o)}}else{s.centerOn(this.destination.x,this.destination.y);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,s,i,s.scrollX,s.scrollY)}this.effectComplete()}},effectComplete:function(){this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=false;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null;this.source=null;this.destination=null}});t.exports=l},34208:(t,e,i)=>{
/**
               * @author       Jason Nicholls <nicholls.jason@gmail.com>
               * @copyright    2018 Photon Storm Ltd.
               * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(19715);var a=i(62640);var o=new s({initialize:function RotateTo2(t){this.camera=t;this.isRunning=false;this.duration=0;this.source=0;this.current=0;this.destination=0;this.ease;this.progress=0;this._elapsed=0;this._onUpdate;this._onUpdateScope;this.clockwise=true;this.shortestPath=false},start:function(t,e,i,r,s,o,l){if(i===void 0){i=1e3}if(r===void 0){r=a.Linear}if(s===void 0){s=false}if(o===void 0){o=null}if(l===void 0){l=this.camera.scene}if(e===void 0){e=false}this.shortestPath=e;var h=t;if(t<0){h=-1*t;this.clockwise=false}else{this.clockwise=true}var u=360*Math.PI/180;h=h-Math.floor(h/u)*u;var c=this.camera;if(!s&&this.isRunning){return c}this.isRunning=true;this.duration=i;this.progress=0;this.source=c.rotation;this.destination=h;if(typeof r==="string"&&a.hasOwnProperty(r)){this.ease=a[r]}else if(typeof r==="function"){this.ease=r}this._elapsed=0;this._onUpdate=o;this._onUpdateScope=l;if(this.shortestPath){var f=0;var d=0;if(this.destination>this.source){f=Math.abs(this.destination-this.source)}else{f=Math.abs(this.destination+u)-this.source}if(this.source>this.destination){d=Math.abs(this.source-this.destination)}else{d=Math.abs(this.source+u)-this.destination}if(f<d){this.clockwise=true}else if(f>d){this.clockwise=false}}this.camera.emit(n.ROTATE_START,this.camera,this,i,h);return c},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;var i=r(this._elapsed/this.duration,0,1);this.progress=i;var s=this.camera;if(this._elapsed<this.duration){var n=this.ease(i);this.current=s.rotation;var a=0;var o=360*Math.PI/180;var l=this.destination;var h=this.current;if(this.clockwise===false){l=this.current;h=this.destination}if(l>=h){a=Math.abs(l-h)}else{a=Math.abs(l+o)-h}var u=0;if(this.clockwise){u=s.rotation+a*n}else{u=s.rotation-a*n}s.rotation=u;if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,s,i,u)}}else{s.rotation=this.destination;if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,s,i,this.destination)}this.effectComplete()}},effectComplete:function(){this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.camera.emit(n.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=false;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null;this.source=null;this.destination=null}});t.exports=o},30330:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(19715);var a=i(26099);var o=new s({initialize:function Shake2(t){this.camera=t;this.isRunning=false;this.duration=0;this.intensity=new a;this.progress=0;this._elapsed=0;this._offsetX=0;this._offsetY=0;this._onUpdate;this._onUpdateScope},start:function(t,e,i,r,s){if(t===void 0){t=100}if(e===void 0){e=.05}if(i===void 0){i=false}if(r===void 0){r=null}if(s===void 0){s=this.camera.scene}if(!i&&this.isRunning){return this.camera}this.isRunning=true;this.duration=t;this.progress=0;if(typeof e==="number"){this.intensity.set(e)}else{this.intensity.set(e.x,e.y)}this._elapsed=0;this._offsetX=0;this._offsetY=0;this._onUpdate=r;this._onUpdateScope=s;this.camera.emit(n.SHAKE_START,this.camera,this,t,e);return this.camera},preRender:function(){if(this.isRunning){this.camera.matrix.translate(this._offsetX,this._offsetY)}},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;this.progress=r(this._elapsed/this.duration,0,1);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.camera,this.progress)}if(this._elapsed<this.duration){var i=this.intensity;var s=this.camera.width;var n=this.camera.height;var a=this.camera.zoom;this._offsetX=(Math.random()*i.x*s*2-i.x*s)*a;this._offsetY=(Math.random()*i.y*n*2-i.y*n)*a;if(this.camera.roundPixels){this._offsetX=Math.round(this._offsetX);this._offsetY=Math.round(this._offsetY)}}else{this.effectComplete()}},effectComplete:function(){this._offsetX=0;this._offsetY=0;this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.camera.emit(n.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=false;this._offsetX=0;this._offsetY=0;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null;this.intensity=null}});t.exports=o},45641:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(62640);var a=i(19715);var o=new s({initialize:function Zoom2(t){this.camera=t;this.isRunning=false;this.duration=0;this.source=1;this.destination=1;this.ease;this.progress=0;this._elapsed=0;this._onUpdate;this._onUpdateScope},start:function(t,e,i,r,s,o){if(e===void 0){e=1e3}if(i===void 0){i=n.Linear}if(r===void 0){r=false}if(s===void 0){s=null}if(o===void 0){o=this.camera.scene}var l=this.camera;if(!r&&this.isRunning){return l}this.isRunning=true;this.duration=e;this.progress=0;this.source=l.zoom;this.destination=t;if(typeof i==="string"&&n.hasOwnProperty(i)){this.ease=n[i]}else if(typeof i==="function"){this.ease=i}this._elapsed=0;this._onUpdate=s;this._onUpdateScope=o;this.camera.emit(a.ZOOM_START,this.camera,this,e,t);return l},update:function(t,e){if(!this.isRunning){return}this._elapsed+=e;this.progress=r(this._elapsed/this.duration,0,1);if(this._elapsed<this.duration){this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)}}else{this.camera.zoom=this.destination;if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination)}this.effectComplete()}},effectComplete:function(){this._onUpdate=null;this._onUpdateScope=null;this.isRunning=false;this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=false;this._onUpdate=null;this._onUpdateScope=null},destroy:function(){this.reset();this.camera=null}});t.exports=o},20052:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="cameradestroy"},32726:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerafadeincomplete"},87807:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerafadeinstart"},45917:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerafadeoutcomplete"},95666:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerafadeoutstart"},47056:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="cameraflashcomplete"},91261:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="cameraflashstart"},45047:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="followupdate"},81927:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerapancomplete"},74264:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerapanstart"},54419:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="postrender"},79330:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="prerender"},93183:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerarotatecomplete"},80112:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerarotatestart"},62252:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerashakecomplete"},86017:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerashakestart"},539:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerazoomcomplete"},51892:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="camerazoomstart"},19715:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(35154);var n=new r({initialize:function FixedKeyControl2(t){this.camera=s(t,"camera",null);this.left=s(t,"left",null);this.right=s(t,"right",null);this.up=s(t,"up",null);this.down=s(t,"down",null);this.zoomIn=s(t,"zoomIn",null);this.zoomOut=s(t,"zoomOut",null);this.zoomSpeed=s(t,"zoomSpeed",.01);this.minZoom=s(t,"minZoom",.001);this.maxZoom=s(t,"maxZoom",1e3);this.speedX=0;this.speedY=0;var e=s(t,"speed",null);if(typeof e==="number"){this.speedX=e;this.speedY=e}else{this.speedX=s(t,"speed.x",0);this.speedY=s(t,"speed.y",0)}this._zoom=0;this.active=this.camera!==null},start:function(){this.active=this.camera!==null;return this},stop:function(){this.active=false;return this},setCamera:function(t){this.camera=t;return this},update:function(t){if(!this.active){return}if(t===void 0){t=1}var e=this.camera;if(this.up&&this.up.isDown){e.scrollY-=this.speedY*t|0}else if(this.down&&this.down.isDown){e.scrollY+=this.speedY*t|0}if(this.left&&this.left.isDown){e.scrollX-=this.speedX*t|0}else if(this.right&&this.right.isDown){e.scrollX+=this.speedX*t|0}if(this.zoomIn&&this.zoomIn.isDown){e.zoom-=this.zoomSpeed;if(e.zoom<this.minZoom){e.zoom=this.minZoom}}else if(this.zoomOut&&this.zoomOut.isDown){e.zoom+=this.zoomSpeed;if(e.zoom>this.maxZoom){e.zoom=this.maxZoom}}},destroy:function(){this.camera=null;this.left=null;this.right=null;this.up=null;this.down=null;this.zoomIn=null;this.zoomOut=null}});t.exports=n},58818:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(35154);var n=new r({initialize:function SmoothedKeyControl2(t){this.camera=s(t,"camera",null);this.left=s(t,"left",null);this.right=s(t,"right",null);this.up=s(t,"up",null);this.down=s(t,"down",null);this.zoomIn=s(t,"zoomIn",null);this.zoomOut=s(t,"zoomOut",null);this.zoomSpeed=s(t,"zoomSpeed",.01);this.minZoom=s(t,"minZoom",.001);this.maxZoom=s(t,"maxZoom",1e3);this.accelX=0;this.accelY=0;var e=s(t,"acceleration",null);if(typeof e==="number"){this.accelX=e;this.accelY=e}else{this.accelX=s(t,"acceleration.x",0);this.accelY=s(t,"acceleration.y",0)}this.dragX=0;this.dragY=0;var i=s(t,"drag",null);if(typeof i==="number"){this.dragX=i;this.dragY=i}else{this.dragX=s(t,"drag.x",0);this.dragY=s(t,"drag.y",0)}this.maxSpeedX=0;this.maxSpeedY=0;var r=s(t,"maxSpeed",null);if(typeof r==="number"){this.maxSpeedX=r;this.maxSpeedY=r}else{this.maxSpeedX=s(t,"maxSpeed.x",0);this.maxSpeedY=s(t,"maxSpeed.y",0)}this._speedX=0;this._speedY=0;this._zoom=0;this.active=this.camera!==null},start:function(){this.active=this.camera!==null;return this},stop:function(){this.active=false;return this},setCamera:function(t){this.camera=t;return this},update:function(t){if(!this.active){return}if(t===void 0){t=1}var e=this.camera;if(this._speedX>0){this._speedX-=this.dragX*t;if(this._speedX<0){this._speedX=0}}else if(this._speedX<0){this._speedX+=this.dragX*t;if(this._speedX>0){this._speedX=0}}if(this._speedY>0){this._speedY-=this.dragY*t;if(this._speedY<0){this._speedY=0}}else if(this._speedY<0){this._speedY+=this.dragY*t;if(this._speedY>0){this._speedY=0}}if(this.up&&this.up.isDown){this._speedY+=this.accelY;if(this._speedY>this.maxSpeedY){this._speedY=this.maxSpeedY}}else if(this.down&&this.down.isDown){this._speedY-=this.accelY;if(this._speedY<-this.maxSpeedY){this._speedY=-this.maxSpeedY}}if(this.left&&this.left.isDown){this._speedX+=this.accelX;if(this._speedX>this.maxSpeedX){this._speedX=this.maxSpeedX}}else if(this.right&&this.right.isDown){this._speedX-=this.accelX;if(this._speedX<-this.maxSpeedX){this._speedX=-this.maxSpeedX}}if(this.zoomIn&&this.zoomIn.isDown){this._zoom=-this.zoomSpeed}else if(this.zoomOut&&this.zoomOut.isDown){this._zoom=this.zoomSpeed}else{this._zoom=0}if(this._speedX!==0){e.scrollX-=this._speedX*t|0}if(this._speedY!==0){e.scrollY-=this._speedY*t|0}if(this._zoom!==0){e.zoom+=this._zoom;if(e.zoom<this.minZoom){e.zoom=this.minZoom}else if(e.zoom>this.maxZoom){e.zoom=this.maxZoom}}},destroy:function(){this.camera=null;this.left=null;this.right=null;this.up=null;this.down=null;this.zoomIn=null;this.zoomOut=null}});t.exports=n},38865:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=r},69547:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(8054);var n=i(42363);var a=i(82264);var o=i(95540);var l=i(35154);var h=i(41212);var u=i(29747);var c=i(75508);var f=i(36060);var d=i(80333);var v=new r({initialize:function Config2(t){if(t===void 0){t={}}var e=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"];var i="#ffffff";var r=l(t,"scale",null);this.width=l(r,"width",1024,t);this.height=l(r,"height",768,t);this.zoom=l(r,"zoom",1,t);this.parent=l(r,"parent",void 0,t);this.scaleMode=l(r,r?"mode":"scaleMode",0,t);this.expandParent=l(r,"expandParent",true,t);this.autoRound=l(r,"autoRound",false,t);this.autoCenter=l(r,"autoCenter",0,t);this.resizeInterval=l(r,"resizeInterval",500,t);this.fullscreenTarget=l(r,"fullscreenTarget",null,t);this.minWidth=l(r,"min.width",0,t);this.maxWidth=l(r,"max.width",0,t);this.minHeight=l(r,"min.height",0,t);this.maxHeight=l(r,"max.height",0,t);this.snapWidth=l(r,"snap.width",0,t);this.snapHeight=l(r,"snap.height",0,t);this.renderType=l(t,"type",s.AUTO);this.canvas=l(t,"canvas",null);this.context=l(t,"context",null);this.canvasStyle=l(t,"canvasStyle",null);this.customEnvironment=l(t,"customEnvironment",false);this.sceneConfig=l(t,"scene",null);this.seed=l(t,"seed",[(Date.now()*Math.random()).toString()]);c.RND=new c.RandomDataGenerator(this.seed);this.gameTitle=l(t,"title","");this.gameURL=l(t,"url","https://phaser.io/"+s.LOG_VERSION);this.gameVersion=l(t,"version","");this.autoFocus=l(t,"autoFocus",true);this.stableSort=l(t,"stableSort",-1);if(this.stableSort===-1){this.stableSort=a.browser.es2019?1:0}a.features.stableSort=this.stableSort;this.domCreateContainer=l(t,"dom.createContainer",false);this.domPointerEvents=l(t,"dom.pointerEvents","none");this.inputKeyboard=l(t,"input.keyboard",true);this.inputKeyboardEventTarget=l(t,"input.keyboard.target",window);this.inputKeyboardCapture=l(t,"input.keyboard.capture",[]);this.inputMouse=l(t,"input.mouse",true);this.inputMouseEventTarget=l(t,"input.mouse.target",null);this.inputMousePreventDefaultDown=l(t,"input.mouse.preventDefaultDown",true);this.inputMousePreventDefaultUp=l(t,"input.mouse.preventDefaultUp",true);this.inputMousePreventDefaultMove=l(t,"input.mouse.preventDefaultMove",true);this.inputMousePreventDefaultWheel=l(t,"input.mouse.preventDefaultWheel",true);this.inputTouch=l(t,"input.touch",a.input.touch);this.inputTouchEventTarget=l(t,"input.touch.target",null);this.inputTouchCapture=l(t,"input.touch.capture",true);this.inputActivePointers=l(t,"input.activePointers",1);this.inputSmoothFactor=l(t,"input.smoothFactor",0);this.inputWindowEvents=l(t,"input.windowEvents",true);this.inputGamepad=l(t,"input.gamepad",false);this.inputGamepadEventTarget=l(t,"input.gamepad.target",window);this.disableContextMenu=l(t,"disableContextMenu",false);this.audio=l(t,"audio",{});this.hideBanner=l(t,"banner",null)===false;this.hidePhaser=l(t,"banner.hidePhaser",false);this.bannerTextColor=l(t,"banner.text",i);this.bannerBackgroundColor=l(t,"banner.background",e);if(this.gameTitle===""&&this.hidePhaser){this.hideBanner=true}this.fps=l(t,"fps",null);this.disablePreFX=l(t,"disablePreFX",false);this.disablePostFX=l(t,"disablePostFX",false);var v=l(t,"render",null);this.pipeline=l(v,"pipeline",null,t);this.autoMobilePipeline=l(v,"autoMobilePipeline",true,t);this.defaultPipeline=l(v,"defaultPipeline",f.MULTI_PIPELINE,t);this.antialias=l(v,"antialias",true,t);this.antialiasGL=l(v,"antialiasGL",true,t);this.mipmapFilter=l(v,"mipmapFilter","",t);this.desynchronized=l(v,"desynchronized",false,t);this.roundPixels=l(v,"roundPixels",false,t);this.pixelArt=l(v,"pixelArt",this.zoom!==1,t);if(this.pixelArt){this.antialias=false;this.antialiasGL=false;this.roundPixels=true}this.transparent=l(v,"transparent",false,t);this.clearBeforeRender=l(v,"clearBeforeRender",true,t);this.preserveDrawingBuffer=l(v,"preserveDrawingBuffer",false,t);this.premultipliedAlpha=l(v,"premultipliedAlpha",true,t);this.failIfMajorPerformanceCaveat=l(v,"failIfMajorPerformanceCaveat",false,t);this.powerPreference=l(v,"powerPreference","default",t);this.batchSize=l(v,"batchSize",4096,t);this.maxTextures=l(v,"maxTextures",-1,t);this.maxLights=l(v,"maxLights",10,t);var p=l(t,"backgroundColor",0);this.backgroundColor=d(p);if(this.transparent){this.backgroundColor=d(0);this.backgroundColor.alpha=0}this.preBoot=l(t,"callbacks.preBoot",u);this.postBoot=l(t,"callbacks.postBoot",u);this.physics=l(t,"physics",{});this.defaultPhysicsSystem=l(this.physics,"default",false);this.loaderBaseURL=l(t,"loader.baseURL","");this.loaderPath=l(t,"loader.path","");this.loaderMaxParallelDownloads=l(t,"loader.maxParallelDownloads",a.os.android?6:32);this.loaderCrossOrigin=l(t,"loader.crossOrigin",void 0);this.loaderResponseType=l(t,"loader.responseType","");this.loaderAsync=l(t,"loader.async",true);this.loaderUser=l(t,"loader.user","");this.loaderPassword=l(t,"loader.password","");this.loaderTimeout=l(t,"loader.timeout",0);this.loaderMaxRetries=l(t,"loader.maxRetries",2);this.loaderWithCredentials=l(t,"loader.withCredentials",false);this.loaderImageLoadType=l(t,"loader.imageLoadType","XHR");this.loaderLocalScheme=l(t,"loader.localScheme",["file://","capacitor://"]);this.glowFXQuality=l(t,"fx.glow.quality",.1);this.glowFXDistance=l(t,"fx.glow.distance",10);this.installGlobalPlugins=[];this.installScenePlugins=[];var g=l(t,"plugins",null);var m=n.DefaultScene;if(g){if(Array.isArray(g)){this.defaultPlugins=g}else if(h(g)){this.installGlobalPlugins=o(g,"global",[]);this.installScenePlugins=o(g,"scene",[]);if(Array.isArray(g.default)){m=g.default}else if(Array.isArray(g.defaultMerge)){m=m.concat(g.defaultMerge)}}}this.defaultPlugins=m;var y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=l(t,"images.default",y+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==");this.missingImage=l(t,"images.missing",y+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==");this.whiteImage=l(t,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC");if(window){if(window.FORCE_WEBGL){this.renderType=s.WEBGL}else if(window.FORCE_CANVAS){this.renderType=s.CANVAS}}}});t.exports=v},86054:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20623);var s=i(27919);var n=i(8054);var a=i(89357);var CreateRenderer=function(t){var e=t.config;if((e.customEnvironment||e.canvas)&&e.renderType===n.AUTO){throw new Error("Must set explicit renderType in custom environment")}if(!e.customEnvironment&&!e.canvas&&e.renderType!==n.HEADLESS){if(e.renderType===n.AUTO){e.renderType=a.webGL?n.WEBGL:n.CANVAS}if(e.renderType===n.WEBGL){if(!a.webGL){throw new Error("Cannot create WebGL context, aborting.")}}else if(e.renderType===n.CANVAS){if(!a.canvas){throw new Error("Cannot create Canvas context, aborting.")}}else{throw new Error("Unknown value for renderer type: "+e.renderType)}}if(!e.antialias){s.disableSmoothing()}var o=t.scale.baseSize;var l=o.width;var h=o.height;if(e.canvas){t.canvas=e.canvas;t.canvas.width=l;t.canvas.height=h}else{t.canvas=s.create(t,l,h,e.renderType)}if(e.canvasStyle){t.canvas.style=e.canvasStyle}if(!e.antialias){r.setCrisp(t.canvas)}if(e.renderType===n.HEADLESS){return}var u;var c;{u=i(68627);c=i(74797);if(e.renderType===n.WEBGL){t.renderer=new c(t)}else{t.renderer=new u(t);t.context=t.renderer.gameContext}}};t.exports=CreateRenderer},96391:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8054);var DebugHeader=function(t){var e=t.config;if(e.hideBanner){return}var i="WebGL";if(e.renderType===r.CANVAS){i="Canvas"}else if(e.renderType===r.HEADLESS){i="Headless"}var s=e.audio;var n=t.device.audio;var a;if(n.webAudio&&!s.disableWebAudio){a="Web Audio"}else if(s.noAudio||!n.webAudio&&!n.audioData){a="No Audio"}else{a="HTML5 Audio"}if(!t.device.browser.ie){var o="";var l=[o];if(Array.isArray(e.bannerBackgroundColor)){var h;e.bannerBackgroundColor.forEach((function(t){o=o.concat("%c ");l.push("background: "+t);h=t}));l[l.length-1]="color: "+e.bannerTextColor+"; background: "+h}else{o=o.concat("%c ");l.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)}l.push("background: transparent");if(e.gameTitle){o=o.concat(e.gameTitle);if(e.gameVersion){o=o.concat(" v"+e.gameVersion)}if(!e.hidePhaser){o=o.concat(" / ")}}var u="";if(!e.hidePhaser){o=o.concat("Phaser v"+r.VERSION+u+" ("+i+" | "+a+")")}o=o.concat(" %c "+e.gameURL);l[0]=o;console.log.apply(console,l)}else if(window["console"]){console.log("Phaser v"+r.VERSION+" / https://phaser.io")}};t.exports=DebugHeader},50127:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40366);var s=i(60848);var n=i(24047);var a=i(27919);var o=i(83419);var l=i(69547);var h=i(83719);var u=i(86054);var c=i(45893);var f=i(96391);var d=i(82264);var v=i(57264);var p=i(50792);var g=i(8443);var m=i(7003);var y=i(37277);var x=i(77332);var b=i(76531);var T=i(60903);var w=i(69442);var E=i(17130);var S=i(65898);var A=i(51085);{var C=i(14747)}var O=new o({initialize:function Game3(t){this.config=new l(t);this.renderer=null;this.domContainer=null;this.canvas=null;this.context=null;this.isBooted=false;this.isRunning=false;this.events=new p;this.anims=new s(this);this.textures=new E(this);this.cache=new n(this);this.registry=new c(this,new p);this.input=new m(this,this.config);this.scene=new T(this,this.config.sceneConfig);this.device=d;this.scale=new b(this,this.config);this.sound=null;{this.sound=C.create(this)}this.loop=new S(this,this.config.fps);this.plugins=new x(this,this.config);this.pendingDestroy=false;this.removeCanvas=false;this.noReturn=false;this.hasFocus=false;this.isPaused=false;v(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=true;this.config.preBoot(this);this.scale.preBoot();u(this);h(this);f(this);r(this.canvas,this.config.parent);this.textures.once(w.READY,this.texturesReady,this);this.events.emit(g.BOOT)},texturesReady:function(){this.events.emit(g.READY);this.start()},start:function(){this.isRunning=true;this.config.postBoot(this);if(this.renderer){this.loop.start(this.step.bind(this))}else{this.loop.start(this.headlessStep.bind(this))}A(this);var t=this.events;t.on(g.HIDDEN,this.onHidden,this);t.on(g.VISIBLE,this.onVisible,this);t.on(g.BLUR,this.onBlur,this);t.on(g.FOCUS,this.onFocus,this)},step:function(t,e){if(this.pendingDestroy){return this.runDestroy()}if(this.isPaused){return}var i=this.events;i.emit(g.PRE_STEP,t,e);i.emit(g.STEP,t,e);this.scene.update(t,e);i.emit(g.POST_STEP,t,e);var r=this.renderer;r.preRender();i.emit(g.PRE_RENDER,r,t,e);this.scene.render(r);r.postRender();i.emit(g.POST_RENDER,r,t,e)},headlessStep:function(t,e){if(this.pendingDestroy){return this.runDestroy()}if(this.isPaused){return}var i=this.events;i.emit(g.PRE_STEP,t,e);i.emit(g.STEP,t,e);this.scene.update(t,e);i.emit(g.POST_STEP,t,e);this.scene.isProcessing=false;i.emit(g.PRE_RENDER,null,t,e);i.emit(g.POST_RENDER,null,t,e)},onHidden:function(){this.loop.pause();this.events.emit(g.PAUSE)},pause:function(){var t=this.isPaused;this.isPaused=true;if(!t){this.events.emit(g.PAUSE)}},onVisible:function(){this.loop.resume();this.events.emit(g.RESUME,this.loop.pauseDuration)},resume:function(){var t=this.isPaused;this.isPaused=false;if(t){this.events.emit(g.RESUME,0)}},onBlur:function(){this.hasFocus=false;this.loop.blur()},onFocus:function(){this.hasFocus=true;this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(t,e){if(e===void 0){e=false}this.pendingDestroy=true;this.removeCanvas=t;this.noReturn=e},runDestroy:function(){this.scene.destroy();this.events.emit(g.DESTROY);this.events.removeAllListeners();if(this.renderer){this.renderer.destroy()}if(this.removeCanvas&&this.canvas){a.remove(this.canvas);if(this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas)}}if(this.domContainer&&this.domContainer.parentNode){this.domContainer.parentNode.removeChild(this.domContainer)}this.loop.destroy();this.pendingDestroy=false}});t.exports=O},65898:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(35154);var n=i(29747);var a=i(43092);var o=new r({initialize:function TimeStep2(t,e){this.game=t;this.raf=new a;this.started=false;this.running=false;this.minFps=s(e,"min",5);this.targetFps=s(e,"target",60);this.fpsLimit=s(e,"limit",0);this.hasFpsLimit=this.fpsLimit>0;this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0;this._min=1e3/this.minFps;this._target=1e3/this.targetFps;this.actualFps=this.targetFps;this.nextFpsUpdate=0;this.framesThisSecond=0;this.callback=n;this.forceSetTimeOut=s(e,"forceSetTimeOut",false);this.time=0;this.startTime=0;this.lastTime=0;this.frame=0;this.inFocus=true;this.pauseDuration=0;this._pauseTime=0;this._coolDown=0;this.delta=0;this.deltaIndex=0;this.deltaHistory=[];this.deltaSmoothingMax=s(e,"deltaHistory",10);this.panicMax=s(e,"panicMax",120);this.rawDelta=0;this.now=0;this.smoothStep=s(e,"smoothStep",true)},blur:function(){this.inFocus=false},focus:function(){this.inFocus=true;this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta();this.pauseDuration=this.time-this._pauseTime;this.startTime+=this.pauseDuration},resetDelta:function(){var t=window.performance.now();this.time=t;this.lastTime=t;this.nextFpsUpdate=t+1e3;this.framesThisSecond=0;for(var e=0;e<this.deltaSmoothingMax;e++){this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e])}this.delta=0;this.deltaIndex=0;this._coolDown=this.panicMax},start:function(t){if(this.started){return this}this.started=true;this.running=true;for(var e=0;e<this.deltaSmoothingMax;e++){this.deltaHistory[e]=this._target}this.resetDelta();this.startTime=window.performance.now();this.callback=t;var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target)},smoothDelta:function(t){var e=this.deltaIndex;var i=this.deltaHistory;var r=this.deltaSmoothingMax;if(this._coolDown>0||!this.inFocus){this._coolDown--;t=Math.min(t,this._target)}if(t>this._min){t=i[e];t=Math.min(t,this._min)}i[e]=t;this.deltaIndex++;if(this.deltaIndex>=r){this.deltaIndex=0}var s=0;for(var n=0;n<r;n++){s+=i[n]}s/=r;return s},updateFPS:function(t){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps;this.nextFpsUpdate=t+1e3;this.framesThisSecond=0},stepLimitFPS:function(t){this.now=t;var e=Math.max(0,t-this.lastTime);this.rawDelta=e;this.time+=this.rawDelta;if(this.smoothStep){e=this.smoothDelta(e)}this.delta+=e;if(t>=this.nextFpsUpdate){this.updateFPS(t)}this.framesThisSecond++;if(this.delta>=this._limitRate){this.callback(t,this.delta);this.delta=0}this.lastTime=t;this.frame++},step:function(t){this.now=t;var e=Math.max(0,t-this.lastTime);this.rawDelta=e;this.time+=this.rawDelta;if(this.smoothStep){e=this.smoothDelta(e)}this.delta=e;if(t>=this.nextFpsUpdate){this.updateFPS(t)}this.framesThisSecond++;this.callback(t,e);this.lastTime=t;this.frame++},tick:function(){var t=window.performance.now();if(this.hasFpsLimit){this.stepLimitFPS(t)}else{this.step(t)}},sleep:function(){if(this.running){this.raf.stop();this.running=false}},wake:function(t){if(t===void 0){t=false}var e=window.performance.now();if(this.running){return}else if(t){this.startTime+=-this.lastTime+(this.lastTime+e)}var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target);this.running=true;this.nextFpsUpdate=e+1e3;this.framesThisSecond=0;this.fpsLimitTriggered=false;this.tick()},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){this.running=false;this.started=false;this.raf.stop();return this},destroy:function(){this.stop();this.raf.destroy();this.raf=null;this.game=null;this.callback=null}});t.exports=o},51085:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8443);var VisibilityHandler=function(t){var e;var i=t.events;if(document.hidden!==void 0){e="visibilitychange"}else{var s=["webkit","moz","ms"];s.forEach((function(t){if(document[t+"Hidden"]!==void 0){document.hidden=function(){return document[t+"Hidden"]};e=t+"visibilitychange"}}))}var onChange=function(t){if(document.hidden||t.type==="pause"){i.emit(r.HIDDEN)}else{i.emit(r.VISIBLE)}};if(e){document.addEventListener(e,onChange,false)}window.onblur=function(){i.emit(r.BLUR)};window.onfocus=function(){i.emit(r.FOCUS)};if(window.focus&&t.config.autoFocus){window.focus()}};t.exports=VisibilityHandler},97217:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="blur"},47548:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="boot"},19814:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="contextlost"},68446:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},41700:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="focus"},25432:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="hidden"},65942:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},59211:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="postrender"},47789:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="poststep"},39066:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="prerender"},460:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="prestep"},16175:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="ready"},42331:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},11966:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="step"},32969:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="systemready"},94830:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="visible"},8443:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(5290);var s=i(27919);var n=i(35154);var GenerateTexture=function(t){var e=n(t,"data",[]);var i=n(t,"canvas",null);var a=n(t,"palette",r);var o=n(t,"pixelWidth",1);var l=n(t,"pixelHeight",o);var h=n(t,"resizeCanvas",true);var u=n(t,"clearCanvas",true);var c=n(t,"preRender",null);var f=n(t,"postRender",null);var d=Math.floor(Math.abs(e[0].length*o));var v=Math.floor(Math.abs(e.length*l));if(!i){i=s.create2D(this,d,v);h=false;u=false}if(h){i.width=d;i.height=v}var p=i.getContext("2d",{willReadFrequently:true});if(u){p.clearRect(0,0,d,v)}if(c){c(i,p)}for(var g=0;g<e.length;g++){var m=e[g];for(var y=0;y<m.length;y++){var x=m[y];if(x!=="."&&x!==" "){p.fillStyle=a[x];p.fillRect(y*o,g*l,o,l)}}}if(f){f(i,p)}return i};t.exports=GenerateTexture},15822:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(36316);var n=i(80021);var a=i(26099);var o=new r({Extends:n,initialize:function CubicBezierCurve2(t,e,i,r){n.call(this,"CubicBezierCurve");if(Array.isArray(t)){r=new a(t[6],t[7]);i=new a(t[4],t[5]);e=new a(t[2],t[3]);t=new a(t[0],t[1])}this.p0=t;this.p1=e;this.p2=i;this.p3=r},getStartPoint:function(t){if(t===void 0){t=new a}return t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){if(e===void 0){e=new a}var i=this.p0;var r=this.p1;var n=this.p2;var o=this.p3;return e.set(s(t,i.x,r.x,n.x,o.x),s(t,i.y,r.y,n.y,o.y))},draw:function(t,e){if(e===void 0){e=32}var i=this.getPoints(e);t.beginPath();t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++){t.lineTo(i[r].x,i[r].y)}t.strokePath();return t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(t){var e=t.points;var i=new a(e[0],e[1]);var r=new a(e[2],e[3]);var s=new a(e[4],e[5]);var n=new a(e[6],e[7]);return new o(i,r,s,n)};t.exports=o},80021:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(19217);var n=i(87841);var a=i(26099);var o=new r({initialize:function Curve2(t){this.type=t;this.defaultDivisions=5;this.arcLengthDivisions=100;this.cacheArcLengths=[];this.needsUpdate=true;this.active=true;this._tmpVec2A=new a;this._tmpVec2B=new a},draw:function(t,e){if(e===void 0){e=32}return t.strokePoints(this.getPoints(e))},getBounds:function(t,e){if(!t){t=new n}if(e===void 0){e=16}var i=this.getLength();if(e>i){e=i/2}var r=Math.max(1,Math.round(i/e));return s(this.getSpacedPoints(r),t)},getDistancePoints:function(t){var e=this.getLength();var i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){if(t===void 0){t=new a}return this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0){t=this.arcLengthDivisions}if(this.cacheArcLengths.length===t+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var e=[];var i;var r=this.getPoint(0,this._tmpVec2A);var s=0;e.push(0);for(var n=1;n<=t;n++){i=this.getPoint(n/t,this._tmpVec2B);s+=i.distance(r);e.push(s);r.copy(i)}this.cacheArcLengths=e;return e},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t,e,i){if(i===void 0){i=[]}if(!t){if(!e){t=this.defaultDivisions}else{t=this.getLength()/e}}for(var r=0;r<=t;r++){i.push(this.getPoint(r/t))}return i},getRandomPoint:function(t){if(t===void 0){t=new a}return this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,i){if(i===void 0){i=[]}if(!t){if(!e){t=this.defaultDivisions}else{t=this.getLength()/e}}for(var r=0;r<=t;r++){var s=this.getUtoTmapping(r/t,null,t);i.push(this.getPoint(s))}return i},getStartPoint:function(t){if(t===void 0){t=new a}return this.getPointAt(0,t)},getTangent:function(t,e){if(e===void 0){e=new a}var i=1e-4;var r=t-i;var s=t+i;if(r<0){r=0}if(s>1){s=1}this.getPoint(r,this._tmpVec2A);this.getPoint(s,e);return e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){if(t<=0){return 0}return this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var r=this.getLengths(i);var s=0;var n=r.length;var a;if(e){a=Math.min(e,r[n-1])}else{a=t*r[n-1]}var o=0;var l=n-1;var h;while(o<=l){s=Math.floor(o+(l-o)/2);h=r[s]-a;if(h<0){o=s+1}else if(h>0){l=s-1}else{l=s;break}}s=l;if(r[s]===a){return s/(n-1)}var u=r[s];var c=r[s+1];var f=c-u;var d=(a-u)/f;return(s+d)/(n-1)},updateArcLengths:function(){this.needsUpdate=true;this.getLengths()}});t.exports=o},73825:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(80021);var n=i(39506);var a=i(35154);var o=i(43396);var l=i(26099);var h=new r({Extends:s,initialize:function EllipseCurve2(t,e,i,r,o,h,u,c){if(typeof t==="object"){var f=t;t=a(f,"x",0);e=a(f,"y",0);i=a(f,"xRadius",0);r=a(f,"yRadius",i);o=a(f,"startAngle",0);h=a(f,"endAngle",360);u=a(f,"clockwise",false);c=a(f,"rotation",0)}else{if(r===void 0){r=i}if(o===void 0){o=0}if(h===void 0){h=360}if(u===void 0){u=false}if(c===void 0){c=0}}s.call(this,"EllipseCurve");this.p0=new l(t,e);this._xRadius=i;this._yRadius=r;this._startAngle=n(o);this._endAngle=n(h);this._clockwise=u;this._rotation=n(c)},getStartPoint:function(t){if(t===void 0){t=new l}return this.getPoint(0,t)},getResolution:function(t){return t*2},getPoint:function(t,e){if(e===void 0){e=new l}var i=Math.PI*2;var r=this._endAngle-this._startAngle;var s=Math.abs(r)<Number.EPSILON;while(r<0){r+=i}while(r>i){r-=i}if(r<Number.EPSILON){if(s){r=0}else{r=i}}if(this._clockwise&&!s){if(r===i){r=-i}else{r=r-i}}var n=this._startAngle+t*r;var a=this.p0.x+this._xRadius*Math.cos(n);var o=this.p0.y+this._yRadius*Math.sin(n);if(this._rotation!==0){var h=Math.cos(this._rotation);var u=Math.sin(this._rotation);var c=a-this.p0.x;var f=o-this.p0.y;a=c*h-f*u+this.p0.x;o=c*u+f*h+this.p0.y}return e.set(a,o)},setXRadius:function(t){this.xRadius=t;return this},setYRadius:function(t){this.yRadius=t;return this},setWidth:function(t){this.xRadius=t/2;return this},setHeight:function(t){this.yRadius=t/2;return this},setStartAngle:function(t){this.startAngle=t;return this},setEndAngle:function(t){this.endAngle=t;return this},setClockwise:function(t){this.clockwise=t;return this},setRotation:function(t){this.rotation=t;return this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return o(this._startAngle)},set:function(t){this._startAngle=n(t)}},endAngle:{get:function(){return o(this._endAngle)},set:function(t){this._endAngle=n(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return o(this._rotation)},set:function(t){this._rotation=n(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(t){return new h(t)};t.exports=h},33951:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(80021);var n=i(19217);var a=i(87841);var o=i(26099);var l=new r({Extends:s,initialize:function LineCurve2(t,e){s.call(this,"LineCurve");if(Array.isArray(t)){e=new o(t[2],t[3]);t=new o(t[0],t[1])}this.p0=t;this.p1=e;this.arcLengthDivisions=1},getBounds:function(t){if(t===void 0){t=new a}return n([this.p0,this.p1],t)},getStartPoint:function(t){if(t===void 0){t=new o}return t.copy(this.p0)},getResolution:function(t){if(t===void 0){t=1}return t},getPoint:function(t,e){if(e===void 0){e=new o}if(t===1){return e.copy(this.p1)}e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0);return e},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(t,e){if(e===void 0){e=new o}e.copy(this.p1).subtract(this.p0).normalize();return e},getUtoTmapping:function(t,e,i){var r;if(e){var s=this.getLengths(i);var n=s[s.length-1];var a=Math.min(e,n);r=a/n}else{r=t}return r},draw:function(t){t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y);return t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(t){var e=t.points;var i=new o(e[0],e[1]);var r=new o(e[2],e[3]);return new l(i,r)};t.exports=l},14744:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(80021);var n=i(32112);var a=i(26099);var o=new r({Extends:s,initialize:function QuadraticBezier2(t,e,i){s.call(this,"QuadraticBezierCurve");if(Array.isArray(t)){i=new a(t[4],t[5]);e=new a(t[2],t[3]);t=new a(t[0],t[1])}this.p0=t;this.p1=e;this.p2=i},getStartPoint:function(t){if(t===void 0){t=new a}return t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){if(e===void 0){e=new a}var i=this.p0;var r=this.p1;var s=this.p2;return e.set(n(t,i.x,r.x,s.x),n(t,i.y,r.y,s.y))},draw:function(t,e){if(e===void 0){e=32}var i=this.getPoints(e);t.beginPath();t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++){t.lineTo(i[r].x,i[r].y)}t.strokePath();return t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(t){var e=t.points;var i=new a(e[0],e[1]);var r=new a(e[2],e[3]);var s=new a(e[4],e[5]);return new o(i,r,s)};t.exports=o},42534:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87842);var s=i(83419);var n=i(80021);var a=i(26099);var o=new s({Extends:n,initialize:function SplineCurve2(t){if(t===void 0){t=[]}n.call(this,"SplineCurve");this.points=[];this.addPoints(t)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new a;if(typeof t[e]==="number"){i.x=t[e];i.y=t[e+1];e++}else if(Array.isArray(t[e])){i.x=t[e][0];i.y=t[e][1]}else{i.x=t[e].x;i.y=t[e].y}this.points.push(i)}return this},addPoint:function(t,e){var i=new a(t,e);this.points.push(i);return i},getStartPoint:function(t){if(t===void 0){t=new a}return t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){if(e===void 0){e=new a}var i=this.points;var s=(i.length-1)*t;var n=Math.floor(s);var o=s-n;var l=i[n===0?n:n-1];var h=i[n];var u=i[n>i.length-2?i.length-1:n+1];var c=i[n>i.length-3?i.length-1:n+2];return e.set(r(o,l.x,h.x,u.x,c.x),r(o,l.y,h.y,u.y,c.y))},toJSON:function(){var t=[];for(var e=0;e<this.points.length;e++){t.push(this.points[e].x);t.push(this.points[e].y)}return{type:this.type,points:t}}});o.fromJSON=function(t){return new o(t.points)};t.exports=o},25410:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(26099);var n=new r({initialize:function MoveTo2(t,e){this.active=false;this.p0=new s(t,e)},getPoint:function(t,e){if(e===void 0){e=new s}return e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=n},46669:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(46728);var n=i(73825);var a=i(39429);var o=i(33951);var l=i(68618);var h=i(14744);var u=i(87841);var c=i(42534);var f=i(26099);var d=i(36383);var v=new r({initialize:function Path2(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.name="";this.defaultDivisions=12;this.curves=[];this.cacheLengths=[];this.autoClose=false;this.startPoint=new f;this._tmpVec2A=new f;this._tmpVec2B=new f;if(typeof t==="object"){this.fromJSON(t)}else{this.startPoint.set(t,e)}},add:function(t){this.curves.push(t);return this},circleTo:function(t,e,i){if(e===void 0){e=false}return this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0);var e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){this.curves.push(new o(e,t))}return this},cubicBezierTo:function(t,e,i,r,n,a){var o=this.getEndPoint();var l;var h;var u;if(t instanceof f){l=t;h=e;u=i}else{l=new f(i,r);h=new f(n,a);u=new f(t,e)}return this.add(new s(o,l,h,u))},quadraticBezierTo:function(t,e,i,r){var s=this.getEndPoint();var n;var a;if(t instanceof f){n=t;a=e}else{n=new f(i,r);a=new f(t,e)}return this.add(new h(s,n,a))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var r=this.curves[i];if(!r.active){continue}r.draw(t,e)}return t},ellipseTo:function(t,e,i,r,s,a){var o=new n(0,0,t,e,i,r,s,a);var l=this.getEndPoint(this._tmpVec2A);var h=o.getStartPoint(this._tmpVec2B);l.subtract(h);o.x=l.x;o.y=l.y;return this.add(o)},fromJSON:function(t){this.curves=[];this.cacheLengths=[];this.startPoint.set(t.x,t.y);this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(o.fromJSON(i));break;case"EllipseCurve":this.add(n.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(s.fromJSON(i));break;case"QuadraticBezierCurve":this.add(h.fromJSON(i));break}}return this},getBounds:function(t,e){if(t===void 0){t=new u}if(e===void 0){e=16}t.x=Number.MAX_VALUE;t.y=Number.MAX_VALUE;var i=new u;var r=d.MIN_SAFE_INTEGER;var s=d.MIN_SAFE_INTEGER;for(var n=0;n<this.curves.length;n++){var a=this.curves[n];if(!a.active){continue}a.getBounds(i,e);t.x=Math.min(t.x,i.x);t.y=Math.min(t.y,i.y);r=Math.max(r,i.right);s=Math.max(s,i.bottom)}t.right=r;t.bottom=s;return t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length){return this.cacheLengths}var t=[];var e=0;for(var i=0;i<this.curves.length;i++){e+=this.curves[i].getLength();t.push(e)}this.cacheLengths=t;return t},getCurveAt:function(t){var e=t*this.getLength();var i=this.getCurveLengths();var r=0;while(r<i.length){if(i[r]>=e){return this.curves[r]}r++}return null},getEndPoint:function(t){if(t===void 0){t=new f}if(this.curves.length>0){this.curves[this.curves.length-1].getPoint(1,t)}else{t.copy(this.startPoint)}return t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){if(e===void 0){e=new f}var i=t*this.getLength();var r=this.getCurveLengths();var s=0;while(s<r.length){if(r[s]>=i){var n=r[s]-i;var a=this.curves[s];var o=a.getLength();var l=o===0?0:1-n/o;return a.getPointAt(l,e)}s++}return null},getPoints:function(t,e){if(!t&&!e){t=this.defaultDivisions}var i=[];var r;for(var s=0;s<this.curves.length;s++){var n=this.curves[s];if(!n.active){continue}var a=n.getResolution(t);var o=n.getPoints(a,e);for(var l=0;l<o.length;l++){var h=o[l];if(r&&r.equals(h)){continue}i.push(h);r=h}}if(this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])){i.push(i[0])}return i},getRandomPoint:function(t){if(t===void 0){t=new f}return this.getPoint(Math.random(),t)},getSpacedPoints:function(t){if(t===void 0){t=40}var e=[];for(var i=0;i<=t;i++){e.push(this.getPoint(i/t))}if(this.autoClose){e.push(e[0])}return e},getStartPoint:function(t){if(t===void 0){t=new f}return t.copy(this.startPoint)},getTangent:function(t,e){if(e===void 0){e=new f}var i=t*this.getLength();var r=this.getCurveLengths();var s=0;while(s<r.length){if(r[s]>=i){var n=r[s]-i;var a=this.curves[s];var o=a.getLength();var l=o===0?0:1-n/o;return a.getTangentAt(l,e)}s++}return null},lineTo:function(t,e){if(t instanceof f){this._tmpVec2B.copy(t)}else if(typeof t==="object"){this._tmpVec2B.setFromObject(t)}else{this._tmpVec2B.set(t,e)}var i=this.getEndPoint(this._tmpVec2A);return this.add(new o([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){t.unshift(this.getEndPoint());return this.add(new c(t))},moveTo:function(t,e){if(t instanceof f){return this.add(new l(t.x,t.y))}else{return this.add(new l(t,e))}},toJSON:function(){var t=[];for(var e=0;e<this.curves.length;e++){t.push(this.curves[e].toJSON())}return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[];this.getCurveLengths()},destroy:function(){this.curves.length=0;this.cacheLengths.length=0;this.startPoint=void 0}});a.register("path",(function(t,e){return new v(t,e)}));t.exports=v},45893:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(24882);var n=new r({initialize:function DataManager2(t,e){this.parent=t;this.events=e;if(!e){this.events=t.events?t.events:t}this.list={};this.values={};this._frozen=false;if(!t.hasOwnProperty("sys")&&this.events){this.events.once(s.DESTROY,this.destroy,this)}},get:function(t){var e=this.list;if(Array.isArray(t)){var i=[];for(var r=0;r<t.length;r++){i.push(e[t[r]])}return i}else{return e[t]}},getAll:function(){var t={};for(var e in this.list){if(this.list.hasOwnProperty(e)){t[e]=this.list[e]}}return t},query:function(t){var e={};for(var i in this.list){if(this.list.hasOwnProperty(i)&&i.match(t)){e[i]=this.list[i]}}return e},set:function(t,e){if(this._frozen){return this}if(typeof t==="string"){return this.setValue(t,e)}else{for(var i in t){this.setValue(i,t[i])}}return this},inc:function(t,e){if(this._frozen){return this}if(e===void 0){e=1}var i=this.get(t);if(i===void 0){i=0}this.set(t,i+e);return this},toggle:function(t){if(this._frozen){return this}this.set(t,!this.get(t));return this},setValue:function(t,e){if(this._frozen){return this}if(this.has(t)){this.values[t]=e}else{var i=this;var r=this.list;var n=this.events;var a=this.parent;Object.defineProperty(this.values,t,{enumerable:true,configurable:true,get:function(){return r[t]},set:function(e){if(!i._frozen){var o=r[t];r[t]=e;n.emit(s.CHANGE_DATA,a,t,e,o);n.emit(s.CHANGE_DATA_KEY+t,a,e,o)}}});r[t]=e;n.emit(s.SET_DATA,a,t,e)}return this},each:function(t,e){var i=[this.parent,null,void 0];for(var r=1;r<arguments.length;r++){i.push(arguments[r])}for(var s in this.list){i[1]=s;i[2]=this.list[s];t.apply(e,i)}return this},merge:function(t,e){if(e===void 0){e=true}for(var i in t){if(t.hasOwnProperty(i)&&(e||!e&&!this.has(i))){this.setValue(i,t[i])}}return this},remove:function(t){if(this._frozen){return this}if(Array.isArray(t)){for(var e=0;e<t.length;e++){this.removeValue(t[e])}}else{return this.removeValue(t)}return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t];delete this.values[t];this.events.emit(s.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=void 0;if(!this._frozen&&this.has(t)){e=this.list[t];delete this.list[t];delete this.values[t];this.events.emit(s.REMOVE_DATA,this.parent,t,e)}return e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){this._frozen=t;return this},reset:function(){for(var t in this.list){delete this.list[t];delete this.values[t]}this._frozen=false;return this},destroy:function(){this.reset();this.events.off(s.CHANGE_DATA);this.events.off(s.SET_DATA);this.events.off(s.REMOVE_DATA);this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=t?true:false}},count:{get:function(){var t=0;for(var e in this.list){if(this.list[e]!==void 0){t++}}return t}}});t.exports=n},63646:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(45893);var n=i(37277);var a=i(44594);var o=new r({Extends:s,initialize:function DataManagerPlugin2(t){s.call(this,t,t.sys.events);this.scene=t;this.systems=t.sys;t.sys.events.once(a.BOOT,this.boot,this);t.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events;this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){s.prototype.destroy.call(this);this.events.off(a.START,this.start,this);this.scene=null;this.systems=null}});n.register("DataManagerPlugin",o,"data");t.exports=o},10700:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="changedata"},93608:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="changedata-"},60883:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},69780:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="removedata"},22166:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="setdata"},24882:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(84148);var s={flac:false,aac:false,audioData:false,dolby:false,m4a:false,mp3:false,ogg:false,opus:false,wav:false,webAudio:false,webm:false};function init(){if(typeof importScripts==="function"){return s}s.audioData=!!window["Audio"];s.webAudio=!!(window["AudioContext"]||window["webkitAudioContext"]);var t=document.createElement("audio");var e=!!t.canPlayType;try{if(e){var CanPlay=function(e,i){var r=t.canPlayType("audio/"+e).replace(/^no$/,"");if(i){return Boolean(r||t.canPlayType("audio/"+i).replace(/^no$/,""))}else{return Boolean(r)}};s.ogg=CanPlay('ogg; codecs="vorbis"');s.opus=CanPlay('ogg; codecs="opus"',"opus");s.mp3=CanPlay("mpeg");s.wav=CanPlay("wav");s.m4a=CanPlay("x-m4a");s.aac=CanPlay("aac");s.flac=CanPlay("flac","x-flac");s.webm=CanPlay('webm; codecs="vorbis"');if(t.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(r.edge){s.dolby=true}else if(r.safari&&r.safariVersion>=9){if(/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10);var n=parseInt(RegExp.$2,10);if(i===10&&n>=11||i>10){s.dolby=true}}}}}}catch(a){}return s}t.exports=init()},84148:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25892);var s={chrome:false,chromeVersion:0,edge:false,firefox:false,firefoxVersion:0,ie:false,ieVersion:0,mobileSafari:false,opera:false,safari:false,safariVersion:0,silk:false,trident:false,tridentVersion:0,es2019:false};function init(){var t=navigator.userAgent;if(/Edg\/\d+/.test(t)){s.edge=true;s.es2019=true}else if(/OPR/.test(t)){s.opera=true;s.es2019=true}else if(/Chrome\/(\d+)/.test(t)&&!r.windowsPhone){s.chrome=true;s.chromeVersion=parseInt(RegExp.$1,10);s.es2019=s.chromeVersion>69}else if(/Firefox\D+(\d+)/.test(t)){s.firefox=true;s.firefoxVersion=parseInt(RegExp.$1,10);s.es2019=s.firefoxVersion>10}else if(/AppleWebKit\/(?!.*CriOS)/.test(t)&&r.iOS){s.mobileSafari=true;s.es2019=true}else if(/MSIE (\d+\.\d+);/.test(t)){s.ie=true;s.ieVersion=parseInt(RegExp.$1,10)}else if(/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(t)&&!r.windowsPhone){s.safari=true;s.safariVersion=parseInt(RegExp.$1,10);s.es2019=s.safariVersion>10}else if(/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)){s.ie=true;s.trident=true;s.tridentVersion=parseInt(RegExp.$1,10);s.ieVersion=parseInt(RegExp.$3,10)}if(/Silk/.test(t)){s.silk=true}return s}t.exports=init()},89289:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s={supportInverseAlpha:false,supportNewBlendModes:false};function checkBlendMode(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/";var e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";var i=new Image;i.onload=function(){var n=new Image;n.onload=function(){var t=r.create2D(n,6);var e=t.getContext("2d",{willReadFrequently:true});e.globalCompositeOperation="multiply";e.drawImage(i,0,0);e.drawImage(n,2,0);if(!e.getImageData(2,0,1,1)){return false}var a=e.getImageData(2,0,1,1).data;r.remove(n);s.supportNewBlendModes=a[0]===255&&a[1]===0&&a[2]===0};n.src=t+"/wCKxvRF"+e};i.src=t+"AP804Oa6"+e;return false}function checkInverseAlpha(){var t=r.create2D(this,2);var e=t.getContext("2d",{willReadFrequently:true});e.fillStyle="rgba(10, 20, 30, 0.5)";e.fillRect(0,0,1,1);var i=e.getImageData(0,0,1,1);if(i===null){return false}e.putImageData(i,1,0);var s=e.getImageData(1,0,1,1);var n=s.data[0]===i.data[0]&&s.data[1]===i.data[1]&&s.data[2]===i.data[2]&&s.data[3]===i.data[3];r.remove(this);return n}function init(){if(typeof importScripts!=="function"&&document!==void 0){s.supportNewBlendModes=checkBlendMode();s.supportInverseAlpha=checkInverseAlpha()}return s}t.exports=init()},89357:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25892);var s=i(84148);var n=i(27919);var a={canvas:false,canvasBitBltShift:null,file:false,fileSystem:false,getUserMedia:true,littleEndian:false,localStorage:false,pointerLock:false,stableSort:false,support32bit:false,vibration:false,webGL:false,worker:false};function checkIsLittleEndian(){var t=new ArrayBuffer(4);var e=new Uint8Array(t);var i=new Uint32Array(t);e[0]=161;e[1]=178;e[2]=195;e[3]=212;if(i[0]===3569595041){return true}if(i[0]===2712847316){return false}else{return null}}function init(){if(typeof importScripts==="function"){return a}a.canvas=!!window["CanvasRenderingContext2D"];try{a.localStorage=!!localStorage.getItem}catch(e){a.localStorage=false}a.file=!!window["File"]&&!!window["FileReader"]&&!!window["FileList"]&&!!window["Blob"];a.fileSystem=!!window["requestFileSystem"];var t=false;var testWebGL=function(){if(window["WebGLRenderingContext"]){try{var e=n.createWebGL(this);var i=e.getContext("webgl")||e.getContext("experimental-webgl");var r=n.create2D(this);var s=r.getContext("2d",{willReadFrequently:true});var a=s.createImageData(1,1);t=a.data instanceof Uint8ClampedArray;n.remove(e);n.remove(r);return!!i}catch(o){return false}}return false};a.webGL=testWebGL();a.worker=!!window["Worker"];a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL;a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL;if(s.firefox&&s.firefoxVersion<21){a.getUserMedia=false}if(!r.iOS&&(s.ie||s.firefox||s.chrome)){a.canvasBitBltShift=true}if(s.safari||s.mobileSafari){a.canvasBitBltShift=false}navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;if(navigator.vibrate){a.vibration=true}if(typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&typeof Uint32Array!=="undefined"){a.littleEndian=checkIsLittleEndian()}a.support32bit=typeof ArrayBuffer!=="undefined"&&typeof Uint8ClampedArray!=="undefined"&&typeof Int32Array!=="undefined"&&a.littleEndian!==null&&t;return a}t.exports=init()},91639:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={available:false,cancel:"",keyboard:false,request:""};function init(){if(typeof importScripts==="function"){return e}var t;var i="Fullscreen";var r="FullScreen";var s=["request"+i,"request"+r,"webkitRequest"+i,"webkitRequest"+r,"msRequest"+i,"msRequest"+r,"mozRequest"+r,"mozRequest"+i];for(t=0;t<s.length;t++){if(document.documentElement[s[t]]){e.available=true;e.request=s[t];break}}var n=["cancel"+r,"exit"+i,"webkitCancel"+r,"webkitExit"+i,"msCancel"+r,"msExit"+i,"mozCancel"+r,"mozExit"+i];if(e.available){for(t=0;t<n.length;t++){if(document[n[t]]){e.cancel=n[t];break}}}if(window["Element"]&&Element["ALLOW_KEYBOARD_INPUT"]&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)){e.keyboard=true}Object.defineProperty(e,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}});return e}t.exports=init()},31784:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(84148);var s={gamepads:false,mspointer:false,touch:false,wheelEvent:null};function init(){if(typeof importScripts==="function"){return s}if("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1){s.touch=true}if(navigator.msPointerEnabled||navigator.pointerEnabled){s.mspointer=true}if(navigator.getGamepads){s.gamepads=true}if("onwheel"in window||r.ie&&"WheelEvent"in window){s.wheelEvent="wheel"}else if("onmousewheel"in window){s.wheelEvent="mousewheel"}else if(r.firefox&&"MouseScrollEvent"in window){s.wheelEvent="DOMMouseScroll"}return s}t.exports=init()},25892:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={android:false,chromeOS:false,cordova:false,crosswalk:false,desktop:false,ejecta:false,electron:false,iOS:false,iOSVersion:0,iPad:false,iPhone:false,kindle:false,linux:false,macOS:false,node:false,nodeWebkit:false,pixelRatio:1,webApp:false,windows:false,windowsPhone:false};function init(){if(typeof importScripts==="function"){return e}var t=navigator.userAgent;if(/Windows/.test(t)){e.windows=true}else if(/Mac OS/.test(t)&&!/like Mac OS/.test(t)){if(navigator.maxTouchPoints&&navigator.maxTouchPoints>2){e.iOS=true;e.iPad=true;navigator.appVersion.match(/Version\/(\d+)/);e.iOSVersion=parseInt(RegExp.$1,10)}else{e.macOS=true}}else if(/Android/.test(t)){e.android=true}else if(/Linux/.test(t)){e.linux=true}else if(/iP[ao]d|iPhone/i.test(t)){e.iOS=true;navigator.appVersion.match(/OS (\d+)/);e.iOSVersion=parseInt(RegExp.$1,10);e.iPhone=t.toLowerCase().indexOf("iphone")!==-1;e.iPad=t.toLowerCase().indexOf("ipad")!==-1}else if(/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)){e.kindle=true}else if(/CrOS/.test(t)){e.chromeOS=true}if(/Windows Phone/i.test(t)||/IEMobile/i.test(t)){e.android=false;e.iOS=false;e.macOS=false;e.windows=true;e.windowsPhone=true}var i=/Silk/.test(t);if(e.windows||e.macOS||e.linux&&!i||e.chromeOS){e.desktop=true}if(e.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t)){e.desktop=false}if(navigator.standalone){e.webApp=true}if(typeof importScripts!=="function"){if(window.cordova!==void 0){e.cordova=true}if(window.ejecta!==void 0){e.ejecta=true}}if(typeof process!=="undefined"&&process.versions&&process.versions.node){e.node=true}if(e.node&&typeof process.versions==="object"){e.nodeWebkit=!!process.versions["node-webkit"];e.electron=!!process.versions.electron}if(/Crosswalk/.test(t)){e.crosswalk=true}e.pixelRatio=window["devicePixelRatio"]||1;return e}t.exports=init()},43267:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var s={h264:false,hls:false,mp4:false,m4v:false,ogg:false,vp9:false,webm:false,hasRequestVideoFrame:false};function init(){if(typeof importScripts==="function"){return s}var t=document.createElement("video");var e=!!t.canPlayType;var i=/^no$/;try{if(e){if(t.canPlayType('video/ogg; codecs="theora"').replace(i,"")){s.ogg=true}if(t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")){s.h264=true;s.mp4=true}if(t.canPlayType("video/x-m4v").replace(i,"")){s.m4v=true}if(t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")){s.webm=true}if(t.canPlayType('video/webm; codecs="vp9"').replace(i,"")){s.vp9=true}if(t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")){s.hls=true}}}catch(n){}if(t.parentNode){t.parentNode.removeChild(t)}s.getVideoURL=function(t){if(!Array.isArray(t)){t=[t]}for(var e=0;e<t.length;e++){var i=r(t[e],"url",t[e]);if(i.indexOf("blob:")===0){return{url:i,type:""}}var n;if(i.indexOf("data:")===0){n=i.split(",")[0].match(/\/(.*?);/)}else{n=i.match(/\.([a-zA-Z0-9]+)($|\?)/)}n=r(t[e],"type",n?n[1]:"").toLowerCase();if(s[n]){return{url:i,type:n}}}return null};return s}t.exports=init()},82264:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new Float32Array(20);var n=new r({initialize:function ColorMatrix2(){this._matrix=new Float32Array(20);this.alpha=1;this._dirty=true;this._data=new Float32Array(20);this.reset()},set:function(t){this._matrix.set(t);this._dirty=true;return this},reset:function(){var t=this._matrix;t.fill(0);t[0]=1;t[6]=1;t[12]=1;t[18]=1;this.alpha=1;this._dirty=true;return this},getData:function(){var t=this._data;if(this._dirty){t.set(this._matrix);t[4]/=255;t[9]/=255;t[14]/=255;t[19]/=255;this._dirty=false}return t},brightness:function(t,e){if(t===void 0){t=0}if(e===void 0){e=false}var i=t;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],e)},saturate:function(t,e){if(t===void 0){t=0}if(e===void 0){e=false}var i=t*2/3+1;var r=(i-1)*-.5;return this.multiply([i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0],e)},desaturate:function(t){if(t===void 0){t=false}return this.saturate(-1,t)},hue:function(t,e){if(t===void 0){t=0}if(e===void 0){e=false}t=t/180*Math.PI;var i=Math.cos(t);var r=Math.sin(t);var s=.213;var n=.715;var a=.072;return this.multiply([s+i*(1-s)+r*-.213,n+i*-.715+r*-.715,a+i*-.072+r*(1-a),0,0,s+i*-.213+r*.143,n+i*(1-n)+r*.14,a+i*-.072+r*-.283,0,0,s+i*-.213+r*-.787,n+i*-.715+r*n,a+i*(1-a)+r*a,0,0,0,0,0,1,0],e)},grayscale:function(t,e){if(t===void 0){t=1}if(e===void 0){e=false}return this.saturate(-t,e)},blackWhite:function(t){if(t===void 0){t=false}return this.multiply(n.BLACK_WHITE,t)},contrast:function(t,e){if(t===void 0){t=0}if(e===void 0){e=false}var i=t+1;var r=-.5*(i-1);return this.multiply([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0],e)},negative:function(t){if(t===void 0){t=false}return this.multiply(n.NEGATIVE,t)},desaturateLuminance:function(t){if(t===void 0){t=false}return this.multiply(n.DESATURATE_LUMINANCE,t)},sepia:function(t){if(t===void 0){t=false}return this.multiply(n.SEPIA,t)},night:function(t,e){if(t===void 0){t=.1}if(e===void 0){e=false}return this.multiply([t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0],e)},lsd:function(t){if(t===void 0){t=false}return this.multiply(n.LSD,t)},brown:function(t){if(t===void 0){t=false}return this.multiply(n.BROWN,t)},vintagePinhole:function(t){if(t===void 0){t=false}return this.multiply(n.VINTAGE,t)},kodachrome:function(t){if(t===void 0){t=false}return this.multiply(n.KODACHROME,t)},technicolor:function(t){if(t===void 0){t=false}return this.multiply(n.TECHNICOLOR,t)},polaroid:function(t){if(t===void 0){t=false}return this.multiply(n.POLAROID,t)},shiftToBGR:function(t){if(t===void 0){t=false}return this.multiply(n.SHIFT_BGR,t)},multiply:function(t,e){if(e===void 0){e=false}if(!e){this.reset()}var i=this._matrix;var r=s;r.set(i);i.set([r[0]*t[0]+r[1]*t[5]+r[2]*t[10]+r[3]*t[15],r[0]*t[1]+r[1]*t[6]+r[2]*t[11]+r[3]*t[16],r[0]*t[2]+r[1]*t[7]+r[2]*t[12]+r[3]*t[17],r[0]*t[3]+r[1]*t[8]+r[2]*t[13]+r[3]*t[18],r[0]*t[4]+r[1]*t[9]+r[2]*t[14]+r[3]*t[19]+r[4],r[5]*t[0]+r[6]*t[5]+r[7]*t[10]+r[8]*t[15],r[5]*t[1]+r[6]*t[6]+r[7]*t[11]+r[8]*t[16],r[5]*t[2]+r[6]*t[7]+r[7]*t[12]+r[8]*t[17],r[5]*t[3]+r[6]*t[8]+r[7]*t[13]+r[8]*t[18],r[5]*t[4]+r[6]*t[9]+r[7]*t[14]+r[8]*t[19]+r[9],r[10]*t[0]+r[11]*t[5]+r[12]*t[10]+r[13]*t[15],r[10]*t[1]+r[11]*t[6]+r[12]*t[11]+r[13]*t[16],r[10]*t[2]+r[11]*t[7]+r[12]*t[12]+r[13]*t[17],r[10]*t[3]+r[11]*t[8]+r[12]*t[13]+r[13]*t[18],r[10]*t[4]+r[11]*t[9]+r[12]*t[14]+r[13]*t[19]+r[14],r[15]*t[0]+r[16]*t[5]+r[17]*t[10]+r[18]*t[15],r[15]*t[1]+r[16]*t[6]+r[17]*t[11]+r[18]*t[16],r[15]*t[2]+r[16]*t[7]+r[17]*t[12]+r[18]*t[17],r[15]*t[3]+r[16]*t[8]+r[17]*t[13]+r[18]*t[18],r[15]*t[4]+r[16]*t[9]+r[17]*t[14]+r[18]*t[19]+r[19]]);this._dirty=true;return this}});n.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];n.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];n.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0];n.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];n.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];n.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];n.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];n.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];n.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];n.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];n.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];t.exports=n},51767:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(29747);var n=new r({initialize:function RGB2(t,e,i){this._rgb=[0,0,0];this.onChangeCallback=s;this.dirty=false;this.set(t,e,i)},set:function(t,e,i){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}this._rgb=[t,e,i];this.onChange();return this},equals:function(t,e,i){var r=this._rgb;return r[0]===t&&r[1]===e&&r[2]===i},onChange:function(){this.dirty=true;var t=this._rgb;this.onChangeCallback.call(this,t[0],t[1],t[2])},r:{get:function(){return this._rgb[0]},set:function(t){this._rgb[0]=t;this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(t){this._rgb[1]=t;this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(t){this._rgb[2]=t;this.onChange()}},destroy:function(){this.onChangeCallback=null}});t.exports=n},60461:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};t.exports=e},54312:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(35893);var n=i(86327);var a=i(88417);var BottomCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)+i);n(t,r(e)+o);return t};t.exports=BottomCenter},46768:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(26541);var n=i(86327);var a=i(385);var BottomLeft=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)-i);n(t,r(e)+o);return t};t.exports=BottomLeft},35827:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(54380);var n=i(86327);var a=i(40136);var BottomRight=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)+i);n(t,r(e)+o);return t};t.exports=BottomRight},46871:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66786);var s=i(35893);var n=i(7702);var Center=function(t,e,i,a){if(i===void 0){i=0}if(a===void 0){a=0}r(t,s(e)+i,n(e)+a);return t};t.exports=Center},5198:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7702);var s=i(26541);var n=i(20786);var a=i(385);var LeftCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)-i);n(t,r(e)+o);return t};t.exports=LeftCenter},11879:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(60461);var s=[];s[r.BOTTOM_CENTER]=i(54312);s[r.BOTTOM_LEFT]=i(46768);s[r.BOTTOM_RIGHT]=i(35827);s[r.CENTER]=i(46871);s[r.LEFT_CENTER]=i(5198);s[r.RIGHT_CENTER]=i(80503);s[r.TOP_CENTER]=i(89698);s[r.TOP_LEFT]=i(922);s[r.TOP_RIGHT]=i(21373);s[r.LEFT_BOTTOM]=s[r.BOTTOM_LEFT];s[r.LEFT_TOP]=s[r.TOP_LEFT];s[r.RIGHT_BOTTOM]=s[r.BOTTOM_RIGHT];s[r.RIGHT_TOP]=s[r.TOP_RIGHT];var QuickSet=function(t,e,i,r,n){return s[i](t,e,r,n)};t.exports=QuickSet},80503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7702);var s=i(54380);var n=i(20786);var a=i(40136);var RightCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)+i);n(t,r(e)+o);return t};t.exports=RightCenter},89698:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35893);var s=i(17717);var n=i(88417);var a=i(66737);var TopCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,r(e)+i);a(t,s(e)-o);return t};t.exports=TopCenter},922:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26541);var s=i(17717);var n=i(385);var a=i(66737);var TopLeft=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,r(e)-i);a(t,s(e)-o);return t};t.exports=TopLeft},21373:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54380);var s=i(17717);var n=i(40136);var a=i(66737);var TopRight=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,r(e)+i);a(t,s(e)-o);return t};t.exports=TopRight},91660:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(60461);var s=i(79291);var n={In:i(91660),To:i(16694)};n=s(false,n,r);t.exports=n},21578:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(35893);var n=i(88417);var a=i(66737);var BottomCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,s(e)+i);a(t,r(e)+o);return t};t.exports=BottomCenter},10210:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(26541);var n=i(385);var a=i(66737);var BottomLeft=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,s(e)-i);a(t,r(e)+o);return t};t.exports=BottomLeft},82341:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(54380);var n=i(40136);var a=i(66737);var BottomRight=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,s(e)+i);a(t,r(e)+o);return t};t.exports=BottomRight},87958:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(26541);var n=i(86327);var a=i(40136);var LeftBottom=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)-i);n(t,r(e)+o);return t};t.exports=LeftBottom},40080:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7702);var s=i(26541);var n=i(20786);var a=i(40136);var LeftCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)-i);n(t,r(e)+o);return t};t.exports=LeftCenter},88466:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26541);var s=i(17717);var n=i(40136);var a=i(66737);var LeftTop=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,r(e)-i);a(t,s(e)-o);return t};t.exports=LeftTop},38829:(t,e,i)=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(60461);var s=[];s[r.BOTTOM_CENTER]=i(21578);s[r.BOTTOM_LEFT]=i(10210);s[r.BOTTOM_RIGHT]=i(82341);s[r.LEFT_BOTTOM]=i(87958);s[r.LEFT_CENTER]=i(40080);s[r.LEFT_TOP]=i(88466);s[r.RIGHT_BOTTOM]=i(19211);s[r.RIGHT_CENTER]=i(34609);s[r.RIGHT_TOP]=i(48741);s[r.TOP_CENTER]=i(49440);s[r.TOP_LEFT]=i(81288);s[r.TOP_RIGHT]=i(61323);var QuickSet=function(t,e,i,r,n){return s[i](t,e,r,n)};t.exports=QuickSet},19211:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(54380);var n=i(86327);var a=i(385);var RightBottom=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)+i);n(t,r(e)+o);return t};t.exports=RightBottom},34609:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7702);var s=i(54380);var n=i(20786);var a=i(385);var RightCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,s(e)+i);n(t,r(e)+o);return t};t.exports=RightCenter},48741:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54380);var s=i(17717);var n=i(385);var a=i(66737);var RightTop=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}n(t,r(e)+i);a(t,s(e)-o);return t};t.exports=RightTop},49440:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35893);var s=i(17717);var n=i(86327);var a=i(88417);var TopCenter=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,r(e)+i);n(t,s(e)-o);return t};t.exports=TopCenter},81288:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26541);var s=i(17717);var n=i(86327);var a=i(385);var TopLeft=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,r(e)-i);n(t,s(e)-o);return t};t.exports=TopLeft},61323:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54380);var s=i(17717);var n=i(86327);var a=i(40136);var TopRight=function(t,e,i,o){if(i===void 0){i=0}if(o===void 0){o=0}a(t,r(e)+i);n(t,s(e)-o);return t};t.exports=TopRight},16694:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(88417);var s=i(20786);var CenterOn=function(t,e,i){r(t,e);return s(t,i)};t.exports=CenterOn},62235:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBottom=function(t){return t.y+t.height-t.height*t.originY};t.exports=GetBottom},72873:(t,e,i)=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62235);var s=i(26541);var n=i(54380);var a=i(17717);var o=i(87841);var GetBounds=function(t,e){if(e===void 0){e=new o}var i=s(t);var l=a(t);e.x=i;e.y=l;e.width=n(t)-i;e.height=r(t)-l;return e};t.exports=GetBounds},35893:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterX=function(t){return t.x-t.width*t.originX+t.width*.5};t.exports=GetCenterX},7702:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCenterY=function(t){return t.y-t.height*t.originY+t.height*.5};t.exports=GetCenterY},26541:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetLeft=function(t){return t.x-t.width*t.originX};t.exports=GetLeft},87431:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetOffsetX=function(t){return t.width*t.originX};t.exports=GetOffsetX},46928:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetOffsetY=function(t){return t.height*t.originY};t.exports=GetOffsetY},54380:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetRight=function(t){return t.x+t.width-t.width*t.originX};t.exports=GetRight},17717:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTop=function(t){return t.y-t.height*t.originY};t.exports=GetTop},86327:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetBottom=function(t,e){t.y=e-t.height+t.height*t.originY;return t};t.exports=SetBottom},88417:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetCenterX=function(t,e){var i=t.width*t.originX;t.x=e+i-t.width*.5;return t};t.exports=SetCenterX},20786:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetCenterY=function(t,e){var i=t.height*t.originY;t.y=e+i-t.height*.5;return t};t.exports=SetCenterY},385:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetLeft=function(t,e){t.x=e+t.width*t.originX;return t};t.exports=SetLeft},40136:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetRight=function(t,e){t.x=e-t.width+t.width*t.originX;return t};t.exports=SetRight},66737:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTop=function(t,e){t.y=e+t.height*t.originY;return t};t.exports=SetTop},58724:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setCrisp:function(t){var e=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];e.forEach((function(e){t.style["image-rendering"]=e}));t.style.msInterpolationMode="nearest-neighbor";return t},setBicubic:function(t){t.style["image-rendering"]="auto";t.style.msInterpolationMode="bicubic";return t}};t.exports=e},27919:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8054);var s=i(68703);var n=[];var a=false;var CanvasPool=function(){var create=function(t,e,i,o,l){if(e===void 0){e=1}if(i===void 0){i=1}if(o===void 0){o=r.CANVAS}if(l===void 0){l=false}var h;var u=first(o);if(u===null){u={parent:t,canvas:document.createElement("canvas"),type:o};if(o===r.CANVAS){n.push(u)}h=u.canvas}else{u.parent=t;h=u.canvas}if(l){u.parent=h}h.width=e;h.height=i;if(a&&o===r.CANVAS){s.disable(h.getContext("2d",{willReadFrequently:false}))}return h};var create2D=function(t,e,i){return create(t,e,i,r.CANVAS)};var createWebGL=function(t,e,i){return create(t,e,i,r.WEBGL)};var first=function(t){if(t===void 0){t=r.CANVAS}if(t===r.WEBGL){return null}for(var e=0;e<n.length;e++){var i=n[e];if(!i.parent&&i.type===t){return i}}return null};var remove=function(t){var e=t instanceof HTMLCanvasElement;n.forEach((function(i){if(e&&i.canvas===t||!e&&i.parent===t){i.parent=null;i.canvas.width=1;i.canvas.height=1}}))};var total=function(){var t=0;n.forEach((function(e){if(e.parent){t++}}));return t};var free=function(){return n.length-total()};var disableSmoothing=function(){a=true};var enableSmoothing=function(){a=false};return{create2D:create2D,create:create,createWebGL:createWebGL,disableSmoothing:disableSmoothing,enableSmoothing:enableSmoothing,first:first,free:free,pool:n,remove:remove,total:total}};t.exports=CanvasPool()},68703:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e="";var Smoothing=function(){var getPrefix=function(t){var e=["i","webkitI","msI","mozI","oI"];for(var i=0;i<e.length;i++){var r=e[i]+"mageSmoothingEnabled";if(r in t){return r}}return null};var enable=function(t){if(e===""){e=getPrefix(t)}if(e){t[e]=true}return t};var disable=function(t){if(e===""){e=getPrefix(t)}if(e){t[e]=false}return t};var isEnabled=function(t){return e!==null?t[e]:null};return{disable:disable,enable:enable,getPrefix:getPrefix,isEnabled:isEnabled}};t.exports=Smoothing()},65208:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TouchAction=function(t,e){if(e===void 0){e="none"}t.style["msTouchAction"]=e;t.style["ms-touch-action"]=e;t.style["touch-action"]=e;return t};t.exports=TouchAction},91610:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var UserSelect=function(t,e){if(e===void 0){e="none"}var i=["-webkit-","-khtml-","-moz-","-ms-",""];i.forEach((function(i){t.style[i+"user-select"]=e}));t.style["-webkit-touch-callout"]=e;t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)";return t};t.exports=UserSelect},26253:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(37589);var n=i(1e3);var a=i(7537);var o=i(87837);var l=new r({initialize:function Color2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=255}this.r=0;this.g=0;this.b=0;this.a=255;this._h=0;this._s=0;this._v=0;this._locked=false;this.gl=[0,0,0,1];this._color=0;this._color32=0;this._rgba="";this.setTo(t,e,i,r)},transparent:function(){this._locked=true;this.red=0;this.green=0;this.blue=0;this.alpha=0;this._locked=false;return this.update(true)},setTo:function(t,e,i,r,s){if(r===void 0){r=255}if(s===void 0){s=true}this._locked=true;this.red=t;this.green=e;this.blue=i;this.alpha=r;this._locked=false;return this.update(s)},setGLTo:function(t,e,i,r){if(r===void 0){r=1}this._locked=true;this.redGL=t;this.greenGL=e;this.blueGL=i;this.alphaGL=r;this._locked=false;return this.update(true)},setFromRGB:function(t){this._locked=true;this.red=t.r;this.green=t.g;this.blue=t.b;if(t.hasOwnProperty("a")){this.alpha=t.a}this._locked=false;return this.update(true)},setFromHSV:function(t,e,i){return a(t,e,i,this)},update:function(t){if(t===void 0){t=false}if(this._locked){return this}var e=this.r;var i=this.g;var r=this.b;var a=this.a;this._color=s(e,i,r);this._color32=n(e,i,r,a);this._rgba="rgba("+e+","+i+","+r+","+a/255+")";if(t){o(e,i,r,this)}return this},updateHSV:function(){var t=this.r;var e=this.g;var i=this.b;o(t,e,i,this);return this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){if(t===void 0){t=0}if(e===void 0){e=255}var i=Math.floor(t+Math.random()*(e-t));var r=Math.floor(t+Math.random()*(e-t));var s=Math.floor(t+Math.random()*(e-t));return this.setTo(i,r,s)},randomGray:function(t,e){if(t===void 0){t=0}if(e===void 0){e=255}var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){this.s+=t/100;return this},desaturate:function(t){this.s-=t/100;return this},lighten:function(t){this.v+=t/100;return this},darken:function(t){this.v-=t/100;return this},brighten:function(t){var e=this.r;var i=this.g;var r=this.b;e=Math.max(0,Math.min(255,e-Math.round(255*-(t/100))));i=Math.max(0,Math.min(255,i-Math.round(255*-(t/100))));r=Math.max(0,Math.min(255,r-Math.round(255*-(t/100))));return this.setTo(e,i,r)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1);this.r=Math.floor(this.gl[0]*255);this.update(true)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1);this.g=Math.floor(this.gl[1]*255);this.update(true)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1);this.b=Math.floor(this.gl[2]*255);this.update(true)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1);this.a=Math.floor(this.gl[3]*255);this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t));this.r=Math.min(t,255);this.gl[0]=t/255;this.update(true)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t));this.g=Math.min(t,255);this.gl[1]=t/255;this.update(true)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t));this.b=Math.min(t,255);this.gl[2]=t/255;this.update(true)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t));this.a=Math.min(t,255);this.gl[3]=t/255;this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t;a(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t;a(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t;a(this._h,this._s,t,this)}}});t.exports=l},92728:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37589);var ColorSpectrum=function(t){if(t===void 0){t=1024}var e=[];var i=255;var s;var n=255;var a=0;var o=0;for(s=0;s<=i;s++){e.push({r:n,g:s,b:o,color:r(n,s,o)})}a=255;for(s=i;s>=0;s--){e.push({r:s,g:a,b:o,color:r(s,a,o)})}n=0;for(s=0;s<=i;s++,a--){e.push({r:n,g:a,b:s,color:r(n,a,s)})}a=0;o=255;for(s=0;s<=i;s++,o--,n++){e.push({r:n,g:a,b:o,color:r(n,a,o)})}if(t===1024){return e}else{var l=[];var h=0;var u=1024/t;for(s=0;s<t;s++){l.push(e[Math.floor(h)]);h+=u}return l}};t.exports=ColorSpectrum},91588:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ColorToRGBA=function(t){var e={r:t>>16&255,g:t>>8&255,b:t&255,a:255};if(t>16777215){e.a=t>>>24}return e};t.exports=ColorToRGBA},62957:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ComponentToHex=function(t){var e=t.toString(16);return e.length===1?"0"+e:e};t.exports=ComponentToHex},37589:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetColor=function(t,e,i){return t<<16|e<<8|i};t.exports=GetColor},1e3:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetColor32=function(t,e,i,r){return r<<24|t<<16|e<<8|i};t.exports=GetColor32},62183:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);var s=i(89528);var HSLToColor=function(t,e,i){var n=i;var a=i;var o=i;if(e!==0){var l=i<.5?i*(1+e):i+e-i*e;var h=2*i-l;n=s(h,l,t+1/3);a=s(h,l,t);o=s(h,l,t-1/3)}var u=new r;return u.setGLTo(n,a,o,1)};t.exports=HSLToColor},27939:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7537);var HSVColorWheel=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}var i=[];for(var s=0;s<=359;s++){i.push(r(s/359,t,e))}return i};t.exports=HSVColorWheel},7537:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37589);function ConvertValue(t,e,i,r){var s=(t+e*6)%6;var n=Math.min(s,4-s,1);return Math.round(255*(r-r*i*Math.max(0,n)))}var HSVToRGB=function(t,e,i,s){if(e===void 0){e=1}if(i===void 0){i=1}var n=ConvertValue(5,t,e,i);var a=ConvertValue(3,t,e,i);var o=ConvertValue(1,t,e,i);if(!s){return{r:n,g:a,b:o,color:r(n,a,o)}}else if(s.setTo){return s.setTo(n,a,o,s.alpha,true)}else{s.r=n;s.g=a;s.b=o;s.color=r(n,a,o);return s}};t.exports=HSVToRGB},70238:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);var HexStringToColor=function(t){var e=new r;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var s=parseInt(i[1],16);var n=parseInt(i[2],16);var a=parseInt(i[3],16);e.setTo(s,n,a)}return e};t.exports=HexStringToColor},89528:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HueToComponent=function(t,e,i){if(i<0){i+=1}if(i>1){i-=1}if(i<1/6){return t+(e-t)*6*i}if(i<1/2){return e}if(i<2/3){return t+(e-t)*(2/3-i)*6}return t};t.exports=HueToComponent},30100:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);var s=i(90664);var IntegerToColor=function(t){var e=s(t);return new r(e.r,e.g,e.b,e.a)};t.exports=IntegerToColor},90664:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IntegerToRGB=function(t){if(t>16777215){return{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}}else{return{a:255,r:t>>16&255,g:t>>8&255,b:t&255}}};t.exports=IntegerToRGB},13699:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(28915);var s=i(37589);var RGBWithRGB=function(t,e,i,n,a,o,l,h){if(l===void 0){l=100}if(h===void 0){h=0}var u=h/l;var c=r(t,n,u);var f=r(e,a,u);var d=r(i,o,u);return{r:c,g:f,b:d,a:255,color:s(c,f,d)}};var ColorWithColor=function(t,e,i,r){if(i===void 0){i=100}if(r===void 0){r=0}return RGBWithRGB(t.r,t.g,t.b,e.r,e.g,e.b,i,r)};var ColorWithRGB=function(t,e,i,r,s,n){if(s===void 0){s=100}if(n===void 0){n=0}return RGBWithRGB(t.r,t.g,t.b,e,i,r,s,n)};t.exports={RGBWithRGB:RGBWithRGB,ColorWithRGB:ColorWithRGB,ColorWithColor:ColorWithColor}},68957:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);var ObjectToColor=function(t){return new r(t.r,t.g,t.b,t.a)};t.exports=ObjectToColor},87388:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);var RGBStringToColor=function(t){var e=new r;var i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var s=parseInt(i[1],10);var n=parseInt(i[2],10);var a=parseInt(i[3],10);var o=i[4]!==void 0?parseFloat(i[4]):1;e.setTo(s,n,a,o*255)}return e};t.exports=RGBStringToColor},87837:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RGBToHSV=function(t,e,i,r){if(r===void 0){r={h:0,s:0,v:0}}t/=255;e/=255;i/=255;var s=Math.min(t,e,i);var n=Math.max(t,e,i);var a=n-s;var o=0;var l=n===0?0:a/n;var h=n;if(n!==s){if(n===t){o=(e-i)/a+(e<i?6:0)}else if(n===e){o=(i-t)/a+2}else if(n===i){o=(t-e)/a+4}o/=6}if(r.hasOwnProperty("_h")){r._h=o;r._s=l;r._v=h}else{r.h=o;r.s=l;r.v=h}return r};t.exports=RGBToHSV},75723:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62957);var RGBToString=function(t,e,i,s,n){if(s===void 0){s=255}if(n===void 0){n="#"}if(n==="#"){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1,7)}else{return"0x"+r(s)+r(t)+r(e)+r(i)}};t.exports=RGBToString},85386:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30976);var s=i(40987);var RandomRGB=function(t,e){if(t===void 0){t=0}if(e===void 0){e=255}return new s(r(t,e),r(t,e),r(t,e))};t.exports=RandomRGB},80333:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70238);var s=i(30100);var n=i(68957);var a=i(87388);var ValueToColor=function(t){var e=typeof t;switch(e){case"string":if(t.substr(0,3).toLowerCase()==="rgb"){return a(t)}else{return r(t)}case"number":return s(t);case"object":return n(t)}};t.exports=ValueToColor},3956:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40987);r.ColorSpectrum=i(92728);r.ColorToRGBA=i(91588);r.ComponentToHex=i(62957);r.GetColor=i(37589);r.GetColor32=i(1e3);r.HexStringToColor=i(70238);r.HSLToColor=i(62183);r.HSVColorWheel=i(27939);r.HSVToRGB=i(7537);r.HueToComponent=i(89528);r.IntegerToColor=i(30100);r.IntegerToRGB=i(90664);r.Interpolate=i(13699);r.ObjectToColor=i(68957);r.RandomRGB=i(85386);r.RGBStringToColor=i(87388);r.RGBToHSV=i(87837);r.RGBToString=i(75723);r.ValueToColor=i(80333);t.exports=r},27460:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(39429);var n=new r({initialize:function BitmapMask2(t,e,i,r,s,n){if(!e){e=t.sys.make.image({x:i,y:r,key:s,frame:n,add:false})}this.bitmapMask=e;this.invertAlpha=false;this.isStencil=false},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.beginMask(this,e,i)},postRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.endMask(this,e,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});s.register("bitmapMask",(function(t,e,i,r,s){return new n(this.scene,t,e,i,r,s)}));t.exports=n},80661:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function GeometryMask2(t,e){this.geometryMask=e;this.invertAlpha=false;this.isStencil=true;this.level=0},setShape:function(t){this.geometryMask=t;return this},setInvertAlpha:function(t){if(t===void 0){t=true}this.invertAlpha=t;return this},preRenderWebGL:function(t,e,i){var r=t.gl;t.flush();if(t.maskStack.length===0){r.enable(r.STENCIL_TEST);r.clear(r.STENCIL_BUFFER_BIT);t.maskCount=0}if(t.currentCameraMask.mask!==this){t.currentMask.mask=this}t.maskStack.push({mask:this,camera:i});this.applyStencil(t,i,true);t.maskCount++},applyStencil:function(t,e,i){var r=t.gl;var s=this.geometryMask;var n=t.maskCount;var a=255;r.colorMask(false,false,false,false);if(i){r.stencilFunc(r.EQUAL,n,a);r.stencilOp(r.KEEP,r.KEEP,r.INCR);n++}else{r.stencilFunc(r.EQUAL,n+1,a);r.stencilOp(r.KEEP,r.KEEP,r.DECR)}this.level=n;s.renderWebGL(t,s,e);t.flush();r.colorMask(true,true,true,true);r.stencilOp(r.KEEP,r.KEEP,r.KEEP);if(this.invertAlpha){r.stencilFunc(r.NOTEQUAL,n,a)}else{r.stencilFunc(r.EQUAL,n,a)}},postRenderWebGL:function(t){var e=t.gl;t.maskStack.pop();t.maskCount--;t.flush();var i=t.currentMask;if(t.maskStack.length===0){i.mask=null;e.disable(e.STENCIL_TEST)}else{var r=t.maskStack[t.maskStack.length-1];r.mask.applyStencil(t,r.camera,false);if(t.currentCameraMask.mask!==r.mask){i.mask=r.mask;i.camera=r.camera}else{i.mask=null}}},preRenderCanvas:function(t,e,i){var r=this.geometryMask;t.currentContext.save();r.renderCanvas(t,r,i,null,null,true);t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=s},69781:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function BaseShader2(t,e,i,r){if(!e||e===""){e=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")}if(!i||i===""){i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")}if(r===void 0){r=null}this.key=t;this.fragmentSrc=e;this.vertexSrc=i;this.uniforms=r}});t.exports=s},40366:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddToDOM=function(t,e){var i;if(e){if(typeof e==="string"){i=document.getElementById(e)}else if(typeof e==="object"&&e.nodeType===1){i=e}}else if(t.parentElement||e===null){return t}if(!i){i=document.body}i.appendChild(t);return t};t.exports=AddToDOM},83719:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40366);var CreateDOMContainer=function(t){var e=t.config;if(!e.parent||!e.domCreateContainer){return}var i=document.createElement("div");i.style.cssText=["display: block;","width: "+t.scale.width+"px;","height: "+t.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+e.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" ");t.domContainer=i;r(i,e.parent)};t.exports=CreateDOMContainer},57264:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25892);var DOMContentLoaded=function(t){if(document.readyState==="complete"||document.readyState==="interactive"){t();return}var check=function(){document.removeEventListener("deviceready",check,true);document.removeEventListener("DOMContentLoaded",check,true);window.removeEventListener("load",check,true);t()};if(!document.body){window.setTimeout(check,20)}else if(r.cordova){document.addEventListener("deviceready",check,false)}else{document.addEventListener("DOMContentLoaded",check,true);window.addEventListener("load",check,true)}};t.exports=DOMContentLoaded},57811:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetInnerHeight=function(t){if(!t){return window.innerHeight}var e=Math.abs(window.orientation);var i={w:0,h:0};var r=document.createElement("div");r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0");document.documentElement.appendChild(r);i.w=e===90?r.offsetHeight:window.innerWidth;i.h=e===90?window.innerWidth:r.offsetHeight;document.documentElement.removeChild(r);r=null;if(Math.abs(window.orientation)!==90){return i.h}else{return i.w}};t.exports=GetInnerHeight},45818:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13560);var GetScreenOrientation=function(t,e){var i=window.screen;var s=i?i.orientation||i.mozOrientation||i.msOrientation:false;if(s&&typeof s.type==="string"){return s.type}else if(typeof s==="string"){return s}if(typeof window.orientation==="number"){return window.orientation===0||window.orientation===180?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE}else if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches){return r.ORIENTATION.PORTRAIT}else if(window.matchMedia("(orientation: landscape)").matches){return r.ORIENTATION.LANDSCAPE}}else{return e>t?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE}};t.exports=GetScreenOrientation},74403:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTarget=function(t){var e;if(t!==""){if(typeof t==="string"){e=document.getElementById(t)}else if(t&&t.nodeType===1){e=t}}if(!e){e=document.body}return e};t.exports=GetTarget},56836:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ParseXML=function(t){var e="";try{if(window["DOMParser"]){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else{e=new ActiveXObject("Microsoft.XMLDOM");e.loadXML(t)}}catch(r){e=null}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length){return null}else{return e}};t.exports=ParseXML},35846:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RemoveFromDOM=function(t){if(t.parentNode){t.parentNode.removeChild(t)}};t.exports=RemoveFromDOM},43092:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(29747);var n=new r({initialize:function RequestAnimationFrame2(){this.isRunning=false;this.callback=s;this.isSetTimeOut=false;this.timeOutID=null;this.delay=0;var t=this;this.step=function step(e){t.callback(e);if(t.isRunning){t.timeOutID=window.requestAnimationFrame(step)}};this.stepTimeout=function stepTimeout(){if(t.isRunning){t.timeOutID=window.setTimeout(stepTimeout,t.delay)}t.callback(window.performance.now())}},start:function(t,e,i){if(this.isRunning){return}this.callback=t;this.isSetTimeOut=e;this.delay=i;this.isRunning=true;this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step)},stop:function(){this.isRunning=false;if(this.isSetTimeOut){clearTimeout(this.timeOutID)}else{window.cancelAnimationFrame(this.timeOutID)}},destroy:function(){this.stop();this.callback=s}});t.exports=n},84902:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};t.exports=r},47565:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(37277);var a=new r({Extends:s,initialize:function EventEmitter3(){s.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});n.register("EventEmitter",a,"events");t.exports=a},93055:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={EventEmitter:i(47565)}},20122:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Barrel2(t,e){if(e===void 0){e=1}s.call(this,n.BARREL,t);this.amount=e}});t.exports=a},32251:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Bloom2(t,e,i,r,a,o,l){if(i===void 0){i=1}if(r===void 0){r=1}if(a===void 0){a=1}if(o===void 0){o=1}if(l===void 0){l=4}s.call(this,n.BLOOM,t);this.steps=l;this.offsetX=i;this.offsetY=r;this.blurStrength=a;this.strength=o;this.glcolor=[1,1,1];if(e!==void 0&&e!==null){this.color=e}},color:{get:function(){var t=this.glcolor;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}}});t.exports=a},9047:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Blur2(t,e,i,r,a,o,l){if(e===void 0){e=0}if(i===void 0){i=2}if(r===void 0){r=2}if(a===void 0){a=1}if(l===void 0){l=4}s.call(this,n.BLUR,t);this.quality=e;this.x=i;this.y=r;this.steps=l;this.strength=a;this.glcolor=[1,1,1];if(o!==void 0&&o!==null){this.color=o}},color:{get:function(){var t=this.glcolor;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}}});t.exports=a},27885:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Bokeh2(t,e,i,r,a,o,l,h){if(e===void 0){e=.5}if(i===void 0){i=1}if(r===void 0){r=.2}if(a===void 0){a=false}if(o===void 0){o=1}if(l===void 0){l=1}if(h===void 0){h=1}s.call(this,n.BOKEH,t);this.radius=e;this.amount=i;this.contrast=r;this.isTiltShift=a;this.strength=h;this.blurX=o;this.blurY=l}});t.exports=a},12578:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Circle2(t,e,i,r,a,o){if(e===void 0){e=8}if(a===void 0){a=1}if(o===void 0){o=.005}s.call(this,n.CIRCLE,t);this.scale=a;this.feather=o;this.thickness=e;this.glcolor=[1,.2,.7];this.glcolor2=[1,0,0,.4];if(i!==void 0&&i!==null){this.color=i}if(r!==void 0&&r!==null){this.backgroundColor=r}},color:{get:function(){var t=this.glcolor;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}},backgroundColor:{get:function(){var t=this.glcolor2;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor2;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(t){this.glcolor2[3]=t}}});t.exports=a},15802:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(89422);var n=i(14811);var a=new r({Extends:s,initialize:function ColorMatrix2(t){s.call(this);this.type=n.COLOR_MATRIX;this.gameObject=t;this.active=true},destroy:function(){this.gameObject=null;this._matrix=null;this._data=null}});t.exports=a},72898:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Controller2(t,e){this.type=t;this.gameObject=e;this.active=true},setActive:function(t){this.active=t;return this},destroy:function(){this.gameObject=null;this.active=false}});t.exports=s},44553:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Displacement2(t,e,i,r){if(e===void 0){e="__WHITE"}if(i===void 0){i=.005}if(r===void 0){r=.005}s.call(this,n.DISPLACEMENT,t);this.x=i;this.y=r;this.glTexture;this.setTexture(e)},setTexture:function(t){var e=this.gameObject.scene.sys.textures.getFrame(t);if(e){this.glTexture=e.glTexture}return this}});t.exports=a},68531:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Glow2(t,e,i,r,a){if(i===void 0){i=4}if(r===void 0){r=0}if(a===void 0){a=false}s.call(this,n.GLOW,t);this.outerStrength=i;this.innerStrength=r;this.knockout=a;this.glcolor=[1,1,1,1];if(e!==void 0){this.color=e}},color:{get:function(){var t=this.glcolor;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}}});t.exports=a},37102:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Gradient2(t,e,i,r,a,o,l,h,u){if(r===void 0){r=.2}if(a===void 0){a=0}if(o===void 0){o=0}if(l===void 0){l=0}if(h===void 0){h=1}if(u===void 0){u=0}s.call(this,n.GRADIENT,t);this.alpha=r;this.size=u;this.fromX=a;this.fromY=o;this.toX=l;this.toY=h;this.glcolor1=[255,0,0];this.glcolor2=[0,255,0];if(e!==void 0&&e!==null){this.color1=e}if(i!==void 0&&i!==null){this.color2=i}},color1:{get:function(){var t=this.glcolor1;return(t[0]<<16)+(t[1]<<8)+(t[2]|0)},set:function(t){var e=this.glcolor1;e[0]=t>>16&255;e[1]=t>>8&255;e[2]=t&255}},color2:{get:function(){var t=this.glcolor2;return(t[0]<<16)+(t[1]<<8)+(t[2]|0)},set:function(t){var e=this.glcolor2;e[0]=t>>16&255;e[1]=t>>8&255;e[2]=t&255}}});t.exports=a},86886:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Pixelate2(t,e){if(e===void 0){e=1}s.call(this,n.PIXELATE,t);this.amount=e}});t.exports=a},92322:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Shadow2(t,e,i,r,a,o,l,h){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=.1}if(a===void 0){a=1}if(l===void 0){l=6}if(h===void 0){h=1}s.call(this,n.SHADOW,t);this.x=e;this.y=i;this.decay=r;this.power=a;this.glcolor=[0,0,0,1];this.samples=l;this.intensity=h;if(o!==void 0){this.color=o}},color:{get:function(){var t=this.glcolor;return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255}}});t.exports=a},39563:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Shine2(t,e,i,r,a){if(e===void 0){e=.5}if(i===void 0){i=.5}if(r===void 0){r=3}if(a===void 0){a=false}s.call(this,n.SHINE,t);this.speed=e;this.lineWidth=i;this.gradient=r;this.reveal=a}});t.exports=a},56448:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Vignette2(t,e,i,r,a){if(e===void 0){e=.5}if(i===void 0){i=.5}if(r===void 0){r=.5}if(a===void 0){a=.5}s.call(this,n.VIGNETTE,t);this.x=e;this.y=i;this.radius=r;this.strength=a}});t.exports=a},38433:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72898);var n=i(14811);var a=new r({Extends:s,initialize:function Wipe2(t,e,i,r,a){if(e===void 0){e=.1}if(i===void 0){i=0}if(r===void 0){r=0}if(a===void 0){a=false}s.call(this,n.WIPE,t);this.progress=0;this.wipeWidth=e;this.direction=i;this.axis=r;this.reveal=a}});t.exports=a},14811:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};t.exports=e},66064:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var s=i(14811);var n={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};n=r(false,n,s);t.exports=n},25305:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(23568);var BuildGameObject=function(t,e,i){e.x=s(i,"x",0);e.y=s(i,"y",0);e.depth=s(i,"depth",0);e.flipX=s(i,"flipX",false);e.flipY=s(i,"flipY",false);var n=s(i,"scale",null);if(typeof n==="number"){e.setScale(n)}else if(n!==null){e.scaleX=s(n,"x",1);e.scaleY=s(n,"y",1)}var a=s(i,"scrollFactor",null);if(typeof a==="number"){e.setScrollFactor(a)}else if(a!==null){e.scrollFactorX=s(a,"x",1);e.scrollFactorY=s(a,"y",1)}e.rotation=s(i,"rotation",0);var o=s(i,"angle",null);if(o!==null){e.angle=o}e.alpha=s(i,"alpha",1);var l=s(i,"origin",null);if(typeof l==="number"){e.setOrigin(l)}else if(l!==null){var h=s(l,"x",.5);var u=s(l,"y",.5);e.setOrigin(h,u)}e.blendMode=s(i,"blendMode",r.NORMAL);e.visible=s(i,"visible",true);var c=s(i,"add",true);if(c){t.sys.displayList.add(e)}if(e.preUpdate){t.sys.updateList.add(e)}return e};t.exports=BuildGameObject},13059:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23568);var BuildGameObjectAnimation=function(t,e){var i=r(e,"anims",null);if(i===null){return t}if(typeof i==="string"){t.anims.play(i)}else if(typeof i==="object"){var s=t.anims;var n=r(i,"key",void 0);if(n){var a=r(i,"startFrame",void 0);var o=r(i,"delay",0);var l=r(i,"repeat",0);var h=r(i,"repeatDelay",0);var u=r(i,"yoyo",false);var c=r(i,"play",false);var f=r(i,"delayedPlay",0);var d={key:n,delay:o,repeat:l,repeatDelay:h,yoyo:u,startFrame:a};if(c){s.play(d)}else if(f>0){s.playAfterDelay(d,f)}else{s.load(d)}}}return t};t.exports=BuildGameObjectAnimation},8050:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(73162);var n=i(37277);var a=i(51708);var o=i(44594);var l=i(19186);var h=new r({Extends:s,initialize:function DisplayList2(t){s.call(this,t);this.sortChildrenFlag=false;this.scene=t;this.systems=t.sys;this.events=t.sys.events;this.addCallback=this.addChildCallback;this.removeCallback=this.removeChildCallback;this.events.once(o.BOOT,this.boot,this);this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(t){if(t.displayList&&t.displayList!==this){t.removeFromDisplayList()}if(t.parentContainer){t.parentContainer.remove(t)}if(!t.displayList){this.queueDepthSort();t.displayList=this;t.emit(a.ADDED_TO_SCENE,t,this.scene);this.events.emit(o.ADDED_TO_SCENE,t,this.scene)}},removeChildCallback:function(t){this.queueDepthSort();t.displayList=null;t.emit(a.REMOVED_FROM_SCENE,t,this.scene);this.events.emit(o.REMOVED_FROM_SCENE,t,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=true},depthSort:function(){if(this.sortChildrenFlag){l(this.list,this.sortByDepth);this.sortChildrenFlag=false}},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){var t=this.list;var e=t.length;while(e--){t[e].destroy(true)}t.length=0;this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(o.START,this.start,this);this.scene=null;this.systems=null;this.events=null}});n.register("DisplayList",h,"displayList");t.exports=h},95643:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(53774);var n=i(45893);var a=i(50792);var o=i(51708);var l=i(44594);var h=new r({Extends:a,initialize:function GameObject2(t,e){a.call(this);this.scene=t;this.displayList=null;this.type=e;this.state=0;this.parentContainer=null;this.name="";this.active=true;this.tabIndex=-1;this.data=null;this.renderFlags=15;this.cameraFilter=0;this.input=null;this.body=null;this.ignoreDestroy=false;this.on(o.ADDED_TO_SCENE,this.addedToScene,this);this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this);t.sys.queueDepthSort()},setActive:function(t){this.active=t;return this},setName:function(t){this.name=t;return this},setState:function(t){this.state=t;return this},setDataEnabled:function(){if(!this.data){this.data=new n(this)}return this},setData:function(t,e){if(!this.data){this.data=new n(this)}this.data.set(t,e);return this},incData:function(t,e){if(!this.data){this.data=new n(this)}this.data.inc(t,e);return this},toggleData:function(t){if(!this.data){this.data=new n(this)}this.data.toggle(t);return this},getData:function(t){if(!this.data){this.data=new n(this)}return this.data.get(t)},setInteractive:function(t,e,i){this.scene.sys.input.enable(this,t,e,i);return this},disableInteractive:function(t){if(t===void 0){t=false}this.scene.sys.input.disable(this,t);return this},removeInteractive:function(t){if(t===void 0){t=false}this.scene.sys.input.clear(this);if(t){this.scene.sys.input.resetCursor()}this.input=void 0;return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(t){var e=this.displayList&&this.displayList.active?this.displayList.willRender(t):true;return!(!e||h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&t.id)},getIndexList:function(){var t=this;var e=this.parentContainer;var i=[];while(e){i.unshift(e.getIndex(t));t=e;if(!e.parentContainer){break}else{e=e.parentContainer}}if(this.displayList){i.unshift(this.displayList.getIndex(t))}else{i.unshift(this.scene.sys.displayList.getIndex(t))}return i},addToDisplayList:function(t){if(t===void 0){t=this.scene.sys.displayList}if(this.displayList&&this.displayList!==t){this.removeFromDisplayList()}if(!t.exists(this)){this.displayList=t;t.add(this,true);t.queueDepthSort();this.emit(o.ADDED_TO_SCENE,this,this.scene);t.events.emit(l.ADDED_TO_SCENE,this,this.scene)}return this},addToUpdateList:function(){if(this.scene&&this.preUpdate){this.scene.sys.updateList.add(this)}return this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;if(t&&t.exists(this)){t.remove(this,true);t.queueDepthSort();this.displayList=null;this.emit(o.REMOVED_FROM_SCENE,this,this.scene);t.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)}return this},removeFromUpdateList:function(){if(this.scene&&this.preUpdate){this.scene.sys.updateList.remove(this)}return this},getDisplayList:function(){var t=null;if(this.parentContainer){t=this.parentContainer.list}else if(this.displayList){t=this.displayList.list}return t},destroy:function(t){if(!this.scene||this.ignoreDestroy){return}if(t===void 0){t=false}if(this.preDestroy){this.preDestroy.call(this)}this.emit(o.DESTROY,this,t);this.removeAllListeners();if(this.postPipelines){this.resetPostPipeline(true)}this.removeFromDisplayList();this.removeFromUpdateList();if(this.input){this.scene.sys.input.clear(this);this.input=void 0}if(this.data){this.data.destroy();this.data=void 0}if(this.body){this.body.destroy();this.body=void 0}if(this.preFX){this.preFX.destroy();this.preFX=void 0}if(this.postFX){this.postFX.destroy();this.postFX=void 0}this.active=false;this.visible=false;this.scene=void 0;this.parentContainer=void 0}});h.RENDER_MASK=15;t.exports=h},44603:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(37277);var n=i(44594);var a=new r({initialize:function GameObjectCreator2(t){this.scene=t;this.systems=t.sys;this.events=t.sys.events;this.displayList;this.updateList;this.events.once(n.BOOT,this.boot,this);this.events.on(n.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(n.START,this.start,this);this.scene=null;this.systems=null;this.events=null;this.displayList=null;this.updateList=null}});a.register=function(t,e){if(!a.prototype.hasOwnProperty(t)){a.prototype[t]=e}};a.remove=function(t){if(a.prototype.hasOwnProperty(t)){delete a.prototype[t]}};s.register("GameObjectCreator",a,"make");t.exports=a},39429:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(37277);var n=i(44594);var a=new r({initialize:function GameObjectFactory2(t){this.scene=t;this.systems=t.sys;this.events=t.sys.events;this.displayList;this.updateList;this.events.once(n.BOOT,this.boot,this);this.events.on(n.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},existing:function(t){if(t.renderCanvas||t.renderWebGL){this.displayList.add(t)}if(t.preUpdate){this.updateList.add(t)}return t},shutdown:function(){this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(n.START,this.start,this);this.scene=null;this.systems=null;this.events=null;this.displayList=null;this.updateList=null}});a.register=function(t,e){if(!a.prototype.hasOwnProperty(t)){a.prototype[t]=e}};a.remove=function(t){if(a.prototype.hasOwnProperty(t)){delete a.prototype[t]}};s.register("GameObjectFactory",a,"add");t.exports=a},91296:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61340);var s=new r;var n=new r;var a=new r;var o={camera:s,sprite:n,calc:a};var GetCalcMatrix=function(t,e,i){var r=s;var l=n;var h=a;l.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);r.copyFrom(e.matrix);if(i){r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY);l.e=t.x;l.f=t.y}else{l.e-=e.scrollX*t.scrollFactorX;l.f-=e.scrollY*t.scrollFactorY}r.multiply(l,h);return o};t.exports=GetCalcMatrix},45027:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(25774);var n=i(37277);var a=i(44594);var o=new r({Extends:s,initialize:function UpdateList2(t){s.call(this);this.checkQueue=true;this.scene=t;this.systems=t.sys;t.sys.events.once(a.BOOT,this.boot,this);t.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(a.PRE_UPDATE,this.update,this);t.on(a.UPDATE,this.sceneUpdate,this);t.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,e){var i=this._active;var r=i.length;for(var s=0;s<r;s++){var n=i[s];if(n.active){n.preUpdate.call(n,t,e)}}},shutdown:function(){var t=this._active.length;while(t--){this._active[t].destroy(true)}t=this._pending.length;while(t--){this._pending[t].destroy(true)}t=this._destroy.length;while(t--){this._destroy[t].destroy(true)}this._toProcess=0;this._pending=[];this._active=[];this._destroy=[];this.removeAllListeners();var e=this.systems.events;e.off(a.PRE_UPDATE,this.update,this);e.off(a.UPDATE,this.sceneUpdate,this);e.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.systems.events.off(a.START,this.start,this);this.scene=null;this.systems=null}});n.register("UpdateList",o,"updateList");t.exports=o},3217:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BatchChar=function(t,e,i,r,s,n,a,o,l,h,u,c,f,d,v){var p=i.x-e.displayOriginX+s;var g=i.y-e.displayOriginY+n;var m=p+i.w;var y=g+i.h;var x=a.a;var b=a.b;var T=a.c;var w=a.d;var E=a.e;var S=a.f;var A=p*x+g*T+E;var C=p*b+g*w+S;var O=p*x+y*T+E;var P=p*b+y*w+S;var I=m*x+y*T+E;var R=m*b+y*w+S;var M=m*x+g*T+E;var L=m*b+g*w+S;if(o){A=Math.round(A);C=Math.round(C);O=Math.round(O);P=Math.round(P);I=Math.round(I);R=Math.round(R);M=Math.round(M);L=Math.round(L)}t.batchQuad(e,A,C,O,P,I,R,M,L,r.u0,r.v0,r.u1,r.v1,l,h,u,c,f,d,v)};t.exports=BatchChar},53048:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBitmapTextSize=function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};return r}var s=t.text;var n=s.length;var a=t.maxWidth;var o=t.wordWrapCharCode;var l=Number.MAX_VALUE;var h=Number.MAX_VALUE;var u=0;var c=0;var f=t.fontData.chars;var d=t.fontData.lineHeight;var v=t.letterSpacing;var p=t.lineSpacing;var g=0;var m=0;var y=0;var x=null;var b=t._align;var T=0;var w=0;var E=t.fontSize/t.fontData.size;var S=E*t.scaleX;var A=E*t.scaleY;var C=null;var O=0;var P=[];var I=Number.MAX_VALUE;var R=0;var M=0;var L=0;var D;var k;var F;var B=[];var N=[];var U=null;var measureTextWidth=function(t,e){var i=0;for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);var n=e.chars[s];if(n){i+=n.xAdvance}}return i*S};if(a>0){F=s.split("\n");var z=[];for(D=0;D<F.length;D++){var V=F[D];var G="";var X="";var Y="";var H="";for(k=0;k<V.length;k++){y=V.charCodeAt(k);G+=V[k];if(y===o||k===V.length-1){H=Y+G;var W=measureTextWidth(H,t.fontData);if(W<=a){Y=H}else{X=X.slice(0,-1);X+=(X?"\n":"")+Y;Y=G}G=""}}X=X.slice(0,-1);X+=(X?"\n":"")+Y;z.push(X)}s=z.join("\n");r.wrappedText=s;n=s.length}var j=0;for(D=0;D<n;D++){y=s.charCodeAt(D);if(y===10){if(U!==null){B.push({word:U.word,i:U.i,x:U.x*S,y:U.y*A,w:U.w*S,h:U.h*A});U=null}C=null;P[M]=L;if(L>R){R=L}if(L<I){I=L}M++;L=0;g=0;m=(d+p)*M;continue}x=f[y];if(!x){continue}T=g;w=m;if(C!==null){var Z=x.kerning[O];T+=Z!==void 0?Z:0}if(l>T){l=T}if(h>w){h=w}var q=T+x.xAdvance;var K=w+d;if(u<q){u=q}if(c<K){c=K}var J=x.xOffset+x.xAdvance+(Z!==void 0?Z:0);if(y===o){if(U!==null){B.push({word:U.word,i:U.i,x:U.x*S,y:U.y*A,w:U.w*S,h:U.h*A});U=null}}else{if(U===null){U={word:"",i:j,x:g,y:m,w:0,h:d}}U.word=U.word.concat(s[D]);U.w+=J}N.push({i:j,idx:D,char:s[D],code:y,x:(x.xOffset+T)*E,y:(x.yOffset+m)*E,w:x.width*E,h:x.height*E,t:m*E,r:q*E,b:d*E,line:M,glyph:x});g+=x.xAdvance+v+(Z!==void 0?Z:0);C=x;O=y;L=q*E;j++}if(U!==null){B.push({word:U.word,i:U.i,x:U.x*S,y:U.y*A,w:U.w*S,h:U.h*A})}P[M]=L;if(L>R){R=L}if(L<I){I=L}if(b>0){for(var Q=0;Q<N.length;Q++){var tt=N[Q];if(b===1){var et=(R-P[tt.line])/2;tt.x+=et;tt.r+=et}else if(b===2){var it=R-P[tt.line];tt.x+=it;tt.r+=it}}}var rt=r.local;var st=r.global;F=r.lines;rt.x=l*E;rt.y=h*E;rt.width=u*E;rt.height=c*E;st.x=t.x-t._displayOriginX+l*S;st.y=t.y-t._displayOriginY+h*A;st.width=u*S;st.height=c*A;F.shortest=I;F.longest=R;F.lengths=P;if(e){rt.x=Math.ceil(rt.x);rt.y=Math.ceil(rt.y);rt.width=Math.ceil(rt.width);rt.height=Math.ceil(rt.height);st.x=Math.ceil(st.x);st.y=Math.ceil(st.y);st.width=Math.ceil(st.width);st.height=Math.ceil(st.height);F.shortest=Math.ceil(I);F.longest=Math.ceil(R)}if(i){t._displayOriginX=t.originX*rt.width;t._displayOriginY=t.originY*rt.height;st.x=t.x-t._displayOriginX*t.scaleX;st.y=t.y-t._displayOriginY*t.scaleY;if(e){st.x=Math.ceil(st.x);st.y=Math.ceil(st.y)}}r.words=B;r.characters=N;r.lines.height=d;r.scale=E;r.scaleX=t.scaleX;r.scaleY=t.scaleY;return r};t.exports=GetBitmapTextSize},61327:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(21859);var ParseFromAtlas=function(t,e,i,s,n,a,o){var l=t.sys.textures.get(i);var h=l.get(s);var u=t.sys.cache.xml.get(n);if(h&&u){var c=r(u,h,a,o,l);t.sys.cache.bitmapFont.add(e,{data:c,texture:i,frame:s,fromAtlas:true});return true}else{return false}};t.exports=ParseFromAtlas},6925:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35154);var ParseRetroFont=function(t,e){var i=e.width;var s=e.height;var n=Math.floor(i/2);var a=Math.floor(s/2);var o=r(e,"chars","");if(o===""){return}var l=r(e,"image","");var h=t.sys.textures.getFrame(l);var u=h.cutX;var c=h.cutY;var f=h.source.width;var d=h.source.height;var v=r(e,"offset.x",0);var p=r(e,"offset.y",0);var g=r(e,"spacing.x",0);var m=r(e,"spacing.y",0);var y=r(e,"lineSpacing",0);var x=r(e,"charsPerRow",null);if(x===null){x=f/i;if(x>o.length){x=o.length}}var b=v;var T=p;var w={retroFont:true,font:l,size:i,lineHeight:s+y,chars:{}};var E=0;for(var S=0;S<o.length;S++){var A=o.charCodeAt(S);var C=(u+b)/f;var O=(c+T)/d;var P=(u+b+i)/f;var I=(c+T+s)/d;w.chars[A]={x:b,y:T,width:i,height:s,centerX:n,centerY:a,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:C,v0:O,u1:P,v1:I};E++;if(E===x){E=0;b=v;T+=s+m}else{b+=i+g}}var R={data:w,frame:null,texture:l};return R};t.exports=ParseRetroFont},21859:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function getValue(t,e){return parseInt(t.getAttribute(e),10)}var ParseXMLBitmapFont=function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=0}var n=e.cutX;var a=e.cutY;var o=e.source.width;var l=e.source.height;var h=e.sourceIndex;var u={};var c=t.getElementsByTagName("info")[0];var f=t.getElementsByTagName("common")[0];u.font=c.getAttribute("face");u.size=getValue(c,"size");u.lineHeight=getValue(f,"lineHeight")+r;u.chars={};var d=t.getElementsByTagName("char");var v=e!==void 0&&e.trimmed;if(v){var p=e.height;var g=e.width}for(var m=0;m<d.length;m++){var y=d[m];var x=getValue(y,"id");var b=String.fromCharCode(x);var T=getValue(y,"x");var w=getValue(y,"y");var E=getValue(y,"width");var S=getValue(y,"height");if(v){if(T<g){g=T}if(w<p){p=w}}if(v&&p!==0&&g!==0){T-=e.x;w-=e.y}var A=(n+T)/o;var C=(a+w)/l;var O=(n+T+E)/o;var P=(a+w+S)/l;u.chars[x]={x:T,y:w,width:E,height:S,centerX:Math.floor(E/2),centerY:Math.floor(S/2),xOffset:getValue(y,"xoffset"),yOffset:getValue(y,"yoffset"),xAdvance:getValue(y,"xadvance")+i,data:{},kerning:{},u0:A,v0:C,u1:O,v1:P};if(s&&E!==0&&S!==0){var I=s.add(b,h,T,w,E,S);if(I){I.setUVs(E,S,A,C,O,P)}}}var R=t.getElementsByTagName("kerning");for(m=0;m<R.length;m++){var M=R[m];var L=getValue(M,"first");var D=getValue(M,"second");var k=getValue(M,"amount");u.chars[D].kerning[L]=k}return u};t.exports=ParseXMLBitmapFont},196:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87662);var s=i(79291);var n={Parse:i(6925)};n=s(false,n,r);t.exports=n},87662:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};t.exports=e},2638:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22186);var s=i(83419);var n=i(12310);var a=new s({Extends:r,Mixins:[n],initialize:function DynamicBitmapText2(t,e,i,s,n,a,o){r.call(this,t,e,i,s,n,a,o);this.type="DynamicBitmapText";this.scrollX=0;this.scrollY=0;this.cropWidth=0;this.cropHeight=0;this.displayCallback;this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){this.cropWidth=t;this.cropHeight=e;return this},setDisplayCallback:function(t){this.displayCallback=t;return this},setScrollX:function(t){this.scrollX=t;return this},setScrollY:function(t){this.scrollY=t;return this}});t.exports=a},86741:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20926);var DynamicBitmapTextCanvasRenderer=function(t,e,i,s){var n=e._text;var a=n.length;var o=t.currentContext;if(a===0||!r(t,o,e,i,s)){return}i.addToRenderList(e);var l=e.fromAtlas?e.frame:e.texture.frames["__BASE"];var h=e.displayCallback;var u=e.callbackData;var c=e.fontData.chars;var f=e.fontData.lineHeight;var d=e._letterSpacing;var v=0;var p=0;var g=0;var m=null;var y=0;var x=0;var b=0;var T=0;var w=0;var E=0;var S=null;var A=0;var C=e.frame.source.image;var O=l.cutX;var P=l.cutY;var I=0;var R=0;var M=e._fontSize/e.fontData.size;var L=e._align;var D=0;var k=0;e.getTextBounds(false);var F=e._bounds.lines;if(L===1){k=(F.longest-F.lengths[0])/2}else if(L===2){k=F.longest-F.lengths[0]}o.translate(-e.displayOriginX,-e.displayOriginY);var B=i.roundPixels;if(e.cropWidth>0&&e.cropHeight>0){o.beginPath();o.rect(0,0,e.cropWidth,e.cropHeight);o.clip()}for(var N=0;N<a;N++){R=M;I=0;g=n.charCodeAt(N);if(g===10){D++;if(L===1){k=(F.longest-F.lengths[D])/2}else if(L===2){k=F.longest-F.lengths[D]}v=0;p+=f;S=null;continue}m=c[g];if(!m){continue}y=O+m.x;x=P+m.y;b=m.width;T=m.height;w=m.xOffset+v-e.scrollX;E=m.yOffset+p-e.scrollY;if(S!==null){var U=m.kerning[A];w+=U!==void 0?U:0}if(h){u.index=N;u.charCode=g;u.x=w;u.y=E;u.scale=R;u.rotation=I;u.data=m.data;var z=h(u);w=z.x;E=z.y;R=z.scale;I=z.rotation}w*=R;E*=R;w+=k;v+=m.xAdvance+d+(U!==void 0?U:0);S=m;A=g;if(b===0||T===0||g===32){continue}if(B){w=Math.round(w);E=Math.round(E)}o.save();o.translate(w,E);o.rotate(I);o.scale(R,R);o.drawImage(C,y,x,b,T,0,0,b,T);o.restore()}o.restore()};t.exports=DynamicBitmapTextCanvasRenderer},11164:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2638);var s=i(25305);var n=i(44603);var a=i(23568);n.register("dynamicBitmapText",(function(t,e){if(t===void 0){t={}}var i=a(t,"font","");var n=a(t,"text","");var o=a(t,"size",false);var l=new r(this.scene,0,0,i,n,o);if(e!==void 0){t.add=e}s(this.scene,l,t);return l}))},72566:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2638);var s=i(39429);s.register("dynamicBitmapText",(function(t,e,i,s,n){return this.displayList.add(new r(this.scene,t,e,i,s,n))}))},12310:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(73482)}{n=i(86741)}t.exports={renderWebGL:s,renderCanvas:n}},73482:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(61340);var n=i(70554);var a=new s;var DynamicBitmapTextWebGLRenderer=function(t,e,i,s){var o=e.text;var l=o.length;if(l===0){return}i.addToRenderList(e);var h=t.pipelines.set(e.pipeline,e);var u=r(e,i,s);t.pipelines.preBatch(e);var c=u.sprite;var f=u.calc;var d=a;var v=e.cropWidth>0||e.cropHeight>0;if(v){h.flush();t.pushScissor(f.tx,f.ty,e.cropWidth*f.scaleX,e.cropHeight*f.scaleY)}var p=e.frame;var g=p.glTexture;var m=e.tintFill;var y=n.getTintAppendFloatAlpha(e.tintTopLeft,i.alpha*e._alphaTL);var x=n.getTintAppendFloatAlpha(e.tintTopRight,i.alpha*e._alphaTR);var b=n.getTintAppendFloatAlpha(e.tintBottomLeft,i.alpha*e._alphaBL);var T=n.getTintAppendFloatAlpha(e.tintBottomRight,i.alpha*e._alphaBR);var w=h.setGameObject(e);var E=0;var S=0;var A=0;var C=0;var O=e.letterSpacing;var P;var I=0;var R=0;var M;var L=e.scrollX;var D=e.scrollY;var k=e.fontData;var F=k.chars;var B=k.lineHeight;var N=e.fontSize/k.size;var U=0;var z=e._align;var V=0;var G=0;var X=e.getTextBounds(false);if(e.maxWidth>0){o=X.wrappedText;l=o.length}var Y=e._bounds.lines;if(z===1){G=(Y.longest-Y.lengths[0])/2}else if(z===2){G=Y.longest-Y.lengths[0]}var H=i.roundPixels;var W=e.displayCallback;var j=e.callbackData;for(var Z=0;Z<l;Z++){A=o.charCodeAt(Z);if(A===10){V++;if(z===1){G=(Y.longest-Y.lengths[V])/2}else if(z===2){G=Y.longest-Y.lengths[V]}E=0;S+=B;M=null;continue}P=F[A];if(!P){continue}I=P.width;R=P.height;var q=P.xOffset+E-L;var K=P.yOffset+S-D;if(M!==null){var J=P.kerning[C]||0;q+=J;E+=J}E+=P.xAdvance+O;M=P;C=A;if(I===0||R===0||A===32){continue}N=e.fontSize/e.fontData.size;U=0;if(W){j.color=0;j.tint.topLeft=y;j.tint.topRight=x;j.tint.bottomLeft=b;j.tint.bottomRight=T;j.index=Z;j.charCode=A;j.x=q;j.y=K;j.scale=N;j.rotation=U;j.data=P.data;var Q=W(j);q=Q.x;K=Q.y;N=Q.scale;U=Q.rotation;if(Q.color){y=Q.color;x=Q.color;b=Q.color;T=Q.color}else{y=Q.tint.topLeft;x=Q.tint.topRight;b=Q.tint.bottomLeft;T=Q.tint.bottomRight}y=n.getTintAppendFloatAlpha(y,i.alpha*e._alphaTL);x=n.getTintAppendFloatAlpha(x,i.alpha*e._alphaTR);b=n.getTintAppendFloatAlpha(b,i.alpha*e._alphaBL);T=n.getTintAppendFloatAlpha(T,i.alpha*e._alphaBR)}q*=N;K*=N;q-=e.displayOriginX;K-=e.displayOriginY;q+=G;d.applyITRS(q,K,U,N,N);f.multiply(d,c);var tt=P.u0;var et=P.v0;var it=P.u1;var rt=P.v1;var st=I;var nt=R;var at=c.e;var ot=c.f;var lt=nt*c.c+c.e;var ht=nt*c.d+c.f;var ut=st*c.a+nt*c.c+c.e;var ct=st*c.b+nt*c.d+c.f;var ft=st*c.a+c.e;var dt=st*c.b+c.f;if(H){at=Math.round(at);ot=Math.round(ot);lt=Math.round(lt);ht=Math.round(ht);ut=Math.round(ut);ct=Math.round(ct);ft=Math.round(ft);dt=Math.round(dt)}if(h.shouldFlush(6)){h.flush();w=h.setGameObject(e)}h.batchQuad(e,at,ot,lt,ht,ut,ct,ft,dt,tt,et,it,rt,y,x,b,T,m,g,w)}if(v){h.flush();t.popScissor()}t.pipelines.postBatch(e)};t.exports=DynamicBitmapTextWebGLRenderer},22186:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(45319);var n=i(31401);var a=i(95643);var o=i(53048);var l=i(61327);var h=i(21859);var u=i(87841);var c=i(18658);var f=new r({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Texture,n.Tint,n.Transform,n.Visible,c],initialize:function BitmapText2(t,e,i,r,s,n,l){if(s===void 0){s=""}if(l===void 0){l=0}a.call(this,t,"BitmapText");this.font=r;var h=this.scene.sys.cache.bitmapFont.get(r);if(!h){throw new Error("Invalid BitmapText key: "+r)}this.fontData=h.data;this._text="";this._fontSize=n||this.fontData.size;this._letterSpacing=0;this._lineSpacing=0;this._align=l;this._bounds=o();this._dirty=true;this._maxWidth=0;this.wordWrapCharCode=32;this.charColors=[];this.dropShadowX=0;this.dropShadowY=0;this.dropShadowColor=0;this.dropShadowAlpha=.5;this.fromAtlas=h.fromAtlas;this.setTexture(h.texture,h.frame);this.setPosition(e,i);this.setOrigin(0,0);this.initPipeline();this.initPostPipeline();this.setText(s)},setLeftAlign:function(){this._align=f.ALIGN_LEFT;this._dirty=true;return this},setCenterAlign:function(){this._align=f.ALIGN_CENTER;this._dirty=true;return this},setRightAlign:function(){this._align=f.ALIGN_RIGHT;this._dirty=true;return this},setFontSize:function(t){this._fontSize=t;this._dirty=true;return this},setLetterSpacing:function(t){if(t===void 0){t=0}this._letterSpacing=t;this._dirty=true;return this},setLineSpacing:function(t){if(t===void 0){t=0}this.lineSpacing=t;return this},setText:function(t){if(!t&&t!==0){t=""}if(Array.isArray(t)){t=t.join("\n")}if(t!==this.text){this._text=t.toString();this._dirty=true;this.updateDisplayOrigin()}return this},setDropShadow:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=.5}this.dropShadowX=t;this.dropShadowY=e;this.dropShadowColor=i;this.dropShadowAlpha=r;return this},setCharacterTint:function(t,e,i,r,n,a,o){if(t===void 0){t=0}if(e===void 0){e=1}if(i===void 0){i=false}if(r===void 0){r=-1}if(n===void 0){n=r;a=r;o=r}var l=this.text.length;if(e===-1){e=l}if(t<0){t=l+t}t=s(t,0,l-1);var h=s(t+e,t,l);var u=this.charColors;for(var c=t;c<h;c++){var f=u[c];if(r===-1){u[c]=null}else{var d=i?1:0;if(f){f.tintEffect=d;f.tintTL=r;f.tintTR=n;f.tintBL=a;f.tintBR=o}else{u[c]={tintEffect:d,tintTL:r,tintTR:n,tintBL:a,tintBR:o}}}}return this},setWordTint:function(t,e,i,r,s,n,a){if(e===void 0){e=1}var o=this.getTextBounds();var l=o.words;var h=typeof t==="number";var u=0;for(var c=0;c<l.length;c++){var f=l[c];if(h&&c===t||!h&&f.word===t){this.setCharacterTint(f.i,f.word.length,i,r,s,n,a);u++;if(u===e){return this}}}return this},getTextBounds:function(t){var e=this._bounds;if(this._dirty||t||this.scaleX!==e.scaleX||this.scaleY!==e.scaleY){o(this,t,true,e);this._dirty=false}return e},getCharacterAt:function(t,e,i){var r=this.getLocalPoint(t,e,null,i);var s=this.getTextBounds();var n=s.characters;var a=new u;for(var o=0;o<n.length;o++){var l=n[o];a.setTo(l.x,l.t,l.r-l.x,l.b);if(a.contains(r.x,r.y)){return l}}return null},updateDisplayOrigin:function(){this._dirty=true;this.getTextBounds(false);return this},setFont:function(t,e,i){if(e===void 0){e=this._fontSize}if(i===void 0){i=this._align}var r=this.scene.sys.cache.bitmapFont.get(t);if(r){this.font=t;this.fontData=r.data;this._fontSize=e;this._align=i;this.fromAtlas=r.fromAtlas===true;this.setTexture(r.texture,r.frame);o(this,false,true,this._bounds)}return this},setMaxWidth:function(t,e){this._maxWidth=t;this._dirty=true;if(e!==void 0){this.wordWrapCharCode=e}return this},align:{set:function(t){this._align=t;this._dirty=true},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t;this._dirty=true},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t;this._dirty=true},get:function(){return this._letterSpacing}},lineSpacing:{set:function(t){this._lineSpacing=t;this._dirty=true},get:function(){return this._lineSpacing}},maxWidth:{set:function(t){this._maxWidth=t;this._dirty=true},get:function(){return this._maxWidth}},width:{get:function(){this.getTextBounds(false);return this._bounds.global.width}},height:{get:function(){this.getTextBounds(false);return this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var t=n.ToJSON(this);var e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};t.data=e;return t},preDestroy:function(){this.charColors.length=0;this._bounds=null;this.fontData=null}});f.ALIGN_LEFT=0;f.ALIGN_CENTER=1;f.ALIGN_RIGHT=2;f.ParseFromAtlas=l;f.ParseXMLBitmapFont=h;t.exports=f},37289:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20926);var BitmapTextCanvasRenderer=function(t,e,i,s){var n=e._text;var a=n.length;var o=t.currentContext;if(a===0||!r(t,o,e,i,s)){return}i.addToRenderList(e);var l=e.fromAtlas?e.frame:e.texture.frames["__BASE"];var h=e.fontData.chars;var u=e.fontData.lineHeight;var c=e._letterSpacing;var f=e._lineSpacing;var d=0;var v=0;var p=0;var g=null;var m=0;var y=0;var x=0;var b=0;var T=0;var w=0;var E=null;var S=0;var A=l.source.image;var C=l.cutX;var O=l.cutY;var P=e._fontSize/e.fontData.size;var I=e._align;var R=0;var M=0;var L=e.getTextBounds(false);if(e.maxWidth>0){n=L.wrappedText;a=n.length}var D=e._bounds.lines;if(I===1){M=(D.longest-D.lengths[0])/2}else if(I===2){M=D.longest-D.lengths[0]}o.translate(-e.displayOriginX,-e.displayOriginY);var k=i.roundPixels;for(var F=0;F<a;F++){p=n.charCodeAt(F);if(p===10){R++;if(I===1){M=(D.longest-D.lengths[R])/2}else if(I===2){M=D.longest-D.lengths[R]}d=0;v+=u+f;E=null;continue}g=h[p];if(!g){continue}m=C+g.x;y=O+g.y;x=g.width;b=g.height;T=g.xOffset+d;w=g.yOffset+v;if(E!==null){var B=g.kerning[S];T+=B!==void 0?B:0}T*=P;w*=P;T+=M;d+=g.xAdvance+c+(B!==void 0?B:0);E=g;S=p;if(x===0||b===0||p===32){continue}if(k){T=Math.round(T);w=Math.round(w)}o.save();o.translate(T,w);o.scale(P,P);o.drawImage(A,m,y,x,b,0,0,x,b);o.restore()}o.restore()};t.exports=BitmapTextCanvasRenderer},57336:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22186);var s=i(25305);var n=i(44603);var a=i(23568);var o=i(35154);n.register("bitmapText",(function(t,e){if(t===void 0){t={}}var i=o(t,"font","");var n=a(t,"text","");var l=a(t,"size",false);var h=o(t,"align",0);var u=new r(this.scene,0,0,i,n,l,h);if(e!==void 0){t.add=e}s(this.scene,u,t);return u}))},34914:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22186);var s=i(39429);s.register("bitmapText",(function(t,e,i,s,n,a){return this.displayList.add(new r(this.scene,t,e,i,s,n,a))}))},18658:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(33590)}{n=i(37289)}t.exports={renderWebGL:s,renderCanvas:n}},33590:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(3217);var s=i(91296);var n=i(70554);var BitmapTextWebGLRenderer=function(t,e,i,a){var o=e._text;var l=o.length;if(l===0){return}i.addToRenderList(e);var h=t.pipelines.set(e.pipeline,e);var u=s(e,i,a).calc;t.pipelines.preBatch(e);var c=i.roundPixels;var f=i.alpha;var d=e.charColors;var v=e.tintFill;var p=n.getTintAppendFloatAlpha;var g=p(e.tintTopLeft,f*e._alphaTL);var m=p(e.tintTopRight,f*e._alphaTR);var y=p(e.tintBottomLeft,f*e._alphaBL);var x=p(e.tintBottomRight,f*e._alphaBR);var b=e.frame.glTexture;var T=h.setGameObject(e);var w=e.getTextBounds(false);var E;var S;var A;var C=w.characters;var O=e.dropShadowX;var P=e.dropShadowY;var I=O!==0||P!==0;if(I){var R=e.dropShadowColor;var M=e.dropShadowAlpha;var L=p(R,f*M*e._alphaTL);var D=p(R,f*M*e._alphaTR);var k=p(R,f*M*e._alphaBL);var F=p(R,f*M*e._alphaBR);for(E=0;E<C.length;E++){S=C[E];A=S.glyph;if(S.code===32||A.width===0||A.height===0){continue}r(h,e,S,A,O,P,u,c,L,D,k,F,1,b,T)}}for(E=0;E<C.length;E++){S=C[E];A=S.glyph;if(S.code===32||A.width===0||A.height===0){continue}if(h.shouldFlush(6)){h.flush();T=h.setGameObject(e)}if(d[S.i]){var B=d[S.i];var N=B.tintEffect;var U=p(B.tintTL,f*e._alphaTL);var z=p(B.tintTR,f*e._alphaTR);var V=p(B.tintBL,f*e._alphaBL);var G=p(B.tintBR,f*e._alphaBR);r(h,e,S,A,0,0,u,c,U,z,V,G,N,b,T)}else{r(h,e,S,A,0,0,u,c,g,m,y,x,v,b,T)}}t.pipelines.postBatch(e)};t.exports=BitmapTextWebGLRenderer},6107:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(48011);var s=i(46590);var n=i(83419);var a=i(31401);var o=i(4327);var l=i(95643);var h=i(73162);var u=new n({Extends:l,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,r],initialize:function Blitter2(t,e,i,r,s){l.call(this,t,"Blitter");this.setTexture(r,s);this.setPosition(e,i);this.initPipeline();this.initPostPipeline();this.children=new h;this.renderList=[];this.dirty=false},create:function(t,e,i,r,n){if(r===void 0){r=true}if(n===void 0){n=this.children.length}if(i===void 0){i=this.frame}else if(!(i instanceof o)){i=this.texture.get(i)}var a=new s(this,t,e,i,r);this.children.addAt(a,n,false);this.dirty=true;return a},createFromCallback:function(t,e,i,r){var s=this.createMultiple(e,i,r);for(var n=0;n<s.length;n++){var a=s[n];t.call(this,a,n)}return s},createMultiple:function(t,e,i){if(e===void 0){e=this.frame.name}if(i===void 0){i=true}if(!Array.isArray(e)){e=[e]}var r=[];var s=this;e.forEach((function(e){for(var n=0;n<t;n++){r.push(s.create(0,0,e,i))}}));return r},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){if(this.dirty){this.renderList=this.children.list.filter(this.childCanRender,this);this.dirty=false}return this.renderList},clear:function(){this.children.removeAll();this.dirty=true},preDestroy:function(){this.children.destroy();this.renderList=[]}});t.exports=u},72396:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BlitterCanvasRenderer=function(t,e,i,r){var s=e.getRenderList();if(s.length===0){return}var n=t.currentContext;var a=i.alpha*e.alpha;if(a===0){return}i.addToRenderList(e);n.globalCompositeOperation=t.blendModes[e.blendMode];n.imageSmoothingEnabled=!e.frame.source.scaleMode;var o=e.x-i.scrollX*e.scrollFactorX;var l=e.y-i.scrollY*e.scrollFactorY;n.save();if(r){r.copyToContext(n)}var h=i.roundPixels;for(var u=0;u<s.length;u++){var c=s[u];var f=c.flipX||c.flipY;var d=c.frame;var v=d.canvasData;var p=d.x;var g=d.y;var m=1;var y=1;var x=c.alpha*a;if(x===0){continue}n.globalAlpha=x;if(!f){if(h){p=Math.round(p);g=Math.round(g)}if(v.width>0&&v.height>0){n.drawImage(d.source.image,v.x,v.y,v.width,v.height,p+c.x+o,g+c.y+l,v.width,v.height)}}else{if(c.flipX){m=-1;p-=v.width}if(c.flipY){y=-1;g-=v.height}if(v.width>0&&v.height>0){n.save();n.translate(c.x+o,c.y+l);n.scale(m,y);n.drawImage(d.source.image,v.x,v.y,v.width,v.height,p,g,v.width,v.height);n.restore()}}}n.restore()};t.exports=BlitterCanvasRenderer},9403:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6107);var s=i(25305);var n=i(44603);var a=i(23568);n.register("blitter",(function(t,e){if(t===void 0){t={}}var i=a(t,"key",null);var n=a(t,"frame",null);var o=new r(this.scene,0,0,i,n);if(e!==void 0){t.add=e}s(this.scene,o,t);return o}))},12709:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6107);var s=i(39429);s.register("blitter",(function(t,e,i,s){return this.displayList.add(new r(this.scene,t,e,i,s))}))},48011:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(99485)}{n=i(72396)}t.exports={renderWebGL:s,renderCanvas:n}},99485:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61340);var s=i(70554);var n=new r;var BlitterWebGLRenderer=function(t,e,i,r){var a=e.getRenderList();var o=i.alpha*e.alpha;if(a.length===0||o===0){return}i.addToRenderList(e);var l=t.pipelines.set(this.pipeline,e);var h=i.scrollX*e.scrollFactorX;var u=i.scrollY*e.scrollFactorY;var c=n.copyFrom(i.matrix);if(r){c.multiplyWithOffset(r,-h,-u);h=0;u=0}var f=e.x-h;var d=e.y-u;var v=-1;var p=false;var g=i.roundPixels;t.pipelines.preBatch(e);for(var m=0;m<a.length;m++){var y=a[m];var x=y.frame;var b=y.alpha*o;if(b===0){continue}var T=x.width;var w=x.height;var E=f+y.x+x.x;var S=d+y.y+x.y;if(y.flipX){T*=-1;E+=x.width}if(y.flipY){w*=-1;S+=x.height}var A=c.setQuad(E,S,E+T,S+w,g);var C=s.getTintAppendFloatAlpha(y.tint,b);if(x.sourceIndex!==v){var O=l.setGameObject(e,x);v=x.sourceIndex}if(l.batchQuad(e,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],x.u0,x.v0,x.u1,x.v1,C,C,C,C,p,x.glTexture,O)){v=-1}}t.pipelines.postBatch(e)};t.exports=BlitterWebGLRenderer},46590:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(4327);var n=new r({initialize:function Bob2(t,e,i,r,s){this.parent=t;this.x=e;this.y=i;this.frame=r;this.data={};this.tint=16777215;this._visible=s;this._alpha=1;this.flipX=false;this.flipY=false;this.hasTransformComponent=true},setFrame:function(t){if(t===void 0){this.frame=this.parent.frame}else if(t instanceof s&&t.texture===this.parent.texture){this.frame=t}else{this.frame=this.parent.texture.get(t)}return this},resetFlip:function(){this.flipX=false;this.flipY=false;return this},reset:function(t,e,i){this.x=t;this.y=e;this.flipX=false;this.flipY=false;this._alpha=1;this._visible=true;this.parent.dirty=true;if(i){this.setFrame(i)}return this},setPosition:function(t,e){this.x=t;this.y=e;return this},setFlipX:function(t){this.flipX=t;return this},setFlipY:function(t){this.flipY=t;return this},setFlip:function(t,e){this.flipX=t;this.flipY=e;return this},setVisible:function(t){this.visible=t;return this},setAlpha:function(t){this.alpha=t;return this},setTint:function(t){this.tint=t;return this},destroy:function(){this.parent.dirty=true;this.parent.children.remove(this);this.parent=void 0;this.frame=void 0;this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this.parent.dirty|=this._visible!==t;this._visible=t}},alpha:{get:function(){return this._alpha},set:function(t){this.parent.dirty|=this._alpha>0!==t>0;this._alpha=t}}});t.exports=n},16005:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=2;var n={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,s){if(t===void 0){t=1}if(e===void 0){this.alpha=t}else{this._alphaTL=r(t,0,1);this._alphaTR=r(e,0,1);this._alphaBL=r(i,0,1);this._alphaBR=r(s,0,1)}return this},alpha:{get:function(){return this._alpha},set:function(t){var e=r(t,0,1);this._alpha=e;this._alphaTL=e;this._alphaTR=e;this._alphaBL=e;this._alphaBR=e;if(e===0){this.renderFlags&=-3}else{this.renderFlags|=s}}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=r(t,0,1);this._alphaTL=e;if(e!==0){this.renderFlags|=s}}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=r(t,0,1);this._alphaTR=e;if(e!==0){this.renderFlags|=s}}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=r(t,0,1);this._alphaBL=e;if(e!==0){this.renderFlags|=s}}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=r(t,0,1);this._alphaBR=e;if(e!==0){this.renderFlags|=s}}}};t.exports=n},88509:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=2;var n={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t){if(t===void 0){t=1}this.alpha=t;return this},alpha:{get:function(){return this._alpha},set:function(t){var e=r(t,0,1);this._alpha=e;if(e===0){this.renderFlags&=-3}else{this.renderFlags|=s}}}};t.exports=n},90065:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s={_blendMode:r.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){if(typeof t==="string"){t=r[t]}t|=0;if(t>=-1){this._blendMode=t}}},setBlendMode:function(t){this.blendMode=t;return this}};t.exports=s},94215:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){this.width=t;this.height=e;return this},setDisplaySize:function(t,e){this.displayWidth=t;this.displayHeight=e;return this}};t.exports=e},61683:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={texture:null,frame:null,isCropped:false,setCrop:function(t,e,i,r){if(t===void 0){this.isCropped=false}else if(this.frame){if(typeof t==="number"){this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY)}else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=true}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:false,flipY:false,cx:0,cy:0,cw:0,ch:0}}};t.exports=e},89272:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37105);var s={_depth:0,depth:{get:function(){return this._depth},set:function(t){if(this.displayList){this.displayList.queueDepthSort()}this._depth=t}},setDepth:function(t){if(t===void 0){t=0}this.depth=t;return this},setToTop:function(){var t=this.getDisplayList();if(t){r.BringToTop(t,this)}return this},setToBack:function(){var t=this.getDisplayList();if(t){r.SendToBack(t,this)}return this},setAbove:function(t){var e=this.getDisplayList();if(e&&t){r.MoveAbove(e,this,t)}return this},setBelow:function(t){var e=this.getDisplayList();if(e&&t){r.MoveBelow(e,this,t)}return this}};t.exports=s},47059:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(66064);var n=i(19133);var a=new r({initialize:function FX2(t,e){this.gameObject=t;this.isPost=e;this.enabled=false;this.list=[];this.padding=0},setPadding:function(t){if(t===void 0){t=0}this.padding=t;return this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(t){if(this.isPost){return}var e=this.gameObject.scene.sys.renderer;if(e&&e.pipelines){this.gameObject.pipeline=e.pipelines.FX_PIPELINE;if(t!==void 0){this.padding=t}this.enabled=true}else{this.enabled=false}},clear:function(){if(this.isPost){this.gameObject.resetPostPipeline(true)}else{var t=this.list;for(var e=0;e<t.length;e++){t[e].destroy()}this.list=[]}this.enabled=false;return this.gameObject},remove:function(t){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(t.type));if(!Array.isArray(i)){i=[i]}for(e=0;e<i.length;e++){var r=i[e];if(r.controller===t){this.gameObject.removePostPipeline(r);t.destroy();break}}}else{var s=this.list;for(e=0;e<s.length;e++){if(s[e]===t){n(s,e);t.destroy()}}}return this.gameObject},disable:function(t){if(t===void 0){t=false}if(!this.isPost){this.gameObject.resetPipeline()}this.enabled=false;if(t){this.clear()}return this.gameObject},add:function(t,e){if(this.isPost){var i=String(t.type);this.gameObject.setPostPipeline(i,e);var r=this.gameObject.getPostPipeline(i);if(r){if(Array.isArray(r)){r=r.pop()}if(r){r.controller=t}return t}}else{if(!this.enabled){this.enable()}this.list.push(t);return t}},addGlow:function(t,e,i,r,n,a){return this.add(new s.Glow(this.gameObject,t,e,i,r),{quality:n,distance:a})},addShadow:function(t,e,i,r,n,a,o){return this.add(new s.Shadow(this.gameObject,t,e,i,r,n,a,o))},addPixelate:function(t){return this.add(new s.Pixelate(this.gameObject,t))},addVignette:function(t,e,i,r){return this.add(new s.Vignette(this.gameObject,t,e,i,r))},addShine:function(t,e,i,r){return this.add(new s.Shine(this.gameObject,t,e,i,r))},addBlur:function(t,e,i,r,n,a){return this.add(new s.Blur(this.gameObject,t,e,i,r,n,a))},addGradient:function(t,e,i,r,n,a,o,l){return this.add(new s.Gradient(this.gameObject,t,e,i,r,n,a,o,l))},addBloom:function(t,e,i,r,n,a){return this.add(new s.Bloom(this.gameObject,t,e,i,r,n,a))},addColorMatrix:function(){return this.add(new s.ColorMatrix(this.gameObject))},addCircle:function(t,e,i,r,n){return this.add(new s.Circle(this.gameObject,t,e,i,r,n))},addBarrel:function(t){return this.add(new s.Barrel(this.gameObject,t))},addDisplacement:function(t,e,i){return this.add(new s.Displacement(this.gameObject,t,e,i))},addWipe:function(t,e,i){return this.add(new s.Wipe(this.gameObject,t,e,i))},addReveal:function(t,e,i){return this.add(new s.Wipe(this.gameObject,t,e,i,true))},addBokeh:function(t,e,i){return this.add(new s.Bokeh(this.gameObject,t,e,i))},addTiltShift:function(t,e,i,r,n,a){return this.add(new s.Bokeh(this.gameObject,t,e,i,true,r,n,a))},destroy:function(){this.clear();this.gameObject=null}});t.exports=a},54434:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={flipX:false,flipY:false,toggleFlipX:function(){this.flipX=!this.flipX;return this},toggleFlipY:function(){this.flipY=!this.flipY;return this},setFlipX:function(t){this.flipX=t;return this},setFlipY:function(t){this.flipY=t;return this},setFlip:function(t,e){this.flipX=t;this.flipY=e;return this},resetFlip:function(){this.flipX=false;this.flipY=false;return this}};t.exports=e},8004:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var s=i(11520);var n=i(26099);var a={prepareBoundsOutput:function(t,e){if(e===void 0){e=false}if(this.rotation!==0){s(t,this.x,this.y,this.rotation)}if(e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(t.x,t.y,t)}return t},getCenter:function(t,e){if(t===void 0){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(t,e)},getTopLeft:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX;t.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(t,e)},getTopCenter:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;t.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(t,e)},getTopRight:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth;t.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(t,e)},getLeftCenter:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX;t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(t,e)},getRightCenter:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth;t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(t,e)},getBottomLeft:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX;t.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(t,e)},getBottomCenter:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;t.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(t,e)},getBottomRight:function(t,e){if(!t){t=new n}t.x=this.x-this.displayWidth*this.originX+this.displayWidth;t.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(t,e)},getBounds:function(t){if(t===void 0){t=new r}var e,i,s,n,a,o,l,h;if(this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t);u.transformPoint(t.x,t.y,t);e=t.x;i=t.y;this.getTopRight(t);u.transformPoint(t.x,t.y,t);s=t.x;n=t.y;this.getBottomLeft(t);u.transformPoint(t.x,t.y,t);a=t.x;o=t.y;this.getBottomRight(t);u.transformPoint(t.x,t.y,t);l=t.x;h=t.y}else{this.getTopLeft(t);e=t.x;i=t.y;this.getTopRight(t);s=t.x;n=t.y;this.getBottomLeft(t);a=t.x;o=t.y;this.getBottomRight(t);l=t.x;h=t.y}t.x=Math.min(e,s,a,l);t.y=Math.min(i,n,o,h);t.width=Math.max(e,s,a,l)-t.x;t.height=Math.max(i,n,o,h)-t.y;return t}};t.exports=a},8573:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6858);var s=i(80661);var n={mask:null,setMask:function(t){this.mask=t;return this},clearMask:function(t){if(t===void 0){t=false}if(t&&this.mask){this.mask.destroy()}this.mask=null;return this},createBitmapMask:function(t,e,i,s,n){if(t===void 0&&(this.texture||this.shader||this.geom)){t=this}return new r(this.scene,t,e,i,s,n)},createGeometryMask:function(t){if(t===void 0&&(this.type==="Graphics"||this.geom)){t=this}return new s(this.scene,t)}};t.exports=n},27387:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={_originComponent:true,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t;this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t;this.originY=t/this.height}},setOrigin:function(t,e){if(t===void 0){t=.5}if(e===void 0){e=t}this.originX=t;this.originY=e;return this.updateDisplayOrigin()},setOriginFromFrame:function(){if(!this.frame||!this.frame.customPivot){return this.setOrigin()}else{this.originX=this.frame.pivotX;this.originY=this.frame.pivotY}return this.updateDisplayOrigin()},setDisplayOrigin:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.displayOriginX=t;this.displayOriginY=e;return this},updateDisplayOrigin:function(){this._displayOriginX=this.originX*this.width;this._displayOriginY=this.originY*this.height;return this}};t.exports=e},37640:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39506);var s=i(57355);var n=i(35154);var a=i(86353);var o=i(26099);var l={path:null,rotateToPath:false,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(t,e){if(e===void 0){e=this.pathConfig}var i=this.pathTween;if(i&&i.isPlaying()){i.stop()}this.path=t;if(e){this.startFollow(e)}return this},setRotateToPath:function(t,e){if(e===void 0){e=0}this.rotateToPath=t;this.pathRotationOffset=e;return this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){if(t===void 0){t={}}if(e===void 0){e=0}var i=this.pathTween;if(i&&i.isPlaying()){i.stop()}if(typeof t==="number"){t={duration:t}}t.from=n(t,"from",0);t.to=n(t,"to",1);var l=s(t,"positionOnPath",false);this.rotateToPath=s(t,"rotateToPath",false);this.pathRotationOffset=n(t,"rotationOffset",0);var h=n(t,"startAt",e);if(h){t.onStart=function(t){var e=t.data[0];e.progress=h;e.elapsed=e.duration*h;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i;e.setTargetValue()}}if(!this.pathOffset){this.pathOffset=new o(this.x,this.y)}if(!this.pathVector){this.pathVector=new o}if(!this.pathDelta){this.pathDelta=new o}this.pathDelta.reset();t.persist=true;this.pathTween=this.scene.sys.tweens.addCounter(t);this.path.getStartPoint(this.pathOffset);if(l){this.x=this.pathOffset.x;this.y=this.pathOffset.y}this.pathOffset.x=this.x-this.pathOffset.x;this.pathOffset.y=this.y-this.pathOffset.y;this._prevDirection=a.PLAYING_FORWARD;if(this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+r(this.pathRotationOffset)}this.pathConfig=t;return this},pauseFollow:function(){var t=this.pathTween;if(t&&t.isPlaying()){t.pause()}return this},resumeFollow:function(){var t=this.pathTween;if(t&&t.isPaused()){t.resume()}return this},stopFollow:function(){var t=this.pathTween;if(t&&t.isPlaying()){t.stop()}return this},pathUpdate:function(){var t=this.pathTween;if(t&&t.data){var e=t.data[0];var i=this.pathDelta;var s=this.pathVector;i.copy(s).negate();if(e.state===a.COMPLETE){this.path.getPoint(e.end,s);i.add(s);s.add(this.pathOffset);this.setPosition(s.x,s.y);return}else if(e.state!==a.PLAYING_FORWARD&&e.state!==a.PLAYING_BACKWARD){return}this.path.getPoint(t.getValue(),s);i.add(s);s.add(this.pathOffset);var n=this.x;var o=this.y;this.setPosition(s.x,s.y);var l=this.x-n;var h=this.y-o;if(l===0&&h===0){return}if(e.state!==this._prevDirection){this._prevDirection=e.state;return}if(this.rotateToPath){this.rotation=Math.atan2(h,l)+r(this.pathRotationOffset)}}}};t.exports=l},72699:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62644);var s={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(t){this.pipelineData={};var e=this.scene.sys.renderer;if(!e){return false}var i=e.pipelines;if(i){if(t===void 0){t=i.default}var r=i.get(t);if(r){this.defaultPipeline=r;this.pipeline=r;return true}}return false},setPipeline:function(t,e,i){var s=this.scene.sys.renderer;if(!s){return this}var n=s.pipelines;if(n){var a=n.get(t);if(a){this.pipeline=a}if(e){this.pipelineData=i?r(e):e}}return this},setPipelineData:function(t,e){var i=this.pipelineData;if(e===void 0){delete i[t]}else{i[t]=e}return this},resetPipeline:function(t){if(t===void 0){t=false}this.pipeline=this.defaultPipeline;if(t){this.pipelineData={}}return this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};t.exports=s},17581:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62644);var s=i(47059);var n=i(19133);var a={hasPostPipeline:false,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(t){this.postPipelines=[];this.postPipelineData={};this.postFX=new s(this,true);if(t){this.preFX=new s(this,false)}},setPostPipeline:function(t,e,i){var s=this.scene.sys.renderer;if(!s){return this}var n=s.pipelines;if(n){if(!Array.isArray(t)){t=[t]}for(var a=0;a<t.length;a++){var o=n.getPostPipeline(t[a],this,e);if(o){this.postPipelines.push(o)}}if(e){this.postPipelineData=i?r(e):e}}this.hasPostPipeline=this.postPipelines.length>0;return this},setPostPipelineData:function(t,e){var i=this.postPipelineData;if(e===void 0){delete i[t]}else{i[t]=e}return this},getPostPipeline:function(t){var e=typeof t==="string";var i=this.postPipelines;var r=[];for(var s=0;s<i.length;s++){var n=i[s];if(e&&n.name===t||!e&&n instanceof t){r.push(n)}}return r.length===1?r[0]:r},resetPostPipeline:function(t){if(t===void 0){t=false}var e=this.postPipelines;for(var i=0;i<e.length;i++){e[i].destroy()}this.postPipelines=[];this.hasPostPipeline=false;if(t){this.postPipelineData={}}},removePostPipeline:function(t){var e=typeof t==="string";var i=this.postPipelines;for(var r=i.length-1;r>=0;r--){var s=i[r];if(e&&s.name===t||!e&&s===t){s.destroy();n(i,r)}}this.hasPostPipeline=this.postPipelines.length>0;return this},clearFX:function(){if(this.preFX){this.preFX.clear()}if(this.postFX){this.postFX.clear()}return this}};t.exports=a},80227:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){if(e===void 0){e=t}this.scrollFactorX=t;this.scrollFactorY=e;return this}};t.exports=e},16736:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={_sizeComponent:true,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){if(!t){t=this.frame}this.width=t.realWidth;this.height=t.realHeight;var e=this.input;if(e&&!e.customHitArea){e.hitArea.width=this.width;e.hitArea.height=this.height}return this},setSize:function(t,e){this.width=t;this.height=e;return this},setDisplaySize:function(t,e){this.displayWidth=t;this.displayHeight=e;return this}};t.exports=e},37726:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(4327);var s=8;var n={texture:null,frame:null,isCropped:false,setTexture:function(t,e,i,r){this.texture=this.scene.sys.textures.get(t);return this.setFrame(e,i,r)},setFrame:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}if(t instanceof r){this.texture=this.scene.sys.textures.get(t.texture.key);this.frame=t}else{this.frame=this.texture.get(t)}if(!this.frame.cutWidth||!this.frame.cutHeight){this.renderFlags&=-9}else{this.renderFlags|=s}if(this._sizeComponent&&e){this.setSizeToFrame()}if(this._originComponent&&i){if(this.frame.customPivot){this.setOrigin(this.frame.pivotX,this.frame.pivotY)}else{this.updateDisplayOrigin()}}return this}};t.exports=n},79812:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(4327);var s=8;var n={texture:null,frame:null,isCropped:false,setCrop:function(t,e,i,r){if(t===void 0){this.isCropped=false}else if(this.frame){if(typeof t==="number"){this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY)}else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=true}return this},setTexture:function(t,e){this.texture=this.scene.sys.textures.get(t);return this.setFrame(e)},setFrame:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}if(t instanceof r){this.texture=this.scene.sys.textures.get(t.texture.key);this.frame=t}else{this.frame=this.texture.get(t)}if(!this.frame.cutWidth||!this.frame.cutHeight){this.renderFlags&=-9}else{this.renderFlags|=s}if(this._sizeComponent&&e){this.setSizeToFrame()}if(this._originComponent&&i){if(this.frame.customPivot){this.setOrigin(this.frame.pivotX,this.frame.pivotY)}else{this.updateDisplayOrigin()}}if(this.isCropped){this.frame.updateCropUVs(this._crop,this.flipX,this.flipY)}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:false,flipY:false,cx:0,cy:0,cw:0,ch:0}}};t.exports=n},27472:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:false,clearTint:function(){this.setTint(16777215);return this},setTint:function(t,e,i,r){if(t===void 0){t=16777215}if(e===void 0){e=t;i=t;r=t}this.tintTopLeft=t;this.tintTopRight=e;this.tintBottomLeft=i;this.tintBottomRight=r;this.tintFill=false;return this},setTintFill:function(t,e,i,r){this.setTint(t,e,i,r);this.tintFill=true;return this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};t.exports=e},53774:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ToJSON=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};if(t.texture){e.textureKey=t.texture.key;e.frameKey=t.frame.name}return e};t.exports=ToJSON},16901:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(61340);var n=i(85955);var a=i(86554);var o=i(30954);var l=i(26099);var h=4;var u={hasTransformComponent:true,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t;this._scaleY=t;if(t===0){this.renderFlags&=-5}else{this.renderFlags|=h}}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t;if(t===0){this.renderFlags&=-5}else if(this._scaleY!==0){this.renderFlags|=h}}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t;if(t===0){this.renderFlags&=-5}else if(this._scaleX!==0){this.renderFlags|=h}}},angle:{get:function(){return o(this._rotation*r.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*r.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=a(t)}},setPosition:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=t}if(i===void 0){i=0}if(r===void 0){r=0}this.x=t;this.y=e;this.z=i;this.w=r;return this},copyPosition:function(t){if(t.x!==void 0){this.x=t.x}if(t.y!==void 0){this.y=t.y}if(t.z!==void 0){this.z=t.z}if(t.w!==void 0){this.w=t.w}return this},setRandomPosition:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.scene.sys.scale.width}if(r===void 0){r=this.scene.sys.scale.height}this.x=t+Math.random()*i;this.y=e+Math.random()*r;return this},setRotation:function(t){if(t===void 0){t=0}this.rotation=t;return this},setAngle:function(t){if(t===void 0){t=0}this.angle=t;return this},setScale:function(t,e){if(t===void 0){t=1}if(e===void 0){e=t}this.scaleX=t;this.scaleY=e;return this},setX:function(t){if(t===void 0){t=0}this.x=t;return this},setY:function(t){if(t===void 0){t=0}this.y=t;return this},setZ:function(t){if(t===void 0){t=0}this.z=t;return this},setW:function(t){if(t===void 0){t=0}this.w=t;return this},getLocalTransformMatrix:function(t){if(t===void 0){t=new s}return t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){if(t===void 0){t=new s}var i=this.parentContainer;if(!i){return this.getLocalTransformMatrix(t)}var r=false;if(!e){e=new s;r=true}t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);while(i){e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY);e.multiply(t,t);i=i.parentContainer}if(r){e.destroy()}return t},getLocalPoint:function(t,e,i,r){if(!i){i=new l}if(!r){r=this.scene.sys.cameras.main}var s=r.scrollX;var a=r.scrollY;var o=t+s*this.scrollFactorX-s;var h=e+a*this.scrollFactorY-a;if(this.parentContainer){this.getWorldTransformMatrix().applyInverse(o,h,i)}else{n(o,h,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i)}if(this._originComponent){i.x+=this._displayOriginX;i.y+=this._displayOriginY}return i},getWorldPoint:function(t,e,i){if(t===void 0){t=new l}var r=this.parentContainer;if(!r){t.x=this.x;t.y=this.y;return t}var s=this.getWorldTransformMatrix(e,i);t.x=s.tx;t.y=s.ty;return t},getParentRotation:function(){var t=0;var e=this.parentContainer;while(e){t+=e.rotation;e=e.parentContainer}return t}};t.exports=u},61340:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(36383);var n=i(26099);var a=new r({initialize:function TransformMatrix2(t,e,i,r,s,n){if(t===void 0){t=1}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=1}if(s===void 0){s=0}if(n===void 0){n=0}this.matrix=new Float32Array([t,e,i,r,s,n,0,0,1]);this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0};this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix;var e=t[0];var i=t[1];var r=t[2];var n=t[3];if(e||i){return i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX)}else if(r||n){return s.TAU-(n>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY))}else{return 0}}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return this},translate:function(t,e){var i=this.matrix;i[4]=i[0]*t+i[2]*e+i[4];i[5]=i[1]*t+i[3]*e+i[5];return this},scale:function(t,e){var i=this.matrix;i[0]*=t;i[1]*=t;i[2]*=e;i[3]*=e;return this},rotate:function(t){var e=Math.sin(t);var i=Math.cos(t);var r=this.matrix;var s=r[0];var n=r[1];var a=r[2];var o=r[3];r[0]=s*i+a*e;r[1]=n*i+o*e;r[2]=s*-e+a*i;r[3]=n*-e+o*i;return this},multiply:function(t,e){var i=this.matrix;var r=t.matrix;var s=i[0];var n=i[1];var a=i[2];var o=i[3];var l=i[4];var h=i[5];var u=r[0];var c=r[1];var f=r[2];var d=r[3];var v=r[4];var p=r[5];var g=e===void 0?i:e.matrix;g[0]=u*s+c*a;g[1]=u*n+c*o;g[2]=f*s+d*a;g[3]=f*n+d*o;g[4]=v*s+p*a+l;g[5]=v*n+p*o+h;return g},multiplyWithOffset:function(t,e,i){var r=this.matrix;var s=t.matrix;var n=r[0];var a=r[1];var o=r[2];var l=r[3];var h=r[4];var u=r[5];var c=e*n+i*o+h;var f=e*a+i*l+u;var d=s[0];var v=s[1];var p=s[2];var g=s[3];var m=s[4];var y=s[5];r[0]=d*n+v*o;r[1]=d*a+v*l;r[2]=p*n+g*o;r[3]=p*a+g*l;r[4]=m*n+y*o+c;r[5]=m*a+y*l+f;return this},transform:function(t,e,i,r,s,n){var a=this.matrix;var o=a[0];var l=a[1];var h=a[2];var u=a[3];var c=a[4];var f=a[5];a[0]=t*o+e*h;a[1]=t*l+e*u;a[2]=i*o+r*h;a[3]=i*l+r*u;a[4]=s*o+n*h+c;a[5]=s*l+n*u+f;return this},transformPoint:function(t,e,i){if(i===void 0){i={x:0,y:0}}var r=this.matrix;var s=r[0];var n=r[1];var a=r[2];var o=r[3];var l=r[4];var h=r[5];i.x=t*s+e*a+l;i.y=t*n+e*o+h;return i},invert:function(){var t=this.matrix;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=e*s-i*r;t[0]=s/o;t[1]=-i/o;t[2]=-r/o;t[3]=e/o;t[4]=(r*a-s*n)/o;t[5]=-(e*a-i*n)/o;return this},copyFrom:function(t){var e=this.matrix;e[0]=t.a;e[1]=t.b;e[2]=t.c;e[3]=t.d;e[4]=t.e;e[5]=t.f;return this},copyFromArray:function(t){var e=this.matrix;e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return this},copyToContext:function(t){var e=this.matrix;t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);return t},setToContext:function(t){t.setTransform(this.a,this.b,this.c,this.d,this.e,this.f);return t},copyToArray:function(t){var e=this.matrix;if(t===void 0){t=[e[0],e[1],e[2],e[3],e[4],e[5]]}else{t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5]}return t},setTransform:function(t,e,i,r,s,n){var a=this.matrix;a[0]=t;a[1]=e;a[2]=i;a[3]=r;a[4]=s;a[5]=n;return this},decomposeMatrix:function(){var t=this.decomposedMatrix;var e=this.matrix;var i=e[0];var r=e[1];var s=e[2];var n=e[3];var a=i*n-r*s;t.translateX=e[4];t.translateY=e[5];if(i||r){var o=Math.sqrt(i*i+r*r);t.rotation=r>0?Math.acos(i/o):-Math.acos(i/o);t.scaleX=o;t.scaleY=a/o}else if(s||n){var l=Math.sqrt(s*s+n*n);t.rotation=Math.PI*.5-(n>0?Math.acos(-s/l):-Math.acos(s/l));t.scaleX=a/l;t.scaleY=l}else{t.rotation=0;t.scaleX=0;t.scaleY=0}return t},applyITRS:function(t,e,i,r,s){var n=this.matrix;var a=Math.sin(i);var o=Math.cos(i);n[4]=t;n[5]=e;n[0]=o*r;n[1]=a*r;n[2]=-a*s;n[3]=o*s;return this},applyInverse:function(t,e,i){if(i===void 0){i=new n}var r=this.matrix;var s=r[0];var a=r[1];var o=r[2];var l=r[3];var h=r[4];var u=r[5];var c=1/(s*l+o*-a);i.x=l*c*t+-o*c*e+(u*o-h*l)*c;i.y=s*c*e+-a*c*t+(-u*s+h*a)*c;return i},setQuad:function(t,e,i,r,s,n){if(s===void 0){s=false}if(n===void 0){n=this.quad}var a=this.matrix;var o=a[0];var l=a[1];var h=a[2];var u=a[3];var c=a[4];var f=a[5];var d=t*o+e*h+c;var v=t*l+e*u+f;var p=t*o+r*h+c;var g=t*l+r*u+f;var m=i*o+r*h+c;var y=i*l+r*u+f;var x=i*o+e*h+c;var b=i*l+e*u+f;if(s){var T=Math.floor(d+.5);var w=Math.floor(v+.5);var E=T-d;var S=w-v;n[0]=T;n[1]=w;n[2]=p+E;n[3]=g+S;n[4]=m+E;n[5]=y+S;n[6]=x+E;n[7]=b+S}else{n[0]=d;n[1]=v;n[2]=p;n[3]=g;n[4]=m;n[5]=y;n[6]=x;n[7]=b}return n},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getXRound:function(t,e,i){var r=this.getX(t,e);if(i){r=Math.floor(r+.5)}return r},getYRound:function(t,e,i){var r=this.getY(t,e);if(i){r=Math.floor(r+.5)}return r},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null;this.quad=null;this.decomposedMatrix=null}});t.exports=a},59715:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e=1;var i={_visible:true,visible:{get:function(){return this._visible},set:function(t){if(t){this._visible=true;this.renderFlags|=e}else{this._visible=false;this.renderFlags&=-2}}},setVisible:function(t){this.visible=t;return this}};t.exports=i},31401:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37105);var s=i(10312);var n=i(83419);var a=i(31401);var o=i(51708);var l=i(95643);var h=i(87841);var u=i(29959);var c=i(36899);var f=i(26099);var d=new a.TransformMatrix;var v=new n({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,u],initialize:function Container2(t,e,i,r){l.call(this,t,"Container");this.list=[];this.exclusive=true;this.maxSize=-1;this.position=0;this.localTransform=new a.TransformMatrix;this._sortKey="";this._sysEvents=t.sys.events;this.scrollFactorX=1;this.scrollFactorY=1;this.initPostPipeline();this.setPosition(e,i);this.setBlendMode(s.SKIP_CHECK);if(r){this.add(r)}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(t){if(t===void 0){t=true}this.exclusive=t;return this},getBounds:function(t){if(t===void 0){t=new h}t.setTo(this.x,this.y,0,0);if(this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix();var i=e.transformPoint(this.x,this.y);t.setTo(i.x,i.y,0,0)}if(this.list.length>0){var r=this.list;var s=new h;var n=false;t.setEmpty();for(var a=0;a<r.length;a++){var o=r[a];if(o.getBounds){o.getBounds(s);if(!n){t.setTo(s.x,s.y,s.width,s.height);n=true}else{c(s,t,t)}}}}return t},addHandler:function(t){t.once(o.DESTROY,this.onChildDestroyed,this);if(this.exclusive){if(t.parentContainer){t.parentContainer.remove(t)}t.parentContainer=this;t.removeFromDisplayList();t.addedToScene()}},removeHandler:function(t){t.off(o.DESTROY,this.remove,this);if(this.exclusive){t.parentContainer=null;t.removedFromScene();t.addToDisplayList()}},pointToContainer:function(t,e){if(e===void 0){e=new f}if(this.parentContainer){this.parentContainer.pointToContainer(t,e)}else{e.x=t.x;e.y=t.y}var i=d;i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY);i.invert();i.transformPoint(t.x,t.y,e);return e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(d,this.localTransform)},add:function(t){r.Add(this.list,t,this.maxSize,this.addHandler,this);return this},addAt:function(t,e){r.AddAt(this.list,t,e,this.maxSize,this.addHandler,this);return this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){if(!t){return this}if(e===void 0){e=function(e,i){return e[t]-i[t]}}r.StableSort(this.list,e);return this},getByName:function(t){return r.GetFirst(this.list,"name",t)},getRandom:function(t,e){return r.GetRandom(this.list,t,e)},getFirst:function(t,e,i,s){return r.GetFirst(this.list,t,e,i,s)},getAll:function(t,e,i,s){return r.GetAll(this.list,t,e,i,s)},count:function(t,e,i,s){return r.CountAllMatching(this.list,t,e,i,s)},swap:function(t,e){r.Swap(this.list,t,e);return this},moveTo:function(t,e){r.MoveTo(this.list,t,e);return this},moveAbove:function(t,e){r.MoveAbove(this.list,t,e);return this},moveBelow:function(t,e){r.MoveBelow(this.list,t,e);return this},remove:function(t,e){var i=r.Remove(this.list,t,this.removeHandler,this);if(e&&i){if(!Array.isArray(i)){i=[i]}for(var s=0;s<i.length;s++){i[s].destroy()}}return this},removeAt:function(t,e){var i=r.RemoveAt(this.list,t,this.removeHandler,this);if(e&&i){i.destroy()}return this},removeBetween:function(t,e,i){var s=r.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i){for(var n=0;n<s.length;n++){s[n].destroy()}}return this},removeAll:function(t){var e=this.list;if(t){for(var i=0;i<e.length;i++){if(e[i]&&e[i].scene){e[i].off(o.DESTROY,this.onChildDestroyed,this);e[i].destroy()}}this.list=[]}else{r.RemoveBetween(e,0,e.length,this.removeHandler,this)}return this},bringToTop:function(t){r.BringToTop(this.list,t);return this},sendToBack:function(t){r.SendToBack(this.list,t);return this},moveUp:function(t){r.MoveUp(this.list,t);return this},moveDown:function(t){r.MoveDown(this.list,t);return this},reverse:function(){this.list.reverse();return this},shuffle:function(){r.Shuffle(this.list);return this},replace:function(t,e,i){var s=r.Replace(this.list,t,e);if(s){this.addHandler(e);this.removeHandler(t);if(i){t.destroy()}}return this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,s){r.SetAll(this.list,t,e,i,s);return this},each:function(t,e){var i=[null];var r;var s=this.list.slice();var n=s.length;for(r=2;r<arguments.length;r++){i.push(arguments[r])}for(r=0;r<n;r++){i[0]=s[r];t.apply(e,i)}return this},iterate:function(t,e){var i=[null];var r;for(r=2;r<arguments.length;r++){i.push(arguments[r])}for(r=0;r<this.list.length;r++){i[0]=this.list[r];t.apply(e,i)}return this},setScrollFactor:function(t,e,i){if(e===void 0){e=t}if(i===void 0){i=false}this.scrollFactorX=t;this.scrollFactorY=e;if(i){r.SetAll(this.list,"scrollFactorX",t);r.SetAll(this.list,"scrollFactorY",e)}return this},length:{get:function(){return this.list.length}},first:{get:function(){this.position=0;if(this.list.length>0){return this.list[0]}else{return null}}},last:{get:function(){if(this.list.length>0){this.position=this.list.length-1;return this.list[this.position]}else{return null}}},next:{get:function(){if(this.position<this.list.length){this.position++;return this.list[this.position]}else{return null}}},previous:{get:function(){if(this.position>0){this.position--;return this.list[this.position]}else{return null}}},preDestroy:function(){this.removeAll(!!this.exclusive);this.localTransform.destroy();this.list=[]},onChildDestroyed:function(t){r.Remove(this.list,t);if(this.exclusive){t.parentContainer=null;t.removedFromScene()}}});t.exports=v},53584:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ContainerCanvasRenderer=function(t,e,i,r){i.addToRenderList(e);var s=e.list;if(s.length===0){return}var n=e.localTransform;if(r){n.loadIdentity();n.multiply(r);n.translate(e.x,e.y);n.rotate(e.rotation);n.scale(e.scaleX,e.scaleY)}else{n.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY)}var a=e.blendMode!==-1;if(!a){t.setBlendMode(0)}var o=e._alpha;var l=e.scrollFactorX;var h=e.scrollFactorY;if(e.mask){e.mask.preRenderCanvas(t,null,i)}for(var u=0;u<s.length;u++){var c=s[u];if(!c.willRender(i)){continue}var f=c.alpha;var d=c.scrollFactorX;var v=c.scrollFactorY;if(!a&&c.blendMode!==t.currentBlendMode){t.setBlendMode(c.blendMode)}c.setScrollFactor(d*l,v*h);c.setAlpha(f*o);c.renderCanvas(t,c,i,n);c.setAlpha(f);c.setScrollFactor(d,v)}if(e.mask){e.mask.postRenderCanvas(t)}};t.exports=ContainerCanvasRenderer},77143:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(31559);var n=i(44603);var a=i(23568);var o=i(95540);n.register("container",(function(t,e){if(t===void 0){t={}}var i=a(t,"x",0);var n=a(t,"y",0);var l=o(t,"children",null);var h=new s(this.scene,i,n,l);if(e!==void 0){t.add=e}r(this.scene,h,t);return h}))},24961:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(31559);var s=i(39429);s.register("container",(function(t,e,i){return this.displayList.add(new r(this.scene,t,e,i))}))},29959:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(72249)}{n=i(53584)}t.exports={renderWebGL:s,renderCanvas:n}},72249:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ContainerWebGLRenderer=function(t,e,i,r){i.addToRenderList(e);var s=e.list;var n=s.length;if(n===0){return}var a=e.localTransform;if(r){a.loadIdentity();a.multiply(r);a.translate(e.x,e.y);a.rotate(e.rotation);a.scale(e.scaleX,e.scaleY)}else{a.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY)}t.pipelines.preBatch(e);var o=e.blendMode!==-1;if(!o){t.setBlendMode(0)}var l=e.alpha;var h=e.scrollFactorX;var u=e.scrollFactorY;for(var c=0;c<n;c++){var f=s[c];if(!f.willRender(i)){continue}var d;var v;var p;var g;if(f.alphaTopLeft!==void 0){d=f.alphaTopLeft;v=f.alphaTopRight;p=f.alphaBottomLeft;g=f.alphaBottomRight}else{var m=f.alpha;d=m;v=m;p=m;g=m}var y=f.scrollFactorX;var x=f.scrollFactorY;if(!o&&f.blendMode!==t.currentBlendMode){t.setBlendMode(f.blendMode)}var b=f.mask;if(b){b.preRenderWebGL(t,f,i)}var T=f.type;if(T!==t.currentType){t.newType=true;t.currentType=T}t.nextTypeMatch=c<n-1?s[c+1].type===t.currentType:false;f.setScrollFactor(y*h,x*u);f.setAlpha(d*l,v*l,p*l,g*l);f.renderWebGL(t,f,i,a,e);f.setAlpha(d,v,p,g);f.setScrollFactor(y,x);if(b){b.postRenderWebGL(t,i)}t.newType=false}t.pipelines.postBatch(e)};t.exports=ContainerWebGLRenderer},47407:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(441);var a=i(95643);var o=i(41212);var l=i(35846);var h=i(44594);var u=i(61369);var c=new r({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Origin,s.ScrollFactor,s.Transform,s.Visible,n],initialize:function DOMElement2(t,e,i,r,s,n){a.call(this,t,"DOMElement");this.parent=t.sys.game.domContainer;this.cache=t.sys.cache.html;this.node;this.transformOnly=false;this.skewX=0;this.skewY=0;this.rotate3d=new u;this.rotate3dAngle="deg";this.pointerEvents="auto";this.width=0;this.height=0;this.displayWidth=0;this.displayHeight=0;this.handler=this.dispatchNativeEvent.bind(this);this.setPosition(e,i);if(typeof r==="string"){if(r[0]==="#"){this.setElement(r.substr(1),s,n)}else{this.createElement(r,s,n)}}else if(r){this.setElement(r,s,n)}t.sys.events.on(h.SLEEP,this.handleSceneEvent,this);t.sys.events.on(h.WAKE,this.handleSceneEvent,this);t.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(t){var e=this.node;var i=e.style;if(e){i.display=t.settings.visible?"block":"none"}},setSkew:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.skewX=t;this.skewY=e;return this},setPerspective:function(t){this.parent.style.perspective=t+"px";return this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++){this.node.addEventListener(t[e],this.handler,false)}}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++){this.node.removeEventListener(t[e],this.handler)}}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},createElement:function(t,e,i){return this.setElement(document.createElement(t),e,i)},setElement:function(t,e,i){this.removeElement();var r;if(typeof t==="string"){if(t[0]==="#"){t=t.substr(1)}r=document.getElementById(t)}else if(typeof t==="object"&&t.nodeType===1){r=t}if(!r){return this}this.node=r;if(e&&o(e)){for(var s in e){r.style[s]=e[s]}}else if(typeof e==="string"){r.style=e}r.style.zIndex="0";r.style.display="inline";r.style.position="absolute";r.phaser=this;if(this.parent){this.parent.appendChild(r)}if(i){r.innerText=i}return this.updateSize()},createFromCache:function(t,e){var i=this.cache.get(t);if(i){this.createFromHTML(i,e)}return this},createFromHTML:function(t,e){if(e===void 0){e="div"}this.removeElement();var i=document.createElement(e);this.node=i;i.style.zIndex="0";i.style.display="inline";i.style.position="absolute";i.phaser=this;if(this.parent){this.parent.appendChild(i)}i.innerHTML=t;return this.updateSize()},removeElement:function(){if(this.node){l(this.node);this.node=null}return this},updateSize:function(){var t=this.node;this.width=t.clientWidth;this.height=t.clientHeight;this.displayWidth=this.width*this.scaleX;this.displayHeight=this.height*this.scaleY;return this},getChildByProperty:function(t,e){if(this.node){var i=this.node.querySelectorAll("*");for(var r=0;r<i.length;r++){if(i[r][t]===e){return i[r]}}}return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setClassName:function(t){if(this.node){this.node.className=t;this.updateSize()}return this},setText:function(t){if(this.node){this.node.innerText=t;this.updateSize()}return this},setHTML:function(t){if(this.node){this.node.innerHTML=t;this.updateSize()}return this},preRender:function(){var t=this.parentContainer;var e=this.node;if(e&&t&&!t.willRender()){e.style.display="none"}},willRender:function(){return true},preDestroy:function(){this.removeElement();this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this);this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this);this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});t.exports=c},49381:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(47407);var s=i(95643);var n=i(61340);var a=new n;var o=new n;var l=new n;var DOMElementCSSRenderer=function(t,e,i,n){if(!e.node){return}var h=e.node.style;var u=e.scene.sys.settings;if(!h||!u.visible||s.RENDER_MASK!==e.renderFlags||e.cameraFilter!==0&&e.cameraFilter&i.id||e.parentContainer&&!e.parentContainer.willRender()){h.display="none";return}var c=e.parentContainer;var f=i.alpha*e.alpha;if(c){f*=c.alpha}var d=a;var v=o;var p=l;var g=0;var m=0;var y="0%";var x="0%";if(n){g=e.width*e.scaleX*e.originX;m=e.height*e.scaleY*e.originY;v.applyITRS(e.x-g,e.y-m,e.rotation,e.scaleX,e.scaleY);d.copyFrom(i.matrix);d.multiplyWithOffset(n,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY);v.e=e.x-g;v.f=e.y-m;d.multiply(v,p)}else{g=e.width*e.originX;m=e.height*e.originY;v.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);d.copyFrom(i.matrix);y=100*e.originX+"%";x=100*e.originY+"%";v.e-=i.scrollX*e.scrollFactorX;v.f-=i.scrollY*e.scrollFactorY;d.multiply(v,p);p.e-=g;p.f-=m}if(!e.transformOnly){h.display="block";h.opacity=f;h.zIndex=e._depth;h.pointerEvents=e.pointerEvents;h.mixBlendMode=r[e._blendMode]}h.transform=p.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")";h.transformOrigin=y+" "+x};t.exports=DOMElementCSSRenderer},2611:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(3069);var s=i(39429);s.register("dom",(function(t,e,i,s,n){var a=new r(this.scene,t,e,i,s,n);this.displayList.add(a);return a}))},441:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(49381)}{n=i(49381)}t.exports={renderWebGL:s,renderCanvas:n}},62980:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="addedtoscene"},41337:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},44947:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="removedfromscene"},49358:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},35163:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="created"},97249:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="error"},19483:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="locked"},56059:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="loop"},26772:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="metadata"},64437:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="playing"},83411:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="play"},75780:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="seeked"},67799:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="seeking"},63500:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stalled"},55541:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stop"},53208:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="textureready"},4992:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="unlocked"},12:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="unsupported"},51708:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(64993);var o=new r({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.Origin,s.ScrollFactor,s.Size,s.Texture,s.Tint,s.Transform,s.Visible,a],initialize:function Extern2(t){n.call(this,t,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});t.exports=o},70217:()=>{},56315:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(42421);var s=i(39429);s.register("extern",(function(){var t=new r(this.scene);this.displayList.add(t);return t}))},64993:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(80287)}{n=i(70217)}t.exports={renderWebGL:s,renderCanvas:n}},80287:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var ExternWebGLRenderer=function(t,e,i,s){t.pipelines.clear();var n=r(e,i,s).calc;e.render.call(e,t,i,n);t.pipelines.rebind()};t.exports=ExternWebGLRenderer},85592:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(71911);var s=i(83419);var n=i(85592);var a=i(31401);var o=i(8497);var l=i(95643);var h=i(95540);var u=i(35154);var c=i(36383);var f=i(84503);var d=new s({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,f],initialize:function Graphics2(t,e){var i=u(e,"x",0);var r=u(e,"y",0);l.call(this,t,"Graphics");this.setPosition(i,r);this.initPipeline();this.initPostPipeline();this.displayOriginX=0;this.displayOriginY=0;this.commandBuffer=[];this.defaultFillColor=-1;this.defaultFillAlpha=1;this.defaultStrokeWidth=1;this.defaultStrokeColor=-1;this.defaultStrokeAlpha=1;this._lineWidth=1;this.lineStyle(1,0,0);this.fillStyle(0,0);this.setDefaultStyles(e)},setDefaultStyles:function(t){if(u(t,"lineStyle",null)){this.defaultStrokeWidth=u(t,"lineStyle.width",1);this.defaultStrokeColor=u(t,"lineStyle.color",16777215);this.defaultStrokeAlpha=u(t,"lineStyle.alpha",1);this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)}if(u(t,"fillStyle",null)){this.defaultFillColor=u(t,"fillStyle.color",16777215);this.defaultFillAlpha=u(t,"fillStyle.alpha",1);this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)}return this},lineStyle:function(t,e,i){if(i===void 0){i=1}this.commandBuffer.push(n.LINE_STYLE,t,e,i);this._lineWidth=t;return this},fillStyle:function(t,e){if(e===void 0){e=1}this.commandBuffer.push(n.FILL_STYLE,t,e);return this},fillGradientStyle:function(t,e,i,r,s,a,o,l){if(s===void 0){s=1}if(a===void 0){a=s}if(o===void 0){o=s}if(l===void 0){l=s}this.commandBuffer.push(n.GRADIENT_FILL_STYLE,s,a,o,l,t,e,i,r);return this},lineGradientStyle:function(t,e,i,r,s,a){if(a===void 0){a=1}this.commandBuffer.push(n.GRADIENT_LINE_STYLE,t,a,e,i,r,s);return this},beginPath:function(){this.commandBuffer.push(n.BEGIN_PATH);return this},closePath:function(){this.commandBuffer.push(n.CLOSE_PATH);return this},fillPath:function(){this.commandBuffer.push(n.FILL_PATH);return this},fill:function(){this.commandBuffer.push(n.FILL_PATH);return this},strokePath:function(){this.commandBuffer.push(n.STROKE_PATH);return this},stroke:function(){this.commandBuffer.push(n.STROKE_PATH);return this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){this.beginPath();this.arc(t,e,i,0,c.PI2);this.fillPath();return this},strokeCircle:function(t,e,i){this.beginPath();this.arc(t,e,i,0,c.PI2);this.strokePath();return this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,r){this.commandBuffer.push(n.FILL_RECT,t,e,i,r);return this},strokeRect:function(t,e,i,r){var s=this._lineWidth/2;var n=t-s;var a=t+s;this.beginPath();this.moveTo(t,e);this.lineTo(t,e+r);this.strokePath();this.beginPath();this.moveTo(t+i,e);this.lineTo(t+i,e+r);this.strokePath();this.beginPath();this.moveTo(n,e);this.lineTo(a+i,e);this.strokePath();this.beginPath();this.moveTo(n,e+r);this.lineTo(a+i,e+r);this.strokePath();return this},fillRoundedRect:function(t,e,i,r,s){if(s===void 0){s=20}var n=s;var a=s;var o=s;var l=s;if(typeof s!=="number"){n=h(s,"tl",20);a=h(s,"tr",20);o=h(s,"bl",20);l=h(s,"br",20)}var u=n>=0;var f=a>=0;var d=o>=0;var v=l>=0;n=Math.abs(n);a=Math.abs(a);o=Math.abs(o);l=Math.abs(l);this.beginPath();this.moveTo(t+n,e);this.lineTo(t+i-a,e);if(f){this.arc(t+i-a,e+a,a,-c.TAU,0)}else{this.arc(t+i,e,a,Math.PI,c.TAU,true)}this.lineTo(t+i,e+r-l);if(v){this.arc(t+i-l,e+r-l,l,0,c.TAU)}else{this.arc(t+i,e+r,l,-c.TAU,Math.PI,true)}this.lineTo(t+o,e+r);if(d){this.arc(t+o,e+r-o,o,c.TAU,Math.PI)}else{this.arc(t,e+r,o,0,-c.TAU,true)}this.lineTo(t,e+n);if(u){this.arc(t+n,e+n,n,-Math.PI,-c.TAU)}else{this.arc(t,e,n,c.TAU,0,true)}this.fillPath();return this},strokeRoundedRect:function(t,e,i,r,s){if(s===void 0){s=20}var n=s;var a=s;var o=s;var l=s;var u=Math.min(i,r)/2;if(typeof s!=="number"){n=h(s,"tl",20);a=h(s,"tr",20);o=h(s,"bl",20);l=h(s,"br",20)}var f=n>=0;var d=a>=0;var v=o>=0;var p=l>=0;n=Math.min(Math.abs(n),u);a=Math.min(Math.abs(a),u);o=Math.min(Math.abs(o),u);l=Math.min(Math.abs(l),u);this.beginPath();this.moveTo(t+n,e);this.lineTo(t+i-a,e);this.moveTo(t+i-a,e);if(d){this.arc(t+i-a,e+a,a,-c.TAU,0)}else{this.arc(t+i,e,a,Math.PI,c.TAU,true)}this.lineTo(t+i,e+r-l);this.moveTo(t+i,e+r-l);if(p){this.arc(t+i-l,e+r-l,l,0,c.TAU)}else{this.arc(t+i,e+r,l,-c.TAU,Math.PI,true)}this.lineTo(t+o,e+r);this.moveTo(t+o,e+r);if(v){this.arc(t+o,e+r-o,o,c.TAU,Math.PI)}else{this.arc(t,e+r,o,0,-c.TAU,true)}this.lineTo(t,e+n);this.moveTo(t,e+n);if(f){this.arc(t+n,e+n,n,-Math.PI,-c.TAU)}else{this.arc(t,e,n,c.TAU,0,true)}this.strokePath();return this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){if(!i||i<1){i=1}else{t-=i/2;e-=i/2}this.commandBuffer.push(n.FILL_RECT,t,e,i,i);return this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,r,s,a){this.commandBuffer.push(n.FILL_TRIANGLE,t,e,i,r,s,a);return this},strokeTriangle:function(t,e,i,r,s,a){this.commandBuffer.push(n.STROKE_TRIANGLE,t,e,i,r,s,a);return this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,r){this.beginPath();this.moveTo(t,e);this.lineTo(i,r);this.strokePath();return this},lineTo:function(t,e){this.commandBuffer.push(n.LINE_TO,t,e);return this},moveTo:function(t,e){this.commandBuffer.push(n.MOVE_TO,t,e);return this},strokePoints:function(t,e,i,r){if(e===void 0){e=false}if(i===void 0){i=false}if(r===void 0){r=t.length}this.beginPath();this.moveTo(t[0].x,t[0].y);for(var s=1;s<r;s++){this.lineTo(t[s].x,t[s].y)}if(e){this.lineTo(t[0].x,t[0].y)}if(i){this.closePath()}this.strokePath();return this},fillPoints:function(t,e,i,r){if(e===void 0){e=false}if(i===void 0){i=false}if(r===void 0){r=t.length}this.beginPath();this.moveTo(t[0].x,t[0].y);for(var s=1;s<r;s++){this.lineTo(t[s].x,t[s].y)}if(e){this.lineTo(t[0].x,t[0].y)}if(i){this.closePath()}this.fillPath();return this},strokeEllipseShape:function(t,e){if(e===void 0){e=32}var i=t.getPoints(e);return this.strokePoints(i,true)},strokeEllipse:function(t,e,i,r,s){if(s===void 0){s=32}var n=new o(t,e,i,r);var a=n.getPoints(s);return this.strokePoints(a,true)},fillEllipseShape:function(t,e){if(e===void 0){e=32}var i=t.getPoints(e);return this.fillPoints(i,true)},fillEllipse:function(t,e,i,r,s){if(s===void 0){s=32}var n=new o(t,e,i,r);var a=n.getPoints(s);return this.fillPoints(a,true)},arc:function(t,e,i,r,s,a,o){if(a===void 0){a=false}if(o===void 0){o=0}this.commandBuffer.push(n.ARC,t,e,i,r,s,a,o);return this},slice:function(t,e,i,r,s,a,o){if(a===void 0){a=false}if(o===void 0){o=0}this.commandBuffer.push(n.BEGIN_PATH);this.commandBuffer.push(n.MOVE_TO,t,e);this.commandBuffer.push(n.ARC,t,e,i,r,s,a,o);this.commandBuffer.push(n.CLOSE_PATH);return this},save:function(){this.commandBuffer.push(n.SAVE);return this},restore:function(){this.commandBuffer.push(n.RESTORE);return this},translateCanvas:function(t,e){this.commandBuffer.push(n.TRANSLATE,t,e);return this},scaleCanvas:function(t,e){this.commandBuffer.push(n.SCALE,t,e);return this},rotateCanvas:function(t){this.commandBuffer.push(n.ROTATE,t);return this},clear:function(){this.commandBuffer.length=0;if(this.defaultFillColor>-1){this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)}if(this.defaultStrokeColor>-1){this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)}return this},generateTexture:function(t,e,i){var r=this.scene.sys;var s=r.game.renderer;if(e===void 0){e=r.scale.width}if(i===void 0){i=r.scale.height}d.TargetCamera.setScene(this.scene);d.TargetCamera.setViewport(0,0,e,i);d.TargetCamera.scrollX=this.x;d.TargetCamera.scrollY=this.y;var n;var a;var o={willReadFrequently:true};if(typeof t==="string"){if(r.textures.exists(t)){n=r.textures.get(t);var l=n.getSourceImage();if(l instanceof HTMLCanvasElement){a=l.getContext("2d",o)}}else{n=r.textures.createCanvas(t,e,i);a=n.getSourceImage().getContext("2d",o)}}else if(t instanceof HTMLCanvasElement){a=t.getContext("2d",o)}if(a){this.renderCanvas(s,this,d.TargetCamera,null,a,false);if(n){n.refresh()}}return this},preDestroy:function(){this.commandBuffer=[]}});d.TargetCamera=new r;t.exports=d},32768:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85592);var s=i(20926);var GraphicsCanvasRenderer=function(t,e,i,n,a,o){var l=e.commandBuffer;var h=l.length;var u=a||t.currentContext;if(h===0||!s(t,u,e,i,n)){return}i.addToRenderList(e);var c=1;var f=1;var d=0;var v=0;var p=1;var g=0;var m=0;var y=0;u.beginPath();for(var x=0;x<h;++x){var b=l[x];switch(b){case r.ARC:u.arc(l[x+1],l[x+2],l[x+3],l[x+4],l[x+5],l[x+6]);x+=7;break;case r.LINE_STYLE:p=l[x+1];d=l[x+2];c=l[x+3];g=(d&16711680)>>>16;m=(d&65280)>>>8;y=d&255;u.strokeStyle="rgba("+g+","+m+","+y+","+c+")";u.lineWidth=p;x+=3;break;case r.FILL_STYLE:v=l[x+1];f=l[x+2];g=(v&16711680)>>>16;m=(v&65280)>>>8;y=v&255;u.fillStyle="rgba("+g+","+m+","+y+","+f+")";x+=2;break;case r.BEGIN_PATH:u.beginPath();break;case r.CLOSE_PATH:u.closePath();break;case r.FILL_PATH:if(!o){u.fill()}break;case r.STROKE_PATH:if(!o){u.stroke()}break;case r.FILL_RECT:if(!o){u.fillRect(l[x+1],l[x+2],l[x+3],l[x+4])}else{u.rect(l[x+1],l[x+2],l[x+3],l[x+4])}x+=4;break;case r.FILL_TRIANGLE:u.beginPath();u.moveTo(l[x+1],l[x+2]);u.lineTo(l[x+3],l[x+4]);u.lineTo(l[x+5],l[x+6]);u.closePath();if(!o){u.fill()}x+=6;break;case r.STROKE_TRIANGLE:u.beginPath();u.moveTo(l[x+1],l[x+2]);u.lineTo(l[x+3],l[x+4]);u.lineTo(l[x+5],l[x+6]);u.closePath();if(!o){u.stroke()}x+=6;break;case r.LINE_TO:u.lineTo(l[x+1],l[x+2]);x+=2;break;case r.MOVE_TO:u.moveTo(l[x+1],l[x+2]);x+=2;break;case r.LINE_FX_TO:u.lineTo(l[x+1],l[x+2]);x+=5;break;case r.MOVE_FX_TO:u.moveTo(l[x+1],l[x+2]);x+=5;break;case r.SAVE:u.save();break;case r.RESTORE:u.restore();break;case r.TRANSLATE:u.translate(l[x+1],l[x+2]);x+=2;break;case r.SCALE:u.scale(l[x+1],l[x+2]);x+=2;break;case r.ROTATE:u.rotate(l[x+1]);x+=1;break;case r.GRADIENT_FILL_STYLE:x+=5;break;case r.GRADIENT_LINE_STYLE:x+=6;break}}u.restore()};t.exports=GraphicsCanvasRenderer},87079:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(44603);var s=i(43831);r.register("graphics",(function(t,e){if(t===void 0){t={}}if(e!==void 0){t.add=e}var i=new s(this.scene,t);if(t.add){this.scene.sys.displayList.add(i)}return i}))},1201:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43831);var s=i(39429);s.register("graphics",(function(t){return this.displayList.add(new r(this.scene,t))}))},84503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(77545);n=i(32768)}{n=i(32768)}t.exports={renderWebGL:s,renderCanvas:n}},77545:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85592);var s=i(91296);var n=i(61340);var a=i(70554);var Point=function(t,e,i){this.x=t;this.y=e;this.width=i};var Path=function(t,e,i){this.points=[];this.pointsLength=1;this.points[0]=new Point(t,e,i)};var o=[];var l=new n;var GraphicsWebGLRenderer=function(t,e,i,n){if(e.commandBuffer.length===0){return}i.addToRenderList(e);var h=t.pipelines.set(e.pipeline,e);t.pipelines.preBatch(e);var u=s(e,i,n).calc;var c=l.loadIdentity();var f=e.commandBuffer;var d=i.alpha*e.alpha;var v=1;var p=h.fillTint;var g=h.strokeTint;var m=0;var y=0;var x=0;var b=.01;var T=Math.PI*2;var w;var E=[];var S=0;var A=true;var C=null;var O=a.getTintAppendFloatAlpha;for(var P=0;P<f.length;P++){w=f[P];switch(w){case r.BEGIN_PATH:{E.length=0;C=null;A=true;break}case r.CLOSE_PATH:{A=false;if(C&&C.points.length){C.points.push(C.points[0])}break}case r.FILL_PATH:{for(S=0;S<E.length;S++){h.batchFillPath(E[S].points,c,u)}break}case r.STROKE_PATH:{for(S=0;S<E.length;S++){h.batchStrokePath(E[S].points,v,A,c,u)}break}case r.LINE_STYLE:{v=f[++P];var I=f[++P];var R=f[++P]*d;var M=O(I,R);g.TL=M;g.TR=M;g.BL=M;g.BR=M;break}case r.FILL_STYLE:{var L=f[++P];var D=f[++P]*d;var k=O(L,D);p.TL=k;p.TR=k;p.BL=k;p.BR=k;break}case r.GRADIENT_FILL_STYLE:{var F=f[++P]*d;var B=f[++P]*d;var N=f[++P]*d;var U=f[++P]*d;p.TL=O(f[++P],F);p.TR=O(f[++P],B);p.BL=O(f[++P],N);p.BR=O(f[++P],U);break}case r.GRADIENT_LINE_STYLE:{v=f[++P];var z=f[++P]*d;g.TL=O(f[++P],z);g.TR=O(f[++P],z);g.BL=O(f[++P],z);g.BR=O(f[++P],z);break}case r.ARC:{var V=0;var G=f[++P];var X=f[++P];var Y=f[++P];var H=f[++P];var W=f[++P];var j=f[++P];var Z=f[++P];W-=H;if(j){if(W<-T){W=-T}else if(W>0){W=-T+W%T}}else if(W>T){W=T}else if(W<0){W=T+W%T}if(C===null){C=new Path(G+Math.cos(H)*Y,X+Math.sin(H)*Y,v);E.push(C);V+=b}while(V<1+Z){x=W*V+H;m=G+Math.cos(x)*Y;y=X+Math.sin(x)*Y;C.points.push(new Point(m,y,v));V+=b}x=W+H;m=G+Math.cos(x)*Y;y=X+Math.sin(x)*Y;C.points.push(new Point(m,y,v));break}case r.FILL_RECT:{h.batchFillRect(f[++P],f[++P],f[++P],f[++P],c,u);break}case r.FILL_TRIANGLE:{h.batchFillTriangle(f[++P],f[++P],f[++P],f[++P],f[++P],f[++P],c,u);break}case r.STROKE_TRIANGLE:{h.batchStrokeTriangle(f[++P],f[++P],f[++P],f[++P],f[++P],f[++P],v,c,u);break}case r.LINE_TO:{if(C!==null){C.points.push(new Point(f[++P],f[++P],v))}else{C=new Path(f[++P],f[++P],v);E.push(C)}break}case r.MOVE_TO:{C=new Path(f[++P],f[++P],v);E.push(C);break}case r.SAVE:{o.push(c.copyToArray());break}case r.RESTORE:{c.copyFromArray(o.pop());break}case r.TRANSLATE:{G=f[++P];X=f[++P];c.translate(G,X);break}case r.SCALE:{G=f[++P];X=f[++P];c.scale(G,X);break}case r.ROTATE:{c.rotate(f[++P]);break}}}t.pipelines.postBatch(e)};t.exports=GraphicsWebGLRenderer},26479:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61061);var s=i(83419);var n=i(51708);var a=i(50792);var o=i(46710);var l=i(95540);var h=i(35154);var u=i(97022);var c=i(41212);var f=i(88492);var d=i(35072);var v=i(68287);var p=new s({Extends:a,initialize:function Group2(t,e,i){a.call(this);if(i){if(e&&!Array.isArray(e)){e=[e]}}else if(Array.isArray(e)){if(c(e[0])){i=e;e=null}}else if(c(e)){i=e;e=null}this.scene=t;this.children=new d;this.isParent=true;this.type="Group";this.classType=l(i,"classType",v);this.name=l(i,"name","");this.active=l(i,"active",true);this.maxSize=l(i,"maxSize",-1);this.defaultKey=l(i,"defaultKey",null);this.defaultFrame=l(i,"defaultFrame",null);this.runChildUpdate=l(i,"runChildUpdate",false);this.createCallback=l(i,"createCallback",null);this.removeCallback=l(i,"removeCallback",null);this.createMultipleCallback=l(i,"createMultipleCallback",null);this.internalCreateCallback=l(i,"internalCreateCallback",null);this.internalRemoveCallback=l(i,"internalRemoveCallback",null);if(e){this.addMultiple(e)}if(i){this.createMultiple(i)}this.on(n.ADDED_TO_SCENE,this.addedToScene,this);this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(t,e,i,r,s,n){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.defaultKey}if(r===void 0){r=this.defaultFrame}if(s===void 0){s=true}if(n===void 0){n=true}if(this.isFull()){return null}var a=new this.classType(this.scene,t,e,i,r);a.addToDisplayList(this.scene.sys.displayList);a.addToUpdateList();a.visible=s;a.setActive(n);this.add(a);return a},createMultiple:function(t){if(this.isFull()){return[]}if(!Array.isArray(t)){t=[t]}var e=[];if(t[0].key){for(var i=0;i<t.length;i++){var r=this.createFromConfig(t[i]);e=e.concat(r)}}return e},createFromConfig:function(t){if(this.isFull()){return[]}this.classType=l(t,"classType",this.classType);var e=l(t,"key",void 0);var i=l(t,"frame",null);var s=l(t,"visible",true);var n=l(t,"active",true);var a=[];if(e===void 0){return a}else{if(!Array.isArray(e)){e=[e]}if(!Array.isArray(i)){i=[i]}}var o=l(t,"repeat",0);var c=l(t,"randomKey",false);var d=l(t,"randomFrame",false);var v=l(t,"yoyo",false);var p=l(t,"quantity",false);var g=l(t,"frameQuantity",1);var m=l(t,"max",0);var y=f(e,i,{max:m,qty:p?p:g,random:c,randomB:d,repeat:o,yoyo:v});if(t.createCallback){this.createCallback=t.createCallback}if(t.removeCallback){this.removeCallback=t.removeCallback}if(t.internalCreateCallback){this.internalCreateCallback=t.internalCreateCallback}if(t.internalRemoveCallback){this.internalRemoveCallback=t.internalRemoveCallback}for(var x=0;x<y.length;x++){var b=this.create(0,0,y[x].a,y[x].b,s,n);if(!b){break}a.push(b)}if(u(t,"setXY")){var T=h(t,"setXY.x",0);var w=h(t,"setXY.y",0);var E=h(t,"setXY.stepX",0);var S=h(t,"setXY.stepY",0);r.SetXY(a,T,w,E,S)}if(u(t,"setRotation")){var A=h(t,"setRotation.value",0);var C=h(t,"setRotation.step",0);r.SetRotation(a,A,C)}if(u(t,"setScale")){var O=h(t,"setScale.x",1);var P=h(t,"setScale.y",O);var I=h(t,"setScale.stepX",0);var R=h(t,"setScale.stepY",0);r.SetScale(a,O,P,I,R)}if(u(t,"setOrigin")){var M=h(t,"setOrigin.x",.5);var L=h(t,"setOrigin.y",M);var D=h(t,"setOrigin.stepX",0);var k=h(t,"setOrigin.stepY",0);r.SetOrigin(a,M,L,D,k)}if(u(t,"setAlpha")){var F=h(t,"setAlpha.value",1);var B=h(t,"setAlpha.step",0);r.SetAlpha(a,F,B)}if(u(t,"setDepth")){var N=h(t,"setDepth.value",0);var U=h(t,"setDepth.step",0);r.SetDepth(a,N,U)}if(u(t,"setScrollFactor")){var z=h(t,"setScrollFactor.x",1);var V=h(t,"setScrollFactor.y",z);var G=h(t,"setScrollFactor.stepX",0);var X=h(t,"setScrollFactor.stepY",0);r.SetScrollFactor(a,z,V,G,X)}var Y=l(t,"hitArea",null);var H=l(t,"hitAreaCallback",null);if(Y){r.SetHitArea(a,Y,H)}var W=l(t,"gridAlign",false);if(W){r.GridAlign(a,W)}if(this.createMultipleCallback){this.createMultipleCallback.call(this,a)}return a},preUpdate:function(t,e){if(!this.runChildUpdate||this.children.size===0){return}var i=this.children.entries.slice();for(var r=0;r<i.length;r++){var s=i[r];if(s.active){s.update(t,e)}}},add:function(t,e){if(e===void 0){e=false}if(this.isFull()){return this}this.children.set(t);if(this.internalCreateCallback){this.internalCreateCallback.call(this,t)}if(this.createCallback){this.createCallback.call(this,t)}if(e){t.addToDisplayList(this.scene.sys.displayList);t.addToUpdateList()}t.on(n.DESTROY,this.remove,this);return this},addMultiple:function(t,e){if(e===void 0){e=false}if(Array.isArray(t)){for(var i=0;i<t.length;i++){this.add(t[i],e)}}return this},remove:function(t,e,i){if(e===void 0){e=false}if(i===void 0){i=false}if(!this.children.contains(t)){return this}this.children.delete(t);if(this.internalRemoveCallback){this.internalRemoveCallback.call(this,t)}if(this.removeCallback){this.removeCallback.call(this,t)}t.off(n.DESTROY,this.remove,this);if(i){t.destroy()}else if(e){t.removeFromDisplayList();t.removeFromUpdateList()}return this},clear:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}var i=this.children;for(var r=0;r<i.size;r++){var s=i.entries[r];s.off(n.DESTROY,this.remove,this);if(e){s.destroy()}else if(t){s.removeFromDisplayList();s.removeFromUpdateList()}}this.children.clear();return this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(t,e,i,r){return o(this.children.entries,t,e,i,r)},getFirst:function(t,e,i,r,s,n,a){return this.getHandler(true,1,t,e,i,r,s,n,a)},getFirstNth:function(t,e,i,r,s,n,a,o){return this.getHandler(true,t,e,i,r,s,n,a,o)},getLast:function(t,e,i,r,s,n,a){return this.getHandler(false,1,t,e,i,r,s,n,a)},getLastNth:function(t,e,i,r,s,n,a,o){return this.getHandler(false,t,e,i,r,s,n,a,o)},getHandler:function(t,e,i,r,s,n,a,o,l){if(i===void 0){i=false}if(r===void 0){r=false}var h;var u;var c=0;var f=this.children.entries;if(t){for(u=0;u<f.length;u++){h=f[u];if(h.active===i){c++;if(c===e){break}}else{h=null}}}else{for(u=f.length-1;u>=0;u--){h=f[u];if(h.active===i){c++;if(c===e){break}}else{h=null}}}if(h){if(typeof s==="number"){h.x=s}if(typeof n==="number"){h.y=n}return h}if(r){return this.create(s,n,a,o,l)}else{return null}},get:function(t,e,i,r,s){return this.getFirst(false,true,t,e,i,r,s)},getFirstAlive:function(t,e,i,r,s,n){return this.getFirst(true,t,e,i,r,s,n)},getFirstDead:function(t,e,i,r,s,n){return this.getFirst(false,t,e,i,r,s,n)},playAnimation:function(t,e){r.PlayAnimation(this.children.entries,t,e);return this},isFull:function(){if(this.maxSize===-1){return false}else{return this.children.size>=this.maxSize}},countActive:function(t){if(t===void 0){t=true}var e=0;for(var i=0;i<this.children.size;i++){if(this.children.entries[i].active===t){e++}}return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();var e=this.maxSize===-1?999999999999:this.maxSize;return e-t},setActive:function(t){this.active=t;return this},setName:function(t){this.name=t;return this},propertyValueSet:function(t,e,i,s,n){r.PropertyValueSet(this.children.entries,t,e,i,s,n);return this},propertyValueInc:function(t,e,i,s,n){r.PropertyValueInc(this.children.entries,t,e,i,s,n);return this},setX:function(t,e){r.SetX(this.children.entries,t,e);return this},setY:function(t,e){r.SetY(this.children.entries,t,e);return this},setXY:function(t,e,i,s){r.SetXY(this.children.entries,t,e,i,s);return this},incX:function(t,e){r.IncX(this.children.entries,t,e);return this},incY:function(t,e){r.IncY(this.children.entries,t,e);return this},incXY:function(t,e,i,s){r.IncXY(this.children.entries,t,e,i,s);return this},shiftPosition:function(t,e,i){r.ShiftPosition(this.children.entries,t,e,i);return this},angle:function(t,e){r.Angle(this.children.entries,t,e);return this},rotate:function(t,e){r.Rotate(this.children.entries,t,e);return this},rotateAround:function(t,e){r.RotateAround(this.children.entries,t,e);return this},rotateAroundDistance:function(t,e,i){r.RotateAroundDistance(this.children.entries,t,e,i);return this},setAlpha:function(t,e){r.SetAlpha(this.children.entries,t,e);return this},setTint:function(t,e,i,s){r.SetTint(this.children.entries,t,e,i,s);return this},setOrigin:function(t,e,i,s){r.SetOrigin(this.children.entries,t,e,i,s);return this},scaleX:function(t,e){r.ScaleX(this.children.entries,t,e);return this},scaleY:function(t,e){r.ScaleY(this.children.entries,t,e);return this},scaleXY:function(t,e,i,s){r.ScaleXY(this.children.entries,t,e,i,s);return this},setDepth:function(t,e){r.SetDepth(this.children.entries,t,e);return this},setBlendMode:function(t){r.SetBlendMode(this.children.entries,t);return this},setHitArea:function(t,e){r.SetHitArea(this.children.entries,t,e);return this},shuffle:function(){r.Shuffle(this.children.entries);return this},kill:function(t){if(this.children.contains(t)){t.setActive(false)}},killAndHide:function(t){if(this.children.contains(t)){t.setActive(false);t.setVisible(false)}},setVisible:function(t,e,i){r.SetVisible(this.children.entries,t,e,i);return this},toggleVisible:function(){r.ToggleVisible(this.children.entries);return this},destroy:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}if(!this.scene||this.ignoreDestroy){return}this.emit(n.DESTROY,this);this.removeAllListeners();this.scene.sys.updateList.remove(this);this.clear(e,t);this.scene=void 0;this.children=void 0}});t.exports=p},94975:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(44603);var s=i(26479);r.register("group",(function(t){return new s(this.scene,null,t)}))},3385:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26479);var s=i(39429);s.register("group",(function(t,e){return this.updateList.add(new r(this.scene,t,e))}))},88571:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(59819);var o=new r({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,a],initialize:function Image3(t,e,i,r,s){n.call(this,t,"Image");this._crop=this.resetCropObject();this.setTexture(r,s);this.setPosition(e,i);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(true)}});t.exports=o},40652:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ImageCanvasRenderer=function(t,e,i,r){i.addToRenderList(e);t.batchSprite(e,e.frame,i,r)};t.exports=ImageCanvasRenderer},82459:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(88571);s.register("image",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=n(t,"frame",null);var o=new a(this.scene,0,0,i,s);if(e!==void 0){t.add=e}r(this.scene,o,t);return o}))},2117:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(88571);var s=i(39429);s.register("image",(function(t,e,i,s){return this.displayList.add(new r(this.scene,t,e,i,s))}))},59819:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(99517)}{n=i(40652)}t.exports={renderWebGL:s,renderCanvas:n}},99517:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ImageWebGLRenderer=function(t,e,i,r){i.addToRenderList(e);this.pipeline.batchSprite(e,i,r)};t.exports=ImageWebGLRenderer},77856:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};{r.Shader=i(20071);r.Mesh=i(4703);r.NineSlice=i(28103);r.PointLight=i(80321);r.Plane=i(33663);r.Factories.Shader=i(74177);r.Factories.Mesh=i(9225);r.Factories.NineSlice=i(47521);r.Factories.PointLight=i(71255);r.Factories.Plane=i(30985);r.Creators.Shader=i(54935);r.Creators.Mesh=i(20527);r.Creators.NineSlice=i(28279);r.Creators.PointLight=i(39829);r.Creators.Plane=i(56015);r.Light=i(41432);r.LightsManager=i(61356);r.LightsPlugin=i(88992)}t.exports=r},93595:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(83419);var n=i(31401);var a=i(53774);var o=i(45893);var l=i(50792);var h=i(51708);var u=i(73162);var c=i(33963);var f=i(44594);var d=i(19186);var v=new s({Extends:u,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.PostPipeline,n.Visible,l,c],initialize:function Layer2(t,e){u.call(this,t);l.call(this);this.scene=t;this.displayList=null;this.type="Layer";this.state=0;this.parentContainer=null;this.name="";this.active=true;this.tabIndex=-1;this.data=null;this.renderFlags=15;this.cameraFilter=0;this.input=null;this.body=null;this.ignoreDestroy=false;this.systems=t.sys;this.events=t.sys.events;this.sortChildrenFlag=false;this.addCallback=this.addChildCallback;this.removeCallback=this.removeChildCallback;this.initPostPipeline();this.clearAlpha();this.setBlendMode(r.SKIP_CHECK);if(e){this.add(e)}t.sys.queueDepthSort()},setActive:function(t){this.active=t;return this},setName:function(t){this.name=t;return this},setState:function(t){this.state=t;return this},setDataEnabled:function(){if(!this.data){this.data=new o(this)}return this},setData:function(t,e){if(!this.data){this.data=new o(this)}this.data.set(t,e);return this},incData:function(t,e){if(!this.data){this.data=new o(this)}this.data.inc(t,e);return this},toggleData:function(t){if(!this.data){this.data=new o(this)}this.data.toggle(t);return this},getData:function(t){if(!this.data){this.data=new o(this)}return this.data.get(t)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(t){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&t.id)},getIndexList:function(){var t=this;var e=this.parentContainer;var i=[];while(e){i.unshift(e.getIndex(t));t=e;if(!e.parentContainer){break}else{e=e.parentContainer}}i.unshift(this.displayList.getIndex(t));return i},addChildCallback:function(t){var e=t.displayList;if(e&&e!==this){t.removeFromDisplayList()}if(!t.displayList){this.queueDepthSort();t.displayList=this;t.emit(h.ADDED_TO_SCENE,t,this.scene);this.events.emit(f.ADDED_TO_SCENE,t,this.scene)}},removeChildCallback:function(t){this.queueDepthSort();t.displayList=null;t.emit(h.REMOVED_FROM_SCENE,t,this.scene);this.events.emit(f.REMOVED_FROM_SCENE,t,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=true},depthSort:function(){if(this.sortChildrenFlag){d(this.list,this.sortByDepth);this.sortChildrenFlag=false}},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},addToDisplayList:function(t){if(t===void 0){t=this.scene.sys.displayList}if(this.displayList&&this.displayList!==t){this.removeFromDisplayList()}if(!t.exists(this)){this.displayList=t;t.add(this,true);t.queueDepthSort();this.emit(h.ADDED_TO_SCENE,this,this.scene);t.events.emit(f.ADDED_TO_SCENE,this,this.scene)}return this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;if(t.exists(this)){t.remove(this,true);t.queueDepthSort();this.displayList=null;this.emit(h.REMOVED_FROM_SCENE,this,this.scene);t.events.emit(f.REMOVED_FROM_SCENE,this,this.scene)}return this},getDisplayList:function(){var t=null;if(this.parentContainer){t=this.parentContainer.list}else if(this.displayList){t=this.displayList.list}return t},destroy:function(t){if(!this.scene||this.ignoreDestroy){return}this.emit(h.DESTROY,this);var e=this.list;while(e.length){e[0].destroy(t)}this.removeAllListeners();this.resetPostPipeline(true);if(this.displayList){this.displayList.remove(this,true,false);this.displayList.queueDepthSort()}if(this.data){this.data.destroy();this.data=void 0}this.active=false;this.visible=false;this.list=void 0;this.scene=void 0;this.displayList=void 0;this.systems=void 0;this.events=void 0}});t.exports=v},2956:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LayerCanvasRenderer=function(t,e,i){var r=e.list;if(r.length===0){return}e.depthSort();var s=e.blendMode!==-1;if(!s){t.setBlendMode(0)}var n=e._alpha;if(e.mask){e.mask.preRenderCanvas(t,null,i)}for(var a=0;a<r.length;a++){var o=r[a];if(!o.willRender(i)){continue}var l=o.alpha;if(!s&&o.blendMode!==t.currentBlendMode){t.setBlendMode(o.blendMode)}o.setAlpha(l*n);o.renderCanvas(t,o,i);o.setAlpha(l)}if(e.mask){e.mask.postRenderCanvas(t)}};t.exports=LayerCanvasRenderer},25179:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(93595);var n=i(44603);var a=i(23568);n.register("layer",(function(t,e){if(t===void 0){t={}}var i=a(t,"children",null);var n=new s(this.scene,i);if(e!==void 0){t.add=e}r(this.scene,n,t);return n}))},20005:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(93595);var s=i(39429);s.register("layer",(function(t){return this.displayList.add(new r(this.scene,t))}))},33963:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(15869)}{n=i(2956)}t.exports={renderWebGL:s,renderCanvas:n}},15869:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LayerWebGLRenderer=function(t,e,i){var r=e.list;var s=r.length;if(s===0){return}e.depthSort();t.pipelines.preBatch(e);var n=e.blendMode!==-1;if(!n){t.setBlendMode(0)}var a=e.alpha;for(var o=0;o<s;o++){var l=r[o];if(!l.willRender(i)){continue}var h;var u;var c;var f;if(l.alphaTopLeft!==void 0){h=l.alphaTopLeft;u=l.alphaTopRight;c=l.alphaBottomLeft;f=l.alphaBottomRight}else{var d=l.alpha;h=d;u=d;c=d;f=d}if(!n&&l.blendMode!==t.currentBlendMode){t.setBlendMode(l.blendMode)}var v=l.mask;if(v){v.preRenderWebGL(t,l,i)}var p=l.type;if(p!==t.currentType){t.newType=true;t.currentType=p}t.nextTypeMatch=o<s-1?r[o+1].type===t.currentType:false;l.setAlpha(h*a,u*a,c*a,f*a);l.renderWebGL(t,l,i);l.setAlpha(h,u,c,f);if(v){v.postRenderWebGL(t,i)}t.newType=false}t.pipelines.postBatch(e)};t.exports=LayerWebGLRenderer},41432:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(96503);var s=i(83419);var n=i(31401);var a=i(51767);var o=i(70554);var l=new s({Extends:r,Mixins:[n.Origin,n.ScrollFactor,n.Visible],initialize:function Light2(t,e,i,s,n,o,l){r.call(this,t,e,i);this.color=new a(s,n,o);this.intensity=l;this.renderFlags=15;this.cameraFilter=0;this.setScrollFactor(1,1);this.setOrigin();this.setDisplayOrigin(i)},displayWidth:{get:function(){return this.diameter},set:function(t){this.diameter=t}},displayHeight:{get:function(){return this.diameter},set:function(t){this.diameter=t}},width:{get:function(){return this.diameter},set:function(t){this.diameter=t}},height:{get:function(){return this.diameter},set:function(t){this.diameter=t}},willRender:function(t){return!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&t.id)},setColor:function(t){var e=o.getFloatsFromUintRGB(t);this.color.set(e[0],e[1],e[2]);return this},setIntensity:function(t){this.intensity=t;return this},setRadius:function(t){this.radius=t;return this}});l.RENDER_MASK=15;t.exports=l},61356:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(81491);var s=i(83419);var n=i(20339);var a=i(41432);var o=i(80321);var l=i(51767);var h=i(19133);var u=i(19186);var c=i(70554);var f=new s({initialize:function LightsManager2(){this.lights=[];this.ambientColor=new l(.1,.1,.1);this.active=false;this.maxLights=-1;this.visibleLights=0},addPointLight:function(t,e,i,r,s,n){return this.systems.displayList.add(new o(this.scene,t,e,i,r,s,n))},enable:function(){if(this.maxLights===-1){this.maxLights=this.systems.renderer.config.maxLights}this.active=true;return this},disable:function(){this.active=false;return this},getLights:function(t){var e=this.lights;var i=t.worldView;var s=[];for(var a=0;a<e.length;a++){var o=e[a];if(o.willRender(t)&&r(o,i)){s.push({light:o,distance:n(o.x,o.y,i.centerX,i.centerY)})}}if(s.length>this.maxLights){u(s,this.sortByDistance);s=s.slice(0,this.maxLights)}this.visibleLights=s.length;return s},sortByDistance:function(t,e){return t.distance>=e.distance},setAmbientColor:function(t){var e=c.getFloatsFromUintRGB(t);this.ambientColor.set(e[0],e[1],e[2]);return this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,r,s){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=128}if(r===void 0){r=16777215}if(s===void 0){s=1}var n=c.getFloatsFromUintRGB(r);var o=new a(t,e,i,n[0],n[1],n[2],s);this.lights.push(o);return o},removeLight:function(t){var e=this.lights.indexOf(t);if(e>=0){h(this.lights,e)}return this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=f},88992:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(61356);var n=i(37277);var a=i(44594);var o=new r({Extends:s,initialize:function LightsPlugin2(t){this.scene=t;this.systems=t.sys;if(!t.sys.settings.isBooted){t.sys.events.once(a.BOOT,this.boot,this)}s.call(this)},boot:function(){var t=this.systems.events;t.on(a.SHUTDOWN,this.shutdown,this);t.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown();this.scene=void 0;this.systems=void 0}});n.register("LightsPlugin",o,"lights");t.exports=o},4703:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(39506);var a=i(83997);var o=i(95643);var l=i(34684);var h=i(92515);var u=i(91296);var c=i(37867);var f=i(29807);var d=i(43396);var v=i(19186);var p=i(25836);var g=i(39318);var m=new r({Extends:o,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,f],initialize:function Mesh2(t,e,i,r,s,n,a,l,h,u,f,d){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r="__WHITE"}o.call(this,t,"Mesh");this.faces=[];this.vertices=[];this.tintFill=false;this.debugCallback=null;this.debugGraphic=null;this.hideCCW=true;this.modelPosition=new p;this.modelScale=new p(1,1,1);this.modelRotation=new p;this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0];this.transformMatrix=new c;this.viewPosition=new p;this.viewMatrix=new c;this.projectionMatrix=new c;this.totalRendered=0;this.totalFrame=0;this.ignoreDirtyCache=false;this.fov;this.displayOriginX=0;this.displayOriginY=0;var v=t.sys.renderer;this.setPosition(e,i);this.setTexture(r,s);this.setSize(v.width,v.height);this.initPipeline();this.initPostPipeline();this.setPerspective(v.width,v.height);if(n){this.addVertices(n,a,l,h,u,f,d)}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(t){this.viewPosition.addScale(p.LEFT,t);this.dirtyCache[10]=1;return this},panY:function(t){this.viewPosition.y+=p.DOWN.y*t;this.dirtyCache[10]=1;return this},panZ:function(t){this.viewPosition.z+=t;this.dirtyCache[10]=1;return this},setPerspective:function(t,e,i,r,s){if(i===void 0){i=45}if(r===void 0){r=.01}if(s===void 0){s=1e3}this.fov=i;this.projectionMatrix.perspective(n(i),t/e,r,s);this.dirtyCache[10]=1;this.dirtyCache[11]=0;return this},setOrtho:function(t,e,i,r){if(t===void 0){t=this.scene.sys.renderer.getAspectRatio()}if(e===void 0){e=1}if(i===void 0){i=-1e3}if(r===void 0){r=1e3}this.fov=0;this.projectionMatrix.ortho(-t,t,-e,e,i,r);this.dirtyCache[10]=1;this.dirtyCache[11]=1;return this},clear:function(){this.faces.forEach((function(t){t.destroy()}));this.faces=[];this.vertices=[];return this},addVerticesFromObj:function(t,e,i,r,s,n,a,o,h){var u=this.scene.sys.cache.obj.get(t);var c;if(u){c=l(u,this,e,i,r,s,n,a,o,h)}if(!c||c.verts.length===0){console.warn("Mesh.addVerticesFromObj data empty:",t)}return this},sortByDepth:function(t,e){return t.depth-e.depth},depthSort:function(){v(this.faces,this.sortByDepth);return this},addVertex:function(t,e,i,r,s,n,a){var o=new g(t,e,i,r,s,n,a);this.vertices.push(o);return o},addFace:function(t,e,i){var r=new a(t,e,i);this.faces.push(r);this.dirtyCache[9]=-1;return r},addVertices:function(t,e,i,r,s,n,a){var o=h(t,e,i,r,s,n,a);if(o){this.faces=this.faces.concat(o.faces);this.vertices=this.vertices.concat(o.vertices)}else{console.warn("Mesh.addVertices data empty or invalid")}this.dirtyCache[9]=-1;return this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(t){return this.faces[t]},hasFaceAt:function(t,e,i){if(i===void 0){i=this.scene.sys.cameras.main}var r=u(this,i).calc;var s=this.faces;for(var n=0;n<s.length;n++){var a=s[n];if(a.contains(t,e,r)){return true}}return false},getFaceAt:function(t,e,i){if(i===void 0){i=this.scene.sys.cameras.main}var r=u(this,i).calc;var s=this.faces;var n=[];for(var a=0;a<s.length;a++){var o=s[a];if(o.contains(t,e,r)){n.push(o)}}return v(n,this.sortByDepth)},setDebug:function(t,e){this.debugGraphic=t;if(!t&&!e){this.debugCallback=null}else if(!e){this.debugCallback=this.renderDebug}else{this.debugCallback=e}return this},isDirty:function(){var t=this.modelPosition;var e=this.modelRotation;var i=this.modelScale;var r=this.dirtyCache;var s=t.x;var n=t.y;var a=t.z;var o=e.x;var l=e.y;var h=e.z;var u=i.x;var c=i.y;var f=i.z;var d=this.getFaceCount();var v=r[0];var p=r[1];var g=r[2];var m=r[3];var y=r[4];var x=r[5];var b=r[6];var T=r[7];var w=r[8];var E=r[9];r[0]=s;r[1]=n;r[2]=a;r[3]=o;r[4]=l;r[5]=h;r[6]=u;r[7]=c;r[8]=f;r[9]=d;return v!==s||p!==n||g!==a||m!==o||y!==l||x!==h||b!==u||T!==c||w!==f||E!==d},preUpdate:function(){this.totalRendered=this.totalFrame;this.totalFrame=0;var t=this.dirtyCache;if(!this.ignoreDirtyCache&&!t[10]&&!this.isDirty()){return}var e=this.width;var i=this.height;var r=this.viewMatrix;var s=this.viewPosition;if(t[10]){r.identity();r.translate(s);r.invert();t[10]=0}var n=this.transformMatrix;n.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);var a=s.z;var o=this.faces;for(var l=0;l<o.length;l++){o[l].transformCoordinatesLocal(n,e,i,a)}this.depthSort()},renderDebug:function(t,e){var i=t.debugGraphic;for(var r=0;r<e.length;r++){var s=e[r];var n=s.vertex1.tx;var a=s.vertex1.ty;var o=s.vertex2.tx;var l=s.vertex2.ty;var h=s.vertex3.tx;var u=s.vertex3.ty;i.strokeTriangle(n,a,o,l,h,u)}},preDestroy:function(){this.clear();this.debugCallback=null;this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(t){if(t===void 0){t={}}var e=function(t,e,i){var r=this.faces;for(var s=0;s<r.length;s++){var n=r[s];if(n.contains(e,i)){return true}}return false}.bind(this);this.scene.sys.input.enable(this,t,e);return this},setTint:function(t){if(t===void 0){t=16777215}var e=this.vertices;for(var i=0;i<e.length;i++){e[i].color=t}return this},uvScroll:function(t,e){var i=this.faces;for(var r=0;r<i.length;r++){i[r].scrollUV(t,e)}return this},uvScale:function(t,e){var i=this.faces;for(var r=0;r<i.length;r++){i[r].scaleUV(t,e)}return this},tint:{set:function(t){this.setTint(t)}},rotateX:{get:function(){return d(this.modelRotation.x)},set:function(t){this.modelRotation.x=n(t)}},rotateY:{get:function(){return d(this.modelRotation.y)},set:function(t){this.modelRotation.y=n(t)}},rotateZ:{get:function(){return d(this.modelRotation.z)},set:function(t){this.modelRotation.z=n(t)}}});t.exports=m},36488:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MeshCanvasRenderer=function(){};t.exports=MeshCanvasRenderer},20527:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(35154);var o=i(4703);s.register("mesh",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=n(t,"frame",null);var l=a(t,"vertices",[]);var h=a(t,"uvs",[]);var u=a(t,"indicies",[]);var c=a(t,"containsZ",false);var f=a(t,"normals",[]);var d=a(t,"colors",16777215);var v=a(t,"alphas",1);var p=new o(this.scene,0,0,i,s,l,h,u,c,f,d,v);if(e!==void 0){t.add=e}r(this.scene,p,t);return p}))},9225:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(4703);var s=i(39429);{s.register("mesh",(function(t,e,i,s,n,a,o,l,h,u,c){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o,l,h,u,c))}))}},29807:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(48833)}{n=i(36488)}t.exports={renderWebGL:s,renderCanvas:n}},48833:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var MeshWebGLRenderer=function(t,e,i,s){var n=e.faces;var a=n.length;if(a===0){return}i.addToRenderList(e);var o=t.pipelines.set(e.pipeline,e);var l=r(e,i,s).calc;t.pipelines.preBatch(e);var h=o.setGameObject(e);var u=o.vertexViewF32;var c=o.vertexViewU32;var f=o.vertexCount*o.currentShader.vertexComponentCount-1;var d=e.tintFill;var v=[];var p=e.debugCallback;var g=l.a;var m=l.b;var y=l.c;var x=l.d;var b=l.e;var T=l.f;var w=e.viewPosition.z;var E=e.hideCCW;var S=i.roundPixels;var A=i.alpha*e.alpha;var C=0;for(var O=0;O<a;O++){var P=n[O];if(!P.isInView(i,E,w,A,g,m,y,x,b,T,S)){continue}if(o.shouldFlush(3)){o.flush();h=o.setGameObject(e);f=o.vertexCount*o.currentShader.vertexComponentCount-1}f=P.load(u,c,f,h,d);C++;o.vertexCount+=3;o.currentBatch.count=o.vertexCount-o.currentBatch.start;if(p){v.push(P)}}e.totalFrame+=C;if(p){p.call(e,e,v)}t.pipelines.postBatch(e)};t.exports=MeshWebGLRenderer},28103:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(78023);var o=i(39318);var l=new r({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Transform,s.Visible,a],initialize:function NineSlice2(t,e,i,r,s,a,l,h,u,c,f){n.call(this,t,"NineSlice");this._width;this._height;this._originX=.5;this._originY=.5;this._sizeComponent=true;this.vertices=[];this.leftWidth;this.rightWidth;this.topHeight;this.bottomHeight;this.tint=16777215;this.tintFill=false;var d=t.textures.getFrame(r,s);this.is3Slice=!c&&!f;if(d&&d.scale9){this.is3Slice=d.is3Slice}var v=this.is3Slice?18:54;for(var p=0;p<v;p++){this.vertices.push(new o)}this.setPosition(e,i);this.setTexture(r,s);this.setSlices(a,l,h,u,c,f,false);this.updateDisplayOrigin();this.initPipeline();this.initPostPipeline()},setSlices:function(t,e,i,r,s,n,a){if(i===void 0){i=10}if(r===void 0){r=10}if(s===void 0){s=0}if(n===void 0){n=0}if(a===void 0){a=false}var o=this.frame;var l=false;if(this.is3Slice&&a&&s!==0&&n!==0){l=true}if(l){console.warn("Cannot change 9 slice to 3 slice")}else{if(o&&o.scale9&&!a){var h=o.data.scale9Borders;var u=h.x;var c=h.y;i=u;r=o.width-h.w-u;s=c;n=o.height-h.h-c;if(t===void 0){t=o.width}if(e===void 0){e=o.height}}else{if(t===void 0){t=256}if(e===void 0){e=256}}this._width=t;this._height=e;this.leftWidth=i;this.rightWidth=r;this.topHeight=s;this.bottomHeight=n;if(this.is3Slice){e=o.height;this._height=e;this.topHeight=e;this.bottomHeight=0}this.updateVertices();this.updateUVs()}return this},updateUVs:function(){var t=this.leftWidth;var e=this.rightWidth;var i=this.topHeight;var r=this.bottomHeight;var s=this.frame.width;var n=this.frame.height;this.updateQuadUVs(0,0,0,t/s,i/n);this.updateQuadUVs(6,t/s,0,1-e/s,i/n);this.updateQuadUVs(12,1-e/s,0,1,i/n);if(!this.is3Slice){this.updateQuadUVs(18,0,i/n,t/s,1-r/n);this.updateQuadUVs(24,t/s,i/n,1-e/s,1-r/n);this.updateQuadUVs(30,1-e/s,i/n,1,1-r/n);this.updateQuadUVs(36,0,1-r/n,t/s,1);this.updateQuadUVs(42,t/s,1-r/n,1-e/s,1);this.updateQuadUVs(48,1-e/s,1-r/n,1,1)}},updateVertices:function(){var t=this.leftWidth;var e=this.rightWidth;var i=this.topHeight;var r=this.bottomHeight;var s=this.width;var n=this.height;this.updateQuad(0,-.5,.5,-.5+t/s,.5-i/n);this.updateQuad(6,-.5+t/s,.5,.5-e/s,.5-i/n);this.updateQuad(12,.5-e/s,.5,.5,.5-i/n);if(!this.is3Slice){this.updateQuad(18,-.5,.5-i/n,-.5+t/s,-.5+r/n);this.updateQuad(24,-.5+t/s,.5-i/n,.5-e/s,-.5+r/n);this.updateQuad(30,.5-e/s,.5-i/n,.5,-.5+r/n);this.updateQuad(36,-.5,-.5+r/n,-.5+t/s,-.5);this.updateQuad(42,-.5+t/s,-.5+r/n,.5-e/s,-.5);this.updateQuad(48,.5-e/s,-.5+r/n,.5,-.5)}},updateQuad:function(t,e,i,r,s){var n=this.width;var a=this.height;var o=this.originX;var l=this.originY;var h=this.vertices;h[t+0].resize(e,i,n,a,o,l);h[t+1].resize(e,s,n,a,o,l);h[t+2].resize(r,i,n,a,o,l);h[t+3].resize(e,s,n,a,o,l);h[t+4].resize(r,s,n,a,o,l);h[t+5].resize(r,i,n,a,o,l)},updateQuadUVs:function(t,e,i,r,s){var n=this.vertices;var a=this.frame;var o=a.u0;var l=a.v0;var h=a.u1;var u=a.v1;if(o!==0||h!==1){var c=h-o;e=o+e*c;r=o+r*c}if(l!==0||u!==1){var f=u-l;i=l+i*f;s=l+s*f}n[t+0].setUVs(e,i);n[t+1].setUVs(e,s);n[t+2].setUVs(r,i);n[t+3].setUVs(e,s);n[t+4].setUVs(r,s);n[t+5].setUVs(r,i)},clearTint:function(){this.setTint(16777215);return this},setTint:function(t){if(t===void 0){t=16777215}this.tint=t;this.tintFill=false;return this},setTintFill:function(t){this.setTint(t);this.tintFill=true;return this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(t){this._width=Math.max(t,this.leftWidth+this.rightWidth);this.updateVertices()}},height:{get:function(){return this._height},set:function(t){if(!this.is3Slice){this._height=Math.max(t,this.topHeight+this.bottomHeight);this.updateVertices()}}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){this.width=t;this.height=e;this.updateDisplayOrigin();var i=this.input;if(i&&!i.customHitArea){i.hitArea.width=this.width;i.hitArea.height=this.height}return this},setDisplaySize:function(t,e){this.displayWidth=t;this.displayHeight=e;return this},originX:{get:function(){return this._originX},set:function(t){this._originX=t;this.updateVertices()}},originY:{get:function(){return this._originY},set:function(t){this._originY=t;this.updateVertices()}},setOrigin:function(t,e){if(t===void 0){t=.5}if(e===void 0){e=t}this._originX=t;this._originY=e;this.updateVertices();return this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var t=this.frame.height;this._height=t;this.topHeight=t;this.bottomHeight=0}this.updateUVs();return this},preDestroy:function(){this.vertices=[]}});t.exports=l},28279:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(35154);var o=i(28103);s.register("nineslice",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=n(t,"frame",null);var l=a(t,"width",256);var h=a(t,"height",256);var u=a(t,"leftWidth",10);var c=a(t,"rightWidth",10);var f=a(t,"topHeight",0);var d=a(t,"bottomHeight",0);var v=new o(this.scene,0,0,i,s,l,h,u,c,f,d);if(e!==void 0){t.add=e}r(this.scene,v,t);return v}))},47521:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(28103);var s=i(39429);{s.register("nineslice",(function(t,e,i,s,n,a,o,l,h,u){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o,l,h,u))}))}},78023:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(52230)}t.exports={renderWebGL:s,renderCanvas:n}},52230:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var NineSliceWebGLRenderer=function(t,e,i,n){var a=e.vertices;var o=a.length;if(o===0){return}i.addToRenderList(e);var l=t.pipelines.set(e.pipeline,e);var h=r(e,i,n,false).calc;t.pipelines.preBatch(e);var u=l.setGameObject(e);var c=l.vertexViewF32;var f=l.vertexViewU32;var d=l.vertexCount*l.currentShader.vertexComponentCount-1;var v=i.roundPixels;var p=e.tintFill;var g=i.alpha*e.alpha;var m=s.getTintAppendFloatAlpha(e.tint,g);var y=l.vertexAvailable();var x=-1;if(y<o){x=y}for(var b=0;b<o;b++){var T=a[b];if(b===x){l.flush();u=l.setGameObject(e);d=0}c[++d]=h.getXRound(T.vx,T.vy,v);c[++d]=h.getYRound(T.vx,T.vy,v);c[++d]=T.u;c[++d]=T.v;c[++d]=u;c[++d]=p;f[++d]=m;l.vertexCount++;l.currentBatch.count=l.vertexCount-l.currentBatch.start}t.pipelines.postBatch(e)};t.exports=NineSliceWebGLRenderer},76472:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(44777);var n=i(37589);var a=i(6113);var o=i(91389);var l=i(90664);var h=new r({Extends:s,initialize:function EmitterColorOp2(t){s.call(this,t,null,false);this.active=false;this.easeName="Linear";this.r=[];this.g=[];this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var t=this.propertyValue;var e=t;var i=this.defaultEmit;var r=this.defaultUpdate;if(this.method===9){this.start=t[0];this.ease=a("Linear");this.interpolation=o("linear");i=this.easedValueEmit;r=this.easeValueUpdate;e=t[0];this.active=true;for(var s=0;s<t.length;s++){var n=l(t[s]);this.r.push(n.r);this.g.push(n.g);this.b.push(n.b)}}this.onEmit=i;this.onUpdate=r;this.current=e;return this},setEase:function(t){this.easeName=t;this.ease=a(t)},easedValueEmit:function(){this.current=this.start;return this.start},easeValueUpdate:function(t,e,i){var r=this.ease(i);var s=this.interpolation(this.r,r);var a=this.interpolation(this.g,r);var o=this.interpolation(this.b,r);var l=n(s,a,o);this.current=l;return l}});t.exports=h},44777:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30976);var s=i(45319);var n=i(83419);var a=i(99472);var o=i(6113);var l=i(95540);var h=i(91389);var u=i(77720);var c=i(15994);var f=new n({initialize:function EmitterOp2(t,e,i){if(i===void 0){i=false}this.propertyKey=t;this.propertyValue=e;this.defaultValue=e;this.steps=0;this.counter=0;this.yoyo=false;this.direction=0;this.start=0;this.current=0;this.end=0;this.ease=null;this.interpolation=null;this.emitOnly=i;this.onEmit=this.defaultEmit;this.onUpdate=this.defaultUpdate;this.active=true;this.method=0;this._onEmit;this._onUpdate},loadConfig:function(t,e){if(t===void 0){t={}}if(e){this.propertyKey=e}this.propertyValue=l(t,this.propertyKey,this.defaultValue);this.method=this.getMethod();this.setMethods();if(this.emitOnly){this.onUpdate=this.defaultUpdate}},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(t){var e;switch(this.method){case 1:case 3:case 8:e=t;break;case 2:if(this.propertyValue.indexOf(t)>=0){e=t}break;case 4:var i=(this.end-this.start)/this.steps;e=u(t,i);this.counter=e;break;case 5:case 6:case 7:e=s(t,this.start,this.end);break;case 9:e=this.start[0];break}this.current=e;return this},getMethod:function(){var t=this.propertyValue;if(t===null){return 0}var e=typeof t;if(e==="number"){return 1}else if(Array.isArray(t)){return 2}else if(e==="function"){return 3}else if(e==="object"){if(this.hasBoth(t,"start","end")){if(this.has(t,"steps")){return 4}else{return 5}}else if(this.hasBoth(t,"min","max")){return 6}else if(this.has(t,"random")){return 7}else if(this.hasEither(t,"onEmit","onUpdate")){return 8}else if(this.hasEither(t,"values","interpolation")){return 9}}return 0},setMethods:function(){var t=this.propertyValue;var e=t;var i=this.defaultEmit;var r=this.defaultUpdate;switch(this.method){case 1:i=this.staticValueEmit;break;case 2:i=this.randomStaticValueEmit;e=t[0];break;case 3:this._onEmit=t;i=this.proxyEmit;e=this.defaultValue;break;case 4:this.start=t.start;this.end=t.end;this.steps=t.steps;this.counter=this.start;this.yoyo=this.has(t,"yoyo")?t.yoyo:false;this.direction=0;i=this.steppedEmit;e=this.start;break;case 5:this.start=t.start;this.end=t.end;var s=this.has(t,"ease")?t.ease:"Linear";this.ease=o(s,t.easeParams);i=this.has(t,"random")&&t.random?this.randomRangedValueEmit:this.easedValueEmit;r=this.easeValueUpdate;e=this.start;break;case 6:this.start=t.min;this.end=t.max;i=this.has(t,"int")&&t.int?this.randomRangedIntEmit:this.randomRangedValueEmit;e=this.start;break;case 7:var n=t.random;if(Array.isArray(n)){this.start=n[0];this.end=n[1]}i=this.randomRangedIntEmit;e=this.start;break;case 8:this._onEmit=this.has(t,"onEmit")?t.onEmit:this.defaultEmit;this._onUpdate=this.has(t,"onUpdate")?t.onUpdate:this.defaultUpdate;i=this.proxyEmit;r=this.proxyUpdate;e=this.defaultValue;break;case 9:this.start=t.values;var a=this.has(t,"ease")?t.ease:"Linear";this.ease=o(a,t.easeParams);this.interpolation=h(t.interpolation);i=this.easedValueEmit;r=this.easeValueUpdate;e=this.start[0];break}this.onEmit=i;this.onUpdate=r;this.current=e;return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(t,e,i,r){return r},proxyEmit:function(t,e,i){var r=this._onEmit(t,e,i);this.current=r;return r},proxyUpdate:function(t,e,i,r){var s=this._onUpdate(t,e,i,r);this.current=s;return s},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);this.current=this.propertyValue[t];return this.current},randomRangedValueEmit:function(t,e){var i=a(this.start,this.end);if(t&&t.data[e]){t.data[e].min=i;t.data[e].max=this.end}this.current=i;return i},randomRangedIntEmit:function(t,e){var i=r(this.start,this.end);if(t&&t.data[e]){t.data[e].min=i;t.data[e].max=this.end}this.current=i;return i},steppedEmit:function(){var t=this.counter;var e=t;var i=(this.end-this.start)/this.steps;if(this.yoyo){var r;if(this.direction===0){e+=i;if(e>=this.end){r=e-this.end;e=this.end-r;this.direction=1}}else{e-=i;if(e<=this.start){r=this.start-e;e=this.start+r;this.direction=0}}this.counter=e}else{this.counter=c(e+i,this.start,this.end)}this.current=t;return t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start;i.max=this.end}this.current=this.start;return this.start},easeValueUpdate:function(t,e,i){var r=t.data[e];var s;var n=this.ease(i);if(this.interpolation){s=this.interpolation(this.start,n)}else{s=(r.max-r.min)*n+r.min}this.current=s;return s},destroy:function(){this.propertyValue=null;this.defaultValue=null;this.ease=null;this.interpolation=null;this._onEmit=null;this._onUpdate=null}});t.exports=f},24502:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(20286);var a=new r({Extends:n,initialize:function GravityWell2(t,e,i,r,a){if(typeof t==="object"){var o=t;t=s(o,"x",0);e=s(o,"y",0);i=s(o,"power",0);r=s(o,"epsilon",100);a=s(o,"gravity",50)}else{if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=100}if(a===void 0){a=50}}n.call(this,t,e,true);this._gravity=a;this._power=i*a;this._epsilon=r*r},update:function(t,e){var i=this.x-t.x;var r=this.y-t.y;var s=i*i+r*r;if(s===0){return}var n=Math.sqrt(s);if(s<this._epsilon){s=this._epsilon}var a=this._power*e/(s*n)*100;t.velocityX+=i*a;t.velocityY+=r*a},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t;this.power=e}}});t.exports=a},56480:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(9674);var s=i(45319);var n=i(83419);var a=i(39506);var o=i(87841);var l=i(11520);var h=i(26099);var u=new n({initialize:function Particle2(t){this.emitter=t;this.texture=null;this.frame=null;this.x=0;this.y=0;this.worldPosition=new h;this.velocityX=0;this.velocityY=0;this.accelerationX=0;this.accelerationY=0;this.maxVelocityX=1e4;this.maxVelocityY=1e4;this.bounce=0;this.scaleX=1;this.scaleY=1;this.alpha=1;this.angle=0;this.rotation=0;this.tint=16777215;this.life=1e3;this.lifeCurrent=1e3;this.delayCurrent=0;this.holdCurrent=0;this.lifeT=0;this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}};this.isCropped=false;this.scene=t.scene;this.anims=null;if(this.emitter.anims.length>0){this.anims=new r(this)}this.bounds=new o},emit:function(t,e,i,r,s,n){return this.emitter.emit(t,e,i,r,s,n)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.x=t;this.y=e},fire:function(t,e){var i=this.emitter;var r=i.ops;var s=i.getAnim();if(s){this.anims.play(s)}else{this.frame=i.getFrame();this.texture=this.frame.texture}if(!this.frame){throw new Error("Particle has no texture frame")}i.getEmitZone(this);if(t===void 0){this.x+=r.x.onEmit(this,"x")}else if(r.x.steps>0){this.x+=t+r.x.onEmit(this,"x")}else{this.x+=t}if(e===void 0){this.y+=r.y.onEmit(this,"y")}else if(r.y.steps>0){this.y+=e+r.y.onEmit(this,"y")}else{this.y+=e}this.life=r.lifespan.onEmit(this,"lifespan");this.lifeCurrent=this.life;this.lifeT=0;this.delayCurrent=r.delay.onEmit(this,"delay");this.holdCurrent=r.hold.onEmit(this,"hold");this.scaleX=r.scaleX.onEmit(this,"scaleX");this.scaleY=r.scaleY.active?r.scaleY.onEmit(this,"scaleY"):this.scaleX;this.angle=r.rotate.onEmit(this,"rotate");this.rotation=a(this.angle);i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);if(this.delayCurrent===0&&i.getDeathZone(this)){this.lifeCurrent=0;return false}var n=r.speedX.onEmit(this,"speedX");var o=r.speedY.active?r.speedY.onEmit(this,"speedY"):n;if(i.radial){var l=a(r.angle.onEmit(this,"angle"));this.velocityX=Math.cos(l)*Math.abs(n);this.velocityY=Math.sin(l)*Math.abs(o)}else if(i.moveTo){var h=r.moveToX.onEmit(this,"moveToX");var u=r.moveToY.onEmit(this,"moveToY");var c=this.life/1e3;this.velocityX=(h-this.x)/c;this.velocityY=(u-this.y)/c}else{this.velocityX=n;this.velocityY=o}if(i.acceleration){this.accelerationX=r.accelerationX.onEmit(this,"accelerationX");this.accelerationY=r.accelerationY.onEmit(this,"accelerationY")}this.maxVelocityX=r.maxVelocityX.onEmit(this,"maxVelocityX");this.maxVelocityY=r.maxVelocityY.onEmit(this,"maxVelocityY");this.bounce=r.bounce.onEmit(this,"bounce");this.alpha=r.alpha.onEmit(this,"alpha");if(r.color.active){this.tint=r.color.onEmit(this,"tint")}else{this.tint=r.tint.onEmit(this,"tint")}return true},update:function(t,e,i){if(this.lifeCurrent<=0){if(this.holdCurrent>0){this.holdCurrent-=t;return this.holdCurrent<=0}else{return true}}if(this.delayCurrent>0){this.delayCurrent-=t;return false}if(this.anims){this.anims.update(0,t)}var r=this.emitter;var n=r.ops;var o=1-this.lifeCurrent/this.life;this.lifeT=o;this.x=n.x.onUpdate(this,"x",o,this.x);this.y=n.y.onUpdate(this,"y",o,this.y);if(r.moveTo){var l=n.moveToX.onUpdate(this,"moveToX",o,r.moveToX);var h=n.moveToY.onUpdate(this,"moveToY",o,r.moveToY);var u=this.lifeCurrent/1e3;this.velocityX=(l-this.x)/u;this.velocityY=(h-this.y)/u}this.computeVelocity(r,t,e,i,o);this.scaleX=n.scaleX.onUpdate(this,"scaleX",o,this.scaleX);if(n.scaleY.active){this.scaleY=n.scaleY.onUpdate(this,"scaleY",o,this.scaleY)}else{this.scaleY=this.scaleX}this.angle=n.rotate.onUpdate(this,"rotate",o,this.angle);this.rotation=a(this.angle);if(r.getDeathZone(this)){this.lifeCurrent=0;return true}this.alpha=s(n.alpha.onUpdate(this,"alpha",o,this.alpha),0,1);if(n.color.active){this.tint=n.color.onUpdate(this,"color",o,this.tint)}else{this.tint=n.tint.onUpdate(this,"tint",o,this.tint)}this.lifeCurrent-=t;return this.lifeCurrent<=0&&this.holdCurrent<=0},computeVelocity:function(t,e,i,r,n){var a=t.ops;var o=this.velocityX;var l=this.velocityY;var h=a.accelerationX.onUpdate(this,"accelerationX",n,this.accelerationX);var u=a.accelerationY.onUpdate(this,"accelerationY",n,this.accelerationY);var c=a.maxVelocityX.onUpdate(this,"maxVelocityX",n,this.maxVelocityX);var f=a.maxVelocityY.onUpdate(this,"maxVelocityY",n,this.maxVelocityY);this.bounce=a.bounce.onUpdate(this,"bounce",n,this.bounce);o+=t.gravityX*i+h*i;l+=t.gravityY*i+u*i;o=s(o,-c,c);l=s(l,-f,f);this.velocityX=o;this.velocityY=l;this.x+=o*i;this.y+=l*i;t.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var d=0;d<r.length;d++){var v=r[d];if(v.active){v.update(this,e,i,n)}}},setSizeToFrame:function(){},getBounds:function(t){if(t===void 0){t=this.emitter.getWorldTransformMatrix()}var e=Math.abs(t.scaleX)*this.scaleX;var i=Math.abs(t.scaleY)*this.scaleY;var r=this.x;var s=this.y;var n=this.rotation;var a=this.frame.width*e/2;var o=this.frame.height*i/2;var u=this.bounds;var c=new h(r-a,s-o);var f=new h(r+a,s-o);var d=new h(r-a,s+o);var v=new h(r+a,s+o);if(n!==0){l(c,r,s,n);l(f,r,s,n);l(d,r,s,n);l(v,r,s,n)}t.transformPoint(c.x,c.y,c);t.transformPoint(f.x,f.y,f);t.transformPoint(d.x,d.y,d);t.transformPoint(v.x,v.y,v);u.x=Math.min(c.x,f.x,d.x,v.x);u.y=Math.min(c.y,f.y,d.y,v.y);u.width=Math.max(c.x,f.x,d.x,v.x)-u.x;u.height=Math.max(c.y,f.y,d.y,v.y)-u.y;return u},destroy:function(){if(this.anims){this.anims.destroy()}this.anims=null;this.emitter=null;this.texture=null;this.frame=null;this.scene=null}});t.exports=u},69601:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(20286);var n=i(87841);var a=new r({Extends:s,initialize:function ParticleBounds2(t,e,i,r,a,o,l,h){if(a===void 0){a=true}if(o===void 0){o=true}if(l===void 0){l=true}if(h===void 0){h=true}s.call(this,t,e,true);this.bounds=new n(t,e,i,r);this.collideLeft=a;this.collideRight=o;this.collideTop=l;this.collideBottom=h},update:function(t){var e=this.bounds;var i=-t.bounce;var r=t.worldPosition;if(r.x<e.x&&this.collideLeft){t.x+=e.x-r.x;t.velocityX*=i}else if(r.x>e.right&&this.collideRight){t.x-=r.x-e.right;t.velocityX*=i}if(r.y<e.y&&this.collideTop){t.y+=e.y-r.y;t.velocityY*=i}else if(r.y>e.bottom&&this.collideBottom){t.y-=r.y-e.bottom;t.velocityY*=i}}});t.exports=a},31600:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(53774);var a=i(43459);var o=i(26388);var l=i(19909);var h=i(76472);var u=i(44777);var c=i(20696);var f=i(95643);var d=i(95540);var v=i(26546);var p=i(24502);var g=i(1985);var m=i(97022);var y=i(86091);var x=i(73162);var b=i(20074);var T=i(269);var w=i(56480);var E=i(69601);var S=i(68875);var A=i(87841);var C=i(59996);var O=i(72905);var P=i(90668);var I=i(19186);var R=i(61340);var M=i(26099);var L=i(15994);var D=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"];var k=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"];var F=new r({Extends:f,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Transform,s.Visible,P],initialize:function ParticleEmitter2(t,e,i,r,s){f.call(this,t,"ParticleEmitter");this.particleClass=w;this.config=null;this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},true),bounce:new u("bounce",0),color:new h("color"),delay:new u("delay",0,true),hold:new u("hold",0,true),lifespan:new u("lifespan",1e3,true),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,true),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,true),speedY:new u("speedY",0,true),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)};this.radial=true;this.gravityX=0;this.gravityY=0;this.acceleration=false;this.moveTo=false;this.emitCallback=null;this.emitCallbackScope=null;this.deathCallback=null;this.deathCallbackScope=null;this.maxParticles=0;this.maxAliveParticles=0;this.stopAfter=0;this.duration=0;this.frequency=0;this.emitting=true;this.particleBringToTop=true;this.timeScale=1;this.emitZones=[];this.deathZones=[];this.viewBounds=null;this.follow=null;this.followOffset=new M;this.trackVisible=false;this.frames=[];this.randomFrame=true;this.frameQuantity=1;this.anims=[];this.randomAnim=true;this.animQuantity=1;this.dead=[];this.alive=[];this.counters=new Float32Array(10);this.skipping=false;this.worldMatrix=new R;this.sortProperty="";this.sortOrderAsc=true;this.sortCallback=this.depthSortCallback;this.processors=new x(this);this.tintFill=false;this.initPipeline();this.initPostPipeline();this.setPosition(e,i);this.setTexture(r);if(s){this.setConfig(s)}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(t){if(!t){return this}this.config=t;var e=0;var i="";var r=this.ops;for(e=0;e<k.length;e++){i=k[e];r[i].loadConfig(t)}for(e=0;e<D.length;e++){i=D[e];if(m(t,i)){this[i]=d(t,i)}}this.acceleration=this.accelerationX!==0||this.accelerationY!==0;this.moveTo=this.moveToX!==0&&this.moveToY!==0;if(m(t,"speed")){r.speedX.loadConfig(t,"speed");r.speedY.active=false}if(g(t,["speedX","speedY"])||this.moveTo){this.radial=false}if(m(t,"scale")){r.scaleX.loadConfig(t,"scale");r.scaleY.active=false}if(m(t,"callbackScope")){var s=d(t,"callbackScope",null);this.emitCallbackScope=s;this.deathCallbackScope=s}if(m(t,"emitZone")){this.addEmitZone(t.emitZone)}if(m(t,"deathZone")){this.addDeathZone(t.deathZone)}if(m(t,"bounds")){var n=this.addParticleBounds(t.bounds);n.collideLeft=d(t,"collideLeft",true);n.collideRight=d(t,"collideRight",true);n.collideTop=d(t,"collideTop",true);n.collideBottom=d(t,"collideBottom",true)}if(m(t,"followOffset")){this.followOffset.setFromObject(d(t,"followOffset",0))}if(m(t,"texture")){this.setTexture(t.texture)}if(m(t,"frame")){this.setEmitterFrame(t.frame)}else if(m(t,"anim")){this.setAnim(t.anim)}if(m(t,"reserve")){this.reserve(t.reserve)}if(m(t,"advance")){this.fastForward(t.advance)}this.resetCounters(this.frequency,this.emitting);if(this.emitting){this.emit(c.START,this)}return this},updateConfig:function(t){if(t){if(!this.config){this.setConfig(t)}else{this.setConfig(T(this.config,t))}}return this},toJSON:function(){var t=n(this);var e=0;var i="";for(e=0;e<D.length;e++){i=D[e];t[i]=this[i]}var r=this.ops;for(e=0;e<k.length;e++){i=k[e];if(r[i]){t[i]=r[i].toJSON()}}if(!r.speedY.active){delete t.speedX;t.speed=r.speedX.toJSON()}if(this.scaleX===this.scaleY){delete t.scaleX;delete t.scaleY;t.scale=r.scaleX.toJSON()}return t},resetCounters:function(t,e){var i=this.counters;i.fill(0);i[0]=t;if(e){i[5]=1}},startFollow:function(t,e,i,r){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=false}this.follow=t;this.followOffset.set(e,i);this.trackVisible=r;return this},stopFollow:function(){this.follow=null;this.followOffset.set(0,0);this.trackVisible=false;return this},getFrame:function(){var t=this.frames;var e=t.length;var i;if(e===1){i=t[0]}else if(this.randomFrame){i=v(t)}else{i=t[this.currentFrame];this.frameCounter++;if(this.frameCounter===this.frameQuantity){this.frameCounter=0;this.currentFrame++;if(this.currentFrame===e){this.currentFrame=0}}}return this.texture.get(i)},setEmitterFrame:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=1}this.randomFrame=e;this.frameQuantity=i;this.currentFrame=0;var r=typeof t;this.frames.length=0;if(Array.isArray(t)){this.frames=this.frames.concat(t)}else if(r==="string"||r==="number"){this.frames.push(t)}else if(r==="object"){var s=t;t=d(s,"frames",null);if(t){this.frames=this.frames.concat(t)}var n=d(s,"cycle",false);this.randomFrame=n?false:true;this.frameQuantity=d(s,"quantity",i)}if(this.frames.length===1){this.frameQuantity=1;this.randomFrame=false}return this},getAnim:function(){var t=this.anims;var e=t.length;if(e===0){return null}else if(e===1){return t[0]}else if(this.randomAnim){return v(t)}else{var i=t[this.currentAnim];this.animCounter++;if(this.animCounter>=this.animQuantity){this.animCounter=0;this.currentAnim=L(this.currentAnim+1,0,e)}return i}},setAnim:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=1}this.randomAnim=e;this.animQuantity=i;this.currentAnim=0;var r=typeof t;this.anims.length=0;if(Array.isArray(t)){this.anims=this.anims.concat(t)}else if(r==="string"){this.anims.push(t)}else if(r==="object"){var s=t;t=d(s,"anims",null);if(t){this.anims=this.anims.concat(t)}var n=d(s,"cycle",false);this.randomAnim=n?false:true;this.animQuantity=d(s,"quantity",i)}if(this.anims.length===1){this.animQuantity=1;this.randomAnim=false}return this},setRadial:function(t){if(t===void 0){t=true}this.radial=t;return this},addParticleBounds:function(t,e,i,r,s,n,a,o){if(typeof t==="object"){var l=t;t=l.x;e=l.y;i=m(l,"w")?l.w:l.width;r=m(l,"h")?l.h:l.height}return this.addParticleProcessor(new E(t,e,i,r,s,n,a,o))},setParticleSpeed:function(t,e){if(e===void 0){e=t}this.ops.speedX.onChange(t);if(t===e){this.ops.speedY.active=false}else{this.ops.speedY.onChange(e)}this.radial=true;return this},setParticleScale:function(t,e){if(t===void 0){t=1}if(e===void 0){e=t}this.ops.scaleX.onChange(t);this.ops.scaleY.onChange(e);return this},setParticleGravity:function(t,e){this.gravityX=t;this.gravityY=e;return this},setParticleAlpha:function(t){this.ops.alpha.onChange(t);return this},setParticleTint:function(t){this.ops.tint.onChange(t);return this},setEmitterAngle:function(t){this.ops.angle.onChange(t);return this},setParticleLifespan:function(t){this.ops.lifespan.onChange(t);return this},setQuantity:function(t){this.quantity=t;return this},setFrequency:function(t,e){this.frequency=t;this.flowCounter=t>0?t:0;if(e){this.quantity=e}return this},addDeathZone:function(t){if(!Array.isArray(t)){t=[t]}var e;var i=[];for(var r=0;r<t.length;r++){e=t[r];if(e instanceof o){i.push(e)}else if(typeof e.contains==="function"){e=new o(e,true);i.push(e)}else{var s=d(e,"type","onEnter");var n=d(e,"source",null);if(n&&typeof n.contains==="function"){var a=s==="onEnter"?true:false;e=new o(n,a);i.push(e)}}}this.deathZones=this.deathZones.concat(i);return i},removeDeathZone:function(t){O(this.deathZones,t);return this},clearDeathZones:function(){this.deathZones.length=0;return this},addEmitZone:function(t){if(!Array.isArray(t)){t=[t]}var e;var i=[];for(var r=0;r<t.length;r++){e=t[r];if(e instanceof S||e instanceof l){i.push(e)}else{var s=d(e,"source",null);if(s){var n=d(e,"type","random");if(n==="random"&&typeof s.getRandomPoint==="function"){e=new S(s);i.push(e)}else if(n==="edge"&&typeof s.getPoints==="function"){var a=d(e,"quantity",1);var o=d(e,"stepRate",0);var h=d(e,"yoyo",false);var u=d(e,"seamless",true);var c=d(e,"total",-1);e=new l(s,a,o,h,u,c);i.push(e)}}}}this.emitZones=this.emitZones.concat(i);return i},removeEmitZone:function(t){O(this.emitZones,t);this.zoneIndex=0;return this},clearEmitZones:function(){this.emitZones.length=0;this.zoneIndex=0;return this},getEmitZone:function(t){var e=this.emitZones;var i=e.length;if(i===0){return}else{var r=e[this.zoneIndex];r.getPoint(t);if(r.total>-1){this.zoneTotal++;if(this.zoneTotal===r.total){this.zoneTotal=0;this.zoneIndex++;if(this.zoneIndex===i){this.zoneIndex=0}}}}},getDeathZone:function(t){var e=this.deathZones;for(var i=0;i<e.length;i++){var r=e[i];if(r.willKill(t)){this.emit(c.DEATH_ZONE,this,t,r);return true}}return false},setEmitZone:function(t){var e;if(isFinite(t)){e=t}else{e=this.emitZones.indexOf(t)}if(e>=0){this.zoneIndex=e}return this},addParticleProcessor:function(t){if(!this.processors.exists(t)){if(t.emitter){t.emitter.removeParticleProcessor(t)}this.processors.add(t);t.emitter=this}return t},removeParticleProcessor:function(t){if(this.processors.exists(t)){this.processors.remove(t,true);t.emitter=null}return t},getProcessors:function(){return this.processors.getAll("active",true)},createGravityWell:function(t){return this.addParticleProcessor(new p(t))},reserve:function(t){var e=this.dead;if(this.maxParticles>0){var i=this.getParticleCount();if(i+t>this.maxParticles){t=this.maxParticles-(i+t)}}for(var r=0;r<t;r++){e.push(new this.particleClass(this))}return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){if(this.maxParticles>0&&this.getParticleCount()>=this.maxParticles){return true}return this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(t,e){if(t===void 0){this.emitCallback=null;this.emitCallbackScope=null}else if(typeof t==="function"){this.emitCallback=t;if(e){this.emitCallbackScope=e}}return this},onParticleDeath:function(t,e){if(t===void 0){this.deathCallback=null;this.deathCallbackScope=null}else if(typeof t==="function"){this.deathCallback=t;if(e){this.deathCallbackScope=e}}return this},killAll:function(){var t=this.dead;var e=this.alive;while(e.length>0){t.push(e.pop())}return this},forEachAlive:function(t,e){var i=this.alive;var r=i.length;for(var s=0;s<r;s++){t.call(e,i[s],this)}return this},forEachDead:function(t,e){var i=this.dead;var r=i.length;for(var s=0;s<r;s++){t.call(e,i[s],this)}return this},start:function(t,e){if(t===void 0){t=0}if(!this.emitting){if(t>0){this.fastForward(t)}this.emitting=true;this.resetCounters(this.frequency,true);if(e!==void 0){this.duration=Math.abs(e)}this.emit(c.START,this)}return this},stop:function(t){if(t===void 0){t=false}if(this.emitting){this.emitting=false;if(t){this.killAll()}this.emit(c.STOP,this)}return this},pause:function(){this.active=false;return this},resume:function(){this.active=true;return this},setSortProperty:function(t,e){if(t===void 0){t=""}if(e===void 0){e=this.true}this.sortProperty=t;this.sortOrderAsc=e;this.sortCallback=this.depthSortCallback;return this},setSortCallback:function(t){if(this.sortProperty!==""){t=this.depthSortCallback}else{t=null}this.sortCallback=t;return this},depthSort:function(){I(this.alive,this.sortCallback.bind(this));return this},depthSortCallback:function(t,e){var i=this.sortProperty;if(this.sortOrderAsc){return t[i]-e[i]}else{return e[i]-t[i]}},flow:function(t,e,i){if(e===void 0){e=1}this.emitting=false;this.frequency=t;this.quantity=e;if(i!==void 0){this.stopAfter=i}return this.start()},explode:function(t,e,i){this.frequency=-1;this.resetCounters(-1,true);var r=this.emitParticle(t,e,i);this.emit(c.EXPLODE,this,r);return r},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(this.atLimit()){return}if(t===void 0){t=this.ops.quantity.onEmit()}var r=this.dead;var s=this.stopAfter;var n=this.follow?this.follow.x+this.followOffset.x:e;var a=this.follow?this.follow.y+this.followOffset.y:i;for(var o=0;o<t;o++){var l=r.pop();if(!l){l=new this.particleClass(this)}if(l.fire(n,a)){if(this.particleBringToTop){this.alive.push(l)}else{this.alive.unshift(l)}if(this.emitCallback){this.emitCallback.call(this.emitCallbackScope,l,this)}}else{this.dead.push(l)}if(s>0){this.stopCounter++;if(this.stopCounter>=s){break}}if(this.atLimit()){break}}return l},fastForward:function(t,e){if(e===void 0){e=1e3/60}var i=0;this.skipping=true;while(i<Math.abs(t)){this.preUpdate(0,e);i+=e}this.skipping=false;return this},preUpdate:function(t,e){e*=this.timeScale;var i=e/1e3;if(this.trackVisible){this.visible=this.follow.visible}this.getWorldTransformMatrix(this.worldMatrix);var r=this.getProcessors();var s=this.alive;var n=this.dead;var a=0;var o=[];var l=s.length;for(a=0;a<l;a++){var h=s[a];if(h.update(e,i,r)){o.push({index:a,particle:h})}}l=o.length;if(l>0){var u=this.deathCallback;var f=this.deathCallbackScope;for(a=l-1;a>=0;a--){var d=o[a];s.splice(d.index,1);n.push(d.particle);if(u){u.call(f,d.particle)}d.particle.setPosition()}}if(!this.emitting&&!this.skipping){if(this.completeFlag===1&&s.length===0){this.completeFlag=0;this.emit(c.COMPLETE,this)}return}if(this.frequency===0){this.emitParticle()}else if(this.frequency>0){this.flowCounter-=e;while(this.flowCounter<=0){this.emitParticle();this.flowCounter+=this.frequency}}if(!this.skipping){if(this.duration>0){this.elapsed+=e;if(this.elapsed>=this.duration){this.stop()}}if(this.stopAfter>0&&this.stopCounter>=this.stopAfter){this.stop()}}},overlap:function(t){var e=this.getWorldTransformMatrix();var i=this.alive;var r=i.length;var s=[];for(var n=0;n<r;n++){var a=i[n];if(C(t,a.getBounds(e))){s.push(a)}}return s},getBounds:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=1e3/60}if(r===void 0){r=new A}var s=this.getWorldTransformMatrix();var n;var o;var l=this.alive;var h=false;r.setTo(0,0,0,0);if(e>0){var u=0;this.skipping=true;while(u<Math.abs(e)){this.preUpdate(0,i);for(n=0;n<l.length;n++){o=l[n].getBounds(s);if(!h){h=true;a(o,r)}else{b(r,o)}}u+=i}this.skipping=false}else{for(n=0;n<l.length;n++){o=l[n].getBounds(s);if(!h){h=true;a(o,r)}else{b(r,o)}}}if(t>0){y(r,t,t)}return r},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(t){this.ops.x.onChange(t)}},particleY:{get:function(){return this.ops.y.current},set:function(t){this.ops.y.onChange(t)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(t){this.ops.accelerationX.onChange(t)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(t){this.ops.accelerationY.onChange(t)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(t){this.ops.maxVelocityX.onChange(t)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(t){this.ops.maxVelocityY.onChange(t)}},speed:{get:function(){return this.ops.speedX.current},set:function(t){this.ops.speedX.onChange(t);this.ops.speedY.onChange(t)}},speedX:{get:function(){return this.ops.speedX.current},set:function(t){this.ops.speedX.onChange(t)}},speedY:{get:function(){return this.ops.speedY.current},set:function(t){this.ops.speedY.onChange(t)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(t){this.ops.moveToX.onChange(t)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(t){this.ops.moveToY.onChange(t)}},bounce:{get:function(){return this.ops.bounce.current},set:function(t){this.ops.bounce.onChange(t)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(t){this.ops.scaleX.onChange(t)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(t){this.ops.scaleY.onChange(t)}},particleColor:{get:function(){return this.ops.color.current},set:function(t){this.ops.color.onChange(t)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(t){this.ops.color.setEase(t)}},particleTint:{get:function(){return this.ops.tint.current},set:function(t){this.ops.tint.onChange(t)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(t){this.ops.alpha.onChange(t)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(t){this.ops.lifespan.onChange(t)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(t){this.ops.angle.onChange(t)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(t){this.ops.rotate.onChange(t)}},quantity:{get:function(){return this.ops.quantity.current},set:function(t){this.ops.quantity.onChange(t)}},delay:{get:function(){return this.ops.delay.current},set:function(t){this.ops.delay.onChange(t)}},hold:{get:function(){return this.ops.hold.current},set:function(t){this.ops.hold.onChange(t)}},flowCounter:{get:function(){return this.counters[0]},set:function(t){this.counters[0]=t}},frameCounter:{get:function(){return this.counters[1]},set:function(t){this.counters[1]=t}},animCounter:{get:function(){return this.counters[2]},set:function(t){this.counters[2]=t}},elapsed:{get:function(){return this.counters[3]},set:function(t){this.counters[3]=t}},stopCounter:{get:function(){return this.counters[4]},set:function(t){this.counters[4]=t}},completeFlag:{get:function(){return this.counters[5]},set:function(t){this.counters[5]=t}},zoneIndex:{get:function(){return this.counters[6]},set:function(t){this.counters[6]=t}},zoneTotal:{get:function(){return this.counters[7]},set:function(t){this.counters[7]=t}},currentFrame:{get:function(){return this.counters[8]},set:function(t){this.counters[8]=t}},currentAnim:{get:function(){return this.counters[9]},set:function(t){this.counters[9]=t}},preDestroy:function(){this.texture=null;this.frames=null;this.anims=null;this.emitCallback=null;this.emitCallbackScope=null;this.deathCallback=null;this.deathCallbackScope=null;this.emitZones=null;this.deathZones=null;this.bounds=null;this.follow=null;this.counters=null;var t;var e=this.ops;for(t=0;t<k.length;t++){var i=k[t];e[i].destroy()}for(t=0;t<this.alive.length;t++){this.alive[t].destroy()}for(t=0;t<this.dead.length;t++){this.dead[t].destroy()}this.ops=null;this.alive=[];this.dead=[];this.worldMatrix.destroy()}});t.exports=F},9871:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(59996);var s=i(61340);var n=new s;var a=new s;var o=new s;var l=new s;var ParticleEmitterCanvasRenderer=function(t,e,i,s){var h=n;var u=a;var c=o;var f=l;if(s){f.loadIdentity();f.multiply(s);f.translate(e.x,e.y);f.rotate(e.rotation);f.scale(e.scaleX,e.scaleY)}else{f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY)}var d=t.currentContext;var v=i.roundPixels;var p=i.alpha;var g=e.alpha;var m=e.alive;var y=m.length;var x=e.viewBounds;if(!e.visible||y===0||x&&!r(x,i.worldView)){return}if(e.sortCallback){e.depthSort()}i.addToRenderList(e);var b=e.scrollFactorX;var T=e.scrollFactorY;d.save();d.globalCompositeOperation=t.blendModes[e.blendMode];for(var w=0;w<y;w++){var E=m[w];var S=E.alpha*g*p;if(S<=0||E.scaleX===0||E.scaleY===0){continue}c.applyITRS(E.x,E.y,E.rotation,E.scaleX,E.scaleY);h.copyFrom(i.matrix);h.multiplyWithOffset(f,-i.scrollX*b,-i.scrollY*T);c.e=E.x;c.f=E.y;h.multiply(c,u);var A=E.frame;var C=A.canvasData;if(C.width>0&&C.height>0){var O=-A.halfWidth;var P=-A.halfHeight;d.globalAlpha=S;d.save();u.setToContext(d);if(v){O=Math.round(O);P=Math.round(P)}d.imageSmoothingEnabled=!A.source.scaleMode;d.drawImage(A.source.image,C.x,C.y,C.width,C.height,O,P,C.width,C.height);d.restore()}}d.restore()};t.exports=ParticleEmitterCanvasRenderer},92730:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(95540);var o=i(31600);s.register("particles",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=a(t,"config",null);var l=new o(this.scene,0,0,i);if(e!==void 0){t.add=e}r(this.scene,l,t);if(s){l.setConfig(s)}return l}))},676:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(31600);r.register("particles",(function(t,e,i,r){if(t!==void 0&&typeof t==="string"){console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details")}return this.displayList.add(new s(this.scene,t,e,i,r))}))},90668:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(21188)}{n=i(9871)}t.exports={renderWebGL:s,renderCanvas:n}},21188:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(59996);var s=i(61340);var n=i(70554);var a=new s;var o=new s;var l=new s;var h=new s;var ParticleEmitterWebGLRenderer=function(t,e,i,s){var u=t.pipelines.set(e.pipeline);var c=a;var f=o;var d=l;var v=h;if(s){v.loadIdentity();v.multiply(s);v.translate(e.x,e.y);v.rotate(e.rotation);v.scale(e.scaleX,e.scaleY)}else{v.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY)}var p=n.getTintAppendFloatAlpha;var g=i.alpha;var m=e.alpha;t.pipelines.preBatch(e);var y=e.alive;var x=y.length;var b=e.viewBounds;if(x===0||b&&!r(b,i.worldView)){return}if(e.sortCallback){e.depthSort()}i.addToRenderList(e);c.copyFrom(i.matrix);c.multiplyWithOffset(v,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY);t.setBlendMode(e.blendMode);if(e.mask){e.mask.preRenderWebGL(t,e,i);t.pipelines.set(e.pipeline)}var T=e.tintFill;var w;var E;for(var S=0;S<x;S++){var A=y[S];var C=A.alpha*m*g;if(C<=0||A.scaleX===0||A.scaleY===0){continue}d.applyITRS(A.x,A.y,A.rotation,A.scaleX,A.scaleY);d.e=A.x;d.f=A.y;c.multiply(d,f);var O=A.frame;if(O.glTexture!==E){E=O.glTexture;w=u.setGameObject(e,O)}var P=-O.halfWidth;var I=-O.halfHeight;var R=f.setQuad(P,I,P+O.width,I+O.height);var M=p(A.tint,C);if(u.shouldFlush(6)){u.flush();w=u.setGameObject(e,O)}u.batchQuad(e,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],O.u0,O.v0,O.u1,O.v1,M,M,M,M,T,E,w)}if(e.mask){e.mask.postRenderWebGL(t,i)}t.pipelines.postBatch(e)};t.exports=ParticleEmitterWebGLRenderer},20286:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function ParticleProcessor2(t,e,i){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=true}this.emitter;this.x=t;this.y=e;this.active=i},update:function(){},destroy:function(){this.emitter=null}});t.exports=s},9774:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},812:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="deathzone"},30522:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="explode"},96695:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="start"},18677:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stop"},20696:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function DeathZone2(t,e){this.source=t;this.killOnEnter=e},willKill:function(t){var e=t.worldPosition;var i=this.source.contains(e.x,e.y);return i&&this.killOnEnter||!i&&!this.killOnEnter}});t.exports=s},19909:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function EdgeZone2(t,e,i,r,s,n){if(r===void 0){r=false}if(s===void 0){s=true}if(n===void 0){n=-1}this.source=t;this.points=[];this.quantity=e;this.stepRate=i;this.yoyo=r;this.counter=-1;this.seamless=s;this._length=0;this._direction=0;this.total=n;this.updateSource()},updateSource:function(){this.points=this.source.getPoints(this.quantity,this.stepRate);if(this.seamless){var t=this.points[0];var e=this.points[this.points.length-1];if(t.x===e.x&&t.y===e.y){this.points.pop()}}var i=this._length;this._length=this.points.length;if(this._length<i&&this.counter>this._length){this.counter=this._length-1}return this},changeSource:function(t){this.source=t;return this.updateSource()},getPoint:function(t){if(this._direction===0){this.counter++;if(this.counter>=this._length){if(this.yoyo){this._direction=1;this.counter=this._length-1}else{this.counter=0}}}else{this.counter--;if(this.counter===-1){if(this.yoyo){this._direction=0;this.counter=0}else{this.counter=this._length-1}}}var e=this.points[this.counter];if(e){t.x=e.x;t.y=e.y}}});t.exports=s},68875:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(26099);var n=new r({initialize:function RandomZone2(t){this.source=t;this._tempVec=new s;this.total=-1},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e);t.x=e.x;t.y=e.y}});t.exports=n},21024:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(68287);var a=new r({Extends:n,Mixins:[s.PathFollower],initialize:function PathFollower2(t,e,i,r,s,a){n.call(this,t,i,r,s,a);this.path=e},preUpdate:function(t,e){this.anims.update(t,e);this.pathUpdate(t)}});t.exports=a},90145:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(1159);r.register("follower",(function(t,e,i,r,n){var a=new s(this.scene,t,e,i,r,n);this.displayList.add(a);this.updateList.add(a);return a}))},33663:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(9674);var s=i(83419);var n=i(48803);var a=i(90664);var o=i(4703);var l=i(45650);var h=new s({Extends:o,initialize:function Plane2(t,e,i,s,n,a,l,h){if(!s){s="__DEFAULT"}o.call(this,t,e,i,s,n);this.type="Plane";this.anims=new r(this);this.gridWidth;this.gridHeight;this.isTiled;this._checkerboard=null;this.hideCCW=false;this.setGridSize(a,l,h);this.setSizeToFrame(false);this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(t,e,i){if(t===void 0){t=8}if(e===void 0){e=8}if(i===void 0){i=false}var r=false;if(i){r=true}this.gridWidth=t;this.gridHeight=e;this.isTiled=i;this.clear();n({mesh:this,widthSegments:t,heightSegments:e,isOrtho:false,tile:i,flipY:r});return this},setSizeToFrame:function(t){if(t===void 0){t=true}var e=this.frame;this.setPerspective(this.width/e.width,this.height/e.height);if(this._checkerboard&&this._checkerboard!==this.texture){this.removeCheckerboard()}if(!t){return this}var i=this.gridWidth;var r=this.gridHeight;var s=this.vertices;var n=e.u0;var a=e.u1;var o=e.v0;var l=e.v1;var h;var u;var c=0;if(this.isTiled){o=e.v1;l=e.v0;for(u=0;u<r;u++){for(h=0;h<i;h++){s[c++].setUVs(n,l);s[c++].setUVs(n,o);s[c++].setUVs(a,l);s[c++].setUVs(n,o);s[c++].setUVs(a,o);s[c++].setUVs(a,l)}}}else{var f=i+1;var d=r+1;var v=a-n;var p=l-o;var g=[];for(u=0;u<d;u++){for(h=0;h<f;h++){var m=n+v*(h/i);var y=o+p*(u/r);g.push(m,y)}}for(u=0;u<r;u++){for(h=0;h<i;h++){var x=(h+f*u)*2;var b=(h+f*(u+1))*2;var T=(h+1+f*(u+1))*2;var w=(h+1+f*u)*2;s[c++].setUVs(g[x],g[x+1]);s[c++].setUVs(g[b],g[b+1]);s[c++].setUVs(g[w],g[w+1]);s[c++].setUVs(g[b],g[b+1]);s[c++].setUVs(g[T],g[T+1]);s[c++].setUVs(g[w],g[w+1])}}}return this},setViewHeight:function(t){if(t===void 0){t=this.frame.height}var e=this.fov*(Math.PI/180);this.viewPosition.z=this.height/t/Math.tan(e/2);this.dirtyCache[10]=1},createCheckerboard:function(t,e,i,r,s){if(t===void 0){t=16777215}if(e===void 0){e=255}if(i===void 0){i=255}if(r===void 0){r=255}if(s===void 0){s=128}var n=a(t);var o=a(e);var h=[];for(var u=0;u<16;u++){for(var c=0;c<16;c++){if(u<8&&c<8||u>7&&c>7){h.push(n.r,n.g,n.b,i)}else{h.push(o.r,o.g,o.b,r)}}}var f=this.scene.sys.textures.addUint8Array(l(),new Uint8Array(h),16,16);this.removeCheckerboard();this.setTexture(f);this.setSizeToFrame();this.setViewHeight(s);return this},removeCheckerboard:function(){if(this._checkerboard){this._checkerboard.destroy();this._checkerboard=null}},play:function(t,e){return this.anims.play(t,e)},playReverse:function(t,e){return this.anims.playReverse(t,e)},playAfterDelay:function(t,e){return this.anims.playAfterDelay(t,e)},playAfterRepeat:function(t,e){return this.anims.playAfterRepeat(t,e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(t){return this.anims.stopAfterDelay(t)},stopAfterRepeat:function(t){return this.anims.stopAfterRepeat(t)},stopOnFrame:function(t){return this.anims.stopOnFrame(t)},preUpdate:function(t,e){o.prototype.preUpdate.call(this,t,e);this.anims.update(t,e)},preDestroy:function(){this.clear();this.removeCheckerboard();this.anims.destroy();this.anims=void 0;this.debugCallback=null;this.debugGraphic=null}});t.exports=h},56015:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(13059);var n=i(44603);var a=i(23568);var o=i(35154);var l=i(33663);n.register("plane",(function(t,e){if(t===void 0){t={}}var i=a(t,"key",null);var n=a(t,"frame",null);var h=o(t,"width",8);var u=o(t,"height",8);var c=o(t,"tile",false);var f=new l(this.scene,0,0,i,n,h,u,c);if(e!==void 0){t.add=e}var d=o(t,"checkerboard",null);if(d){var v=o(d,"color1",16777215);var p=o(d,"color2",255);var g=o(d,"alpha1",255);var m=o(d,"alpha2",255);var y=o(d,"height",128);f.createCheckerboard(v,p,g,m,y)}r(this.scene,f,t);s(f,t);return f}))},30985:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33663);var s=i(39429);s.register("plane",(function(t,e,i,s,n,a,o){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o))}))},80321:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(30100);var o=i(36060);var l=i(67277);var h=new r({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Transform,s.Visible,l],initialize:function PointLight2(t,e,i,r,s,l,h){if(r===void 0){r=16777215}if(s===void 0){s=128}if(l===void 0){l=1}if(h===void 0){h=.1}n.call(this,t,"PointLight");this.initPipeline(o.POINTLIGHT_PIPELINE);this.initPostPipeline();this.setPosition(e,i);this.color=a(r);this.intensity=l;this.attenuation=h;this.width=s*2;this.height=s*2;this._radius=s},radius:{get:function(){return this._radius},set:function(t){this._radius=t;this.width=t*2;this.height=t*2}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});t.exports=h},39829:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(80321);s.register("pointlight",(function(t,e){if(t===void 0){t={}}var i=n(t,"color",16777215);var s=n(t,"radius",128);var o=n(t,"intensity",1);var l=n(t,"attenuation",.1);var h=new a(this.scene,0,0,i,s,o,l);if(e!==void 0){t.add=e}r(this.scene,h,t);return h}))},71255:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(80321);r.register("pointlight",(function(t,e,i,r,n,a){return this.displayList.add(new s(this.scene,t,e,i,r,n,a))}))},67277:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(57787)}t.exports={renderWebGL:s,renderCanvas:n}},57787:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var PointLightWebGLRenderer=function(t,e,i,s){i.addToRenderList(e);var n=t.pipelines.set(e.pipeline);var a=r(e,i,s).calc;var o=e.width;var l=e.height;var h=-e._radius;var u=-e._radius;var c=h+o;var f=u+l;var d=a.getX(0,0);var v=a.getY(0,0);var p=a.getX(h,u);var g=a.getY(h,u);var m=a.getX(h,f);var y=a.getY(h,f);var x=a.getX(c,f);var b=a.getY(c,f);var T=a.getX(c,u);var w=a.getY(c,u);t.pipelines.preBatch(e);n.batchPointLight(e,i,p,g,m,y,x,b,T,w,d,v);t.pipelines.postBatch(e)};t.exports=PointLightWebGLRenderer},591:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(81320);var n=i(88571);var a=new r({Extends:n,initialize:function RenderTexture2(t,e,i,r,a,o){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=32}if(a===void 0){a=32}if(o===void 0){o=true}var l=new s(t.sys.textures,"",r,a,o);n.call(this,t,e,i,l);this.type="RenderTexture";this.camera=this.texture.camera;this._saved=false},setSize:function(t,e){this.width=t;this.height=e;this.updateDisplayOrigin();var i=this.input;if(i&&!i.customHitArea){i.hitArea.width=t;i.hitArea.height=e}return this},resize:function(t,e,i){this.texture.setSize(t,e,i);this.setSize(this.texture.width,this.texture.height);return this},saveTexture:function(t){var e=this.texture;e.key=t;if(e.manager.addDynamicTexture(e)){this._saved=true}return e},fill:function(t,e,i,r,s,n){this.texture.fill(t,e,i,r,s,n);return this},clear:function(){this.texture.clear();return this},stamp:function(t,e,i,r,s){this.texture.stamp(t,e,i,r,s);return this},erase:function(t,e,i){this.texture.erase(t,e,i);return this},draw:function(t,e,i,r,s){this.texture.draw(t,e,i,r,s);return this},drawFrame:function(t,e,i,r,s,n){this.texture.drawFrame(t,e,i,r,s,n);return this},repeat:function(t,e,i,r,s,n,a,o,l){this.texture.repeat(t,e,i,r,s,n,a,o,l);return this},beginDraw:function(){this.texture.beginDraw();return this},batchDraw:function(t,e,i,r,s){this.texture.batchDraw(t,e,i,r,s);return this},batchDrawFrame:function(t,e,i,r,s,n){this.texture.batchDrawFrame(t,e,i,r,s,n);return this},endDraw:function(t){this.texture.endDraw(t);return this},snapshotArea:function(t,e,i,r,s,n,a){this.texture.snapshotArea(t,e,i,r,s,n,a);return this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.width,this.height,t,e,i)},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i,"pixel")},preDestroy:function(){this.camera=null;if(!this._saved){this.texture.destroy()}}});t.exports=a},34495:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(591);s.register("renderTexture",(function(t,e){if(t===void 0){t={}}var i=n(t,"x",0);var s=n(t,"y",0);var o=n(t,"width",32);var l=n(t,"height",32);var h=new a(this.scene,i,s,o,l);if(e!==void 0){t.add=e}r(this.scene,h,t);return h}))},60505:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(591);r.register("renderTexture",(function(t,e,i,r){return this.displayList.add(new s(this.scene,t,e,i,r))}))},77757:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(9674);var s=i(83419);var n=i(31401);var a=i(95643);var o=i(36060);var l=i(38745);var h=i(26099);var u=new s({Extends:a,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Flip,n.Mask,n.Pipeline,n.PostPipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,l],initialize:function Rope2(t,e,i,s,n,l,u,c,f){if(s===void 0){s="__DEFAULT"}if(l===void 0){l=2}if(u===void 0){u=true}a.call(this,t,"Rope");this.anims=new r(this);this.points=l;this.vertices;this.uv;this.colors;this.alphas;this.tintFill=s==="__DEFAULT"?true:false;this.dirty=false;this.horizontal=u;this._flipX=false;this._flipY=false;this._perp=new h;this.debugCallback=null;this.debugGraphic=null;this.setTexture(s,n);this.setPosition(e,i);this.setSizeToFrame();this.initPipeline(o.ROPE_PIPELINE);this.initPostPipeline();if(Array.isArray(l)){this.resizeArrays(l.length)}this.setPoints(l,c,f);this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){var i=this.anims.currentFrame;this.anims.update(t,e);if(this.anims.currentFrame!==i){this.updateUVs();this.updateVertices()}},play:function(t,e,i){this.anims.play(t,e,i);return this},setDirty:function(){this.dirty=true;return this},setHorizontal:function(t,e,i){if(t===void 0){t=this.points.length}if(this.horizontal){return this}this.horizontal=true;return this.setPoints(t,e,i)},setVertical:function(t,e,i){if(t===void 0){t=this.points.length}if(!this.horizontal){return this}this.horizontal=false;return this.setPoints(t,e,i)},setTintFill:function(t){if(t===void 0){t=false}this.tintFill=t;return this},setAlphas:function(t,e){var i=this.points.length;if(i<1){return this}var r=this.alphas;if(t===void 0){t=[1]}else if(!Array.isArray(t)&&e===void 0){t=[t]}var s;var n=0;if(e!==void 0){for(s=0;s<i;s++){n=s*2;r[n]=t;r[n+1]=e}}else if(t.length===i){for(s=0;s<i;s++){n=s*2;r[n]=t[s];r[n+1]=t[s]}}else{var a=t[0];for(s=0;s<i;s++){n=s*2;if(t.length>n){a=t[n]}r[n]=a;if(t.length>n+1){a=t[n+1]}r[n+1]=a}}return this},setColors:function(t){var e=this.points.length;if(e<1){return this}var i=this.colors;if(t===void 0){t=[16777215]}else if(!Array.isArray(t)){t=[t]}var r;var s=0;if(t.length===e){for(r=0;r<e;r++){s=r*2;i[s]=t[r];i[s+1]=t[r]}}else{var n=t[0];for(r=0;r<e;r++){s=r*2;if(t.length>s){n=t[s]}i[s]=n;if(t.length>s+1){n=t[s+1]}i[s+1]=n}}return this},setPoints:function(t,e,i){if(t===void 0){t=2}if(typeof t==="number"){var r=t;if(r<2){r=2}t=[];var s;var n;var a;if(this.horizontal){a=-this.frame.halfWidth;n=this.frame.width/(r-1);for(s=0;s<r;s++){t.push({x:a+s*n,y:0})}}else{a=-this.frame.halfHeight;n=this.frame.height/(r-1);for(s=0;s<r;s++){t.push({x:0,y:a+s*n})}}}var o=t.length;var l=this.points.length;if(o<1){console.warn("Rope: Not enough points given");return this}else if(o===1){t.unshift({x:0,y:0});o++}if(l!==o){this.resizeArrays(o)}this.dirty=true;this.points=t;this.updateUVs();if(e!==void 0&&e!==null){this.setColors(e)}if(i!==void 0&&i!==null){this.setAlphas(i)}return this},updateUVs:function(){var t=this.uv;var e=this.points.length;var i=this.frame.u0;var r=this.frame.v0;var s=this.frame.u1;var n=this.frame.v1;var a=(s-i)/(e-1);var o=(n-r)/(e-1);for(var l=0;l<e;l++){var h=l*4;var u;var c;var f;var d;if(this.horizontal){if(this._flipX){u=s-l*a;f=s-l*a}else{u=i+l*a;f=i+l*a}if(this._flipY){c=n;d=r}else{c=r;d=n}}else{if(this._flipX){u=i;f=s}else{u=s;f=i}if(this._flipY){c=n-l*o;d=n-l*o}else{c=r+l*o;d=r+l*o}}t[h+0]=u;t[h+1]=c;t[h+2]=f;t[h+3]=d}return this},resizeArrays:function(t){var e=this.colors;var i=this.alphas;this.vertices=new Float32Array(t*4);this.uv=new Float32Array(t*4);e=new Uint32Array(t*2);i=new Float32Array(t*2);for(var r=0;r<t*2;r++){e[r]=16777215;i[r]=1}this.colors=e;this.alphas=i;this.dirty=true;return this},updateVertices:function(){var t=this._perp;var e=this.points;var i=this.vertices;var r=e.length;this.dirty=false;if(r<1){return}var s;var n=e[0];var a=this.horizontal?this.frame.halfHeight:this.frame.halfWidth;for(var o=0;o<r;o++){var l=e[o];var h=o*4;if(o<r-1){s=e[o+1]}else{s=l}t.x=s.y-n.y;t.y=-(s.x-n.x);var u=t.length();t.x/=u;t.y/=u;t.x*=a;t.y*=a;i[h]=l.x+t.x;i[h+1]=l.y+t.y;i[h+2]=l.x-t.x;i[h+3]=l.y-t.y;n=l}return this},setDebug:function(t,e){this.debugGraphic=t;if(!t&&!e){this.debugCallback=null}else if(!e){this.debugCallback=this.renderDebugVerts}else{this.debugCallback=e}return this},renderDebugVerts:function(t,e,i){var r=t.debugGraphic;var s=i[0];var n=i[1];var a=i[2];var o=i[3];r.lineBetween(s,n,a,o);for(var l=4;l<e;l+=4){var h=i[l+0];var u=i[l+1];var c=i[l+2];var f=i[l+3];r.lineBetween(s,n,h,u);r.lineBetween(a,o,c,f);r.lineBetween(a,o,h,u);r.lineBetween(h,u,c,f);s=h;n=u;a=c;o=f}},preDestroy:function(){this.anims.destroy();this.anims=void 0;this.points=null;this.vertices=null;this.uv=null;this.colors=null;this.alphas=null;this.debugCallback=null;this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(t){this._flipX=t;return this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(t){this._flipY=t;return this.updateUVs()}}});t.exports=u},95262:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RopeCanvasRenderer=function(){};t.exports=RopeCanvasRenderer},26209:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(35154);var o=i(77757);s.register("rope",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=n(t,"frame",null);var l=n(t,"horizontal",true);var h=a(t,"points",void 0);var u=a(t,"colors",void 0);var c=a(t,"alphas",void 0);var f=new o(this.scene,0,0,i,s,h,l,u,c);if(e!==void 0){t.add=e}r(this.scene,f,t);return f}))},96819:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(77757);var s=i(39429);{s.register("rope",(function(t,e,i,s,n,a,o,l){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o,l))}))}},38745:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(20439)}{n=i(95262)}t.exports={renderWebGL:s,renderCanvas:n}},20439:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var RopeWebGLRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline,e);var o=r(e,i,n).calc;var l=e.vertices;var h=e.uv;var u=e.colors;var c=e.alphas;var f=e.alpha;var d=s.getTintAppendFloatAlpha;var v=i.roundPixels;var p=l.length;var g=Math.floor(p*.5);a.flush();t.pipelines.preBatch(e);var m=a.setGameObject(e);var y=a.vertexViewF32;var x=a.vertexViewU32;var b=a.vertexCount*a.currentShader.vertexComponentCount-1;var T=0;var w=e.tintFill;if(e.dirty){e.updateVertices()}var E=e.debugCallback;var S=[];for(var A=0;A<p;A+=2){var C=l[A+0];var O=l[A+1];var P=C*o.a+O*o.c+o.e;var I=C*o.b+O*o.d+o.f;if(v){P=Math.round(P);I=Math.round(I)}y[++b]=P;y[++b]=I;y[++b]=h[A+0];y[++b]=h[A+1];y[++b]=m;y[++b]=w;x[++b]=d(u[T],i.alpha*(c[T]*f));T++;if(E){S[A+0]=P;S[A+1]=I}}if(E){E.call(e,e,p,S)}a.vertexCount+=g;a.currentBatch.count=a.vertexCount-a.currentBatch.start;t.pipelines.postBatch(e)};t.exports=RopeWebGLRenderer},20071:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(95540);var o=i(79291);var l=i(61622);var h=i(25479);var u=i(61340);var c=i(95428);var f=i(92503);var d=new r({Extends:n,Mixins:[s.ComputedSize,s.Depth,s.GetBounds,s.Mask,s.Origin,s.ScrollFactor,s.Transform,s.Visible,h],initialize:function Shader2(t,e,i,r,s,a,o,l){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=128}if(a===void 0){a=128}n.call(this,t,"Shader");this.blendMode=-1;this.shader;var h=t.sys.renderer;this.renderer=h;this.gl=h.gl;this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2));this.vertexBuffer=h.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW);this._deferSetShader=null;this._deferProjOrtho=null;this.program=null;this.bytes=new Uint8Array(this.vertexData);this.vertexViewF32=new Float32Array(this.vertexData);this._tempMatrix1=new u;this._tempMatrix2=new u;this._tempMatrix3=new u;this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.uniforms={};this.pointer=null;this._rendererWidth=h.width;this._rendererHeight=h.height;this._textureCount=0;this.framebuffer=null;this.glTexture=null;this.renderToTexture=false;this.texture=null;this.setPosition(i,r);this.setSize(s,a);this.setOrigin(.5,.5);this.setShader(e,o,l);this.renderer.on(f.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(t){if(this.renderToTexture){return true}else{return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&t.id)}},setRenderToTexture:function(t,e){if(!this.renderToTexture){var i=this.width;var r=this.height;var s=this.renderer;this.glTexture=s.createTextureFromSource(null,i,r,0);this.framebuffer=s.createFramebuffer(i,r,this.glTexture,false);this._rendererWidth=i;this._rendererHeight=r;this.renderToTexture=true;this.projOrtho(0,this.width,this.height,0);if(t){this.texture=this.scene.sys.textures.addGLTexture(t,this.glTexture)}}if(this.shader){s.pipelines.clear();this.load();this.flush();s.pipelines.rebind()}return this},setShader:function(t,e,i){if(this.renderer.contextLost){this._deferSetShader={key:t,textures:e,textureData:i};return this}if(e===void 0){e=[]}if(typeof t==="string"){var r=this.scene.sys.cache.shader;if(!r.has(t)){console.warn("Shader missing: "+t);return this}this.shader=r.get(t)}else{this.shader=t}var s=this.gl;var n=this.renderer;if(this.program){n.deleteProgram(this.program)}var a=n.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);s.uniformMatrix4fv(s.getUniformLocation(a.webGLProgram,"uViewMatrix"),false,this.viewMatrix);s.uniformMatrix4fv(s.getUniformLocation(a.webGLProgram,"uProjectionMatrix"),false,this.projectionMatrix);s.uniform2f(s.getUniformLocation(a.webGLProgram,"uResolution"),this.width,this.height);this.program=a;var l=new Date;var h={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()*60*60+l.getMinutes()*60+l.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:true}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:true}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:true}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:true}}};if(this.shader.uniforms){this.uniforms=o(true,{},this.shader.uniforms,h)}else{this.uniforms=h}for(var u=0;u<4;u++){if(e[u]){this.setSampler2D("iChannel"+u,e[u],u,i)}}this.initUniforms();this.projOrtho(0,this._rendererWidth,this._rendererHeight,0);return this},setPointer:function(t){this.pointer=t;return this},projOrtho:function(t,e,i,r){if(this.renderer.contextLost){this._deferProjOrtho={left:t,right:e,bottom:i,top:r};return}var s=-1e3;var n=1e3;var a=1/(t-e);var o=1/(i-r);var l=1/(s-n);var h=this.projectionMatrix;h[0]=-2*a;h[5]=-2*o;h[10]=2*l;h[12]=(t+e)*a;h[13]=(r+i)*o;h[14]=(n+s)*l;var u=this.program;var c=this.gl;var f=this.renderer;f.setProgram(u);c.uniformMatrix4fv(c.getUniformLocation(u.webGLProgram,"uProjectionMatrix"),false,this.projectionMatrix);this._rendererWidth=e;this._rendererHeight=i},initUniforms:function(){var t=this.renderer.glFuncMap;var e=this.program;this._textureCount=0;for(var i in this.uniforms){var r=this.uniforms[i];var s=r.type;var n=t[s];r.uniformLocation=this.renderer.createUniformLocation(e,i);if(s!=="sampler2D"){r.glMatrix=n.matrix;r.glValueLength=n.length;r.glFunc=n.func}}},setSampler2DBuffer:function(t,e,i,r,s,n){if(s===void 0){s=0}if(n===void 0){n={}}var a=this.uniforms[t];a.value=e;n.width=i;n.height=r;a.textureData=n;this._textureCount=s;this.initSampler2D(a);return this},setSampler2D:function(t,e,i,r){if(i===void 0){i=0}var s=this.scene.sys.textures;if(s.exists(e)){var n=s.getFrame(e);if(n.glTexture&&n.glTexture.isRenderTexture){return this.setSampler2DBuffer(t,n.glTexture,n.width,n.height,i,r)}var a=this.uniforms[t];var o=n.source;a.textureKey=e;a.source=o.image;a.value=n.glTexture;if(o.isGLTexture){if(!r){r={}}r.width=o.width;r.height=o.height}if(r){a.textureData=r}this._textureCount=i;this.initSampler2D(a)}return this},setUniform:function(t,e){l(this.uniforms,t,e);return this},getUniform:function(t){return a(this.uniforms,t,null)},setChannel0:function(t,e){return this.setSampler2D("iChannel0",t,0,e)},setChannel1:function(t,e){return this.setSampler2D("iChannel1",t,1,e)},setChannel2:function(t,e){return this.setSampler2D("iChannel2",t,2,e)},setChannel3:function(t,e){return this.setSampler2D("iChannel3",t,3,e)},initSampler2D:function(t){if(!t.value){return}var e=t.textureData;if(e&&!t.value.isRenderTexture){var i=this.gl;var r=t.value;var s=i[a(e,"magFilter","linear").toUpperCase()];var n=i[a(e,"minFilter","linear").toUpperCase()];var o=i[a(e,"wrapS","repeat").toUpperCase()];var l=i[a(e,"wrapT","repeat").toUpperCase()];var h=i[a(e,"format","rgba").toUpperCase()];var u=a(e,"flipY",false);var c=a(e,"width",r.width);var f=a(e,"height",r.height);var d=a(e,"source",r.pixels);if(e.repeat){o=i.REPEAT;l=i.REPEAT}if(e.width){d=null}r.update(d,c,f,u,o,l,n,s,h)}this.renderer.setProgram(this.program);this._textureCount++},syncUniforms:function(){var t=this.gl;var e=this.uniforms;var i;var r;var s;var n;var a;var o=0;for(var l in e){i=e[l];s=i.glFunc;r=i.glValueLength;n=i.uniformLocation;a=i.value;if(a===null){continue}if(r===1){if(i.glMatrix){s.call(t,n.webGLUniformLocation,i.transpose,a)}else{s.call(t,n.webGLUniformLocation,a)}}else if(r===2){s.call(t,n.webGLUniformLocation,a.x,a.y)}else if(r===3){s.call(t,n.webGLUniformLocation,a.x,a.y,a.z)}else if(r===4){s.call(t,n.webGLUniformLocation,a.x,a.y,a.z,a.w)}else if(i.type==="sampler2D"){t.activeTexture(t.TEXTURE0+o);t.bindTexture(t.TEXTURE_2D,a.webGLTexture);t.uniform1i(n.webGLUniformLocation,o);o++}}},load:function(t){var e=this.gl;var i=this.width;var r=this.height;var s=this.renderer;var n=this.program;var a=this.viewMatrix;if(!this.renderToTexture){var o=-this._displayOriginX;var l=-this._displayOriginY;a[0]=t[0];a[1]=t[1];a[4]=t[2];a[5]=t[3];a[8]=t[4];a[9]=t[5];a[12]=a[0]*o+a[4]*l;a[13]=a[1]*o+a[5]*l}e.useProgram(n.webGLProgram);e.uniformMatrix4fv(e.getUniformLocation(n.webGLProgram,"uViewMatrix"),false,a);e.uniformMatrix4fv(e.getUniformLocation(n.webGLProgram,"uProjectionMatrix"),false,this.projectionMatrix);e.uniform2f(e.getUniformLocation(n.webGLProgram,"uResolution"),this.width,this.height);var h=this.uniforms;var u=h.resolution;u.value.x=i;u.value.y=r;h.time.value=s.game.loop.getDuration();var c=this.pointer;if(c){var f=h.mouse;var d=c.x/i;var v=1-c.y/r;f.value.x=d.toFixed(2);f.value.y=v.toFixed(2)}this.syncUniforms()},flush:function(){var t=this.width;var e=this.height;var i=this.program;var r=this.gl;var s=this.vertexBuffer;var n=this.renderer;var a=Float32Array.BYTES_PER_ELEMENT*2;if(this.renderToTexture){n.setFramebuffer(this.framebuffer);r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT)}r.bindBuffer(r.ARRAY_BUFFER,s.webGLBuffer);var o=r.getAttribLocation(i.webGLProgram,"inPosition");if(o!==-1){r.enableVertexAttribArray(o);r.vertexAttribPointer(o,2,r.FLOAT,false,a,0)}var l=this.vertexViewF32;l[3]=e;l[4]=t;l[5]=e;l[8]=t;l[9]=e;l[10]=t;var h=6;r.bufferSubData(r.ARRAY_BUFFER,0,this.bytes.subarray(0,h*a));r.drawArrays(r.TRIANGLES,0,h);if(this.renderToTexture){n.setFramebuffer(null,false)}},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var t=this._deferSetShader.key;var e=this._deferSetShader.textures;var i=this._deferSetShader.textureData;this._deferSetShader=null;this.setShader(t,e,i)}if(this._deferProjOrtho!==null){var r=this._deferProjOrtho.left;var s=this._deferProjOrtho.right;var n=this._deferProjOrtho.bottom;var a=this._deferProjOrtho.top;this._deferProjOrtho=null;this.projOrtho(r,s,n,a)}},preDestroy:function(){var t=this.renderer;t.off(f.RESTORE_WEBGL,this.onContextRestored,this);t.deleteProgram(this.program);t.deleteBuffer(this.vertexBuffer);if(this.renderToTexture){t.deleteFramebuffer(this.framebuffer);this.texture.destroy();this.framebuffer=null;this.glTexture=null;this.texture=null}c(this.uniforms,(function(e){t.deleteUniformLocation(e.uniformLocation);e.uniformLocation=null}))}});t.exports=d},80464:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ShaderCanvasRenderer=function(){};t.exports=ShaderCanvasRenderer},54935:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(20071);s.register("shader",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=n(t,"x",0);var o=n(t,"y",0);var l=n(t,"width",128);var h=n(t,"height",128);var u=new a(this.scene,i,s,o,l,h);if(e!==void 0){t.add=e}r(this.scene,u,t);return u}))},74177:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20071);var s=i(39429);{s.register("shader",(function(t,e,i,s,n,a,o){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o))}))}},25479:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(19257)}{n=i(80464)}t.exports={renderWebGL:s,renderCanvas:n}},19257:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var ShaderWebGLRenderer=function(t,e,i,s){if(!e.shader){return}i.addToRenderList(e);t.pipelines.clear();if(e.renderToTexture){e.load();e.flush()}else{var n=r(e,i,s).calc;if(t.width!==e._rendererWidth||t.height!==e._rendererHeight){e.projOrtho(0,t.width,t.height,0)}e.load(n.matrix);e.flush()}t.pipelines.rebind()};t.exports=ShaderWebGLRenderer},10441:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70554);var FillPathWebGL=function(t,e,i,s,n,a){var o=r.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*s);var l=i.pathData;var h=i.pathIndexes;for(var u=0;u<h.length;u+=3){var c=h[u]*2;var f=h[u+1]*2;var d=h[u+2]*2;var v=l[c+0]-n;var p=l[c+1]-a;var g=l[f+0]-n;var m=l[f+1]-a;var y=l[d+0]-n;var x=l[d+1]-a;var b=e.getX(v,p);var T=e.getY(v,p);var w=e.getX(g,m);var E=e.getY(g,m);var S=e.getX(y,x);var A=e.getY(y,x);t.batchTri(i,b,T,w,E,S,A,0,0,1,1,o,o,o,2)}};t.exports=FillPathWebGL},65960:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FillStyleCanvas=function(t,e,i,r){var s=i?i:e.fillColor;var n=r?r:e.fillAlpha;var a=(s&16711680)>>>16;var o=(s&65280)>>>8;var l=s&255;t.fillStyle="rgba("+a+","+o+","+l+","+n+")"};t.exports=FillStyleCanvas},75177:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineStyleCanvas=function(t,e,i,r){var s=i?i:e.strokeColor;var n=r?r:e.strokeAlpha;var a=(s&16711680)>>>16;var o=(s&65280)>>>8;var l=s&255;t.strokeStyle="rgba("+a+","+o+","+l+","+n+")";t.lineWidth=e.lineWidth};t.exports=LineStyleCanvas},17803:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(95643);var a=i(23031);var o=new r({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Transform,s.Visible],initialize:function Shape2(t,e,i){if(e===void 0){e="Shape"}n.call(this,t,e);this.geom=i;this.pathData=[];this.pathIndexes=[];this.fillColor=16777215;this.fillAlpha=1;this.strokeColor=16777215;this.strokeAlpha=1;this.lineWidth=1;this.isFilled=false;this.isStroked=false;this.closePath=true;this._tempLine=new a;this.width=0;this.height=0;this.initPipeline();this.initPostPipeline()},setFillStyle:function(t,e){if(e===void 0){e=1}if(t===void 0){this.isFilled=false}else{this.fillColor=t;this.fillAlpha=e;this.isFilled=true}return this},setStrokeStyle:function(t,e,i){if(i===void 0){i=1}if(t===void 0){this.isStroked=false}else{this.lineWidth=t;this.strokeColor=e;this.strokeAlpha=i;this.isStroked=true}return this},setClosePath:function(t){this.closePath=t;return this},setSize:function(t,e){this.width=t;this.height=e;return this},setDisplaySize:function(t,e){this.displayWidth=t;this.displayHeight=e;return this},preDestroy:function(){this.geom=null;this._tempLine=null;this.pathData=[];this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}});t.exports=o},34682:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70554);var StrokePathWebGL=function(t,e,i,s,n){var a=t.strokeTint;var o=r.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*i);a.TL=o;a.TR=o;a.BL=o;a.BR=o;var l=e.pathData;var h=l.length-1;var u=e.lineWidth;var c=u/2;var f=l[0]-s;var d=l[1]-n;if(!e.closePath){h-=2}for(var v=2;v<h;v+=2){var p=l[v]-s;var g=l[v+1]-n;t.batchLine(f,d,p,g,c,c,u,v-2,e.closePath?v===h-1:false);f=p;d=g}};t.exports=StrokePathWebGL},23629:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13609);var s=i(83419);var n=i(39506);var a=i(94811);var o=i(96503);var l=i(36383);var h=i(17803);var u=new s({Extends:h,Mixins:[r],initialize:function Arc2(t,e,i,r,s,n,a,l,u){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=128}if(s===void 0){s=0}if(n===void 0){n=360}if(a===void 0){a=false}h.call(this,t,"Arc",new o(0,0,r));this._startAngle=s;this._endAngle=n;this._anticlockwise=a;this._iterations=.01;this.setPosition(e,i);var c=this.geom.radius*2;this.setSize(c,c);if(l!==void 0){this.setFillStyle(l,u)}this.updateDisplayOrigin();this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t;this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t;var e=t*2;this.setSize(e,e);this.updateDisplayOrigin();this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t;this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t;this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t;this.updateData()}},setRadius:function(t){this.radius=t;return this},setIterations:function(t){if(t===void 0){t=.01}this.iterations=t;return this},setStartAngle:function(t,e){this._startAngle=t;if(e!==void 0){this._anticlockwise=e}return this.updateData()},setEndAngle:function(t,e){this._endAngle=t;if(e!==void 0){this._anticlockwise=e}return this.updateData()},updateData:function(){var t=this._iterations;var e=t;var i=this.geom.radius;var r=n(this._startAngle);var s=n(this._endAngle);var o=this._anticlockwise;var h=i;var u=i;s-=r;if(o){if(s<-l.PI2){s=-l.PI2}else if(s>0){s=-l.PI2+s%l.PI2}}else if(s>l.PI2){s=l.PI2}else if(s<0){s=l.PI2+s%l.PI2}var c=[h+Math.cos(r)*i,u+Math.sin(r)*i];var f;while(e<1){f=s*e+r;c.push(h+Math.cos(f)*i,u+Math.sin(f)*i);e+=t}f=s+r;c.push(h+Math.cos(f)*i,u+Math.sin(f)*i);c.push(h+Math.cos(r)*i,u+Math.sin(r)*i);this.pathIndexes=a(c);this.pathData=c;return this}});t.exports=u},42542:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39506);var s=i(65960);var n=i(75177);var a=i(20926);var ArcCanvasRenderer=function(t,e,i,o){i.addToRenderList(e);var l=t.currentContext;if(a(t,l,e,i,o)){var h=e.radius;l.beginPath();l.arc(h-e.originX*(h*2),h-e.originY*(h*2),h,r(e._startAngle),r(e._endAngle),e.anticlockwise);if(e.closePath){l.closePath()}if(e.isFilled){s(l,e);l.fill()}if(e.isStroked){n(l,e);l.stroke()}l.restore()}};t.exports=ArcCanvasRenderer},42563:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23629);var s=i(39429);s.register("arc",(function(t,e,i,s,n,a,o,l){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o,l))}));s.register("circle",(function(t,e,i,s,n){return this.displayList.add(new r(this.scene,t,e,i,0,360,false,s,n))}))},13609:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(41447)}{n=i(42542)}t.exports={renderWebGL:s,renderCanvas:n}},41447:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(10441);var n=i(34682);var ArcWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=r(e,i,a);var h=o.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX;var c=e._displayOriginY;var f=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){s(o,h,e,f,u,c)}if(e.isStroked){n(o,e,f,u,c)}t.pipelines.postBatch(e)};t.exports=ArcWebGLRenderer},89:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(33141);var n=i(94811);var a=i(87841);var o=i(17803);var l=new r({Extends:o,Mixins:[s],initialize:function Curve2(t,e,i,r,s,n){if(e===void 0){e=0}if(i===void 0){i=0}o.call(this,t,"Curve",r);this._smoothness=32;this._curveBounds=new a;this.closePath=false;this.setPosition(e,i);if(s!==void 0){this.setFillStyle(s,n)}this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t;this.updateData()}},setSmoothness:function(t){this._smoothness=t;return this.updateData()},updateData:function(){var t=this._curveBounds;var e=this._smoothness;this.geom.getBounds(t,e);this.setSize(t.width,t.height);this.updateDisplayOrigin();var i=[];var r=this.geom.getPoints(e);for(var s=0;s<r.length;s++){i.push(r[s].x,r[s].y)}i.push(r[0].x,r[0].y);this.pathIndexes=n(i);this.pathData=i;return this}});t.exports=l},3170:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var CurveCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX+e._curveBounds.x;var h=e._displayOriginY+e._curveBounds.y;var u=e.pathData;var c=u.length-1;var f=u[0]-l;var d=u[1]-h;o.beginPath();o.moveTo(f,d);if(!e.closePath){c-=2}for(var v=2;v<c;v+=2){var p=u[v]-l;var g=u[v+1]-h;o.lineTo(p,g)}if(e.closePath){o.closePath()}if(e.isFilled){r(o,e);o.fill()}if(e.isStroked){s(o,e);o.stroke()}o.restore()}};t.exports=CurveCanvasRenderer},40511:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(89);r.register("curve",(function(t,e,i,r,n){return this.displayList.add(new s(this.scene,t,e,i,r,n))}))},33141:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(53987)}{n=i(3170)}t.exports={renderWebGL:s,renderCanvas:n}},53987:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10441);var s=i(91296);var n=i(34682);var CurveWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=s(e,i,a);var h=o.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX+e._curveBounds.x;var c=e._displayOriginY+e._curveBounds.y;var f=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){r(o,h,e,f,u,c)}if(e.isStroked){n(o,e,f,u,c)}t.pipelines.postBatch(e)};t.exports=CurveWebGLRenderer},19921:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(94811);var n=i(54205);var a=i(8497);var o=i(17803);var l=new r({Extends:o,Mixins:[n],initialize:function Ellipse2(t,e,i,r,s,n,l){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=128}if(s===void 0){s=128}o.call(this,t,"Ellipse",new a(r/2,s/2,r,s));this._smoothness=64;this.setPosition(e,i);this.width=r;this.height=s;if(n!==void 0){this.setFillStyle(n,l)}this.updateDisplayOrigin();this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t;this.updateData()}},setSize:function(t,e){this.width=t;this.height=e;this.geom.setPosition(t/2,e/2);this.geom.setSize(t,e);this.updateDisplayOrigin();return this.updateData()},setSmoothness:function(t){this._smoothness=t;return this.updateData()},updateData:function(){var t=[];var e=this.geom.getPoints(this._smoothness);for(var i=0;i<e.length;i++){t.push(e[i].x,e[i].y)}t.push(e[0].x,e[0].y);this.pathIndexes=s(t);this.pathData=t;return this}});t.exports=l},7930:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var EllipseCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX;var h=e._displayOriginY;var u=e.pathData;var c=u.length-1;var f=u[0]-l;var d=u[1]-h;o.beginPath();o.moveTo(f,d);if(!e.closePath){c-=2}for(var v=2;v<c;v+=2){var p=u[v]-l;var g=u[v+1]-h;o.lineTo(p,g)}o.closePath();if(e.isFilled){r(o,e);o.fill()}if(e.isStroked){s(o,e);o.stroke()}o.restore()}};t.exports=EllipseCanvasRenderer},1543:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19921);var s=i(39429);s.register("ellipse",(function(t,e,i,s,n,a){return this.displayList.add(new r(this.scene,t,e,i,s,n,a))}))},54205:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(19467)}{n=i(7930)}t.exports={renderWebGL:s,renderCanvas:n}},19467:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10441);var s=i(91296);var n=i(34682);var EllipseWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=s(e,i,a);var h=o.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX;var c=e._displayOriginY;var f=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){r(o,h,e,f,u,c)}if(e.isStroked){n(o,e,f,u,c)}t.pipelines.postBatch(e)};t.exports=EllipseWebGLRenderer},30479:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(17803);var n=i(26015);var a=new r({Extends:s,Mixins:[n],initialize:function Grid2(t,e,i,r,n,a,o,l,h,u,c){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=128}if(n===void 0){n=128}if(a===void 0){a=32}if(o===void 0){o=32}s.call(this,t,"Grid",null);this.cellWidth=a;this.cellHeight=o;this.showCells=true;this.outlineFillColor=0;this.outlineFillAlpha=0;this.showOutline=true;this.showAltCells=false;this.altFillColor;this.altFillAlpha;this.setPosition(e,i);this.setSize(r,n);this.setFillStyle(l,h);if(u!==void 0){this.setOutlineStyle(u,c)}this.updateDisplayOrigin()},setFillStyle:function(t,e){if(e===void 0){e=1}if(t===void 0){this.showCells=false}else{this.fillColor=t;this.fillAlpha=e;this.showCells=true}return this},setAltFillStyle:function(t,e){if(e===void 0){e=1}if(t===void 0){this.showAltCells=false}else{this.altFillColor=t;this.altFillAlpha=e;this.showAltCells=true}return this},setOutlineStyle:function(t,e){if(e===void 0){e=1}if(t===void 0){this.showOutline=false}else{this.outlineFillColor=t;this.outlineFillAlpha=e;this.showOutline=true}return this}});t.exports=a},49912:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var GridCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=-e._displayOriginX;var h=-e._displayOriginY;var u=i.alpha*e.alpha;var c=e.width;var f=e.height;var d=e.cellWidth;var v=e.cellHeight;var p=Math.ceil(c/d);var g=Math.ceil(f/v);var m=d;var y=v;var x=d-(p*d-c);var b=v-(g*v-f);var T=e.showCells;var w=e.showAltCells;var E=e.showOutline;var S=0;var A=0;var C=0;var O=0;var P=0;if(E){m--;y--;if(x===d){x--}if(b===v){b--}}if(T&&e.fillAlpha>0){r(o,e);for(A=0;A<g;A++){if(w){C=A%2}for(S=0;S<p;S++){if(w&&C){C=0;continue}C++;O=S<p-1?m:x;P=A<g-1?y:b;o.fillRect(l+S*d,h+A*v,O,P)}}}if(w&&e.altFillAlpha>0){r(o,e,e.altFillColor,e.altFillAlpha*u);for(A=0;A<g;A++){if(w){C=A%2}for(S=0;S<p;S++){if(w&&!C){C=1;continue}C=0;O=S<p-1?m:x;P=A<g-1?y:b;o.fillRect(l+S*d,h+A*v,O,P)}}}if(E&&e.outlineFillAlpha>0){s(o,e,e.outlineFillColor,e.outlineFillAlpha*u);for(S=1;S<p;S++){var I=S*d;o.beginPath();o.moveTo(I+l,h);o.lineTo(I+l,f+h);o.stroke()}for(A=1;A<g;A++){var R=A*v;o.beginPath();o.moveTo(l,R+h);o.lineTo(l+c,R+h);o.stroke()}}o.restore()}};t.exports=GridCanvasRenderer},34137:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(30479);r.register("grid",(function(t,e,i,r,n,a,o,l,h,u){return this.displayList.add(new s(this.scene,t,e,i,r,n,a,o,l,h,u))}))},26015:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(46161)}{n=i(49912)}t.exports={renderWebGL:s,renderCanvas:n}},46161:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var GridWebGLRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline);var o=r(e,i,n);var l=a.calcMatrix.copyFrom(o.calc);l.translate(-e._displayOriginX,-e._displayOriginY);var h=i.alpha*e.alpha;var u=e.width;var c=e.height;var f=e.cellWidth;var d=e.cellHeight;var v=Math.ceil(u/f);var p=Math.ceil(c/d);var g=f;var m=d;var y=f-(v*f-u);var x=d-(p*d-c);var b;var T;var w=e.showCells;var E=e.showAltCells;var S=e.showOutline;var A=0;var C=0;var O=0;var P=0;var I=0;if(S){g--;m--;if(y===f){y--}if(x===d){x--}}t.pipelines.preBatch(e);if(w&&e.fillAlpha>0){b=a.fillTint;T=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*h);b.TL=T;b.TR=T;b.BL=T;b.BR=T;for(C=0;C<p;C++){if(E){O=C%2}for(A=0;A<v;A++){if(E&&O){O=0;continue}O++;P=A<v-1?g:y;I=C<p-1?m:x;a.batchFillRect(A*f,C*d,P,I)}}}if(E&&e.altFillAlpha>0){b=a.fillTint;T=s.getTintAppendFloatAlpha(e.altFillColor,e.altFillAlpha*h);b.TL=T;b.TR=T;b.BL=T;b.BR=T;for(C=0;C<p;C++){if(E){O=C%2}for(A=0;A<v;A++){if(E&&!O){O=1;continue}O=0;P=A<v-1?g:y;I=C<p-1?m:x;a.batchFillRect(A*f,C*d,P,I)}}}if(S&&e.outlineFillAlpha>0){var R=a.strokeTint;var M=s.getTintAppendFloatAlpha(e.outlineFillColor,e.outlineFillAlpha*h);R.TL=M;R.TR=M;R.BL=M;R.BR=M;for(A=1;A<v;A++){var L=A*f;a.batchLine(L,0,L,c,1,1,1,0,false)}for(C=1;C<p;C++){var D=C*d;a.batchLine(0,D,u,D,1,1,1,0,false)}}t.pipelines.postBatch(e)};t.exports=GridWebGLRenderer},61475:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(99651);var s=i(83419);var n=i(17803);var a=new s({Extends:n,Mixins:[r],initialize:function IsoBox2(t,e,i,r,s,a,o,l){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=48}if(s===void 0){s=32}if(a===void 0){a=15658734}if(o===void 0){o=10066329}if(l===void 0){l=13421772}n.call(this,t,"IsoBox",null);this.projection=4;this.fillTop=a;this.fillLeft=o;this.fillRight=l;this.showTop=true;this.showLeft=true;this.showRight=true;this.isFilled=true;this.setPosition(e,i);this.setSize(r,s);this.updateDisplayOrigin()},setProjection:function(t){this.projection=t;return this},setFaces:function(t,e,i){if(t===void 0){t=true}if(e===void 0){e=true}if(i===void 0){i=true}this.showTop=t;this.showLeft=e;this.showRight=i;return this},setFillStyle:function(t,e,i){this.fillTop=t;this.fillLeft=e;this.fillRight=i;this.isFilled=true;return this}});t.exports=a},11508:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(20926);var IsoBoxCanvasRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,n)&&e.isFilled){var o=e.width;var l=e.height;var h=o/2;var u=o/e.projection;if(e.showTop){r(a,e,e.fillTop);a.beginPath();a.moveTo(-h,-l);a.lineTo(0,-u-l);a.lineTo(h,-l);a.lineTo(h,-1);a.lineTo(0,u-1);a.lineTo(-h,-1);a.lineTo(-h,-l);a.fill()}if(e.showLeft){r(a,e,e.fillLeft);a.beginPath();a.moveTo(-h,0);a.lineTo(0,u);a.lineTo(0,u-l);a.lineTo(-h,-l);a.lineTo(-h,0);a.fill()}if(e.showRight){r(a,e,e.fillRight);a.beginPath();a.moveTo(h,0);a.lineTo(0,u);a.lineTo(0,u-l);a.lineTo(h,-l);a.lineTo(h,0);a.fill()}a.restore()}};t.exports=IsoBoxCanvasRenderer},3933:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(61475);r.register("isobox",(function(t,e,i,r,n,a,o){return this.displayList.add(new s(this.scene,t,e,i,r,n,a,o))}))},99651:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(68149)}{n=i(11508)}t.exports={renderWebGL:s,renderCanvas:n}},68149:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var IsoBoxWebGLRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline);var o=r(e,i,n);var l=a.calcMatrix.copyFrom(o.calc);var h=e.width;var u=e.height;var c=h/2;var f=h/e.projection;var d=i.alpha*e.alpha;if(!e.isFilled){return}var v;var p;var g;var m;var y;var x;var b;var T;var w;t.pipelines.preBatch(e);if(e.showTop){v=s.getTintAppendFloatAlpha(e.fillTop,d);p=l.getX(-c,-u);g=l.getY(-c,-u);m=l.getX(0,-f-u);y=l.getY(0,-f-u);x=l.getX(c,-u);b=l.getY(c,-u);T=l.getX(0,f-u);w=l.getY(0,f-u);a.batchQuad(e,p,g,m,y,x,b,T,w,0,0,1,1,v,v,v,v,2)}if(e.showLeft){v=s.getTintAppendFloatAlpha(e.fillLeft,d);p=l.getX(-c,0);g=l.getY(-c,0);m=l.getX(0,f);y=l.getY(0,f);x=l.getX(0,f-u);b=l.getY(0,f-u);T=l.getX(-c,-u);w=l.getY(-c,-u);a.batchQuad(e,p,g,m,y,x,b,T,w,0,0,1,1,v,v,v,v,2)}if(e.showRight){v=s.getTintAppendFloatAlpha(e.fillRight,d);p=l.getX(c,0);g=l.getY(c,0);m=l.getX(0,f);y=l.getY(0,f);x=l.getX(0,f-u);b=l.getY(0,f-u);T=l.getX(c,-u);w=l.getY(c,-u);a.batchQuad(e,p,g,m,y,x,b,T,w,0,0,1,1,v,v,v,v,2)}t.pipelines.postBatch(e)};t.exports=IsoBoxWebGLRenderer},16933:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(60561);var n=i(17803);var a=new r({Extends:n,Mixins:[s],initialize:function IsoTriangle2(t,e,i,r,s,a,o,l,h){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=48}if(s===void 0){s=32}if(a===void 0){a=false}if(o===void 0){o=15658734}if(l===void 0){l=10066329}if(h===void 0){h=13421772}n.call(this,t,"IsoTriangle",null);this.projection=4;this.fillTop=o;this.fillLeft=l;this.fillRight=h;this.showTop=true;this.showLeft=true;this.showRight=true;this.isReversed=a;this.isFilled=true;this.setPosition(e,i);this.setSize(r,s);this.updateDisplayOrigin()},setProjection:function(t){this.projection=t;return this},setReversed:function(t){this.isReversed=t;return this},setFaces:function(t,e,i){if(t===void 0){t=true}if(e===void 0){e=true}if(i===void 0){i=true}this.showTop=t;this.showLeft=e;this.showRight=i;return this},setFillStyle:function(t,e,i){this.fillTop=t;this.fillLeft=e;this.fillRight=i;this.isFilled=true;return this}});t.exports=a},79590:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(20926);var IsoTriangleCanvasRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,n)&&e.isFilled){var o=e.width;var l=e.height;var h=o/2;var u=o/e.projection;var c=e.isReversed;if(e.showTop&&c){r(a,e,e.fillTop);a.beginPath();a.moveTo(-h,-l);a.lineTo(0,-u-l);a.lineTo(h,-l);a.lineTo(0,u-l);a.fill()}if(e.showLeft){r(a,e,e.fillLeft);a.beginPath();if(c){a.moveTo(-h,-l);a.lineTo(0,u);a.lineTo(0,u-l)}else{a.moveTo(-h,0);a.lineTo(0,u);a.lineTo(0,u-l)}a.fill()}if(e.showRight){r(a,e,e.fillRight);a.beginPath();if(c){a.moveTo(h,-l);a.lineTo(0,u);a.lineTo(0,u-l)}else{a.moveTo(h,0);a.lineTo(0,u);a.lineTo(0,u-l)}a.fill()}a.restore()}};t.exports=IsoTriangleCanvasRenderer},49803:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(16933);r.register("isotriangle",(function(t,e,i,r,n,a,o,l){return this.displayList.add(new s(this.scene,t,e,i,r,n,a,o,l))}))},60561:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(51503)}{n=i(79590)}t.exports={renderWebGL:s,renderCanvas:n}},51503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var IsoTriangleWebGLRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline);var o=r(e,i,n);var l=a.calcMatrix.copyFrom(o.calc);var h=e.width;var u=e.height;var c=h/2;var f=h/e.projection;var d=e.isReversed;var v=i.alpha*e.alpha;if(!e.isFilled){return}t.pipelines.preBatch(e);var p;var g;var m;var y;var x;var b;var T;if(e.showTop&&d){p=s.getTintAppendFloatAlpha(e.fillTop,v);g=l.getX(-c,-u);m=l.getY(-c,-u);y=l.getX(0,-f-u);x=l.getY(0,-f-u);b=l.getX(c,-u);T=l.getY(c,-u);var w=l.getX(0,f-u);var E=l.getY(0,f-u);a.batchQuad(e,g,m,y,x,b,T,w,E,0,0,1,1,p,p,p,p,2)}if(e.showLeft){p=s.getTintAppendFloatAlpha(e.fillLeft,v);if(d){g=l.getX(-c,-u);m=l.getY(-c,-u);y=l.getX(0,f);x=l.getY(0,f);b=l.getX(0,f-u);T=l.getY(0,f-u)}else{g=l.getX(-c,0);m=l.getY(-c,0);y=l.getX(0,f);x=l.getY(0,f);b=l.getX(0,f-u);T=l.getY(0,f-u)}a.batchTri(e,g,m,y,x,b,T,0,0,1,1,p,p,p,2)}if(e.showRight){p=s.getTintAppendFloatAlpha(e.fillRight,v);if(d){g=l.getX(c,-u);m=l.getY(c,-u);y=l.getX(0,f);x=l.getY(0,f);b=l.getX(0,f-u);T=l.getY(0,f-u)}else{g=l.getX(c,0);m=l.getY(c,0);y=l.getX(0,f);x=l.getY(0,f);b=l.getX(0,f-u);T=l.getY(0,f-u)}a.batchTri(e,g,m,y,x,b,T,0,0,1,1,p,p,p,2)}t.pipelines.postBatch(e)};t.exports=IsoTriangleWebGLRenderer},57847:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(17803);var n=i(23031);var a=i(36823);var o=new r({Extends:s,Mixins:[a],initialize:function Line2(t,e,i,r,a,o,l,h,u){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(a===void 0){a=0}if(o===void 0){o=128}if(l===void 0){l=0}s.call(this,t,"Line",new n(r,a,o,l));var c=Math.max(1,this.geom.right-this.geom.left);var f=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1;this._startWidth=1;this._endWidth=1;this.setPosition(e,i);this.setSize(c,f);if(h!==void 0){this.setStrokeStyle(1,h,u)}this.updateDisplayOrigin()},setLineWidth:function(t,e){if(e===void 0){e=t}this._startWidth=t;this._endWidth=e;this.lineWidth=t;return this},setTo:function(t,e,i,r){this.geom.setTo(t,e,i,r);return this}});t.exports=o},17440:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(75177);var s=i(20926);var LineCanvasRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,n)){var o=e._displayOriginX;var l=e._displayOriginY;if(e.isStroked){r(a,e);a.beginPath();a.moveTo(e.geom.x1-o,e.geom.y1-l);a.lineTo(e.geom.x2-o,e.geom.y2-l);a.stroke()}a.restore()}};t.exports=LineCanvasRenderer},2481:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(57847);r.register("line",(function(t,e,i,r,n,a,o,l){return this.displayList.add(new s(this.scene,t,e,i,r,n,a,o,l))}))},36823:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(77385)}{n=i(17440)}t.exports={renderWebGL:s,renderCanvas:n}},77385:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(70554);var LineWebGLRenderer=function(t,e,i,n){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline);var o=r(e,i,n);a.calcMatrix.copyFrom(o.calc);var l=e._displayOriginX;var h=e._displayOriginY;var u=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isStroked){var c=a.strokeTint;var f=s.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*u);c.TL=f;c.TR=f;c.BL=f;c.BR=f;a.batchLine(e.geom.x1-l,e.geom.y1-h,e.geom.x2-l,e.geom.y2-h,e._startWidth/2,e._endWidth/2,1,0,false,o.sprite,o.camera)}t.pipelines.postBatch(e)};t.exports=LineWebGLRenderer},24949:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(90273);var s=i(83419);var n=i(94811);var a=i(13829);var o=i(25717);var l=i(17803);var h=i(5469);var u=new s({Extends:l,Mixins:[r],initialize:function Polygon2(t,e,i,r,s,n){if(e===void 0){e=0}if(i===void 0){i=0}l.call(this,t,"Polygon",new o(r));var h=a(this.geom);this.setPosition(e,i);this.setSize(h.width,h.height);if(s!==void 0){this.setFillStyle(s,n)}this.updateDisplayOrigin();this.updateData()},smooth:function(t){if(t===void 0){t=1}for(var e=0;e<t;e++){h(this.geom)}return this.updateData()},setTo:function(t){this.geom.setTo(t);var e=a(this.geom);this.setSize(e.width,e.height);this.updateDisplayOrigin();return this.updateData()},updateData:function(){var t=[];var e=this.geom.points;for(var i=0;i<e.length;i++){t.push(e[i].x,e[i].y)}t.push(e[0].x,e[0].y);this.pathIndexes=n(t);this.pathData=t;return this}});t.exports=u},38710:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var PolygonCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX;var h=e._displayOriginY;var u=e.pathData;var c=u.length-1;var f=u[0]-l;var d=u[1]-h;o.beginPath();o.moveTo(f,d);if(!e.closePath){c-=2}for(var v=2;v<c;v+=2){var p=u[v]-l;var g=u[v+1]-h;o.lineTo(p,g)}if(e.closePath){o.closePath()}if(e.isFilled){r(o,e);o.fill()}if(e.isStroked){s(o,e);o.stroke()}o.restore()}};t.exports=PolygonCanvasRenderer},64827:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(24949);r.register("polygon",(function(t,e,i,r,n){return this.displayList.add(new s(this.scene,t,e,i,r,n))}))},90273:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(73695)}{n=i(38710)}t.exports={renderWebGL:s,renderCanvas:n}},73695:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10441);var s=i(91296);var n=i(34682);var PolygonWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=s(e,i,a);var h=o.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX;var c=e._displayOriginY;var f=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){r(o,h,e,f,u,c)}if(e.isStroked){n(o,e,f,u,c)}t.pipelines.postBatch(e)};t.exports=PolygonWebGLRenderer},74561:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(87841);var n=i(17803);var a=i(95597);var o=new r({Extends:n,Mixins:[a],initialize:function Rectangle2(t,e,i,r,a,o,l){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=128}if(a===void 0){a=128}n.call(this,t,"Rectangle",new s(0,0,r,a));this.setPosition(e,i);this.setSize(r,a);if(o!==void 0){this.setFillStyle(o,l)}this.updateDisplayOrigin();this.updateData()},setSize:function(t,e){this.width=t;this.height=e;this.geom.setSize(t,e);this.updateData();this.updateDisplayOrigin();var i=this.input;if(i&&!i.customHitArea){i.hitArea.width=t;i.hitArea.height=e}return this},updateData:function(){var t=[];var e=this.geom;var i=this._tempLine;e.getLineA(i);t.push(i.x1,i.y1,i.x2,i.y2);e.getLineB(i);t.push(i.x2,i.y2);e.getLineC(i);t.push(i.x2,i.y2);e.getLineD(i);t.push(i.x2,i.y2);this.pathData=t;return this}});t.exports=o},48682:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var RectangleCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX;var h=e._displayOriginY;if(e.isFilled){r(o,e);o.fillRect(-l,-h,e.width,e.height)}if(e.isStroked){s(o,e);o.beginPath();o.rect(-l,-h,e.width,e.height);o.stroke()}o.restore()}};t.exports=RectangleCanvasRenderer},87959:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(74561);r.register("rectangle",(function(t,e,i,r,n,a){return this.displayList.add(new s(this.scene,t,e,i,r,n,a))}))},95597:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(52059)}{n=i(48682)}t.exports={renderWebGL:s,renderCanvas:n}},52059:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(34682);var n=i(70554);var RectangleWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=r(e,i,a);o.calcMatrix.copyFrom(l.calc);var h=e._displayOriginX;var u=e._displayOriginY;var c=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){var f=o.fillTint;var d=n.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);f.TL=d;f.TR=d;f.BL=d;f.BR=d;o.batchFillRect(-h,-u,e.width,e.height)}if(e.isStroked){s(o,e,c,h,u)}t.pipelines.postBatch(e)};t.exports=RectangleWebGLRenderer},55911:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(81991);var s=i(83419);var n=i(94811);var a=i(17803);var o=new s({Extends:a,Mixins:[r],initialize:function Star2(t,e,i,r,s,n,o,l){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=5}if(s===void 0){s=32}if(n===void 0){n=64}a.call(this,t,"Star",null);this._points=r;this._innerRadius=s;this._outerRadius=n;this.setPosition(e,i);this.setSize(n*2,n*2);if(o!==void 0){this.setFillStyle(o,l)}this.updateDisplayOrigin();this.updateData()},setPoints:function(t){this._points=t;return this.updateData()},setInnerRadius:function(t){this._innerRadius=t;return this.updateData()},setOuterRadius:function(t){this._outerRadius=t;return this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t;this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t;this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t;this.updateData()}},updateData:function(){var t=[];var e=this._points;var i=this._innerRadius;var r=this._outerRadius;var s=Math.PI/2*3;var a=Math.PI/e;var o=r;var l=r;t.push(o,l+-r);for(var h=0;h<e;h++){t.push(o+Math.cos(s)*r,l+Math.sin(s)*r);s+=a;t.push(o+Math.cos(s)*i,l+Math.sin(s)*i);s+=a}t.push(o,l+-r);this.pathIndexes=n(t);this.pathData=t;return this}});t.exports=o},64272:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var StarCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX;var h=e._displayOriginY;var u=e.pathData;var c=u.length-1;var f=u[0]-l;var d=u[1]-h;o.beginPath();o.moveTo(f,d);if(!e.closePath){c-=2}for(var v=2;v<c;v+=2){var p=u[v]-l;var g=u[v+1]-h;o.lineTo(p,g)}o.closePath();if(e.isFilled){r(o,e);o.fill()}if(e.isStroked){s(o,e);o.stroke()}o.restore()}};t.exports=StarCanvasRenderer},93697:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(55911);var s=i(39429);s.register("star",(function(t,e,i,s,n,a,o){return this.displayList.add(new r(this.scene,t,e,i,s,n,a,o))}))},81991:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(57017)}{n=i(64272)}t.exports={renderWebGL:s,renderCanvas:n}},57017:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10441);var s=i(91296);var n=i(34682);var StarWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=s(e,i,a);var h=o.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX;var c=e._displayOriginY;var f=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){r(o,h,e,f,u,c)}if(e.isStroked){n(o,e,f,u,c)}t.pipelines.postBatch(e)};t.exports=StarWebGLRenderer},36931:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(17803);var n=i(16483);var a=i(96195);var o=new r({Extends:s,Mixins:[a],initialize:function Triangle2(t,e,i,r,a,o,l,h,u,c,f){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(a===void 0){a=128}if(o===void 0){o=64}if(l===void 0){l=0}if(h===void 0){h=128}if(u===void 0){u=128}s.call(this,t,"Triangle",new n(r,a,o,l,h,u));var d=this.geom.right-this.geom.left;var v=this.geom.bottom-this.geom.top;this.setPosition(e,i);this.setSize(d,v);if(c!==void 0){this.setFillStyle(c,f)}this.updateDisplayOrigin();this.updateData()},setTo:function(t,e,i,r,s,n){this.geom.setTo(t,e,i,r,s,n);return this.updateData()},updateData:function(){var t=[];var e=this.geom;var i=this._tempLine;e.getLineA(i);t.push(i.x1,i.y1,i.x2,i.y2);e.getLineB(i);t.push(i.x2,i.y2);e.getLineC(i);t.push(i.x2,i.y2);this.pathData=t;return this}});t.exports=o},85172:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(65960);var s=i(75177);var n=i(20926);var TriangleCanvasRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,a)){var l=e._displayOriginX;var h=e._displayOriginY;var u=e.geom.x1-l;var c=e.geom.y1-h;var f=e.geom.x2-l;var d=e.geom.y2-h;var v=e.geom.x3-l;var p=e.geom.y3-h;o.beginPath();o.moveTo(u,c);o.lineTo(f,d);o.lineTo(v,p);o.closePath();if(e.isFilled){r(o,e);o.fill()}if(e.isStroked){s(o,e);o.stroke()}o.restore()}};t.exports=TriangleCanvasRenderer},45245:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(36931);r.register("triangle",(function(t,e,i,r,n,a,o,l,h,u){return this.displayList.add(new s(this.scene,t,e,i,r,n,a,o,l,h,u))}))},96195:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(83253)}{n=i(85172)}t.exports={renderWebGL:s,renderCanvas:n}},83253:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var s=i(34682);var n=i(70554);var TriangleWebGLRenderer=function(t,e,i,a){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline);var l=r(e,i,a);o.calcMatrix.copyFrom(l.calc);var h=e._displayOriginX;var u=e._displayOriginY;var c=i.alpha*e.alpha;t.pipelines.preBatch(e);if(e.isFilled){var f=o.fillTint;var d=n.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);f.TL=d;f.TR=d;f.BL=d;f.BR=d;var v=e.geom.x1-h;var p=e.geom.y1-u;var g=e.geom.x2-h;var m=e.geom.y2-u;var y=e.geom.x3-h;var x=e.geom.y3-u;o.batchFillTriangle(v,p,g,m,y,x,l.sprite,l.camera)}if(e.isStroked){s(o,e,c,h,u)}t.pipelines.postBatch(e)};t.exports=TriangleWebGLRenderer},68287:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(9674);var s=i(83419);var n=i(31401);var a=i(95643);var o=i(92751);var l=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,o],initialize:function Sprite2(t,e,i,s,n){a.call(this,t,"Sprite");this._crop=this.resetCropObject();this.anims=new r(this);this.setTexture(s,n);this.setPosition(e,i);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(true)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e){return this.anims.play(t,e)},playReverse:function(t,e){return this.anims.playReverse(t,e)},playAfterDelay:function(t,e){return this.anims.playAfterDelay(t,e)},playAfterRepeat:function(t,e){return this.anims.playAfterRepeat(t,e)},chain:function(t){return this.anims.chain(t)},stop:function(){return this.anims.stop()},stopAfterDelay:function(t){return this.anims.stopAfterDelay(t)},stopAfterRepeat:function(t){return this.anims.stopAfterRepeat(t)},stopOnFrame:function(t){return this.anims.stopOnFrame(t)},toJSON:function(){return n.ToJSON(this)},preDestroy:function(){this.anims.destroy();this.anims=void 0}});t.exports=l},76552:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpriteCanvasRenderer=function(t,e,i,r){i.addToRenderList(e);t.batchSprite(e,e.frame,i,r)};t.exports=SpriteCanvasRenderer},15567:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(13059);var n=i(44603);var a=i(23568);var o=i(68287);n.register("sprite",(function(t,e){if(t===void 0){t={}}var i=a(t,"key",null);var n=a(t,"frame",null);var l=new o(this.scene,0,0,i,n);if(e!==void 0){t.add=e}r(this.scene,l,t);s(l,t);return l}))},46409:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(68287);r.register("sprite",(function(t,e,i,r){return this.displayList.add(new s(this.scene,t,e,i,r))}))},92751:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(9409)}{n=i(76552)}t.exports={renderWebGL:s,renderCanvas:n}},9409:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpriteWebGLRenderer=function(t,e,i,r){i.addToRenderList(e);e.pipeline.batchSprite(e,i,r)};t.exports=SpriteWebGLRenderer},14220:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetTextSize=function(t,e,i){var r=t.canvas;var s=t.context;var n=t.style;var a=[];var o=0;var l=i.length;if(n.maxLines>0&&n.maxLines<i.length){l=n.maxLines}n.syncFont(r,s);var h=t.letterSpacing;for(var u=0;u<l;u++){var c=n.strokeThickness;if(h===0){c+=s.measureText(i[u]).width}else{var f=i[u];for(var d=0;d<f.length;d++){c+=s.measureText(f[d]).width}if(f.length>1){c+=h*(f.length-1)}}if(n.wordWrap){c-=s.measureText(" ").width}a[u]=Math.ceil(c);o=Math.max(o,a[u])}var v=e.fontSize+n.strokeThickness;var p=v*l;var g=t.lineSpacing;if(l>1){p+=g*(l-1)}return{width:o,height:p,lines:l,lineWidths:a,lineSpacing:g,lineHeight:v}};t.exports=GetTextSize},79557:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var MeasureText=function(t){var e=r.create(this);var i=e.getContext("2d",{willReadFrequently:true});t.syncFont(e,i);var s=i.measureText(t.testString);if("actualBoundingBoxAscent"in s){var n=s.actualBoundingBoxAscent;var a=s.actualBoundingBoxDescent;r.remove(e);return{ascent:n,descent:a,fontSize:n+a}}var o=Math.ceil(s.width*t.baselineX);var l=o;var h=2*l;l=l*t.baselineY|0;e.width=o;e.height=h;i.fillStyle="#f00";i.fillRect(0,0,o,h);i.font=t._font;i.textBaseline="alphabetic";i.fillStyle="#000";i.fillText(t.testString,0,l);var u={ascent:0,descent:0,fontSize:0};var c=i.getImageData(0,0,o,h);if(!c){u.ascent=l;u.descent=l+6;u.fontSize=u.ascent+u.descent;r.remove(e);return u}var f=c.data;var d=f.length;var v=o*4;var p;var g;var m=0;var y=false;for(p=0;p<l;p++){for(g=0;g<v;g+=4){if(f[m+g]!==255){y=true;break}}if(!y){m+=v}else{break}}u.ascent=l-p;m=d-v;y=false;for(p=h;p>l;p--){for(g=0;g<v;g+=4){if(f[m+g]!==255){y=true;break}}if(!y){m-=v}else{break}}u.descent=p-l;u.fontSize=u.ascent+u.descent;r.remove(e);return u};t.exports=MeasureText},50171:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(40366);var s=i(27919);var n=i(83419);var a=i(31401);var o=i(95643);var l=i(14220);var h=i(35154);var u=i(35846);var c=i(61771);var f=i(35762);var d=i(45650);var v=new n({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,c],initialize:function Text2(t,e,i,r,n){if(e===void 0){e=0}if(i===void 0){i=0}o.call(this,t,"Text");this.renderer=t.sys.renderer;this.setPosition(e,i);this.setOrigin(0,0);this.initPipeline();this.initPostPipeline(true);this.canvas=s.create(this);this.context;this.style=new f(this,n);this.autoRound=true;this.splitRegExp=/(?:\r\n|\r|\n)/;this._text=void 0;this.padding={left:0,right:0,top:0,bottom:0};this.width=1;this.height=1;this.lineSpacing=0;this.letterSpacing=0;if(this.style.resolution===0){this.style.resolution=1}this._crop=this.resetCropObject();this._textureKey=d();this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas);this.context=this.texture.context;this.frame=this.texture.get();this.frame.source.resolution=this.style.resolution;if(this.renderer&&this.renderer.gl){this.renderer.deleteTexture(this.frame.source.glTexture);this.frame.source.glTexture=null}this.initRTL();this.setText(r);if(n&&n.padding){this.setPadding(n.padding)}if(n&&n.lineSpacing){this.setLineSpacing(n.lineSpacing)}if(n&&n.letterSpacing){this.setLetterSpacing(n.letterSpacing)}},initRTL:function(){if(!this.style.rtl){return}this.canvas.dir="rtl";this.context.direction="rtl";this.canvas.style.display="none";r(this.canvas,this.scene.sys.canvas);this.originX=1},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);if(Array.isArray(i)){i=i.join("\n")}return i}else if(e.wordWrapWidth){if(e.wordWrapUseAdvanced){return this.advancedWordWrap(t,this.context,this.style.wordWrapWidth)}else{return this.basicWordWrap(t,this.context,this.style.wordWrapWidth)}}else{return t}},advancedWordWrap:function(t,e,i){var r="";var s=t.replace(/ +/gi," ").split(this.splitRegExp);var n=s.length;for(var a=0;a<n;a++){var o=s[a];var l="";o=o.replace(/^ *|\s*$/gi,"");var h=o.length*this.letterSpacing;var u=e.measureText(o).width+h;if(u<i){r+=o+"\n";continue}var c=i;var f=o.split(" ");for(var d=0;d<f.length;d++){var v=f[d];var p=v+" ";var g=p.length*this.letterSpacing;var m=e.measureText(p).width+g;console.log(f.length,v);if(m>c){if(d===0){var y=p;while(y.length){y=y.slice(0,-1);var x=y.length*this.letterSpacing;m=e.measureText(y).width+x;if(m<=c){break}}if(!y.length){throw new Error("wordWrapWidth < a single character")}var b=v.substr(y.length);f[d]=b;l+=y}var T=f[d].length?d:d+1;var w=f.slice(T).join(" ").replace(/[ \n]*$/gi,"");s.splice(a+1,0,w);n=s.length;break}else{l+=p;c-=m}}r+=l.replace(/[ \n]*$/gi,"")+"\n"}r=r.replace(/[\s|\n]*$/gi,"");return r},basicWordWrap:function(t,e,i){var r="";var s=t.split(this.splitRegExp);var n=s.length-1;var a=e.measureText(" ").width;for(var o=0;o<=n;o++){var l=i;var h=s[o].split(" ");var u=h.length-1;for(var c=0;c<=u;c++){var f=h[c];var d=f.length*this.letterSpacing;var v=e.measureText(f).width+d;var p=v;if(c<u){p+=a}if(p>l){if(c>0){r+="\n";l=i}}r+=f;if(c<u){r+=" ";l-=p}else{l-=v}}if(o<n){r+="\n"}}return r},getWrappedText:function(t){if(t===void 0){t=this._text}this.style.syncFont(this.canvas,this.context);var e=this.runWordWrap(t);return e.split(this.splitRegExp)},setText:function(t){if(!t&&t!==0){t=""}if(Array.isArray(t)){t=t.join("\n")}if(t!==this._text){this._text=t.toString();this.updateText()}return this},appendText:function(t,e){if(e===void 0){e=true}if(!t&&t!==0){t=""}if(Array.isArray(t)){t=t.join("\n")}t=t.toString();var i=this._text.concat(e?"\n"+t:t);if(i!==this._text){this._text=i;this.updateText()}return this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,r,s,n){return this.style.setShadow(t,e,i,r,s,n)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){this.lineSpacing=t;return this.updateText()},setLetterSpacing:function(t){this.letterSpacing=t;return this.updateText()},setPadding:function(t,e,i,r){if(typeof t==="object"){var s=t;var n=h(s,"x",null);if(n!==null){t=n;i=n}else{t=h(s,"left",0);i=h(s,"right",t)}var a=h(s,"y",null);if(a!==null){e=a;r=a}else{e=h(s,"top",0);r=h(s,"bottom",e)}}else{if(t===void 0){t=0}if(e===void 0){e=t}if(i===void 0){i=t}if(r===void 0){r=e}}this.padding.left=t;this.padding.top=e;this.padding.right=i;this.padding.bottom=r;return this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},setRTL:function(t){if(t===void 0){t=true}var e=this.style;if(e.rtl===t){return this}e.rtl=t;if(t){this.canvas.dir="rtl";this.context.direction="rtl";this.canvas.style.display="none";r(this.canvas,this.scene.sys.canvas)}else{this.canvas.dir="ltr";this.context.direction="ltr"}if(e.align==="left"){e.align="right"}else if(e.align==="right"){e.align="left"}return this},updateText:function(){var t=this.canvas;var e=this.context;var i=this.style;var r=i.resolution;var s=i.metrics;i.syncFont(t,e);var n=this._text;if(i.wordWrapWidth||i.wordWrapCallback){n=this.runWordWrap(this._text)}var a=n.split(this.splitRegExp);var o=l(this,s,a);var h=this.padding;var u;if(i.fixedWidth===0){this.width=o.width+h.left+h.right;u=o.width}else{this.width=i.fixedWidth;u=this.width-h.left-h.right;if(u<o.width){u=o.width}}if(i.fixedHeight===0){this.height=o.height+h.top+h.bottom}else{this.height=i.fixedHeight}var c=this.width;var f=this.height;this.updateDisplayOrigin();c*=r;f*=r;c=Math.max(c,1);f=Math.max(f,1);if(t.width!==c||t.height!==f){t.width=c;t.height=f;this.frame.setSize(c,f);i.syncFont(t,e);if(i.rtl){e.direction="rtl"}}else{e.clearRect(0,0,c,f)}e.save();e.scale(r,r);if(i.backgroundColor){e.fillStyle=i.backgroundColor;e.fillRect(0,0,c,f)}i.syncStyle(t,e);e.translate(h.left,h.top);var d;var v;for(var p=0;p<o.lines;p++){d=i.strokeThickness/2;v=i.strokeThickness/2+p*o.lineHeight+s.ascent;if(p>0){v+=o.lineSpacing*p}if(i.rtl){d=c-d-h.left-h.right}else if(i.align==="right"){d+=u-o.lineWidths[p]}else if(i.align==="center"){d+=(u-o.lineWidths[p])/2}else if(i.align==="justify"){var g=.85;if(o.lineWidths[p]/o.width>=g){var m=o.width-o.lineWidths[p];var y=e.measureText(" ").width;var x=a[p].trim();var b=x.split(" ");m+=(a[p].length-x.length)*y;var T=Math.floor(m/y);var w=0;while(T>0){b[w]+=" ";w=(w+1)%(b.length-1||1);--T}a[p]=b.join(" ")}}if(this.autoRound){d=Math.round(d);v=Math.round(v)}var E=this.letterSpacing;if(i.strokeThickness&&E===0){i.syncShadow(e,i.shadowStroke);e.strokeText(a[p],d,v)}if(i.color){i.syncShadow(e,i.shadowFill);if(E!==0){var S=0;var A=a[p].split("");for(var C=0;C<A.length;C++){if(i.strokeThickness){i.syncShadow(e,i.shadowStroke);e.strokeText(A[C],d+S,v);i.syncShadow(e,i.shadowFill)}e.fillText(A[C],d+S,v);S+=e.measureText(A[C]).width+E}}else{e.fillText(a[p],d,v)}}}e.restore();if(this.renderer&&this.renderer.gl){this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,true)}var O=this.input;if(O&&!O.customHitArea){O.hitArea.width=this.width;O.hitArea.height=this.height}return this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=a.ToJSON(this);var e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};t.data=e;return t},preDestroy:function(){u(this.canvas);s.remove(this.canvas);var t=this.texture;if(t){t.destroy()}}});t.exports=v},79724:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TextCanvasRenderer=function(t,e,i,r){if(e.width===0||e.height===0){return}i.addToRenderList(e);t.batchSprite(e,e.frame,i,r)};t.exports=TextCanvasRenderer},71259:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(50171);s.register("text",(function(t,e){if(t===void 0){t={}}var i=n(t,"text","");var s=n(t,"style",null);var o=n(t,"padding",null);if(o!==null){s.padding=o}var l=new a(this.scene,0,0,i,s);if(e!==void 0){t.add=e}r(this.scene,l,t);l.autoRound=n(t,"autoRound",true);l.resolution=n(t,"resolution",1);return l}))},68005:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(50171);var s=i(39429);s.register("text",(function(t,e,i,s){return this.displayList.add(new r(this.scene,t,e,i,s))}))},61771:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(34397)}{n=i(79724)}t.exports={renderWebGL:s,renderCanvas:n}},35762:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23568);var n=i(35154);var a=i(79557);var o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",false],shadowFill:["shadow.fill",false],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",false],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",false]};var l=new r({initialize:function TextStyle2(t,e){this.parent=t;this.fontFamily;this.fontSize;this.fontStyle;this.backgroundColor;this.color;this.stroke;this.strokeThickness;this.shadowOffsetX;this.shadowOffsetY;this.shadowColor;this.shadowBlur;this.shadowStroke;this.shadowFill;this.align;this.maxLines;this.fixedWidth;this.fixedHeight;this.resolution;this.rtl;this.testString;this.baselineX;this.baselineY;this.wordWrapWidth;this.wordWrapCallback;this.wordWrapCallbackScope;this.wordWrapUseAdvanced;this._font;this.setStyle(e,false,true)},setStyle:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=false}for(var r in o){var l=i?o[r][1]:this[r];if(r==="wordWrapCallback"||r==="wordWrapCallbackScope"){this[r]=n(t,o[r][0],l)}else if(t&&r==="fontSize"&&typeof t.fontSize==="number"){this[r]=t.fontSize.toString()+"px"}else{this[r]=s(t,o[r][0],l)}}var h=n(t,"font",null);if(h!==null){this.setFont(h,false)}this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=n(t,"fill",null);if(u!==null){this.color=u}var c=n(t,"metrics",false);if(c){this.metrics={ascent:n(c,"ascent",0),descent:n(c,"descent",0),fontSize:n(c,"fontSize",0)}}else if(e||!this.metrics){this.metrics=a(this)}if(e){return this.parent.updateText()}else{return this.parent}},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic";e.fillStyle=this.color;e.strokeStyle=this.stroke;e.lineWidth=this.strokeThickness;e.lineCap="round";e.lineJoin="round"},syncShadow:function(t,e){if(e){t.shadowOffsetX=this.shadowOffsetX;t.shadowOffsetY=this.shadowOffsetY;t.shadowColor=this.shadowColor;t.shadowBlur=this.shadowBlur}else{t.shadowOffsetX=0;t.shadowOffsetY=0;t.shadowColor=0;t.shadowBlur=0}},update:function(t){if(t){this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();this.metrics=a(this)}return this.parent.updateText()},setFont:function(t,e){if(e===void 0){e=true}var i=t;var r="";var s="";if(typeof t!=="string"){i=n(t,"fontFamily","Courier");r=n(t,"fontSize","16px");s=n(t,"fontStyle","")}else{var a=t.split(" ");var o=0;s=a.length>2?a[o++]:"";r=a[o++]||"16px";i=a[o++]||"Courier"}if(i!==this.fontFamily||r!==this.fontSize||s!==this.fontStyle){this.fontFamily=i;this.fontSize=r;this.fontStyle=s;if(e){this.update(true)}}return this.parent},setFontFamily:function(t){if(this.fontFamily!==t){this.fontFamily=t;this.update(true)}return this.parent},setFontStyle:function(t){if(this.fontStyle!==t){this.fontStyle=t;this.update(true)}return this.parent},setFontSize:function(t){if(typeof t==="number"){t=t.toString()+"px"}if(this.fontSize!==t){this.fontSize=t;this.update(true)}return this.parent},setTestString:function(t){this.testString=t;return this.update(true)},setFixedSize:function(t,e){this.fixedWidth=t;this.fixedHeight=e;if(t){this.parent.width=t}if(e){this.parent.height=e}return this.update(false)},setBackgroundColor:function(t){this.backgroundColor=t;return this.update(false)},setFill:function(t){this.color=t;return this.update(false)},setColor:function(t){this.color=t;return this.update(false)},setResolution:function(t){this.resolution=t;return this.update(false)},setStroke:function(t,e){if(e===void 0){e=this.strokeThickness}if(t===void 0&&this.strokeThickness!==0){this.strokeThickness=0;this.update(true)}else if(this.stroke!==t||this.strokeThickness!==e){this.stroke=t;this.strokeThickness=e;this.update(true)}return this.parent},setShadow:function(t,e,i,r,s,n){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i="#000"}if(r===void 0){r=0}if(s===void 0){s=false}if(n===void 0){n=true}this.shadowOffsetX=t;this.shadowOffsetY=e;this.shadowColor=i;this.shadowBlur=r;this.shadowStroke=s;this.shadowFill=n;return this.update(false)},setShadowOffset:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.shadowOffsetX=t;this.shadowOffsetY=e;return this.update(false)},setShadowColor:function(t){if(t===void 0){t="#000"}this.shadowColor=t;return this.update(false)},setShadowBlur:function(t){if(t===void 0){t=0}this.shadowBlur=t;return this.update(false)},setShadowStroke:function(t){this.shadowStroke=t;return this.update(false)},setShadowFill:function(t){this.shadowFill=t;return this.update(false)},setWordWrapWidth:function(t,e){if(e===void 0){e=false}this.wordWrapWidth=t;this.wordWrapUseAdvanced=e;return this.update(false)},setWordWrapCallback:function(t,e){if(e===void 0){e=null}this.wordWrapCallback=t;this.wordWrapCallbackScope=e;return this.update(false)},setAlign:function(t){if(t===void 0){t="left"}this.align=t;return this.update(false)},setMaxLines:function(t){if(t===void 0){t=0}this.maxLines=t;return this.update(false)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in o){t[e]=this[e]}t.metrics=this.getTextMetrics();return t},destroy:function(){this.parent=void 0}});t.exports=l},34397:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70554);var TextWebGLRenderer=function(t,e,i,s){if(e.width===0||e.height===0){return}i.addToRenderList(e);var n=e.frame;var a=n.width;var o=n.height;var l=r.getTintAppendFloatAlpha;var h=t.pipelines.set(e.pipeline,e);var u=h.setTexture2D(n.glTexture,e);h.batchTexture(e,n.glTexture,a,o,e.x,e.y,a/e.style.resolution,o/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,o,l(e.tintTopLeft,i.alpha*e._alphaTL),l(e.tintTopRight,i.alpha*e._alphaTR),l(e.tintBottomLeft,i.alpha*e._alphaBL),l(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,0,0,i,s,false,u)};t.exports=TextWebGLRenderer},20839:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s=i(83419);var n=i(31401);var a=i(95643);var o=i(98439);var l=i(68703);var h=i(56295);var u=i(45650);var c=i(26099);var f=8;var d=new s({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Crop,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Tint,n.Transform,n.Visible,h],initialize:function TileSprite2(t,e,i,s,n,l,h){var f=t.sys.renderer;a.call(this,t,"TileSprite");var d=t.sys.textures.get(l);var v=d.get(h);if(v.source.compressionAlgorithm){console.warn("TileSprite cannot use compressed texture");d=t.sys.textures.get("__MISSING");v=d.get()}if(d.type==="DynamicTexture"){console.warn("TileSprite cannot use Dynamic Texture");d=t.sys.textures.get("__MISSING");v=d.get()}if(!s||!n){s=s?s:v.width;n=n?n:v.height}else{s=Math.floor(s);n=Math.floor(n)}this._tilePosition=new c;this._tileScale=new c(1,1);this.dirty=false;this.renderer=f;this.canvas=r.create(this,s,n);this.context=this.canvas.getContext("2d",{willReadFrequently:false});this.displayTexture=d;this.displayFrame=v;this._crop=this.resetCropObject();this._textureKey=u();this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas);this.frame=this.texture.get();this.potWidth=o(v.width);this.potHeight=o(v.height);this.fillCanvas=r.create2D(this,this.potWidth,this.potHeight);this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:false});this.fillPattern=null;this.setPosition(e,i);this.setSize(s,n);this.setFrame(h);this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(true)},setTexture:function(t,e){this.displayTexture=this.scene.sys.textures.get(t);return this.setFrame(e)},setFrame:function(t){var e=this.displayTexture.get(t);this.potWidth=o(e.width);this.potHeight=o(e.height);this.canvas.width=0;if(!e.cutWidth||!e.cutHeight){this.renderFlags&=-9}else{this.renderFlags|=f}this.displayFrame=e;this.dirty=true;this.updateTileTexture();return this},setTilePosition:function(t,e){if(t!==void 0){this.tilePositionX=t}if(e!==void 0){this.tilePositionY=e}return this},setTileScale:function(t,e){if(t===void 0){t=this.tileScaleX}if(e===void 0){e=t}this.tileScaleX=t;this.tileScaleY=e;return this},updateTileTexture:function(){if(!this.dirty||!this.renderer){return}var t=this.displayFrame;if(t.source.isRenderTexture||t.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures");this.dirty=false;return}var e=this.fillContext;var i=this.fillCanvas;var r=this.potWidth;var s=this.potHeight;if(!this.renderer||!this.renderer.gl){r=t.cutWidth;s=t.cutHeight}e.clearRect(0,0,r,s);i.width=r;i.height=s;e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,r,s);if(this.renderer&&this.renderer.gl){this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern)}else{this.fillPattern=e.createPattern(i,"repeat")}this.updateCanvas();this.dirty=false},updateCanvas:function(){var t=this.canvas;if(t.width!==this.width||t.height!==this.height){t.width=this.width;t.height=this.height;this.frame.setSize(this.width,this.height);this.updateDisplayOrigin();this.dirty=true}if(!this.dirty||this.renderer&&this.renderer.gl){this.dirty=false;return}var e=this.context;if(!this.scene.sys.game.config.antialias){l.disable(e)}var i=this._tileScale.x;var r=this._tileScale.y;var s=this._tilePosition.x;var n=this._tilePosition.y;e.clearRect(0,0,this.width,this.height);e.save();e.scale(i,r);e.translate(-s,-n);e.fillStyle=this.fillPattern;e.fillRect(s,n,this.width/i,this.height/r);e.restore();this.dirty=false},preDestroy:function(){if(this.renderer&&this.renderer.gl){this.renderer.deleteTexture(this.fillPattern)}r.remove(this.canvas);r.remove(this.fillCanvas);this.fillPattern=null;this.fillContext=null;this.fillCanvas=null;this.displayTexture=null;this.displayFrame=null;var t=this.texture;if(t){t.destroy()}this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t;this.dirty=true}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t;this.dirty=true}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t;this.dirty=true}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t;this.dirty=true}}});t.exports=d},46992:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileSpriteCanvasRenderer=function(t,e,i,r){e.updateCanvas();i.addToRenderList(e);t.batchSprite(e,e.frame,i,r)};t.exports=TileSpriteCanvasRenderer},14167:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(20839);s.register("tileSprite",(function(t,e){if(t===void 0){t={}}var i=n(t,"x",0);var s=n(t,"y",0);var o=n(t,"width",512);var l=n(t,"height",512);var h=n(t,"key","");var u=n(t,"frame","");var c=new a(this.scene,i,s,o,l,h,u);if(e!==void 0){t.add=e}r(this.scene,c,t);return c}))},91681:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20839);var s=i(39429);s.register("tileSprite",(function(t,e,i,s,n,a){return this.displayList.add(new r(this.scene,t,e,i,s,n,a))}))},56295:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(18553)}{n=i(46992)}t.exports={renderWebGL:s,renderCanvas:n}},18553:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70554);var TileSpriteWebGLRenderer=function(t,e,i,s){e.updateCanvas();var n=e.width;var a=e.height;if(n===0||a===0){return}i.addToRenderList(e);var o=r.getTintAppendFloatAlpha;var l=t.pipelines.set(e.pipeline,e);var h=l.setTexture2D(e.fillPattern,e);l.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,n,a,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*n,e.originY*a,0,0,n,a,o(e.tintTopLeft,i.alpha*e._alphaTL),o(e.tintTopRight,i.alpha*e._alphaTR),o(e.tintBottomLeft,i.alpha*e._alphaBL),o(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,i,s,false,h)};t.exports=TileSpriteWebGLRenderer},18471:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(31401);var a=i(51708);var o=i(8443);var l=i(95643);var h=i(36383);var u=i(14463);var c=i(45650);var f=i(10247);var d=new s({Extends:l,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.TextureCrop,n.Tint,n.Transform,n.Visible,f],initialize:function Video3(t,e,i,r){l.call(this,t,"Video");this.video;this.videoTexture;this.videoTextureSource;this.snapshotTexture;this.flipY=false;this._key=c();this.touchLocked=false;this.playWhenUnlocked=false;this.frameReady=false;this.isStalled=false;this.failedPlayAttempts=0;this.metadata;this.retry=0;this.retryInterval=500;this._systemMuted=false;this._codeMuted=false;this._systemPaused=false;this._codePaused=false;this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)};this._loadCallbackHandler=this.loadErrorHandler.bind(this);this._metadataCallbackHandler=this.metadataHandler.bind(this);this._crop=this.resetCropObject();this.markers={};this._markerIn=0;this._markerOut=0;this._playingMarker=false;this._lastUpdate=0;this.cacheKey="";this.isSeeking=false;this._playCalled=false;this._getFrame=false;this._rfvCallbackId=0;var s=t.sys.game;this._device=s.device.video;this.setPosition(e,i);this.setSize(256,256);this.initPipeline();this.initPostPipeline(true);s.events.on(o.PAUSE,this.globalPause,this);s.events.on(o.RESUME,this.globalResume,this);var n=t.sys.sound;if(n){n.on(u.GLOBAL_MUTE,this.globalMute,this)}if(r){this.load(r)}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(t){var e=this.scene.sys.cache.video.get(t);if(e){this.cacheKey=t;this.loadHandler(e.url,e.noAudio,e.crossOrigin)}else{console.warn("No video in cache for key: "+t)}return this},changeSource:function(t,e,i,r,s){if(e===void 0){e=true}if(i===void 0){i=false}if(this.cacheKey!==t){this.load(t);if(e){this.play(i,r,s)}}},getVideoKey:function(){return this.cacheKey},loadURL:function(t,e,i){if(e===void 0){e=false}var r=this._device.getVideoURL(t);if(!r){console.warn("No supported video format found for "+t)}else{this.cacheKey="";this.loadHandler(r.url,e,i)}return this},loadMediaStream:function(t,e,i){return this.loadHandler(null,e,i,t)},loadHandler:function(t,e,i,r){if(!e){e=false}var s=this.video;if(s){this.removeLoadEventHandlers();this.stop()}else{s=document.createElement("video");s.controls=false;s.setAttribute("playsinline","playsinline");s.setAttribute("preload","auto");s.setAttribute("disablePictureInPicture","true")}if(e){s.muted=true;s.defaultMuted=true;s.setAttribute("autoplay","autoplay")}else{s.muted=false;s.defaultMuted=false;s.removeAttribute("autoplay")}if(!i){s.removeAttribute("crossorigin")}else{s.setAttribute("crossorigin",i)}if(r){if("srcObject"in s){try{s.srcObject=r}catch(a){if(a.name!=="TypeError"){throw a}s.src=URL.createObjectURL(r)}}else{s.src=URL.createObjectURL(r)}}else{s.src=t}this.retry=0;this.video=s;this._playCalled=false;s.load();this.addLoadEventHandlers();var n=this.scene.sys.textures.get(this._key);this.setTexture(n);return this},requestVideoFrame:function(t,e){var i=this.video;if(!i){return}var r=e.width;var s=e.height;var n=this.videoTexture;var o=this.videoTextureSource;var l=!n||o.source!==i;if(l){this._codePaused=i.paused;this._codeMuted=i.muted;if(!n){n=this.scene.sys.textures.create(this._key,i,r,s);n.add("__BASE",0,0,0,r,s);this.setTexture(n);this.videoTexture=n;this.videoTextureSource=n.source[0];this.videoTextureSource.setFlipY(this.flipY);this.emit(a.VIDEO_TEXTURE,this,n)}else{o.source=i;o.width=r;o.height=s;n.get().setSize(r,s)}this.setSizeToFrame();this.updateDisplayOrigin()}else{o.update()}this.isStalled=false;this.metadata=e;var h=e.mediaTime;if(l){this._lastUpdate=h;this.emit(a.VIDEO_CREATED,this,r,s);if(!this.frameReady){this.frameReady=true;this.emit(a.VIDEO_PLAY,this)}}if(this._playingMarker){if(h>=this._markerOut){if(i.loop){i.currentTime=this._markerIn;this.emit(a.VIDEO_LOOP,this)}else{this.stop(false);this.emit(a.VIDEO_COMPLETE,this)}}}else if(h<this._lastUpdate){this.emit(a.VIDEO_LOOP,this)}this._lastUpdate=h;if(this._getFrame){this.removeEventHandlers();i.pause();this._getFrame=false}else{this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(t,e,i){if(e===void 0){e=-1}if(i===void 0){i=h.MAX_SAFE_INTEGER}var r=this.video;if(!r||this.isPlaying()){if(!r){console.warn("Video not loaded")}return this}if(t===void 0){t=r.loop}r.loop=t;this._markerIn=e;this._markerOut=i;this._playingMarker=e>-1&&i>e&&i<h.MAX_SAFE_INTEGER;if(!this._playCalled){this._getFrame=false;this._rfvCallbackId=r.requestVideoFrameCallback(this.requestVideoFrame.bind(this));this._playCalled=true;this.createPlayPromise()}return this},getFirstFrame:function(){var t=this.video;if(!t||this.isPlaying()){if(!t){console.warn("Video not loaded")}return this}if(!this._playCalled){this._getFrame=true;this._rfvCallbackId=t.requestVideoFrameCallback(this.requestVideoFrame.bind(this));this.createPlayPromise()}return this},addLoadEventHandlers:function(){var t=this.video;if(t){t.addEventListener("error",this._loadCallbackHandler);t.addEventListener("abort",this._loadCallbackHandler);t.addEventListener("loadedmetadata",this._metadataCallbackHandler)}},removeLoadEventHandlers:function(){var t=this.video;if(t){t.removeEventListener("error",this._loadCallbackHandler);t.removeEventListener("abort",this._loadCallbackHandler)}},addEventHandlers:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e){t.addEventListener(i,e[i])}}},removeEventHandlers:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e){t.removeEventListener(i,e[i])}}},createPlayPromise:function(t){if(t===void 0){t=true}var e=this.video;var i=e.play();if(i!==void 0){var r=this.playSuccess.bind(this);var s=this.playError.bind(this);if(!t){var n=this;s=function(){n.failedPlayAttempts++}}i.then(r).catch(s)}else{e.addEventListener("playing",this._callbacks.legacy);if(!t){this.failedPlayAttempts++}}},addMarker:function(t,e,i){if(!isNaN(e)&&e>=0&&!isNaN(i)&&i>e){this.markers[t]=[e,i]}return this},playMarker:function(t,e){var i=this.markers[t];if(i){this.play(e,i[0],i[1])}return this},removeMarker:function(t){delete this.markers[t];return this},snapshot:function(t,e){if(t===void 0){t=this.width}if(e===void 0){e=this.height}return this.snapshotArea(0,0,this.width,this.height,t,e)},snapshotArea:function(t,e,i,r,s,n){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.width}if(r===void 0){r=this.height}if(s===void 0){s=i}if(n===void 0){n=r}var a=this.video;var o=this.snapshotTexture;if(!o){o=this.scene.sys.textures.createCanvas(c(),s,n);this.snapshotTexture=o;if(a){o.context.drawImage(a,t,e,i,r,0,0,s,n)}}else{o.setSize(s,n);if(a){o.context.drawImage(a,t,e,i,r,0,0,s,n)}}return o.update()},saveSnapshotTexture:function(t){if(this.snapshotTexture){this.scene.sys.textures.renameTexture(this.snapshotTexture.key,t)}else{this.snapshotTexture=this.scene.sys.textures.createCanvas(t,this.width,this.height)}return this.snapshotTexture},playSuccess:function(){if(!this._playCalled){return}this.addEventHandlers();this._codePaused=false;if(this.touchLocked){this.touchLocked=false;this.emit(a.VIDEO_UNLOCKED,this)}var t=this.scene.sys.sound;if(t&&t.mute){this.setMute(true)}if(this._markerIn>-1){this.video.currentTime=this._markerIn}},playError:function(t){var e=t.name;if(e==="NotAllowedError"){this.touchLocked=true;this.playWhenUnlocked=true;this.failedPlayAttempts=1;this.emit(a.VIDEO_LOCKED,this)}else if(e==="NotSupportedError"){this.stop(false);this.emit(a.VIDEO_UNSUPPORTED,this,t)}else{this.stop(false);this.emit(a.VIDEO_ERROR,this,t)}},legacyPlayHandler:function(){var t=this.video;if(t){this.playSuccess();t.removeEventListener("playing",this._callbacks.legacy)}},playingHandler:function(){this.isStalled=false;this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(t){this.stop(false);this.emit(a.VIDEO_ERROR,this,t)},metadataHandler:function(t){this.emit(a.VIDEO_METADATA,this,t)},setSizeToFrame:function(t){if(!t){t=this.frame}this.width=t.realWidth;this.height=t.realHeight;if(this.scaleX!==1){this.scaleX=this.displayWidth/this.width}if(this.scaleY!==1){this.scaleY=this.displayHeight/this.height}var e=this.input;if(e&&!e.customHitArea){e.hitArea.width=this.width;e.hitArea.height=this.height}return this},stalledHandler:function(t){this.isStalled=true;this.emit(a.VIDEO_STALLED,this,t)},completeHandler:function(){this._playCalled=false;this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(t,e){var i=this.video;if(!i||!this._playCalled){return}if(this.touchLocked&&this.playWhenUnlocked){this.retry+=e;if(this.retry>=this.retryInterval){this.createPlayPromise(false);this.retry=0}}},seekTo:function(t){var e=this.video;if(e){var i=e.duration;if(i!==Infinity&&!isNaN(i)){var r=i*t;this.setCurrentTime(r)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(t){var e=this.video;if(e){if(typeof t==="string"){var i=t[0];var r=parseFloat(t.substr(1));if(i==="+"){t=e.currentTime+r}else if(i==="-"){t=e.currentTime-r}}e.currentTime=t}return this},seekingHandler:function(){this.isSeeking=true;this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=false;this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var t=this.video;if(t){var e=t.duration;if(e!==Infinity&&!isNaN(e)){return t.currentTime/e}}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(t){if(t===void 0){t=true}this._codeMuted=t;var e=this.video;if(e){e.muted=this._systemMuted?true:t}return this},isMuted:function(){return this._codeMuted},globalMute:function(t,e){this._systemMuted=e;var i=this.video;if(i){i.muted=this._codeMuted?true:e}},globalPause:function(){this._systemPaused=true;if(this.video&&!this.video.ended){this.removeEventHandlers();this.video.pause()}},globalResume:function(){this._systemPaused=false;if(this.video&&!this._codePaused&&!this.video.ended){this.createPlayPromise()}},setPaused:function(t){if(t===void 0){t=true}var e=this.video;this._codePaused=t;if(e&&!e.ended){if(t){if(!e.paused){this.removeEventHandlers();e.pause()}}else if(!t){if(!this._playCalled){this.play()}else if(e.paused&&!this._systemPaused){this.createPlayPromise()}}}return this},pause:function(){return this.setPaused(true)},resume:function(){return this.setPaused(false)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(t){if(t===void 0){t=1}if(this.video){this.video.volume=r(t,0,1)}return this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(t){if(this.video){this.video.playbackRate=t}return this},getLoop:function(){return this.video?this.video.loop:false},setLoop:function(t){if(t===void 0){t=true}if(this.video){this.video.loop=t}return this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):false},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(t,e){if(e===void 0){e=false}if(this.videoTexture){this.scene.sys.textures.renameTexture(this._key,t);this.videoTextureSource.setFlipY(e)}this._key=t;this.flipY=e;return this.videoTexture?true:false},stop:function(t){if(t===void 0){t=true}var e=this.video;if(e){this.removeEventHandlers();e.cancelVideoFrameCallback(this._rfvCallbackId);e.pause()}this.retry=0;this._playCalled=false;if(t){this.emit(a.VIDEO_STOP,this)}return this},removeVideoElement:function(){var t=this.video;if(!t){return}if(t.parentNode){t.parentNode.removeChild(t)}while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.removeAttribute("autoplay");t.removeAttribute("src");this.video=null},preDestroy:function(){this.stop(false);this.removeLoadEventHandlers();this.removeVideoElement();var t=this.scene.sys.game.events;t.off(o.PAUSE,this.globalPause,this);t.off(o.RESUME,this.globalResume,this);var e=this.scene.sys.sound;if(e){e.off(u.GLOBAL_MUTE,this.globalMute,this)}}});t.exports=d},58352:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var VideoCanvasRenderer=function(t,e,i,r){if(e.videoTexture){i.addToRenderList(e);t.batchSprite(e,e.frame,i,r)}};t.exports=VideoCanvasRenderer},11511:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25305);var s=i(44603);var n=i(23568);var a=i(18471);s.register("video",(function(t,e){if(t===void 0){t={}}var i=n(t,"key",null);var s=new a(this.scene,0,0,i);if(e!==void 0){t.add=e}r(this.scene,s,t);return s}))},89025:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(18471);var s=i(39429);s.register("video",(function(t,e,i){return this.displayList.add(new r(this.scene,t,e,i))}))},10247:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(29849)}{n=i(58352)}t.exports={renderWebGL:s,renderCanvas:n}},29849:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var VideoWebGLRenderer=function(t,e,i,r){if(e.videoTexture){i.addToRenderList(e);e.pipeline.batchSprite(e,i,r)}};t.exports=VideoWebGLRenderer},41481:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(96503);var n=i(87902);var a=i(83419);var o=i(31401);var l=i(95643);var h=i(87841);var u=i(37303);var c=new a({Extends:l,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function Zone2(t,e,i,s,n){if(s===void 0){s=1}if(n===void 0){n=s}l.call(this,t,"Zone");this.setPosition(e,i);this.width=s;this.height=n;this.blendMode=r.NORMAL;this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){if(i===void 0){i=true}this.width=t;this.height=e;this.updateDisplayOrigin();var r=this.input;if(i&&r&&!r.customHitArea){r.hitArea.width=t;r.hitArea.height=e}return this},setDisplaySize:function(t,e){this.displayWidth=t;this.displayHeight=e;return this},setCircleDropZone:function(t){return this.setDropZone(new s(0,0,t),n)},setRectangleDropZone:function(t,e){return this.setDropZone(new h(0,0,t,e),u)},setDropZone:function(t,e){if(!this.input){this.setInteractive(t,e,true)}return this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(t,e,i){i.addToRenderList(e)},renderWebGL:function(t,e,i){i.addToRenderList(e)}});t.exports=c},95261:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(44603);var s=i(23568);var n=i(41481);r.register("zone",(function(t){var e=s(t,"x",0);var i=s(t,"y",0);var r=s(t,"width",1);var a=s(t,"height",r);return new n(this.scene,e,i,r,a)}))},84175:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41481);var s=i(39429);s.register("zone",(function(t,e,i,s){return this.displayList.add(new r(this.scene,t,e,i,s))}))},95166:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Area=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};t.exports=Area},96503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(87902);var n=i(26241);var a=i(79124);var o=i(23777);var l=i(28176);var h=new r({initialize:function Circle2(t,e,i){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}this.type=o.CIRCLE;this.x=t;this.y=e;this._radius=i;this._diameter=i*2},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return a(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i){this.x=t;this.y=e;this._radius=i;this._diameter=i*2;return this},setEmpty:function(){this._radius=0;this._diameter=0;return this},setPosition:function(t,e){if(e===void 0){e=t}this.x=t;this.y=e;return this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t;this._diameter=t*2}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t;this._radius=t*.5}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=h},71562:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circumference=function(t){return 2*(Math.PI*t.radius)};t.exports=Circumference},92110:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var CircumferencePoint=function(t,e,i){if(i===void 0){i=new r}i.x=t.x+t.radius*Math.cos(e);i.y=t.y+t.radius*Math.sin(e);return i};t.exports=CircumferencePoint},42250:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(96503);var Clone=function(t){return new r(t.x,t.y,t.radius)};t.exports=Clone},87902:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=function(t,e,i){if(t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom){var r=(t.x-e)*(t.x-e);var s=(t.y-i)*(t.y-i);return r+s<=t.radius*t.radius}else{return false}};t.exports=Contains},5698:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87902);var ContainsPoint=function(t,e){return r(t,e.x,e.y)};t.exports=ContainsPoint},70588:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87902);var ContainsRect=function(t,e){return r(t,e.x,e.y)&&r(t,e.right,e.y)&&r(t,e.x,e.bottom)&&r(t,e.right,e.bottom)};t.exports=ContainsRect},26394:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x,t.y,t.radius)};t.exports=CopyFrom},76278:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius};t.exports=Equals},2074:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var GetBounds=function(t,e){if(e===void 0){e=new r}e.x=t.left;e.y=t.top;e.width=t.diameter;e.height=t.diameter;return e};t.exports=GetBounds},26241:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(92110);var s=i(62945);var n=i(36383);var a=i(2141);var GetPoint=function(t,e,i){if(i===void 0){i=new a}var o=s(e,0,n.PI2);return r(t,o,i)};t.exports=GetPoint},79124:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(71562);var s=i(92110);var n=i(62945);var a=i(36383);var GetPoints=function(t,e,i,o){if(o===void 0){o=[]}if(!e&&i>0){e=r(t)/i}for(var l=0;l<e;l++){var h=n(l/e,0,a.PI2);o.push(s(t,h))}return o};t.exports=GetPoints},50884:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Offset=function(t,e,i){t.x+=e;t.y+=i;return t};t.exports=Offset},39212:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OffsetPoint=function(t,e){t.x+=e.x;t.y+=e.y;return t};t.exports=OffsetPoint},28176:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Random=function(t,e){if(e===void 0){e=new r}var i=2*Math.PI*Math.random();var s=Math.random()+Math.random();var n=s>1?2-s:s;var a=n*Math.cos(i);var o=n*Math.sin(i);e.x=t.x+a*t.radius;e.y=t.y+o*t.radius;return e};t.exports=Random},88911:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(96503);r.Area=i(95166);r.Circumference=i(71562);r.CircumferencePoint=i(92110);r.Clone=i(42250);r.Contains=i(87902);r.ContainsPoint=i(5698);r.ContainsRect=i(70588);r.CopyFrom=i(26394);r.Equals=i(76278);r.GetBounds=i(2074);r.GetPoint=i(26241);r.GetPoints=i(79124);r.Offset=i(50884);r.OffsetPoint=i(39212);r.Random=i(28176);t.exports=r},23777:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};t.exports=e},78874:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Area=function(t){if(t.isEmpty()){return 0}return t.getMajorRadius()*t.getMinorRadius()*Math.PI};t.exports=Area},92990:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Circumference=function(t){var e=t.width/2;var i=t.height/2;var r=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*r/(10+Math.sqrt(4-3*r)))};t.exports=Circumference},79522:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var CircumferencePoint=function(t,e,i){if(i===void 0){i=new r}var s=t.width/2;var n=t.height/2;i.x=t.x+s*Math.cos(e);i.y=t.y+n*Math.sin(e);return i};t.exports=CircumferencePoint},58102:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8497);var Clone=function(t){return new r(t.x,t.y,t.width,t.height)};t.exports=Clone},81154:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=function(t,e,i){if(t.width<=0||t.height<=0){return false}var r=(e-t.x)/t.width;var s=(i-t.y)/t.height;r*=r;s*=s;return r+s<.25};t.exports=Contains},46662:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(81154);var ContainsPoint=function(t,e){return r(t,e.x,e.y)};t.exports=ContainsPoint},1632:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(81154);var ContainsRect=function(t,e){return r(t,e.x,e.y)&&r(t,e.right,e.y)&&r(t,e.x,e.bottom)&&r(t,e.right,e.bottom)};t.exports=ContainsRect},65534:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=CopyFrom},8497:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(81154);var n=i(90549);var a=i(48320);var o=i(23777);var l=i(24820);var h=new r({initialize:function Ellipse2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.type=o.ELLIPSE;this.x=t;this.y=e;this.width=i;this.height=r},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return a(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,r){this.x=t;this.y=e;this.width=i;this.height=r;return this},setEmpty:function(){this.width=0;this.height=0;return this},setPosition:function(t,e){if(e===void 0){e=t}this.x=t;this.y=e;return this},setSize:function(t,e){if(e===void 0){e=t}this.width=t;this.height=e;return this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},36146:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=Equals},23694:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var GetBounds=function(t,e){if(e===void 0){e=new r}e.x=t.left;e.y=t.top;e.width=t.width;e.height=t.height;return e};t.exports=GetBounds},90549:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79522);var s=i(62945);var n=i(36383);var a=i(2141);var GetPoint=function(t,e,i){if(i===void 0){i=new a}var o=s(e,0,n.PI2);return r(t,o,i)};t.exports=GetPoint},48320:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(92990);var s=i(79522);var n=i(62945);var a=i(36383);var GetPoints=function(t,e,i,o){if(o===void 0){o=[]}if(!e&&i>0){e=r(t)/i}for(var l=0;l<e;l++){var h=n(l/e,0,a.PI2);o.push(s(t,h))}return o};t.exports=GetPoints},73424:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Offset=function(t,e,i){t.x+=e;t.y+=i;return t};t.exports=Offset},44808:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OffsetPoint=function(t,e){t.x+=e.x;t.y+=e.y;return t};t.exports=OffsetPoint},24820:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Random=function(t,e){if(e===void 0){e=new r}var i=Math.random()*Math.PI*2;var s=Math.sqrt(Math.random());e.x=t.x+s*Math.cos(i)*t.width/2;e.y=t.y+s*Math.sin(i)*t.height/2;return e};t.exports=Random},49203:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8497);r.Area=i(78874);r.Circumference=i(92990);r.CircumferencePoint=i(79522);r.Clone=i(58102);r.Contains=i(81154);r.ContainsPoint=i(46662);r.ContainsRect=i(1632);r.CopyFrom=i(65534);r.Equals=i(36146);r.GetBounds=i(23694);r.GetPoint=i(90549);r.GetPoints=i(48320);r.Offset=i(73424);r.OffsetPoint=i(44808);r.Random=i(24820);t.exports=r},55738:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23777);var s=i(79291);var n={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};n=s(false,n,r);t.exports=n},2044:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20339);var CircleToCircle=function(t,e){return r(t.x,t.y,e.x,e.y)<=t.radius+e.radius};t.exports=CircleToCircle},81491:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CircleToRectangle=function(t,e){var i=e.width/2;var r=e.height/2;var s=Math.abs(t.x-e.x-i);var n=Math.abs(t.y-e.y-r);var a=i+t.radius;var o=r+t.radius;if(s>a||n>o){return false}else if(s<=i||n<=r){return true}else{var l=s-i;var h=n-r;var u=l*l;var c=h*h;var f=t.radius*t.radius;return u+c<=f}};t.exports=CircleToRectangle},63376:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(2044);var GetCircleToCircle=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var n=t.x;var a=t.y;var o=t.radius;var l=e.x;var h=e.y;var u=e.radius;var c,f,d,v,p;if(a===h){p=(u*u-o*o-l*l+n*n)/(2*(n-l));c=1;f=-2*h;d=l*l+p*p-2*l*p+h*h-u*u;v=f*f-4*c*d;if(v===0){i.push(new r(p,-f/(2*c)))}else if(v>0){i.push(new r(p,(-f+Math.sqrt(v))/(2*c)));i.push(new r(p,(-f-Math.sqrt(v))/(2*c)))}}else{var g=(n-l)/(a-h);var m=(u*u-o*o-l*l+n*n-h*h+a*a)/(2*(a-h));c=g*g+1;f=2*a*g-2*m*g-2*n;d=n*n+a*a+m*m-o*o-2*a*m;v=f*f-4*c*d;if(v===0){p=-f/(2*c);i.push(new r(p,m-p*g))}else if(v>0){p=(-f+Math.sqrt(v))/(2*c);i.push(new r(p,m-p*g));p=(-f-Math.sqrt(v))/(2*c);i.push(new r(p,m-p*g))}}}return i};t.exports=GetCircleToCircle},97439:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(4042);var s=i(81491);var GetCircleToRectangle=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var n=e.getLineA();var a=e.getLineB();var o=e.getLineC();var l=e.getLineD();r(n,t,i);r(a,t,i);r(o,t,i);r(l,t,i)}return i};t.exports=GetCircleToRectangle},4042:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(80462);var GetLineToCircle=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var n=t.x1;var a=t.y1;var o=t.x2;var l=t.y2;var h=e.x;var u=e.y;var c=e.radius;var f=o-n;var d=l-a;var v=n-h;var p=a-u;var g=f*f+d*d;var m=2*(f*v+d*p);var y=v*v+p*p-c*c;var x=m*m-4*g*y;var b,T;if(x===0){var w=-m/(2*g);b=n+w*f;T=a+w*d;if(w>=0&&w<=1){i.push(new r(b,T))}}else if(x>0){var E=(-m-Math.sqrt(x))/(2*g);b=n+E*f;T=a+E*d;if(E>=0&&E<=1){i.push(new r(b,T))}var S=(-m+Math.sqrt(x))/(2*g);b=n+S*f;T=a+S*d;if(S>=0&&S<=1){i.push(new r(b,T))}}}return i};t.exports=GetLineToCircle},36100:(t,e,i)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25836);var GetLineToLine=function(t,e,i,s){if(i===void 0){i=false}var n=t.x1;var a=t.y1;var o=t.x2;var l=t.y2;var h=e.x1;var u=e.y1;var c=e.x2;var f=e.y2;var d=o-n;var v=l-a;var p=c-h;var g=f-u;var m=d*g-v*p;if(m===0){return null}var y;var x;var b;if(i){y=(d*(u-a)+v*(n-h))/(p*v-g*d);if(d!==0){x=(h+p*y-n)/d}else if(v!==0){x=(u+g*y-a)/v}else{return null}if(x<0||y<0||y>1){return null}b=x}else{y=((h-n)*g-(u-a)*p)/m;x=((a-u)*d-(n-h)*v)/m;if(y<0||y>1||x<0||x>1){return null}b=y}if(s===void 0){s=new r}return s.set(n+d*b,a+v*b,b)};t.exports=GetLineToLine},3073:(t,e,i)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36100);var s=i(23031);var n=i(25836);var a=new s;var o=new n;var GetLineToPoints=function(t,e,i,s){if(i===void 0){i=false}if(s===void 0){s=new n}var l=false;s.set();o.set();var h=e[e.length-1];for(var u=0;u<e.length;u++){var c=e[u];a.setTo(h.x,h.y,c.x,c.y);h=c;if(r(t,a,i,o)){if(!l||o.z<s.z){s.copy(o);l=true}}}return l?s:null};t.exports=GetLineToPoints},56362:(t,e,i)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25836);var s=i(61369);var n=i(3073);var a=new r;var GetLineToPolygon=function(t,e,i,r){if(r===void 0){r=new s}if(!Array.isArray(e)){e=[e]}var o=false;r.set();a.set();for(var l=0;l<e.length;l++){if(n(t,e[l].points,i,a)){if(!o||a.z<r.z){r.set(a.x,a.y,a.z,l);o=true}}}return o?r:null};t.exports=GetLineToPolygon},60646:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(76112);var n=i(92773);var GetLineToRectangle=function(t,e,i){if(i===void 0){i=[]}if(n(t,e)){var a=e.getLineA();var o=e.getLineB();var l=e.getLineC();var h=e.getLineD();var u=[new r,new r,new r,new r];var c=[s(a,t,u[0]),s(o,t,u[1]),s(l,t,u[2]),s(h,t,u[3])];for(var f=0;f<4;f++){if(c[f]){i.push(u[f])}}}return i};t.exports=GetLineToRectangle},71147:(t,e,i)=>{
/**
               * @author       Richard Davey
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61369);var s=i(56362);var n=i(23031);var a=new n;function CheckIntersects(t,e,i,n,o){var l=Math.cos(t);var h=Math.sin(t);a.setTo(e,i,e+l,i+h);var u=s(a,n,true);if(u){o.push(new r(u.x,u.y,t,u.w))}}function SortIntersects(t,e){return t.z-e.z}var GetRaysFromPointToPolygon=function(t,e,i){if(!Array.isArray(i)){i=[i]}var r=[];var s=[];for(var n=0;n<i.length;n++){var a=i[n].points;for(var o=0;o<a.length;o++){var l=Math.atan2(a[o].y-e,a[o].x-t);if(s.indexOf(l)===-1){CheckIntersects(l,t,e,i,r);CheckIntersects(l-1e-5,t,e,i,r);CheckIntersects(l+1e-5,t,e,i,r);s.push(l)}}}return r.sort(SortIntersects)};t.exports=GetRaysFromPointToPolygon},68389:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var s=i(59996);var GetRectangleIntersection=function(t,e,i){if(i===void 0){i=new r}if(s(t,e)){i.x=Math.max(t.x,e.x);i.y=Math.max(t.y,e.y);i.width=Math.min(t.right,e.right)-i.x;i.height=Math.min(t.bottom,e.bottom)-i.y}return i};t.exports=GetRectangleIntersection},52784:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(60646);var s=i(59996);var GetRectangleToRectangle=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var n=t.getLineA();var a=t.getLineB();var o=t.getLineC();var l=t.getLineD();r(n,e,i);r(a,e,i);r(o,e,i);r(l,e,i)}return i};t.exports=GetRectangleToRectangle},26341:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(89265);var s=i(60646);var GetRectangleToTriangle=function(t,e,i){if(i===void 0){i=[]}if(r(t,e)){var n=e.getLineA();var a=e.getLineB();var o=e.getLineC();s(n,t,i);s(a,t,i);s(o,t,i)}return i};t.exports=GetRectangleToTriangle},38720:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(4042);var s=i(67636);var GetTriangleToCircle=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var n=t.getLineA();var a=t.getLineB();var o=t.getLineC();r(n,e,i);r(a,e,i);r(o,e,i)}return i};t.exports=GetTriangleToCircle},13882:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(2822);var n=i(76112);var GetTriangleToLine=function(t,e,i){if(i===void 0){i=[]}if(s(t,e)){var a=t.getLineA();var o=t.getLineB();var l=t.getLineC();var h=[new r,new r,new r];var u=[n(a,e,h[0]),n(o,e,h[1]),n(l,e,h[2])];for(var c=0;c<3;c++){if(u[c]){i.push(h[c])}}}return i};t.exports=GetTriangleToLine},75636:(t,e,i)=>{
/**
               * @author       Florian Vazelle
               * @author       Geoffrey Glaive
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82944);var s=i(13882);var GetTriangleToTriangle=function(t,e,i){if(i===void 0){i=[]}if(r(t,e)){var n=e.getLineA();var a=e.getLineB();var o=e.getLineC();s(t,n,i);s(t,a,i);s(t,o,i)}return i};t.exports=GetTriangleToTriangle},80462:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87902);var s=i(2141);var n=new s;var LineToCircle=function(t,e,i){if(i===void 0){i=n}if(r(e,t.x1,t.y1)){i.x=t.x1;i.y=t.y1;return true}if(r(e,t.x2,t.y2)){i.x=t.x2;i.y=t.y2;return true}var s=t.x2-t.x1;var a=t.y2-t.y1;var o=e.x-t.x1;var l=e.y-t.y1;var h=s*s+a*a;var u=s;var c=a;if(h>0){var f=(o*s+l*a)/h;u*=f;c*=f}i.x=t.x1+u;i.y=t.y1+c;var d=u*u+c*c;return d<=h&&u*s+c*a>=0&&r(e,i.x,i.y)};t.exports=LineToCircle},76112:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineToLine=function(t,e,i){var r=t.x1;var s=t.y1;var n=t.x2;var a=t.y2;var o=e.x1;var l=e.y1;var h=e.x2;var u=e.y2;if(r===n&&s===a||o===h&&l===u){return false}var c=(u-l)*(n-r)-(h-o)*(a-s);if(c===0){return false}var f=((h-o)*(s-l)-(u-l)*(r-o))/c;var d=((n-r)*(s-l)-(a-s)*(r-o))/c;if(f<0||f>1||d<0||d>1){return false}else{if(i){i.x=r+f*(n-r);i.y=s+f*(a-s)}return true}};t.exports=LineToLine},92773:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LineToRectangle=function(t,e){var i=t.x1;var r=t.y1;var s=t.x2;var n=t.y2;var a=e.x;var o=e.y;var l=e.right;var h=e.bottom;var u=0;if(i>=a&&i<=l&&r>=o&&r<=h||s>=a&&s<=l&&n>=o&&n<=h){return true}if(i<a&&s>=a){u=r+(n-r)*(a-i)/(s-i);if(u>o&&u<=h){return true}}else if(i>l&&s<=l){u=r+(n-r)*(l-i)/(s-i);if(u>=o&&u<=h){return true}}if(r<o&&n>=o){u=i+(s-i)*(o-r)/(n-r);if(u>=a&&u<=l){return true}}else if(r>h&&n<=h){u=i+(s-i)*(h-r)/(n-r);if(u>=a&&u<=l){return true}}return false};t.exports=LineToRectangle},16204:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Florian Mertens
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PointToLine=function(t,e,i){if(i===void 0){i=1}var r=e.x1;var s=e.y1;var n=e.x2;var a=e.y2;var o=t.x;var l=t.y;var h=(n-r)*(n-r)+(a-s)*(a-s);if(h===0){return false}var u=((o-r)*(n-r)+(l-s)*(a-s))/h;if(u<0){return Math.sqrt((r-o)*(r-o)+(s-l)*(s-l))<=i}else if(u>=0&&u<=1){var c=((s-l)*(n-r)-(r-o)*(a-s))/h;return Math.abs(c)*Math.sqrt(h)<=i}else{return Math.sqrt((n-o)*(n-o)+(a-l)*(a-l))<=i}};t.exports=PointToLine},14199:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(16204);var PointToLineSegment=function(t,e){if(!r(t,e)){return false}var i=Math.min(e.x1,e.x2);var s=Math.max(e.x1,e.x2);var n=Math.min(e.y1,e.y2);var a=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=s&&(t.y>=n&&t.y<=a)};t.exports=PointToLineSegment},59996:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RectangleToRectangle=function(t,e){if(t.width<=0||t.height<=0||e.width<=0||e.height<=0){return false}return!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)};t.exports=RectangleToRectangle},89265:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(76112);var s=i(37303);var n=i(48653);var a=i(77493);var RectangleToTriangle=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top){return false}var i=e.getLineA();var o=e.getLineB();var l=e.getLineC();if(s(t,i.x1,i.y1)||s(t,i.x2,i.y2)){return true}if(s(t,o.x1,o.y1)||s(t,o.x2,o.y2)){return true}if(s(t,l.x1,l.y1)||s(t,l.x2,l.y2)){return true}var h=t.getLineA();var u=t.getLineB();var c=t.getLineC();var f=t.getLineD();if(r(i,h)||r(i,u)||r(i,c)||r(i,f)){return true}if(r(o,h)||r(o,u)||r(o,c)||r(o,f)){return true}if(r(l,h)||r(l,u)||r(l,c)||r(l,f)){return true}var d=a(t);var v=n(e,d,true);return v.length>0};t.exports=RectangleToTriangle},84411:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RectangleToValues=function(t,e,i,r,s,n){if(n===void 0){n=0}return!(e>t.right+n||i<t.left-n||r>t.bottom+n||s<t.top-n)};t.exports=RectangleToValues},67636:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80462);var s=i(10690);var TriangleToCircle=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top){return false}if(s(t,e.x,e.y)){return true}if(r(t.getLineA(),e)){return true}if(r(t.getLineB(),e)){return true}if(r(t.getLineC(),e)){return true}return false};t.exports=TriangleToCircle},2822:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(76112);var TriangleToLine=function(t,e){if(t.contains(e.x1,e.y1)||t.contains(e.x2,e.y2)){return true}if(r(t.getLineA(),e)){return true}if(r(t.getLineB(),e)){return true}if(r(t.getLineC(),e)){return true}return false};t.exports=TriangleToLine},82944:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(48653);var s=i(71694);var n=i(76112);var TriangleToTriangle=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top){return false}var i=t.getLineA();var a=t.getLineB();var o=t.getLineC();var l=e.getLineA();var h=e.getLineB();var u=e.getLineC();if(n(i,l)||n(i,h)||n(i,u)){return true}if(n(a,l)||n(a,h)||n(a,u)){return true}if(n(o,l)||n(o,h)||n(o,u)){return true}var c=s(t);var f=r(e,c,true);if(f.length>0){return true}c=s(e);f=r(t,c,true);if(f.length>0){return true}return false};t.exports=TriangleToTriangle},91865:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Angle=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};t.exports=Angle},84993:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BresenhamPoints=function(t,e,i){if(e===void 0){e=1}if(i===void 0){i=[]}var r=Math.round(t.x1);var s=Math.round(t.y1);var n=Math.round(t.x2);var a=Math.round(t.y2);var o=Math.abs(n-r);var l=Math.abs(a-s);var h=r<n?1:-1;var u=s<a?1:-1;var c=o-l;i.push({x:r,y:s});var f=1;while(!(r===n&&s===a)){var d=c<<1;if(d>-l){c-=l;r+=h}if(d<o){c+=o;s+=u}if(f%e===0){i.push({x:r,y:s})}f++}return i};t.exports=BresenhamPoints},36469:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CenterOn=function(t,e,i){var r=e-(t.x1+t.x2)/2;var s=i-(t.y1+t.y2)/2;t.x1+=r;t.y1+=s;t.x2+=r;t.y2+=s;return t};t.exports=CenterOn},31116:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23031);var Clone=function(t){return new r(t.x1,t.y1,t.x2,t.y2)};t.exports=Clone},59944:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)};t.exports=CopyFrom},59220:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2};t.exports=Equals},78177:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var Extend=function(t,e,i){if(i===void 0){i=e}var s=r(t);var n=t.x2-t.x1;var a=t.y2-t.y1;if(e){t.x1=t.x1-n/s*e;t.y1=t.y1-a/s*e}if(i){t.x2=t.x2+n/s*i;t.y2=t.y2+a/s*i}return t};t.exports=Extend},26708:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(52816);var s=i(6113);var n=i(2141);var GetEasedPoints=function(t,e,i,a,o){if(a===void 0){a=0}if(o===void 0){o=[]}var l=[];var h=t.x1;var u=t.y1;var c=t.x2-h;var f=t.y2-u;var d=s(e,o);var v;var p;var g=i-1;for(v=0;v<g;v++){p=d(v/g);l.push(new n(h+c*p,u+f*p))}p=d(1);l.push(new n(h+c*p,u+f*p));if(a>0){var m=l[0];var y=[m];for(v=1;v<l.length-1;v++){var x=l[v];if(r(m,x)>=a){y.push(x);m=x}}var b=l[l.length-1];if(r(m,b)<a){y.pop()}y.push(b);return y}else{return l}};t.exports=GetEasedPoints},32125:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetMidPoint=function(t,e){if(e===void 0){e=new r}e.x=(t.x1+t.x2)/2;e.y=(t.y1+t.y2)/2;return e};t.exports=GetMidPoint},99569:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Florian Mertens
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetNearestPoint=function(t,e,i){if(i===void 0){i=new r}var s=t.x1;var n=t.y1;var a=t.x2;var o=t.y2;var l=(a-s)*(a-s)+(o-n)*(o-n);if(l===0){return i}var h=((e.x-s)*(a-s)+(e.y-n)*(o-n))/l;i.x=s+h*(a-s);i.y=n+h*(o-n);return i};t.exports=GetNearestPoint},34638:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(91938);var n=i(2141);var GetNormal=function(t,e){if(e===void 0){e=new n}var i=s(t)-r.TAU;e.x=Math.cos(i);e.y=Math.sin(i);return e};t.exports=GetNormal},13151:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetPoint=function(t,e,i){if(i===void 0){i=new r}i.x=t.x1+(t.x2-t.x1)*e;i.y=t.y1+(t.y2-t.y1)*e;return i};t.exports=GetPoint},15258:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var s=i(2141);var GetPoints=function(t,e,i,n){if(n===void 0){n=[]}if(!e&&i>0){e=r(t)/i}var a=t.x1;var o=t.y1;var l=t.x2;var h=t.y2;for(var u=0;u<e;u++){var c=u/e;var f=a+(l-a)*c;var d=o+(h-o)*c;n.push(new s(f,d))}return n};t.exports=GetPoints},26408:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Florian Mertens
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetShortestDistance=function(t,e){var i=t.x1;var r=t.y1;var s=t.x2;var n=t.y2;var a=(s-i)*(s-i)+(n-r)*(n-r);if(a===0){return false}var o=((r-e.y)*(s-i)-(i-e.x)*(n-r))/a;return Math.abs(o)*Math.sqrt(a)};t.exports=GetShortestDistance},98770:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Height=function(t){return Math.abs(t.y1-t.y2)};t.exports=Height},35001:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Length=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};t.exports=Length},23031:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(13151);var n=i(15258);var a=i(23777);var o=i(65822);var l=i(26099);var h=new r({initialize:function Line2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.type=a.LINE;this.x1=t;this.y1=e;this.x2=i;this.y2=r},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return n(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.x1=t;this.y1=e;this.x2=i;this.y2=r;return this},setFromObjects:function(t,e){this.x1=t.x;this.y1=t.y;this.x2=e.x;this.y2=e.y;return this},getPointA:function(t){if(t===void 0){t=new l}t.set(this.x1,this.y1);return t},getPointB:function(t){if(t===void 0){t=new l}t.set(this.x2,this.y2);return t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){if(this.x1<=this.x2){this.x1=t}else{this.x2=t}}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){if(this.x1>this.x2){this.x1=t}else{this.x2=t}}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){if(this.y1<=this.y2){this.y1=t}else{this.y2=t}}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){if(this.y1>this.y2){this.y1=t}else{this.y2=t}}}});t.exports=h},64795:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(15994);var n=i(91938);var NormalAngle=function(t){var e=n(t)-r.TAU;return s(e,-Math.PI,Math.PI)};t.exports=NormalAngle},52616:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(91938);var NormalX=function(t){return Math.cos(s(t)-r.TAU)};t.exports=NormalX},87231:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(91938);var NormalY=function(t){return Math.sin(s(t)-r.TAU)};t.exports=NormalY},89662:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Offset=function(t,e,i){t.x1+=e;t.y1+=i;t.x2+=e;t.y2+=i;return t};t.exports=Offset},71165:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var PerpSlope=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};t.exports=PerpSlope},65822:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Random=function(t,e){if(e===void 0){e=new r}var i=Math.random();e.x=t.x1+i*(t.x2-t.x1);e.y=t.y1+i*(t.y2-t.y1);return e};t.exports=Random},69777:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91938);var s=i(64795);var ReflectAngle=function(t,e){return 2*s(e)-Math.PI-r(t)};t.exports=ReflectAngle},39706:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(64400);var Rotate=function(t,e){var i=(t.x1+t.x2)/2;var s=(t.y1+t.y2)/2;return r(t,i,s,e)};t.exports=Rotate},82585:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(64400);var RotateAroundPoint=function(t,e,i){return r(t,e.x,e.y,i)};t.exports=RotateAroundPoint},64400:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=function(t,e,i,r){var s=Math.cos(r);var n=Math.sin(r);var a=t.x1-e;var o=t.y1-i;t.x1=a*s-o*n+e;t.y1=a*n+o*s+i;a=t.x2-e;o=t.y2-i;t.x2=a*s-o*n+e;t.y2=a*n+o*s+i;return t};t.exports=RotateAroundXY},62377:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetToAngle=function(t,e,i,r,s){t.x1=e;t.y1=i;t.x2=e+Math.cos(r)*s;t.y2=i+Math.sin(r)*s;return t};t.exports=SetToAngle},71366:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Slope=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};t.exports=Slope},10809:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Width=function(t){return Math.abs(t.x1-t.x2)};t.exports=Width},2529:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23031);r.Angle=i(91938);r.BresenhamPoints=i(84993);r.CenterOn=i(36469);r.Clone=i(31116);r.CopyFrom=i(59944);r.Equals=i(59220);r.Extend=i(78177);r.GetEasedPoints=i(26708);r.GetMidPoint=i(32125);r.GetNearestPoint=i(99569);r.GetNormal=i(34638);r.GetPoint=i(13151);r.GetPoints=i(15258);r.GetShortestDistance=i(26408);r.Height=i(98770);r.Length=i(35001);r.NormalAngle=i(64795);r.NormalX=i(52616);r.NormalY=i(87231);r.Offset=i(89662);r.PerpSlope=i(71165);r.Random=i(65822);r.ReflectAngle=i(69777);r.Rotate=i(39706);r.RotateAroundPoint=i(82585);r.RotateAroundXY=i(64400);r.SetToAngle=i(62377);r.Slope=i(71366);r.Width=i(10809);t.exports=r},83997:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(87841);var n=i(26099);function GetLength(t,e,i,r){var s=t-i;var n=e-r;var a=s*s+n*n;return Math.sqrt(a)}var a=new r({initialize:function Face2(t,e,i){this.vertex1=t;this.vertex2=e;this.vertex3=i;this.bounds=new s;this._inCenter=new n},getInCenter:function(t){if(t===void 0){t=true}var e=this.vertex1;var i=this.vertex2;var r=this.vertex3;var s;var n;var a;var o;var l;var h;if(t){s=e.x;n=e.y;a=i.x;o=i.y;l=r.x;h=r.y}else{s=e.vx;n=e.vy;a=i.vx;o=i.vy;l=r.vx;h=r.vy}var u=GetLength(l,h,a,o);var c=GetLength(s,n,l,h);var f=GetLength(a,o,s,n);var d=u+c+f;return this._inCenter.set((s*u+a*c+l*f)/d,(n*u+o*c+h*f)/d)},contains:function(t,e,i){var r=this.vertex1;var s=this.vertex2;var n=this.vertex3;var a=r.vx;var o=r.vy;var l=s.vx;var h=s.vy;var u=n.vx;var c=n.vy;if(i){var f=i.a;var d=i.b;var v=i.c;var p=i.d;var g=i.e;var m=i.f;a=r.vx*f+r.vy*v+g;o=r.vx*d+r.vy*p+m;l=s.vx*f+s.vy*v+g;h=s.vx*d+s.vy*p+m;u=n.vx*f+n.vy*v+g;c=n.vx*d+n.vy*p+m}var y=u-a;var x=c-o;var b=l-a;var T=h-o;var w=t-a;var E=e-o;var S=y*y+x*x;var A=y*b+x*T;var C=y*w+x*E;var O=b*b+T*T;var P=b*w+T*E;var I=S*O-A*A;var R=I===0?0:1/I;var M=(O*C-A*P)*R;var L=(S*P-A*C)*R;return M>=0&&L>=0&&M+L<1},isCounterClockwise:function(t){var e=this.vertex1;var i=this.vertex2;var r=this.vertex3;var s=(i.vx-e.vx)*(r.vy-e.vy)-(i.vy-e.vy)*(r.vx-e.vx);return t<=0?s>=0:s<0},load:function(t,e,i,r,s){i=this.vertex1.load(t,e,i,r,s);i=this.vertex2.load(t,e,i,r,s);i=this.vertex3.load(t,e,i,r,s);return i},transformCoordinatesLocal:function(t,e,i,r){this.vertex1.transformCoordinatesLocal(t,e,i,r);this.vertex2.transformCoordinatesLocal(t,e,i,r);this.vertex3.transformCoordinatesLocal(t,e,i,r);return this},updateBounds:function(){var t=this.vertex1;var e=this.vertex2;var i=this.vertex3;var r=this.bounds;r.x=Math.min(t.vx,e.vx,i.vx);r.y=Math.min(t.vy,e.vy,i.vy);r.width=Math.max(t.vx,e.vx,i.vx)-r.x;r.height=Math.max(t.vy,e.vy,i.vy)-r.y;return this},isInView:function(t,e,i,r,s,n,a,o,l,h,u){this.update(r,s,n,a,o,l,h,u);var c=this.vertex1;var f=this.vertex2;var d=this.vertex3;if(c.ta<=0&&f.ta<=0&&d.ta<=0){return false}if(e&&!this.isCounterClockwise(i)){return false}var v=this.bounds;v.x=Math.min(c.tx,f.tx,d.tx);v.y=Math.min(c.ty,f.ty,d.ty);v.width=Math.max(c.tx,f.tx,d.tx)-v.x;v.height=Math.max(c.ty,f.ty,d.ty)-v.y;var p=t.x+t.width;var g=t.y+t.height;if(v.width<=0||v.height<=0||t.width<=0||t.height<=0){return false}return!(v.right<t.x||v.bottom<t.y||v.x>p||v.y>g)},scrollUV:function(t,e){this.vertex1.scrollUV(t,e);this.vertex2.scrollUV(t,e);this.vertex3.scrollUV(t,e);return this},scaleUV:function(t,e){this.vertex1.scaleUV(t,e);this.vertex2.scaleUV(t,e);this.vertex3.scaleUV(t,e);return this},setColor:function(t){this.vertex1.color=t;this.vertex2.color=t;this.vertex3.color=t;return this},update:function(t,e,i,r,s,n,a,o){this.vertex1.update(e,i,r,s,n,a,o,t);this.vertex2.update(e,i,r,s,n,a,o,t);this.vertex3.update(e,i,r,s,n,a,o,t);return this},translate:function(t,e){if(e===void 0){e=0}var i=this.vertex1;var r=this.vertex2;var s=this.vertex3;i.x+=t;i.y+=e;r.x+=t;r.y+=e;s.x+=t;s.y+=e;return this},x:{get:function(){return this.getInCenter().x},set:function(t){var e=this.getInCenter();this.translate(t-e.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(t){var e=this.getInCenter();this.translate(0,t-e.y)}},alpha:{get:function(){var t=this.vertex1;var e=this.vertex2;var i=this.vertex3;return(t.alpha+e.alpha+i.alpha)/3},set:function(t){this.vertex1.alpha=t;this.vertex2.alpha=t;this.vertex3.alpha=t}},depth:{get:function(){var t=this.vertex1;var e=this.vertex2;var i=this.vertex3;return(t.vz+e.vz+i.vz)/3}},destroy:function(){this.vertex1=null;this.vertex2=null;this.vertex3=null}});t.exports=a},48803:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83997);var s=i(95540);var n=i(37867);var a=i(25836);var o=i(39318);var l=new a;var h=new a;var u=new n;var GenerateGridVerts=function(t){var e=s(t,"mesh");var i=s(t,"texture",null);var n=s(t,"frame");var a=s(t,"width",1);var c=s(t,"height",a);var f=s(t,"widthSegments",1);var d=s(t,"heightSegments",f);var v=s(t,"x",0);var p=s(t,"y",0);var g=s(t,"z",0);var m=s(t,"rotateX",0);var y=s(t,"rotateY",0);var x=s(t,"rotateZ",0);var b=s(t,"zIsUp",true);var T=s(t,"isOrtho",e?e.dirtyCache[11]:false);var w=s(t,"colors",[16777215]);var E=s(t,"alphas",[1]);var S=s(t,"tile",false);var A=s(t,"flipY",false);var C=s(t,"width",null);var O={faces:[],verts:[]};l.set(v,p,g);h.set(m,y,x);u.fromRotationXYTranslation(h,l,b);var P;if(!i&&e){i=e.texture;if(!n){P=e.frame}}else if(e&&typeof i==="string"){i=e.scene.sys.textures.get(i)}else if(!i){return O}if(!P){P=i.get(n)}if(!C&&T&&i&&e){a=P.width/e.height;c=P.height/e.height}var I=a/2;var R=c/2;var M=Math.floor(f);var L=Math.floor(d);var D=M+1;var k=L+1;var F=a/M;var B=c/L;var N=[];var U=[];var z;var V;var G=0;var X=1;var Y=0;var H=1;if(P){G=P.u0;X=P.u1;if(!A){Y=P.v0;H=P.v1}else{Y=P.v1;H=P.v0}}var W=X-G;var j=H-Y;for(V=0;V<k;V++){var Z=V*B-R;for(z=0;z<D;z++){var q=z*F-I;U.push(q,-Z);var K=G+W*(z/M);var J=Y+j*(V/L);N.push(K,J)}}if(!Array.isArray(w)){w=[w]}if(!Array.isArray(E)){E=[E]}var Q=0;var tt=0;for(V=0;V<L;V++){for(z=0;z<M;z++){var et=(z+D*V)*2;var it=(z+D*(V+1))*2;var rt=(z+1+D*(V+1))*2;var st=(z+1+D*V)*2;var nt=w[tt];var at=E[Q];var ot=new o(U[et],U[et+1],0,N[et],N[et+1],nt,at).transformMat4(u);var lt=new o(U[it],U[it+1],0,N[it],N[it+1],nt,at).transformMat4(u);var ht=new o(U[st],U[st+1],0,N[st],N[st+1],nt,at).transformMat4(u);var ut=new o(U[it],U[it+1],0,N[it],N[it+1],nt,at).transformMat4(u);var ct=new o(U[rt],U[rt+1],0,N[rt],N[rt+1],nt,at).transformMat4(u);var ft=new o(U[st],U[st+1],0,N[st],N[st+1],nt,at).transformMat4(u);if(S){ot.setUVs(G,H);lt.setUVs(G,Y);ht.setUVs(X,H);ut.setUVs(G,Y);ct.setUVs(X,Y);ft.setUVs(X,H)}tt++;if(tt===w.length){tt=0}Q++;if(Q===E.length){Q=0}O.verts.push(ot,lt,ht,ut,ct,ft);O.faces.push(new r(ot,lt,ht),new r(ut,ct,ft))}}if(e){e.faces=e.faces.concat(O.faces);e.vertices=e.vertices.concat(O.verts)}return O};t.exports=GenerateGridVerts},34684:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83997);var s=i(37867);var n=i(25836);var a=i(39318);var o=new n;var l=new n;var h=new s;var GenerateObjVerts=function(t,e,i,s,n,u,c,f,d,v){if(i===void 0){i=1}if(s===void 0){s=0}if(n===void 0){n=0}if(u===void 0){u=0}if(c===void 0){c=0}if(f===void 0){f=0}if(d===void 0){d=0}if(v===void 0){v=true}var p={faces:[],verts:[]};var g=t.materials;o.set(s,n,u);l.set(c,f,d);h.fromRotationXYTranslation(l,o,v);for(var m=0;m<t.models.length;m++){var y=t.models[m];var x=y.vertices;var b=y.textureCoords;var T=y.faces;for(var w=0;w<T.length;w++){var E=T[w];var S=E.vertices[0];var A=E.vertices[1];var C=E.vertices[2];var O=x[S.vertexIndex];var P=x[A.vertexIndex];var I=x[C.vertexIndex];var R=S.textureCoordsIndex;var M=A.textureCoordsIndex;var L=C.textureCoordsIndex;var D=R===-1?{u:0,v:1}:b[R];var k=M===-1?{u:0,v:0}:b[M];var F=L===-1?{u:1,v:1}:b[L];var B=16777215;if(E.material!==""&&g[E.material]){B=g[E.material]}var N=new a(O.x*i,O.y*i,O.z*i,D.u,D.v,B).transformMat4(h);var U=new a(P.x*i,P.y*i,P.z*i,k.u,k.v,B).transformMat4(h);var z=new a(I.x*i,I.y*i,I.z*i,F.u,F.v,B).transformMat4(h);p.verts.push(N,U,z);p.faces.push(new r(N,U,z))}}if(e){e.faces=e.faces.concat(p.faces);e.vertices=e.vertices.concat(p.verts)}return p};t.exports=GenerateObjVerts},92515:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83997);var s=i(39318);var GenerateVerts=function(t,e,i,n,a,o,l,h){if(n===void 0){n=false}if(o===void 0){o=16777215}if(l===void 0){l=1}if(h===void 0){h=false}if(t.length!==e.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]};var c;var f;var d;var v;var p;var g;var m;var y;var x;var b;var T;var w=n?3:2;var E=Array.isArray(o);var S=Array.isArray(l);if(Array.isArray(i)&&i.length>0){for(c=0;c<i.length;c++){var A=i[c];var C=i[c]*2;var O=i[c]*w;f=t[O];d=t[O+1];v=n?t[O+2]:0;p=e[C];g=e[C+1];if(h){g=1-g}m=E?o[A]:o;y=S?l[A]:l;x=0;b=0;T=0;if(a){x=a[O];b=a[O+1];T=n?a[O+2]:0}u.vertices.push(new s(f,d,v,p,g,m,y,x,b,T))}}else{var P=0;var I=0;for(c=0;c<t.length;c+=w){f=t[c];d=t[c+1];v=n?t[c+2]:0;p=e[P];g=e[P+1];m=E?o[I]:o;y=S?l[I]:l;x=0;b=0;T=0;if(a){x=a[c];b=a[c+1];T=n?a[c+2]:0}u.vertices.push(new s(f,d,v,p,g,m,y,x,b,T));P+=2;I++}}for(c=0;c<u.vertices.length;c+=3){var R=u.vertices[c];var M=u.vertices[c+1];var L=u.vertices[c+2];u.faces.push(new r(R,M,L))}return u};t.exports=GenerateVerts},85048:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e=true;var i="untitled";var r="";var s="";function stripComments(t){var e=t.indexOf("#");return e>-1?t.substring(0,e):t}function currentModel(t){if(t.models.length===0){t.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]})}r="";return t.models[t.models.length-1]}function parseObject(t,e){var s=t.length>=2?t[1]:i;e.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]});r=""}function parseGroup(t){if(t.length===2){r=t[1]}}function parseVertexCoords(t,e){var i=t.length;var r=i>=2?parseFloat(t[1]):0;var s=i>=3?parseFloat(t[2]):0;var n=i>=4?parseFloat(t[3]):0;currentModel(e).vertices.push({x:r,y:s,z:n})}function parseTextureCoords(t,i){var r=t.length;var s=r>=2?parseFloat(t[1]):0;var n=r>=3?parseFloat(t[2]):0;var a=r>=4?parseFloat(t[3]):0;if(isNaN(s)){s=0}if(isNaN(n)){n=0}if(isNaN(a)){a=0}if(e){n=1-n}currentModel(i).textureCoords.push({u:s,v:n,w:a})}function parseVertexNormal(t,e){var i=t.length;var r=i>=2?parseFloat(t[1]):0;var s=i>=3?parseFloat(t[2]):0;var n=i>=4?parseFloat(t[3]):0;currentModel(e).vertexNormals.push({x:r,y:s,z:n})}function parsePolygon(t,e){var i=t.length-1;if(i<3){return}var n={group:r,material:s,vertices:[]};for(var a=0;a<i;a++){var o=t[a+1];var l=o.split("/");var h=l.length;if(h<1||h>3){continue}var u=0;var c=0;var f=0;u=parseInt(l[0],10);if(h>1&&l[1]!==""){c=parseInt(l[1],10)}if(h>2){f=parseInt(l[2],10)}if(u!==0){if(u<0){u=currentModel(e).vertices.length+1+u}c-=1;u-=1;f-=1;n.vertices.push({textureCoordsIndex:c,vertexIndex:u,vertexNormalIndex:f})}}currentModel(e).faces.push(n)}function parseMtlLib(t,e){if(t.length>=2){e.materialLibraries.push(t[1])}}function parseUseMtl(t){if(t.length>=2){s=t[1]}}var ParseObj=function(t,i){if(i===void 0){i=true}e=i;var n={materials:{},materialLibraries:[],models:[]};r="";s="";var a=t.split("\n");for(var o=0;o<a.length;o++){var l=stripComments(a[o]);var h=l.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"o":parseObject(h,n);break;case"g":parseGroup(h);break;case"v":parseVertexCoords(h,n);break;case"vt":parseTextureCoords(h,n);break;case"vn":parseVertexNormal(h,n);break;case"f":parsePolygon(h,n);break;case"mtllib":parseMtlLib(h,n);break;case"usemtl":parseUseMtl(h);break}}return n};t.exports=ParseObj},61485:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37589);var ParseObjMaterial=function(t){var e={};var i=t.split("\n");var s="";for(var n=0;n<i.length;n++){var a=i[n].trim();if(a.indexOf("#")===0||a===""){continue}var o=a.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":{s=o[1];break}case"kd":{var l=Math.floor(o[1]*255);var h=o.length>=2?Math.floor(o[2]*255):l;var u=o.length>=3?Math.floor(o[3]*255):l;e[s]=r(l,h,u);break}}}return e};t.exports=ParseObjMaterial},92570:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateFace=function(t,e,i,r){var s;var n;if(i===void 0&&r===void 0){var a=t.getInCenter();s=a.x;n=a.y}var o=Math.cos(e);var l=Math.sin(e);var h=t.vertex1;var u=t.vertex2;var c=t.vertex3;var f=h.x-s;var d=h.y-n;h.set(f*o-d*l+s,f*l+d*o+n);f=u.x-s;d=u.y-n;u.set(f*o-d*l+s,f*l+d*o+n);f=c.x-s;d=c.y-n;c.set(f*o-d*l+s,f*l+d*o+n)};t.exports=RotateFace},39318:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(70554);var n=i(25836);var a=new r({Extends:n,initialize:function Vertex2(t,e,i,r,s,a,o,l,h,u){if(a===void 0){a=16777215}if(o===void 0){o=1}if(l===void 0){l=0}if(h===void 0){h=0}if(u===void 0){u=0}n.call(this,t,e,i);this.vx=0;this.vy=0;this.vz=0;this.nx=l;this.ny=h;this.nz=u;this.u=r;this.v=s;this.color=a;this.alpha=o;this.tx=0;this.ty=0;this.ta=0;this.tu=r;this.tv=s},setUVs:function(t,e){this.u=t;this.v=e;this.tu=t;this.tv=e;return this},scrollUV:function(t,e){this.tu+=t;this.tv+=e;return this},scaleUV:function(t,e){this.tu=this.u*t;this.tv=this.v*e;return this},transformCoordinatesLocal:function(t,e,i,r){var s=this.x;var n=this.y;var a=this.z;var o=t.val;var l=s*o[0]+n*o[4]+a*o[8]+o[12];var h=s*o[1]+n*o[5]+a*o[9]+o[13];var u=s*o[2]+n*o[6]+a*o[10]+o[14];var c=s*o[3]+n*o[7]+a*o[11]+o[15];this.vx=l/c*e;this.vy=-(h/c)*i;if(r<=0){this.vz=u/c}else{this.vz=-(u/c)}},resize:function(t,e,i,r,s,n){this.x=t;this.y=e;this.vx=this.x*i;this.vy=-this.y*r;this.vz=0;if(s<.5){this.vx+=i*(.5-s)}else if(s>.5){this.vx-=i*(s-.5)}if(n<.5){this.vy+=r*(.5-n)}else if(n>.5){this.vy-=r*(n-.5)}return this},update:function(t,e,i,r,s,n,a,o){var l=this.vx*t+this.vy*i+s;var h=this.vx*e+this.vy*r+n;if(a){l=Math.round(l);h=Math.round(h)}this.tx=l;this.ty=h;this.ta=this.alpha*o;return this},load:function(t,e,i,r,n){t[++i]=this.tx;t[++i]=this.ty;t[++i]=this.tu;t[++i]=this.tv;t[++i]=r;t[++i]=n;e[++i]=s.getTintAppendFloatAlpha(this.color,this.ta);return i}});t.exports=a},73090:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};t.exports=r},96550:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ceil=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};t.exports=Ceil},99706:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Clone=function(t){return new r(t.x,t.y)};t.exports=Clone},68010:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x,t.y)};t.exports=CopyFrom},27814:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x===e.x&&t.y===e.y};t.exports=Equals},73565:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Floor=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};t.exports=Floor},87555:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetCentroid=function(t,e){if(e===void 0){e=new r}if(!Array.isArray(t)){throw new Error("GetCentroid points argument must be an array")}var i=t.length;if(i<1){throw new Error("GetCentroid points array must not be empty")}else if(i===1){e.x=t[0].x;e.y=t[0].y}else{for(var s=0;s<i;s++){e.x+=t[s].x;e.y+=t[s].y}e.x/=i;e.y/=i}return e};t.exports=GetCentroid},28793:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetMagnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.exports=GetMagnitude},44405:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetMagnitudeSq=function(t){return t.x*t.x+t.y*t.y};t.exports=GetMagnitudeSq},20873:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var GetRectangleFromPoints=function(t,e){if(e===void 0){e=new r}var i=Number.NEGATIVE_INFINITY;var s=Number.POSITIVE_INFINITY;var n=Number.NEGATIVE_INFINITY;var a=Number.POSITIVE_INFINITY;for(var o=0;o<t.length;o++){var l=t[o];if(l.x>i){i=l.x}if(l.x<s){s=l.x}if(l.y>n){n=l.y}if(l.y<a){a=l.y}}e.x=s;e.y=a;e.width=i-s;e.height=n-a;return e};t.exports=GetRectangleFromPoints},26152:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Interpolate=function(t,e,i,s){if(i===void 0){i=0}if(s===void 0){s=new r}s.x=t.x+(e.x-t.x)*i;s.y=t.y+(e.y-t.y)*i;return s};t.exports=Interpolate},55767:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Invert=function(t){return t.setTo(t.y,t.x)};t.exports=Invert},79432:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Negative=function(t,e){if(e===void 0){e=new r}return e.setTo(-t.x,-t.y)};t.exports=Negative},2141:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23777);var n=new r({initialize:function Point2(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.type=s.POINT;this.x=t;this.y=e},setTo:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.x=t;this.y=e;return this}});t.exports=n},72930:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(44405);var Project=function(t,e,i){if(i===void 0){i=new r}var n=t.x*e.x+t.y*e.y;var a=n/s(e);if(a!==0){i.x=a*e.x;i.y=a*e.y}return i};t.exports=Project},62880:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var ProjectUnit=function(t,e,i){if(i===void 0){i=new r}var s=t.x*e.x+t.y*e.y;if(s!==0){i.x=s*e.x;i.y=s*e.y}return i};t.exports=ProjectUnit},15093:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(28793);var SetMagnitude=function(t,e){if(t.x!==0||t.y!==0){var i=r(t);t.x/=i;t.y/=i}t.x*=e;t.y*=e;return t};t.exports=SetMagnitude},43711:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);r.Ceil=i(96550);r.Clone=i(99706);r.CopyFrom=i(68010);r.Equals=i(27814);r.Floor=i(73565);r.GetCentroid=i(87555);r.GetMagnitude=i(28793);r.GetMagnitudeSq=i(44405);r.GetRectangleFromPoints=i(20873);r.Interpolate=i(26152);r.Invert=i(55767);r.Negative=i(79432);r.Project=i(72930);r.ProjectUnit=i(62880);r.SetMagnitude=i(15093);t.exports=r},12306:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25717);var Clone=function(t){return new r(t.points)};t.exports=Clone},63814:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=function(t,e,i){var r=false;for(var s=-1,n=t.points.length-1;++s<t.points.length;n=s){var a=t.points[s].x;var o=t.points[s].y;var l=t.points[n].x;var h=t.points[n].y;if((o<=i&&i<h||h<=i&&i<o)&&e<(l-a)*(i-o)/(h-o)+a){r=!r}}return r};t.exports=Contains},99338:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(63814);var ContainsPoint=function(t,e){return r(t,e.x,e.y)};t.exports=ContainsPoint},94811:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function earcut(t,e,i){i=i||2;var r=e&&e.length,s=r?e[0]*i:t.length,n=linkedList(t,0,s,i,true),a=[];if(!n||n.next===n.prev)return a;var o,l,h,u,c,f,d;if(r)n=eliminateHoles(t,e,n,i);if(t.length>80*i){o=h=t[0];l=u=t[1];for(var v=i;v<s;v+=i){c=t[v];f=t[v+1];if(c<o)o=c;if(f<l)l=f;if(c>h)h=c;if(f>u)u=f}d=Math.max(h-o,u-l);d=d!==0?32767/d:0}earcutLinked(n,a,i,o,l,d,0);return a}function linkedList(t,e,i,r,s){var n,a;if(s===signedArea(t,e,i,r)>0){for(n=e;n<i;n+=r)a=insertNode(n,t[n],t[n+1],a)}else{for(n=i-r;n>=e;n-=r)a=insertNode(n,t[n],t[n+1],a)}if(a&&equals(a,a.next)){removeNode(a);a=a.next}return a}function filterPoints(t,e){if(!t)return t;if(!e)e=t;var i=t,r;do{r=false;if(!i.steiner&&(equals(i,i.next)||area(i.prev,i,i.next)===0)){removeNode(i);i=e=i.prev;if(i===i.next)break;r=true}else{i=i.next}}while(r||i!==e);return e}function earcutLinked(t,e,i,r,s,n,a){if(!t)return;if(!a&&n)indexCurve(t,r,s,n);var o=t,l,h;while(t.prev!==t.next){l=t.prev;h=t.next;if(n?isEarHashed(t,r,s,n):isEar(t)){e.push(l.i/i|0);e.push(t.i/i|0);e.push(h.i/i|0);removeNode(t);t=h.next;o=h.next;continue}t=h;if(t===o){if(!a){earcutLinked(filterPoints(t),e,i,r,s,n,1)}else if(a===1){t=cureLocalIntersections(filterPoints(t),e,i);earcutLinked(t,e,i,r,s,n,2)}else if(a===2){splitEarcut(t,e,i,r,s,n)}break}}}function isEar(t){var e=t.prev,i=t,r=t.next;if(area(e,i,r)>=0)return false;var s=e.x,n=i.x,a=r.x,o=e.y,l=i.y,h=r.y;var u=s<n?s<a?s:a:n<a?n:a,c=o<l?o<h?o:h:l<h?l:h,f=s>n?s>a?s:a:n>a?n:a,d=o>l?o>h?o:h:l>h?l:h;var v=r.next;while(v!==e){if(v.x>=u&&v.x<=f&&v.y>=c&&v.y<=d&&pointInTriangle(s,o,n,l,a,h,v.x,v.y)&&area(v.prev,v,v.next)>=0)return false;v=v.next}return true}function isEarHashed(t,e,i,r){var s=t.prev,n=t,a=t.next;if(area(s,n,a)>=0)return false;var o=s.x,l=n.x,h=a.x,u=s.y,c=n.y,f=a.y;var d=o<l?o<h?o:h:l<h?l:h,v=u<c?u<f?u:f:c<f?c:f,p=o>l?o>h?o:h:l>h?l:h,g=u>c?u>f?u:f:c>f?c:f;var m=zOrder(d,v,e,i,r),y=zOrder(p,g,e,i,r);var x=t.prevZ,b=t.nextZ;while(x&&x.z>=m&&b&&b.z<=y){if(x.x>=d&&x.x<=p&&x.y>=v&&x.y<=g&&x!==s&&x!==a&&pointInTriangle(o,u,l,c,h,f,x.x,x.y)&&area(x.prev,x,x.next)>=0)return false;x=x.prevZ;if(b.x>=d&&b.x<=p&&b.y>=v&&b.y<=g&&b!==s&&b!==a&&pointInTriangle(o,u,l,c,h,f,b.x,b.y)&&area(b.prev,b,b.next)>=0)return false;b=b.nextZ}while(x&&x.z>=m){if(x.x>=d&&x.x<=p&&x.y>=v&&x.y<=g&&x!==s&&x!==a&&pointInTriangle(o,u,l,c,h,f,x.x,x.y)&&area(x.prev,x,x.next)>=0)return false;x=x.prevZ}while(b&&b.z<=y){if(b.x>=d&&b.x<=p&&b.y>=v&&b.y<=g&&b!==s&&b!==a&&pointInTriangle(o,u,l,c,h,f,b.x,b.y)&&area(b.prev,b,b.next)>=0)return false;b=b.nextZ}return true}function cureLocalIntersections(t,e,i){var r=t;do{var s=r.prev,n=r.next.next;if(!equals(s,n)&&intersects(s,r,r.next,n)&&locallyInside(s,n)&&locallyInside(n,s)){e.push(s.i/i|0);e.push(r.i/i|0);e.push(n.i/i|0);removeNode(r);removeNode(r.next);r=t=n}r=r.next}while(r!==t);return filterPoints(r)}function splitEarcut(t,e,i,r,s,n){var a=t;do{var o=a.next.next;while(o!==a.prev){if(a.i!==o.i&&isValidDiagonal(a,o)){var l=splitPolygon(a,o);a=filterPoints(a,a.next);l=filterPoints(l,l.next);earcutLinked(a,e,i,r,s,n,0);earcutLinked(l,e,i,r,s,n,0);return}o=o.next}a=a.next}while(a!==t)}function eliminateHoles(t,e,i,r){var s=[],n,a,o,l,h;for(n=0,a=e.length;n<a;n++){o=e[n]*r;l=n<a-1?e[n+1]*r:t.length;h=linkedList(t,o,l,r,false);if(h===h.next)h.steiner=true;s.push(getLeftmost(h))}s.sort(compareX);for(n=0;n<s.length;n++){i=eliminateHole(s[n],i)}return i}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){var i=findHoleBridge(t,e);if(!i){return e}var r=splitPolygon(i,t);filterPoints(r,r.next);return filterPoints(i,i.next)}function findHoleBridge(t,e){var i=e,r=t.x,s=t.y,n=-Infinity,a;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var o=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=r&&o>n){n=o;a=i.x<i.next.x?i:i.next;if(o===r)return a}}i=i.next}while(i!==e);if(!a)return null;var l=a,h=a.x,u=a.y,c=Infinity,f;i=a;do{if(r>=i.x&&i.x>=h&&r!==i.x&&pointInTriangle(s<u?r:n,s,h,u,s<u?n:r,s,i.x,i.y)){f=Math.abs(s-i.y)/(r-i.x);if(locallyInside(i,t)&&(f<c||f===c&&(i.x>a.x||i.x===a.x&&sectorContainsSector(a,i)))){a=i;c=f}}i=i.next}while(i!==l);return a}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,i,r){var s=t;do{if(s.z===0)s.z=zOrder(s.x,s.y,e,i,r);s.prevZ=s.prev;s.nextZ=s.next;s=s.next}while(s!==t);s.prevZ.nextZ=null;s.prevZ=null;sortLinked(s)}function sortLinked(t){var e,i,r,s,n,a,o,l,h=1;do{i=t;t=null;n=null;a=0;while(i){a++;r=i;o=0;for(e=0;e<h;e++){o++;r=r.nextZ;if(!r)break}l=h;while(o>0||l>0&&r){if(o!==0&&(l===0||!r||i.z<=r.z)){s=i;i=i.nextZ;o--}else{s=r;r=r.nextZ;l--}if(n)n.nextZ=s;else t=s;s.prevZ=n;n=s}i=r}n.nextZ=null;h*=2}while(a>1);return t}function zOrder(t,e,i,r,s){t=(t-i)*s|0;e=(e-r)*s|0;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1}function getLeftmost(t){var e=t,i=t;do{if(e.x<i.x||e.x===i.x&&e.y<i.y)i=e;e=e.next}while(e!==t);return i}function pointInTriangle(t,e,i,r,s,n,a,o){return(s-a)*(e-o)>=(t-a)*(n-o)&&(t-a)*(r-o)>=(i-a)*(e-o)&&(i-a)*(n-o)>=(s-a)*(r-o)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,i,r){var s=sign(area(t,e,i));var n=sign(area(t,e,r));var a=sign(area(i,r,t));var o=sign(area(i,r,e));if(s!==n&&a!==o)return true;if(s===0&&onSegment(t,i,e))return true;if(n===0&&onSegment(t,r,e))return true;if(a===0&&onSegment(i,t,r))return true;if(o===0&&onSegment(i,e,r))return true;return false}function onSegment(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function sign(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&intersects(i,i.next,t,e))return true;i=i.next}while(i!==t);return false}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){var i=t,r=false,s=(t.x+e.x)/2,n=(t.y+e.y)/2;do{if(i.y>n!==i.next.y>n&&i.next.y!==i.y&&s<(i.next.x-i.x)*(n-i.y)/(i.next.y-i.y)+i.x)r=!r;i=i.next}while(i!==t);return r}function splitPolygon(t,e){var i=new Node(t.i,t.x,t.y),r=new Node(e.i,e.x,e.y),s=t.next,n=e.prev;t.next=e;e.prev=t;i.next=s;s.prev=i;r.next=i;i.prev=r;n.next=r;r.prev=n;return r}function insertNode(t,e,i,r){var s=new Node(t,e,i);if(!r){s.prev=s;s.next=s}else{s.next=r.next;s.prev=r;r.next.prev=s;r.next=s}return s}function removeNode(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function Node(t,e,i){this.i=t;this.x=e;this.y=i;this.prev=null;this.next=null;this.z=0;this.prevZ=null;this.nextZ=null;this.steiner=false}earcut.deviation=function(t,e,i,r){var s=e&&e.length;var n=s?e[0]*i:t.length;var a=Math.abs(signedArea(t,0,n,i));if(s){for(var o=0,l=e.length;o<l;o++){var h=e[o]*i;var u=o<l-1?e[o+1]*i:t.length;a-=Math.abs(signedArea(t,h,u,i))}}var c=0;for(o=0;o<r.length;o+=3){var f=r[o]*i;var d=r[o+1]*i;var v=r[o+2]*i;c+=Math.abs((t[f]-t[v])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[v+1]-t[f+1]))}return a===0&&c===0?0:Math.abs((c-a)/a)};function signedArea(t,e,i,r){var s=0;for(var n=e,a=i-r;n<i;n+=r){s+=(t[a]-t[n])*(t[n+1]+t[a+1]);a=n}return s}earcut.flatten=function(t){var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0;for(var s=0;s<t.length;s++){for(var n=0;n<t[s].length;n++){for(var a=0;a<e;a++)i.vertices.push(t[s][n][a])}if(s>0){r+=t[s-1].length;i.holes.push(r)}}return i};t.exports=earcut},13829:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var GetAABB=function(t,e){if(e===void 0){e=new r}var i=Infinity;var s=Infinity;var n=-i;var a=-s;var o;for(var l=0;l<t.points.length;l++){o=t.points[l];i=Math.min(i,o.x);s=Math.min(s,o.y);n=Math.max(n,o.x);a=Math.max(a,o.y)}e.x=i;e.y=s;e.width=n-i;e.height=a-s;return e};t.exports=GetAABB},26173:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetNumberArray=function(t,e){if(e===void 0){e=[]}for(var i=0;i<t.points.length;i++){e.push(t.points[i].x);e.push(t.points[i].y)}return e};t.exports=GetNumberArray},9564:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var s=i(23031);var n=i(30052);var GetPoints=function(t,e,i,a){if(a===void 0){a=[]}var o=t.points;var l=n(t);if(!e&&i>0){e=l/i}for(var h=0;h<e;h++){var u=l*(h/e);var c=0;for(var f=0;f<o.length;f++){var d=o[f];var v=o[(f+1)%o.length];var p=new s(d.x,d.y,v.x,v.y);var g=r(p);if(u<c||u>c+g){c+=g;continue}var m=p.getPoint((u-c)/g);a.push(m);break}}return a};t.exports=GetPoints},30052:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var s=i(23031);var Perimeter=function(t){var e=t.points;var i=0;for(var n=0;n<e.length;n++){var a=e[n];var o=e[(n+1)%e.length];var l=new s(a.x,a.y,o.x,o.y);i+=r(l)}return i};t.exports=Perimeter},25717:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(63814);var n=i(9564);var a=i(23777);var o=new r({initialize:function Polygon2(t){this.type=a.POLYGON;this.area=0;this.points=[];if(t){this.setTo(t)}},contains:function(t,e){return s(this,t,e)},setTo:function(t){this.area=0;this.points=[];if(typeof t==="string"){t=t.split(" ")}if(!Array.isArray(t)){return this}var e;for(var i=0;i<t.length;i++){e={x:0,y:0};if(typeof t[i]==="number"||typeof t[i]==="string"){e.x=parseFloat(t[i]);e.y=parseFloat(t[i+1]);i++}else if(Array.isArray(t[i])){e.x=t[i][0];e.y=t[i][1]}else{e.x=t[i].x;e.y=t[i].y}this.points.push(e)}this.calculateArea();return this},calculateArea:function(){if(this.points.length<3){this.area=0;return this.area}var t=0;var e;var i;for(var r=0;r<this.points.length-1;r++){e=this.points[r];i=this.points[r+1];t+=(i.x-e.x)*(e.y+i.y)}e=this.points[0];i=this.points[this.points.length-1];t+=(e.x-i.x)*(i.y+e.y);this.area=-t*.5;return this.area},getPoints:function(t,e,i){return n(this,t,e,i)}});t.exports=o},8133:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Reverse=function(t){t.points.reverse();return t};t.exports=Reverse},29524:t=>{function getSqDist(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r}function getSqSegDist(t,e,i){var r=e.x,s=e.y,n=i.x-r,a=i.y-s;if(n!==0||a!==0){var o=((t.x-r)*n+(t.y-s)*a)/(n*n+a*a);if(o>1){r=i.x;s=i.y}else if(o>0){r+=n*o;s+=a*o}}n=t.x-r;a=t.y-s;return n*n+a*a}function simplifyRadialDist(t,e){var i=t[0],r=[i],s;for(var n=1,a=t.length;n<a;n++){s=t[n];if(getSqDist(s,i)>e){r.push(s);i=s}}if(i!==s){r.push(s)}return r}function simplifyDPStep(t,e,i,r,s){var n=r,a;for(var o=e+1;o<i;o++){var l=getSqSegDist(t[o],t[e],t[i]);if(l>n){a=o;n=l}}if(n>r){if(a-e>1){simplifyDPStep(t,e,a,r,s)}s.push(t[a]);if(i-a>1){simplifyDPStep(t,a,i,r,s)}}}function simplifyDouglasPeucker(t,e){var i=t.length-1;var r=[t[0]];simplifyDPStep(t,0,i,e,r);r.push(t[i]);return r}var Simplify=function(t,e,i){if(e===void 0){e=1}if(i===void 0){i=false}var r=t.points;if(r.length>2){var s=e*e;if(!i){r=simplifyRadialDist(r,s)}t.setTo(simplifyDouglasPeucker(r,s))}return t};t.exports=Simplify},5469:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var copy2=function(t,e){t[0]=e[0];t[1]=e[1];return t};var Smooth=function(t){var e;var i=[];var r=t.points;for(e=0;e<r.length;e++){i.push([r[e].x,r[e].y])}var s=[];if(i.length>0){s.push(copy2([0,0],i[0]))}for(e=0;e<i.length-1;e++){var n=i[e];var a=i[e+1];var o=n[0];var l=n[1];var h=a[0];var u=a[1];s.push([.85*o+.15*h,.85*l+.15*u]);s.push([.15*o+.85*h,.15*l+.85*u])}if(i.length>1){s.push(copy2([0,0],i[i.length-1]))}return t.setTo(s)};t.exports=Smooth},24709:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Translate=function(t,e,i){var r=t.points;for(var s=0;s<r.length;s++){r[s].x+=e;r[s].y+=i}return t};t.exports=Translate},58423:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25717);r.Clone=i(12306);r.Contains=i(63814);r.ContainsPoint=i(99338);r.Earcut=i(94811);r.GetAABB=i(13829);r.GetNumberArray=i(26173);r.GetPoints=i(9564);r.Perimeter=i(30052);r.Reverse=i(8133);r.Simplify=i(29524);r.Smooth=i(5469);r.Translate=i(24709);t.exports=r},62224:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Area=function(t){return t.width*t.height};t.exports=Area},98615:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ceil=function(t){t.x=Math.ceil(t.x);t.y=Math.ceil(t.y);return t};t.exports=Ceil},31688:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CeilAll=function(t){t.x=Math.ceil(t.x);t.y=Math.ceil(t.y);t.width=Math.ceil(t.width);t.height=Math.ceil(t.height);return t};t.exports=CeilAll},67502:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CenterOn=function(t,e,i){t.x=e-t.width/2;t.y=i-t.height/2;return t};t.exports=CenterOn},65085:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var Clone=function(t){return new r(t.x,t.y,t.width,t.height)};t.exports=Clone},37303:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=function(t,e,i){if(t.width<=0||t.height<=0){return false}return t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i};t.exports=Contains},96553:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37303);var ContainsPoint=function(t,e){return r(t,e.x,e.y)};t.exports=ContainsPoint},70273:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ContainsRect=function(t,e){if(e.width*e.height>t.width*t.height){return false}return e.x>t.x&&e.x<t.right&&(e.right>t.x&&e.right<t.right)&&(e.y>t.y&&e.y<t.bottom)&&(e.bottom>t.y&&e.bottom<t.bottom)};t.exports=ContainsRect},43459:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=CopyFrom},77493:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Decompose=function(t,e){if(e===void 0){e=[]}e.push({x:t.x,y:t.y});e.push({x:t.right,y:t.y});e.push({x:t.right,y:t.bottom});e.push({x:t.x,y:t.bottom});return e};t.exports=Decompose},9219:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=Equals},53751:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8249);var FitInside=function(t,e){var i=r(t);if(i<r(e)){t.setSize(e.height*i,e.height)}else{t.setSize(e.width,e.width/i)}return t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)};t.exports=FitInside},16088:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(8249);var FitOutside=function(t,e){var i=r(t);if(i>r(e)){t.setSize(e.height*i,e.height)}else{t.setSize(e.width,e.width/i)}return t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)};t.exports=FitOutside},80774:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Floor=function(t){t.x=Math.floor(t.x);t.y=Math.floor(t.y);return t};t.exports=Floor},83859:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FloorAll=function(t){t.x=Math.floor(t.x);t.y=Math.floor(t.y);t.width=Math.floor(t.width);t.height=Math.floor(t.height);return t};t.exports=FloorAll},19217:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var s=i(36383);var FromPoints=function(t,e){if(e===void 0){e=new r}if(t.length===0){return e}var i=Number.MAX_VALUE;var n=Number.MAX_VALUE;var a=s.MIN_SAFE_INTEGER;var o=s.MIN_SAFE_INTEGER;var l;var h;var u;for(var c=0;c<t.length;c++){l=t[c];if(Array.isArray(l)){h=l[0];u=l[1]}else{h=l.x;u=l.y}i=Math.min(i,h);n=Math.min(n,u);a=Math.max(a,h);o=Math.max(o,u)}e.x=i;e.y=n;e.width=a-i;e.height=o-n;return e};t.exports=FromPoints},9477:(t,e,i)=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var FromXY=function(t,e,i,s,n){if(n===void 0){n=new r}return n.setTo(Math.min(t,i),Math.min(e,s),Math.abs(t-i),Math.abs(e-s))};t.exports=FromXY},8249:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetAspectRatio=function(t){return t.height===0?NaN:t.width/t.height};t.exports=GetAspectRatio},27165:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetCenter=function(t,e){if(e===void 0){e=new r}e.x=t.centerX;e.y=t.centerY;return e};t.exports=GetCenter},20812:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13019);var s=i(2141);var GetPoint=function(t,e,i){if(i===void 0){i=new s}if(e<=0||e>=1){i.x=t.x;i.y=t.y;return i}var n=r(t)*e;if(e>.5){n-=t.width+t.height;if(n<=t.width){i.x=t.right-n;i.y=t.bottom}else{i.x=t.x;i.y=t.bottom-(n-t.width)}}else if(n<=t.width){i.x=t.x+n;i.y=t.y}else{i.x=t.right;i.y=t.y+(n-t.width)}return i};t.exports=GetPoint},34819:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20812);var s=i(13019);var GetPoints=function(t,e,i,n){if(n===void 0){n=[]}if(!e&&i>0){e=s(t)/i}for(var a=0;a<e;a++){var o=a/e;n.push(r(t,o))}return n};t.exports=GetPoints},51313:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var GetSize=function(t,e){if(e===void 0){e=new r}e.x=t.width;e.y=t.height;return e};t.exports=GetSize},86091:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(67502);var Inflate=function(t,e,i){var s=t.centerX;var n=t.centerY;t.setSize(t.width+e*2,t.height+i*2);return r(t,s,n)};t.exports=Inflate},53951:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var s=i(59996);var Intersection=function(t,e,i){if(i===void 0){i=new r}if(s(t,e)){i.x=Math.max(t.x,e.x);i.y=Math.max(t.y,e.y);i.width=Math.min(t.right,e.right)-i.x;i.height=Math.min(t.bottom,e.bottom)-i.y}else{i.setEmpty()}return i};t.exports=Intersection},14649:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13019);var s=i(2141);var MarchingAnts=function(t,e,i,n){if(n===void 0){n=[]}if(!e&&!i){return n}if(!e){e=r(t)/i}else{i=Math.round(r(t)/e)}var a=t.x;var o=t.y;var l=0;for(var h=0;h<i;h++){n.push(new s(a,o));switch(l){case 0:a+=e;if(a>=t.right){l=1;o+=a-t.right;a=t.right}break;case 1:o+=e;if(o>=t.bottom){l=2;a-=o-t.bottom;o=t.bottom}break;case 2:a-=e;if(a<=t.left){l=3;o-=t.left-a;a=t.left}break;case 3:o-=e;if(o<=t.top){l=0;o=t.top}break}}return n};t.exports=MarchingAnts},33595:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MergePoints=function(t,e){var i=t.x;var r=t.right;var s=t.y;var n=t.bottom;for(var a=0;a<e.length;a++){i=Math.min(i,e[a].x);r=Math.max(r,e[a].x);s=Math.min(s,e[a].y);n=Math.max(n,e[a].y)}t.x=i;t.y=s;t.width=r-i;t.height=n-s;return t};t.exports=MergePoints},20074:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MergeRect=function(t,e){var i=Math.min(t.x,e.x);var r=Math.max(t.right,e.right);t.x=i;t.width=r-i;var s=Math.min(t.y,e.y);var n=Math.max(t.bottom,e.bottom);t.y=s;t.height=n-s;return t};t.exports=MergeRect},92171:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MergeXY=function(t,e,i){var r=Math.min(t.x,e);var s=Math.max(t.right,e);t.x=r;t.width=s-r;var n=Math.min(t.y,i);var a=Math.max(t.bottom,i);t.y=n;t.height=a-n;return t};t.exports=MergeXY},42981:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Offset=function(t,e,i){t.x+=e;t.y+=i;return t};t.exports=Offset},46907:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var OffsetPoint=function(t,e){t.x+=e.x;t.y+=e.y;return t};t.exports=OffsetPoint},60170:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Overlaps=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y};t.exports=Overlaps},13019:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Perimeter=function(t){return 2*(t.width+t.height)};t.exports=Perimeter},85133:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(39506);var PerimeterPoint=function(t,e,i){if(i===void 0){i=new r}e=s(e);var n=Math.sin(e);var a=Math.cos(e);var o=a>0?t.width/2:t.width/-2;var l=n>0?t.height/2:t.height/-2;if(Math.abs(o*n)<Math.abs(l*a)){l=o*n/a}else{o=l*a/n}i.x=o+t.centerX;i.y=l+t.centerY;return i};t.exports=PerimeterPoint},26597:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Random=function(t,e){if(e===void 0){e=new r}e.x=t.x+Math.random()*t.width;e.y=t.y+Math.random()*t.height;return e};t.exports=Random},86470:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30976);var s=i(70273);var n=i(2141);var RandomOutside=function(t,e,i){if(i===void 0){i=new n}if(s(t,e)){switch(r(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x);i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x);i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x);i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right);i.y=t.y+Math.random()*(e.bottom-t.y);break}}return i};t.exports=RandomOutside},87841:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(37303);var n=i(20812);var a=i(34819);var o=i(23777);var l=i(23031);var h=i(26597);var u=new r({initialize:function Rectangle2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}this.type=o.RECTANGLE;this.x=t;this.y=e;this.width=i;this.height=r},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return a(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,r){this.x=t;this.y=e;this.width=i;this.height=r;return this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){if(e===void 0){e=t}this.x=t;this.y=e;return this},setSize:function(t,e){if(e===void 0){e=t}this.width=t;this.height=e;return this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){if(t===void 0){t=new l}t.setTo(this.x,this.y,this.right,this.y);return t},getLineB:function(t){if(t===void 0){t=new l}t.setTo(this.right,this.y,this.right,this.bottom);return t},getLineC:function(t){if(t===void 0){t=new l}t.setTo(this.right,this.bottom,this.x,this.bottom);return t},getLineD:function(t){if(t===void 0){t=new l}t.setTo(this.x,this.bottom,this.x,this.y);return t},left:{get:function(){return this.x},set:function(t){if(t>=this.right){this.width=0}else{this.width=this.right-t}this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){if(t<=this.x){this.width=0}else{this.width=t-this.x}}},top:{get:function(){return this.y},set:function(t){if(t>=this.bottom){this.height=0}else{this.height=this.bottom-t}this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){if(t<=this.y){this.height=0}else{this.height=t-this.y}}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},94845:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SameDimensions=function(t,e){return t.width===e.width&&t.height===e.height};t.exports=SameDimensions},31730:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Scale=function(t,e,i){if(i===void 0){i=e}t.width*=e;t.height*=i;return t};t.exports=Scale},36899:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var Union=function(t,e,i){if(i===void 0){i=new r}var s=Math.min(t.x,e.x);var n=Math.min(t.y,e.y);var a=Math.max(t.right,e.right)-s;var o=Math.max(t.bottom,e.bottom)-n;return i.setTo(s,n,a,o)};t.exports=Union},93232:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);r.Area=i(62224);r.Ceil=i(98615);r.CeilAll=i(31688);r.CenterOn=i(67502);r.Clone=i(65085);r.Contains=i(37303);r.ContainsPoint=i(96553);r.ContainsRect=i(70273);r.CopyFrom=i(43459);r.Decompose=i(77493);r.Equals=i(9219);r.FitInside=i(53751);r.FitOutside=i(16088);r.Floor=i(80774);r.FloorAll=i(83859);r.FromPoints=i(19217);r.FromXY=i(9477);r.GetAspectRatio=i(8249);r.GetCenter=i(27165);r.GetPoint=i(20812);r.GetPoints=i(34819);r.GetSize=i(51313);r.Inflate=i(86091);r.Intersection=i(53951);r.MarchingAnts=i(14649);r.MergePoints=i(33595);r.MergeRect=i(20074);r.MergeXY=i(92171);r.Offset=i(42981);r.OffsetPoint=i(46907);r.Overlaps=i(60170);r.Perimeter=i(13019);r.PerimeterPoint=i(85133);r.Random=i(26597);r.RandomOutside=i(86470);r.SameDimensions=i(94845);r.Scale=i(31730);r.Union=i(36899);t.exports=r},41658:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Area=function(t){var e=t.x1;var i=t.y1;var r=t.x2;var s=t.y2;var n=t.x3;var a=t.y3;return Math.abs(((n-e)*(s-i)-(r-e)*(a-i))/2)};t.exports=Area},39208:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(16483);var BuildEquilateral=function(t,e,i){var s=i*(Math.sqrt(3)/2);var n=t;var a=e;var o=t+i/2;var l=e+s;var h=t-i/2;var u=e+s;return new r(n,a,o,l,h,u)};t.exports=BuildEquilateral},39545:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(94811);var s=i(16483);var BuildFromPolygon=function(t,e,i,n,a){if(e===void 0){e=null}if(i===void 0){i=1}if(n===void 0){n=1}if(a===void 0){a=[]}var o=r(t,e);var l;var h;var u;var c;var f;var d;var v;var p;var g;for(var m=0;m<o.length;m+=3){l=o[m];h=o[m+1];u=o[m+2];c=t[l*2]*i;f=t[l*2+1]*n;d=t[h*2]*i;v=t[h*2+1]*n;p=t[u*2]*i;g=t[u*2+1]*n;a.push(new s(c,f,d,v,p,g))}return a};t.exports=BuildFromPolygon},90301:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(16483);var BuildRight=function(t,e,i,s){if(s===void 0){s=i}var n=t;var a=e;var o=t;var l=e-s;var h=t+i;var u=e;return new r(n,a,o,l,h,u)};t.exports=BuildRight},23707:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(97523);var s=i(13584);var CenterOn=function(t,e,i,n){if(n===void 0){n=r}var a=n(t);var o=e-a.x;var l=i-a.y;return s(t,o,l)};t.exports=CenterOn},97523:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Centroid=function(t,e){if(e===void 0){e=new r}e.x=(t.x1+t.x2+t.x3)/3;e.y=(t.y1+t.y2+t.y3)/3;return e};t.exports=Centroid},24951:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);function det(t,e,i,r){return t*r-e*i}var CircumCenter=function(t,e){if(e===void 0){e=new r}var i=t.x3;var s=t.y3;var n=t.x1-i;var a=t.y1-s;var o=t.x2-i;var l=t.y2-s;var h=2*det(n,a,o,l);var u=det(a,n*n+a*a,l,o*o+l*l);var c=det(n,n*n+a*a,o,o*o+l*l);e.x=i-u/h;e.y=s+c/h;return e};t.exports=CircumCenter},85614:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(96503);var CircumCircle=function(t,e){if(e===void 0){e=new r}var i=t.x1;var s=t.y1;var n=t.x2;var a=t.y2;var o=t.x3;var l=t.y3;var h=n-i;var u=a-s;var c=o-i;var f=l-s;var d=h*(i+n)+u*(s+a);var v=c*(i+o)+f*(s+l);var p=2*(h*(l-a)-u*(o-n));var g;var m;if(Math.abs(p)<1e-6){var y=Math.min(i,n,o);var x=Math.min(s,a,l);g=(Math.max(i,n,o)-y)*.5;m=(Math.max(s,a,l)-x)*.5;e.x=y+g;e.y=x+m;e.radius=Math.sqrt(g*g+m*m)}else{e.x=(f*d-u*v)/p;e.y=(h*v-c*d)/p;g=e.x-i;m=e.y-s;e.radius=Math.sqrt(g*g+m*m)}return e};t.exports=CircumCircle},74422:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(16483);var Clone=function(t){return new r(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=Clone},10690:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Contains=function(t,e,i){var r=t.x3-t.x1;var s=t.y3-t.y1;var n=t.x2-t.x1;var a=t.y2-t.y1;var o=e-t.x1;var l=i-t.y1;var h=r*r+s*s;var u=r*n+s*a;var c=r*o+s*l;var f=n*n+a*a;var d=n*o+a*l;var v=h*f-u*u;var p=v===0?0:1/v;var g=(f*c-u*d)*p;var m=(h*d-u*c)*p;return g>=0&&m>=0&&g+m<1};t.exports=Contains},48653:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ContainsArray=function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r=[]}var s=t.x3-t.x1;var n=t.y3-t.y1;var a=t.x2-t.x1;var o=t.y2-t.y1;var l=s*s+n*n;var h=s*a+n*o;var u=a*a+o*o;var c=l*u-h*h;var f=c===0?0:1/c;var d;var v;var p;var g;var m;var y;var x=t.x1;var b=t.y1;for(var T=0;T<e.length;T++){p=e[T].x-x;g=e[T].y-b;m=s*p+n*g;y=a*p+o*g;d=(u*m-h*y)*f;v=(l*y-h*m)*f;if(d>=0&&v>=0&&d+v<1){r.push({x:e[T].x,y:e[T].y});if(i){break}}}return r};t.exports=ContainsArray},96006:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10690);var ContainsPoint=function(t,e){return r(t,e.x,e.y)};t.exports=ContainsPoint},71326:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CopyFrom=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=CopyFrom},71694:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Decompose=function(t,e){if(e===void 0){e=[]}e.push({x:t.x1,y:t.y1});e.push({x:t.x2,y:t.y2});e.push({x:t.x3,y:t.y3});return e};t.exports=Decompose},33522:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equals=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3};t.exports=Equals},20437:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var s=i(35001);var GetPoint=function(t,e,i){if(i===void 0){i=new r}var n=t.getLineA();var a=t.getLineB();var o=t.getLineC();if(e<=0||e>=1){i.x=n.x1;i.y=n.y1;return i}var l=s(n);var h=s(a);var u=s(o);var c=l+h+u;var f=c*e;var d=0;if(f<l){d=f/l;i.x=n.x1+(n.x2-n.x1)*d;i.y=n.y1+(n.y2-n.y1)*d}else if(f>l+h){f-=l+h;d=f/u;i.x=o.x1+(o.x2-o.x1)*d;i.y=o.y1+(o.y2-o.y1)*d}else{f-=l;d=f/h;i.x=a.x1+(a.x2-a.x1)*d;i.y=a.y1+(a.y2-a.y1)*d}return i};t.exports=GetPoint},80672:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var s=i(2141);var GetPoints=function(t,e,i,n){if(n===void 0){n=[]}var a=t.getLineA();var o=t.getLineB();var l=t.getLineC();var h=r(a);var u=r(o);var c=r(l);var f=h+u+c;if(!e&&i>0){e=f/i}for(var d=0;d<e;d++){var v=f*(d/e);var p=0;var g=new s;if(v<h){p=v/h;g.x=a.x1+(a.x2-a.x1)*p;g.y=a.y1+(a.y2-a.y1)*p}else if(v>h+u){v-=h+u;p=v/c;g.x=l.x1+(l.x2-l.x1)*p;g.y=l.y1+(l.y2-l.y1)*p}else{v-=h;p=v/u;g.x=o.x1+(o.x2-o.x1)*p;g.y=o.y1+(o.y2-o.y1)*p}n.push(g)}return n};t.exports=GetPoints},39757:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);function getLength(t,e,i,r){var s=t-i;var n=e-r;var a=s*s+n*n;return Math.sqrt(a)}var InCenter=function(t,e){if(e===void 0){e=new r}var i=t.x1;var s=t.y1;var n=t.x2;var a=t.y2;var o=t.x3;var l=t.y3;var h=getLength(o,l,n,a);var u=getLength(i,s,o,l);var c=getLength(n,a,i,s);var f=h+u+c;e.x=(i*h+n*u+o*c)/f;e.y=(s*h+a*u+l*c)/f;return e};t.exports=InCenter},13584:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Offset=function(t,e,i){t.x1+=e;t.y1+=i;t.x2+=e;t.y2+=i;t.x3+=e;t.y3+=i;return t};t.exports=Offset},1376:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35001);var Perimeter=function(t){var e=t.getLineA();var i=t.getLineB();var s=t.getLineC();return r(e)+r(i)+r(s)};t.exports=Perimeter},90260:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2141);var Random=function(t,e){if(e===void 0){e=new r}var i=t.x2-t.x1;var s=t.y2-t.y1;var n=t.x3-t.x1;var a=t.y3-t.y1;var o=Math.random();var l=Math.random();if(o+l>=1){o=1-o;l=1-l}e.x=t.x1+(i*o+n*l);e.y=t.y1+(s*o+a*l);return e};t.exports=Random},52172:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(99614);var s=i(39757);var Rotate=function(t,e){var i=s(t);return r(t,i.x,i.y,e)};t.exports=Rotate},49907:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(99614);var RotateAroundPoint=function(t,e,i){return r(t,e.x,e.y,i)};t.exports=RotateAroundPoint},99614:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundXY=function(t,e,i,r){var s=Math.cos(r);var n=Math.sin(r);var a=t.x1-e;var o=t.y1-i;t.x1=a*s-o*n+e;t.y1=a*n+o*s+i;a=t.x2-e;o=t.y2-i;t.x2=a*s-o*n+e;t.y2=a*n+o*s+i;a=t.x3-e;o=t.y3-i;t.x3=a*s-o*n+e;t.y3=a*n+o*s+i;return t};t.exports=RotateAroundXY},16483:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(10690);var n=i(20437);var a=i(80672);var o=i(23777);var l=i(23031);var h=i(90260);var u=new r({initialize:function Triangle2(t,e,i,r,s,n){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}if(n===void 0){n=0}this.type=o.TRIANGLE;this.x1=t;this.y1=e;this.x2=i;this.y2=r;this.x3=s;this.y3=n},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return a(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,r,s,n){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=0}if(n===void 0){n=0}this.x1=t;this.y1=e;this.x2=i;this.y2=r;this.x3=s;this.y3=n;return this},getLineA:function(t){if(t===void 0){t=new l}t.setTo(this.x1,this.y1,this.x2,this.y2);return t},getLineB:function(t){if(t===void 0){t=new l}t.setTo(this.x2,this.y2,this.x3,this.y3);return t},getLineC:function(t){if(t===void 0){t=new l}t.setTo(this.x3,this.y3,this.x1,this.y1);return t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;if(this.x1<=this.x2&&this.x1<=this.x3){e=this.x1-t}else if(this.x2<=this.x1&&this.x2<=this.x3){e=this.x2-t}else{e=this.x3-t}this.x1-=e;this.x2-=e;this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;if(this.x1>=this.x2&&this.x1>=this.x3){e=this.x1-t}else if(this.x2>=this.x1&&this.x2>=this.x3){e=this.x2-t}else{e=this.x3-t}this.x1-=e;this.x2-=e;this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;if(this.y1<=this.y2&&this.y1<=this.y3){e=this.y1-t}else if(this.y2<=this.y1&&this.y2<=this.y3){e=this.y2-t}else{e=this.y3-t}this.y1-=e;this.y2-=e;this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;if(this.y1>=this.y2&&this.y1>=this.y3){e=this.y1-t}else if(this.y2>=this.y1&&this.y2>=this.y3){e=this.y2-t}else{e=this.y3-t}this.y1-=e;this.y2-=e;this.y3-=e}}});t.exports=u},84435:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(16483);r.Area=i(41658);r.BuildEquilateral=i(39208);r.BuildFromPolygon=i(39545);r.BuildRight=i(90301);r.CenterOn=i(23707);r.Centroid=i(97523);r.CircumCenter=i(24951);r.CircumCircle=i(85614);r.Clone=i(74422);r.Contains=i(10690);r.ContainsArray=i(48653);r.ContainsPoint=i(96006);r.CopyFrom=i(71326);r.Decompose=i(71694);r.Equals=i(33522);r.GetPoint=i(20437);r.GetPoints=i(80672);r.InCenter=i(39757);r.Perimeter=i(1376);r.Offset=i(13584);r.Random=i(90260);r.Rotate=i(52172);r.RotateAroundPoint=i(49907);r.RotateAroundXY=i(99614);t.exports=r},74457:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CreateInteractiveObject=function(t,e,i){return{gameObject:t,enabled:true,draggable:false,dropZone:false,cursor:false,target:null,camera:null,hitArea:e,hitAreaCallback:i,hitAreaDebug:null,customHitArea:false,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};t.exports=CreateInteractiveObject},84409:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CreatePixelPerfectHandler=function(t,e){return function(i,r,s,n){var a=t.getPixelAlpha(r,s,n.texture.key,n.frame.name);return a&&a>=e}};t.exports=CreatePixelPerfectHandler},7003:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(93301);var n=i(50792);var a=i(8214);var o=i(8443);var l=i(78970);var h=i(85098);var u=i(42515);var c=i(36210);var f=i(61340);var d=i(85955);var v=new r({initialize:function InputManager2(t,e){this.game=t;this.scaleManager;this.canvas;this.config=e;this.enabled=true;this.events=new n;this.isOver=true;this.defaultCursor="";this.keyboard=e.inputKeyboard?new l(this):null;this.mouse=e.inputMouse?new h(this):null;this.touch=e.inputTouch?new c(this):null;this.pointers=[];this.pointersTotal=e.inputActivePointers;for(var i=0;i<=this.pointersTotal;i++){var r=new u(this,i);r.smoothFactor=e.inputSmoothFactor;this.pointers.push(r)}this.mousePointer=e.inputMouse?this.pointers[0]:null;this.activePointer=this.pointers[0];this.globalTopOnly=true;this.time=0;this._tempPoint={x:0,y:0};this._tempHitTest=[];this._tempMatrix=new f;this._tempMatrix2=new f;this._tempSkip=false;this.mousePointerContainer=[this.mousePointer];t.events.once(o.BOOT,this.boot,this)},boot:function(){var t=this.game;var e=t.events;this.canvas=t.canvas;this.scaleManager=t.scale;this.events.emit(a.MANAGER_BOOT);e.on(o.PRE_RENDER,this.preRender,this);e.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=true;this.events.emit(a.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=false;this.events.emit(a.GAME_OUT,t)},preRender:function(){var t=this.game.loop.now;var e=this.game.loop.delta;var i=this.game.scene.getScenes(true,true);this.time=t;this.events.emit(a.MANAGER_UPDATE);for(var r=0;r<i.length;r++){var s=i[r];if(s.sys.input&&s.sys.input.updatePoll(t,e)&&this.globalTopOnly){return}}},setDefaultCursor:function(t){this.defaultCursor=t;if(this.canvas.style.cursor!==t){this.canvas.style.cursor=t}},setCursor:function(t){if(t.cursor){this.canvas.style.cursor=t.cursor}},resetCursor:function(t,e){if((e||t&&t.cursor)&&this.canvas){this.canvas.style.cursor=this.defaultCursor}},addPointer:function(t){if(t===void 0){t=1}var e=[];if(this.pointersTotal+t>10){t=10-this.pointersTotal}for(var i=0;i<t;i++){var r=this.pointers.length;var s=new u(this,r);s.smoothFactor=this.config.inputSmoothFactor;this.pointers.push(s);this.pointersTotal++;e.push(s)}return e},updateInputPlugins:function(t,e){var i=this.game.scene.getScenes(false,true);this._tempSkip=false;for(var r=0;r<i.length;r++){var s=i[r];if(s.sys.input){var n=s.sys.input.update(t,e);if(n&&this.globalTopOnly||this._tempSkip){return}}}},onTouchStart:function(t){var e=this.pointers;var i=[];for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r];for(var a=1;a<e.length;a++){var o=e[a];if(!o.active){o.touchstart(n,t);this.activePointer=o;i.push(o);break}}}this.updateInputPlugins(s.TOUCH_START,i)},onTouchMove:function(t){var e=this.pointers;var i=[];for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r];for(var a=1;a<e.length;a++){var o=e[a];if(o.active&&o.identifier===n.identifier){var l=document.elementFromPoint(n.clientX,n.clientY);var h=l===this.canvas;if(!this.isOver&&h){this.setCanvasOver(t)}else if(this.isOver&&!h){this.setCanvasOut(t)}if(this.isOver){o.touchmove(n,t);this.activePointer=o;i.push(o)}break}}}this.updateInputPlugins(s.TOUCH_MOVE,i)},onTouchEnd:function(t){var e=this.pointers;var i=[];for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r];for(var a=1;a<e.length;a++){var o=e[a];if(o.active&&o.identifier===n.identifier){o.touchend(n,t);i.push(o);break}}}this.updateInputPlugins(s.TOUCH_END,i)},onTouchCancel:function(t){var e=this.pointers;var i=[];for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r];for(var a=1;a<e.length;a++){var o=e[a];if(o.active&&o.identifier===n.identifier){o.touchcancel(n,t);i.push(o);break}}}this.updateInputPlugins(s.TOUCH_CANCEL,i)},onMouseDown:function(t){var e=this.mousePointer;e.down(t);e.updateMotion();this.activePointer=e;this.updateInputPlugins(s.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(t){var e=this.mousePointer;e.move(t);e.updateMotion();this.activePointer=e;this.updateInputPlugins(s.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(t){var e=this.mousePointer;e.up(t);e.updateMotion();this.activePointer=e;this.updateInputPlugins(s.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(t){var e=this.mousePointer;e.wheel(t);this.activePointer=e;this.updateInputPlugins(s.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(t){var e=this.mouse.locked;this.mousePointer.locked=e;this.events.emit(a.POINTERLOCK_CHANGE,t,e)},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!t.willRender(e)){return false}var r=true;var s=t.parentContainer;if(s){do{if(!s.willRender(e)){r=false;break}s=s.parentContainer}while(s)}return r},hitTest:function(t,e,i,r){if(r===void 0){r=this._tempHitTest}var s=this._tempPoint;var n=i.scrollX;var a=i.scrollY;r.length=0;var o=t.x;var l=t.y;i.getWorldPoint(o,l,s);t.worldX=s.x;t.worldY=s.y;var h={x:0,y:0};var u=this._tempMatrix;var c=this._tempMatrix2;for(var f=0;f<e.length;f++){var v=e[f];if(!this.inputCandidate(v,i)){continue}var p=s.x+n*v.scrollFactorX-n;var g=s.y+a*v.scrollFactorY-a;if(v.parentContainer){v.getWorldTransformMatrix(u,c);u.applyInverse(p,g,h)}else{d(p,g,v.x,v.y,v.rotation,v.scaleX,v.scaleY,h)}if(this.pointWithinHitArea(v,h.x,h.y)){r.push(v)}}return r},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX;i+=t.displayOriginY;var r=t.input;if(r&&r.hitAreaCallback(r.hitArea,e,i,t)){r.localX=e;r.localY=i;return true}else{return false}},pointWithinInteractiveObject:function(t,e,i){if(!t.hitArea){return false}e+=t.gameObject.displayOriginX;i+=t.gameObject.displayOriginY;t.localX=e;t.localY=i;return t.hitAreaCallback(t.hitArea,e,i,t)},transformPointer:function(t,e,i,r){var s=t.position;var n=t.prevPosition;n.x=s.x;n.y=s.y;var a=this.scaleManager.transformX(e);var o=this.scaleManager.transformY(i);var l=t.smoothFactor;if(!r||l===0){s.x=a;s.y=o}else{s.x=a*l+n.x*(1-l);s.y=o*l+n.y*(1-l)}},destroy:function(){this.events.removeAllListeners();this.game.events.off(o.PRE_RENDER);if(this.keyboard){this.keyboard.destroy()}if(this.mouse){this.mouse.destroy()}if(this.touch){this.touch.destroy()}for(var t=0;t<this.pointers.length;t++){this.pointers[t].destroy()}this.pointers=[];this._tempHitTest=[];this._tempMatrix.destroy();this.canvas=null;this.game=null}});t.exports=v},48205:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(96503);var s=i(87902);var n=i(83419);var a=i(93301);var o=i(74457);var l=i(84409);var h=i(20339);var u=i(8497);var c=i(81154);var f=i(8214);var d=i(50792);var v=i(95540);var p=i(23777);var g=i(89639);var m=i(41212);var y=i(37277);var x=i(87841);var b=i(37303);var T=i(44594);var w=i(16483);var E=i(10690);var S=new n({Extends:d,initialize:function InputPlugin2(t){d.call(this);this.scene=t;this.systems=t.sys;this.settings=t.sys.settings;this.manager=t.sys.game.input;this.pluginEvents=new d;this.enabled=true;this.displayList;this.cameras;g.install(this);this.mouse=this.manager.mouse;this.topOnly=true;this.pollRate=-1;this._pollTimer=0;var e={cancelled:false};this._eventContainer={stopPropagation:function(){e.cancelled=true}};this._eventData=e;this.dragDistanceThreshold=0;this.dragTimeThreshold=0;this._temp=[];this._tempZones=[];this._list=[];this._pendingInsertion=[];this._pendingRemoval=[];this._draggable=[];this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._dragState=[];this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"];this._updatedThisFrame=false;t.sys.events.once(T.BOOT,this.boot,this);t.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras;this.displayList=this.systems.displayList;this.systems.events.once(T.DESTROY,this.destroy,this);this.pluginEvents.emit(f.BOOT)},start:function(){var t=this.systems.events;t.on(T.TRANSITION_START,this.transitionIn,this);t.on(T.TRANSITION_OUT,this.transitionOut,this);t.on(T.TRANSITION_COMPLETE,this.transitionComplete,this);t.on(T.PRE_UPDATE,this.preUpdate,this);t.once(T.SHUTDOWN,this.shutdown,this);this.manager.events.on(f.GAME_OUT,this.onGameOut,this);this.manager.events.on(f.GAME_OVER,this.onGameOver,this);this.enabled=true;this._dragState=[0,0,0,0,0,0,0,0,0,0];this.pluginEvents.emit(f.START)},onGameOver:function(t){if(this.isActive()){this.emit(f.GAME_OVER,t.timeStamp,t)}},onGameOut:function(t){if(this.isActive()){this.emit(f.GAME_OUT,t.timeStamp,t)}},preUpdate:function(){this.pluginEvents.emit(f.PRE_UPDATE);var t=this._pendingRemoval;var e=this._pendingInsertion;var i=t.length;var r=e.length;if(i===0&&r===0){return}var s=this._list;for(var n=0;n<i;n++){var a=t[n];var o=s.indexOf(a);if(o>-1){s.splice(o,1);this.clear(a,true)}}this._pendingRemoval.length=0;this._list=s.concat(e.splice(0))},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(t){if(this.manager){this.manager.setCursor(t)}},resetCursor:function(){if(this.manager){this.manager.resetCursor(null,true)}},updatePoll:function(t,e){if(!this.isActive()){return false}this.pluginEvents.emit(f.UPDATE,t,e);if(this._updatedThisFrame){this._updatedThisFrame=false;return false}var i;var r=this.manager;var s=r.pointers;for(i=0;i<s.length;i++){s[i].updateMotion()}if(this._list.length===0){return false}var n=this.pollRate;if(n===-1){return false}else if(n>0){this._pollTimer-=e;if(this._pollTimer<0){this._pollTimer=this.pollRate}else{return false}}var a=false;for(i=0;i<s.length;i++){var o=0;var l=s[i];this._tempZones=[];this._temp=this.hitTestPointer(l);this.sortGameObjects(this._temp,l);this.sortDropZones(this._tempZones);if(this.topOnly){if(this._temp.length){this._temp.splice(1)}if(this._tempZones.length){this._tempZones.splice(1)}}o+=this.processOverOutEvents(l);if(this.getDragState(l)===2){this.processDragThresholdEvent(l,t)}if(o>0){a=true}}return a},update:function(t,e){if(!this.isActive()){return false}var i=false;for(var r=0;r<e.length;r++){var s=0;var n=e[r];this._tempZones=[];this._temp=this.hitTestPointer(n);this.sortGameObjects(this._temp,n);this.sortDropZones(this._tempZones);if(this.topOnly){if(this._temp.length){this._temp.splice(1)}if(this._tempZones.length){this._tempZones.splice(1)}}switch(t){case a.MOUSE_DOWN:s+=this.processDragDownEvent(n);s+=this.processDownEvents(n);s+=this.processOverOutEvents(n);break;case a.MOUSE_UP:s+=this.processDragUpEvent(n);s+=this.processUpEvents(n);s+=this.processOverOutEvents(n);break;case a.TOUCH_START:s+=this.processDragDownEvent(n);s+=this.processDownEvents(n);s+=this.processOverEvents(n);break;case a.TOUCH_END:case a.TOUCH_CANCEL:s+=this.processDragUpEvent(n);s+=this.processUpEvents(n);s+=this.processOutEvents(n);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:s+=this.processDragMoveEvent(n);s+=this.processMoveEvents(n);s+=this.processOverOutEvents(n);break;case a.MOUSE_WHEEL:s+=this.processWheelEvent(n);break}if(s>0){i=true}}this._updatedThisFrame=true;return i},clear:function(t,e){if(e===void 0){e=false}this.disable(t);var i=t.input;if(i){this.removeDebug(t);this.manager.resetCursor(i);i.gameObject=void 0;i.target=void 0;i.hitArea=void 0;i.hitAreaCallback=void 0;i.callbackContext=void 0;t.input=null}if(!e){this.queueForRemoval(t)}var r=this._draggable.indexOf(t);if(r>-1){this._draggable.splice(r,1)}return t},disable:function(t,e){if(e===void 0){e=false}var i=t.input;if(i){i.enabled=false;i.dragState=0}var r=this._drag;var s=this._over;var n=this.manager;for(var a=0,o;a<n.pointers.length;a++){o=r[a].indexOf(t);if(o>-1){r[a].splice(o,1)}o=s[a].indexOf(t);if(o>-1){s[a].splice(o,1)}}if(e){this.resetCursor()}return this},enable:function(t,e,i,r){if(r===void 0){r=false}if(t.input){t.input.enabled=true}else{this.setHitArea(t,e,i)}if(t.input&&r&&!t.input.dropZone){t.input.dropZone=r}return this},hitTestPointer:function(t){var e=this.cameras.getCamerasBelowPointer(t);for(var i=0;i<e.length;i++){var r=e[i];var s=this.manager.hitTest(t,this._list,r);for(var n=0;n<s.length;n++){var a=s[n];if(a.input.dropZone){this._tempZones.push(a)}}if(s.length>0){t.camera=r;return s}}t.camera=e[0];return[]},processDownEvents:function(t){var e=0;var i=this._temp;var r=this._eventData;var s=this._eventContainer;r.cancelled=false;for(var n=0;n<i.length;n++){var a=i[n];if(!a.input||!a.input.enabled){continue}e++;a.emit(f.GAMEOBJECT_POINTER_DOWN,t,a.input.localX,a.input.localY,s);if(r.cancelled||!this.isActive()){break}if(a.input&&a.input.enabled){this.emit(f.GAMEOBJECT_DOWN,t,a,s);if(r.cancelled||!this.isActive()){break}}}if(!r.cancelled&&this.isActive()){if(t.downElement===this.manager.game.canvas){this.emit(f.POINTER_DOWN,t,i)}else{this.emit(f.POINTER_DOWN_OUTSIDE,t)}}return e},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragThresholdEvent:function(t,e){var i=false;var r=this.dragTimeThreshold;var s=this.dragDistanceThreshold;if(s>0&&h(t.x,t.y,t.downX,t.downY)>=s){i=true}else if(r>0&&e>=t.downTime+r){i=true}if(i){this.setDragState(t,3);return this.processDragStartList(t)}},processDragStartList:function(t){if(this.getDragState(t)!==3){return 0}var e=this._drag[t.id];if(e.length>1){e=e.slice(0)}for(var i=0;i<e.length;i++){var r=e[i];var s=r.input;s.dragState=2;s.dragStartX=r.x;s.dragStartY=r.y;s.dragStartXGlobal=t.worldX;s.dragStartYGlobal=t.worldY;s.dragStartCamera=t.camera;s.dragX=s.dragStartXGlobal-s.dragStartX;s.dragY=s.dragStartYGlobal-s.dragStartY;r.emit(f.GAMEOBJECT_DRAG_START,t,s.dragX,s.dragY);this.emit(f.DRAG_START,t,r)}this.setDragState(t,4);return e.length},processDragDownEvent:function(t){var e=this._temp;if(this._draggable.length===0||e.length===0||!t.primaryDown||this.getDragState(t)!==0){return 0}this.setDragState(t,1);var i=[];for(var r=0;r<e.length;r++){var s=e[r];if(s.input.draggable&&s.input.dragState===0){i.push(s)}}if(i.length===0){this.setDragState(t,0);return 0}else if(i.length>1){this.sortGameObjects(i,t);if(this.topOnly){i.splice(1)}}this._drag[t.id]=i;if(this.dragDistanceThreshold===0&&this.dragTimeThreshold===0){this.setDragState(t,3);return this.processDragStartList(t)}else{this.setDragState(t,2);return 0}},processDragMoveEvent:function(t){if(this.getDragState(t)===2){this.processDragThresholdEvent(t,this.manager.game.loop.now)}if(this.getDragState(t)!==4){return 0}var e=this._tempZones;var i=this._drag[t.id];if(i.length>1){i=i.slice(0)}for(var r=0;r<i.length;r++){var s=i[r];var n=s.input;var a=n.target;if(a){var o=e.indexOf(a);if(o===0){s.emit(f.GAMEOBJECT_DRAG_OVER,t,a);this.emit(f.DRAG_OVER,t,s,a)}else if(o>0){s.emit(f.GAMEOBJECT_DRAG_LEAVE,t,a);this.emit(f.DRAG_LEAVE,t,s,a);n.target=e[0];a=n.target;s.emit(f.GAMEOBJECT_DRAG_ENTER,t,a);this.emit(f.DRAG_ENTER,t,s,a)}else{s.emit(f.GAMEOBJECT_DRAG_LEAVE,t,a);this.emit(f.DRAG_LEAVE,t,s,a);if(e[0]){n.target=e[0];a=n.target;s.emit(f.GAMEOBJECT_DRAG_ENTER,t,a);this.emit(f.DRAG_ENTER,t,s,a)}else{n.target=null}}}else if(!a&&e[0]){n.target=e[0];a=n.target;s.emit(f.GAMEOBJECT_DRAG_ENTER,t,a);this.emit(f.DRAG_ENTER,t,s,a)}var l;var h;var u=t.positionToCamera(n.dragStartCamera);if(!s.parentContainer){l=u.x-n.dragX;h=u.y-n.dragY}else{var c=u.x-n.dragStartXGlobal;var d=u.y-n.dragStartYGlobal;var v=s.getParentRotation();var p=c*Math.cos(v)+d*Math.sin(v);var g=d*Math.cos(v)-c*Math.sin(v);p*=1/s.parentContainer.scaleX;g*=1/s.parentContainer.scaleY;l=p+n.dragStartX;h=g+n.dragStartY}s.emit(f.GAMEOBJECT_DRAG,t,l,h);this.emit(f.DRAG,t,s,l,h)}return i.length},processDragUpEvent:function(t){var e=this._drag[t.id];if(e.length>1){e=e.slice(0)}for(var i=0;i<e.length;i++){var r=e[i];var s=r.input;if(s&&s.dragState===2){s.dragState=0;s.dragX=s.localX-r.displayOriginX;s.dragY=s.localY-r.displayOriginY;s.dragStartCamera=null;var n=false;var a=s.target;if(a){r.emit(f.GAMEOBJECT_DROP,t,a);this.emit(f.DROP,t,r,a);s.target=null;n=true}if(r.input&&r.input.enabled){r.emit(f.GAMEOBJECT_DRAG_END,t,s.dragX,s.dragY,n);this.emit(f.DRAG_END,t,r,n)}}}this.setDragState(t,0);e.splice(0);return 0},processMoveEvents:function(t){var e=0;var i=this._temp;var r=this._eventData;var s=this._eventContainer;r.cancelled=false;for(var n=0;n<i.length;n++){var a=i[n];if(!a.input||!a.input.enabled){continue}e++;a.emit(f.GAMEOBJECT_POINTER_MOVE,t,a.input.localX,a.input.localY,s);if(r.cancelled||!this.isActive()){break}if(a.input&&a.input.enabled){this.emit(f.GAMEOBJECT_MOVE,t,a,s);if(r.cancelled||!this.isActive()){break}if(this.topOnly){break}}}if(!r.cancelled&&this.isActive()){this.emit(f.POINTER_MOVE,t,i)}return e},processWheelEvent:function(t){var e=0;var i=this._temp;var r=this._eventData;var s=this._eventContainer;r.cancelled=false;var n=t.deltaX;var a=t.deltaY;var o=t.deltaZ;for(var l=0;l<i.length;l++){var h=i[l];if(!h.input||!h.input.enabled){continue}e++;h.emit(f.GAMEOBJECT_POINTER_WHEEL,t,n,a,o,s);if(r.cancelled||!this.isActive()){break}if(h.input&&h.input.enabled){this.emit(f.GAMEOBJECT_WHEEL,t,h,n,a,o,s);if(r.cancelled||!this.isActive()){break}}}if(!r.cancelled&&this.isActive()){this.emit(f.POINTER_WHEEL,t,i,n,a,o)}return e},processOverEvents:function(t){var e=this._temp;var i=0;var r=e.length;var s=[];if(r>0){var n=this.manager;var a=this._eventData;var o=this._eventContainer;a.cancelled=false;for(var l=0;l<r;l++){var h=e[l];if(!h.input||!h.input.enabled){continue}s.push(h);n.setCursor(h.input);h.emit(f.GAMEOBJECT_POINTER_OVER,t,h.input.localX,h.input.localY,o);i++;if(a.cancelled||!this.isActive()){break}if(h.input&&h.input.enabled){this.emit(f.GAMEOBJECT_OVER,t,h,o);if(a.cancelled||!this.isActive()){break}}}if(!a.cancelled&&this.isActive()){this.emit(f.POINTER_OVER,t,s)}}this._over[t.id]=s;return i},processOutEvents:function(t){var e=this._over[t.id];var i=0;var r=e.length;if(r>0){var s=this.manager;var n=this._eventData;var a=this._eventContainer;n.cancelled=false;this.sortGameObjects(e,t);for(var o=0;o<r;o++){var l=e[o];l=e[o];if(!l.input||!l.input.enabled){continue}s.resetCursor(l.input);l.emit(f.GAMEOBJECT_POINTER_OUT,t,a);i++;if(n.cancelled||!this.isActive()){break}if(l.input&&l.input.enabled){this.emit(f.GAMEOBJECT_OUT,t,l,a);if(n.cancelled||!this.isActive()){break}}}if(!n.cancelled&&this.isActive()){this.emit(f.POINTER_OUT,t,e)}this._over[t.id]=[]}return i},processOverOutEvents:function(t){var e=this._temp;var i;var r;var s=[];var n=[];var a=[];var o=this._over[t.id];var l=this._drag[t.id];var h=this.manager;for(i=0;i<o.length;i++){r=o[i];if(e.indexOf(r)===-1&&l.indexOf(r)===-1){s.push(r)}else{a.push(r)}}for(i=0;i<e.length;i++){r=e[i];if(o.indexOf(r)===-1){n.push(r)}}var u=s.length;var c=0;var d=this._eventData;var v=this._eventContainer;d.cancelled=false;if(u>0){this.sortGameObjects(s,t);for(i=0;i<u;i++){r=s[i];if(!r.input||!r.input.enabled){continue}h.resetCursor(r.input);r.emit(f.GAMEOBJECT_POINTER_OUT,t,v);c++;if(d.cancelled||!this.isActive()){break}if(r.input&&r.input.enabled){this.emit(f.GAMEOBJECT_OUT,t,r,v);if(d.cancelled||!this.isActive()){break}}}if(!d.cancelled||this.isActive()){this.emit(f.POINTER_OUT,t,s)}}u=n.length;d.cancelled=false;if(u>0){this.sortGameObjects(n,t);for(i=0;i<u;i++){r=n[i];if(!r.input||!r.input.enabled){continue}h.setCursor(r.input);r.emit(f.GAMEOBJECT_POINTER_OVER,t,r.input.localX,r.input.localY,v);c++;if(d.cancelled||!this.isActive()){break}if(r.input&&r.input.enabled){this.emit(f.GAMEOBJECT_OVER,t,r,v);if(d.cancelled||!this.isActive()){break}}}if(!d.cancelled&&this.isActive()){this.emit(f.POINTER_OVER,t,n)}}o=a.concat(n);this._over[t.id]=this.sortGameObjects(o,t);return c},processUpEvents:function(t){var e=this._temp;var i=this._eventData;var r=this._eventContainer;i.cancelled=false;for(var s=0;s<e.length;s++){var n=e[s];if(!n.input||!n.input.enabled){continue}n.emit(f.GAMEOBJECT_POINTER_UP,t,n.input.localX,n.input.localY,r);if(i.cancelled||!this.isActive()){break}if(n.input&&n.input.enabled){this.emit(f.GAMEOBJECT_UP,t,n,r);if(i.cancelled||!this.isActive()){break}}}if(!i.cancelled&&this.isActive()){if(t.upElement===this.manager.game.canvas){this.emit(f.POINTER_UP,t,e)}else{this.emit(f.POINTER_UP_OUTSIDE,t)}}return e.length},forceDownState:function(t,e){this.forceState(t,e,f.GAMEOBJECT_POINTER_DOWN,f.GAMEOBJECT_DOWN,false)},forceUpState:function(t,e){this.forceState(t,e,f.GAMEOBJECT_POINTER_UP,f.GAMEOBJECT_UP,false)},forceOverState:function(t,e){this.forceState(t,e,f.GAMEOBJECT_POINTER_OVER,f.GAMEOBJECT_OVER,true)},forceOutState:function(t,e){this.forceState(t,e,f.GAMEOBJECT_POINTER_OUT,f.GAMEOBJECT_OUT,false)},forceState:function(t,e,i,r,s){var n=this._eventData;var a=this._eventContainer;n.cancelled=false;if(e.input&&e.input.enabled){e.emit(i,t,e.input.localX,e.input.localY,a);if(s){this.setCursor(e.input)}if(!n.cancelled&&this.isActive()&&e.input&&e.input.enabled){this.emit(r,t,e,a)}}},queueForInsertion:function(t){if(this._pendingInsertion.indexOf(t)===-1&&this._list.indexOf(t)===-1){this._pendingInsertion.push(t)}return this},queueForRemoval:function(t){this._pendingRemoval.push(t);return this},setDraggable:function(t,e){if(e===void 0){e=true}if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];r.input.draggable=e;var s=this._draggable.indexOf(r);if(e&&s===-1){this._draggable.push(r)}else if(!e&&s>-1){this._draggable.splice(s,1)}}return this},makePixelPerfect:function(t){if(t===void 0){t=1}var e=this.systems.textures;return l(e,t)},setHitArea:function(t,e,i){if(e===void 0){return this.setHitAreaFromTexture(t)}if(!Array.isArray(t)){t=[t]}var r=false;var s=false;var n=false;var a=false;var l=false;var h=true;if(m(e)&&Object.keys(e).length){var u=e;var c=t.some((function(t){return t.hasOwnProperty("faces")}));if(!c){e=v(u,"hitArea",null);i=v(u,"hitAreaCallback",null);l=v(u,"pixelPerfect",false);var f=v(u,"alphaTolerance",1);if(l){e={};i=this.makePixelPerfect(f)}}r=v(u,"draggable",false);s=v(u,"dropZone",false);n=v(u,"cursor",false);a=v(u,"useHandCursor",false);if(!e||!i){this.setHitAreaFromTexture(t);h=false}}else if(typeof e==="function"&&!i){i=e;e={}}for(var d=0;d<t.length;d++){var p=t[d];if(l&&p.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var g=!p.input?o(p,e,i):p.input;g.customHitArea=h;g.dropZone=s;g.cursor=a?"pointer":n;p.input=g;if(r){this.setDraggable(p)}this.queueForInsertion(p)}return this},setHitAreaCircle:function(t,e,i,n,a){if(a===void 0){a=s}var o=new r(e,i,n);return this.setHitArea(t,o,a)},setHitAreaEllipse:function(t,e,i,r,s,n){if(n===void 0){n=c}var a=new u(e,i,r,s);return this.setHitArea(t,a,n)},setHitAreaFromTexture:function(t,e){if(e===void 0){e=b}if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];var s=r.frame;var n=0;var a=0;if(r.width){n=r.width;a=r.height}else if(s){n=s.realWidth;a=s.realHeight}if(r.type==="Container"&&(n===0||a===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}if(n!==0&&a!==0){r.input=o(r,new x(0,0,n,a),e);this.queueForInsertion(r)}}return this},setHitAreaRectangle:function(t,e,i,r,s,n){if(n===void 0){n=b}var a=new x(e,i,r,s);return this.setHitArea(t,a,n)},setHitAreaTriangle:function(t,e,i,r,s,n,a,o){if(o===void 0){o=E}var l=new w(e,i,r,s,n,a);return this.setHitArea(t,l,o)},enableDebug:function(t,e){if(e===void 0){e=65280}var i=t.input;if(!i||!i.hitArea){return this}var r=i.hitArea;var s=r.type;var n=i.hitAreaDebug;var a=this.systems.add;var o=this.systems.updateList;if(n){o.remove(n);n.destroy();n=null}var l=0;var h=0;switch(s){case p.CIRCLE:n=a.arc(0,0,r.radius);l=r.x-r.radius;h=r.y-r.radius;break;case p.ELLIPSE:n=a.ellipse(0,0,r.width,r.height);l=r.x-r.width/2;h=r.y-r.height/2;break;case p.LINE:n=a.line(0,0,r.x1,r.y1,r.x2,r.y2);break;case p.POLYGON:n=a.polygon(0,0,r.points);break;case p.RECTANGLE:n=a.rectangle(0,0,r.width,r.height);l=r.x;h=r.y;break;case p.TRIANGLE:n=a.triangle(0,0,r.x1,r.y1,r.x2,r.y2,r.x3,r.y3);break}if(n){n.isFilled=false;n.strokeColor=e;n.preUpdate=function(){n.setVisible(t.visible);n.setStrokeStyle(1/t.scale,n.strokeColor);n.setDisplayOrigin(t.displayOriginX,t.displayOriginY);var e=t.x;var i=t.y;var r=t.rotation;var s=t.scaleX;var a=t.scaleY;if(t.parentContainer){var o=t.getWorldTransformMatrix();e=o.tx;i=o.ty;r=o.rotation;s=o.scaleX;a=o.scaleY}n.setRotation(r);n.setScale(s,a);n.setPosition(e+l*s,i+h*a);n.setScrollFactor(t.scrollFactorX,t.scrollFactorY);n.setDepth(t.depth)};o.add(n);i.hitAreaDebug=n}return this},removeDebug:function(t){var e=t.input;if(e&&e.hitAreaDebug){var i=e.hitAreaDebug;i.destroy();e.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(t){this.pollRate=t;this._pollTimer=0;return this},setGlobalTopOnly:function(t){this.manager.globalTopOnly=t;return this},setTopOnly:function(t){this.topOnly=t;return this},sortGameObjects:function(t,e){if(t.length<2||!e.camera){return t}var i=e.camera.renderList;return t.sort((function(t,e){var r=Math.max(i.indexOf(t),0);var s=Math.max(i.indexOf(e),0);return s-r}))},sortDropZones:function(t){if(t.length<2){return t}this.scene.sys.depthSort();return t.sort(this.sortDropZoneHandler.bind(this))},sortDropZoneHandler:function(t,e){if(!t.parentContainer&&!e.parentContainer){return this.displayList.getIndex(e)-this.displayList.getIndex(t)}else if(t.parentContainer===e.parentContainer){return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t)}else if(t.parentContainer===e){return-1}else if(e.parentContainer===t){return 1}else{var i=t.getIndexList();var r=e.getIndexList();var s=Math.min(i.length,r.length);for(var n=0;n<s;n++){var a=i[n];var o=r[n];if(a===o){continue}else{return o-a}}return r.length-i.length}},stopPropagation:function(){this.manager._tempSkip=true;return this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){this.manager.setDefaultCursor(t);return this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){if(!this.settings.transitionAllowInput){this.enabled=true}},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(f.SHUTDOWN);this._temp.length=0;this._list.length=0;this._draggable.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;this._dragState.length=0;for(var t=0;t<10;t++){this._drag[t]=[];this._over[t]=[]}this.removeAllListeners();var e=this.manager;e.canvas.style.cursor=e.defaultCursor;var i=this.systems.events;i.off(T.TRANSITION_START,this.transitionIn,this);i.off(T.TRANSITION_OUT,this.transitionOut,this);i.off(T.TRANSITION_COMPLETE,this.transitionComplete,this);i.off(T.PRE_UPDATE,this.preUpdate,this);e.events.off(f.GAME_OUT,this.onGameOut,this);e.events.off(f.GAME_OVER,this.onGameOver,this);i.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){var t=this.manager.pointers;for(var e=0;e<t.length;e++){t[e].reset()}},destroy:function(){this.shutdown();this.pluginEvents.emit(f.DESTROY);this.pluginEvents.removeAllListeners();this.scene.sys.events.off(T.START,this.start,this);this.scene=null;this.cameras=null;this.manager=null;this.events=null;this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",S,"input");t.exports=S},89639:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35154);var s={};var n={};n.register=function(t,e,i,r,n){s[t]={plugin:e,mapping:i,settingsKey:r,configKey:n}};n.getPlugin=function(t){return s[t]};n.install=function(t){var e=t.scene.sys;var i=e.settings.input;var n=e.game.config;for(var a in s){var o=s[a].plugin;var l=s[a].mapping;var h=s[a].settingsKey;var u=s[a].configKey;if(r(i,h,n[u])){t[l]=new o(t)}}};n.remove=function(t){if(s.hasOwnProperty(t)){delete s[t]}};t.exports=n},42515:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(31040);var s=i(83419);var n=i(20339);var a=i(43855);var o=i(47235);var l=i(26099);var h=i(25892);var u=new s({initialize:function Pointer2(t,e){this.manager=t;this.id=e;this.event;this.downElement;this.upElement;this.camera=null;this.button=0;this.buttons=0;this.position=new l;this.prevPosition=new l;this.midPoint=new l(-1,-1);this.velocity=new l;this.angle=0;this.distance=0;this.smoothFactor=0;this.motionFactor=.2;this.worldX=0;this.worldY=0;this.moveTime=0;this.downX=0;this.downY=0;this.downTime=0;this.upX=0;this.upY=0;this.upTime=0;this.primaryDown=false;this.isDown=false;this.wasTouch=false;this.wasCanceled=false;this.movementX=0;this.movementY=0;this.identifier=0;this.pointerId=null;this.active=e===0?true:false;this.locked=false;this.deltaX=0;this.deltaY=0;this.deltaZ=0},updateWorldPoint:function(t){var e=t.getWorldPoint(this.x,this.y);this.worldX=e.x;this.worldY=e.y;return this},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},updateMotion:function(){var t=this.position.x;var e=this.position.y;var i=this.midPoint.x;var s=this.midPoint.y;if(t===i&&e===s){return}var n=o(this.motionFactor,i,t);var l=o(this.motionFactor,s,e);if(a(n,t,.1)){n=t}if(a(l,e,.1)){l=e}this.midPoint.set(n,l);var h=t-n;var u=e-l;this.velocity.set(h,u);this.angle=r(n,l,t,e);this.distance=Math.sqrt(h*h+u*u)},up:function(t){if("buttons"in t){this.buttons=t.buttons}this.event=t;this.button=t.button;this.upElement=t.target;this.manager.transformPointer(this,t.pageX,t.pageY,false);if(t.button===0){this.primaryDown=false;this.upX=this.x;this.upY=this.y}if(this.buttons===0){this.isDown=false;this.upTime=t.timeStamp;this.wasTouch=false}},down:function(t){if("buttons"in t){this.buttons=t.buttons}this.event=t;this.button=t.button;this.downElement=t.target;this.manager.transformPointer(this,t.pageX,t.pageY,false);if(t.button===0){this.primaryDown=true;this.downX=this.x;this.downY=this.y}if(h.macOS&&t.ctrlKey){this.buttons=2;this.primaryDown=false}if(!this.isDown){this.isDown=true;this.downTime=t.timeStamp}this.wasTouch=false},move:function(t){if("buttons"in t){this.buttons=t.buttons}this.event=t;this.manager.transformPointer(this,t.pageX,t.pageY,true);if(this.locked){this.movementX=t.movementX||t.mozMovementX||t.webkitMovementX||0;this.movementY=t.movementY||t.mozMovementY||t.webkitMovementY||0}this.moveTime=t.timeStamp;this.wasTouch=false},wheel:function(t){if("buttons"in t){this.buttons=t.buttons}this.event=t;this.manager.transformPointer(this,t.pageX,t.pageY,false);this.deltaX=t.deltaX;this.deltaY=t.deltaY;this.deltaZ=t.deltaZ;this.wasTouch=false},touchstart:function(t,e){if(t["pointerId"]){this.pointerId=t.pointerId}this.identifier=t.identifier;this.target=t.target;this.active=true;this.buttons=1;this.event=e;this.downElement=t.target;this.manager.transformPointer(this,t.pageX,t.pageY,false);this.primaryDown=true;this.downX=this.x;this.downY=this.y;this.downTime=e.timeStamp;this.isDown=true;this.wasTouch=true;this.wasCanceled=false;this.updateMotion()},touchmove:function(t,e){this.event=e;this.manager.transformPointer(this,t.pageX,t.pageY,true);this.moveTime=e.timeStamp;this.wasTouch=true;this.updateMotion()},touchend:function(t,e){this.buttons=0;this.event=e;this.upElement=t.target;this.manager.transformPointer(this,t.pageX,t.pageY,false);this.primaryDown=false;this.upX=this.x;this.upY=this.y;this.upTime=e.timeStamp;this.isDown=false;this.wasTouch=true;this.wasCanceled=false;this.active=false;this.updateMotion()},touchcancel:function(t,e){this.buttons=0;this.event=e;this.upElement=t.target;this.manager.transformPointer(this,t.pageX,t.pageY,false);this.primaryDown=false;this.upX=this.x;this.upY=this.y;this.upTime=e.timeStamp;this.isDown=false;this.wasTouch=true;this.wasCanceled=true;this.active=false},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return this.buttons&1?true:false},rightButtonDown:function(){return this.buttons&2?true:false},middleButtonDown:function(){return this.buttons&4?true:false},backButtonDown:function(){return this.buttons&8?true:false},forwardButtonDown:function(){return this.buttons&16?true:false},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){if(this.isDown){return n(this.downX,this.downY,this.x,this.y)}else{return n(this.downX,this.downY,this.upX,this.upY)}},getDistanceX:function(){if(this.isDown){return Math.abs(this.downX-this.x)}else{return Math.abs(this.downX-this.upX)}},getDistanceY:function(){if(this.isDown){return Math.abs(this.downY-this.y)}else{return Math.abs(this.downY-this.upY)}},getDuration:function(){if(this.isDown){return this.manager.time-this.downTime}else{return this.upTime-this.downTime}},getAngle:function(){if(this.isDown){return r(this.downX,this.downY,this.x,this.y)}else{return r(this.downX,this.downY,this.upX,this.upY)}},getInterpolatedPosition:function(t,e){if(t===void 0){t=10}if(e===void 0){e=[]}var i=this.prevPosition.x;var r=this.prevPosition.y;var s=this.position.x;var n=this.position.y;for(var a=0;a<t;a++){var l=1/t*a;e[a]={x:o(l,i,s),y:o(l,r,n)}}return e},reset:function(){this.event=null;this.downElement=null;this.upElement=null;this.button=0;this.buttons=0;this.position.set(0,0);this.prevPosition.set(0,0);this.midPoint.set(-1,-1);this.velocity.set(0,0);this.angle=0;this.distance=0;this.worldX=0;this.worldY=0;this.downX=0;this.downY=0;this.upX=0;this.upY=0;this.moveTime=0;this.upTime=0;this.downTime=0;this.primaryDown=false;this.isDown=false;this.wasTouch=false;this.wasCanceled=false;this.movementX=0;this.movementY=0;this.identifier=0;this.pointerId=null;this.deltaX=0;this.deltaY=0;this.deltaZ=0;this.active=this.id===0?true:false},destroy:function(){this.camera=null;this.manager=null;this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},time:{get:function(){return this.event?this.event.timeStamp:0}}});t.exports=u},93301:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};t.exports=e},7179:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="boot"},85375:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},39843:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragend"},23388:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragenter"},16133:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="drag"},27829:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragleave"},53904:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragover"},56058:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragstart"},2642:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="drop"},88171:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectdown"},36147:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragend"},71692:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragenter"},96149:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="drag"},81285:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragleave"},74048:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragover"},21322:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragstart"},49378:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="drop"},86754:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectmove"},86433:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectout"},60709:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectover"},24081:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerdown"},11172:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointermove"},18907:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerout"},95579:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerover"},35368:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerup"},26972:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="wheel"},47078:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectup"},73802:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameobjectwheel"},56718:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameout"},25936:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="gameover"},27503:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="boot"},50852:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="process"},96438:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="update"},59152:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerlockchange"},47777:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerdown"},27957:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerdownoutside"},19444:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointermove"},54251:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerout"},18667:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerover"},27192:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerup"},24652:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pointerupoutside"},45132:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="wheel"},44512:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="preupdate"},15757:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="shutdown"},41637:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="start"},93802:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="update"},8214:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Axis2(t,e){this.pad=t;this.events=t.events;this.index=e;this.value=0;this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null;this.events=null}});t.exports=s},28884:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(92734);var n=new r({initialize:function Button2(t,e){this.pad=t;this.events=t.manager;this.index=e;this.value=0;this.threshold=1;this.pressed=false},update:function(t){this.value=t;var e=this.pad;var i=this.index;if(t>=this.threshold){if(!this.pressed){this.pressed=true;this.events.emit(s.BUTTON_DOWN,e,this,t);this.pad.emit(s.GAMEPAD_BUTTON_DOWN,i,t,this)}}else if(this.pressed){this.pressed=false;this.events.emit(s.BUTTON_UP,e,this,t);this.pad.emit(s.GAMEPAD_BUTTON_UP,i,t,this)}},destroy:function(){this.pad=null;this.events=null}});t.exports=n},99125:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(97421);var s=i(28884);var n=i(83419);var a=i(50792);var o=i(26099);var l=new n({Extends:a,initialize:function Gamepad2(t,e){a.call(this);this.manager=t;this.pad=e;this.id=e.id;this.index=e.index;var i=[];for(var n=0;n<e.buttons.length;n++){i.push(new s(this,n))}this.buttons=i;var l=[];for(n=0;n<e.axes.length;n++){l.push(new r(this,n))}this.axes=l;this.vibration=e.vibrationActuator;var h={value:0,pressed:false};this._LCLeft=i[14]?i[14]:h;this._LCRight=i[15]?i[15]:h;this._LCTop=i[12]?i[12]:h;this._LCBottom=i[13]?i[13]:h;this._RCLeft=i[2]?i[2]:h;this._RCRight=i[1]?i[1]:h;this._RCTop=i[3]?i[3]:h;this._RCBottom=i[0]?i[0]:h;this._FBLeftTop=i[4]?i[4]:h;this._FBLeftBottom=i[6]?i[6]:h;this._FBRightTop=i[5]?i[5]:h;this._FBRightBottom=i[7]?i[7]:h;var u={value:0};this._HAxisLeft=l[0]?l[0]:u;this._VAxisLeft=l[1]?l[1]:u;this._HAxisRight=l[2]?l[2]:u;this._VAxisRight=l[3]?l[3]:u;this.leftStick=new o;this.rightStick=new o;this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++){this.axes[e].threshold=t}},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){if(t.timestamp<this._created){return}var e;var i=this.buttons;var r=t.buttons;var s=i.length;for(e=0;e<s;e++){i[e].update(r[e].value)}var n=this.axes;var a=t.axes;s=n.length;for(e=0;e<s;e++){n[e].update(a[e])}if(s>=2){this.leftStick.set(n[0].getValue(),n[1].getValue());if(s>=4){this.rightStick.set(n[2].getValue(),n[3].getValue())}}},destroy:function(){this.removeAllListeners();this.manager=null;this.pad=null;var t;for(t=0;t<this.buttons.length;t++){this.buttons[t].destroy()}for(t=0;t<this.axes.length;t++){this.axes[t].destroy()}this.buttons=[];this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=l},56654:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(92734);var a=i(99125);var o=i(35154);var l=i(89639);var h=i(8214);var u=new r({Extends:s,initialize:function GamepadPlugin2(t){s.call(this);this.scene=t.scene;this.settings=this.scene.sys.settings;this.sceneInputPlugin=t;this.enabled=true;this.target;this.gamepads=[];this.queue=[];this.onGamepadHandler;this._pad1;this._pad2;this._pad3;this._pad4;t.pluginEvents.once(h.BOOT,this.boot,this);t.pluginEvents.on(h.START,this.start,this)},boot:function(){var t=this.scene.sys.game;var e=this.settings.input;var i=t.config;this.enabled=o(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads;this.target=o(e,"gamepad.target",i.inputGamepadEventTarget);this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){if(this.enabled){this.startListeners();this.refreshPads()}this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this;var e=this.target;var handler=function(e){if(e.defaultPrevented||!t.isActive()){return}t.refreshPads();t.queue.push(e)};this.onGamepadHandler=handler;e.addEventListener("gamepadconnected",handler,false);e.addEventListener("gamepaddisconnected",handler,false);this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler);this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler);this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var t=0;t<this.gamepads.length;t++){this.gamepads[t].removeAllListeners()}},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++){this.gamepads[t].pad.connected=false}},refreshPads:function(){var t=navigator.getGamepads();if(!t){this.disconnectAll()}else{var e=this.gamepads;for(var i=0;i<t.length;i++){var r=t[i];if(!r){continue}var s=r.id;var n=r.index;var o=e[n];if(!o){var l=new a(this,r);e[n]=l;if(!this._pad1){this._pad1=l}else if(!this._pad2){this._pad2=l}else if(!this._pad3){this._pad3=l}else if(!this._pad4){this._pad4=l}}else if(o.id!==s){o.destroy();e[n]=new a(this,r)}else{o.update(r)}}}},getAll:function(){var t=[];var e=this.gamepads;for(var i=0;i<e.length;i++){if(e[i]){t.push(e[i])}}return t},getPad:function(t){var e=this.gamepads;for(var i=0;i<e.length;i++){if(e[i]&&e[i].index===t){return e[i]}}},update:function(){if(!this.enabled){return}this.refreshPads();var t=this.queue.length;if(t===0){return}var e=this.queue.splice(0,t);for(var i=0;i<t;i++){var r=e[i];var s=this.getPad(r.gamepad.index);if(r.type==="gamepadconnected"){this.emit(n.CONNECTED,s,r)}else if(r.type==="gamepaddisconnected"){this.emit(n.DISCONNECTED,s,r)}}},shutdown:function(){this.stopListeners();this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++){if(this.gamepads[t]){this.gamepads[t].destroy()}}this.gamepads=[];this.scene=null;this.settings=null;this.sceneInputPlugin=null;this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad");t.exports=u},89651:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="down"},7629:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="up"},42206:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="connected"},86544:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="disconnected"},94784:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="down"},14325:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="up"},92734:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(93301);var s=i(79291);var n={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};n=s(false,n,r);t.exports=n},78970:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(72905);var s=i(83419);var n=i(8443);var a=i(8214);var o=i(46032);var l=i(29747);var h=new s({initialize:function KeyboardManager2(t){this.manager=t;this.queue=[];this.preventDefault=true;this.captures=[];this.enabled=false;this.target;this.onKeyDown=l;this.onKeyUp=l;t.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard;this.target=t.inputKeyboardEventTarget;this.addCapture(t.inputKeyboardCapture);if(!this.target&&window){this.target=window}if(this.enabled&&this.target){this.startListeners()}this.manager.game.events.on(n.POST_STEP,this.postUpdate,this)},startListeners:function(){var t=this;this.onKeyDown=function(e){if(e.defaultPrevented||!t.enabled||!t.manager){return}t.queue.push(e);t.manager.events.emit(a.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;if(t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1){e.preventDefault()}};this.onKeyUp=function(e){if(e.defaultPrevented||!t.enabled||!t.manager){return}t.queue.push(e);t.manager.events.emit(a.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;if(t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1){e.preventDefault()}};var e=this.target;if(e){e.addEventListener("keydown",this.onKeyDown,false);e.addEventListener("keyup",this.onKeyUp,false);this.enabled=true}},stopListeners:function(){var t=this.target;t.removeEventListener("keydown",this.onKeyDown,false);t.removeEventListener("keyup",this.onKeyUp,false);this.enabled=false},postUpdate:function(){this.queue=[]},addCapture:function(t){if(typeof t==="string"){t=t.split(",")}if(!Array.isArray(t)){t=[t]}var e=this.captures;for(var i=0;i<t.length;i++){var r=t[i];if(typeof r==="string"){r=o[r.trim().toUpperCase()]}if(e.indexOf(r)===-1){e.push(r)}}this.preventDefault=e.length>0},removeCapture:function(t){if(typeof t==="string"){t=t.split(",")}if(!Array.isArray(t)){t=[t]}var e=this.captures;for(var i=0;i<t.length;i++){var s=t[i];if(typeof s==="string"){s=o[s.toUpperCase()]}r(e,s)}this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[];this.preventDefault=false},destroy:function(){this.stopListeners();this.clearCaptures();this.queue=[];this.manager.game.events.off(n.POST_RENDER,this.postUpdate,this);this.target=null;this.enabled=false;this.manager=null}});t.exports=h},28846:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(95922);var a=i(8443);var o=i(35154);var l=i(8214);var h=i(89639);var u=i(30472);var c=i(46032);var f=i(87960);var d=i(74600);var v=i(44594);var p=i(56583);var g=new r({Extends:s,initialize:function KeyboardPlugin2(t){s.call(this);this.game=t.systems.game;this.scene=t.scene;this.settings=this.scene.sys.settings;this.sceneInputPlugin=t;this.manager=t.manager.keyboard;this.enabled=true;this.keys=[];this.combos=[];this.prevCode=null;this.prevTime=0;this.prevType=null;t.pluginEvents.once(l.BOOT,this.boot,this);t.pluginEvents.on(l.START,this.start,this)},boot:function(){var t=this.settings.input;this.enabled=o(t,"keyboard",true);var e=o(t,"keyboard.capture",null);if(e){this.addCaptures(e)}this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this);this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this);this.game.events.on(a.BLUR,this.resetKeys,this);this.scene.sys.events.on(v.PAUSE,this.resetKeys,this);this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(t){this.manager.addCapture(t);return this},removeCapture:function(t){this.manager.removeCapture(t);return this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){this.manager.preventDefault=true;return this},disableGlobalCapture:function(){this.manager.preventDefault=false;return this},clearCaptures:function(){this.manager.clearCaptures();return this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=false}var r={};if(typeof t==="string"){t=t.split(",");for(var s=0;s<t.length;s++){var n=t[s].trim();if(n){r[n]=this.addKey(n,e,i)}}}else{for(var a in t){r[a]=this.addKey(t[a],e,i)}}return r},addKey:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=false}var r=this.keys;if(t instanceof u){var s=r.indexOf(t);if(s>-1){r[s]=t}else{r[t.keyCode]=t}if(e){this.addCapture(t.keyCode)}t.setEmitOnRepeat(i);return t}if(typeof t==="string"){t=c[t.toUpperCase()]}if(!r[t]){r[t]=new u(this,t);if(e){this.addCapture(t)}r[t].setEmitOnRepeat(i)}return r[t]},removeKey:function(t,e,i){if(e===void 0){e=false}if(i===void 0){i=false}var r=this.keys;var s;if(t instanceof u){var n=r.indexOf(t);if(n>-1){s=this.keys[n];this.keys[n]=void 0}}else if(typeof t==="string"){t=c[t.toUpperCase()]}if(r[t]){s=r[t];r[t]=void 0}if(s){s.plugin=null;if(i){this.removeCapture(s.keyCode)}if(e){s.destroy()}}return this},removeAllKeys:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}var i=this.keys;for(var r=0;r<i.length;r++){var s=i[r];if(s){i[r]=void 0;if(e){this.removeCapture(s.keyCode)}if(t){s.destroy()}}}return this},createCombo:function(t,e){return new f(this,t,e)},checkDown:function(t,e){if(e===void 0){e=0}if(this.enabled&&t.isDown){var i=p(this.time-t.timeDown,e);if(i>t._tick){t._tick=i;return true}}return false},update:function(){var t=this.manager.queue;var e=t.length;if(!this.isActive()||e===0){return}var i=this.keys;for(var r=0;r<e;r++){var s=t[r];var a=s.keyCode;var o=i[a];var l=false;if(s.cancelled===void 0){s.cancelled=0;s.stopImmediatePropagation=function(){s.cancelled=1};s.stopPropagation=function(){s.cancelled=-1}}if(s.cancelled===-1){continue}if(a===this.prevCode&&s.timeStamp===this.prevTime&&s.type===this.prevType){continue}this.prevCode=a;this.prevTime=s.timeStamp;this.prevType=s.type;if(s.type==="keydown"){if(o){l=o.isDown;o.onDown(s)}if(!s.cancelled&&(!o||!l)){if(d[a]){this.emit(n.KEY_DOWN+d[a],s)}if(!s.cancelled){this.emit(n.ANY_KEY_DOWN,s)}}}else{if(o){o.onUp(s)}if(!s.cancelled){if(d[a]){this.emit(n.KEY_UP+d[a],s)}if(!s.cancelled){this.emit(n.ANY_KEY_UP,s)}}}if(s.cancelled===1){s.cancelled=0}}},resetKeys:function(){var t=this.keys;for(var e=0;e<t.length;e++){if(t[e]){t[e].reset()}}return this},shutdown:function(){this.removeAllKeys(true);this.removeAllListeners();this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this);this.game.events.off(a.BLUR,this.resetKeys);this.scene.sys.events.off(v.PAUSE,this.resetKeys,this);this.scene.sys.events.off(v.SLEEP,this.resetKeys,this);this.queue=[]},destroy:function(){this.shutdown();var t=this.keys;for(var e=0;e<t.length;e++){if(t[e]){t[e].destroy()}}this.keys=[];this.combos=[];this.queue=[];this.scene=null;this.settings=null;this.sceneInputPlugin=null;this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard");t.exports=g},66970:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AdvanceKeyCombo=function(t,e){e.timeLastMatched=t.timeStamp;e.index++;if(e.index===e.size){return true}else{e.current=e.keyCodes[e.index];return false}};t.exports=AdvanceKeyCombo},87960:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95922);var n=i(95540);var a=i(68769);var o=i(92803);var l=new r({initialize:function KeyCombo2(t,e,i){if(i===void 0){i={}}if(e.length<2){return false}this.manager=t;this.enabled=true;this.keyCodes=[];for(var r=0;r<e.length;r++){var l=e[r];if(typeof l==="string"){this.keyCodes.push(l.toUpperCase().charCodeAt(0))}else if(typeof l==="number"){this.keyCodes.push(l)}else if(l.hasOwnProperty("keyCode")){this.keyCodes.push(l.keyCode)}}this.current=this.keyCodes[0];this.index=0;this.size=this.keyCodes.length;this.timeLastMatched=0;this.matched=false;this.timeMatched=0;this.resetOnWrongKey=n(i,"resetOnWrongKey",true);this.maxKeyDelay=n(i,"maxKeyDelay",0);this.resetOnMatch=n(i,"resetOnMatch",false);this.deleteOnMatch=n(i,"deleteOnMatch",false);var h=this;var onKeyDownHandler=function(t){if(h.matched||!h.enabled){return}var e=a(t,h);if(e){h.manager.emit(s.COMBO_MATCH,h,t);if(h.resetOnMatch){o(h)}else if(h.deleteOnMatch){h.destroy()}}};this.onKeyDown=onKeyDownHandler;this.manager.on(s.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=false;this.keyCodes=[];this.manager.off(s.ANY_KEY_DOWN,this.onKeyDown);this.manager=null}});t.exports=l},68769:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66970);var ProcessKeyCombo=function(t,e){if(e.matched){return true}var i=false;var s=false;if(t.keyCode===e.current){if(e.index>0&&e.maxKeyDelay>0){var n=e.timeLastMatched+e.maxKeyDelay;if(t.timeStamp<=n){s=true;i=r(t,e)}}else{s=true;i=r(t,e)}}if(!s&&e.resetOnWrongKey){e.index=0;e.current=e.keyCodes[0]}if(i){e.timeLastMatched=t.timeStamp;e.matched=true;e.timeMatched=t.timeStamp}return i};t.exports=ProcessKeyCombo},92803:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ResetKeyCombo=function(t){t.current=t.keyCodes[0];t.index=0;t.timeLastMatched=0;t.matched=false;t.timeMatched=0;return t};t.exports=ResetKeyCombo},92612:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="keydown"},23345:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="keyup"},21957:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="keycombomatch"},44743:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="down"},3771:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="keydown-"},46358:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="keyup-"},75674:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="up"},95922:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DownDuration=function(t,e){if(e===void 0){e=50}var i=t.plugin.game.loop.time-t.timeDown;return t.isDown&&i<e};t.exports=DownDuration},90229:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var JustDown=function(t){if(t._justDown){t._justDown=false;return true}else{return false}};t.exports=JustDown},38796:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var JustUp=function(t){if(t._justUp){t._justUp=false;return true}else{return false}};t.exports=JustUp},30472:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(95922);var a=new r({Extends:s,initialize:function Key2(t,e){s.call(this);this.plugin=t;this.keyCode=e;this.originalEvent=void 0;this.enabled=true;this.isDown=false;this.isUp=true;this.altKey=false;this.ctrlKey=false;this.shiftKey=false;this.metaKey=false;this.location=0;this.timeDown=0;this.duration=0;this.timeUp=0;this.emitOnRepeat=false;this.repeats=0;this._justDown=false;this._justUp=false;this._tick=-1},setEmitOnRepeat:function(t){this.emitOnRepeat=t;return this},onDown:function(t){this.originalEvent=t;if(!this.enabled){return}this.altKey=t.altKey;this.ctrlKey=t.ctrlKey;this.shiftKey=t.shiftKey;this.metaKey=t.metaKey;this.location=t.location;this.repeats++;if(!this.isDown){this.isDown=true;this.isUp=false;this.timeDown=t.timeStamp;this.duration=0;this._justDown=true;this._justUp=false;this.emit(n.DOWN,this,t)}else if(this.emitOnRepeat){this.emit(n.DOWN,this,t)}},onUp:function(t){this.originalEvent=t;if(!this.enabled){return}this.isDown=false;this.isUp=true;this.timeUp=t.timeStamp;this.duration=this.timeUp-this.timeDown;this.repeats=0;this._justDown=false;this._justUp=true;this._tick=-1;this.emit(n.UP,this,t)},reset:function(){this.isDown=false;this.isUp=true;this.altKey=false;this.ctrlKey=false;this.shiftKey=false;this.metaKey=false;this.timeDown=0;this.duration=0;this.timeUp=0;this.repeats=0;this._justDown=false;this._justUp=false;this._tick=-1;return this},getDuration:function(){if(this.isDown){return this.plugin.game.loop.time-this.timeDown}else{return 0}},destroy:function(){this.removeAllListeners();this.originalEvent=null;this.plugin=null}});t.exports=a},46032:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};t.exports=e},74600:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(46032);var s={};for(var n in r){s[r[n]]=n}t.exports=s},41170:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var UpDuration=function(t,e){if(e===void 0){e=50}var i=t.plugin.game.loop.time-t.timeUp;return t.isUp&&i<e};t.exports=UpDuration},85098:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(89357);var n=i(8214);var a=i(29747);var o=new r({initialize:function MouseManager2(t){this.manager=t;this.preventDefaultDown=true;this.preventDefaultUp=true;this.preventDefaultMove=true;this.preventDefaultWheel=false;this.enabled=false;this.target;this.locked=false;this.onMouseMove=a;this.onMouseDown=a;this.onMouseUp=a;this.onMouseDownWindow=a;this.onMouseUpWindow=a;this.onMouseOver=a;this.onMouseOut=a;this.onMouseWheel=a;this.pointerLockChange=a;this.isTop=true;t.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse;this.target=t.inputMouseEventTarget;this.passive=t.inputMousePassive;this.preventDefaultDown=t.inputMousePreventDefaultDown;this.preventDefaultUp=t.inputMousePreventDefaultUp;this.preventDefaultMove=t.inputMousePreventDefaultMove;this.preventDefaultWheel=t.inputMousePreventDefaultWheel;if(!this.target){this.target=this.manager.game.canvas}else if(typeof this.target==="string"){this.target=document.getElementById(this.target)}if(t.disableContextMenu){this.disableContextMenu()}if(this.enabled&&this.target){this.startListeners()}},disableContextMenu:function(){this.target.addEventListener("contextmenu",(function(t){t.preventDefault();return false}));return this},requestPointerLock:function(){if(s.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock;t.requestPointerLock()}},releasePointerLock:function(){if(s.pointerLock){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock;document.exitPointerLock()}},startListeners:function(){var t=this.target;if(!t){return}var e=this;var i=this.manager;var r=i.canvas;var n=window&&window.focus&&i.game.config.autoFocus;this.onMouseMove=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onMouseMove(t);if(e.preventDefaultMove){t.preventDefault()}}};this.onMouseDown=function(t){if(n){window.focus()}if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onMouseDown(t);if(e.preventDefaultDown&&t.target===r){t.preventDefault()}}};this.onMouseDownWindow=function(t){if(t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents){return}if(!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r){i.onMouseDown(t)}};this.onMouseUp=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onMouseUp(t);if(e.preventDefaultUp&&t.target===r){t.preventDefault()}}};this.onMouseUpWindow=function(t){if(t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents){return}if(!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r){i.onMouseUp(t)}};this.onMouseOver=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.setCanvasOver(t)}};this.onMouseOut=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.setCanvasOut(t)}};this.onMouseWheel=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onMouseWheel(t)}if(e.preventDefaultWheel&&t.target===r){t.preventDefault()}};var a={passive:true};t.addEventListener("mousemove",this.onMouseMove);t.addEventListener("mousedown",this.onMouseDown);t.addEventListener("mouseup",this.onMouseUp);t.addEventListener("mouseover",this.onMouseOver,a);t.addEventListener("mouseout",this.onMouseOut,a);if(this.preventDefaultWheel){t.addEventListener("wheel",this.onMouseWheel,{passive:false})}else{t.addEventListener("wheel",this.onMouseWheel,a)}if(window&&i.game.config.inputWindowEvents){try{window.top.addEventListener("mousedown",this.onMouseDownWindow,a);window.top.addEventListener("mouseup",this.onMouseUpWindow,a)}catch(o){window.addEventListener("mousedown",this.onMouseDownWindow,a);window.addEventListener("mouseup",this.onMouseUpWindow,a);this.isTop=false}}if(s.pointerLock){this.pointerLockChange=function(t){var r=e.target;e.locked=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r?true:false;i.onPointerLockChange(t)};document.addEventListener("pointerlockchange",this.pointerLockChange,true);document.addEventListener("mozpointerlockchange",this.pointerLockChange,true);document.addEventListener("webkitpointerlockchange",this.pointerLockChange,true)}this.enabled=true},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove);t.removeEventListener("mousedown",this.onMouseDown);t.removeEventListener("mouseup",this.onMouseUp);t.removeEventListener("mouseover",this.onMouseOver);t.removeEventListener("mouseout",this.onMouseOut);if(window){t=this.isTop?window.top:window;t.removeEventListener("mousedown",this.onMouseDownWindow);t.removeEventListener("mouseup",this.onMouseUpWindow)}if(s.pointerLock){document.removeEventListener("pointerlockchange",this.pointerLockChange,true);document.removeEventListener("mozpointerlockchange",this.pointerLockChange,true);document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,true)}},destroy:function(){this.stopListeners();this.target=null;this.enabled=false;this.manager=null}});t.exports=o},87078:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={MouseManager:i(85098)}},36210:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(8214);var n=i(29747);var a=new r({initialize:function TouchManager2(t){this.manager=t;this.capture=true;this.enabled=false;this.target;this.onTouchStart=n;this.onTouchStartWindow=n;this.onTouchMove=n;this.onTouchEnd=n;this.onTouchEndWindow=n;this.onTouchCancel=n;this.onTouchCancelWindow=n;this.isTop=true;t.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch;this.target=t.inputTouchEventTarget;this.capture=t.inputTouchCapture;if(!this.target){this.target=this.manager.game.canvas}else if(typeof this.target==="string"){this.target=document.getElementById(this.target)}if(t.disableContextMenu){this.disableContextMenu()}if(this.enabled&&this.target){this.startListeners()}},disableContextMenu:function(){this.target.addEventListener("contextmenu",(function(t){t.preventDefault();return false}));return this},startListeners:function(){var t=this.target;if(!t){return}var e=this;var i=this.manager;var r=i.canvas;var s=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onTouchMove(t);if(e.capture&&t.cancelable){t.preventDefault()}}};this.onTouchStart=function(t){if(s){window.focus()}if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onTouchStart(t);if(e.capture&&t.cancelable&&t.target===r){t.preventDefault()}}};this.onTouchStartWindow=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r){i.onTouchStart(t)}};this.onTouchEnd=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onTouchEnd(t);if(e.capture&&t.cancelable&&t.target===r){t.preventDefault()}}};this.onTouchEndWindow=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r){i.onTouchEnd(t)}};this.onTouchCancel=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onTouchCancel(t);if(e.capture){t.preventDefault()}}};this.onTouchCancelWindow=function(t){if(!t.defaultPrevented&&e.enabled&&i&&i.enabled){i.onTouchCancel(t)}};var n=this.capture;var a={passive:true};var o={passive:false};t.addEventListener("touchstart",this.onTouchStart,n?o:a);t.addEventListener("touchmove",this.onTouchMove,n?o:a);t.addEventListener("touchend",this.onTouchEnd,n?o:a);t.addEventListener("touchcancel",this.onTouchCancel,n?o:a);if(window&&i.game.config.inputWindowEvents){try{window.top.addEventListener("touchstart",this.onTouchStartWindow,o);window.top.addEventListener("touchend",this.onTouchEndWindow,o);window.top.addEventListener("touchcancel",this.onTouchCancelWindow,o)}catch(l){window.addEventListener("touchstart",this.onTouchStartWindow,o);window.addEventListener("touchend",this.onTouchEndWindow,o);window.addEventListener("touchcancel",this.onTouchCancelWindow,o);this.isTop=false}}this.enabled=true},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart);t.removeEventListener("touchmove",this.onTouchMove);t.removeEventListener("touchend",this.onTouchEnd);t.removeEventListener("touchcancel",this.onTouchCancel);if(window){t=this.isTop?window.top:window;t.removeEventListener("touchstart",this.onTouchStartWindow);t.removeEventListener("touchend",this.onTouchEndWindow);t.removeEventListener("touchcancel",this.onTouchCancelWindow)}},destroy:function(){this.stopListeners();this.target=null;this.enabled=false;this.manager=null}});t.exports=a},95618:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={TouchManager:i(36210)}},41299:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(54899);var a=i(95540);var o=i(98356);var l=i(3374);var h=i(84376);var u=i(92638);var c=new r({initialize:function File2(t,e){this.loader=t;this.cache=a(e,"cache",false);this.type=a(e,"type",false);if(!this.type){throw new Error("Invalid File type: "+this.type)}this.key=a(e,"key",false);var i=this.key;if(t.prefix&&t.prefix!==""){this.key=t.prefix+i}if(!this.key){throw new Error("Invalid File key: "+this.key)}var r=a(e,"url");if(r===void 0){r=t.path+i+"."+a(e,"extension","")}else if(typeof r==="string"&&!r.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)){r=t.path+r}this.url=r;this.src="";this.xhrSettings=u(a(e,"responseType",void 0));if(a(e,"xhrSettings",false)){this.xhrSettings=l(this.xhrSettings,a(e,"xhrSettings",{}))}this.xhrLoader=null;this.state=typeof this.url==="function"?s.FILE_POPULATED:s.FILE_PENDING;this.bytesTotal=0;this.bytesLoaded=-1;this.percentComplete=-1;this.crossOrigin=void 0;this.data=void 0;this.config=a(e,"config",{});this.multiFile;this.linkFile;this.base64=typeof r==="string"&&r.indexOf("data:")===0;this.retryAttempts=a(e,"maxRetries",t.maxRetries)},setLink:function(t){this.linkFile=t;t.linkFile=this},resetXHR:function(){if(this.xhrLoader){this.xhrLoader.onload=void 0;this.xhrLoader.onerror=void 0;this.xhrLoader.onprogress=void 0}},load:function(){if(this.state===s.FILE_POPULATED){this.loader.nextFile(this,true)}else{this.state=s.FILE_LOADING;this.src=o(this,this.loader.baseURL);if(!this.src){throw new Error("URL Error in File: "+this.key+" from: "+this.url)}if(this.src.indexOf("data:")===0){this.base64=true}this.xhrLoader=h(this,this.loader.xhr)}},onLoad:function(t,e){var i=t.responseURL&&this.loader.localSchemes.some((function(e){return t.responseURL.indexOf(e)===0}));var r=i&&e.target.status===0;var n=!(e.target&&e.target.status!==200)||r;if(t.readyState===4&&t.status>=400&&t.status<=599){n=false}this.state=s.FILE_LOADED;this.resetXHR();this.loader.nextFile(this,n)},onBase64Load:function(t){this.xhrLoader=t;this.state=s.FILE_LOADED;this.percentComplete=1;this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete);this.loader.nextFile(this,true)},onError:function(){this.resetXHR();if(this.retryAttempts>0){this.retryAttempts--;this.load()}else{this.loader.nextFile(this,false)}},onProgress:function(t){if(t.lengthComputable){this.bytesLoaded=t.loaded;this.bytesTotal=t.total;this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1);this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete)}},onProcess:function(){this.state=s.FILE_PROCESSING;this.onProcessComplete()},onProcessComplete:function(){this.state=s.FILE_COMPLETE;if(this.multiFile){this.multiFile.onFileComplete(this)}this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key);this.state=s.FILE_ERRORED;if(this.multiFile){this.multiFile.onFileFailed(this)}this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){if(this.cache&&this.data){this.cache.add(this.key,this.data)}},pendingDestroy:function(t){if(this.state===s.FILE_PENDING_DESTROY){return}if(t===void 0){t=this.data}var e=this.key;var i=this.type;this.loader.emit(n.FILE_COMPLETE,e,i,t);this.loader.emit(n.FILE_KEY_COMPLETE+i+"-"+e,e,i,t);this.loader.flagForRemoval(this);this.state=s.FILE_PENDING_DESTROY},destroy:function(){this.loader=null;this.cache=null;this.xhrSettings=null;this.multiFile=null;this.linkFile=null;this.data=null}});c.createObjectURL=function(t,e,i){if(typeof URL==="function"){t.src=URL.createObjectURL(e)}else{var r=new FileReader;r.onload=function(){t.removeAttribute("crossOrigin");t.src="data:"+(e.type||i)+";base64,"+r.result.split(",")[1]};r.onerror=t.onerror;r.readAsDataURL(e)}};c.revokeObjectURL=function(t){if(typeof URL==="function"){URL.revokeObjectURL(t.src)}};t.exports=c},74099:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={};var i={install:function(t){for(var i in e){t[i]=e[i]}},register:function(t,i){e[t]=i},destroy:function(){e={}}};t.exports=i},98356:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetURL=function(t,e){if(!t.url){return false}if(t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)){return t.url}else{return e+t.url}};t.exports=GetURL},74261:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(35072);var a=i(50792);var o=i(54899);var l=i(74099);var h=i(95540);var u=i(35154);var c=i(41212);var f=i(37277);var d=i(44594);var v=i(92638);var p=new r({Extends:a,initialize:function LoaderPlugin2(t){a.call(this);var e=t.sys.game.config;var i=t.sys.settings.loader;this.scene=t;this.systems=t.sys;this.cacheManager=t.sys.cache;this.textureManager=t.sys.textures;this.sceneManager=t.sys.game.scene;l.install(this);this.prefix="";this.path="";this.baseURL="";this.setBaseURL(h(i,"baseURL",e.loaderBaseURL));this.setPath(h(i,"path",e.loaderPath));this.setPrefix(h(i,"prefix",e.loaderPrefix));this.maxParallelDownloads=h(i,"maxParallelDownloads",e.loaderMaxParallelDownloads);this.xhr=v(h(i,"responseType",e.loaderResponseType),h(i,"async",e.loaderAsync),h(i,"user",e.loaderUser),h(i,"password",e.loaderPassword),h(i,"timeout",e.loaderTimeout),h(i,"withCredentials",e.loaderWithCredentials));this.crossOrigin=h(i,"crossOrigin",e.loaderCrossOrigin);this.imageLoadType=h(i,"imageLoadType",e.loaderImageLoadType);this.localSchemes=h(i,"localScheme",e.loaderLocalScheme);this.totalToLoad=0;this.progress=0;this.list=new n;this.inflight=new n;this.queue=new n;this._deleteQueue=new n;this.totalFailed=0;this.totalComplete=0;this.state=s.LOADER_IDLE;this.multiKeyIndex=0;this.maxRetries=h(i,"maxRetries",e.loaderMaxRetries);t.sys.events.once(d.BOOT,this.boot,this);t.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){if(t===void 0){t=""}if(t!==""&&t.substr(-1)!=="/"){t=t.concat("/")}this.baseURL=t;return this},setPath:function(t){if(t===void 0){t=""}if(t!==""&&t.substr(-1)!=="/"){t=t.concat("/")}this.path=t;return this},setPrefix:function(t){if(t===void 0){t=""}this.prefix=t;return this},setCORS:function(t){this.crossOrigin=t;return this},addFile:function(t){if(!Array.isArray(t)){t=[t]}for(var e=0;e<t.length;e++){var i=t[e];if(!this.keyExists(i)){this.list.set(i);this.emit(o.ADD,i.key,i.type,this,i);if(this.isLoading()){this.totalToLoad++;this.updateProgress()}}}},keyExists:function(t){var e=t.hasCacheConflict();if(!e){this.list.iterate((function(i){if(i.type===t.type&&i.key===t.key){e=true;return false}}))}if(!e&&this.isLoading()){this.inflight.iterate((function(i){if(i.type===t.type&&i.key===t.key){e=true;return false}}));this.queue.iterate((function(i){if(i.type===t.type&&i.key===t.key){e=true;return false}}))}return e},addPack:function(t,e){if(typeof e==="string"){var i=u(t,e);if(i){t={packKey:i}}}var r=0;var s=this.baseURL;var n=this.path;var a=this.prefix;for(var o in t){if(!Object.prototype.hasOwnProperty.call(t,o)){continue}var l=t[o];var c=h(l,"baseURL",s);var f=h(l,"path",n);var d=h(l,"prefix",a);var v=h(l,"files",null);var p=h(l,"defaultType","void");if(Array.isArray(v)){this.setBaseURL(c);this.setPath(f);this.setPrefix(d);for(var g=0;g<v.length;g++){var m=v[g];var y=m.hasOwnProperty("type")?m.type:p;if(this[y]){this[y](m);r++}}}}this.setBaseURL(s);this.setPath(n);this.setPrefix(a);return r>0},removePack:function(t,e){var i=this.systems.anims;var r=this.cacheManager;var s=this.textureManager;var n={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};var a;if(c(t)){a=t}else{a=r.json.get(t);if(!a){console.warn("Asset Pack not found in JSON cache:",t);return}}if(e){a={_:a[e]}}for(var o in a){var l=a[o];var u=h(l,"prefix","");var f=h(l,"files");var d=h(l,"defaultType");if(Array.isArray(f)){for(var v=0;v<f.length;v++){var p=f[v];var g=p.hasOwnProperty("type")?p.type:d;if(!g){console.warn("No type:",p);continue}var m=u+p.key;if(g==="animation"){i.remove(m)}if(g==="aseprite"||g==="atlas"||g==="atlasXML"||g==="htmlTexture"||g==="image"||g==="multiatlas"||g==="spritesheet"||g==="svg"||g==="texture"||g==="unityAtlas"){s.remove(m);if(!n[g]){continue}}if(g==="pack"){this.removePack(m,p.dataKey);continue}if(g==="spine"){var y=r.custom.spine.get(m);if(!y){continue}var x=y.prefix===void 0?"":y.prefix;r.custom.spine.remove(m);var b=r.custom.spineTextures.get(m);if(!b){continue}r.custom.spineTextures.remove(m);for(var T=0;T<b.pages.length;T++){var w=b.pages[T];var E=x+w.name;var S=m+":"+E;if(s.exists(S)){s.remove(S)}else{s.remove(E)}}}var A=n[g];if(A===null){continue}if(!A){console.warn("Unknown type:",g);continue}var C=r[A];C.remove(m)}}}},isLoading:function(){return this.state===s.LOADER_LOADING||this.state===s.LOADER_PROCESSING},isReady:function(){return this.state===s.LOADER_IDLE||this.state===s.LOADER_COMPLETE},start:function(){if(!this.isReady()){return}this.progress=0;this.totalFailed=0;this.totalComplete=0;this.totalToLoad=this.list.size;this.emit(o.START,this);if(this.list.size===0){this.loadComplete()}else{this.state=s.LOADER_LOADING;this.inflight.clear();this.queue.clear();this.updateProgress();this.checkLoadQueue();this.systems.events.on(d.UPDATE,this.update,this)}},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad;this.emit(o.PROGRESS,this.progress)},update:function(){if(this.state===s.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads){this.checkLoadQueue()}},checkLoadQueue:function(){this.list.each((function(t){if(t.state===s.FILE_POPULATED||t.state===s.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads){this.inflight.set(t);this.list.delete(t);if(!t.crossOrigin){t.crossOrigin=this.crossOrigin}t.load()}if(this.inflight.size===this.maxParallelDownloads){return false}}),this)},nextFile:function(t,e){if(!this.inflight){return}this.inflight.delete(t);this.updateProgress();if(e){this.totalComplete++;this.queue.set(t);this.emit(o.FILE_LOAD,t);t.onProcess()}else{this.totalFailed++;this._deleteQueue.set(t);this.emit(o.FILE_LOAD_ERROR,t);this.fileProcessComplete(t)}},fileProcessComplete:function(t){if(!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy){return}if(t.state===s.FILE_ERRORED){if(t.multiFile){t.multiFile.onFileFailed(t)}}else if(t.state===s.FILE_COMPLETE){if(t.multiFile){if(t.multiFile.isReadyToProcess()){t.multiFile.addToCache();t.multiFile.pendingDestroy()}}else{t.addToCache();t.pendingDestroy()}}this.queue.delete(t);if(this.list.size===0&&this.inflight.size===0&&this.queue.size===0){this.loadComplete()}},loadComplete:function(){this.emit(o.POST_PROCESS,this);this.list.clear();this.inflight.clear();this.queue.clear();this.progress=1;this.state=s.LOADER_COMPLETE;this.systems.events.off(d.UPDATE,this.update,this);this._deleteQueue.iterateLocal("destroy");this._deleteQueue.clear();this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){if(e===void 0){e="file.json"}if(i===void 0){i="application/json"}var r=new Blob([t],{type:i});var s=URL.createObjectURL(r);var n=document.createElement("a");n.download=e;n.textContent="Download "+e;n.href=s;n.click();return this},reset:function(){this.list.clear();this.inflight.clear();this.queue.clear();var t=this.systems.game.config;var e=this.systems.settings.loader;this.setBaseURL(h(e,"baseURL",t.loaderBaseURL));this.setPath(h(e,"path",t.loaderPath));this.setPrefix(h(e,"prefix",t.loaderPrefix));this.state=s.LOADER_IDLE},shutdown:function(){this.reset();this.state=s.LOADER_SHUTDOWN;this.removeAllListeners();this.systems.events.off(d.UPDATE,this.update,this);this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.state=s.LOADER_DESTROYED;this.systems.events.off(d.UPDATE,this.update,this);this.systems.events.off(d.START,this.pluginStart,this);this.list=null;this.inflight=null;this.queue=null;this.scene=null;this.systems=null;this.textureManager=null;this.cacheManager=null;this.sceneManager=null}});f.register("Loader",p,"load");t.exports=p},3374:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var s=i(92638);var MergeXHRSettings=function(t,e){var i=t===void 0?s():r({},t);if(e){for(var n in e){if(e[n]!==void 0){i[n]=e[n]}}}return i};t.exports=MergeXHRSettings},26430:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(54899);var a=new r({initialize:function MultiFile2(t,e,i,r){var n=[];r.forEach((function(t){if(t){n.push(t)}}));this.loader=t;this.type=e;this.key=i;var a=this.key;if(t.prefix&&t.prefix!==""){this.key=t.prefix+a}this.multiKeyIndex=t.multiKeyIndex++;this.files=n;this.state=s.FILE_PENDING;this.complete=false;this.pending=n.length;this.failed=0;this.config={};this.baseURL=t.baseURL;this.path=t.path;this.prefix=t.prefix;for(var o=0;o<n.length;o++){n[o].multiFile=this}},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(t){this.files.push(t);t.multiFile=this;this.pending++;this.complete=false;return this},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1){this.pending--}},onFileFailed:function(t){var e=this.files.indexOf(t);if(e!==-1){this.failed++;console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,t.type,t.key)}},pendingDestroy:function(){if(this.state===s.FILE_PENDING_DESTROY){return}var t=this.key;var e=this.type;this.loader.emit(n.FILE_COMPLETE,t,e);this.loader.emit(n.FILE_KEY_COMPLETE+e+"-"+t,t,e);this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++){this.files[i].pendingDestroy()}this.state=s.FILE_PENDING_DESTROY},destroy:function(){this.loader=null;this.files=null;this.config=null}});t.exports=a},84376:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(3374);var XHRLoader=function(t,e){var i=r(e,t.xhrSettings);if(t.base64){var s=t.url.split(";base64,").pop()||t.url.split(",").pop();var n={responseText:atob(s)};t.onBase64Load(n);return}var a=new XMLHttpRequest;a.open("GET",t.src,i.async,i.user,i.password);a.responseType=t.xhrSettings.responseType;a.timeout=i.timeout;if(i.headers){for(var o in i.headers){a.setRequestHeader(o,i.headers[o])}}if(i.header&&i.headerValue){a.setRequestHeader(i.header,i.headerValue)}if(i.requestedWith){a.setRequestHeader("X-Requested-With",i.requestedWith)}if(i.overrideMimeType){a.overrideMimeType(i.overrideMimeType)}if(i.withCredentials){a.withCredentials=true}a.onload=t.onLoad.bind(t,a);a.onerror=t.onError.bind(t,a);a.onprogress=t.onProgress.bind(t);a.ontimeout=t.onError.bind(t,a);a.send();return a};t.exports=XHRLoader},92638:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var XHRSettings=function(t,e,i,r,s,n){if(t===void 0){t=""}if(e===void 0){e=true}if(i===void 0){i=""}if(r===void 0){r=""}if(s===void 0){s=0}if(n===void 0){n=false}return{responseType:t,async:e,user:i,password:r,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:false,overrideMimeType:void 0,withCredentials:n}};t.exports=XHRSettings},23906:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};t.exports=e},42155:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="addfile"},38991:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},27540:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="filecomplete"},87464:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="filecomplete-"},94486:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="loaderror"},13035:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="load"},38144:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="fileprogress"},97520:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="postprocess"},85595:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="progress"},55680:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="start"},54899:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(518);var a=i(54899);var o=new r({Extends:n,initialize:function AnimationJSONFile2(t,e,i,r,s){n.call(this,t,e,i,r,s);this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this);n.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});s.register("animation",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new o(this,t[s]))}}else{this.addFile(new o(this,t,e,r,i))}return this}));t.exports=o},76272:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(518);var h=i(26430);var u=new r({Extends:h,initialize:function AsepriteFile2(t,e,i,r,s,u){var c;var f;if(o(e)){var d=e;e=n(d,"key");c=new a(t,{key:e,url:n(d,"textureURL"),extension:n(d,"textureExtension","png"),normalMap:n(d,"normalMap"),xhrSettings:n(d,"textureXhrSettings")});f=new l(t,{key:e,url:n(d,"atlasURL"),extension:n(d,"atlasExtension","json"),xhrSettings:n(d,"atlasXhrSettings")})}else{c=new a(t,e,i,s);f=new l(t,e,r,u)}if(c.linkFile){h.call(this,t,"atlasjson",e,[c,f,c.linkFile])}else{h.call(this,t,"atlasjson",e,[c,f])}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];var i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i);e.addToCache();this.complete=true}}});s.register("aseprite",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new u(this,t[a]);this.addFile(n.files)}}else{n=new u(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=u},38734:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(518);var h=i(26430);var u=new r({Extends:h,initialize:function AtlasJSONFile2(t,e,i,r,s,u){var c;var f;if(o(e)){var d=e;e=n(d,"key");c=new a(t,{key:e,url:n(d,"textureURL"),extension:n(d,"textureExtension","png"),normalMap:n(d,"normalMap"),xhrSettings:n(d,"textureXhrSettings")});f=new l(t,{key:e,url:n(d,"atlasURL"),extension:n(d,"atlasExtension","json"),xhrSettings:n(d,"atlasXhrSettings")})}else{c=new a(t,e,i,s);f=new l(t,e,r,u)}if(c.linkFile){h.call(this,t,"atlasjson",e,[c,f,c.linkFile])}else{h.call(this,t,"atlasjson",e,[c,f])}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];var i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i);this.complete=true}}});s.register("atlas",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new u(this,t[a]);this.addFile(n.files)}}else{n=new u(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=u},74599:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(26430);var h=i(57318);var u=new r({Extends:l,initialize:function AtlasXMLFile2(t,e,i,r,s,u){var c;var f;if(o(e)){var d=e;e=n(d,"key");c=new a(t,{key:e,url:n(d,"textureURL"),extension:n(d,"textureExtension","png"),normalMap:n(d,"normalMap"),xhrSettings:n(d,"textureXhrSettings")});f=new h(t,{key:e,url:n(d,"atlasURL"),extension:n(d,"atlasExtension","xml"),xhrSettings:n(d,"atlasXhrSettings")})}else{c=new a(t,e,i,s);f=new h(t,e,r,u)}if(c.linkFile){l.call(this,t,"atlasxml",e,[c,f,c.linkFile])}else{l.call(this,t,"atlasxml",e,[c,f])}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];var i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i);this.complete=true}}});s.register("atlasXML",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new u(this,t[a]);this.addFile(n.files)}}else{n=new u(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=u},21097:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(89749);var h=i(41212);var u=new r({Extends:n,initialize:function AudioFile2(t,e,i,r,s){if(h(e)){var a=e;e=o(a,"key");r=o(a,"xhrSettings");s=o(a,"context",s)}var l={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:r,config:{context:s}};n.call(this,t,l)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(e){t.data=e;t.onProcessComplete()}),(function(e){console.error("Error decoding audio: "+t.key+" - ",e?e.message:null);t.onProcessError()}));this.config.context=null}});u.create=function(t,e,i,r,s){var n=t.systems.game;var a=n.config.audio;var c=n.device.audio;if(h(e)){i=o(e,"url",[]);r=o(e,"config",{})}var f=u.getAudioURL(n,i);if(!f){console.warn('No audio URLs for "%s" can play on this device',e);return null}if(c.webAudio&&!a.disableWebAudio){return new u(t,e,f,s,n.sound.context)}else{return new l(t,e,f,r)}};u.getAudioURL=function(t,e){if(!Array.isArray(e)){e=[e]}for(var i=0;i<e.length;i++){var r=o(e[i],"url",e[i]);if(r.indexOf("blob:")===0||r.indexOf("data:")===0){return{url:r,type:""}}var s=r.match(/\.([a-zA-Z0-9]+)($|\?)/);s=o(e[i],"type",s?s[1]:"").toLowerCase();if(t.device.audio[s]){return{url:r,type:s}}}return null};a.register("audio",(function(t,e,i,r){var s=this.systems.game;var n=s.config.audio;var a=s.device.audio;if(n.noAudio||!a.webAudio&&!a.audioData){return this}var o;if(Array.isArray(t)){for(var l=0;l<t.length;l++){o=u.create(this,t[l]);if(o){this.addFile(o)}}}else{o=u.create(this,t,e,i,r);if(o){this.addFile(o)}}return this}));t.exports=u},89524:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(21097);var s=i(83419);var n=i(74099);var a=i(95540);var o=i(41212);var l=i(518);var h=i(26430);var u=new s({Extends:h,initialize:function AudioSpriteFile2(t,e,i,s,n,u,c){if(o(e)){var f=e;e=a(f,"key");i=a(f,"jsonURL");s=a(f,"audioURL");n=a(f,"audioConfig");u=a(f,"audioXhrSettings");c=a(f,"jsonXhrSettings")}var d;if(!s){d=new l(t,e,i,c);h.call(this,t,"audiosprite",e,[d]);this.config.resourceLoad=true;this.config.audioConfig=n;this.config.audioXhrSettings=u}else{var v=r.create(t,e,s,n,u);if(v){d=new l(t,e,i,c);h.call(this,t,"audiosprite",e,[v,d]);this.config.resourceLoad=false}}},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1){this.pending--;if(this.config.resourceLoad&&t.type==="json"&&t.data.hasOwnProperty("resources")){var i=t.data.resources;var s=a(this.config,"audioConfig");var n=a(this.config,"audioXhrSettings");var o=r.create(this.loader,t.key,i,s,n);if(o){this.addToMultiFile(o);this.loader.addFile(o)}}}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];t.addToCache();e.addToCache();this.complete=true}}});n.register("audioSprite",(function(t,e,i,r,s,n){var a=this.systems.game;var o=a.config.audio;var l=a.device.audio;if(o&&o.noAudio||!l.webAudio&&!l.audioData){return this}var h;if(Array.isArray(t)){for(var c=0;c<t.length;c++){h=new u(this,t[c]);if(h.files){this.addFile(h.files)}}}else{h=new u(this,t,e,i,r,s,n);if(h.files){this.addFile(h.files)}}return this}))},85722:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function BinaryFile2(t,e,i,r,s){var a="bin";if(l(e)){var h=e;e=o(h,"key");i=o(h,"url");r=o(h,"xhrSettings");a=o(h,"extension",a);s=o(h,"dataType",s)}var u={type:"binary",cache:t.cacheManager.binary,extension:a,responseType:"arraybuffer",key:e,url:i,xhrSettings:r,config:{dataType:s}};n.call(this,t,u)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response;this.onProcessComplete()}});a.register("binary",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new h(this,t[s]))}}else{this.addFile(new h(this,t,e,r,i))}return this}));t.exports=h},97025:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(26430);var h=i(21859);var u=i(57318);var c=new r({Extends:l,initialize:function BitmapFontFile2(t,e,i,r,s,h){var c;var f;if(o(e)){var d=e;e=n(d,"key");c=new a(t,{key:e,url:n(d,"textureURL"),extension:n(d,"textureExtension","png"),normalMap:n(d,"normalMap"),xhrSettings:n(d,"textureXhrSettings")});f=new u(t,{key:e,url:n(d,"fontDataURL"),extension:n(d,"fontDataExtension","xml"),xhrSettings:n(d,"fontDataXhrSettings")})}else{c=new a(t,e,i,s);f=new u(t,e,r,h)}if(c.linkFile){l.call(this,t,"bitmapfont",e,[c,f,c.linkFile])}else{l.call(this,t,"bitmapfont",e,[c,f])}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];t.addToCache();var i=t.cache.get(t.key);var r=h(e.data,t.cache.getFrame(t.key),0,0,i);this.loader.cacheManager.bitmapFont.add(t.key,{data:r,texture:t.key,frame:null});this.complete=true}}});s.register("bitmapFont",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new c(this,t[a]);this.addFile(n.files)}}else{n=new c(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=c},16024:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function CSSFile2(t,e,i,r){var s="css";if(l(e)){var a=e;e=o(a,"key");i=o(a,"url");r=o(a,"xhrSettings");s=o(a,"extension",s)}var h={type:"script",cache:false,extension:s,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,h)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=document.createElement("style");this.data.defer=false;this.data.innerHTML=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});a.register("css",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new h(this,t[r]))}}else{this.addFile(new h(this,t,e,i))}return this}));t.exports=h},69559:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(38734);var s=i(85722);var n=i(83419);var a=i(74099);var o=i(95540);var l=i(19550);var h=i(41212);var u=i(518);var c=i(31403);var f=i(46975);var d=i(59327);var v=i(26430);var p=i(82038);var g=i(55222);var m=new n({Extends:v,initialize:function CompressedTextureFile2(t,e,i,r){if(i.multiAtlasURL){var n=new u(t,{key:e,url:i.multiAtlasURL,xhrSettings:r,config:i});v.call(this,t,"texture",e,[n])}else{var a=i.textureURL.substr(i.textureURL.length-3);if(!i.type){i.type=a.toLowerCase()==="ktx"?"KTX":"PVR"}var o=new s(t,{key:e,url:i.textureURL,extension:a,xhrSettings:r,config:i});if(i.atlasURL){var l=new u(t,{key:e,url:i.atlasURL,xhrSettings:r,config:i});v.call(this,t,"texture",e,[o,l])}else{v.call(this,t,"texture",e,[o])}}this.config=i},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1){this.pending--;if(!this.config.multiAtlasURL){return}if(t.type==="json"&&t.data.hasOwnProperty("textures")){var i=t.data.textures;var r=this.config;var n=this.loader;var a=n.baseURL;var l=n.path;var h=n.prefix;var u=o(r,"multiBaseURL",this.baseURL);var c=o(r,"multiPath",this.path);var f=o(r,"prefix",this.prefix);var d=o(r,"textureXhrSettings");if(u){n.setBaseURL(u)}if(c){n.setPath(c)}if(f){n.setPrefix(f)}for(var v=0;v<i.length;v++){var p=i[v].image;var g="CMA"+this.multiKeyIndex+"_"+p;var m=new s(n,g,p,d);this.addToMultiFile(m);n.addFile(m);if(i[v].normalMap){var y=new s(n,g,i[v].normalMap,d);y.type="normalMap";m.setLink(y);this.addToMultiFile(y);n.addFile(y)}}n.setBaseURL(a);n.setPath(l);n.setPrefix(h)}}},addToCache:function(){function compressionWarning(t){console.warn('Compressed Texture Invalid: "'+s.key+'". '+t)}if(this.isReadyToProcess()){var t=this.config;if(t.multiAtlasURL){this.addMultiToCache()}else{var e=this.loader.systems.renderer;var i=this.loader.textureManager;var r;var s=this.files[0];var n=this.files[1];if(t.type==="PVR"){r=p(s.data)}else if(t.type==="KTX"){r=c(s.data);if(!r){compressionWarning("KTX file contains unsupported format.")}}if(r&&!g(r)){compressionWarning("Texture dimensions failed verification. Check the texture format specifications for "+t.format+" 0x"+r.internalFormat.toString(16)+".");r=null}if(r&&!e.supportsCompressedTexture(t.format,r.internalFormat)){compressionWarning("Texture format "+t.format+" with internal format "+r.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB.");r=null}if(r){r.format=e.getCompressedTextureName(t.format,r.internalFormat);var a=n&&n.data?n.data:null;i.addCompressedTexture(s.key,r,a)}}this.complete=true}},addMultiToCache:function(){var t=this.config;var e=this.files[0];var i=[];var r=[];var s=[];var n=this.loader.systems.renderer;var a=this.loader.textureManager;var o;for(var l=1;l<this.files.length;l++){var h=this.files[l];if(h.type==="normalMap"){continue}var u=h.key.indexOf("_");var f=h.key.substr(u+1);var d=h.data;for(var v=0;v<e.data.textures.length;v++){var g=e.data.textures[v];if(g.image===f){if(t.type==="PVR"){o=p(d)}else if(t.type==="KTX"){o=c(d)}if(o&&n.supportsCompressedTexture(t.format,o.internalFormat)){o.format=n.getCompressedTextureName(t.format,o.internalFormat);r.push(o);i.push(g);if(h.linkFile){s.push(h.linkFile.data)}}break}}}if(s.length===0){s=void 0}a.addAtlasJSONArray(this.key,r,i,s);this.complete=true}});a.register("texture",(function(t,e,i){var s=this.systems.renderer;var AddEntry=function(t,e,i,n){var a={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(h(e)){var u=e;e=o(u,"key");i=o(u,"url"),n=o(u,"xhrSettings")}var c=false;for(var v in i){if(s.supportsCompressedTexture(v)){var p=i[v];if(typeof p==="string"){a.textureURL=p}else{a=f(p,a)}a.format=v.toUpperCase();c=true;break}}if(!c){console.warn("No supported compressed texture format or IMG fallback",e)}else if(a.format==="IMG"){var g;var y;if(a.multiAtlasURL){y=new d(t,e,a.multiAtlasURL,a.multiPath,a.multiBaseURL,n);g=y.files}else if(a.atlasURL){y=new r(t,e,a.textureURL,a.atlasURL,n);g=y.files}else{g=new l(t,e,a.textureURL,n)}t.addFile(g)}else{var x=new m(t,e,a,n);t.addFile(x.files)}};if(Array.isArray(t)){for(var n=0;n<t.length;n++){AddEntry(this,t[n])}}else{AddEntry(this,t,e,i)}return this}));t.exports=m},87674:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(98356);var h=i(41212);var u=new r({Extends:n,initialize:function FontFile2(t,e,i,r,a,l){var u="ttf";if(h(e)){var c=e;e=o(c,"key");i=o(c,"url");r=o(c,"format","truetype");a=o(c,"descriptors",null);l=o(c,"xhrSettings");u=o(c,"extension",u)}else if(r===void 0){r="truetype"}var f={type:"font",cache:false,extension:u,responseType:"text",key:e,url:i,xhrSettings:l};n.call(this,t,f);this.data={format:r,descriptors:a};this.state=s.FILE_POPULATED},onProcess:function(){this.state=s.FILE_PROCESSING;this.src=l(this,this.loader.baseURL);var t;var e=this.key;var i="url("+this.src+') format("'+this.data.format+'")';if(this.data.descriptors){t=new FontFace(e,i,this.data.descriptors)}else{t=new FontFace(e,i)}var r=this;t.load().then((function(){document.fonts.add(t);document.body.classList.add("fonts-loaded");r.onProcessComplete()})).catch((function(){console.warn("Font failed to load",i);r.onProcessComplete()}))}});a.register("font",(function(t,e,i,r,s){if(Array.isArray(t)){for(var n=0;n<t.length;n++){this.addFile(new u(this,t[n]))}}else{this.addFile(new u(this,t,e,i,r,s))}return this}));t.exports=u},47931:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=i(73894);var u=new r({Extends:n,initialize:function GLSLFile2(t,e,i,r,s){var a="glsl";if(l(e)){var h=e;e=o(h,"key");i=o(h,"url");r=o(h,"shaderType","fragment");s=o(h,"xhrSettings");a=o(h,"extension",a)}else if(r===void 0){r="fragment"}var u={type:"glsl",cache:t.cacheManager.shader,extension:a,responseType:"text",key:e,url:i,config:{shaderType:r},xhrSettings:s};n.call(this,t,u)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var t=this.data.split("\n");var e=this.extractBlock(t,0);if(e){while(e){var i=this.getShaderName(e.header);var r=this.getShaderType(e.header);var s=this.getShaderUniforms(e.header);var n=e.shader;if(this.cache.has(i)){var a=this.cache.get(i);if(r==="fragment"){a.fragmentSrc=n}else{a.vertexSrc=n}if(!a.uniforms){a.uniforms=s}}else if(r==="fragment"){this.cache.add(i,new h(i,n,"",s))}else{this.cache.add(i,new h(i,"",n,s))}e=this.extractBlock(t,e.offset)}}else if(this.config.shaderType==="fragment"){this.cache.add(this.key,new h(this.key,this.data))}else{this.cache.add(this.key,new h(this.key,"",this.data))}},getShaderName:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if(i.substring(0,5)==="name:"){return i.substring(5).trim()}}return this.key},getShaderType:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if(i.substring(0,5)==="type:"){return i.substring(5).trim()}}return this.config.shaderType},getShaderUniforms:function(t){var e={};for(var i=0;i<t.length;i++){var r=t[i].trim();if(r.substring(0,8)==="uniform."){var s=r.indexOf(":");if(s){var n=r.substring(8,s);try{e[n]=JSON.parse(r.substring(s+1))}catch(a){console.warn("Invalid uniform JSON: "+n)}}}}return e},extractBlock:function(t,e){var i=-1;var r=-1;var s=-1;var n=false;var a=false;var o=[];var l=[];for(var h=e;h<t.length;h++){var u=t[h].trim();if(u==="---"){if(i===-1){i=h;n=true}else if(n){r=h;n=false;a=true}else{a=false;break}}else if(n){o.push(u)}else if(a){l.push(u);s=h}}if(!n&&r!==-1){return{header:o,shader:l.join("\n"),offset:s}}else{return null}}});a.register("glsl",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new u(this,t[s]))}}else{this.addFile(new u(this,t,e,i,r))}return this}));t.exports=u},89749:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(54899);var n=i(41299);var a=i(95540);var o=i(98356);var l=i(41212);var h=new r({Extends:n,initialize:function HTML5AudioFile2(t,e,i,r){if(l(e)){var s=e;e=a(s,"key");r=a(s,"config",r)}var o={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:r};n.call(this,t,o);this.locked="ontouchstart"in window;this.loaded=false;this.filesLoaded=0;this.filesTotal=0},onLoad:function(){if(this.loaded){return}this.loaded=true;this.loader.nextFile(this,true)},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null;e.onerror=null}this.loader.nextFile(this,false)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null;e.onerror=null;this.filesLoaded++;this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1);this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete);if(this.filesLoaded===this.filesTotal){this.onLoad()}},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t;this.filesLoaded=0;this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;if(!i.dataset){i.dataset={}}i.dataset.name=this.key+("0"+e).slice(-2);i.dataset.used="false";if(this.locked){i.dataset.locked="true"}else{i.dataset.locked="false";i.preload="auto";i.oncanplaythrough=this.onProgress.bind(this);i.onerror=this.onError.bind(this)}this.data.push(i)}for(e=0;e<this.data.length;e++){i=this.data[e];i.src=o(this,this.loader.baseURL);if(!this.locked){i.load()}}if(this.locked){setTimeout(this.onLoad.bind(this))}}});t.exports=h},88470:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function HTMLFile2(t,e,i,r){var s="html";if(l(e)){var a=e;e=o(a,"key");i=o(a,"url");r=o(a,"xhrSettings");s=o(a,"extension",s)}var h={type:"text",cache:t.cacheManager.html,extension:s,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,h)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()}});a.register("html",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new h(this,t[r]))}}else{this.addFile(new h(this,t,e,i))}return this}));t.exports=h},14643:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function HTMLTextureFile2(t,e,i,r,s,a){if(r===void 0){r=512}if(s===void 0){s=512}var h="html";if(l(e)){var u=e;e=o(u,"key");i=o(u,"url");a=o(u,"xhrSettings");h=o(u,"extension",h);r=o(u,"width",r);s=o(u,"height",s)}var c={type:"html",cache:t.textureManager,extension:h,responseType:"text",key:e,url:i,xhrSettings:a,config:{width:r,height:s}};n.call(this,t,c)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this.config.width;var e=this.config.height;var i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">');i.push('<foreignObject width="100%" height="100%">');i.push('<body xmlns="http://www.w3.org/1999/xhtml">');i.push(this.xhrLoader.responseText);i.push("</body>");i.push("</foreignObject>");i.push("</svg>");var r=[i.join("\n")];var a=this;try{var o=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch(l){a.state=s.FILE_ERRORED;a.onProcessComplete();return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;this.data.onload=function(){n.revokeObjectURL(a.data);a.onProcessComplete()};this.data.onerror=function(){n.revokeObjectURL(a.data);a.onProcessError()};n.createObjectURL(this.data,o,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",(function(t,e,i,r,s){if(Array.isArray(t)){for(var n=0;n<t.length;n++){this.addFile(new h(this,t[n]))}}else{this.addFile(new h(this,t,e,i,r,s))}return this}));t.exports=h},19550:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=i(98356);var u=new r({Extends:n,initialize:function ImageFile2(t,e,i,r,s){var a="png";var h;if(l(e)){var u=e;e=o(u,"key");i=o(u,"url");h=o(u,"normalMap");r=o(u,"xhrSettings");a=o(u,"extension",a);s=o(u,"frameConfig")}if(Array.isArray(i)){h=i[1];i=i[0]}var c={type:"image",cache:t.textureManager,extension:a,responseType:"blob",key:e,url:i,xhrSettings:r,config:s};n.call(this,t,c);if(h){var f=new ImageFile2(t,this.key,h,r,s);f.type="normalMap";this.setLink(f);t.addFile(f)}this.useImageElementLoad=t.imageLoadType==="HTMLImageElement"||this.base64;if(this.useImageElementLoad){this.load=this.loadImage;this.onProcess=this.onProcessImage}},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=new Image;this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){n.revokeObjectURL(t.data);t.onProcessComplete()};this.data.onerror=function(){n.revokeObjectURL(t.data);t.onProcessError()};n.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var t=this.state;this.state=s.FILE_PROCESSING;if(t===s.FILE_LOADED){this.onProcessComplete()}else{this.onProcessError()}},loadImage:function(){this.state=s.FILE_LOADING;this.src=h(this,this.loader.baseURL);this.data=new Image;this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){t.state=s.FILE_LOADED;t.loader.nextFile(t,true)};this.data.onerror=function(){t.loader.nextFile(t,false)};this.data.src=this.src},addToCache:function(){var t=this.linkFile;if(t){if(t.state>=s.FILE_COMPLETE){if(t.type==="spritesheet"){t.addToCache()}else if(this.type==="normalMap"){this.cache.addImage(this.key,t.data,this.data)}else{this.cache.addImage(this.key,this.data,t.data)}}}else{this.cache.addImage(this.key,this.data)}}});a.register("image",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new u(this,t[r]))}}else{this.addFile(new u(this,t,e,i))}return this}));t.exports=u},518:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(35154);var h=i(41212);var u=new r({Extends:n,initialize:function JSONFile2(t,e,i,r,a){var u="json";if(h(e)){var c=e;e=o(c,"key");i=o(c,"url");r=o(c,"xhrSettings");u=o(c,"extension",u);a=o(c,"dataKey",a)}var f={type:"json",cache:t.cacheManager.json,extension:u,responseType:"text",key:e,url:i,xhrSettings:r,config:a};n.call(this,t,f);if(h(i)){if(a){this.data=l(i,a)}else{this.data=i}this.state=s.FILE_POPULATED}},onProcess:function(){if(this.state!==s.FILE_POPULATED){this.state=s.FILE_PROCESSING;try{var t=JSON.parse(this.xhrLoader.responseText)}catch(i){this.onProcessError();throw i}var e=this.config;if(typeof e==="string"){this.data=l(t,e,t)}else{this.data=t}}this.onProcessComplete()}});a.register("json",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new u(this,t[s]))}}else{this.addFile(new u(this,t,e,r,i))}return this}));t.exports=u},59327:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(518);var h=i(26430);var u=new r({Extends:h,initialize:function MultiAtlasFile2(t,e,i,r,s,a,u){if(o(e)){var c=e;e=n(c,"key");if(n(c,"url",false)){i=n(c,"url")}else{i=n(c,"atlasURL")}a=n(c,"xhrSettings");r=n(c,"path");s=n(c,"baseURL");u=n(c,"textureXhrSettings")}var f=new l(t,e,i,a);h.call(this,t,"multiatlas",e,[f]);this.config.path=r;this.config.baseURL=s;this.config.textureXhrSettings=u},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1){this.pending--;if(t.type==="json"&&t.data.hasOwnProperty("textures")){var i=t.data.textures;var r=this.config;var s=this.loader;var o=s.baseURL;var l=s.path;var h=s.prefix;var u=n(r,"baseURL",this.baseURL);var c=n(r,"path",this.path);var f=n(r,"prefix",this.prefix);var d=n(r,"textureXhrSettings");s.setBaseURL(u);s.setPath(c);s.setPrefix(f);for(var v=0;v<i.length;v++){var p=i[v].image;var g="MA"+this.multiKeyIndex+"_"+p;var m=new a(s,g,p,d);this.addToMultiFile(m);s.addFile(m);if(i[v].normalMap){var y=new a(s,g,i[v].normalMap,d);y.type="normalMap";m.setLink(y);this.addToMultiFile(y);s.addFile(y)}}s.setBaseURL(o);s.setPath(l);s.setPrefix(h)}}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=[];var i=[];var r=[];for(var s=1;s<this.files.length;s++){var n=this.files[s];if(n.type==="normalMap"){continue}var a=n.key.indexOf("_");var o=n.key.substr(a+1);var l=n.data;for(var h=0;h<t.data.textures.length;h++){var u=t.data.textures[h];if(u.image===o){i.push(l);e.push(u);if(n.linkFile){r.push(n.linkFile.data)}break}}}if(r.length===0){r=void 0}this.loader.textureManager.addAtlasJSONArray(this.key,i,e,r);this.complete=true}}});s.register("multiatlas",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new u(this,t[a]);this.addFile(n.files)}}else{n=new u(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=u},99297:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(41212);var o=i(26430);var l=i(34328);var h=new r({Extends:o,initialize:function MultiScriptFile2(t,e,i,r){var s="js";var h=[];if(a(e)){var u=e;e=n(u,"key");i=n(u,"url");r=n(u,"xhrSettings");s=n(u,"extension",s)}if(!Array.isArray(i)){i=[i]}for(var c=0;c<i.length;c++){var f=new l(t,{key:e+"_"+c.toString(),url:i[c],extension:s,xhrSettings:r});f.onProcess=function(){this.onProcessComplete()};h.push(f)}o.call(this,t,"scripts",e,h)},addToCache:function(){if(this.isReadyToProcess()){for(var t=0;t<this.files.length;t++){var e=this.files[t];e.data=document.createElement("script");e.data.language="javascript";e.data.type="text/javascript";e.data.defer=false;e.data.text=e.xhrLoader.responseText;document.head.appendChild(e.data)}this.complete=true}}});s.register("scripts",(function(t,e,i){var r;if(Array.isArray(t)){for(var s=0;s<t.length;s++){r=new h(this,t[s]);this.addFile(r.files)}}else{r=new h(this,t,e,i);this.addFile(r.files)}return this}));t.exports=h},41846:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(41212);var o=i(26430);var l=i(85048);var h=i(61485);var u=i(78776);var c=new r({Extends:o,initialize:function OBJFile2(t,e,i,r,s,l){var h;var c;var f=t.cacheManager.obj;if(a(e)){var d=e;e=n(d,"key");h=new u(t,{key:e,type:"obj",cache:f,url:n(d,"url"),extension:n(d,"extension","obj"),xhrSettings:n(d,"xhrSettings"),config:{flipUV:n(d,"flipUV",s)}});r=n(d,"matURL");if(r){c=new u(t,{key:e,type:"mat",cache:f,url:r,extension:n(d,"matExtension","mat"),xhrSettings:n(d,"xhrSettings")})}}else{h=new u(t,{key:e,url:i,type:"obj",cache:f,extension:"obj",xhrSettings:l,config:{flipUV:s}});if(r){c=new u(t,{key:e,url:r,type:"mat",cache:f,extension:"mat",xhrSettings:l})}}o.call(this,t,"obj",e,[h,c])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];var i=l(t.data,t.config.flipUV);if(e){i.materials=h(e.data)}t.cache.add(t.key,i);this.complete=true}}});s.register("obj",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new c(this,t[a]);this.addFile(n.files)}}else{n=new c(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=c},58610:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(74099);var a=i(518);var o=new r({Extends:a,initialize:function PackFile2(t,e,i,r,s){a.call(this,t,e,i,r,s);this.type="packfile"},onProcess:function(){if(this.state!==s.FILE_POPULATED){this.state=s.FILE_PROCESSING;this.data=JSON.parse(this.xhrLoader.responseText)}if(this.data.hasOwnProperty("files")&&this.config){var t={};t[this.config]=this.data;this.data=t}this.loader.addPack(this.data,this.config);this.onProcessComplete()}});n.register("pack",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new o(this,t[s]))}}else{this.addFile(new o(this,t,e,r,i))}return this}));t.exports=o},48988:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function PluginFile2(t,e,i,r,a,h){var u="js";if(l(e)){var c=e;e=o(c,"key");i=o(c,"url");h=o(c,"xhrSettings");u=o(c,"extension",u);r=o(c,"start");a=o(c,"mapping")}var f={type:"plugin",cache:false,extension:u,responseType:"text",key:e,url:i,xhrSettings:h,config:{start:r,mapping:a}};n.call(this,t,f);if(typeof i==="function"){this.data=i;this.state=s.FILE_POPULATED}},onProcess:function(){var t=this.loader.systems.plugins;var e=this.config;var i=o(e,"start",false);var r=o(e,"mapping",null);if(this.state===s.FILE_POPULATED){t.install(this.key,this.data,i,r)}else{this.state=s.FILE_PROCESSING;this.data=document.createElement("script");this.data.language="javascript";this.data.type="text/javascript";this.data.defer=false;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);var n=t.install(this.key,window[this.key],i,r);if(i||r){this.loader.systems[r]=n;this.loader.scene[r]=n}}this.onProcessComplete()}});a.register("plugin",(function(t,e,i,r,s){if(Array.isArray(t)){for(var n=0;n<t.length;n++){this.addFile(new h(this,t[n]))}}else{this.addFile(new h(this,t,e,i,r,s))}return this}));t.exports=h},67397:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function SVGFile2(t,e,i,r,s){var a="svg";if(l(e)){var h=e;e=o(h,"key");i=o(h,"url");r=o(h,"svgConfig",{});s=o(h,"xhrSettings");a=o(h,"extension",a)}var u={type:"svg",cache:t.textureManager,extension:a,responseType:"text",key:e,url:i,xhrSettings:s,config:{width:o(r,"width"),height:o(r,"height"),scale:o(r,"scale")}};n.call(this,t,u)},onProcess:function(){this.state=s.FILE_PROCESSING;var t=this.xhrLoader.responseText;var e=[t];var i=this.config.width;var r=this.config.height;var a=this.config.scale;t:if(i&&r||a){var o=null;var l=new DOMParser;o=l.parseFromString(t,"text/xml");var h=o.getElementsByTagName("svg")[0];var u=h.hasAttribute("viewBox");var c=parseFloat(h.getAttribute("width"));var f=parseFloat(h.getAttribute("height"));if(!u&&c&&f){h.setAttribute("viewBox","0  0 "+c+" "+f)}else if(u&&!c&&!f){var d=h.getAttribute("viewBox").split(/\s+|,/);c=d[2];f=d[3]}if(a){if(c&&f){i=c*a;r=f*a}else{break t}}h.setAttribute("width",i.toString()+"px");h.setAttribute("height",r.toString()+"px");e=[(new XMLSerializer).serializeToString(h)]}try{var v=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(m){this.onProcessError();return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;var p=this;var g=false;this.data.onload=function(){if(!g){n.revokeObjectURL(p.data)}p.onProcessComplete()};this.data.onerror=function(){if(!g){g=true;n.revokeObjectURL(p.data);p.data.src="data:image/svg+xml,"+encodeURIComponent(e.join(""))}else{p.onProcessError()}};n.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new h(this,t[s]))}}else{this.addFile(new h(this,t,e,i,r))}return this}));t.exports=h},88423:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function SceneFile2(t,e,i,r){var s="js";if(l(e)){var a=e;e=o(a,"key");i=o(a,"url");r=o(a,"xhrSettings");s=o(a,"extension",s)}var h={type:"text",extension:s,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,h)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var t=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);");var e=eval;this.loader.sceneManager.add(this.key,e(t));this.complete=true}});a.register("sceneFile",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new h(this,t[r]))}}else{this.addFile(new h(this,t,e,i))}return this}));t.exports=h},56812:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function ScenePluginFile2(t,e,i,r,a,h){var u="js";if(l(e)){var c=e;e=o(c,"key");i=o(c,"url");h=o(c,"xhrSettings");u=o(c,"extension",u);r=o(c,"systemKey");a=o(c,"sceneKey")}var f={type:"scenePlugin",cache:false,extension:u,responseType:"text",key:e,url:i,xhrSettings:h,config:{systemKey:r,sceneKey:a}};n.call(this,t,f);if(typeof i==="function"){this.data=i;this.state=s.FILE_POPULATED}},onProcess:function(){var t=this.loader.systems.plugins;var e=this.config;var i=this.key;var r=o(e,"systemKey",i);var n=o(e,"sceneKey",i);if(this.state===s.FILE_POPULATED){t.installScenePlugin(r,this.data,n,this.loader.scene,true)}else{this.state=s.FILE_PROCESSING;this.data=document.createElement("script");this.data.language="javascript";this.data.type="text/javascript";this.data.defer=false;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);t.installScenePlugin(r,window[this.key],n,this.loader.scene,true)}this.onProcessComplete()}});a.register("scenePlugin",(function(t,e,i,r,s){if(Array.isArray(t)){for(var n=0;n<t.length;n++){this.addFile(new h(this,t[n]))}}else{this.addFile(new h(this,t,e,i,r,s))}return this}));t.exports=h},34328:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function ScriptFile2(t,e,i,r,s){var a="js";if(l(e)){var h=e;e=o(h,"key");i=o(h,"url");r=o(h,"type","script");s=o(h,"xhrSettings");a=o(h,"extension",a)}else if(r===void 0){r="script"}var u={type:r,cache:false,extension:a,responseType:"text",key:e,url:i,xhrSettings:s};n.call(this,t,u)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=document.createElement("script");this.data.language="javascript";this.data.type="text/javascript";this.data.defer=false;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});a.register("script",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new h(this,t[s]))}}else{this.addFile(new h(this,t,e,i,r))}return this}));t.exports=h},85035:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(74099);var a=i(19550);var o=new r({Extends:a,initialize:function SpriteSheetFile2(t,e,i,r,s){a.call(this,t,e,i,s,r);this.type="spritesheet"},addToCache:function(){var t=this.linkFile;if(t){if(t.state>=s.FILE_COMPLETE){if(this.type==="normalMap"){this.cache.addSpriteSheet(this.key,t.data,this.config,this.data)}else{this.cache.addSpriteSheet(this.key,this.data,this.config,t.data)}}}else{this.cache.addSpriteSheet(this.key,this.data,this.config)}}});n.register("spritesheet",(function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++){this.addFile(new o(this,t[s]))}}else{this.addFile(new o(this,t,e,i,r))}return this}));t.exports=o},78776:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=new r({Extends:n,initialize:function TextFile2(t,e,i,r){var s="text";var a="txt";var h=t.cacheManager.text;if(l(e)){var u=e;e=o(u,"key");i=o(u,"url");r=o(u,"xhrSettings");a=o(u,"extension",a);s=o(u,"type",s);h=o(u,"cache",h)}var c={type:s,cache:h,extension:a,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,c)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()}});a.register("text",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new h(this,t[r]))}}else{this.addFile(new h(this,t,e,i))}return this}));t.exports=h},49477:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=i(80341);var u=new r({Extends:n,initialize:function TilemapCSVFile2(t,e,i,r){var s="csv";if(l(e)){var a=e;e=o(a,"key");i=o(a,"url");r=o(a,"xhrSettings");s=o(a,"extension",s)}var u={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:s,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,u);this.tilemapFormat=h.CSV},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t)}});a.register("tilemapCSV",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new u(this,t[r]))}}else{this.addFile(new u(this,t,e,i))}return this}));t.exports=u},40807:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(518);var a=i(80341);var o=new r({Extends:n,initialize:function TilemapImpactFile2(t,e,i,r){n.call(this,t,e,i,r);this.type="tilemapJSON";this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,t)}});s.register("tilemapImpact",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new o(this,t[r]))}}else{this.addFile(new o(this,t,e,i))}return this}));t.exports=o},56775:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(518);var a=i(80341);var o=new r({Extends:n,initialize:function TilemapJSONFile2(t,e,i,r){n.call(this,t,e,i,r);this.type="tilemapJSON";this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,t)}});s.register("tilemapTiledJSON",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new o(this,t[r]))}}else{this.addFile(new o(this,t,e,i))}return this}));t.exports=o},25771:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(74099);var n=i(95540);var a=i(19550);var o=i(41212);var l=i(26430);var h=i(78776);var u=new r({Extends:l,initialize:function UnityAtlasFile2(t,e,i,r,s,u){var c;var f;if(o(e)){var d=e;e=n(d,"key");c=new a(t,{key:e,url:n(d,"textureURL"),extension:n(d,"textureExtension","png"),normalMap:n(d,"normalMap"),xhrSettings:n(d,"textureXhrSettings")});f=new h(t,{key:e,url:n(d,"atlasURL"),extension:n(d,"atlasExtension","txt"),xhrSettings:n(d,"atlasXhrSettings")})}else{c=new a(t,e,i,s);f=new h(t,e,r,u)}if(c.linkFile){l.call(this,t,"unityatlas",e,[c,f,c.linkFile])}else{l.call(this,t,"unityatlas",e,[c,f])}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];var e=this.files[1];var i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i);this.complete=true}}});s.register("unityAtlas",(function(t,e,i,r,s){var n;if(Array.isArray(t)){for(var a=0;a<t.length;a++){n=new u(this,t[a]);this.addFile(n.files)}}else{n=new u(this,t,e,i,r,s);this.addFile(n.files)}return this}));t.exports=u},33720:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(98356);var l=i(95540);var h=i(41212);var u=new r({Extends:n,initialize:function VideoFile2(t,e,i,r){if(r===void 0){r=false}if(h(e)){var s=e;e=l(s,"key");i=l(s,"url",[]);r=l(s,"noAudio",false)}var a=t.systems.game.device.video.getVideoURL(i);if(!a){console.warn("VideoFile: No supported format for "+e)}var o={type:"video",cache:t.cacheManager.video,extension:a.type,key:e,url:a.url,config:{noAudio:r}};n.call(this,t,o)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin};this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL);this.state=s.FILE_LOADED;this.loader.nextFile(this,true)}});a.register("video",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new u(this,t[r]))}}else{this.addFile(new u(this,t,e,i))}return this}));t.exports=u},57318:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(23906);var n=i(41299);var a=i(74099);var o=i(95540);var l=i(41212);var h=i(56836);var u=new r({Extends:n,initialize:function XMLFile2(t,e,i,r){var s="xml";if(l(e)){var a=e;e=o(a,"key");i=o(a,"url");r=o(a,"xhrSettings");s=o(a,"extension",s)}var h={type:"xml",cache:t.cacheManager.xml,extension:s,responseType:"text",key:e,url:i,xhrSettings:r};n.call(this,t,h)},onProcess:function(){this.state=s.FILE_PROCESSING;this.data=h(this.xhrLoader.responseText);if(this.data){this.onProcessComplete()}else{this.onProcessError()}}});a.register("xml",(function(t,e,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++){this.addFile(new u(this,t[r]))}}else{this.addFile(new u(this,t,e,i))}return this}));t.exports=u},64589:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23906);var s=i(79291);var n={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};n=s(false,n,r);t.exports=n},53307:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Average=function(t){var e=0;for(var i=0;i<t.length;i++){e+=+t[i]}return e/t.length};t.exports=Average},85710:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6411);var Bernstein=function(t,e){return r(t)/r(e)/r(t-e)};t.exports=Bernstein},30976:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)};t.exports=Between},87842:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CatmullRom=function(t,e,i,r,s){var n=(r-e)*.5;var a=(s-i)*.5;var o=t*t;var l=t*o;return(2*i-2*r+n+a)*l+(-3*i+3*r-2*n-a)*o+n*t+i};t.exports=CatmullRom},26302:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CeilTo=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=10}var r=Math.pow(i,-e);return Math.ceil(t*r)/r};t.exports=CeilTo},45319:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clamp=function(t,e,i){return Math.max(e,Math.min(i,t))};t.exports=Clamp},39506:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var DegToRad=function(t){return t*r.DEG_TO_RAD};t.exports=DegToRad},61241:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Difference=function(t,e){return Math.abs(t-e)};t.exports=Difference},38857:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(37867);var a=i(29747);var o=new n;var l=new s({initialize:function Euler2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=Euler2.DefaultOrder}this._x=t;this._y=e;this._z=i;this._order=r;this.onChangeCallback=a},x:{get:function(){return this._x},set:function(t){this._x=t;this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t;this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(t){this._order=t;this.onChangeCallback(this)}},set:function(t,e,i,r){if(r===void 0){r=this._order}this._x=t;this._y=e;this._z=i;this._order=r;this.onChangeCallback(this);return this},copy:function(t){return this.set(t.x,t.y,t.z,t.order)},setFromQuaternion:function(t,e,i){if(e===void 0){e=this._order}if(i===void 0){i=false}o.fromQuat(t);return this.setFromRotationMatrix(o,e,i)},setFromRotationMatrix:function(t,e,i){if(e===void 0){e=this._order}if(i===void 0){i=false}var s=t.val;var n=s[0];var a=s[4];var o=s[8];var l=s[1];var h=s[5];var u=s[9];var c=s[2];var f=s[6];var d=s[10];var v=0;var p=0;var g=0;var m=.99999;switch(e){case"XYZ":{p=Math.asin(r(o,-1,1));if(Math.abs(o)<m){v=Math.atan2(-u,d);g=Math.atan2(-a,n)}else{v=Math.atan2(f,h)}break}case"YXZ":{v=Math.asin(-r(u,-1,1));if(Math.abs(u)<m){p=Math.atan2(o,d);g=Math.atan2(l,h)}else{p=Math.atan2(-c,n)}break}case"ZXY":{v=Math.asin(r(f,-1,1));if(Math.abs(f)<m){p=Math.atan2(-c,d);g=Math.atan2(-a,h)}else{g=Math.atan2(l,n)}break}case"ZYX":{p=Math.asin(-r(c,-1,1));if(Math.abs(c)<m){v=Math.atan2(f,d);g=Math.atan2(l,n)}else{g=Math.atan2(-a,h)}break}case"YZX":{g=Math.asin(r(l,-1,1));if(Math.abs(l)<m){v=Math.atan2(-u,h);p=Math.atan2(-c,n)}else{p=Math.atan2(o,d)}break}case"XZY":{g=Math.asin(-r(a,-1,1));if(Math.abs(a)<m){v=Math.atan2(f,h);p=Math.atan2(o,n)}else{v=Math.atan2(-u,d)}break}}this._x=v;this._y=p;this._z=g;this._order=e;if(i){this.onChangeCallback(this)}return this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"];l.DefaultOrder="XYZ";t.exports=l},6411:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Factorial=function(t){if(t===0){return 1}var e=t;while(--t){e*=t}return e};t.exports=Factorial},99472:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FloatBetween=function(t,e){return Math.random()*(e-t)+t};t.exports=FloatBetween},77623:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FloorTo=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=10}var r=Math.pow(i,-e);return Math.floor(t*r)/r};t.exports=FloorTo},62945:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var FromPercent=function(t,e,i){t=r(t,0,1);return(i-e)*t+e};t.exports=FromPercent},38265:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetSpeed=function(t,e){return t/e/1e3};t.exports=GetSpeed},78702:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsEven=function(t){return t==parseFloat(t)?!(t%2):void 0};t.exports=IsEven},94883:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsEvenStrict=function(t){return t===parseFloat(t)?!(t%2):void 0};t.exports=IsEvenStrict},28915:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Linear=function(t,e,i){return(e-t)*i+t};t.exports=Linear},94908:t=>{
/**
               * @author       Greg McLean <GregDevProjects>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LinearXY=function(t,e,i){if(i===void 0){i=0}return t.clone().lerp(e,i)};t.exports=LinearXY},94434:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Matrix32(t){this.val=new Float32Array(9);if(t){this.copy(t)}else{this.identity()}},clone:function(){return new s(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val;var i=t.val;e[0]=i[0];e[1]=i[1];e[2]=i[2];e[3]=i[3];e[4]=i[4];e[5]=i[5];e[6]=i[6];e[7]=i[7];e[8]=i[8];return this},fromMat4:function(t){var e=t.val;var i=this.val;i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[4];i[4]=e[5];i[5]=e[6];i[6]=e[8];i[7]=e[9];i[8]=e[10];return this},fromArray:function(t){var e=this.val;e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];return this},identity:function(){var t=this.val;t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=1;t[5]=0;t[6]=0;t[7]=0;t[8]=1;return this},transpose:function(){var t=this.val;var e=t[1];var i=t[2];var r=t[5];t[1]=t[3];t[2]=t[6];t[3]=e;t[5]=t[7];t[6]=i;t[7]=r;return this},invert:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];var u=h*n-a*l;var c=-h*s+a*o;var f=l*s-n*o;var d=e*u+i*c+r*f;if(!d){return null}d=1/d;t[0]=u*d;t[1]=(-h*i+r*l)*d;t[2]=(a*i-r*n)*d;t[3]=c*d;t[4]=(h*e-r*o)*d;t[5]=(-a*e+r*s)*d;t[6]=f*d;t[7]=(-l*e+i*o)*d;t[8]=(n*e-i*s)*d;return this},adjoint:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];t[0]=n*h-a*l;t[1]=r*l-i*h;t[2]=i*a-r*n;t[3]=a*o-s*h;t[4]=e*h-r*o;t[5]=r*s-e*a;t[6]=s*l-n*o;t[7]=i*o-e*l;t[8]=e*n-i*s;return this},determinant:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];return e*(h*n-a*l)+i*(-h*s+a*o)+r*(l*s-n*o)},multiply:function(t){var e=this.val;var i=e[0];var r=e[1];var s=e[2];var n=e[3];var a=e[4];var o=e[5];var l=e[6];var h=e[7];var u=e[8];var c=t.val;var f=c[0];var d=c[1];var v=c[2];var p=c[3];var g=c[4];var m=c[5];var y=c[6];var x=c[7];var b=c[8];e[0]=f*i+d*n+v*l;e[1]=f*r+d*a+v*h;e[2]=f*s+d*o+v*u;e[3]=p*i+g*n+m*l;e[4]=p*r+g*a+m*h;e[5]=p*s+g*o+m*u;e[6]=y*i+x*n+b*l;e[7]=y*r+x*a+b*h;e[8]=y*s+x*o+b*u;return this},translate:function(t){var e=this.val;var i=t.x;var r=t.y;e[6]=i*e[0]+r*e[3]+e[6];e[7]=i*e[1]+r*e[4]+e[7];e[8]=i*e[2]+r*e[5]+e[8];return this},rotate:function(t){var e=this.val;var i=e[0];var r=e[1];var s=e[2];var n=e[3];var a=e[4];var o=e[5];var l=Math.sin(t);var h=Math.cos(t);e[0]=h*i+l*n;e[1]=h*r+l*a;e[2]=h*s+l*o;e[3]=h*n-l*i;e[4]=h*a-l*r;e[5]=h*o-l*s;return this},scale:function(t){var e=this.val;var i=t.x;var r=t.y;e[0]=i*e[0];e[1]=i*e[1];e[2]=i*e[2];e[3]=r*e[3];e[4]=r*e[4];e[5]=r*e[5];return this},fromQuat:function(t){var e=t.x;var i=t.y;var r=t.z;var s=t.w;var n=e+e;var a=i+i;var o=r+r;var l=e*n;var h=e*a;var u=e*o;var c=i*a;var f=i*o;var d=r*o;var v=s*n;var p=s*a;var g=s*o;var m=this.val;m[0]=1-(c+d);m[3]=h+g;m[6]=u-p;m[1]=h-g;m[4]=1-(l+d);m[7]=f+v;m[2]=u+p;m[5]=f-v;m[8]=1-(l+c);return this},normalFromMat4:function(t){var e=t.val;var i=this.val;var r=e[0];var s=e[1];var n=e[2];var a=e[3];var o=e[4];var l=e[5];var h=e[6];var u=e[7];var c=e[8];var f=e[9];var d=e[10];var v=e[11];var p=e[12];var g=e[13];var m=e[14];var y=e[15];var x=r*l-s*o;var b=r*h-n*o;var T=r*u-a*o;var w=s*h-n*l;var E=s*u-a*l;var S=n*u-a*h;var A=c*g-f*p;var C=c*m-d*p;var O=c*y-v*p;var P=f*m-d*g;var I=f*y-v*g;var R=d*y-v*m;var M=x*R-b*I+T*P+w*O-E*C+S*A;if(!M){return null}M=1/M;i[0]=(l*R-h*I+u*P)*M;i[1]=(h*O-o*R-u*C)*M;i[2]=(o*I-l*O+u*A)*M;i[3]=(n*I-s*R-a*P)*M;i[4]=(r*R-n*O+a*C)*M;i[5]=(s*O-r*I-a*A)*M;i[6]=(g*S-m*E+y*w)*M;i[7]=(m*T-p*S-y*b)*M;i[8]=(p*E-g*T+y*x)*M;return this}});t.exports=s},37867:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(25836);var n=1e-6;var a=new r({initialize:function Matrix42(t){this.val=new Float32Array(16);if(t){this.copy(t)}else{this.identity()}},clone:function(){return new a(this)},set:function(t){return this.copy(t)},setValues:function(t,e,i,r,s,n,a,o,l,h,u,c,f,d,v,p){var g=this.val;g[0]=t;g[1]=e;g[2]=i;g[3]=r;g[4]=s;g[5]=n;g[6]=a;g[7]=o;g[8]=l;g[9]=h;g[10]=u;g[11]=c;g[12]=f;g[13]=d;g[14]=v;g[15]=p;return this},copy:function(t){var e=t.val;return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromArray:function(t){return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(t,e,i){var r=o.fromQuat(i);var s=r.val;var n=e.x;var a=e.y;var l=e.z;return this.setValues(s[0]*n,s[1]*n,s[2]*n,0,s[4]*a,s[5]*a,s[6]*a,0,s[8]*l,s[9]*l,s[10]*l,0,t.x,t.y,t.z,1)},xyz:function(t,e,i){this.identity();var r=this.val;r[12]=t;r[13]=e;r[14]=i;return this},scaling:function(t,e,i){this.zero();var r=this.val;r[0]=t;r[5]=e;r[10]=i;r[15]=1;return this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var t=this.val;var e=t[1];var i=t[2];var r=t[3];var s=t[6];var n=t[7];var a=t[11];t[1]=t[4];t[2]=t[8];t[3]=t[12];t[4]=e;t[6]=t[9];t[7]=t[13];t[8]=i;t[9]=s;t[11]=t[14];t[12]=r;t[13]=n;t[14]=a;return this},getInverse:function(t){this.copy(t);return this.invert()},invert:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];var u=t[9];var c=t[10];var f=t[11];var d=t[12];var v=t[13];var p=t[14];var g=t[15];var m=e*a-i*n;var y=e*o-r*n;var x=e*l-s*n;var b=i*o-r*a;var T=i*l-s*a;var w=r*l-s*o;var E=h*v-u*d;var S=h*p-c*d;var A=h*g-f*d;var C=u*p-c*v;var O=u*g-f*v;var P=c*g-f*p;var I=m*P-y*O+x*C+b*A-T*S+w*E;if(!I){return this}I=1/I;return this.setValues((a*P-o*O+l*C)*I,(r*O-i*P-s*C)*I,(v*w-p*T+g*b)*I,(c*T-u*w-f*b)*I,(o*A-n*P-l*S)*I,(e*P-r*A+s*S)*I,(p*x-d*w-g*y)*I,(h*w-c*x+f*y)*I,(n*O-a*A+l*E)*I,(i*A-e*O-s*E)*I,(d*T-v*x+g*m)*I,(u*x-h*T-f*m)*I,(a*S-n*C-o*E)*I,(e*C-i*S+r*E)*I,(v*y-d*b-p*m)*I,(h*b-u*y+c*m)*I)},adjoint:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];var u=t[9];var c=t[10];var f=t[11];var d=t[12];var v=t[13];var p=t[14];var g=t[15];return this.setValues(a*(c*g-f*p)-u*(o*g-l*p)+v*(o*f-l*c),-(i*(c*g-f*p)-u*(r*g-s*p)+v*(r*f-s*c)),i*(o*g-l*p)-a*(r*g-s*p)+v*(r*l-s*o),-(i*(o*f-l*c)-a*(r*f-s*c)+u*(r*l-s*o)),-(n*(c*g-f*p)-h*(o*g-l*p)+d*(o*f-l*c)),e*(c*g-f*p)-h*(r*g-s*p)+d*(r*f-s*c),-(e*(o*g-l*p)-n*(r*g-s*p)+d*(r*l-s*o)),e*(o*f-l*c)-n*(r*f-s*c)+h*(r*l-s*o),n*(u*g-f*v)-h*(a*g-l*v)+d*(a*f-l*u),-(e*(u*g-f*v)-h*(i*g-s*v)+d*(i*f-s*u)),e*(a*g-l*v)-n*(i*g-s*v)+d*(i*l-s*a),-(e*(a*f-l*u)-n*(i*f-s*u)+h*(i*l-s*a)),-(n*(u*p-c*v)-h*(a*p-o*v)+d*(a*c-o*u)),e*(u*p-c*v)-h*(i*p-r*v)+d*(i*c-r*u),-(e*(a*p-o*v)-n*(i*p-r*v)+d*(i*o-r*a)),e*(a*c-o*u)-n*(i*c-r*u)+h*(i*o-r*a))},determinant:function(){var t=this.val;var e=t[0];var i=t[1];var r=t[2];var s=t[3];var n=t[4];var a=t[5];var o=t[6];var l=t[7];var h=t[8];var u=t[9];var c=t[10];var f=t[11];var d=t[12];var v=t[13];var p=t[14];var g=t[15];var m=e*a-i*n;var y=e*o-r*n;var x=e*l-s*n;var b=i*o-r*a;var T=i*l-s*a;var w=r*l-s*o;var E=h*v-u*d;var S=h*p-c*d;var A=h*g-f*d;var C=u*p-c*v;var O=u*g-f*v;var P=c*g-f*p;return m*P-y*O+x*C+b*A-T*S+w*E},multiply:function(t){var e=this.val;var i=e[0];var r=e[1];var s=e[2];var n=e[3];var a=e[4];var o=e[5];var l=e[6];var h=e[7];var u=e[8];var c=e[9];var f=e[10];var d=e[11];var v=e[12];var p=e[13];var g=e[14];var m=e[15];var y=t.val;var x=y[0];var b=y[1];var T=y[2];var w=y[3];e[0]=x*i+b*a+T*u+w*v;e[1]=x*r+b*o+T*c+w*p;e[2]=x*s+b*l+T*f+w*g;e[3]=x*n+b*h+T*d+w*m;x=y[4];b=y[5];T=y[6];w=y[7];e[4]=x*i+b*a+T*u+w*v;e[5]=x*r+b*o+T*c+w*p;e[6]=x*s+b*l+T*f+w*g;e[7]=x*n+b*h+T*d+w*m;x=y[8];b=y[9];T=y[10];w=y[11];e[8]=x*i+b*a+T*u+w*v;e[9]=x*r+b*o+T*c+w*p;e[10]=x*s+b*l+T*f+w*g;e[11]=x*n+b*h+T*d+w*m;x=y[12];b=y[13];T=y[14];w=y[15];e[12]=x*i+b*a+T*u+w*v;e[13]=x*r+b*o+T*c+w*p;e[14]=x*s+b*l+T*f+w*g;e[15]=x*n+b*h+T*d+w*m;return this},multiplyLocal:function(t){var e=this.val;var i=t.val;return this.setValues(e[0]*i[0]+e[1]*i[4]+e[2]*i[8]+e[3]*i[12],e[0]*i[1]+e[1]*i[5]+e[2]*i[9]+e[3]*i[13],e[0]*i[2]+e[1]*i[6]+e[2]*i[10]+e[3]*i[14],e[0]*i[3]+e[1]*i[7]+e[2]*i[11]+e[3]*i[15],e[4]*i[0]+e[5]*i[4]+e[6]*i[8]+e[7]*i[12],e[4]*i[1]+e[5]*i[5]+e[6]*i[9]+e[7]*i[13],e[4]*i[2]+e[5]*i[6]+e[6]*i[10]+e[7]*i[14],e[4]*i[3]+e[5]*i[7]+e[6]*i[11]+e[7]*i[15],e[8]*i[0]+e[9]*i[4]+e[10]*i[8]+e[11]*i[12],e[8]*i[1]+e[9]*i[5]+e[10]*i[9]+e[11]*i[13],e[8]*i[2]+e[9]*i[6]+e[10]*i[10]+e[11]*i[14],e[8]*i[3]+e[9]*i[7]+e[10]*i[11]+e[11]*i[15],e[12]*i[0]+e[13]*i[4]+e[14]*i[8]+e[15]*i[12],e[12]*i[1]+e[13]*i[5]+e[14]*i[9]+e[15]*i[13],e[12]*i[2]+e[13]*i[6]+e[14]*i[10]+e[15]*i[14],e[12]*i[3]+e[13]*i[7]+e[14]*i[11]+e[15]*i[15])},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.val;var r=e.val;var s=i[0];var n=i[4];var a=i[8];var o=i[12];var l=i[1];var h=i[5];var u=i[9];var c=i[13];var f=i[2];var d=i[6];var v=i[10];var p=i[14];var g=i[3];var m=i[7];var y=i[11];var x=i[15];var b=r[0];var T=r[4];var w=r[8];var E=r[12];var S=r[1];var A=r[5];var C=r[9];var O=r[13];var P=r[2];var I=r[6];var R=r[10];var M=r[14];var L=r[3];var D=r[7];var k=r[11];var F=r[15];return this.setValues(s*b+n*S+a*P+o*L,l*b+h*S+u*P+c*L,f*b+d*S+v*P+p*L,g*b+m*S+y*P+x*L,s*T+n*A+a*I+o*D,l*T+h*A+u*I+c*D,f*T+d*A+v*I+p*D,g*T+m*A+y*I+x*D,s*w+n*C+a*R+o*k,l*w+h*C+u*R+c*k,f*w+d*C+v*R+p*k,g*w+m*C+y*R+x*k,s*E+n*O+a*M+o*F,l*E+h*O+u*M+c*F,f*E+d*O+v*M+p*F,g*E+m*O+y*M+x*F)},translate:function(t){return this.translateXYZ(t.x,t.y,t.z)},translateXYZ:function(t,e,i){var r=this.val;r[12]=r[0]*t+r[4]*e+r[8]*i+r[12];r[13]=r[1]*t+r[5]*e+r[9]*i+r[13];r[14]=r[2]*t+r[6]*e+r[10]*i+r[14];r[15]=r[3]*t+r[7]*e+r[11]*i+r[15];return this},scale:function(t){return this.scaleXYZ(t.x,t.y,t.z)},scaleXYZ:function(t,e,i){var r=this.val;r[0]=r[0]*t;r[1]=r[1]*t;r[2]=r[2]*t;r[3]=r[3]*t;r[4]=r[4]*e;r[5]=r[5]*e;r[6]=r[6]*e;r[7]=r[7]*e;r[8]=r[8]*i;r[9]=r[9]*i;r[10]=r[10]*i;r[11]=r[11]*i;return this},makeRotationAxis:function(t,e){var i=Math.cos(e);var r=Math.sin(e);var s=1-i;var n=t.x;var a=t.y;var o=t.z;var l=s*n;var h=s*a;return this.setValues(l*n+i,l*a-r*o,l*o+r*a,0,l*a+r*o,h*a+i,h*o-r*n,0,l*o-r*a,h*o+r*n,s*o*o+i,0,0,0,0,1)},rotate:function(t,e){var i=this.val;var r=e.x;var s=e.y;var a=e.z;var o=Math.sqrt(r*r+s*s+a*a);if(Math.abs(o)<n){return this}o=1/o;r*=o;s*=o;a*=o;var l=Math.sin(t);var h=Math.cos(t);var u=1-h;var c=i[0];var f=i[1];var d=i[2];var v=i[3];var p=i[4];var g=i[5];var m=i[6];var y=i[7];var x=i[8];var b=i[9];var T=i[10];var w=i[11];var E=i[12];var S=i[13];var A=i[14];var C=i[15];var O=r*r*u+h;var P=s*r*u+a*l;var I=a*r*u-s*l;var R=r*s*u-a*l;var M=s*s*u+h;var L=a*s*u+r*l;var D=r*a*u+s*l;var k=s*a*u-r*l;var F=a*a*u+h;return this.setValues(c*O+p*P+x*I,f*O+g*P+b*I,d*O+m*P+T*I,v*O+y*P+w*I,c*R+p*M+x*L,f*R+g*M+b*L,d*R+m*M+T*L,v*R+y*M+w*L,c*D+p*k+x*F,f*D+g*k+b*F,d*D+m*k+T*F,v*D+y*k+w*F,E,S,A,C)},rotateX:function(t){var e=this.val;var i=Math.sin(t);var r=Math.cos(t);var s=e[4];var n=e[5];var a=e[6];var o=e[7];var l=e[8];var h=e[9];var u=e[10];var c=e[11];e[4]=s*r+l*i;e[5]=n*r+h*i;e[6]=a*r+u*i;e[7]=o*r+c*i;e[8]=l*r-s*i;e[9]=h*r-n*i;e[10]=u*r-a*i;e[11]=c*r-o*i;return this},rotateY:function(t){var e=this.val;var i=Math.sin(t);var r=Math.cos(t);var s=e[0];var n=e[1];var a=e[2];var o=e[3];var l=e[8];var h=e[9];var u=e[10];var c=e[11];e[0]=s*r-l*i;e[1]=n*r-h*i;e[2]=a*r-u*i;e[3]=o*r-c*i;e[8]=s*i+l*r;e[9]=n*i+h*r;e[10]=a*i+u*r;e[11]=o*i+c*r;return this},rotateZ:function(t){var e=this.val;var i=Math.sin(t);var r=Math.cos(t);var s=e[0];var n=e[1];var a=e[2];var o=e[3];var l=e[4];var h=e[5];var u=e[6];var c=e[7];e[0]=s*r+l*i;e[1]=n*r+h*i;e[2]=a*r+u*i;e[3]=o*r+c*i;e[4]=l*r-s*i;e[5]=h*r-n*i;e[6]=u*r-a*i;e[7]=c*r-o*i;return this},fromRotationTranslation:function(t,e){var i=t.x;var r=t.y;var s=t.z;var n=t.w;var a=i+i;var o=r+r;var l=s+s;var h=i*a;var u=i*o;var c=i*l;var f=r*o;var d=r*l;var v=s*l;var p=n*a;var g=n*o;var m=n*l;return this.setValues(1-(f+v),u+m,c-g,0,u-m,1-(h+v),d+p,0,c+g,d-p,1-(h+f),0,e.x,e.y,e.z,1)},fromQuat:function(t){var e=t.x;var i=t.y;var r=t.z;var s=t.w;var n=e+e;var a=i+i;var o=r+r;var l=e*n;var h=e*a;var u=e*o;var c=i*a;var f=i*o;var d=r*o;var v=s*n;var p=s*a;var g=s*o;return this.setValues(1-(c+d),h+g,u-p,0,h-g,1-(l+d),f+v,0,u+p,f-v,1-(l+c),0,0,0,0,1)},frustum:function(t,e,i,r,s,n){var a=1/(e-t);var o=1/(r-i);var l=1/(s-n);return this.setValues(s*2*a,0,0,0,0,s*2*o,0,0,(e+t)*a,(r+i)*o,(n+s)*l,-1,0,0,n*s*2*l,0)},perspective:function(t,e,i,r){var s=1/Math.tan(t/2);var n=1/(i-r);return this.setValues(s/e,0,0,0,0,s,0,0,0,0,(r+i)*n,-1,0,0,2*r*i*n,0)},perspectiveLH:function(t,e,i,r){return this.setValues(2*i/t,0,0,0,0,2*i/e,0,0,0,0,-r/(i-r),1,0,0,i*r/(i-r),0)},ortho:function(t,e,i,r,s,n){var a=t-e;var o=i-r;var l=s-n;a=a===0?a:1/a;o=o===0?o:1/o;l=l===0?l:1/l;return this.setValues(-2*a,0,0,0,0,-2*o,0,0,0,0,2*l,0,(t+e)*a,(r+i)*o,(n+s)*l,1)},lookAtRH:function(t,e,i){var r=this.val;c.subVectors(t,e);if(c.lengthSq()===0){c.z=1}c.normalize();h.crossVectors(i,c);if(h.lengthSq()===0){if(Math.abs(i.z)===1){c.x+=1e-4}else{c.z+=1e-4}c.normalize();h.crossVectors(i,c)}h.normalize();u.crossVectors(c,h);r[0]=h.x;r[1]=h.y;r[2]=h.z;r[4]=u.x;r[5]=u.y;r[6]=u.z;r[8]=c.x;r[9]=c.y;r[10]=c.z;return this},lookAt:function(t,e,i){var r=t.x;var s=t.y;var a=t.z;var o=i.x;var l=i.y;var h=i.z;var u=e.x;var c=e.y;var f=e.z;if(Math.abs(r-u)<n&&Math.abs(s-c)<n&&Math.abs(a-f)<n){return this.identity()}var d=r-u;var v=s-c;var p=a-f;var g=1/Math.sqrt(d*d+v*v+p*p);d*=g;v*=g;p*=g;var m=l*p-h*v;var y=h*d-o*p;var x=o*v-l*d;g=Math.sqrt(m*m+y*y+x*x);if(!g){m=0;y=0;x=0}else{g=1/g;m*=g;y*=g;x*=g}var b=v*x-p*y;var T=p*m-d*x;var w=d*y-v*m;g=Math.sqrt(b*b+T*T+w*w);if(!g){b=0;T=0;w=0}else{g=1/g;b*=g;T*=g;w*=g}return this.setValues(m,b,d,0,y,T,v,0,x,w,p,0,-(m*r+y*s+x*a),-(b*r+T*s+w*a),-(d*r+v*s+p*a),1)},yawPitchRoll:function(t,e,i){this.zero();o.zero();l.zero();var r=this.val;var s=o.val;var n=l.val;var a=Math.sin(i);var h=Math.cos(i);r[10]=1;r[15]=1;r[0]=h;r[1]=a;r[4]=-a;r[5]=h;a=Math.sin(e);h=Math.cos(e);s[0]=1;s[15]=1;s[5]=h;s[10]=h;s[9]=-a;s[6]=a;a=Math.sin(t);h=Math.cos(t);n[5]=1;n[15]=1;n[0]=h;n[2]=-a;n[8]=a;n[10]=h;this.multiplyLocal(o);this.multiplyLocal(l);return this},setWorldMatrix:function(t,e,i,r,s){this.yawPitchRoll(t.y,t.x,t.z);o.scaling(i.x,i.y,i.z);l.xyz(e.x,e.y,e.z);this.multiplyLocal(o);this.multiplyLocal(l);if(r){this.multiplyLocal(r)}if(s){this.multiplyLocal(s)}return this},multiplyToMat4:function(t,e){var i=this.val;var r=t.val;var s=i[0];var n=i[1];var a=i[2];var o=i[3];var l=i[4];var h=i[5];var u=i[6];var c=i[7];var f=i[8];var d=i[9];var v=i[10];var p=i[11];var g=i[12];var m=i[13];var y=i[14];var x=i[15];var b=r[0];var T=r[1];var w=r[2];var E=r[3];var S=r[4];var A=r[5];var C=r[6];var O=r[7];var P=r[8];var I=r[9];var R=r[10];var M=r[11];var L=r[12];var D=r[13];var k=r[14];var F=r[15];return e.setValues(b*s+T*l+w*f+E*g,T*n+T*h+w*d+E*m,w*a+T*u+w*v+E*y,E*o+T*c+w*p+E*x,S*s+A*l+C*f+O*g,S*n+A*h+C*d+O*m,S*a+A*u+C*v+O*y,S*o+A*c+C*p+O*x,P*s+I*l+R*f+M*g,P*n+I*h+R*d+M*m,P*a+I*u+R*v+M*y,P*o+I*c+R*p+M*x,L*s+D*l+k*f+F*g,L*n+D*h+k*d+F*m,L*a+D*u+k*v+F*y,L*o+D*c+k*p+F*x)},fromRotationXYTranslation:function(t,e,i){var r=e.x;var s=e.y;var n=e.z;var a=Math.sin(t.x);var o=Math.cos(t.x);var l=Math.sin(t.y);var h=Math.cos(t.y);var u=r;var c=s;var f=n;var d=-a;var v=0-d*l;var p=0-o*l;var g=d*h;var m=o*h;if(!i){u=h*r+l*n;c=v*r+o*s+g*n;f=p*r+a*s+m*n}return this.setValues(h,v,p,0,0,o,a,0,l,g,m,0,u,c,f,1)},getMaxScaleOnAxis:function(){var t=this.val;var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];var i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6];var r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}});var o=new a;var l=new a;var h=new s;var u=new s;var c=new s;t.exports=a},86883:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MaxAdd=function(t,e,i){return Math.min(t+e,i)};t.exports=MaxAdd},50040:t=>{
/**
               * @author       Vladislav Forsh <vlad@robowhale.com>
               * @copyright    2021 RoboWhale
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Median=function(t){var e=t.length;if(e===0){return 0}t.sort((function(t,e){return t-e}));var i=Math.floor(e/2);return e%2===0?(t[i]+t[i-1])/2:t[i]};t.exports=Median},37204:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MinSub=function(t,e,i){return Math.max(t-e,i)};t.exports=MinSub},65201:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Percent=function(t,e,i,r){if(i===void 0){i=e+1}var s=(t-e)/(i-e);if(s>1){if(r!==void 0){s=(r-t)/(r-i);if(s<0){s=0}}else{s=1}}else if(s<0){s=0}return s};t.exports=Percent},15746:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(94434);var n=i(29747);var a=i(25836);var o=1e-6;var l=new Int8Array([1,2,0]);var h=new Float32Array([0,0,0]);var u=new a(1,0,0);var c=new a(0,1,0);var f=new a;var d=new s;var v=new r({initialize:function Quaternion2(t,e,i,r){this.onChangeCallback=n;this.set(t,e,i,r)},x:{get:function(){return this._x},set:function(t){this._x=t;this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t;this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(t){this._w=t;this.onChangeCallback(this)}},copy:function(t){return this.set(t)},set:function(t,e,i,r,s){if(s===void 0){s=true}if(typeof t==="object"){this._x=t.x||0;this._y=t.y||0;this._z=t.z||0;this._w=t.w||0}else{this._x=t||0;this._y=e||0;this._z=i||0;this._w=r||0}if(s){this.onChangeCallback(this)}return this},add:function(t){this._x+=t.x;this._y+=t.y;this._z+=t.z;this._w+=t.w;this.onChangeCallback(this);return this},subtract:function(t){this._x-=t.x;this._y-=t.y;this._z-=t.z;this._w-=t.w;this.onChangeCallback(this);return this},scale:function(t){this._x*=t;this._y*=t;this._z*=t;this._w*=t;this.onChangeCallback(this);return this},length:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;var s=t*t+e*e+i*i+r*r;if(s>0){s=1/Math.sqrt(s);this._x=t*s;this._y=e*s;this._z=i*s;this._w=r*s}this.onChangeCallback(this);return this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){if(e===void 0){e=0}var i=this.x;var r=this.y;var s=this.z;var n=this.w;return this.set(i+e*(t.x-i),r+e*(t.y-r),s+e*(t.z-s),n+e*(t.w-n))},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;if(i<-.999999){if(f.copy(u).cross(t).length()<o){f.copy(c).cross(t)}f.normalize();return this.setAxisAngle(f,Math.PI)}else if(i>.999999){return this.set(0,0,0,1)}else{f.copy(t).cross(e);this._x=f.x;this._y=f.y;this._z=f.z;this._w=1+i;return this.normalize()}},setAxes:function(t,e,i){var r=d.val;r[0]=e.x;r[3]=e.y;r[6]=e.z;r[1]=i.x;r[4]=i.y;r[7]=i.z;r[2]=-t.x;r[5]=-t.y;r[8]=-t.z;return this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(t,e){e=e*.5;var i=Math.sin(e);return this.set(i*t.x,i*t.y,i*t.z,Math.cos(e))},multiply:function(t){var e=this.x;var i=this.y;var r=this.z;var s=this.w;var n=t.x;var a=t.y;var o=t.z;var l=t.w;return this.set(e*l+s*n+i*o-r*a,i*l+s*a+r*n-e*o,r*l+s*o+e*a-i*n,s*l-e*n-i*a-r*o)},slerp:function(t,e){var i=this.x;var r=this.y;var s=this.z;var n=this.w;var a=t.x;var l=t.y;var h=t.z;var u=t.w;var c=i*a+r*l+s*h+n*u;if(c<0){c=-c;a=-a;l=-l;h=-h;u=-u}var f=1-e;var d=e;if(1-c>o){var v=Math.acos(c);var p=Math.sin(v);f=Math.sin((1-e)*v)/p;d=Math.sin(e*v)/p}return this.set(f*i+d*a,f*r+d*l,f*s+d*h,f*n+d*u)},invert:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;var s=t*t+e*e+i*i+r*r;var n=s?1/s:0;return this.set(-t*n,-e*n,-i*n,r*n)},conjugate:function(){this._x=-this.x;this._y=-this.y;this._z=-this.z;this.onChangeCallback(this);return this},rotateX:function(t){t*=.5;var e=this.x;var i=this.y;var r=this.z;var s=this.w;var n=Math.sin(t);var a=Math.cos(t);return this.set(e*a+s*n,i*a+r*n,r*a-i*n,s*a-e*n)},rotateY:function(t){t*=.5;var e=this.x;var i=this.y;var r=this.z;var s=this.w;var n=Math.sin(t);var a=Math.cos(t);return this.set(e*a-r*n,i*a+s*n,r*a+e*n,s*a-i*n)},rotateZ:function(t){t*=.5;var e=this.x;var i=this.y;var r=this.z;var s=this.w;var n=Math.sin(t);var a=Math.cos(t);return this.set(e*a+i*n,i*a-e*n,r*a+s*n,s*a-r*n)},calculateW:function(){var t=this.x;var e=this.y;var i=this.z;this.w=-Math.sqrt(1-t*t-e*e-i*i);return this},setFromEuler:function(t,e){var i=t.x/2;var r=t.y/2;var s=t.z/2;var n=Math.cos(i);var a=Math.cos(r);var o=Math.cos(s);var l=Math.sin(i);var h=Math.sin(r);var u=Math.sin(s);switch(t.order){case"XYZ":{this.set(l*a*o+n*h*u,n*h*o-l*a*u,n*a*u+l*h*o,n*a*o-l*h*u,e);break}case"YXZ":{this.set(l*a*o+n*h*u,n*h*o-l*a*u,n*a*u-l*h*o,n*a*o+l*h*u,e);break}case"ZXY":{this.set(l*a*o-n*h*u,n*h*o+l*a*u,n*a*u+l*h*o,n*a*o-l*h*u,e);break}case"ZYX":{this.set(l*a*o-n*h*u,n*h*o+l*a*u,n*a*u-l*h*o,n*a*o+l*h*u,e);break}case"YZX":{this.set(l*a*o+n*h*u,n*h*o+l*a*u,n*a*u-l*h*o,n*a*o-l*h*u,e);break}case"XZY":{this.set(l*a*o-n*h*u,n*h*o-l*a*u,n*a*u+l*h*o,n*a*o+l*h*u,e);break}}return this},setFromRotationMatrix:function(t){var e=t.val;var i=e[0];var r=e[4];var s=e[8];var n=e[1];var a=e[5];var o=e[9];var l=e[2];var h=e[6];var u=e[10];var c=i+a+u;var f;if(c>0){f=.5/Math.sqrt(c+1);this.set((h-o)*f,(s-l)*f,(n-r)*f,.25/f)}else if(i>a&&i>u){f=2*Math.sqrt(1+i-a-u);this.set(.25*f,(r+n)/f,(s+l)/f,(h-o)/f)}else if(a>u){f=2*Math.sqrt(1+a-i-u);this.set((r+n)/f,.25*f,(o+h)/f,(s-l)/f)}else{f=2*Math.sqrt(1+u-i-a);this.set((s+l)/f,(o+h)/f,.25*f,(n-r)/f)}return this},fromMat3:function(t){var e=t.val;var i=e[0]+e[4]+e[8];var r;if(i>0){r=Math.sqrt(i+1);this.w=.5*r;r=.5/r;this._x=(e[7]-e[5])*r;this._y=(e[2]-e[6])*r;this._z=(e[3]-e[1])*r}else{var s=0;if(e[4]>e[0]){s=1}if(e[8]>e[s*3+s]){s=2}var n=l[s];var a=l[n];r=Math.sqrt(e[s*3+s]-e[n*3+n]-e[a*3+a]+1);h[s]=.5*r;r=.5/r;h[n]=(e[n*3+s]+e[s*3+n])*r;h[a]=(e[a*3+s]+e[s*3+a])*r;this._x=h[0];this._y=h[1];this._z=h[2];this._w=(e[a*3+n]-e[n*3+a])*r}this.onChangeCallback(this);return this}});t.exports=v},43396:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var RadToDeg=function(t){return t*r.RAD_TO_DEG};t.exports=RadToDeg},74362:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RandomXY=function(t,e){if(e===void 0){e=1}var i=Math.random()*2*Math.PI;t.x=Math.cos(i)*e;t.y=Math.sin(i)*e;return t};t.exports=RandomXY},60706:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RandomXYZ=function(t,e){if(e===void 0){e=1}var i=Math.random()*2*Math.PI;var r=Math.random()*2-1;var s=Math.sqrt(1-r*r)*e;t.x=Math.cos(i)*s;t.y=Math.sin(i)*s;t.z=r*e;return t};t.exports=RandomXYZ},67421:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RandomXYZW=function(t,e){if(e===void 0){e=1}t.x=(Math.random()*2-1)*e;t.y=(Math.random()*2-1)*e;t.z=(Math.random()*2-1)*e;t.w=(Math.random()*2-1)*e;return t};t.exports=RandomXYZW},36305:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Rotate=function(t,e){var i=t.x;var r=t.y;t.x=i*Math.cos(e)-r*Math.sin(e);t.y=i*Math.sin(e)+r*Math.cos(e);return t};t.exports=Rotate},11520:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAround=function(t,e,i,r){var s=Math.cos(r);var n=Math.sin(r);var a=t.x-e;var o=t.y-i;t.x=a*s-o*n+e;t.y=a*n+o*s+i;return t};t.exports=RotateAround},1163:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateAroundDistance=function(t,e,i,r,s){var n=r+Math.atan2(t.y-i,t.x-e);t.x=e+s*Math.cos(n);t.y=i+s*Math.sin(n);return t};t.exports=RotateAroundDistance},70336:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateTo=function(t,e,i,r,s){t.x=e+s*Math.cos(r);t.y=i+s*Math.sin(r);return t};t.exports=RotateTo},72678:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(25836);var s=i(37867);var n=i(15746);var a=new s;var o=new n;var l=new r;var RotateVec3=function(t,e,i){o.setAxisAngle(e,i);a.fromRotationTranslation(o,l.set(0,0,0));return t.transformMat4(a)};t.exports=RotateVec3},2284:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RoundAwayFromZero=function(t){return t>0?Math.ceil(t):Math.floor(t)};t.exports=RoundAwayFromZero},41013:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RoundTo=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=10}var r=Math.pow(i,-e);return Math.round(t*r)/r};t.exports=RoundTo},16922:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SinCosTableGenerator=function(t,e,i,r){if(e===void 0){e=1}if(i===void 0){i=1}if(r===void 0){r=1}r*=Math.PI/t;var s=[];var n=[];for(var a=0;a<t;a++){i-=e*r;e+=i*r;s[a]=i;n[a]=e}return{sin:n,cos:s,length:t}};t.exports=SinCosTableGenerator},7602:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SmoothStep=function(t,e,i){if(t<=e){return 0}if(t>=i){return 1}t=(t-e)/(i-e);return t*t*(3-2*t)};t.exports=SmoothStep},54261:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SmootherStep=function(t,e,i){t=Math.max(0,Math.min(1,(t-e)/(i-e)));return t*t*t*(t*(t*6-15)+10)};t.exports=SmootherStep},44408:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var ToXY=function(t,e,i,s){if(s===void 0){s=new r}var n=0;var a=0;var o=e*i;if(t>0&&t<=o){if(t>e-1){a=Math.floor(t/e);n=t-a*e}else{n=t}}return s.set(n,a)};t.exports=ToXY},85955:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var TransformXY=function(t,e,i,s,n,a,o,l){if(l===void 0){l=new r}var h=Math.sin(n);var u=Math.cos(n);var c=u*a;var f=h*a;var d=-h*o;var v=u*o;var p=1/(c*v+d*-f);l.x=v*p*t+-d*p*e+(s*d-i*v)*p;l.y=c*p*e+-f*p*t+(-s*c+i*f)*p;return l};t.exports=TransformXY},26099:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(43855);var n=new r({initialize:function Vector22(t,e){this.x=0;this.y=0;if(typeof t==="object"){this.x=t.x||0;this.y=t.y||0}else{if(e===void 0){e=t}this.x=t||0;this.y=e||0}},clone:function(){return new n(this.x,this.y)},copy:function(t){this.x=t.x||0;this.y=t.y||0;return this},setFromObject:function(t){this.x=t.x||0;this.y=t.y||0;return this},set:function(t,e){if(e===void 0){e=t}this.x=t;this.y=e;return this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){if(e==null){e=1}this.x=Math.cos(t)*e;this.y=Math.sin(t)*e;return this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,e){return s(this.x,t.x,e)&&s(this.y,t.y,e)},angle:function(){var t=Math.atan2(this.y,this.x);if(t<0){t+=2*Math.PI}return t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(t){this.x-=t.x;this.y-=t.y;return this},multiply:function(t){this.x*=t.x;this.y*=t.y;return this},scale:function(t){if(isFinite(t)){this.x*=t;this.y*=t}else{this.x=0;this.y=0}return this},divide:function(t){this.x/=t.x;this.y/=t.y;return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},distance:function(t){var e=t.x-this.x;var i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x;var i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x;var e=this.y;return Math.sqrt(t*t+e*e)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x;var e=this.y;return t*t+e*e},normalize:function(){var t=this.x;var e=this.y;var i=t*t+e*e;if(i>0){i=1/Math.sqrt(i);this.x=t*i;this.y=e*i}return this},normalizeRightHand:function(){var t=this.x;this.x=this.y*-1;this.y=t;return this},normalizeLeftHand:function(){var t=this.x;this.x=this.y;this.y=t*-1;return this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){if(e===void 0){e=0}var i=this.x;var r=this.y;this.x=i+e*(t.x-i);this.y=r+e*(t.y-r);return this},transformMat3:function(t){var e=this.x;var i=this.y;var r=t.val;this.x=r[0]*e+r[3]*i+r[6];this.y=r[1]*e+r[4]*i+r[7];return this},transformMat4:function(t){var e=this.x;var i=this.y;var r=t.val;this.x=r[0]*e+r[4]*i+r[12];this.y=r[1]*e+r[5]*i+r[13];return this},reset:function(){this.x=0;this.y=0;return this},limit:function(t){var e=this.length();if(e&&e>t){this.scale(t/e)}return this},reflect:function(t){t=t.clone().normalize();return this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var e=Math.cos(t);var i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)},project:function(t){var e=this.dot(t)/t.dot(t);return this.copy(t).scale(e)}});n.ZERO=new n;n.RIGHT=new n(1,0);n.LEFT=new n(-1,0);n.UP=new n(0,-1);n.DOWN=new n(0,1);n.ONE=new n(1,1);t.exports=n},25836:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Vector32(t,e,i){this.x=0;this.y=0;this.z=0;if(typeof t==="object"){this.x=t.x||0;this.y=t.y||0;this.z=t.z||0}else{this.x=t||0;this.y=e||0;this.z=i||0}},up:function(){this.x=0;this.y=1;this.z=0;return this},min:function(t){this.x=Math.min(this.x,t.x);this.y=Math.min(this.y,t.y);this.z=Math.min(this.z,t.z);return this},max:function(t){this.x=Math.max(this.x,t.x);this.y=Math.max(this.y,t.y);this.z=Math.max(this.z,t.z);return this},clone:function(){return new s(this.x,this.y,this.z)},addVectors:function(t,e){this.x=t.x+e.x;this.y=t.y+e.y;this.z=t.z+e.z;return this},subVectors:function(t,e){this.x=t.x-e.x;this.y=t.y-e.y;this.z=t.z-e.z;return this},crossVectors:function(t,e){var i=t.x;var r=t.y;var s=t.z;var n=e.x;var a=e.y;var o=e.z;this.x=r*o-s*a;this.y=s*n-i*o;this.z=i*a-r*n;return this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){this.x=t.x;this.y=t.y;this.z=t.z||0;return this},set:function(t,e,i){if(typeof t==="object"){this.x=t.x||0;this.y=t.y||0;this.z=t.z||0}else{this.x=t||0;this.y=e||0;this.z=i||0}return this},setFromMatrixPosition:function(t){return this.fromArray(t.val,12)},setFromMatrixColumn:function(t,e){return this.fromArray(t.val,e*4)},fromArray:function(t,e){if(e===void 0){e=0}this.x=t[e];this.y=t[e+1];this.z=t[e+2];return this},add:function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z||0;return this},addScalar:function(t){this.x+=t;this.y+=t;this.z+=t;return this},addScale:function(t,e){this.x+=t.x*e;this.y+=t.y*e;this.z+=t.z*e||0;return this},subtract:function(t){this.x-=t.x;this.y-=t.y;this.z-=t.z||0;return this},multiply:function(t){this.x*=t.x;this.y*=t.y;this.z*=t.z||1;return this},scale:function(t){if(isFinite(t)){this.x*=t;this.y*=t;this.z*=t}else{this.x=0;this.y=0;this.z=0}return this},divide:function(t){this.x/=t.x;this.y/=t.y;this.z/=t.z||1;return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},distance:function(t){var e=t.x-this.x;var i=t.y-this.y;var r=t.z-this.z||0;return Math.sqrt(e*e+i*i+r*r)},distanceSq:function(t){var e=t.x-this.x;var i=t.y-this.y;var r=t.z-this.z||0;return e*e+i*i+r*r},length:function(){var t=this.x;var e=this.y;var i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x;var e=this.y;var i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x;var e=this.y;var i=this.z;var r=t*t+e*e+i*i;if(r>0){r=1/Math.sqrt(r);this.x=t*r;this.y=e*r;this.z=i*r}return this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.x;var n=t.y;var a=t.z;this.x=i*a-r*n;this.y=r*s-e*a;this.z=e*n-i*s;return this},lerp:function(t,e){if(e===void 0){e=0}var i=this.x;var r=this.y;var s=this.z;this.x=i+e*(t.x-i);this.y=r+e*(t.y-r);this.z=s+e*(t.z-s);return this},applyMatrix3:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;this.x=s[0]*e+s[3]*i+s[6]*r;this.y=s[1]*e+s[4]*i+s[7]*r;this.z=s[2]*e+s[5]*i+s[8]*r;return this},applyMatrix4:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;var n=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*n;this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*n;this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*n;return this},transformMat3:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;this.x=e*s[0]+i*s[3]+r*s[6];this.y=e*s[1]+i*s[4]+r*s[7];this.z=e*s[2]+i*s[5]+r*s[8];return this},transformMat4:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;this.x=s[0]*e+s[4]*i+s[8]*r+s[12];this.y=s[1]*e+s[5]*i+s[9]*r+s[13];this.z=s[2]*e+s[6]*i+s[10]*r+s[14];return this},transformCoordinates:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;var n=e*s[0]+i*s[4]+r*s[8]+s[12];var a=e*s[1]+i*s[5]+r*s[9]+s[13];var o=e*s[2]+i*s[6]+r*s[10]+s[14];var l=e*s[3]+i*s[7]+r*s[11]+s[15];this.x=n/l;this.y=a/l;this.z=o/l;return this},transformQuat:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.x;var n=t.y;var a=t.z;var o=t.w;var l=o*e+n*r-a*i;var h=o*i+a*e-s*r;var u=o*r+s*i-n*e;var c=-s*e-n*i-a*r;this.x=l*o+c*-s+h*-a-u*-n;this.y=h*o+c*-n+u*-s-l*-a;this.z=u*o+c*-a+l*-n-h*-s;return this},project:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.val;var n=s[0];var a=s[1];var o=s[2];var l=s[3];var h=s[4];var u=s[5];var c=s[6];var f=s[7];var d=s[8];var v=s[9];var p=s[10];var g=s[11];var m=s[12];var y=s[13];var x=s[14];var b=s[15];var T=1/(e*l+i*f+r*g+b);this.x=(e*n+i*h+r*d+m)*T;this.y=(e*a+i*u+r*v+y)*T;this.z=(e*o+i*c+r*p+x)*T;return this},projectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unprojectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unproject:function(t,e){var i=t.x;var r=t.y;var s=t.z;var n=t.w;var a=this.x-i;var o=n-this.y-1-r;var l=this.z;this.x=2*a/s-1;this.y=2*o/n-1;this.z=2*l-1;return this.project(e)},reset:function(){this.x=0;this.y=0;this.z=0;return this}});s.ZERO=new s;s.RIGHT=new s(1,0,0);s.LEFT=new s(-1,0,0);s.UP=new s(0,-1,0);s.DOWN=new s(0,1,0);s.FORWARD=new s(0,0,1);s.BACK=new s(0,0,-1);s.ONE=new s(1,1,1);t.exports=s},61369:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Vector42(t,e,i,r){this.x=0;this.y=0;this.z=0;this.w=0;if(typeof t==="object"){this.x=t.x||0;this.y=t.y||0;this.z=t.z||0;this.w=t.w||0}else{this.x=t||0;this.y=e||0;this.z=i||0;this.w=r||0}},clone:function(){return new s(this.x,this.y,this.z,this.w)},copy:function(t){this.x=t.x;this.y=t.y;this.z=t.z||0;this.w=t.w||0;return this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,r){if(typeof t==="object"){this.x=t.x||0;this.y=t.y||0;this.z=t.z||0;this.w=t.w||0}else{this.x=t||0;this.y=e||0;this.z=i||0;this.w=r||0}return this},add:function(t){this.x+=t.x;this.y+=t.y;this.z+=t.z||0;this.w+=t.w||0;return this},subtract:function(t){this.x-=t.x;this.y-=t.y;this.z-=t.z||0;this.w-=t.w||0;return this},scale:function(t){this.x*=t;this.y*=t;this.z*=t;this.w*=t;return this},length:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x;var e=this.y;var i=this.z;var r=this.w;var s=t*t+e*e+i*i+r*r;if(s>0){s=1/Math.sqrt(s);this.x=t*s;this.y=e*s;this.z=i*s;this.w=r*s}return this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){if(e===void 0){e=0}var i=this.x;var r=this.y;var s=this.z;var n=this.w;this.x=i+e*(t.x-i);this.y=r+e*(t.y-r);this.z=s+e*(t.z-s);this.w=n+e*(t.w-n);return this},multiply:function(t){this.x*=t.x;this.y*=t.y;this.z*=t.z||1;this.w*=t.w||1;return this},divide:function(t){this.x/=t.x;this.y/=t.y;this.z/=t.z||1;this.w/=t.w||1;return this},distance:function(t){var e=t.x-this.x;var i=t.y-this.y;var r=t.z-this.z||0;var s=t.w-this.w||0;return Math.sqrt(e*e+i*i+r*r+s*s)},distanceSq:function(t){var e=t.x-this.x;var i=t.y-this.y;var r=t.z-this.z||0;var s=t.w-this.w||0;return e*e+i*i+r*r+s*s},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},transformMat4:function(t){var e=this.x;var i=this.y;var r=this.z;var s=this.w;var n=t.val;this.x=n[0]*e+n[4]*i+n[8]*r+n[12]*s;this.y=n[1]*e+n[5]*i+n[9]*r+n[13]*s;this.z=n[2]*e+n[6]*i+n[10]*r+n[14]*s;this.w=n[3]*e+n[7]*i+n[11]*r+n[15]*s;return this},transformQuat:function(t){var e=this.x;var i=this.y;var r=this.z;var s=t.x;var n=t.y;var a=t.z;var o=t.w;var l=o*e+n*r-a*i;var h=o*i+a*e-s*r;var u=o*r+s*i-n*e;var c=-s*e-n*i-a*r;this.x=l*o+c*-s+h*-a-u*-n;this.y=h*o+c*-n+u*-s-l*-a;this.z=u*o+c*-a+l*-n-h*-s;return this},reset:function(){this.x=0;this.y=0;this.z=0;this.w=0;return this}});s.prototype.sub=s.prototype.subtract;s.prototype.mul=s.prototype.multiply;s.prototype.div=s.prototype.divide;s.prototype.dist=s.prototype.distance;s.prototype.distSq=s.prototype.distanceSq;s.prototype.len=s.prototype.length;s.prototype.lenSq=s.prototype.lengthSq;t.exports=s},60417:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Within=function(t,e,i){return Math.abs(t-e)<=i};t.exports=Within},15994:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Wrap=function(t,e,i){var r=i-e;return e+((t-e)%r+r)%r};t.exports=Wrap},31040:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Between=function(t,e,i,r){return Math.atan2(r-e,i-t)};t.exports=Between},55495:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BetweenPoints=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)};t.exports=BetweenPoints},128:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BetweenPointsY=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)};t.exports=BetweenPointsY},41273:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BetweenY=function(t,e,i,r){return Math.atan2(i-t,r-e)};t.exports=BetweenY},1432:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var CounterClockwise=function(t){if(t>Math.PI){t-=r.PI2}return Math.abs(((t+r.TAU)%r.PI2-r.PI2)%r.PI2)};t.exports=CounterClockwise},12407:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Normalize=function(t){t=t%(2*Math.PI);if(t>=0){return t}else{return t+2*Math.PI}};t.exports=Normalize},53993:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       @samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(99472);var Random=function(){return r(-Math.PI,Math.PI)};t.exports=Random},86564:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       @samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(99472);var RandomDegrees=function(){return r(-180,180)};t.exports=RandomDegrees},90154:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(12407);var Reverse=function(t){return r(t+Math.PI)};t.exports=Reverse},48736:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var RotateTo=function(t,e,i){if(i===void 0){i=.05}if(t===e){return t}if(Math.abs(e-t)<=i||Math.abs(e-t)>=r.PI2-i){t=e}else{if(Math.abs(e-t)>Math.PI){if(e<t){e+=r.PI2}else{e-=r.PI2}}if(e>t){t+=i}else if(e<t){t-=i}}return t};t.exports=RotateTo},61430:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ShortestBetween=function(t,e){var i=e-t;if(i===0){return 0}var r=Math.floor((i- -180)/360);return i-r*360};t.exports=ShortestBetween},86554:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(15994);var Wrap=function(t){return r(t,-Math.PI,Math.PI)};t.exports=Wrap},30954:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(15994);var WrapDegrees=function(t){return r(t,-180,180)};t.exports=WrapDegrees},25588:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};t.exports=e},20339:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceBetween=function(t,e,i,r){var s=t-i;var n=e-r;return Math.sqrt(s*s+n*n)};t.exports=DistanceBetween},52816:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceBetweenPoints=function(t,e){var i=t.x-e.x;var r=t.y-e.y;return Math.sqrt(i*i+r*r)};t.exports=DistanceBetweenPoints},64559:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceBetweenPointsSquared=function(t,e){var i=t.x-e.x;var r=t.y-e.y;return i*i+r*r};t.exports=DistanceBetweenPointsSquared},82340:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ChebyshevDistance=function(t,e,i,r){return Math.max(Math.abs(t-i),Math.abs(e-r))};t.exports=ChebyshevDistance},14390:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistancePower=function(t,e,i,r,s){if(s===void 0){s=2}return Math.sqrt(Math.pow(i-t,s)+Math.pow(r-e,s))};t.exports=DistancePower},2243:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnakeDistance=function(t,e,i,r){return Math.abs(t-i)+Math.abs(e-r)};t.exports=SnakeDistance},89774:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DistanceSquared=function(t,e,i,r){var s=t-i;var n=e-r;return s*s+n*n};t.exports=DistanceSquared},50994:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54178);var s=i(41521);var n=i(79980);var a=i(85433);var o=i(99140);var l=i(48857);var h=i(81596);var u=i(59133);var c=i(98516);var f=i(35248);var d=i(82500);var v=i(49752);t.exports={Power0:h,Power1:u.Out,Power2:a.Out,Power3:c.Out,Power4:f.Out,Linear:h,Quad:u.Out,Cubic:a.Out,Quart:c.Out,Quint:f.Out,Sine:d.Out,Expo:l.Out,Circ:n.Out,Elastic:o.Out,Back:r.Out,Bounce:s.Out,Stepped:v,"Quad.easeIn":u.In,"Cubic.easeIn":a.In,"Quart.easeIn":c.In,"Quint.easeIn":f.In,"Sine.easeIn":d.In,"Expo.easeIn":l.In,"Circ.easeIn":n.In,"Elastic.easeIn":o.In,"Back.easeIn":r.In,"Bounce.easeIn":s.In,"Quad.easeOut":u.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":c.Out,"Quint.easeOut":f.Out,"Sine.easeOut":d.Out,"Expo.easeOut":l.Out,"Circ.easeOut":n.Out,"Elastic.easeOut":o.Out,"Back.easeOut":r.Out,"Bounce.easeOut":s.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":n.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":r.InOut,"Bounce.easeInOut":s.InOut}},1639:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t,e){if(e===void 0){e=1.70158}return t*t*((e+1)*t-e)};t.exports=In},50099:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t,e){if(e===void 0){e=1.70158}var i=e*1.525;if((t*=2)<1){return.5*(t*t*((i+1)*t-i))}else{return.5*((t-=2)*t*((i+1)*t+i)+2)}};t.exports=InOut},41286:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t,e){if(e===void 0){e=1.70158}return--t*t*((e+1)*t+e)+1};t.exports=Out},54178:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){t=1-t;if(t<1/2.75){return 1-7.5625*t*t}else if(t<2/2.75){return 1-(7.5625*(t-=1.5/2.75)*t+.75)}else if(t<2.5/2.75){return 1-(7.5625*(t-=2.25/2.75)*t+.9375)}else{return 1-(7.5625*(t-=2.625/2.75)*t+.984375)}};t.exports=In},41788:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){var e=false;if(t<.5){t=1-t*2;e=true}else{t=t*2-1}if(t<1/2.75){t=7.5625*t*t}else if(t<2/2.75){t=7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){t=7.5625*(t-=2.25/2.75)*t+.9375}else{t=7.5625*(t-=2.625/2.75)*t+.984375}if(e){return(1-t)*.5}else{return t*.5+.5}};t.exports=InOut},69905:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}};t.exports=Out},41521:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return 1-Math.sqrt(1-t*t)};t.exports=In},4177:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}else{return.5*(Math.sqrt(1-(t-=2)*t)+1)}};t.exports=InOut},57512:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return Math.sqrt(1- --t*t)};t.exports=Out},79980:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return t*t*t};t.exports=In},82820:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return.5*t*t*t}else{return.5*((t-=2)*t*t+2)}};t.exports=InOut},35033:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return--t*t*t+1};t.exports=Out},85433:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t,e,i){if(e===void 0){e=.1}if(i===void 0){i=.1}if(t===0){return 0}else if(t===1){return 1}else{var r=i/4;if(e<1){e=1}else{r=i*Math.asin(1/e)/(2*Math.PI)}return-(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i))}};t.exports=In},50665:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t,e,i){if(e===void 0){e=.1}if(i===void 0){i=.1}if(t===0){return 0}else if(t===1){return 1}else{var r=i/4;if(e<1){e=1}else{r=i*Math.asin(1/e)/(2*Math.PI)}if((t*=2)<1){return-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i))}else{return e*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)*.5+1}}};t.exports=InOut},7744:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t,e,i){if(e===void 0){e=.1}if(i===void 0){i=.1}if(t===0){return 0}else if(t===1){return 1}else{var r=i/4;if(e<1){e=1}else{r=i*Math.asin(1/e)/(2*Math.PI)}return e*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/i)+1}};t.exports=Out},99140:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return Math.pow(2,10*(t-1))-.001};t.exports=In},87844:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return.5*Math.pow(2,10*(t-1))}else{return.5*(2-Math.pow(2,-10*(t-1)))}};t.exports=InOut},89433:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return 1-Math.pow(2,-10*t)};t.exports=Out},48857:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Linear=function(t){return t};t.exports=Linear},81596:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports=i(7147)},34826:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return t*t};t.exports=In},20544:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return.5*t*t}else{return-.5*(--t*(t-2)-1)}};t.exports=InOut},92029:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return t*(2-t)};t.exports=Out},59133:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return t*t*t*t};t.exports=In},78137:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return.5*t*t*t*t}else{return-.5*((t-=2)*t*t*t-2)}};t.exports=InOut},45840:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return 1- --t*t*t*t};t.exports=Out},98516:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){return t*t*t*t*t};t.exports=In},16509:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if((t*=2)<1){return.5*t*t*t*t*t}else{return.5*((t-=2)*t*t*t*t+2)}};t.exports=InOut},17868:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){return--t*t*t*t*t+1};t.exports=Out},35248:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var In=function(t){if(t===0){return 0}else if(t===1){return 1}else{return 1-Math.cos(t*Math.PI/2)}};t.exports=In},34025:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var InOut=function(t){if(t===0){return 0}else if(t===1){return 1}else{return.5*(1-Math.cos(Math.PI*t))}};t.exports=InOut},52768:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Out=function(t){if(t===0){return 0}else if(t===1){return 1}else{return Math.sin(t*Math.PI/2)}};t.exports=Out},82500:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Stepped=function(t,e){if(e===void 0){e=1}if(t<=0){return 0}else if(t>=1){return 1}else{return((e*t|0)+1)*(1/e)}};t.exports=Stepped},49752:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports=i(72251)},75698:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Ceil=function(t,e){if(e===void 0){e=1e-4}return Math.ceil(t-e)};t.exports=Ceil},43855:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Equal=function(t,e,i){if(i===void 0){i=1e-4}return Math.abs(t-e)<i};t.exports=Equal},25777:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Floor=function(t,e){if(e===void 0){e=1e-4}return Math.floor(t+e)};t.exports=Floor},5470:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GreaterThan=function(t,e,i){if(i===void 0){i=1e-4}return t>e-i};t.exports=GreaterThan},94977:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var LessThan=function(t,e,i){if(i===void 0){i=1e-4}return t<e+i};t.exports=LessThan},48379:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36383);var s=i(79291);var n={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};n=s(false,n,r);t.exports=n},89318:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85710);var BezierInterpolation=function(t,e){var i=0;var s=t.length-1;for(var n=0;n<=s;n++){i+=Math.pow(1-e,s-n)*Math.pow(e,n)*t[n]*r(s,n)}return i};t.exports=BezierInterpolation},77259:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87842);var CatmullRomInterpolation=function(t,e){var i=t.length-1;var s=i*e;var n=Math.floor(s);if(t[0]===t[i]){if(e<0){n=Math.floor(s=i*(1+e))}return r(s-n,t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i])}else{if(e<0){return t[0]-(r(-s,t[0],t[0],t[1],t[1])-t[0])}if(e>1){return t[i]-(r(s-i,t[i],t[i],t[i-1],t[i-1])-t[i])}return r(s-n,t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2])}};t.exports=CatmullRomInterpolation},36316:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function P0(t,e){var i=1-t;return i*i*i*e}function P1(t,e){var i=1-t;return 3*i*i*t*e}function P2(t,e){return 3*(1-t)*t*t*e}function P3(t,e){return t*t*t*e}var CubicBezierInterpolation=function(t,e,i,r,s){return P0(t,e)+P1(t,i)+P2(t,r)+P3(t,s)};t.exports=CubicBezierInterpolation},28392:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(28915);var LinearInterpolation=function(t,e){var i=t.length-1;var s=i*e;var n=Math.floor(s);if(e<0){return r(t[0],t[1],s)}else if(e>1){return r(t[i],t[i-1],i-s)}else{return r(t[n],t[n+1>i?i:n+1],s-n)}};t.exports=LinearInterpolation},32112:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function P0(t,e){var i=1-t;return i*i*e}function P1(t,e){return 2*(1-t)*t*e}function P2(t,e){return t*t*e}var QuadraticBezierInterpolation=function(t,e,i,r){return P0(t,e)+P1(t,i)+P2(t,r)};t.exports=QuadraticBezierInterpolation},47235:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7602);var SmoothStepInterpolation=function(t,e,i){return e+(i-e)*r(t,0,1)};t.exports=SmoothStepInterpolation},50178:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(54261);var SmootherStepInterpolation=function(t,e,i){return e+(i-e)*r(t,0,1)};t.exports=SmootherStepInterpolation},38289:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetPowerOfTwo=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)};t.exports=GetPowerOfTwo},50030:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsSizePowerOfTwo=function(t,e){return t>0&&(t&t-1)===0&&e>0&&(e&e-1)===0};t.exports=IsSizePowerOfTwo},81230:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsValuePowerOfTwo=function(t){return t>0&&(t&t-1)===0};t.exports=IsValuePowerOfTwo},49001:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function RandomDataGenerator2(t){if(t===void 0){t=[(Date.now()*Math.random()).toString()]}this.c=1;this.s0=0;this.s1=0;this.s2=0;this.n=0;this.signs=[-1,1];if(t){this.init(t)}},rnd:function(){var t=2091639*this.s0+this.c*2.3283064365386963e-10;this.c=t|0;this.s0=this.s1;this.s1=this.s2;this.s2=t-this.c;return this.s2},hash:function(t){var e;var i=this.n;t=t.toString();for(var r=0;r<t.length;r++){i+=t.charCodeAt(r);e=.02519603282416938*i;i=e>>>0;e-=i;e*=i;i=e>>>0;e-=i;i+=e*4294967296}this.n=i;return(i>>>0)*2.3283064365386963e-10},init:function(t){if(typeof t==="string"){this.state(t)}else{this.sow(t)}},sow:function(t){this.n=4022871197;this.s0=this.hash(" ");this.s1=this.hash(" ");this.s2=this.hash(" ");this.c=1;if(!t){return}for(var e=0;e<t.length&&t[e]!=null;e++){var i=t[e];this.s0-=this.hash(i);this.s0+=~~(this.s0<0);this.s1-=this.hash(i);this.s1+=~~(this.s1<0);this.s2-=this.hash(i);this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="";var e="";for(e=t="";t++<36;e+=~t%5|t*3&4?(t^15?8^this.frac()*(t^20?16:4):4).toString(16):"-"){}return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-.5)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){if(typeof t==="string"&&t.match(/^!rnd/)){t=t.split(",");this.c=parseFloat(t[1]);this.s0=parseFloat(t[2]);this.s1=parseFloat(t[3]);this.s2=parseFloat(t[4])}return["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){var e=t.length-1;for(var i=e;i>0;i--){var r=Math.floor(this.frac()*(i+1));var s=t[r];t[r]=t[i];t[i]=s}return t}});t.exports=s},63448:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnapCeil=function(t,e,i,r){if(i===void 0){i=0}if(e===0){return t}t-=i;t=e*Math.ceil(t/e);return r?(i+t)/e:i+t};t.exports=SnapCeil},56583:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnapFloor=function(t,e,i,r){if(i===void 0){i=0}if(e===0){return t}t-=i;t=e*Math.floor(t/e);return r?(i+t)/e:i+t};t.exports=SnapFloor},77720:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SnapTo=function(t,e,i,r){if(i===void 0){i=0}if(e===0){return t}t-=i;t=e*Math.round(t/e);return r?(i+t)/e:i+t};t.exports=SnapTo},73697:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
i(63595);var r=i(8054);var s=i(79291);var n={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};{n.Sound=i(23717)}n=s(false,n,r);t.exports=n;i.g.Phaser=n},71289:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(92209);var n=i(88571);var a=new r({Extends:n,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Collision,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Pushable,s.Size,s.Velocity],initialize:function ArcadeImage2(t,e,i,r,s){n.call(this,t,e,i,r,s);this.body=null}});t.exports=a},86689:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(39506);var n=i(20339);var a=i(89774);var o=i(66022);var l=i(95540);var h=i(46975);var u=i(72441);var c=i(47956);var f=i(37277);var d=i(44594);var v=i(26099);var p=i(82248);var g=new r({initialize:function ArcadePhysics2(t){this.scene=t;this.systems=t.sys;this.config=this.getConfig();this.world;this.add;this._category=1;t.sys.events.once(d.BOOT,this.boot,this);t.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new p(this.scene,this.config);this.add=new o(this.world);this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.world){this.world=new p(this.scene,this.config);this.add=new o(this.world)}var t=this.systems.events;if(!l(this.config,"customUpdate",false)){t.on(d.UPDATE,this.world.update,this.world)}t.on(d.POST_UPDATE,this.world.postUpdate,this.world);t.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var t=this.systems.game.config.physics;var e=this.systems.settings.physics;var i=h(l(e,"arcade",{}),l(t,"arcade",{}));return i},nextCategory:function(){this._category=this._category<<1;return this._category},overlap:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}return this.world.collideObjects(t,e,i,r,s,true)},collide:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}return this.world.collideObjects(t,e,i,r,s,false)},collideTiles:function(t,e,i,r,s){return this.world.collideTiles(t,e,i,r,s)},overlapTiles:function(t,e,i,r,s){return this.world.overlapTiles(t,e,i,r,s)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,r,s,n){if(r===void 0){r=60}var a=Math.atan2(i-t.y,e-t.x);t.body.acceleration.setToPolar(a,r);if(s!==void 0&&n!==void 0){t.body.maxVelocity.set(s,n)}return a},accelerateToObject:function(t,e,i,r,s){return this.accelerateTo(t,e.x,e.y,i,r,s)},closest:function(t,e){if(!e){e=this.world.bodies.entries}var i=Number.MAX_VALUE;var r=null;var s=t.x;var n=t.y;var o=e.length;for(var l=0;l<o;l++){var h=e[l];var u=h.body||h;if(t===h||t===u||t===u.gameObject||t===u.center){continue}var c=a(s,n,u.center.x,u.center.y);if(c<i){r=h;i=c}}return r},furthest:function(t,e){if(!e){e=this.world.bodies.entries}var i=-1;var r=null;var s=t.x;var n=t.y;var o=e.length;for(var l=0;l<o;l++){var h=e[l];var u=h.body||h;if(t===h||t===u||t===u.gameObject||t===u.center){continue}var c=a(s,n,u.center.x,u.center.y);if(c>i){r=h;i=c}}return r},moveTo:function(t,e,i,r,s){if(r===void 0){r=60}if(s===void 0){s=0}var a=Math.atan2(i-t.y,e-t.x);if(s>0){r=n(t.x,t.y,e,i)/(s/1e3)}t.body.velocity.setToPolar(a,r);return a},moveToObject:function(t,e,i,r){return this.moveTo(t,e.x,e.y,i,r)},velocityFromAngle:function(t,e,i){if(e===void 0){e=60}if(i===void 0){i=new v}return i.setToPolar(s(t),e)},velocityFromRotation:function(t,e,i){if(e===void 0){e=60}if(i===void 0){i=new v}return i.setToPolar(t,e)},overlapRect:function(t,e,i,r,s,n){return c(this.world,t,e,i,r,s,n)},overlapCirc:function(t,e,i,r,s){return u(this.world,t,e,i,r,s)},shutdown:function(){if(!this.world){return}var t=this.systems.events;t.off(d.UPDATE,this.world.update,this.world);t.off(d.POST_UPDATE,this.world.postUpdate,this.world);t.off(d.SHUTDOWN,this.shutdown,this);this.add.destroy();this.world.destroy();this.add=null;this.world=null;this._category=1},destroy:function(){this.shutdown();this.scene.sys.events.off(d.START,this.start,this);this.scene=null;this.systems=null}});f.register("ArcadePhysics",g,"arcadePhysics");t.exports=g},13759:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(92209);var n=i(68287);var a=new r({Extends:n,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Collision,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Pushable,s.Size,s.Velocity],initialize:function ArcadeSprite2(t,e,i,r,s){n.call(this,t,e,i,r,s);this.body=null}});t.exports=a},37742:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(78389);var n=i(37747);var a=i(63012);var o=i(43396);var l=i(87841);var h=i(37303);var u=i(95829);var c=i(26099);var f=new r({Mixins:[s],initialize:function Body2(t,e){var i=64;var r=64;var s={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0};var a=e!==void 0;if(a&&e.displayWidth){i=e.displayWidth;r=e.displayHeight}if(!a){e=s}this.world=t;this.gameObject=a?e:void 0;this.isBody=true;this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY};this.debugShowBody=t.defaults.debugShowBody;this.debugShowVelocity=t.defaults.debugShowVelocity;this.debugBodyColor=t.defaults.bodyDebugColor;this.enable=true;this.isCircle=false;this.radius=0;this.offset=new c;this.position=new c(e.x-e.scaleX*e.displayOriginX,e.y-e.scaleY*e.displayOriginY);this.prev=this.position.clone();this.prevFrame=this.position.clone();this.allowRotation=true;this.rotation=e.angle;this.preRotation=e.angle;this.width=i;this.height=r;this.sourceWidth=i;this.sourceHeight=r;if(e.frame){this.sourceWidth=e.frame.realWidth;this.sourceHeight=e.frame.realHeight}this.halfWidth=Math.abs(i/2);this.halfHeight=Math.abs(r/2);this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=new c;this.newVelocity=new c;this.deltaMax=new c;this.acceleration=new c;this.allowDrag=true;this.drag=new c;this.allowGravity=true;this.gravity=new c;this.bounce=new c;this.worldBounce=null;this.customBoundsRectangle=t.bounds;this.onWorldBounds=false;this.onCollide=false;this.onOverlap=false;this.maxVelocity=new c(1e4,1e4);this.maxSpeed=-1;this.friction=new c(1,0);this.useDamping=false;this.angularVelocity=0;this.angularAcceleration=0;this.angularDrag=0;this.maxAngular=1e3;this.mass=1;this.angle=0;this.speed=0;this.facing=n.FACING_NONE;this.immovable=false;this.pushable=true;this.slideFactor=new c(1,1);this.moves=true;this.customSeparateX=false;this.customSeparateY=false;this.overlapX=0;this.overlapY=0;this.overlapR=0;this.embedded=false;this.collideWorldBounds=false;this.checkCollision=u(false);this.touching=u(true);this.wasTouching=u(true);this.blocked=u(true);this.syncBounds=false;this.physicsType=n.DYNAMIC_BODY;this.collisionCategory=1;this.collisionMask=1;this._sx=e.scaleX;this._sy=e.scaleY;this._dx=0;this._dy=0;this._tx=0;this._ty=0;this._bounds=new l;this.directControl=false;this.autoFrame=this.position.clone()},updateBounds:function(){var t=this.gameObject;var e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx;e.y=i.ty;e.rotation=o(i.rotation);e.scaleX=i.scaleX;e.scaleY=i.scaleY;e.displayOriginX=t.displayOriginX;e.displayOriginY=t.displayOriginY}else{e.x=t.x;e.y=t.y;e.rotation=t.angle;e.scaleX=t.scaleX;e.scaleY=t.scaleY;e.displayOriginX=t.displayOriginX;e.displayOriginY=t.displayOriginY}var r=false;if(this.syncBounds){var s=t.getBounds(this._bounds);this.width=s.width;this.height=s.height;r=true}else{var n=Math.abs(e.scaleX);var a=Math.abs(e.scaleY);if(this._sx!==n||this._sy!==a){this.width=this.sourceWidth*n;this.height=this.sourceHeight*a;this._sx=n;this._sy=a;r=true}}if(r){this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.updateCenter()}},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var t=this.transform;this.position.x=t.x+t.scaleX*(this.offset.x-t.displayOriginX);this.position.y=t.y+t.scaleY*(this.offset.y-t.displayOriginY);this.updateCenter()},resetFlags:function(t){if(t===void 0){t=false}var e=this.wasTouching;var i=this.touching;var r=this.blocked;if(t){u(true,e)}else{e.none=i.none;e.up=i.up;e.down=i.down;e.left=i.left;e.right=i.right}u(true,i);u(true,r);this.overlapR=0;this.overlapX=0;this.overlapY=0;this.embedded=false},preUpdate:function(t,e){if(t){this.resetFlags()}if(this.gameObject){this.updateFromGameObject()}this.rotation=this.transform.rotation;this.preRotation=this.rotation;if(this.moves){var i=this.position;this.prev.x=i.x;this.prev.y=i.y;this.prevFrame.x=i.x;this.prevFrame.y=i.y}if(t){this.update(e)}},update:function(t){var e=this.prev;var i=this.position;var r=this.velocity;e.set(i.x,i.y);if(!this.moves){this._dx=i.x-e.x;this._dy=i.y-e.y;return}if(this.directControl){var s=this.autoFrame;r.set((i.x-s.x)/t,(i.y-s.y)/t);this.world.updateMotion(this,t);this._dx=i.x-s.x;this._dy=i.y-s.y}else{this.world.updateMotion(this,t);this.newVelocity.set(r.x*t,r.y*t);i.add(this.newVelocity);this._dx=i.x-e.x;this._dy=i.y-e.y}var n=r.x;var o=r.y;this.updateCenter();this.angle=Math.atan2(o,n);this.speed=Math.sqrt(n*n+o*o);if(this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var l=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,l.up,l.down,l.left,l.right)}},postUpdate:function(){var t=this.position;var e=t.x-this.prevFrame.x;var i=t.y-this.prevFrame.y;var r=this.gameObject;if(this.moves){var s=this.deltaMax.x;var a=this.deltaMax.y;if(s!==0&&e!==0){if(e<0&&e<-s){e=-s}else if(e>0&&e>s){e=s}}if(a!==0&&i!==0){if(i<0&&i<-a){i=-a}else if(i>0&&i>a){i=a}}if(r){r.x+=e;r.y+=i}}if(e<0){this.facing=n.FACING_LEFT}else if(e>0){this.facing=n.FACING_RIGHT}if(i<0){this.facing=n.FACING_UP}else if(i>0){this.facing=n.FACING_DOWN}if(this.allowRotation&&r){r.angle+=this.deltaZ()}this._tx=e;this._ty=i;this.autoFrame.set(t.x,t.y)},setBoundsRectangle:function(t){this.customBoundsRectangle=!t?this.world.bounds:t;return this},checkWorldBounds:function(){var t=this.position;var e=this.velocity;var i=this.blocked;var r=this.customBoundsRectangle;var s=this.world.checkCollision;var n=this.worldBounce?-this.worldBounce.x:-this.bounce.x;var a=this.worldBounce?-this.worldBounce.y:-this.bounce.y;var o=false;if(t.x<r.x&&s.left){t.x=r.x;e.x*=n;i.left=true;o=true}else if(this.right>r.right&&s.right){t.x=r.right-this.width;e.x*=n;i.right=true;o=true}if(t.y<r.y&&s.up){t.y=r.y;e.y*=a;i.up=true;o=true}else if(this.bottom>r.bottom&&s.down){t.y=r.bottom-this.height;e.y*=a;i.down=true;o=true}if(o){this.blocked.none=false;this.updateCenter()}return o},setOffset:function(t,e){if(e===void 0){e=t}this.offset.set(t,e);return this},setGameObject:function(t,e){if(e===void 0){e=true}if(!t||!t.hasTransformComponent){return this}var i=this.world;if(this.gameObject&&this.gameObject.body){i.disable(this.gameObject);this.gameObject.body=null}if(t.body){i.disable(t)}this.gameObject=t;t.body=this;this.setSize();this.enable=e;return this},setSize:function(t,e,i){if(i===void 0){i=true}var r=this.gameObject;if(r){if(!t&&r.frame){t=r.frame.realWidth}if(!e&&r.frame){e=r.frame.realHeight}}this.sourceWidth=t;this.sourceHeight=e;this.width=this.sourceWidth*this._sx;this.height=this.sourceHeight*this._sy;this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.updateCenter();if(i&&r&&r.getCenter){var s=(r.width-t)/2;var n=(r.height-e)/2;this.offset.set(s,n)}this.isCircle=false;this.radius=0;return this},setCircle:function(t,e,i){if(e===void 0){e=this.offset.x}if(i===void 0){i=this.offset.y}if(t>0){this.isCircle=true;this.radius=t;this.sourceWidth=t*2;this.sourceHeight=t*2;this.width=this.sourceWidth*this._sx;this.height=this.sourceHeight*this._sy;this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.offset.set(e,i);this.updateCenter()}else{this.isCircle=false}return this},reset:function(t,e){this.stop();var i=this.gameObject;if(i){i.setPosition(t,e);this.rotation=i.angle;this.preRotation=i.angle}var r=this.position;if(i&&i.getTopLeft){i.getTopLeft(r)}else{r.set(t,e)}this.prev.copy(r);this.prevFrame.copy(r);this.autoFrame.copy(r);if(i){this.updateBounds()}this.updateCenter();if(this.collideWorldBounds){this.checkWorldBounds()}this.resetFlags(true)},stop:function(){this.velocity.set(0);this.acceleration.set(0);this.speed=0;this.angularVelocity=0;this.angularAcceleration=0;return this},getBounds:function(t){t.x=this.x;t.y=this.y;t.right=this.right;t.bottom=this.bottom;return t},hitTest:function(t,e){if(!this.isCircle){return h(this,t,e)}if(this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom){var i=(this.center.x-t)*(this.center.x-t);var r=(this.center.y-e)*(this.center.y-e);return i+r<=this.radius*this.radius}return false},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=false;if(this.world){this.world.pendingDestroy.set(this)}},drawDebug:function(t){var e=this.position;var i=e.x+this.halfWidth;var r=e.y+this.halfHeight;if(this.debugShowBody){t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor);if(this.isCircle){t.strokeCircle(i,r,this.width/2)}else{if(this.checkCollision.up){t.lineBetween(e.x,e.y,e.x+this.width,e.y)}if(this.checkCollision.right){t.lineBetween(e.x+this.width,e.y,e.x+this.width,e.y+this.height)}if(this.checkCollision.down){t.lineBetween(e.x,e.y+this.height,e.x+this.width,e.y+this.height)}if(this.checkCollision.left){t.lineBetween(e.x,e.y,e.x,e.y+this.height)}}}if(this.debugShowVelocity){t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1);t.lineBetween(i,r,i+this.velocity.x/2,r+this.velocity.y/2)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(t){if(t===void 0){t=true}this.directControl=t;return this},setCollideWorldBounds:function(t,e,i,r){if(t===void 0){t=true}this.collideWorldBounds=t;var s=e!==void 0;var n=i!==void 0;if(s||n){if(!this.worldBounce){this.worldBounce=new c}if(s){this.worldBounce.x=e}if(n){this.worldBounce.y=i}}if(r!==void 0){this.onWorldBounds=r}return this},setVelocity:function(t,e){this.velocity.set(t,e);t=this.velocity.x;e=this.velocity.y;this.speed=Math.sqrt(t*t+e*e);return this},setVelocityX:function(t){return this.setVelocity(t,this.velocity.y)},setVelocityY:function(t){return this.setVelocity(this.velocity.x,t)},setMaxVelocity:function(t,e){this.maxVelocity.set(t,e);return this},setMaxVelocityX:function(t){this.maxVelocity.x=t;return this},setMaxVelocityY:function(t){this.maxVelocity.y=t;return this},setMaxSpeed:function(t){this.maxSpeed=t;return this},setSlideFactor:function(t,e){this.slideFactor.set(t,e);return this},setBounce:function(t,e){this.bounce.set(t,e);return this},setBounceX:function(t){this.bounce.x=t;return this},setBounceY:function(t){this.bounce.y=t;return this},setAcceleration:function(t,e){this.acceleration.set(t,e);return this},setAccelerationX:function(t){this.acceleration.x=t;return this},setAccelerationY:function(t){this.acceleration.y=t;return this},setAllowDrag:function(t){if(t===void 0){t=true}this.allowDrag=t;return this},setAllowGravity:function(t){if(t===void 0){t=true}this.allowGravity=t;return this},setAllowRotation:function(t){if(t===void 0){t=true}this.allowRotation=t;return this},setDrag:function(t,e){this.drag.set(t,e);return this},setDamping:function(t){this.useDamping=t;return this},setDragX:function(t){this.drag.x=t;return this},setDragY:function(t){this.drag.y=t;return this},setGravity:function(t,e){this.gravity.set(t,e);return this},setGravityX:function(t){this.gravity.x=t;return this},setGravityY:function(t){this.gravity.y=t;return this},setFriction:function(t,e){this.friction.set(t,e);return this},setFrictionX:function(t){this.friction.x=t;return this},setFrictionY:function(t){this.friction.y=t;return this},setAngularVelocity:function(t){this.angularVelocity=t;return this},setAngularAcceleration:function(t){this.angularAcceleration=t;return this},setAngularDrag:function(t){this.angularDrag=t;return this},setMass:function(t){this.mass=t;return this},setImmovable:function(t){if(t===void 0){t=true}this.immovable=t;return this},setEnable:function(t){if(t===void 0){t=true}this.enable=t;return this},processX:function(t,e,i,r){this.x+=t;this.updateCenter();if(e!==null){this.velocity.x=e*this.slideFactor.x}var s=this.blocked;if(i){s.left=true;s.none=false}if(r){s.right=true;s.none=false}},processY:function(t,e,i,r){this.y+=t;this.updateCenter();if(e!==null){this.velocity.y=e*this.slideFactor.y}var s=this.blocked;if(i){s.up=true;s.none=false}if(r){s.down=true;s.none=false}},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=f},79342:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Collider2(t,e,i,r,s,n,a){this.world=t;this.name="";this.active=true;this.overlapOnly=e;this.object1=i;this.object2=r;this.collideCallback=s;this.processCallback=n;this.callbackContext=a},setName:function(t){this.name=t;return this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this);this.active=false;this.world=null;this.object1=null;this.object2=null;this.collideCallback=null;this.processCallback=null;this.callbackContext=null}});t.exports=s},66022:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(71289);var s=i(13759);var n=i(37742);var a=i(83419);var o=i(37747);var l=i(60758);var h=i(72624);var u=i(71464);var c=new a({initialize:function Factory2(t){this.world=t;this.scene=t.scene;this.sys=t.scene.sys},collider:function(t,e,i,r,s){return this.world.addCollider(t,e,i,r,s)},overlap:function(t,e,i,r,s){return this.world.addOverlap(t,e,i,r,s)},existing:function(t,e){var i=e?o.STATIC_BODY:o.DYNAMIC_BODY;this.world.enableBody(t,i);return t},staticImage:function(t,e,i,s){var n=new r(this.scene,t,e,i,s);this.sys.displayList.add(n);this.world.enableBody(n,o.STATIC_BODY);return n},image:function(t,e,i,s){var n=new r(this.scene,t,e,i,s);this.sys.displayList.add(n);this.world.enableBody(n,o.DYNAMIC_BODY);return n},staticSprite:function(t,e,i,r){var n=new s(this.scene,t,e,i,r);this.sys.displayList.add(n);this.sys.updateList.add(n);this.world.enableBody(n,o.STATIC_BODY);return n},sprite:function(t,e,i,r){var n=new s(this.scene,t,e,i,r);this.sys.displayList.add(n);this.sys.updateList.add(n);this.world.enableBody(n,o.DYNAMIC_BODY);return n},staticGroup:function(t,e){return this.sys.updateList.add(new u(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new l(this.world,this.world.scene,t,e))},body:function(t,e,i,r){var s=new n(this.world);s.position.set(t,e);if(i&&r){s.setSize(i,r)}this.world.add(s,o.DYNAMIC_BODY);return s},staticBody:function(t,e,i,r){var s=new h(this.world);s.position.set(t,e);if(i&&r){s.setSize(i,r)}this.world.add(s,o.STATIC_BODY);return s},destroy:function(){this.world=null;this.scene=null;this.sys=null}});t.exports=c},79599:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetCollidesWith=function(t){var e=0;if(!Array.isArray(t)){e=t}else{for(var i=0;i<t.length;i++){e|=t[i]}}return e};t.exports=GetCollidesWith},64897:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37747);var GetOverlapX=function(t,e,i,s){var n=0;var a=t.deltaAbsX()+e.deltaAbsX()+s;if(t._dx===0&&e._dx===0){t.embedded=true;e.embedded=true}else if(t._dx>e._dx){n=t.right-e.x;if(n>a&&!i||t.checkCollision.right===false||e.checkCollision.left===false){n=0}else{t.touching.none=false;t.touching.right=true;e.touching.none=false;e.touching.left=true;if(e.physicsType===r.STATIC_BODY&&!i){t.blocked.none=false;t.blocked.right=true}if(t.physicsType===r.STATIC_BODY&&!i){e.blocked.none=false;e.blocked.left=true}}}else if(t._dx<e._dx){n=t.x-e.width-e.x;if(-n>a&&!i||t.checkCollision.left===false||e.checkCollision.right===false){n=0}else{t.touching.none=false;t.touching.left=true;e.touching.none=false;e.touching.right=true;if(e.physicsType===r.STATIC_BODY&&!i){t.blocked.none=false;t.blocked.left=true}if(t.physicsType===r.STATIC_BODY&&!i){e.blocked.none=false;e.blocked.right=true}}}t.overlapX=n;e.overlapX=n;return n};t.exports=GetOverlapX},45170:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37747);var GetOverlapY=function(t,e,i,s){var n=0;var a=t.deltaAbsY()+e.deltaAbsY()+s;if(t._dy===0&&e._dy===0){t.embedded=true;e.embedded=true}else if(t._dy>e._dy){n=t.bottom-e.y;if(n>a&&!i||t.checkCollision.down===false||e.checkCollision.up===false){n=0}else{t.touching.none=false;t.touching.down=true;e.touching.none=false;e.touching.up=true;if(e.physicsType===r.STATIC_BODY&&!i){t.blocked.none=false;t.blocked.down=true}if(t.physicsType===r.STATIC_BODY&&!i){e.blocked.none=false;e.blocked.up=true}}}else if(t._dy<e._dy){n=t.y-e.bottom;if(-n>a&&!i||t.checkCollision.up===false||e.checkCollision.down===false){n=0}else{t.touching.none=false;t.touching.up=true;e.touching.none=false;e.touching.down=true;if(e.physicsType===r.STATIC_BODY&&!i){t.blocked.none=false;t.blocked.up=true}if(t.physicsType===r.STATIC_BODY&&!i){e.blocked.none=false;e.blocked.down=true}}}t.overlapY=n;e.overlapY=n;return n};t.exports=GetOverlapY},60758:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13759);var s=i(83419);var n=i(78389);var a=i(37747);var o=i(95540);var l=i(26479);var h=i(41212);var u=new s({Extends:l,Mixins:[n],initialize:function PhysicsGroup2(t,e,i,s){if(!i&&!s){s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}}else if(h(i)){s=i;i=null;s.internalCreateCallback=this.createCallbackHandler;s.internalRemoveCallback=this.removeCallbackHandler}else if(Array.isArray(i)&&h(i[0])){var n=this;i.forEach((function(t){t.internalCreateCallback=n.createCallbackHandler;t.internalRemoveCallback=n.removeCallbackHandler;t.classType=o(t,"classType",r)}));s=null}else{s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}}this.world=t;if(s){s.classType=o(s,"classType",r)}this.physicsType=a.DYNAMIC_BODY;this.collisionCategory=1;this.collisionMask=2147483647;this.defaults={setCollideWorldBounds:o(s,"collideWorldBounds",false),setBoundsRectangle:o(s,"customBoundsRectangle",null),setAccelerationX:o(s,"accelerationX",0),setAccelerationY:o(s,"accelerationY",0),setAllowDrag:o(s,"allowDrag",true),setAllowGravity:o(s,"allowGravity",true),setAllowRotation:o(s,"allowRotation",true),setDamping:o(s,"useDamping",false),setBounceX:o(s,"bounceX",0),setBounceY:o(s,"bounceY",0),setDragX:o(s,"dragX",0),setDragY:o(s,"dragY",0),setEnable:o(s,"enable",true),setGravityX:o(s,"gravityX",0),setGravityY:o(s,"gravityY",0),setFrictionX:o(s,"frictionX",0),setFrictionY:o(s,"frictionY",0),setMaxSpeed:o(s,"maxSpeed",-1),setMaxVelocityX:o(s,"maxVelocityX",1e4),setMaxVelocityY:o(s,"maxVelocityY",1e4),setVelocityX:o(s,"velocityX",0),setVelocityY:o(s,"velocityY",0),setAngularVelocity:o(s,"angularVelocity",0),setAngularAcceleration:o(s,"angularAcceleration",0),setAngularDrag:o(s,"angularDrag",0),setMass:o(s,"mass",1),setImmovable:o(s,"immovable",false)};l.call(this,e,i,s);this.type="PhysicsGroup"},createCallbackHandler:function(t){if(!t.body){this.world.enableBody(t,a.DYNAMIC_BODY)}var e=t.body;for(var i in this.defaults){e[i](this.defaults[i])}},removeCallbackHandler:function(t){if(t.body){this.world.disableBody(t)}},setVelocity:function(t,e,i){if(i===void 0){i=0}var r=this.getChildren();for(var s=0;s<r.length;s++){r[s].body.velocity.set(t+s*i,e+s*i)}return this},setVelocityX:function(t,e){if(e===void 0){e=0}var i=this.getChildren();for(var r=0;r<i.length;r++){i[r].body.velocity.x=t+r*e}return this},setVelocityY:function(t,e){if(e===void 0){e=0}var i=this.getChildren();for(var r=0;r<i.length;r++){i[r].body.velocity.y=t+r*e}return this}});t.exports=u},3017:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e;var i;var r;var s;var n;var a;var o;var l;var h;var u;var c;var f;var d;var v;var p;var g;var m;var Set2=function(t,n,a){e=t;i=n;var y=e.velocity.x;var x=i.velocity.x;r=e.pushable;h=e._dx<0;u=e._dx>0;c=e._dx===0;p=Math.abs(e.right-i.x)<=Math.abs(i.right-e.x);o=x-y*e.bounce.x;s=i.pushable;f=i._dx<0;d=i._dx>0;v=i._dx===0;g=!p;l=y-x*i.bounce.x;m=Math.abs(a);return BlockCheck()};var BlockCheck=function(){if(u&&p&&i.blocked.right){e.processX(-m,o,false,true);return 1}if(h&&g&&i.blocked.left){e.processX(m,o,true);return 1}if(d&&g&&e.blocked.right){i.processX(-m,l,false,true);return 2}if(f&&p&&e.blocked.left){i.processX(m,l,true);return 2}return 0};var Check=function(){var t=e.velocity.x;var r=i.velocity.x;var s=Math.sqrt(r*r*i.mass/e.mass)*(r>0?1:-1);var o=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1);var l=(s+o)*.5;s-=l;o-=l;n=l+s*e.bounce.x;a=l+o*i.bounce.x;if(h&&g){return Run(0)}if(f&&p){return Run(1)}if(u&&p){return Run(2)}if(d&&g){return Run(3)}return false};var Run=function(t){if(r&&s){m*=.5;if(t===0||t===3){e.processX(m,n);i.processX(-m,a)}else{e.processX(-m,n);i.processX(m,a)}}else if(r&&!s){if(t===0||t===3){e.processX(m,o,true)}else{e.processX(-m,o,false,true)}}else if(!r&&s){if(t===0||t===3){i.processX(-m,l,false,true)}else{i.processX(m,l,true)}}else{var p=m*.5;if(t===0){if(v){e.processX(m,0,true);i.processX(0,null,false,true)}else if(d){e.processX(p,0,true);i.processX(-p,0,false,true)}else{e.processX(p,i.velocity.x,true);i.processX(-p,null,false,true)}}else if(t===1){if(c){e.processX(0,null,false,true);i.processX(m,0,true)}else if(u){e.processX(-p,0,false,true);i.processX(p,0,true)}else{e.processX(-p,null,false,true);i.processX(p,e.velocity.x,true)}}else if(t===2){if(v){e.processX(-m,0,false,true);i.processX(0,null,true)}else if(f){e.processX(-p,0,false,true);i.processX(p,0,true)}else{e.processX(-p,i.velocity.x,false,true);i.processX(p,null,true)}}else if(t===3){if(c){e.processX(0,null,true);i.processX(-m,0,false,true)}else if(h){e.processX(p,0,true);i.processX(-p,0,false,true)}else{e.processX(p,i.velocity.y,true);i.processX(-p,null,false,true)}}}return true};var RunImmovableBody1=function(t){if(t===1){i.velocity.x=0}else if(p){i.processX(m,l,true)}else{i.processX(-m,l,false,true)}if(e.moves){var r=e.directControl?e.y-e.autoFrame.y:e.y-e.prev.y;i.y+=r*e.friction.y;i._dy=i.y-i.prev.y}};var RunImmovableBody2=function(t){if(t===2){e.velocity.x=0}else if(g){e.processX(m,o,true)}else{e.processX(-m,o,false,true)}if(i.moves){var r=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;e.y+=r*i.friction.y;e._dy=e.y-e.prev.y}};t.exports={BlockCheck:BlockCheck,Check:Check,Set:Set2,Run:Run,RunImmovableBody1:RunImmovableBody1,RunImmovableBody2:RunImmovableBody2}},47962:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e;var i;var r;var s;var n;var a;var o;var l;var h;var u;var c;var f;var d;var v;var p;var g;var m;var Set2=function(t,n,a){e=t;i=n;var y=e.velocity.y;var x=i.velocity.y;r=e.pushable;h=e._dy<0;u=e._dy>0;c=e._dy===0;p=Math.abs(e.bottom-i.y)<=Math.abs(i.bottom-e.y);o=x-y*e.bounce.y;s=i.pushable;f=i._dy<0;d=i._dy>0;v=i._dy===0;g=!p;l=y-x*i.bounce.y;m=Math.abs(a);return BlockCheck()};var BlockCheck=function(){if(u&&p&&i.blocked.down){e.processY(-m,o,false,true);return 1}if(h&&g&&i.blocked.up){e.processY(m,o,true);return 1}if(d&&g&&e.blocked.down){i.processY(-m,l,false,true);return 2}if(f&&p&&e.blocked.up){i.processY(m,l,true);return 2}return 0};var Check=function(){var t=e.velocity.y;var r=i.velocity.y;var s=Math.sqrt(r*r*i.mass/e.mass)*(r>0?1:-1);var o=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1);var l=(s+o)*.5;s-=l;o-=l;n=l+s*e.bounce.y;a=l+o*i.bounce.y;if(h&&g){return Run(0)}if(f&&p){return Run(1)}if(u&&p){return Run(2)}if(d&&g){return Run(3)}return false};var Run=function(t){if(r&&s){m*=.5;if(t===0||t===3){e.processY(m,n);i.processY(-m,a)}else{e.processY(-m,n);i.processY(m,a)}}else if(r&&!s){if(t===0||t===3){e.processY(m,o,true)}else{e.processY(-m,o,false,true)}}else if(!r&&s){if(t===0||t===3){i.processY(-m,l,false,true)}else{i.processY(m,l,true)}}else{var p=m*.5;if(t===0){if(v){e.processY(m,0,true);i.processY(0,null,false,true)}else if(d){e.processY(p,0,true);i.processY(-p,0,false,true)}else{e.processY(p,i.velocity.y,true);i.processY(-p,null,false,true)}}else if(t===1){if(c){e.processY(0,null,false,true);i.processY(m,0,true)}else if(u){e.processY(-p,0,false,true);i.processY(p,0,true)}else{e.processY(-p,null,false,true);i.processY(p,e.velocity.y,true)}}else if(t===2){if(v){e.processY(-m,0,false,true);i.processY(0,null,true)}else if(f){e.processY(-p,0,false,true);i.processY(p,0,true)}else{e.processY(-p,i.velocity.y,false,true);i.processY(p,null,true)}}else if(t===3){if(c){e.processY(0,null,true);i.processY(-m,0,false,true)}else if(h){e.processY(p,0,true);i.processY(-p,0,false,true)}else{e.processY(p,i.velocity.y,true);i.processY(-p,null,false,true)}}}return true};var RunImmovableBody1=function(t){if(t===1){i.velocity.y=0}else if(p){i.processY(m,l,true)}else{i.processY(-m,l,false,true)}if(e.moves){var r=e.directControl?e.x-e.autoFrame.x:e.x-e.prev.x;i.x+=r*e.friction.x;i._dx=i.x-i.prev.x}};var RunImmovableBody2=function(t){if(t===2){e.velocity.y=0}else if(g){e.processY(m,o,true)}else{e.processY(-m,o,false,true)}if(i.moves){var r=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;e.x+=r*i.friction.x;e._dx=e.x-e.prev.x}};t.exports={BlockCheck:BlockCheck,Check:Check,Set:Set2,Run:Run,RunImmovableBody1:RunImmovableBody1,RunImmovableBody2:RunImmovableBody2}},14087:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(64897);var s=i(3017);var SeparateX=function(t,e,i,n,a){if(a===void 0){a=r(t,e,i,n)}var o=t.immovable;var l=e.immovable;if(i||a===0||o&&l||t.customSeparateX||e.customSeparateX){return a!==0||t.embedded&&e.embedded}var h=s.Set(t,e,a);if(!o&&!l){if(h>0){return true}return s.Check()}else if(o){s.RunImmovableBody1(h)}else if(l){s.RunImmovableBody2(h)}return true};t.exports=SeparateX},89936:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45170);var s=i(47962);var SeparateY=function(t,e,i,n,a){if(a===void 0){a=r(t,e,i,n)}var o=t.immovable;var l=e.immovable;if(i||a===0||o&&l||t.customSeparateY||e.customSeparateY){return a!==0||t.embedded&&e.embedded}var h=s.Set(t,e,a);if(!o&&!l){if(h>0){return true}return s.Check()}else if(o){s.RunImmovableBody1(h)}else if(l){s.RunImmovableBody2(h)}return true};t.exports=SeparateY},95829:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetCollisionObject=function(t,e){if(e===void 0){e={}}e.none=t;e.up=false;e.down=false;e.left=false;e.right=false;if(!t){e.up=true;e.down=true;e.left=true;e.right=true}return e};t.exports=SetCollisionObject},72624:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87902);var s=i(83419);var n=i(78389);var a=i(37747);var o=i(37303);var l=i(95829);var h=i(26099);var u=new s({Mixins:[n],initialize:function StaticBody2(t,e){var i=64;var r=64;var s={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0};var n=e!==void 0;if(n&&e.displayWidth){i=e.displayWidth;r=e.displayHeight}if(!n){e=s}this.world=t;this.gameObject=n?e:void 0;this.isBody=true;this.debugShowBody=t.defaults.debugShowStaticBody;this.debugBodyColor=t.defaults.staticBodyDebugColor;this.enable=true;this.isCircle=false;this.radius=0;this.offset=new h;this.position=new h(e.x-i*e.originX,e.y-r*e.originY);this.width=i;this.height=r;this.halfWidth=Math.abs(this.width/2);this.halfHeight=Math.abs(this.height/2);this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=h.ZERO;this.allowGravity=false;this.gravity=h.ZERO;this.bounce=h.ZERO;this.onWorldBounds=false;this.onCollide=false;this.onOverlap=false;this.mass=1;this.immovable=true;this.pushable=false;this.customSeparateX=false;this.customSeparateY=false;this.overlapX=0;this.overlapY=0;this.overlapR=0;this.embedded=false;this.collideWorldBounds=false;this.checkCollision=l(false);this.touching=l(true);this.wasTouching=l(true);this.blocked=l(true);this.physicsType=a.STATIC_BODY;this.collisionCategory=1;this.collisionMask=1;this._dx=0;this._dy=0},setGameObject:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}if(!t||!t.hasTransformComponent){return this}var r=this.world;if(this.gameObject&&this.gameObject.body){r.disable(this.gameObject);this.gameObject.body=null}if(t.body){r.disable(t)}this.gameObject=t;t.body=this;this.setSize();if(e){this.updateFromGameObject()}this.enable=i;return this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;t.getTopLeft(this.position);this.width=t.displayWidth;this.height=t.displayHeight;this.halfWidth=Math.abs(this.width/2);this.halfHeight=Math.abs(this.height/2);this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.world.staticTree.insert(this);return this},setOffset:function(t,e){if(e===void 0){e=t}this.world.staticTree.remove(this);this.position.x-=this.offset.x;this.position.y-=this.offset.y;this.offset.set(t,e);this.position.x+=this.offset.x;this.position.y+=this.offset.y;this.updateCenter();this.world.staticTree.insert(this);return this},setSize:function(t,e,i){if(i===void 0){i=true}var r=this.gameObject;if(r&&r.frame){if(!t){t=r.frame.realWidth}if(!e){e=r.frame.realHeight}}this.world.staticTree.remove(this);this.width=t;this.height=e;this.halfWidth=Math.floor(t/2);this.halfHeight=Math.floor(e/2);if(i&&r&&r.getCenter){var s=r.displayWidth/2;var n=r.displayHeight/2;this.position.x-=this.offset.x;this.position.y-=this.offset.y;this.offset.set(s-this.halfWidth,n-this.halfHeight);this.position.x+=this.offset.x;this.position.y+=this.offset.y}this.updateCenter();this.isCircle=false;this.radius=0;this.world.staticTree.insert(this);return this},setCircle:function(t,e,i){if(e===void 0){e=this.offset.x}if(i===void 0){i=this.offset.y}if(t>0){this.world.staticTree.remove(this);this.isCircle=true;this.radius=t;this.width=t*2;this.height=t*2;this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.offset.set(e,i);this.updateCenter();this.world.staticTree.insert(this)}else{this.isCircle=false}return this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;if(t===void 0){t=i.x}if(e===void 0){e=i.y}this.world.staticTree.remove(this);i.setPosition(t,e);i.getTopLeft(this.position);this.position.x+=this.offset.x;this.position.y+=this.offset.y;this.updateCenter();this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){t.x=this.x;t.y=this.y;t.right=this.right;t.bottom=this.bottom;return t},hitTest:function(t,e){return this.isCircle?r(this,t,e):o(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=false;this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position;var i=e.x+this.halfWidth;var r=e.y+this.halfHeight;if(this.debugShowBody){t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1);if(this.isCircle){t.strokeCircle(i,r,this.width/2)}else{t.strokeRect(e.x,e.y,this.width,this.height)}}},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){if(t<=0){t=.1}this.mass=t;return this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this);this.position.x=t;this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this);this.position.y=t;this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=u},71464:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13759);var s=i(83419);var n=i(78389);var a=i(37747);var o=i(95540);var l=i(26479);var h=i(41212);var u=new s({Extends:l,Mixins:[n],initialize:function StaticPhysicsGroup2(t,e,i,s){if(!i&&!s){s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:r}}else if(h(i)){s=i;i=null;s.internalCreateCallback=this.createCallbackHandler;s.internalRemoveCallback=this.removeCallbackHandler;s.createMultipleCallback=this.createMultipleCallbackHandler;s.classType=o(s,"classType",r)}else if(Array.isArray(i)&&h(i[0])){s=i;i=null;s.forEach((function(t){t.internalCreateCallback=this.createCallbackHandler;t.internalRemoveCallback=this.removeCallbackHandler;t.createMultipleCallback=this.createMultipleCallbackHandler;t.classType=o(t,"classType",r)}))}else{s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}}this.world=t;this.physicsType=a.STATIC_BODY;this.collisionCategory=1;this.collisionMask=1;l.call(this,e,i,s);this.type="StaticPhysicsGroup"},createCallbackHandler:function(t){if(!t.body){this.world.enableBody(t,a.STATIC_BODY)}},removeCallbackHandler:function(t){if(t.body){this.world.disableBody(t)}},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){var t=this.children.entries;for(var e=0;e<t.length;e++){t[e].body.reset()}return this}});t.exports=u},82248:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(55495);var s=i(37742);var n=i(45319);var a=i(83419);var o=i(79342);var l=i(37747);var h=i(20339);var u=i(52816);var c=i(50792);var f=i(63012);var d=i(43855);var v=i(5470);var p=i(94977);var g=i(64897);var m=i(45170);var y=i(96523);var x=i(35154);var b=i(36383);var T=i(25774);var w=i(96602);var E=i(87841);var S=i(59542);var A=i(40012);var C=i(14087);var O=i(89936);var P=i(35072);var I=i(72624);var R=i(2483);var M=i(61340);var L=i(26099);var D=i(15994);var k=new a({Extends:c,initialize:function World2(t,e){c.call(this);this.scene=t;this.bodies=new P;this.staticBodies=new P;this.pendingDestroy=new P;this.colliders=new T;this.gravity=new L(x(e,"gravity.x",0),x(e,"gravity.y",0));this.bounds=new E(x(e,"x",0),x(e,"y",0),x(e,"width",t.sys.scale.width),x(e,"height",t.sys.scale.height));this.checkCollision={up:x(e,"checkCollision.up",true),down:x(e,"checkCollision.down",true),left:x(e,"checkCollision.left",true),right:x(e,"checkCollision.right",true)};this.fps=x(e,"fps",60);this.fixedStep=x(e,"fixedStep",true);this._elapsed=0;this._frameTime=1/this.fps;this._frameTimeMS=1e3*this._frameTime;this.stepsLastFrame=0;this.timeScale=x(e,"timeScale",1);this.OVERLAP_BIAS=x(e,"overlapBias",4);this.TILE_BIAS=x(e,"tileBias",16);this.forceX=x(e,"forceX",false);this.isPaused=x(e,"isPaused",false);this._total=0;this.drawDebug=x(e,"debug",false);this.debugGraphic;this.defaults={debugShowBody:x(e,"debugShowBody",true),debugShowStaticBody:x(e,"debugShowStaticBody",true),debugShowVelocity:x(e,"debugShowVelocity",true),bodyDebugColor:x(e,"debugBodyColor",16711935),staticBodyDebugColor:x(e,"debugStaticBodyColor",255),velocityDebugColor:x(e,"debugVelocityColor",65280)};this.maxEntries=x(e,"maxEntries",16);this.useTree=x(e,"useTree",true);this.tree=new S(this.maxEntries);this.staticTree=new S(this.maxEntries);this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0};this._tempMatrix=new M;this._tempMatrix2=new M;this.tileFilterOptions={isColliding:true,isNotEmpty:true,hasInterestingFace:true};if(this.drawDebug){this.createDebugGraphic()}},enable:function(t,e){if(e===void 0){e=l.DYNAMIC_BODY}if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];if(r.isParent){var s=r.getChildren();for(var n=0;n<s.length;n++){var a=s[n];if(a.isParent){this.enable(a,e)}else{this.enableBody(a,e)}}}else{this.enableBody(r,e)}}},enableBody:function(t,e){if(e===void 0){e=l.DYNAMIC_BODY}if(t.hasTransformComponent){if(!t.body){if(e===l.DYNAMIC_BODY){t.body=new s(this,t)}else if(e===l.STATIC_BODY){t.body=new I(this,t)}}this.add(t.body)}return t},add:function(t){if(t.physicsType===l.DYNAMIC_BODY){this.bodies.set(t)}else if(t.physicsType===l.STATIC_BODY){this.staticBodies.set(t);this.staticTree.insert(t)}t.enable=true;return t},disable:function(t){if(!Array.isArray(t)){t=[t]}for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent){var r=i.getChildren();for(var s=0;s<r.length;s++){var n=r[s];if(n.isParent){this.disable(n)}else{this.disableBody(n.body)}}}else{this.disableBody(i.body)}}},disableBody:function(t){this.remove(t);t.enable=false},remove:function(t){if(t.physicsType===l.DYNAMIC_BODY){this.tree.remove(t);this.bodies.delete(t)}else if(t.physicsType===l.STATIC_BODY){this.staticBodies.delete(t);this.staticTree.remove(t)}},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});t.setDepth(Number.MAX_VALUE);this.debugGraphic=t;this.drawDebug=true;return t},setBounds:function(t,e,i,r,s,n,a,o){this.bounds.setTo(t,e,i,r);if(s!==void 0){this.setBoundsCollision(s,n,a,o)}return this},setBoundsCollision:function(t,e,i,r){if(t===void 0){t=true}if(e===void 0){e=true}if(i===void 0){i=true}if(r===void 0){r=true}this.checkCollision.left=t;this.checkCollision.right=e;this.checkCollision.up=i;this.checkCollision.down=r;return this},pause:function(){this.isPaused=true;this.emit(f.PAUSE);return this},resume:function(){this.isPaused=false;this.emit(f.RESUME);return this},addCollider:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}var n=new o(this,false,t,e,i,r,s);this.colliders.add(n);return n},addOverlap:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}var n=new o(this,true,t,e,i,r,s);this.colliders.add(n);return n},removeCollider:function(t){this.colliders.remove(t);return this},setFPS:function(t){this.fps=t;this._frameTime=1/this.fps;this._frameTimeMS=1e3*this._frameTime;return this},update:function(t,e){if(this.isPaused||this.bodies.size===0){return}var i;var r=this._frameTime;var s=this._frameTimeMS*this.timeScale;this._elapsed+=e;var n;var a=this.bodies.entries;var o=this._elapsed>=s;if(!this.fixedStep){r=e*.001;o=true;this._elapsed=0}for(i=0;i<a.length;i++){n=a[i];if(n.enable){n.preUpdate(o,r)}}if(o){this._elapsed-=s;this.stepsLastFrame=1;if(this.useTree){this.tree.clear();this.tree.load(a)}var l=this.colliders.update();for(i=0;i<l.length;i++){var h=l[i];if(h.active){h.update()}}this.emit(f.WORLD_STEP,r)}while(this._elapsed>=s){this._elapsed-=s;this.step(r)}},step:function(t){var e;var i;var r=this.bodies.entries;var s=r.length;for(e=0;e<s;e++){i=r[e];if(i.enable){i.update(t)}}if(this.useTree){this.tree.clear();this.tree.load(r)}var n=this.colliders.update();for(e=0;e<n.length;e++){var a=n[e];if(a.active){a.update()}}this.emit(f.WORLD_STEP,t);this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS);this.postUpdate()},postUpdate:function(){var t;var e;var i=this.bodies.entries;var r=i.length;var s=this.bodies;var n=this.staticBodies;if(this.stepsLastFrame){this.stepsLastFrame=0;for(t=0;t<r;t++){e=i[t];if(e.enable){e.postUpdate()}}}if(this.drawDebug){var a=this.debugGraphic;a.clear();for(t=0;t<r;t++){e=i[t];if(e.willDrawDebug()){e.drawDebug(a)}}i=n.entries;r=i.length;for(t=0;t<r;t++){e=i[t];if(e.willDrawDebug()){e.drawDebug(a)}}}var o=this.pendingDestroy;if(o.size>0){var h=this.tree;var u=this.staticTree;i=o.entries;r=i.length;for(t=0;t<r;t++){e=i[t];if(e.physicsType===l.DYNAMIC_BODY){h.remove(e);s.delete(e)}else if(e.physicsType===l.STATIC_BODY){u.remove(e);n.delete(e)}e.world=void 0;e.gameObject=void 0}o.clear()}},updateMotion:function(t,e){if(t.allowRotation){this.computeAngularVelocity(t,e)}this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity;var r=t.angularAcceleration;var s=t.angularDrag;var a=t.maxAngular;if(r){i+=r*e}else if(t.allowDrag&&s){s*=e;if(v(i-s,0,.1)){i-=s}else if(p(i+s,0,.1)){i+=s}else{i=0}}i=n(i,-a,a);var o=i-t.angularVelocity;t.angularVelocity+=o;t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x;var r=t.acceleration.x;var s=t.drag.x;var a=t.maxVelocity.x;var o=t.velocity.y;var l=t.acceleration.y;var h=t.drag.y;var u=t.maxVelocity.y;var c=t.speed;var f=t.maxSpeed;var g=t.allowDrag;var m=t.useDamping;if(t.allowGravity){i+=(this.gravity.x+t.gravity.x)*e;o+=(this.gravity.y+t.gravity.y)*e}if(r){i+=r*e}else if(g&&s){if(m){s=Math.pow(s,e);i*=s;c=Math.sqrt(i*i+o*o);if(d(c,0,.001)){i=0}}else{s*=e;if(v(i-s,0,.01)){i-=s}else if(p(i+s,0,.01)){i+=s}else{i=0}}}if(l){o+=l*e}else if(g&&h){if(m){h=Math.pow(h,e);o*=h;c=Math.sqrt(i*i+o*o);if(d(c,0,.001)){o=0}}else{h*=e;if(v(o-h,0,.01)){o-=h}else if(p(o+h,0,.01)){o+=h}else{o=0}}}i=n(i,-a,a);o=n(o,-u,u);t.velocity.set(i,o);if(f>-1&&t.velocity.length()>f){t.velocity.normalize().scale(f);c=f}t.speed=c},separate:function(t,e,i,r,s){var n;var a;var o=false;var l=true;if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e)){return o}if(i&&i.call(r,t.gameObject||t,e.gameObject||e)===false){return o}if(t.isCircle||e.isCircle){var h=this.separateCircle(t,e,s);if(h.result){o=true;l=false}else{n=h.x;a=h.y;l=true}}if(l){var u=false;var c=false;var d=this.OVERLAP_BIAS;if(s){u=C(t,e,s,d,n);c=O(t,e,s,d,a)}else if(this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)){u=C(t,e,s,d,n);if(this.intersects(t,e)){c=O(t,e,s,d,a)}}else{c=O(t,e,s,d,a);if(this.intersects(t,e)){u=C(t,e,s,d,n)}}o=u||c}if(o){if(s){if(t.onOverlap||e.onOverlap){this.emit(f.OVERLAP,t.gameObject,e.gameObject,t,e)}}else if(t.onCollide||e.onCollide){this.emit(f.COLLIDE,t.gameObject,e.gameObject,t,e)}}return o},separateCircle:function(t,e,i){g(t,e,false,0);m(t,e,false,0);var s=t.isCircle;var n=e.isCircle;var a=t.center;var o=e.center;var l=t.immovable;var c=e.immovable;var f=t.velocity;var d=e.velocity;var v=0;var p=true;if(s!==n){p=false;var y=a.x;var x=a.y;var T=t.halfWidth;var w=e.position.x;var E=e.position.y;var S=e.right;var A=e.bottom;if(n){y=o.x;x=o.y;T=e.halfWidth;w=t.position.x;E=t.position.y;S=t.right;A=t.bottom}if(x<E){if(y<w){v=h(y,x,w,E)-T}else if(y>S){v=h(y,x,S,E)-T}}else if(x>A){if(y<w){v=h(y,x,w,A)-T}else if(y>S){v=h(y,x,S,A)-T}}v*=-1}else{v=t.halfWidth+e.halfWidth-u(a,o)}t.overlapR=v;e.overlapR=v;var C=r(a,o);var O=(v+b.EPSILON)*Math.cos(C);var P=(v+b.EPSILON)*Math.sin(C);var I={overlap:v,result:false,x:O,y:P};if(i&&(!p||p&&v!==0)){I.result=true;return I}if(!p&&v===0||l&&c||t.customSeparateX||e.customSeparateX){I.x=void 0;I.y=void 0;return I}var R=!t.pushable&&!e.pushable;if(p){var M=a.x-o.x;var L=a.y-o.y;var D=Math.sqrt(Math.pow(M,2)+Math.pow(L,2));var k=(o.x-a.x)/D||0;var F=(o.y-a.y)/D||0;var B=2*(f.x*k+f.y*F-d.x*k-d.y*F)/(t.mass+e.mass);if(l||c||!t.pushable||!e.pushable){B*=2}if(!l&&t.pushable){f.x=f.x-B/t.mass*k;f.y=f.y-B/t.mass*F;f.multiply(t.bounce)}if(!c&&e.pushable){d.x=d.x+B/e.mass*k;d.y=d.y+B/e.mass*F;d.multiply(e.bounce)}if(!l&&!c){O*=.5;P*=.5}if(!l||t.pushable||R){t.x-=O;t.y-=P;t.updateCenter()}if(!c||e.pushable||R){e.x+=O;e.y+=P;e.updateCenter()}I.result=true}else{if(!l||t.pushable||R){t.x-=O;t.y-=P;t.updateCenter()}if(!c||e.pushable||R){e.x+=O;e.y+=P;e.updateCenter()}I.x=void 0;I.y=void 0}return I},intersects:function(t,e){if(t===e){return false}if(!t.isCircle&&!e.isCircle){return!(t.right<=e.left||t.bottom<=e.top||t.left>=e.right||t.top>=e.bottom)}else if(t.isCircle){if(e.isCircle){return u(t.center,e.center)<=t.halfWidth+e.halfWidth}else{return this.circleBodyIntersects(t,e)}}else{return this.circleBodyIntersects(e,t)}},circleBodyIntersects:function(t,e){var i=n(t.center.x,e.left,e.right);var r=n(t.center.y,e.top,e.bottom);var s=(t.center.x-i)*(t.center.x-i);var a=(t.center.y-r)*(t.center.y-r);return s+a<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}return this.collideObjects(t,e,i,r,s,true)},collide:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}return this.collideObjects(t,e,i,r,s,false)},collideObjects:function(t,e,i,r,s,n){var a;var o;if(t.isParent&&(t.physicsType===void 0||e===void 0||t===e)){t=t.children.entries}if(e&&e.isParent&&e.physicsType===void 0){e=e.children.entries}var l=Array.isArray(t);var h=Array.isArray(e);this._total=0;if(!l&&!h){this.collideHandler(t,e,i,r,s,n)}else if(!l&&h){for(a=0;a<e.length;a++){this.collideHandler(t,e[a],i,r,s,n)}}else if(l&&!h){if(!e){for(a=0;a<t.length;a++){var u=t[a];for(o=a+1;o<t.length;o++){if(a===o){continue}this.collideHandler(u,t[o],i,r,s,n)}}}else{for(a=0;a<t.length;a++){this.collideHandler(t[a],e,i,r,s,n)}}}else{for(a=0;a<t.length;a++){for(o=0;o<e.length;o++){this.collideHandler(t[a],e[o],i,r,s,n)}}}return this._total>0},collideHandler:function(t,e,i,r,s,n){if(e===void 0&&t.isParent){return this.collideGroupVsGroup(t,t,i,r,s,n)}if(!t||!e){return false}if(t.body||t.isBody){if(e.body||e.isBody){return this.collideSpriteVsSprite(t,e,i,r,s,n)}else if(e.isParent){return this.collideSpriteVsGroup(t,e,i,r,s,n)}else if(e.isTilemap){return this.collideSpriteVsTilemapLayer(t,e,i,r,s,n)}}else if(t.isParent){if(e.body||e.isBody){return this.collideSpriteVsGroup(e,t,i,r,s,n)}else if(e.isParent){return this.collideGroupVsGroup(t,e,i,r,s,n)}else if(e.isTilemap){return this.collideGroupVsTilemapLayer(t,e,i,r,s,n)}}else if(t.isTilemap){if(e.body||e.isBody){return this.collideSpriteVsTilemapLayer(e,t,i,r,s,n)}else if(e.isParent){return this.collideGroupVsTilemapLayer(e,t,i,r,s,n)}}},canCollide:function(t,e){return t&&e&&(t.collisionMask&e.collisionCategory)!==0&&(e.collisionMask&t.collisionCategory)!==0},collideSpriteVsSprite:function(t,e,i,r,s,n){var a=t.isBody?t:t.body;var o=e.isBody?e:e.body;if(!this.canCollide(a,o)){return false}if(this.separate(a,o,r,s,n)){if(i){i.call(s,t,e)}this._total++}return true},collideSpriteVsGroup:function(t,e,i,r,s,n){var a=t.isBody?t:t.body;if(e.getLength()===0||!a||!a.enable||a.checkCollision.none||!this.canCollide(a,e)){return}var o;var h;var u;if(this.useTree||e.physicsType===l.STATIC_BODY){var c=this.treeMinMax;c.minX=a.left;c.minY=a.top;c.maxX=a.right;c.maxY=a.bottom;var f=e.physicsType===l.DYNAMIC_BODY?this.tree.search(c):this.staticTree.search(c);h=f.length;for(o=0;o<h;o++){u=f[o];if(a===u||!u.enable||u.checkCollision.none||!e.contains(u.gameObject)){continue}if(this.separate(a,u,r,s,n)){if(i){i.call(s,a.gameObject,u.gameObject)}this._total++}}}else{var d=e.getChildren();var v=e.children.entries.indexOf(t);h=d.length;for(o=0;o<h;o++){u=d[o].body;if(!u||o===v||!u.enable){continue}if(this.separate(a,u,r,s,n)){if(i){i.call(s,a.gameObject,u.gameObject)}this._total++}}}},collideGroupVsTilemapLayer:function(t,e,i,r,s,n){if(!this.canCollide(t,e)){return false}var a=t.getChildren();if(a.length===0){return false}var o=false;for(var l=0;l<a.length;l++){if(a[l].body||a[l].isBody){if(this.collideSpriteVsTilemapLayer(a[l],e,i,r,s,n)){o=true}}}return o},collideTiles:function(t,e,i,r,s){if(e.length===0||t.body&&!t.body.enable||t.isBody&&!t.enable){return false}else{return this.collideSpriteVsTilesHandler(t,e,i,r,s,false,false)}},overlapTiles:function(t,e,i,r,s){if(e.length===0||t.body&&!t.body.enable||t.isBody&&!t.enable){return false}else{return this.collideSpriteVsTilesHandler(t,e,i,r,s,true,false)}},collideSpriteVsTilemapLayer:function(t,e,i,r,s,n){var a=t.isBody?t:t.body;if(!a.enable||a.checkCollision.none||!this.canCollide(a,e)){return false}var o=e.layer;var l=a.x-o.tileWidth*e.scaleX;var h=a.y-o.tileHeight*e.scaleY;var u=a.width+o.tileWidth*e.scaleX;var c=a.height+o.tileHeight*e.scaleY;var f=n?null:this.tileFilterOptions;var d=y(l,h,u,c,f,e.scene.cameras.main,e.layer);if(d.length===0){return false}else{return this.collideSpriteVsTilesHandler(t,d,i,r,s,n,true)}},collideSpriteVsTilesHandler:function(t,e,i,r,s,n,a){var o=t.isBody?t:t.body;var l;var h={left:0,right:0,top:0,bottom:0};var u;var c=false;for(var d=0;d<e.length;d++){l=e[d];u=l.tilemapLayer;var v=u.tileToWorldXY(l.x,l.y);h.left=v.x;h.top=v.y;h.right=h.left+l.width*u.scaleX;h.bottom=h.top+l.height*u.scaleY;if(R(h,o)&&(!r||r.call(s,t,l))&&w(l,t)&&(n||A(d,o,l,h,u,this.TILE_BIAS,a))){this._total++;c=true;if(i){i.call(s,t,l)}if(n&&o.onOverlap){this.emit(f.TILE_OVERLAP,t,l,o)}else if(o.onCollide){this.emit(f.TILE_COLLIDE,t,l,o)}}}return c},collideGroupVsGroup:function(t,e,i,r,s,n){if(t.getLength()===0||e.getLength()===0||!this.canCollide(t,e)){return}var a=t.getChildren();for(var o=0;o<a.length;o++){this.collideSpriteVsGroup(a[o],e,i,r,s,n)}},wrap:function(t,e){if(t.body){this.wrapObject(t,e)}else if(t.getChildren){this.wrapArray(t.getChildren(),e)}else if(Array.isArray(t)){this.wrapArray(t,e)}else{this.wrapObject(t,e)}},wrapArray:function(t,e){for(var i=0;i<t.length;i++){this.wrapObject(t[i],e)}},wrapObject:function(t,e){if(e===void 0){e=0}t.x=D(t.x,this.bounds.left-e,this.bounds.right+e);t.y=D(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear();this.staticTree.clear();this.bodies.clear();this.staticBodies.clear();this.colliders.destroy();this.removeAllListeners()},destroy:function(){this.shutdown();this.scene=null;if(this.debugGraphic){this.debugGraphic.destroy();this.debugGraphic=null}}});t.exports=k},1093:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setAcceleration:function(t,e){this.body.acceleration.set(t,e);return this},setAccelerationX:function(t){this.body.acceleration.x=t;return this},setAccelerationY:function(t){this.body.acceleration.y=t;return this}};t.exports=e},59023:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setAngularVelocity:function(t){this.body.angularVelocity=t;return this},setAngularAcceleration:function(t){this.body.angularAcceleration=t;return this},setAngularDrag:function(t){this.body.angularDrag=t;return this}};t.exports=e},62069:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setBounce:function(t,e){this.body.bounce.set(t,e);return this},setBounceX:function(t){this.body.bounce.x=t;return this},setBounceY:function(t){this.body.bounce.y=t;return this},setCollideWorldBounds:function(t,e,i,r){this.body.setCollideWorldBounds(t,e,i,r);return this}};t.exports=e},78389:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79599);var s={setCollisionCategory:function(t){var e=this.body?this.body:this;e.collisionCategory=t;return this},willCollideWith:function(t){var e=this.body?this.body:this;return(e.collisionMask&t)!==0},addCollidesWith:function(t){var e=this.body?this.body:this;e.collisionMask=e.collisionMask|t;return this},removeCollidesWith:function(t){var e=this.body?this.body:this;e.collisionMask=e.collisionMask&~t;return this},setCollidesWith:function(t){var e=this.body?this.body:this;e.collisionMask=r(t);return this},resetCollisionCategory:function(){var t=this.body?this.body:this;t.collisionCategory=1;t.collisionMask=2147483647;return this}};t.exports=s},87118:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setDebug:function(t,e,i){this.debugShowBody=t;this.debugShowVelocity=e;this.debugBodyColor=i;return this},setDebugBodyColor:function(t){this.body.debugBodyColor=t;return this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};t.exports=e},52819:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setDrag:function(t,e){this.body.drag.set(t,e);return this},setDragX:function(t){this.body.drag.x=t;return this},setDragY:function(t){this.body.drag.y=t;return this},setDamping:function(t){this.body.useDamping=t;return this}};t.exports=e},4074:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setDirectControl:function(t){this.body.setDirectControl(t);return this},enableBody:function(t,e,i,r,s){if(t){this.body.reset(e,i)}if(r){this.body.gameObject.active=true}if(s){this.body.gameObject.visible=true}this.body.enable=true;return this},disableBody:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}this.body.stop();this.body.enable=false;if(t){this.body.gameObject.active=false}if(e){this.body.gameObject.visible=false}return this},refreshBody:function(){this.body.updateFromGameObject();return this}};t.exports=e},40831:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setFriction:function(t,e){this.body.friction.set(t,e);return this},setFrictionX:function(t){this.body.friction.x=t;return this},setFrictionY:function(t){this.body.friction.y=t;return this}};t.exports=e},26775:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setGravity:function(t,e){this.body.gravity.set(t,e);return this},setGravityX:function(t){this.body.gravity.x=t;return this},setGravityY:function(t){this.body.gravity.y=t;return this}};t.exports=e},9437:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setImmovable:function(t){if(t===void 0){t=true}this.body.immovable=t;return this}};t.exports=e},30621:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setMass:function(t){this.body.mass=t;return this}};t.exports=e},72441:(t,e,i)=>{var r=i(47956);var s=i(96503);var n=i(2044);var a=i(81491);var OverlapCirc=function(t,e,i,o,l,h){var u=r(t,e-o,i-o,2*o,2*o,l,h);if(u.length===0){return u}var c=new s(e,i,o);var f=new s;var d=[];for(var v=0;v<u.length;v++){var p=u[v];if(p.isCircle){f.setTo(p.center.x,p.center.y,p.halfWidth);if(n(c,f)){d.push(p)}}else if(a(c,p)){d.push(p)}}return d};t.exports=OverlapCirc},47956:t=>{var OverlapRect=function(t,e,i,r,s,n,a){if(n===void 0){n=true}if(a===void 0){a=false}var o=[];var l=[];var h=t.treeMinMax;h.minX=e;h.minY=i;h.maxX=e+r;h.maxY=i+s;if(a){l=t.staticTree.search(h)}if(n&&t.useTree){o=t.tree.search(h)}else if(n){var u=t.bodies;var c={position:{x:e,y:i},left:e,top:i,right:e+r,bottom:i+s,isCircle:false};var f=t.intersects;u.iterate((function(t){if(f(t,c)){o.push(t)}}))}return l.concat(o)};t.exports=OverlapRect},62121:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setPushable:function(t){if(t===void 0){t=true}this.body.pushable=t;return this}};t.exports=e},29384:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setOffset:function(t,e){this.body.setOffset(t,e);return this},setSize:function(t,e,i){this.body.setSize(t,e,i);return this},setBodySize:function(t,e,i){this.body.setSize(t,e,i);return this},setCircle:function(t,e,i){this.body.setCircle(t,e,i);return this}};t.exports=e},15098:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setVelocity:function(t,e){this.body.setVelocity(t,e);return this},setVelocityX:function(t){this.body.setVelocityX(t);return this},setVelocityY:function(t){this.body.setVelocityY(t);return this},setMaxVelocity:function(t,e){this.body.maxVelocity.set(t,e);return this}};t.exports=e},92209:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};t.exports=e},20009:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="collide"},36768:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="overlap"},60473:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},89954:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},61804:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="tilecollide"},7161:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="tileoverlap"},34689:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="worldbounds"},16006:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="worldstep"},63012:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37747);var s=i(79291);var n={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};n=s(false,n,r);t.exports=n},96602:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ProcessTileCallbacks=function(t,e){if(t.collisionCallback){return!t.collisionCallback.call(t.collisionCallbackContext,e,t)}else if(t.layer.callbacks[t.index]){return!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}return true};t.exports=ProcessTileCallbacks},36294:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ProcessTileSeparationX=function(t,e){if(e<0){t.blocked.none=false;t.blocked.left=true}else if(e>0){t.blocked.none=false;t.blocked.right=true}t.position.x-=e;t.updateCenter();if(t.bounce.x===0){t.velocity.x=0}else{t.velocity.x=-t.velocity.x*t.bounce.x}};t.exports=ProcessTileSeparationX},67013:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ProcessTileSeparationY=function(t,e){if(e<0){t.blocked.none=false;t.blocked.up=true}else if(e>0){t.blocked.none=false;t.blocked.down=true}t.position.y-=e;t.updateCenter();if(t.bounce.y===0){t.velocity.y=0}else{t.velocity.y=-t.velocity.y*t.bounce.y}};t.exports=ProcessTileSeparationY},40012:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(21329);var s=i(53442);var n=i(2483);var SeparateTile=function(t,e,i,a,o,l,h){var u=a.left;var c=a.top;var f=a.right;var d=a.bottom;var v=i.faceLeft||i.faceRight;var p=i.faceTop||i.faceBottom;if(!h){v=true;p=true}if(!v&&!p){return false}var g=0;var m=0;var y=0;var x=1;if(e.deltaAbsX()>e.deltaAbsY()){y=-1}else if(e.deltaAbsX()<e.deltaAbsY()){x=-1}if(e.deltaX()!==0&&e.deltaY()!==0&&v&&p){y=Math.min(Math.abs(e.position.x-f),Math.abs(e.right-u));x=Math.min(Math.abs(e.position.y-d),Math.abs(e.bottom-c))}if(y<x){if(v){g=r(e,i,u,f,l,h);if(g!==0&&!n(a,e)){return true}}if(p){m=s(e,i,c,d,l,h)}}else{if(p){m=s(e,i,c,d,l,h);if(m!==0&&!n(a,e)){return true}}if(v){g=r(e,i,u,f,l,h)}}return g!==0||m!==0};t.exports=SeparateTile},21329:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36294);var TileCheckX=function(t,e,i,s,n,a){var o=0;var l=e.faceLeft;var h=e.faceRight;var u=e.collideLeft;var c=e.collideRight;if(!a){l=true;h=true;u=true;c=true}if(t.deltaX()<0&&c&&t.checkCollision.left){if(h&&t.x<s){o=t.x-s;if(o<-n){o=0}}}else if(t.deltaX()>0&&u&&t.checkCollision.right){if(l&&t.right>i){o=t.right-i;if(o>n){o=0}}}if(o!==0){if(t.customSeparateX){t.overlapX=o}else{r(t,o)}}return o};t.exports=TileCheckX},53442:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(67013);var TileCheckY=function(t,e,i,s,n,a){var o=0;var l=e.faceTop;var h=e.faceBottom;var u=e.collideUp;var c=e.collideDown;if(!a){l=true;h=true;u=true;c=true}if(t.deltaY()<0&&c&&t.checkCollision.up){if(h&&t.y<s){o=t.y-s;if(o<-n){o=0}}}else if(t.deltaY()>0&&u&&t.checkCollision.down){if(l&&t.bottom>i){o=t.bottom-i;if(o>n){o=0}}}if(o!==0){if(t.customSeparateY){t.overlapY=o}else{r(t,o)}}return o};t.exports=TileCheckY},2483:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileIntersectsBody=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)};t.exports=TileIntersectsBody},55173:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};t.exports=r},44563:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Arcade:i(27064),Matter:i(3875)}},68174:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(26099);var n=new r({initialize:function BodyBounds2(){this.boundsCenter=new s;this.centerDiff=new s},parseBody:function(t){t=t.hasOwnProperty("body")?t.body:t;if(!t.hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass")){return false}var e=this.boundsCenter;var i=this.centerDiff;var r=t.bounds.max.x-t.bounds.min.x;var s=t.bounds.max.y-t.bounds.min.y;var n=r*t.centerOfMass.x;var a=s*t.centerOfMass.y;e.set(r/2,s/2);i.set(n-e.x,a-e.y);return true},getTopLeft:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e+r.x+n.x,i+r.y+n.y)}return false},getTopCenter:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e+n.x,i+r.y+n.y)}return false},getTopRight:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e-(r.x-n.x),i+r.y+n.y)}return false},getLeftCenter:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e+r.x+n.x,i+n.y)}return false},getCenter:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.centerDiff;return new s(e+r.x,i+r.y)}return false},getRightCenter:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e-(r.x-n.x),i+n.y)}return false},getBottomLeft:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e+r.x+n.x,i-(r.y-n.y))}return false},getBottomCenter:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e+n.x,i-(r.y-n.y))}return false},getBottomRight:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(this.parseBody(t)){var r=this.boundsCenter;var n=this.centerDiff;return new s(e-(r.x-n.x),i-(r.y-n.y))}return false}});t.exports=n},19933:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6790);r.Body=i(22562);r.Composite=i(69351);r.World=i(4372);r.Collision=i(52284);r.Detector=i(81388);r.Pairs=i(99561);r.Pair=i(4506);r.Query=i(73296);r.Resolver=i(66272);r.Constraint=i(48140);r.Common=i(53402);r.Engine=i(48413);r.Events=i(35810);r.Sleeping=i(53614);r.Plugin=i(73832);r.Bodies=i(66280);r.Composites=i(74116);r.Axes=i(66615);r.Bounds=i(15647);r.Svg=i(74058);r.Vector=i(31725);r.Vertices=i(41598);r.World.add=r.Composite.add;r.World.remove=r.Composite.remove;r.World.addComposite=r.Composite.addComposite;r.World.addBody=r.Composite.addBody;r.World.addConstraint=r.Composite.addConstraint;r.World.clear=r.Composite.clear;t.exports=r},28137:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(83419);var n=i(74116);var a=i(48140);var o=i(74058);var l=i(75803);var h=i(23181);var u=i(34803);var c=i(73834);var f=i(19496);var d=i(85791);var v=i(98713);var p=i(41598);var g=new s({initialize:function Factory2(t){this.world=t;this.scene=t.scene;this.sys=t.scene.sys},rectangle:function(t,e,i,s,n){var a=r.rectangle(t,e,i,s,n);this.world.add(a);return a},trapezoid:function(t,e,i,s,n,a){var o=r.trapezoid(t,e,i,s,n,a);this.world.add(o);return o},circle:function(t,e,i,s,n){var a=r.circle(t,e,i,s,n);this.world.add(a);return a},polygon:function(t,e,i,s,n){var a=r.polygon(t,e,i,s,n);this.world.add(a);return a},fromVertices:function(t,e,i,s,n,a,o){if(typeof i==="string"){i=p.fromPath(i)}var l=r.fromVertices(t,e,i,s,n,a,o);this.world.add(l);return l},fromPhysicsEditor:function(t,e,i,r,s){if(s===void 0){s=true}var n=f.parseBody(t,e,i,r);if(s&&!this.world.has(n)){this.world.add(n)}return n},fromSVG:function(t,e,i,s,n,a){if(s===void 0){s=1}if(n===void 0){n={}}if(a===void 0){a=true}var l=i.getElementsByTagName("path");var h=[];for(var u=0;u<l.length;u++){var c=o.pathToVertices(l[u],30);if(s!==1){p.scale(c,s,s)}h.push(c)}var f=r.fromVertices(t,e,h,n);if(a){this.world.add(f)}return f},fromJSON:function(t,e,i,r,s){if(r===void 0){r={}}if(s===void 0){s=true}var n=d.parseBody(t,e,i,r);if(n&&s){this.world.add(n)}return n},imageStack:function(t,e,i,r,s,a,o,l,u){if(o===void 0){o=0}if(l===void 0){l=0}if(u===void 0){u={}}var c=this.world;var f=this.sys.displayList;u.addToWorld=false;var d=n.stack(i,r,s,a,o,l,(function(i,r){var s=new h(c,i,r,t,e,u);f.add(s);return s.body}));c.add(d);return d},stack:function(t,e,i,r,s,a,o){var l=n.stack(t,e,i,r,s,a,o);this.world.add(l);return l},pyramid:function(t,e,i,r,s,a,o){var l=n.pyramid(t,e,i,r,s,a,o);this.world.add(l);return l},chain:function(t,e,i,r,s,a){return n.chain(t,e,i,r,s,a)},mesh:function(t,e,i,r,s){return n.mesh(t,e,i,r,s)},newtonsCradle:function(t,e,i,r,s){var a=n.newtonsCradle(t,e,i,r,s);this.world.add(a);return a},car:function(t,e,i,r,s){var a=n.car(t,e,i,r,s);this.world.add(a);return a},softBody:function(t,e,i,r,s,a,o,l,h,u){var c=n.softBody(t,e,i,r,s,a,o,l,h,u);this.world.add(c);return c},joint:function(t,e,i,r,s){return this.constraint(t,e,i,r,s)},spring:function(t,e,i,r,s){return this.constraint(t,e,i,r,s)},constraint:function(t,e,i,r,s){if(r===void 0){r=1}if(s===void 0){s={}}s.bodyA=t.type==="body"?t:t.body;s.bodyB=e.type==="body"?e:e.body;if(!isNaN(i)){s.length=i}s.stiffness=r;var n=a.create(s);this.world.add(n);return n},worldConstraint:function(t,e,i,r){if(i===void 0){i=1}if(r===void 0){r={}}r.bodyB=t.type==="body"?t:t.body;if(!isNaN(e)){r.length=e}r.stiffness=i;var s=a.create(r);this.world.add(s);return s},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){if(t===void 0){t={}}if(!t.hasOwnProperty("render")){t.render={visible:false}}var e=new v(this.scene,this.world,t);this.world.add(e.constraint);return e},image:function(t,e,i,r,s){var n=new h(this.world,t,e,i,r,s);this.sys.displayList.add(n);return n},tileBody:function(t,e){return new c(this.world,t,e)},sprite:function(t,e,i,r,s){var n=new u(this.world,t,e,i,r,s);this.sys.displayList.add(n);this.sys.updateList.add(n);return n},gameObject:function(t,e,i){return l(this.world,t,e,i)},destroy:function(){this.world=null;this.scene=null;this.sys=null}});t.exports=g},75803:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(31884);var s=i(95540);var n=i(26099);function hasGetterOrSetter(t){return!!t.get&&typeof t.get==="function"||!!t.set&&typeof t.set==="function"}var MatterGameObject=function(t,e,i,a){if(i===void 0){i={}}if(a===void 0){a=true}var o=e.x;var l=e.y;e.body={temp:true,position:{x:o,y:l}};var h=[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity];h.forEach((function(t){for(var i in t){if(hasGetterOrSetter(t[i])){Object.defineProperty(e,i,{get:t[i].get,set:t[i].set})}else{Object.defineProperty(e,i,{value:t[i]})}}}));e.world=t;e._tempVec2=new n(o,l);if(i.hasOwnProperty("type")&&i.type==="body"){e.setExistingBody(i,a)}else{var u=s(i,"shape",null);if(!u){u="rectangle"}i.addToWorld=a;e.setBody(u,i)}return e};t.exports=MatterGameObject},23181:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31884);var n=i(95643);var a=i(95540);var o=i(88571);var l=i(72699);var h=i(26099);var u=new r({Extends:o,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,l],initialize:function MatterImage2(t,e,i,r,s,o){n.call(this,t.scene,"Image");this._crop=this.resetCropObject();this.setTexture(r,s);this.setSizeToFrame();this.setOrigin();this.world=t;this._tempVec2=new h(e,i);var l=a(o,"shape",null);if(l){this.setBody(l,o)}else{this.setRectangle(this.width,this.height,o)}this.setPosition(e,i);this.initPipeline();this.initPostPipeline(true)}});t.exports=u},42045:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(60461);var s=i(66615);var n=i(66280);var a=i(22562);var o=i(68174);var l=i(15647);var h=i(83419);var u=i(52284);var c=i(53402);var f=i(69351);var d=i(74116);var v=i(48140);var p=i(81388);var g=i(20339);var m=i(28137);var y=i(95540);var x=i(35154);var b=i(46975);var T=i(4506);var w=i(99561);var E=i(37277);var S=i(73296);var A=i(66272);var C=i(44594);var O=i(74058);var P=i(31725);var I=i(41598);var R=i(68243);c.setDecomp(i(55973));var M=new h({initialize:function MatterPhysics2(t){this.scene=t;this.systems=t.sys;this.config=this.getConfig();this.world;this.add;this.bodyBounds;this.body=a;this.composite=f;this.collision=u;this.detector=p;this.pair=T;this.pairs=w;this.query=S;this.resolver=A;this.constraint=v;this.bodies=n;this.composites=d;this.axes=s;this.bounds=l;this.svg=O;this.vector=P;this.vertices=I;this.verts=I;this._tempVec2=P.create();A._restingThresh=x(this.config,"restingThresh",4);A._restingThreshTangent=x(this.config,"restingThreshTangent",6);A._positionDampen=x(this.config,"positionDampen",.9);A._positionWarming=x(this.config,"positionWarming",.8);A._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5);t.sys.events.once(C.BOOT,this.boot,this);t.sys.events.on(C.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config);this.add=new m(this.world);this.bodyBounds=new o;this.systems.events.once(C.DESTROY,this.destroy,this)},start:function(){if(!this.world){this.world=new R(this.scene,this.config);this.add=new m(this.world)}var t=this.systems.events;t.on(C.UPDATE,this.world.update,this.world);t.on(C.POST_UPDATE,this.world.postUpdate,this.world);t.once(C.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics;var e=this.systems.settings.physics;var i=b(y(e,"matter",{}),y(t,"matter",{}));return i},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){this.world.getDelta=this.world.update60Hz;this.world.autoUpdate=true;return this},set30Hz:function(){this.world.getDelta=this.world.update30Hz;this.world.autoUpdate=true;return this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var r=P.create(e,i);var s=S.point(t,r);return s.length>0?true:false},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var r=P.create(t,e);var s=[];var n=S.point(i,r);n.forEach((function(t){if(s.indexOf(t)===-1){s.push(t)}}));return s},intersectRect:function(t,e,i,r,s,n){if(s===void 0){s=false}n=this.getMatterBodies(n);var a={min:{x:t,y:e},max:{x:t+i,y:e+r}};var o=[];var l=S.region(n,a,s);l.forEach((function(t){if(o.indexOf(t)===-1){o.push(t)}}));return o},intersectRay:function(t,e,i,r,s,n){if(s===void 0){s=1}n=this.getMatterBodies(n);var a=[];var o=S.ray(n,P.create(t,e),P.create(i,r),s);for(var l=0;l<o.length;l++){a.push(o[l].body)}return a},intersectBody:function(t,e){e=this.getMatterBodies(e);var i=[];var r=S.collides(t,e);for(var s=0;s<r.length;s++){var n=r[s];if(n.bodyA===t){i.push(n.bodyB)}else{i.push(n.bodyA)}}return i},overlap:function(t,e,i,r,s){if(i===void 0){i=null}if(r===void 0){r=null}if(s===void 0){s=i}if(!Array.isArray(t)){t=[t]}t=this.getMatterBodies(t);e=this.getMatterBodies(e);var n=false;for(var a=0;a<t.length;a++){var o=t[a];var l=S.collides(o,e);for(var h=0;h<l.length;h++){var u=l[h];var c=u.bodyA.id===o.id?u.bodyB:u.bodyA;if(!r||r.call(s,o,c,u)){n=true;if(i){i.call(s,o,c,u)}else if(!r){return true}}}}return n},setCollisionCategory:function(t,e){t=this.getMatterBodies(t);t.forEach((function(t){t.collisionFilter.category=e}));return this},setCollisionGroup:function(t,e){t=this.getMatterBodies(t);t.forEach((function(t){t.collisionFilter.group=e}));return this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(!Array.isArray(e)){i=e}else{for(var r=0;r<e.length;r++){i|=e[r]}}t.forEach((function(t){t.collisionFilter.mask=i}));return this},getMatterBodies:function(t){if(!t){return this.world.getAllBodies()}if(!Array.isArray(t)){t=[t]}var e=[];for(var i=0;i<t.length;i++){var r=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(r)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var r=this._tempVec2;r.x=e;r.y=i;t.forEach((function(t){a.setVelocity(t,r)}));return this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;i.x=e;t.forEach((function(t){i.y=t.velocity.y;a.setVelocity(t,i)}));return this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;i.y=e;t.forEach((function(t){i.x=t.velocity.x;a.setVelocity(t,i)}));return this},setAngularVelocity:function(t,e){t=this.getMatterBodies(t);t.forEach((function(t){a.setAngularVelocity(t,e)}));return this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;t.forEach((function(t){i.x=t.position.x;i.y=t.position.y;a.applyForce(t,i,e)}));return this},applyForceFromPosition:function(t,e,i,r){t=this.getMatterBodies(t);var s=this._tempVec2;t.forEach((function(t){if(r===void 0){r=t.angle}s.x=i*Math.cos(r);s.y=i*Math.sin(r);a.applyForce(t,e,s)}));return this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var r=this._tempVec2;t.forEach((function(t){if(i===void 0){i=t.angle}r.x=e*Math.cos(i);r.y=e*Math.sin(i);a.applyForce(t,{x:t.position.x,y:t.position.y},r)}));return this},getConstraintLength:function(t){var e=t.pointA.x;var i=t.pointA.y;var r=t.pointB.x;var s=t.pointB.y;if(t.bodyA){e+=t.bodyA.position.x;i+=t.bodyA.position.y}if(t.bodyB){r+=t.bodyB.position.x;s+=t.bodyB.position.y}return g(e,i,r,s)},alignBody:function(t,e,i,s){t=t.hasOwnProperty("body")?t.body:t;var n;switch(s){case r.TOP_LEFT:case r.LEFT_TOP:n=this.bodyBounds.getTopLeft(t,e,i);break;case r.TOP_CENTER:n=this.bodyBounds.getTopCenter(t,e,i);break;case r.TOP_RIGHT:case r.RIGHT_TOP:n=this.bodyBounds.getTopRight(t,e,i);break;case r.LEFT_CENTER:n=this.bodyBounds.getLeftCenter(t,e,i);break;case r.CENTER:n=this.bodyBounds.getCenter(t,e,i);break;case r.RIGHT_CENTER:n=this.bodyBounds.getRightCenter(t,e,i);break;case r.LEFT_BOTTOM:case r.BOTTOM_LEFT:n=this.bodyBounds.getBottomLeft(t,e,i);break;case r.BOTTOM_CENTER:n=this.bodyBounds.getBottomCenter(t,e,i);break;case r.BOTTOM_RIGHT:case r.RIGHT_BOTTOM:n=this.bodyBounds.getBottomRight(t,e,i);break}if(n){a.setPosition(t,n)}return this},shutdown:function(){var t=this.systems.events;if(this.world){t.off(C.UPDATE,this.world.update,this.world);t.off(C.POST_UPDATE,this.world.postUpdate,this.world)}t.off(C.SHUTDOWN,this.shutdown,this);if(this.add){this.add.destroy()}if(this.world){this.world.destroy()}this.add=null;this.world=null},destroy:function(){this.shutdown();this.scene.sys.events.off(C.START,this.start,this);this.scene=null;this.systems=null}});E.register("MatterPhysics",M,"matterPhysics");t.exports=M},34803:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(9674);var s=i(83419);var n=i(31884);var a=i(95643);var o=i(95540);var l=i(72699);var h=i(68287);var u=i(26099);var c=new s({Extends:h,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,l],initialize:function MatterSprite2(t,e,i,s,n,l){a.call(this,t.scene,"Sprite");this._crop=this.resetCropObject();this.anims=new r(this);this.setTexture(s,n);this.setSizeToFrame();this.setOrigin();this.world=t;this._tempVec2=new u(e,i);var h=o(l,"shape",null);if(h){this.setBody(h,l)}else{this.setRectangle(this.width,this.height,l)}this.setPosition(e,i);this.initPipeline();this.initPostPipeline(true)}});t.exports=c},73834:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(22562);var n=i(83419);var a=i(31884);var o=i(62644);var l=i(50792);var h=i(95540);var u=i(97022);var c=i(41598);var f=new n({Extends:l,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function MatterTileBody2(t,e,i){l.call(this);this.tile=e;this.world=t;if(e.physics.matterBody){e.physics.matterBody.destroy()}e.physics.matterBody=this;var r=h(i,"body",null);var n=h(i,"addToWorld",true);if(!r){var a=e.getCollisionGroup();var o=h(a,"objects",[]);if(o.length>0){this.setFromTileCollision(i)}else{this.setFromTileRectangle(i)}}else{this.setBody(r,n)}if(e.flipX||e.flipY){var u={x:e.getCenterX(),y:e.getCenterY()};var c=e.flipX?-1:1;var f=e.flipY?-1:1;s.scale(r,c,f,u)}},setFromTileRectangle:function(t){if(t===void 0){t={}}if(!u(t,"isStatic")){t.isStatic=true}if(!u(t,"addToWorld")){t.addToWorld=true}var e=this.tile.getBounds();var i=e.x+e.width/2;var s=e.y+e.height/2;var n=r.rectangle(i,s,e.width,e.height,t);this.setBody(n,t.addToWorld);return this},setFromTileCollision:function(t){if(t===void 0){t={}}if(!u(t,"isStatic")){t.isStatic=true}if(!u(t,"addToWorld")){t.addToWorld=true}var e=this.tile.tilemapLayer.scaleX;var i=this.tile.tilemapLayer.scaleY;var n=this.tile.getLeft();var a=this.tile.getTop();var l=this.tile.getCollisionGroup();var f=h(l,"objects",[]);var d=[];for(var v=0;v<f.length;v++){var p=f[v];var g=n+p.x*e;var m=a+p.y*i;var y=p.width*e;var x=p.height*i;var b=null;if(p.rectangle){b=r.rectangle(g+y/2,m+x/2,y,x,t)}else if(p.ellipse){b=r.circle(g+y/2,m+x/2,y/2,t)}else if(p.polygon||p.polyline){var T=p.polygon?p.polygon:p.polyline;var w=T.map((function(t){return{x:t.x*e,y:t.y*i}}));var E=c.create(w);var S=c.centre(E);g+=S.x;m+=S.y;b=r.fromVertices(g,m,E,t)}if(b){d.push(b)}}if(d.length===1){this.setBody(d[0],t.addToWorld)}else if(d.length>1){var A=o(t);A.parts=d;this.setBody(s.create(A),A.addToWorld)}return this},setBody:function(t,e){if(e===void 0){e=true}if(this.body){this.removeBody()}this.body=t;this.body.gameObject=this;if(e){this.world.add(this.body)}return this},removeBody:function(){if(this.body){this.world.remove(this.body);this.body.gameObject=void 0;this.body=void 0}return this},destroy:function(){this.removeBody();this.tile.physics.matterBody=void 0;this.removeAllListeners()}});t.exports=f},19496:(t,e,i)=>{
/**
               * @author       Joachim Grill <joachim@codeandweb.com>
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2018 CodeAndWeb GmbH
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(22562);var n=i(53402);var a=i(95540);var o=i(41598);var l={parseBody:function(t,e,i,r){if(r===void 0){r={}}var o=a(i,"fixtures",[]);var l=[];for(var h=0;h<o.length;h++){var u=this.parseFixture(o[h]);for(var c=0;c<u.length;c++){l.push(u[c])}}var f=n.clone(i,true);n.extend(f,r,true);delete f.fixtures;delete f.type;var d=s.create(f);s.setParts(d,l);s.setPosition(d,{x:t,y:e});return d},parseFixture:function(t){var e=n.extend({},false,t);delete e.circle;delete e.vertices;var i;if(t.circle){var s=a(t.circle,"x");var o=a(t.circle,"y");var l=a(t.circle,"radius");i=[r.circle(s,o,l,e)]}else if(t.vertices){i=this.parseVertices(t.vertices,e)}return i},parseVertices:function(t,e){if(e===void 0){e={}}var i=[];for(var a=0;a<t.length;a++){o.clockwiseSort(t[a]);i.push(s.create(n.extend({position:o.centre(t[a]),vertices:t[a]},e)))}return r.flagCoincidentParts(i)}};t.exports=l},85791:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(22562);var n={parseBody:function(t,e,i,n){if(n===void 0){n={}}var a;var o=i.vertices;if(o.length===1){n.vertices=o[0];a=s.create(n);r.flagCoincidentParts(a.parts)}else{var l=[];for(var h=0;h<o.length;h++){var u=s.create({vertices:o[h]});l.push(u)}r.flagCoincidentParts(l);n.parts=l;a=s.create(n)}a.label=i.label;s.setPosition(a,{x:t,y:e});return a}};t.exports=n},98713:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(15647);var s=i(83419);var n=i(69351);var a=i(48140);var o=i(81388);var l=i(1121);var h=i(8214);var u=i(46975);var c=i(53614);var f=i(26099);var d=i(41598);var v=new s({initialize:function PointerConstraint2(t,e,i){if(i===void 0){i={}}var r={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=t;this.world=e;this.camera=null;this.pointer=null;this.active=true;this.position=new f;this.body=null;this.part=null;this.constraint=a.create(u(i,r));this.world.on(l.BEFORE_UPDATE,this.update,this);t.sys.input.on(h.POINTER_DOWN,this.onDown,this);t.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(t){if(!this.pointer){this.pointer=t;this.camera=t.camera}},onUp:function(t){if(t===this.pointer){this.pointer=null}},getBody:function(t){var e=this.position;var i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);var s=n.allBodies(this.world.localWorld);for(var a=0;a<s.length;a++){var h=s[a];if(!h.ignorePointer&&r.contains(h.bounds,e)&&o.canCollide(h.collisionFilter,i.collisionFilter)){if(this.hitTestBody(h,e)){this.world.emit(l.DRAG_START,h,this.part,this);return true}}}return false},hitTestBody:function(t,e){var i=this.constraint;var r=t.parts.length;var s=r>1?1:0;for(var n=s;n<r;n++){var a=t.parts[n];if(d.contains(a.vertices,e)){i.pointA=e;i.pointB={x:e.x-t.position.x,y:e.y-t.position.y};i.bodyB=t;i.angleB=t.angle;c.set(t,false);this.part=a;this.body=t;return true}}return false},update:function(){var t=this.pointer;var e=this.body;if(!this.active||!t){if(e){this.stopDrag()}return}if(!t.isDown&&e){this.stopDrag();return}else if(t.isDown){if(!this.camera||!e&&!this.getBody(t)){return}e=this.body;var i=this.position;var r=this.constraint;this.camera.getWorldPoint(t.x,t.y,i);r.pointA.x=i.x;r.pointA.y=i.y;c.set(e,false);this.world.emit(l.DRAG,e,this)}},stopDrag:function(){var t=this.body;var e=this.constraint;e.bodyB=null;e.pointB=null;this.pointer=null;this.body=null;this.part=null;if(t){this.world.emit(l.DRAG_END,t,this)}},destroy:function(){this.world.removeConstraint(this.constraint);this.pointer=null;this.constraint=null;this.body=null;this.part=null;this.world.off(l.BEFORE_UPDATE,this.update);this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this);this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});t.exports=v},68243:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(22562);var n=i(83419);var a=i(53402);var o=i(69351);var l=i(48413);var h=i(50792);var u=i(1121);var c=i(95540);var f=i(35154);var d=i(22562);var v=i(35810);var p=i(73834);var g=i(4372);var m=i(13037);var y=i(31725);var x=new n({Extends:h,initialize:function World2(t,e){h.call(this);this.scene=t;this.engine=l.create(e);this.localWorld=this.engine.world;var i=f(e,"gravity",null);if(i){this.setGravity(i.x,i.y,i.scale)}else if(i===false){this.setGravity(0,0,0)}this.walls={left:null,right:null,top:null,bottom:null};this.enabled=f(e,"enabled",true);this.getDelta=f(e,"getDelta",this.update60Hz);var r=c(e,"runner",{});var s=c(r,"fps",false);if(s){r.delta=1e3/c(r,"fps",60)}this.runner=m.create(r);this.autoUpdate=f(e,"autoUpdate",true);var n=f(e,"debug",false);this.drawDebug=typeof n==="object"?true:n;this.debugGraphic;this.debugConfig={showAxes:c(n,"showAxes",false),showAngleIndicator:c(n,"showAngleIndicator",false),angleColor:c(n,"angleColor",15208787),showBroadphase:c(n,"showBroadphase",false),broadphaseColor:c(n,"broadphaseColor",16757760),showBounds:c(n,"showBounds",false),boundsColor:c(n,"boundsColor",16777215),showVelocity:c(n,"showVelocity",false),velocityColor:c(n,"velocityColor",44783),showCollisions:c(n,"showCollisions",false),collisionColor:c(n,"collisionColor",16094476),showSeparations:c(n,"showSeparations",false),separationColor:c(n,"separationColor",16753920),showBody:c(n,"showBody",true),showStaticBody:c(n,"showStaticBody",true),showInternalEdges:c(n,"showInternalEdges",false),renderFill:c(n,"renderFill",false),renderLine:c(n,"renderLine",true),fillColor:c(n,"fillColor",1075465),fillOpacity:c(n,"fillOpacity",1),lineColor:c(n,"lineColor",2678297),lineOpacity:c(n,"lineOpacity",1),lineThickness:c(n,"lineThickness",1),staticFillColor:c(n,"staticFillColor",857979),staticLineColor:c(n,"staticLineColor",1255396),showSleeping:c(n,"showSleeping",false),staticBodySleepOpacity:c(n,"staticBodySleepOpacity",.7),sleepFillColor:c(n,"sleepFillColor",4605510),sleepLineColor:c(n,"sleepLineColor",10066585),showSensors:c(n,"showSensors",true),sensorFillColor:c(n,"sensorFillColor",857979),sensorLineColor:c(n,"sensorLineColor",1255396),showPositions:c(n,"showPositions",true),positionSize:c(n,"positionSize",4),positionColor:c(n,"positionColor",14697178),showJoint:c(n,"showJoint",true),jointColor:c(n,"jointColor",14737474),jointLineOpacity:c(n,"jointLineOpacity",1),jointLineThickness:c(n,"jointLineThickness",2),pinSize:c(n,"pinSize",4),pinColor:c(n,"pinColor",4382944),springColor:c(n,"springColor",14697184),anchorColor:c(n,"anchorColor",15724527),anchorSize:c(n,"anchorSize",4),showConvexHulls:c(n,"showConvexHulls",false),hullColor:c(n,"hullColor",14091216)};if(this.drawDebug){this.createDebugGraphic()}this.setEventsProxy();if(c(e,"setBounds",false)){var a=e["setBounds"];if(typeof a==="boolean"){this.setBounds()}else{var o=c(a,"x",0);var u=c(a,"y",0);var d=c(a,"width",t.sys.scale.width);var v=c(a,"height",t.sys.scale.height);var p=c(a,"thickness",64);var g=c(a,"left",true);var y=c(a,"right",true);var x=c(a,"top",true);var b=c(a,"bottom",true);this.setBounds(o,u,d,v,p,g,y,x,b)}}},setCompositeRenderStyle:function(t){var e=t.bodies;var i=t.constraints;var r=t.composites;var s;var n;var a;for(s=0;s<e.length;s++){n=e[s];a=n.render;this.setBodyRenderStyle(n,a.lineColor,a.lineOpacity,a.lineThickness,a.fillColor,a.fillOpacity)}for(s=0;s<i.length;s++){n=i[s];a=n.render;this.setConstraintRenderStyle(n,a.lineColor,a.lineOpacity,a.lineThickness,a.pinSize,a.anchorColor,a.anchorSize)}for(s=0;s<r.length;s++){n=r[s];this.setCompositeRenderStyle(n)}return this},setBodyRenderStyle:function(t,e,i,r,s,n){var a=t.render;var o=this.debugConfig;if(!a){return this}if(e===void 0||e===null){e=t.isStatic?o.staticLineColor:o.lineColor}if(i===void 0||i===null){i=o.lineOpacity}if(r===void 0||r===null){r=o.lineThickness}if(s===void 0||s===null){s=t.isStatic?o.staticFillColor:o.fillColor}if(n===void 0||n===null){n=o.fillOpacity}if(e!==false){a.lineColor=e}if(i!==false){a.lineOpacity=i}if(r!==false){a.lineThickness=r}if(s!==false){a.fillColor=s}if(n!==false){a.fillOpacity=n}return this},setConstraintRenderStyle:function(t,e,i,r,s,n,a){var o=t.render;var l=this.debugConfig;if(!o){return this}if(e===void 0||e===null){var h=o.type;if(h==="line"){e=l.jointColor}else if(h==="pin"){e=l.pinColor}else if(h==="spring"){e=l.springColor}}if(i===void 0||i===null){i=l.jointLineOpacity}if(r===void 0||r===null){r=l.jointLineThickness}if(s===void 0||s===null){s=l.pinSize}if(n===void 0||n===null){n=l.anchorColor}if(a===void 0||a===null){a=l.anchorSize}if(e!==false){o.lineColor=e}if(i!==false){o.lineOpacity=i}if(r!==false){o.lineThickness=r}if(s!==false){o.pinSize=s}if(n!==false){o.anchorColor=n}if(a!==false){o.anchorSize=a}return this},setEventsProxy:function(){var t=this;var e=this.engine;var i=this.localWorld;if(this.drawDebug){v.on(i,"compositeModified",(function(e){t.setCompositeRenderStyle(e)}));v.on(i,"beforeAdd",(function(e){var i=[].concat(e.object);for(var r=0;r<i.length;r++){var s=i[r];var n=s.render;if(s.type==="body"){t.setBodyRenderStyle(s,n.lineColor,n.lineOpacity,n.lineThickness,n.fillColor,n.fillOpacity)}else if(s.type==="composite"){t.setCompositeRenderStyle(s)}else if(s.type==="constraint"){t.setConstraintRenderStyle(s,n.lineColor,n.lineOpacity,n.lineThickness,n.pinSize,n.anchorColor,n.anchorSize)}}}))}v.on(i,"beforeAdd",(function(e){t.emit(u.BEFORE_ADD,e)}));v.on(i,"afterAdd",(function(e){t.emit(u.AFTER_ADD,e)}));v.on(i,"beforeRemove",(function(e){t.emit(u.BEFORE_REMOVE,e)}));v.on(i,"afterRemove",(function(e){t.emit(u.AFTER_REMOVE,e)}));v.on(e,"beforeUpdate",(function(e){t.emit(u.BEFORE_UPDATE,e)}));v.on(e,"afterUpdate",(function(e){t.emit(u.AFTER_UPDATE,e)}));v.on(e,"collisionStart",(function(e){var i=e.pairs;var r;var s;if(i.length>0){i.map((function(t){r=t.bodyA;s=t.bodyB;if(r.gameObject){r.gameObject.emit("collide",r,s,t)}if(s.gameObject){s.gameObject.emit("collide",s,r,t)}v.trigger(r,"onCollide",{pair:t});v.trigger(s,"onCollide",{pair:t});if(r.onCollideCallback){r.onCollideCallback(t)}if(s.onCollideCallback){s.onCollideCallback(t)}if(r.onCollideWith[s.id]){r.onCollideWith[s.id](s,t)}if(s.onCollideWith[r.id]){s.onCollideWith[r.id](r,t)}}))}t.emit(u.COLLISION_START,e,r,s)}));v.on(e,"collisionActive",(function(e){var i=e.pairs;var r;var s;if(i.length>0){i.map((function(t){r=t.bodyA;s=t.bodyB;if(r.gameObject){r.gameObject.emit("collideActive",r,s,t)}if(s.gameObject){s.gameObject.emit("collideActive",s,r,t)}v.trigger(r,"onCollideActive",{pair:t});v.trigger(s,"onCollideActive",{pair:t});if(r.onCollideActiveCallback){r.onCollideActiveCallback(t)}if(s.onCollideActiveCallback){s.onCollideActiveCallback(t)}}))}t.emit(u.COLLISION_ACTIVE,e,r,s)}));v.on(e,"collisionEnd",(function(e){var i=e.pairs;var r;var s;if(i.length>0){i.map((function(t){r=t.bodyA;s=t.bodyB;if(r.gameObject){r.gameObject.emit("collideEnd",r,s,t)}if(s.gameObject){s.gameObject.emit("collideEnd",s,r,t)}v.trigger(r,"onCollideEnd",{pair:t});v.trigger(s,"onCollideEnd",{pair:t});if(r.onCollideEndCallback){r.onCollideEndCallback(t)}if(s.onCollideEndCallback){s.onCollideEndCallback(t)}}))}t.emit(u.COLLISION_END,e,r,s)}))},setBounds:function(t,e,i,r,s,n,a,o,l){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.scene.sys.scale.width}if(r===void 0){r=this.scene.sys.scale.height}if(s===void 0){s=64}if(n===void 0){n=true}if(a===void 0){a=true}if(o===void 0){o=true}if(l===void 0){l=true}this.updateWall(n,"left",t-s,e-s,s,r+s*2);this.updateWall(a,"right",t+i,e-s,s,r+s*2);this.updateWall(o,"top",t,e-s,i,s);this.updateWall(l,"bottom",t,e+r,i,s);return this},updateWall:function(t,e,i,r,s,n){var a=this.walls[e];if(t){if(a){g.remove(this.localWorld,a)}i+=s/2;r+=n/2;this.walls[e]=this.create(i,r,s,n,{isStatic:true,friction:0,frictionStatic:0})}else{if(a){g.remove(this.localWorld,a)}this.walls[e]=null}},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});t.setDepth(Number.MAX_VALUE);this.debugGraphic=t;this.drawDebug=true;return t},disableGravity:function(){this.localWorld.gravity.x=0;this.localWorld.gravity.y=0;this.localWorld.gravity.scale=0;return this},setGravity:function(t,e,i){if(t===void 0){t=0}if(e===void 0){e=1}if(i===void 0){i=.001}this.localWorld.gravity.x=t;this.localWorld.gravity.y=e;this.localWorld.gravity.scale=i;return this},create:function(t,e,i,s,n){var a=r.rectangle(t,e,i,s,n);g.add(this.localWorld,a);return a},add:function(t){g.add(this.localWorld,t);return this},remove:function(t,e){if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i];var s=r.body?r.body:r;o.remove(this.localWorld,s,e)}return this},removeConstraint:function(t,e){o.remove(this.localWorld,t,e);return this},convertTilemapLayer:function(t,e){var i=t.layer;var r=t.getTilesWithin(0,0,i.width,i.height,{isColliding:true});this.convertTiles(r,e);return this},convertTiles:function(t,e){if(t.length===0){return this}for(var i=0;i<t.length;i++){new p(this,t[i],e)}return this},nextGroup:function(t){return d.nextGroup(t)},nextCategory:function(){return d.nextCategory()},pause:function(){this.enabled=false;this.emit(u.PAUSE);return this},resume:function(){this.enabled=true;this.runner.timeLastTick=a.now();this.emit(u.RESUME);return this},update:function(t){if(!this.enabled||!this.autoUpdate){return}var e=this.engine;var i=this.runner;var r=a.now(),s=i.delta,n=0;var o=t-i.timeLastTick;if(!o||!i.timeLastTick||o>Math.max(m._maxFrameDelta,i.maxFrameTime)){o=i.frameDelta||m._frameDeltaFallback}if(i.frameDeltaSmoothing){i.frameDeltaHistory.push(o);i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var h=i.frameDeltaHistory.slice(0).sort();var u=i.frameDeltaHistory.slice(h.length*m._smoothingLowerBound,h.length*m._smoothingUpperBound);var c=m._mean(u);o=c||o}if(i.frameDeltaSnapping){o=1e3/Math.round(1e3/o)}i.frameDelta=o;i.timeLastTick=t;i.timeBuffer+=i.frameDelta;i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+s*m._timeBufferMargin);i.lastUpdatesDeferred=0;var f=i.maxUpdates||Math.ceil(i.maxFrameTime/s);var d=a.now();while(s>0&&i.timeBuffer>=s*m._timeBufferMargin){l.update(e,s);i.timeBuffer-=s;n+=1;var v=a.now()-r,p=a.now()-d,g=v+m._elapsedNextEstimate*p/n;if(n>=f||g>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/s-m._timeBufferMargin));break}}},step:function(t){l.update(this.engine,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return o.get(this.localWorld,e.id,e.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(!this.drawDebug){return}var t=this.debugConfig;var e=this.engine;var i=this.debugGraphic;var r=o.allBodies(this.localWorld);this.debugGraphic.clear();if(t.showBroadphase&&e.broadphase.controller){this.renderGrid(e.broadphase,i,t.broadphaseColor,.5)}if(t.showBounds){this.renderBodyBounds(r,i,t.boundsColor,.5)}if(t.showBody||t.showStaticBody){this.renderBodies(r)}if(t.showJoint){this.renderJoints()}if(t.showAxes||t.showAngleIndicator){this.renderBodyAxes(r,i,t.showAxes,t.angleColor,.5)}if(t.showVelocity){this.renderBodyVelocity(r,i,t.velocityColor,1,2)}if(t.showSeparations){this.renderSeparations(e.pairs.list,i,t.separationColor)}if(t.showCollisions){this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,r){e.lineStyle(1,i,r);var s=a.keys(t.buckets);for(var n=0;n<s.length;n++){var o=s[n];if(t.buckets[o].length<2){continue}var l=o.split(/C|R/);e.strokeRect(parseInt(l[1],10)*t.bucketWidth,parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var r=0;r<t.length;r++){var s=t[r];if(!s.isActive){continue}var n=s.collision;var a=n.bodyA;var o=n.bodyB;var l=a.position;var h=o.position;var u=n.penetration;var c=!a.isStatic&&!o.isStatic?4:1;if(o.isStatic){c=0}e.lineBetween(h.x,h.y,h.x-u.x*c,h.y-u.y*c);c=!a.isStatic&&!o.isStatic?4:1;if(a.isStatic){c=0}e.lineBetween(l.x,l.y,l.x-u.x*c,l.y-u.y*c)}return this},renderCollisions:function(t,e,i){e.lineStyle(1,i,.5);e.fillStyle(i,1);var r;var s;for(r=0;r<t.length;r++){s=t[r];if(!s.isActive){continue}for(var n=0;n<s.contactCount;n++){var a=s.contacts[n];var o=a.vertex;if(o){e.fillRect(o.x-2,o.y-2,5,5)}}}for(r=0;r<t.length;r++){s=t[r];if(!s.isActive){continue}var l=s.collision;var h=s.contacts;if(s.contactCount>0){var u=h[0].vertex.x;var c=h[0].vertex.y;if(s.contactCount===2){u=(h[0].vertex.x+h[1].vertex.x)/2;c=(h[0].vertex.y+h[1].vertex.y)/2}if(l.bodyB===l.supports[0].body||l.bodyA.isStatic){e.lineBetween(u-l.normal.x*8,c-l.normal.y*8,u,c)}else{e.lineBetween(u+l.normal.x*8,c+l.normal.y*8,u,c)}}}return this},renderBodyBounds:function(t,e,i,r){e.lineStyle(1,i,r);for(var s=0;s<t.length;s++){var n=t[s];if(!n.render.visible){continue}var a=n.bounds;if(a){e.strokeRect(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}else{var o=n.parts;for(var l=o.length>1?1:0;l<o.length;l++){var h=o[l];e.strokeRect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,r,s){e.lineStyle(1,r,s);for(var n=0;n<t.length;n++){var a=t[n];var o=a.parts;if(!a.render.visible){continue}var l;var h;var u;if(i){for(h=o.length>1?1:0;h<o.length;h++){l=o[h];for(u=0;u<l.axes.length;u++){var c=l.axes[u];e.lineBetween(l.position.x,l.position.y,l.position.x+c.x*20,l.position.y+c.y*20)}}}else{for(h=o.length>1?1:0;h<o.length;h++){l=o[h];for(u=0;u<l.axes.length;u++){e.lineBetween(l.position.x,l.position.y,(l.vertices[0].x+l.vertices[l.vertices.length-1].x)/2,(l.vertices[0].y+l.vertices[l.vertices.length-1].y)/2)}}}}return this},renderBodyVelocity:function(t,e,i,r,s){e.lineStyle(s,i,r);for(var n=0;n<t.length;n++){var a=t[n];if(!a.render.visible){continue}e.lineBetween(a.position.x,a.position.y,a.position.x+(a.position.x-a.positionPrev.x)*2,a.position.y+(a.position.y-a.positionPrev.y)*2)}return this},renderBodies:function(t){var e=this.debugGraphic;var i=this.debugConfig;var r=i.showBody;var s=i.showStaticBody;var n=i.showSleeping;var a=i.showInternalEdges;var o=i.showConvexHulls;var l=i.renderFill;var h=i.renderLine;var u=i.staticBodySleepOpacity;var c=i.sleepFillColor;var f=i.sleepLineColor;var d=i.hullColor;for(var v=0;v<t.length;v++){var p=t[v];if(!p.render.visible){continue}if(!s&&p.isStatic||!r&&!p.isStatic){continue}var g=p.render.lineColor;var m=p.render.lineOpacity;var y=p.render.lineThickness;var x=p.render.fillColor;var b=p.render.fillOpacity;if(n&&p.isSleeping){if(p.isStatic){m*=u;b*=u}else{g=f;x=c}}if(!l){x=null}if(!h){g=null}this.renderBody(p,e,a,g,m,y,x,b);var T=p.parts.length;if(o&&T>1){this.renderConvexHull(p,e,d,y)}}},renderBody:function(t,e,i,r,s,n,a,o){if(r===void 0){r=null}if(s===void 0){s=null}if(n===void 0){n=1}if(a===void 0){a=null}if(o===void 0){o=null}var l=this.debugConfig;var h=l.sensorFillColor;var u=l.sensorLineColor;var c=t.parts;var f=c.length;for(var d=f>1?1:0;d<f;d++){var v=c[d];var p=v.render;var g=p.opacity;if(!p.visible||g===0||v.isSensor&&!l.showSensors){continue}var m=v.circleRadius;e.beginPath();if(v.isSensor){if(a!==null){e.fillStyle(h,o*g)}if(r!==null){e.lineStyle(n,u,s*g)}}else{if(a!==null){e.fillStyle(a,o*g)}if(r!==null){e.lineStyle(n,r,s*g)}}if(m){e.arc(v.position.x,v.position.y,m,0,2*Math.PI)}else{var y=v.vertices;var x=y.length;e.moveTo(y[0].x,y[0].y);for(var b=1;b<x;b++){var T=y[b];if(!y[b-1].isInternal||i){e.lineTo(T.x,T.y)}else{e.moveTo(T.x,T.y)}if(b<x&&T.isInternal&&!i){var w=(b+1)%x;e.moveTo(y[w].x,y[w].y)}}e.closePath()}if(a!==null){e.fillPath()}if(r!==null){e.strokePath()}}if(l.showPositions&&!t.isStatic){var E=t.position.x;var S=t.position.y;var A=Math.ceil(l.positionSize/2);e.fillStyle(l.positionColor,1);e.fillRect(E-A,S-A,l.positionSize,l.positionSize)}return this},renderConvexHull:function(t,e,i,r){if(r===void 0){r=1}var s=t.parts;var n=s.length;if(n>1){var a=t.vertices;e.lineStyle(r,i);e.beginPath();e.moveTo(a[0].x,a[0].y);for(var o=1;o<a.length;o++){e.lineTo(a[o].x,a[o].y)}e.lineTo(a[0].x,a[0].y);e.strokePath()}return this},renderJoints:function(){var t=this.debugGraphic;var e=o.allConstraints(this.localWorld);for(var i=0;i<e.length;i++){var r=e[i].render;var s=r.lineColor;var n=r.lineOpacity;var a=r.lineThickness;var l=r.pinSize;var h=r.anchorColor;var u=r.anchorSize;this.renderConstraint(e[i],t,s,n,a,l,h,u)}},renderConstraint:function(t,e,i,r,s,n,o,l){var h=t.render;if(!h.visible||!t.pointA||!t.pointB){return this}e.lineStyle(s,i,r);var u=t.bodyA;var c=t.bodyB;var f;var d;if(u){f=y.add(u.position,t.pointA)}else{f=t.pointA}if(h.type==="pin"){e.strokeCircle(f.x,f.y,n)}else{if(c){d=y.add(c.position,t.pointB)}else{d=t.pointB}e.beginPath();e.moveTo(f.x,f.y);if(h.type==="spring"){var v=y.sub(d,f);var p=y.perp(y.normalise(v));var g=Math.ceil(a.clamp(t.length/5,12,20));var m;for(var x=1;x<g;x+=1){m=x%2===0?1:-1;e.lineTo(f.x+v.x*(x/g)+p.x*m*4,f.y+v.y*(x/g)+p.y*m*4)}}e.lineTo(d.x,d.y)}e.strokePath();if(h.anchors&&l>0){e.fillStyle(o);e.fillCircle(f.x,f.y,l);e.fillCircle(d.x,d.y,l)}return this},resetCollisionIDs:function(){s._nextCollidingGroupId=1;s._nextNonCollidingGroupId=-1;s._nextCategory=1;return this},shutdown:function(){v.off(this.engine);this.removeAllListeners();g.clear(this.localWorld,false);l.clear(this.engine);if(this.drawDebug){this.debugGraphic.destroy()}},destroy:function(){this.shutdown()}});t.exports=x},70410:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setBounce:function(t){this.body.restitution=t;return this}};t.exports=e},66968:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setCollisionCategory:function(t){this.body.collisionFilter.category=t;return this},setCollisionGroup:function(t){this.body.collisionFilter.group=t;return this},setCollidesWith:function(t){var e=0;if(!Array.isArray(t)){e=t}else{for(var i=0;i<t.length;i++){e|=t[i]}}this.body.collisionFilter.mask=e;return this},setOnCollide:function(t){this.body.onCollideCallback=t;return this},setOnCollideEnd:function(t){this.body.onCollideEndCallback=t;return this},setOnCollideActive:function(t){this.body.onCollideActiveCallback=t;return this},setOnCollideWith:function(t,e){if(!Array.isArray(t)){t=[t]}for(var i=0;i<t.length;i++){var r=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(r,e)}return this}};t.exports=e},51607:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22562);var s={applyForce:function(t){this._tempVec2.set(this.body.position.x,this.body.position.y);r.applyForce(this.body,this._tempVec2,t);return this},applyForceFrom:function(t,e){r.applyForce(this.body,t,e);return this},thrust:function(t){var e=this.body.angle;this._tempVec2.set(t*Math.cos(e),t*Math.sin(e));r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;this._tempVec2.set(t*Math.cos(e),t*Math.sin(e));r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;this._tempVec2.set(t*Math.cos(e),t*Math.sin(e));r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustBack:function(t){var e=this.body.angle-Math.PI;this._tempVec2.set(t*Math.cos(e),t*Math.sin(e));r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this}};t.exports=s},5436:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setFriction:function(t,e,i){this.body.friction=t;if(e!==void 0){this.body.frictionAir=e}if(i!==void 0){this.body.frictionStatic=i}return this},setFrictionAir:function(t){this.body.frictionAir=t;return this},setFrictionStatic:function(t){this.body.frictionStatic=t;return this}};t.exports=e},39858:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setIgnoreGravity:function(t){this.body.ignoreGravity=t;return this}};t.exports=e},37302:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22562);var s=i(26099);var n={setMass:function(t){r.setMass(this.body,t);return this},setDensity:function(t){r.setDensity(this.body,t);return this},centerOfMass:{get:function(){return new s(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=n},39132:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={setSensor:function(t){this.body.isSensor=t;return this},isSensor:function(){return this.body.isSensor}};t.exports=e},57772:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(66280);var s=i(22562);var n=i(43855);var a=i(95540);var o=i(19496);var l=i(85791);var h=i(41598);var u={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,r){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},r)},setExistingBody:function(t,e){if(e===void 0){e=true}if(this.body){this.world.remove(this.body,true)}this.body=t;for(var i=0;i<t.parts.length;i++){t.parts[i].gameObject=this}var r=this;t.destroy=function destroy(){r.world.remove(r.body,true);r.body.gameObject=null};if(e){if(this.world.has(t)){this.world.remove(t,true)}this.world.add(t)}if(this._originComponent){var s=t.render.sprite.xOffset;var a=t.render.sprite.yOffset;var o=t.centerOfMass.x;var l=t.centerOfMass.y;if(n(o,.5)&&n(l,.5)){this.setOrigin(s+.5,a+.5)}else{var h=t.centerOffset.x;var u=t.centerOffset.y;this.setOrigin(s+h/this.displayWidth,a+u/this.displayHeight)}}return this},setBody:function(t,e){if(!t){return this}var i;if(typeof t==="string"){t={type:t}}var n=a(t,"type","rectangle");var u=a(t,"x",this._tempVec2.x);var c=a(t,"y",this._tempVec2.y);var f=a(t,"width",this.width);var d=a(t,"height",this.height);switch(n){case"rectangle":i=r.rectangle(u,c,f,d,e);break;case"circle":var v=a(t,"radius",Math.max(f,d)/2);var p=a(t,"maxSides",25);i=r.circle(u,c,v,e,p);break;case"trapezoid":var g=a(t,"slope",.5);i=r.trapezoid(u,c,f,d,g,e);break;case"polygon":var m=a(t,"sides",5);var y=a(t,"radius",Math.max(f,d)/2);i=r.polygon(u,c,m,y,e);break;case"fromVertices":case"fromVerts":var x=a(t,"verts",null);if(x){if(typeof x==="string"){x=h.fromPath(x)}if(this.body&&!this.body.hasOwnProperty("temp")){s.setVertices(this.body,x);i=this.body}else{var b=a(t,"flagInternal",false);var T=a(t,"removeCollinear",.01);var w=a(t,"minimumArea",10);i=r.fromVertices(u,c,x,e,b,T,w)}}break;case"fromPhysicsEditor":i=o.parseBody(u,c,t,e);break;case"fromPhysicsTracer":i=l.parseBody(u,c,t,e);break}if(i){this.setExistingBody(i,t.addToWorld)}return this}};t.exports=u},38083:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(1121);var s=i(53614);var n=i(35810);var a={setToSleep:function(){s.set(this.body,true);return this},setAwake:function(){s.set(this.body,false);return this},setSleepThreshold:function(t){if(t===void 0){t=60}this.body.sleepThreshold=t;return this},setSleepEvents:function(t,e){this.setSleepStartEvent(t);this.setSleepEndEvent(e);return this},setSleepStartEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepStart",(function(t){e.emit(r.SLEEP_START,t,this)}))}else{n.off(this.body,"sleepStart")}return this},setSleepEndEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepEnd",(function(t){e.emit(r.SLEEP_END,t,this)}))}else{n.off(this.body,"sleepEnd")}return this}};t.exports=a},90556:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22562);var s={setStatic:function(t){r.setStatic(this.body,t);return this},isStatic:function(){return this.body.isStatic}};t.exports=s},85436:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22562);var s=i(36383);var n=i(86554);var a=i(30954);var o=4;var l={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y);r.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t);r.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this.setScale(t,t)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX;var i=1/this._scaleY;this._scaleX=t;if(this._scaleX===0){this.renderFlags&=-5}else{this.renderFlags|=o}r.scale(this.body,e,i);r.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX;var i=1/this._scaleY;this._scaleY=t;if(this._scaleY===0){this.renderFlags&=-5}else{this.renderFlags|=o}r.scale(this.body,e,i);r.scale(this.body,this._scaleX,t)}},angle:{get:function(){return a(this.body.angle*s.RAD_TO_DEG)},set:function(t){this.rotation=a(t)*s.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=n(t);r.setAngle(this.body,this._rotation)}},setPosition:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this._tempVec2.set(t,e);r.setPosition(this.body,this._tempVec2);return this},setRotation:function(t){if(t===void 0){t=0}this._rotation=n(t);r.setAngle(this.body,t);return this},setFixedRotation:function(){r.setInertia(this.body,Infinity);return this},setAngle:function(t){if(t===void 0){t=0}this.angle=t;r.setAngle(this.body,this.rotation);return this},setScale:function(t,e,i){if(t===void 0){t=1}if(e===void 0){e=t}var s=1/this._scaleX;var n=1/this._scaleY;this._scaleX=t;this._scaleY=e;r.scale(this.body,s,n,i);r.scale(this.body,t,e,i);return this}};t.exports=l},42081:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(22562);var s={setVelocityX:function(t){this._tempVec2.set(t,this.body.velocity.y);r.setVelocity(this.body,this._tempVec2);return this},setVelocityY:function(t){this._tempVec2.set(this.body.velocity.x,t);r.setVelocity(this.body,this._tempVec2);return this},setVelocity:function(t,e){this._tempVec2.set(t,e);r.setVelocity(this.body,this._tempVec2);return this},getVelocity:function(){return r.getVelocity(this.body)},setAngularVelocity:function(t){r.setAngularVelocity(this.body,t);return this},getAngularVelocity:function(){return r.getAngularVelocity(this.body)},setAngularSpeed:function(t){r.setAngularSpeed(this.body,t);return this},getAngularSpeed:function(){return r.getAngularSpeed(this.body)}};t.exports=s},31884:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="afteradd"},1213:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="afterremove"},25968:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="afterupdate"},67205:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="beforeadd"},39438:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="beforeremove"},44823:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="beforeupdate"},92593:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="collisionactive"},60128:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="collisionend"},76861:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="collisionstart"},92362:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragend"},76408:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="drag"},93971:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="dragstart"},5656:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},47861:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},79099:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="sleepend"},35906:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="sleepstart"},1121:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(t,e,i)=>{var r={};t.exports=r;var s=i(41598);var n=i(31725);var a=i(53614);var o=i(53402);var l=i(15647);var h=i(66615);(function(){r._timeCorrection=true;r._inertiaScale=4;r._nextCollidingGroupId=1;r._nextNonCollidingGroupId=-1;r._nextCategory=1;r._baseDelta=1e3/60;r.create=function(t){var e={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:t.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:false,isStatic:false,isSleeping:false,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:1e3/60,inverseInertia:0,_original:null,render:{visible:true,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:false,ignorePointer:false,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};if(!t.hasOwnProperty("position")&&t.hasOwnProperty("vertices")){t.position=s.centre(t.vertices)}else if(!t.hasOwnProperty("vertices")){e.vertices=s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40")}var i=o.extend(e,t);_initProperties(i,t);i.setOnCollideWith=function(t,e){if(e){this.onCollideWith[t.id]=e}else{delete this.onCollideWith[t.id]}return this};return i};r.nextGroup=function(t){if(t)return r._nextNonCollidingGroupId--;return r._nextCollidingGroupId++};r.nextCategory=function(){r._nextCategory=r._nextCategory<<1;return r._nextCategory};var _initProperties=function(t,e){e=e||{};r.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||n.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t});s.rotate(t.vertices,t.angle,t.position);h.rotate(t.axes,t.angle);l.update(t.bounds,t.vertices,t.velocity);r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});if(t.parts.length===1){var i=t.bounds;var a=t.centerOfMass;var o=t.centerOffset;var u=i.max.x-i.min.x;var c=i.max.y-i.min.y;a.x=-(i.min.x-t.position.x)/u;a.y=-(i.min.y-t.position.y)/c;o.x=u*a.x;o.y=c*a.y}};r.set=function(t,e,i){var s;if(typeof e==="string"){s=e;e={};e[s]=i}for(s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;i=e[s];switch(s){case"isStatic":r.setStatic(t,i);break;case"isSleeping":a.set(t,i);break;case"mass":r.setMass(t,i);break;case"density":r.setDensity(t,i);break;case"inertia":r.setInertia(t,i);break;case"vertices":r.setVertices(t,i);break;case"position":r.setPosition(t,i);break;case"angle":r.setAngle(t,i);break;case"velocity":r.setVelocity(t,i);break;case"angularVelocity":r.setAngularVelocity(t,i);break;case"speed":r.setSpeed(t,i);break;case"angularSpeed":r.setAngularSpeed(t,i);break;case"parts":r.setParts(t,i);break;case"centre":r.setCentre(t,i);break;default:t[s]=i}}};r.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var r=t.parts[i];if(e){if(!r.isStatic){r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia}}r.restitution=0;r.friction=1;r.mass=r.inertia=r.density=Infinity;r.inverseMass=r.inverseInertia=0;r.positionPrev.x=r.position.x;r.positionPrev.y=r.position.y;r.anglePrev=r.angle;r.angularVelocity=0;r.speed=0;r.angularSpeed=0;r.motion=0}else if(r._original){r.restitution=r._original.restitution;r.friction=r._original.friction;r.mass=r._original.mass;r.inertia=r._original.inertia;r.density=r._original.density;r.inverseMass=r._original.inverseMass;r.inverseInertia=r._original.inverseInertia;r._original=null}r.isStatic=e}};r.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6);t.inverseInertia=1/t.inertia;t.mass=e;t.inverseMass=1/t.mass;t.density=t.mass/t.area};r.setDensity=function(t,e){r.setMass(t,e*t.area);t.density=e};r.setInertia=function(t,e){t.inertia=e;t.inverseInertia=1/t.inertia};r.setVertices=function(t,e){if(e[0].body===t){t.vertices=e}else{t.vertices=s.create(e,t)}t.axes=h.fromVertices(t.vertices);t.area=s.area(t.vertices);r.setMass(t,t.density*t.area);var i=s.centre(t.vertices);s.translate(t.vertices,i,-1);r.setInertia(t,r._inertiaScale*s.inertia(t.vertices,t.mass));s.translate(t.vertices,t.position);l.update(t.bounds,t.vertices,t.velocity)};r.setParts=function(t,e,i){var n;e=e.slice(0);t.parts.length=0;t.parts.push(t);t.parent=t;for(n=0;n<e.length;n++){var a=e[n];if(a!==t){a.parent=t;t.parts.push(a)}}if(t.parts.length===1)return;i=typeof i!=="undefined"?i:true;if(i){var o=[];for(n=0;n<e.length;n++){o=o.concat(e[n].vertices)}s.clockwiseSort(o);var h=s.hull(o),u=s.centre(h);r.setVertices(t,h);s.translate(t.vertices,u)}var c=r._totalProperties(t);var f=c.centre.x;var d=c.centre.y;var v=t.bounds;var p=t.centerOfMass;var g=t.centerOffset;l.update(v,t.vertices,t.velocity);p.x=-(v.min.x-f)/(v.max.x-v.min.x);p.y=-(v.min.y-d)/(v.max.y-v.min.y);g.x=f;g.y=d;t.area=c.area;t.parent=t;t.position.x=f;t.position.y=d;t.positionPrev.x=f;t.positionPrev.y=d;r.setMass(t,c.mass);r.setInertia(t,c.inertia);r.setPosition(t,c.centre)};r.setCentre=function(t,e,i){if(!i){t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x);t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y);t.position.x=e.x;t.position.y=e.y}else{t.positionPrev.x+=e.x;t.positionPrev.y+=e.y;t.position.x+=e.x;t.position.y+=e.y}};r.setPosition=function(t,e,i){var r=n.sub(e,t.position);if(i){t.positionPrev.x=t.position.x;t.positionPrev.y=t.position.y;t.velocity.x=r.x;t.velocity.y=r.y;t.speed=n.magnitude(r)}else{t.positionPrev.x+=r.x;t.positionPrev.y+=r.y}for(var a=0;a<t.parts.length;a++){var o=t.parts[a];o.position.x+=r.x;o.position.y+=r.y;s.translate(o.vertices,r);l.update(o.bounds,o.vertices,t.velocity)}};r.setAngle=function(t,e,i){var r=e-t.angle;if(i){t.anglePrev=t.angle;t.angularVelocity=r;t.angularSpeed=Math.abs(r)}else{t.anglePrev+=r}for(var a=0;a<t.parts.length;a++){var o=t.parts[a];o.angle+=r;s.rotate(o.vertices,r,t.position);h.rotate(o.axes,r);l.update(o.bounds,o.vertices,t.velocity);if(a>0){n.rotateAbout(o.position,r,t.position,o.position)}}};r.setVelocity=function(t,e){var i=t.deltaTime/r._baseDelta;t.positionPrev.x=t.position.x-e.x*i;t.positionPrev.y=t.position.y-e.y*i;t.velocity.x=(t.position.x-t.positionPrev.x)/i;t.velocity.y=(t.position.y-t.positionPrev.y)/i;t.speed=n.magnitude(t.velocity)};r.getVelocity=function(t){var e=r._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}};r.getSpeed=function(t){return n.magnitude(r.getVelocity(t))};r.setSpeed=function(t,e){r.setVelocity(t,n.mult(n.normalise(r.getVelocity(t)),e))};r.setAngularVelocity=function(t,e){var i=t.deltaTime/r._baseDelta;t.anglePrev=t.angle-e*i;t.angularVelocity=(t.angle-t.anglePrev)/i;t.angularSpeed=Math.abs(t.angularVelocity)};r.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*r._baseDelta/t.deltaTime};r.getAngularSpeed=function(t){return Math.abs(r.getAngularVelocity(t))};r.setAngularSpeed=function(t,e){r.setAngularVelocity(t,o.sign(r.getAngularVelocity(t))*e)};r.translate=function(t,e,i){r.setPosition(t,n.add(t.position,e),i)};r.rotate=function(t,e,i,s){if(!i){r.setAngle(t,t.angle+e,s)}else{var n=Math.cos(e),a=Math.sin(e),o=t.position.x-i.x,l=t.position.y-i.y;r.setPosition(t,{x:i.x+(o*n-l*a),y:i.y+(o*a+l*n)},s);r.setAngle(t,t.angle+e,s)}};r.scale=function(t,e,i,n){var a=0,o=0;n=n||t.position;var u=t.inertia===Infinity?true:false;for(var c=0;c<t.parts.length;c++){var f=t.parts[c];f.scale.x=e;f.scale.y=i;s.scale(f.vertices,e,i,n);f.axes=h.fromVertices(f.vertices);f.area=s.area(f.vertices);r.setMass(f,t.density*f.area);s.translate(f.vertices,{x:-f.position.x,y:-f.position.y});r.setInertia(f,r._inertiaScale*s.inertia(f.vertices,f.mass));s.translate(f.vertices,{x:f.position.x,y:f.position.y});if(c>0){a+=f.area;o+=f.inertia}f.position.x=n.x+(f.position.x-n.x)*e;f.position.y=n.y+(f.position.y-n.y)*i;l.update(f.bounds,f.vertices,t.velocity)}if(t.parts.length>1){t.area=a;if(!t.isStatic){r.setMass(t,t.density*a);r.setInertia(t,o)}}if(t.circleRadius){if(e===i){t.circleRadius*=e}else{t.circleRadius=null}}if(u){r.setInertia(t,Infinity)}};r.update=function(t,e){e=(typeof e!=="undefined"?e:1e3/60)*t.timeScale;var i=e*e,a=r._timeCorrection?e/(t.deltaTime||e):1;var u=1-t.frictionAir*(e/o._baseDelta),c=(t.position.x-t.positionPrev.x)*a,f=(t.position.y-t.positionPrev.y)*a;t.velocity.x=c*u+t.force.x/t.mass*i;t.velocity.y=f*u+t.force.y/t.mass*i;t.positionPrev.x=t.position.x;t.positionPrev.y=t.position.y;t.position.x+=t.velocity.x;t.position.y+=t.velocity.y;t.deltaTime=e;t.angularVelocity=(t.angle-t.anglePrev)*u*a+t.torque/t.inertia*i;t.anglePrev=t.angle;t.angle+=t.angularVelocity;t.speed=n.magnitude(t.velocity);t.angularSpeed=Math.abs(t.angularVelocity);for(var d=0;d<t.parts.length;d++){var v=t.parts[d];s.translate(v.vertices,t.velocity);if(d>0){v.position.x+=t.velocity.x;v.position.y+=t.velocity.y}if(t.angularVelocity!==0){s.rotate(v.vertices,t.angularVelocity,t.position);h.rotate(v.axes,t.angularVelocity);if(d>0){n.rotateAbout(v.position,t.angularVelocity,t.position,v.position)}}l.update(v.bounds,v.vertices,t.velocity)}};r.updateVelocities=function(t){var e=r._baseDelta/t.deltaTime,i=t.velocity;i.x=(t.position.x-t.positionPrev.x)*e;i.y=(t.position.y-t.positionPrev.y)*e;t.speed=Math.sqrt(i.x*i.x+i.y*i.y);t.angularVelocity=(t.angle-t.anglePrev)*e;t.angularSpeed=Math.abs(t.angularVelocity)};r.applyForce=function(t,e,i){var r={x:e.x-t.position.x,y:e.y-t.position.y};t.force.x+=i.x;t.force.y+=i.y;t.torque+=r.x*i.y-r.y*i.x};r._totalProperties=function(t){var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}};for(var i=t.parts.length===1?0:1;i<t.parts.length;i++){var r=t.parts[i],s=r.mass!==Infinity?r.mass:1;e.mass+=s;e.area+=r.area;e.inertia+=r.inertia;e.centre=n.add(e.centre,n.mult(r.position,s))}e.centre=n.div(e.centre,e.mass);return e};r.wrap=function(t,e){var i=l.wrap(t.bounds,e);if(i){r.translate(t,i)}return i}})()},69351:(t,e,i)=>{var r={};t.exports=r;var s=i(35810);var n=i(53402);var a=i(15647);var o=i(22562);(function(){r.create=function(t){return n.extend({id:n.nextId(),type:"composite",parent:null,isModified:false,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},t)};r.setModified=function(t,e,i,n){s.trigger(t,"compositeModified",t);t.isModified=e;if(e&&t.cache){t.cache.allBodies=null;t.cache.allConstraints=null;t.cache.allComposites=null}if(i&&t.parent){r.setModified(t.parent,e,i,n)}if(n){for(var a=0;a<t.composites.length;a++){var o=t.composites[a];r.setModified(o,e,i,n)}}};r.add=function(t,e){var i=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var a=0;a<i.length;a++){var o=i[a];switch(o.type){case"body":if(o.parent!==o){n.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(t,o);break;case"constraint":r.addConstraint(t,o);break;case"composite":r.addComposite(t,o);break;case"mouseConstraint":r.addConstraint(t,o.constraint);break}}s.trigger(t,"afterAdd",{object:e});return t};r.remove=function(t,e,i){var n=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var a=0;a<n.length;a++){var o=n[a];switch(o.type){case"body":r.removeBody(t,o,i);break;case"constraint":r.removeConstraint(t,o,i);break;case"composite":r.removeComposite(t,o,i);break;case"mouseConstraint":r.removeConstraint(t,o.constraint);break}}s.trigger(t,"afterRemove",{object:e});return t};r.addComposite=function(t,e){t.composites.push(e);e.parent=t;r.setModified(t,true,true,false);return t};r.removeComposite=function(t,e,i){var s=n.indexOf(t.composites,e);if(s!==-1){var a=r.allBodies(e);r.removeCompositeAt(t,s);for(var o=0;o<a.length;o++){a[o].sleepCounter=0}}if(i){for(var o=0;o<t.composites.length;o++){r.removeComposite(t.composites[o],e,true)}}return t};r.removeCompositeAt=function(t,e){t.composites.splice(e,1);r.setModified(t,true,true,false);return t};r.addBody=function(t,e){t.bodies.push(e);r.setModified(t,true,true,false);return t};r.removeBody=function(t,e,i){var s=n.indexOf(t.bodies,e);if(s!==-1){r.removeBodyAt(t,s);e.sleepCounter=0}if(i){for(var a=0;a<t.composites.length;a++){r.removeBody(t.composites[a],e,true)}}return t};r.removeBodyAt=function(t,e){t.bodies.splice(e,1);r.setModified(t,true,true,false);return t};r.addConstraint=function(t,e){t.constraints.push(e);r.setModified(t,true,true,false);return t};r.removeConstraint=function(t,e,i){var s=n.indexOf(t.constraints,e);if(s!==-1){r.removeConstraintAt(t,s)}if(i){for(var a=0;a<t.composites.length;a++){r.removeConstraint(t.composites[a],e,true)}}return t};r.removeConstraintAt=function(t,e){t.constraints.splice(e,1);r.setModified(t,true,true,false);return t};r.clear=function(t,e,i){if(i){for(var s=0;s<t.composites.length;s++){r.clear(t.composites[s],e,true)}}if(e){t.bodies=t.bodies.filter((function(t){return t.isStatic}))}else{t.bodies.length=0}t.constraints.length=0;t.composites.length=0;r.setModified(t,true,true,false);return t};r.allBodies=function(t){if(t.cache&&t.cache.allBodies){return t.cache.allBodies}var e=[].concat(t.bodies);for(var i=0;i<t.composites.length;i++)e=e.concat(r.allBodies(t.composites[i]));if(t.cache){t.cache.allBodies=e}return e};r.allConstraints=function(t){if(t.cache&&t.cache.allConstraints){return t.cache.allConstraints}var e=[].concat(t.constraints);for(var i=0;i<t.composites.length;i++)e=e.concat(r.allConstraints(t.composites[i]));if(t.cache){t.cache.allConstraints=e}return e};r.allComposites=function(t){if(t.cache&&t.cache.allComposites){return t.cache.allComposites}var e=[].concat(t.composites);for(var i=0;i<t.composites.length;i++)e=e.concat(r.allComposites(t.composites[i]));if(t.cache){t.cache.allComposites=e}return e};r.get=function(t,e,i){var s,n;switch(i){case"body":s=r.allBodies(t);break;case"constraint":s=r.allConstraints(t);break;case"composite":s=r.allComposites(t).concat(t);break}if(!s)return null;n=s.filter((function(t){return t.id.toString()===e.toString()}));return n.length===0?null:n[0]};r.move=function(t,e,i){r.remove(t,e);r.add(i,e);return t};r.rebase=function(t){var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t));for(var i=0;i<e.length;i++){e[i].id=n.nextId()}return t};r.translate=function(t,e,i){var s=i?r.allBodies(t):t.bodies;for(var n=0;n<s.length;n++){o.translate(s[n],e)}return t};r.rotate=function(t,e,i,s){var n=Math.cos(e),a=Math.sin(e),l=s?r.allBodies(t):t.bodies;for(var h=0;h<l.length;h++){var u=l[h],c=u.position.x-i.x,f=u.position.y-i.y;o.setPosition(u,{x:i.x+(c*n-f*a),y:i.y+(c*a+f*n)});o.rotate(u,e)}return t};r.scale=function(t,e,i,s,n){var a=n?r.allBodies(t):t.bodies;for(var l=0;l<a.length;l++){var h=a[l],u=h.position.x-s.x,c=h.position.y-s.y;o.setPosition(h,{x:s.x+u*e,y:s.y+c*i});o.scale(h,e,i)}return t};r.bounds=function(t){var e=r.allBodies(t),i=[];for(var s=0;s<e.length;s+=1){var n=e[s];i.push(n.bounds.min,n.bounds.max)}return a.create(i)};r.wrap=function(t,e){var i=a.wrap(r.bounds(t),e);if(i){r.translate(t,i)}return i}})()},4372:(t,e,i)=>{var r={};t.exports=r;var s=i(69351);(function(){r.create=s.create;r.add=s.add;r.remove=s.remove;r.clear=s.clear;r.addComposite=s.addComposite;r.addBody=s.addBody;r.addConstraint=s.addConstraint})()},52284:(t,e,i)=>{var r={};t.exports=r;var s=i(41598);var n=i(4506);(function(){var t=[];var e={overlap:0,axis:null};var i={overlap:0,axis:null};r.create=function(t,e){return{pair:null,collided:false,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}};r.collides=function(t,a,o){r._overlapAxes(e,t.vertices,a.vertices,t.axes);if(e.overlap<=0){return null}r._overlapAxes(i,a.vertices,t.vertices,a.axes);if(i.overlap<=0){return null}var l=o&&o.table[n.id(t,a)],h;if(!l){h=r.create(t,a);h.collided=true;h.bodyA=t.id<a.id?t:a;h.bodyB=t.id<a.id?a:t;h.parentA=h.bodyA.parent;h.parentB=h.bodyB.parent}else{h=l.collision}t=h.bodyA;a=h.bodyB;var u;if(e.overlap<i.overlap){u=e}else{u=i}var c=h.normal,f=h.tangent,d=h.penetration,v=h.supports,p=u.overlap,g=u.axis,m=g.x,y=g.y,x=a.position.x-t.position.x,b=a.position.y-t.position.y;if(m*x+y*b>=0){m=-m;y=-y}c.x=m;c.y=y;f.x=-y;f.y=m;d.x=m*p;d.y=y*p;h.depth=p;var T=r._findSupports(t,a,c,1),w=0;if(s.contains(t.vertices,T[0])){v[w++]=T[0]}if(s.contains(t.vertices,T[1])){v[w++]=T[1]}if(w<2){var E=r._findSupports(a,t,c,-1);if(s.contains(a.vertices,E[0])){v[w++]=E[0]}if(w<2&&s.contains(a.vertices,E[1])){v[w++]=E[1]}}if(w===0){v[w++]=T[0]}h.supportCount=w;return h};r._overlapAxes=function(t,e,i,r){var s=e.length,n=i.length,a=e[0].x,o=e[0].y,l=i[0].x,h=i[0].y,u=r.length,c=Number.MAX_VALUE,f=0,d,v,p,g,m,y;for(m=0;m<u;m++){var x=r[m],b=x.x,T=x.y,w=a*b+o*T,E=l*b+h*T,S=w,A=E;for(y=1;y<s;y+=1){g=e[y].x*b+e[y].y*T;if(g>S){S=g}else if(g<w){w=g}}for(y=1;y<n;y+=1){g=i[y].x*b+i[y].y*T;if(g>A){A=g}else if(g<E){E=g}}v=S-E;p=A-w;d=v<p?v:p;if(d<c){c=d;f=m;if(d<=0){break}}}t.axis=r[f];t.overlap=c};r._findSupports=function(e,i,r,s){var n=i.vertices,a=n.length,o=e.position.x,l=e.position.y,h=r.x*s,u=r.y*s,c=n[0],f=c,d=h*(o-f.x)+u*(l-f.y),v,p,g;for(g=1;g<a;g+=1){f=n[g];p=h*(o-f.x)+u*(l-f.y);if(p<d){d=p;c=f}}v=n[(a+c.index-1)%a];d=h*(o-v.x)+u*(l-v.y);f=n[(c.index+1)%a];if(h*(o-f.x)+u*(l-f.y)<d){t[0]=c;t[1]=f;return t}t[0]=c;t[1]=v;return t}})()},43424:t=>{var e={};t.exports=e;(function(){e.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}})()},81388:(t,e,i)=>{var r={};t.exports=r;var s=i(53402);var n=i(52284);(function(){r.create=function(t){var e={bodies:[],collisions:[],pairs:null};return s.extend(e,t)};r.setBodies=function(t,e){t.bodies=e.slice(0)};r.clear=function(t){t.bodies=[];t.collisions=[]};r.collisions=function(t){var e=t.pairs,i=t.bodies,s=i.length,a=r.canCollide,o=n.collides,l=t.collisions,h=0,u,c;i.sort(r._compareBoundsX);for(u=0;u<s;u++){var f=i[u],d=f.bounds,v=f.bounds.max.x,p=f.bounds.max.y,g=f.bounds.min.y,m=f.isStatic||f.isSleeping,y=f.parts.length,x=y===1;for(c=u+1;c<s;c++){var b=i[c],T=b.bounds;if(T.min.x>v){break}if(p<T.min.y||g>T.max.y){continue}if(m&&(b.isStatic||b.isSleeping)){continue}if(!a(f.collisionFilter,b.collisionFilter)){continue}var w=b.parts.length;if(x&&w===1){var E=o(f,b,e);if(E){l[h++]=E}}else{var S=y>1?1:0,A=w>1?1:0;for(var C=S;C<y;C++){var O=f.parts[C],d=O.bounds;for(var P=A;P<w;P++){var I=b.parts[P],T=I.bounds;if(d.min.x>T.max.x||d.max.x<T.min.x||d.max.y<T.min.y||d.min.y>T.max.y){continue}var E=o(O,I,e);if(E){l[h++]=E}}}}}}if(l.length!==h){l.length=h}return l};r.canCollide=function(t,e){if(t.group===e.group&&t.group!==0)return t.group>0;return(t.mask&e.category)!==0&&(e.mask&t.category)!==0};r._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}})()},4506:(t,e,i)=>{var r={};t.exports=r;var s=i(43424);(function(){r.create=function(t,e){var i=t.bodyA,n=t.bodyB;var a={id:r.id(i,n),bodyA:i,bodyB:n,collision:t,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:true,isSensor:i.isSensor||n.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};r.update(a,t,e);return a};r.update=function(t,e,i){var r=e.supports,s=e.supportCount,n=t.contacts,a=e.parentA,o=e.parentB;t.isActive=true;t.timeUpdated=i;t.collision=e;t.separation=e.depth;t.inverseMass=a.inverseMass+o.inverseMass;t.friction=a.friction<o.friction?a.friction:o.friction;t.frictionStatic=a.frictionStatic>o.frictionStatic?a.frictionStatic:o.frictionStatic;t.restitution=a.restitution>o.restitution?a.restitution:o.restitution;t.slop=a.slop>o.slop?a.slop:o.slop;t.contactCount=s;e.pair=t;var l=r[0],h=n[0],u=r[1],c=n[1];if(c.vertex===l||h.vertex===u){n[1]=h;n[0]=h=c;c=n[1]}h.vertex=l;c.vertex=u};r.setActive=function(t,e,i){if(e){t.isActive=true;t.timeUpdated=i}else{t.isActive=false;t.contactCount=0}};r.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}})()},99561:(t,e,i)=>{var r={};t.exports=r;var s=i(4506);var n=i(53402);(function(){r.create=function(t){return n.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)};r.update=function(t,e,i){var r=s.update,n=s.create,a=s.setActive,o=t.table,l=t.list,h=l.length,u=h,c=t.collisionStart,f=t.collisionEnd,d=t.collisionActive,v=e.length,p=0,g=0,m=0,y,x,b;for(b=0;b<v;b++){y=e[b];x=y.pair;if(x){if(x.isActive){d[m++]=x}r(x,y,i)}else{x=n(y,i);o[x.id]=x;c[p++]=x;l[u++]=x}}u=0;h=l.length;for(b=0;b<h;b++){x=l[b];if(x.timeUpdated>=i){l[u++]=x}else{a(x,false,i);if(x.collision.bodyA.sleepCounter>0&&x.collision.bodyB.sleepCounter>0){l[u++]=x}else{f[g++]=x;delete o[x.id]}}}if(l.length!==u){l.length=u}if(c.length!==p){c.length=p}if(f.length!==g){f.length=g}if(d.length!==m){d.length=m}};r.clear=function(t){t.table={};t.list.length=0;t.collisionStart.length=0;t.collisionActive.length=0;t.collisionEnd.length=0;return t}})()},73296:(t,e,i)=>{var r={};t.exports=r;var s=i(31725);var n=i(52284);var a=i(15647);var o=i(66280);var l=i(41598);(function(){r.collides=function(t,e){var i=[],r=e.length,s=t.bounds,o=n.collides,l=a.overlaps;for(var h=0;h<r;h++){var u=e[h],c=u.parts.length,f=c===1?0:1;if(t===u){continue}if(l(u.bounds,s)){for(var d=f;d<c;d++){var v=u.parts[d];if(l(v.bounds,s)){var p=o(v,t);if(p){i.push(p);break}}}}}return i};r.ray=function(t,e,i,n){n=n||1e-100;var a=s.angle(e,i),l=s.magnitude(s.sub(e,i)),h=(i.x+e.x)*.5,u=(i.y+e.y)*.5,c=o.rectangle(h,u,l,n,{angle:a}),f=r.collides(c,t);for(var d=0;d<f.length;d+=1){var v=f[d];v.body=v.bodyB=v.bodyA}return f};r.region=function(t,e,i){var r=[];for(var s=0;s<t.length;s++){var n=t[s],o=a.overlaps(n.bounds,e);if(o&&!i||!o&&i)r.push(n)}return r};r.point=function(t,e){var i=[];for(var r=0;r<t.length;r++){var s=t[r];if(a.contains(s.bounds,e)){for(var n=s.parts.length===1?0:1;n<s.parts.length;n++){var o=s.parts[n];if(a.contains(o.bounds,e)&&l.contains(o.vertices,e)){i.push(s);break}}}}return i}})()},66272:(t,e,i)=>{var r={};t.exports=r;var s=i(41598);var n=i(53402);var a=i(15647);(function(){r._restingThresh=2;r._restingThreshTangent=Math.sqrt(6);r._positionDampen=.9;r._positionWarming=.8;r._frictionNormalMultiplier=5;r._frictionMaxStatic=Number.MAX_VALUE;r.preSolvePosition=function(t){var e,i,r,s=t.length;for(e=0;e<s;e++){i=t[e];if(!i.isActive)continue;r=i.contactCount;i.collision.parentA.totalContacts+=r;i.collision.parentB.totalContacts+=r}};r.solvePosition=function(t,e,i){var s,a,o,l,h,u,c,f,d=r._positionDampen*(i||1),v=n.clamp(e/n._baseDelta,0,1),p=t.length;for(s=0;s<p;s++){a=t[s];if(!a.isActive||a.isSensor)continue;o=a.collision;l=o.parentA;h=o.parentB;u=o.normal;a.separation=o.depth+u.x*(h.positionImpulse.x-l.positionImpulse.x)+u.y*(h.positionImpulse.y-l.positionImpulse.y)}for(s=0;s<p;s++){a=t[s];if(!a.isActive||a.isSensor)continue;o=a.collision;l=o.parentA;h=o.parentB;u=o.normal;f=a.separation-a.slop*v;if(l.isStatic||h.isStatic)f*=2;if(!(l.isStatic||l.isSleeping)){c=d/l.totalContacts;l.positionImpulse.x+=u.x*f*c;l.positionImpulse.y+=u.y*f*c}if(!(h.isStatic||h.isSleeping)){c=d/h.totalContacts;h.positionImpulse.x-=u.x*f*c;h.positionImpulse.y-=u.y*f*c}}};r.postSolvePosition=function(t){var e=r._positionWarming,i=t.length,n=s.translate,o=a.update;for(var l=0;l<i;l++){var h=t[l],u=h.positionImpulse,c=u.x,f=u.y,d=h.velocity;h.totalContacts=0;if(c!==0||f!==0){for(var v=0;v<h.parts.length;v++){var p=h.parts[v];n(p.vertices,u);o(p.bounds,p.vertices,d);p.position.x+=c;p.position.y+=f}h.positionPrev.x+=c;h.positionPrev.y+=f;if(c*d.x+f*d.y<0){u.x=0;u.y=0}else{u.x*=e;u.y*=e}}}};r.preSolveVelocity=function(t){var e=t.length,i,r;for(i=0;i<e;i++){var s=t[i];if(!s.isActive||s.isSensor)continue;var n=s.contacts,a=s.contactCount,o=s.collision,l=o.parentA,h=o.parentB,u=o.normal,c=o.tangent;for(r=0;r<a;r++){var f=n[r],d=f.vertex,v=f.normalImpulse,p=f.tangentImpulse;if(v!==0||p!==0){var g=u.x*v+c.x*p,m=u.y*v+c.y*p;if(!(l.isStatic||l.isSleeping)){l.positionPrev.x+=g*l.inverseMass;l.positionPrev.y+=m*l.inverseMass;l.anglePrev+=l.inverseInertia*((d.x-l.position.x)*m-(d.y-l.position.y)*g)}if(!(h.isStatic||h.isSleeping)){h.positionPrev.x-=g*h.inverseMass;h.positionPrev.y-=m*h.inverseMass;h.anglePrev-=h.inverseInertia*((d.x-h.position.x)*m-(d.y-h.position.y)*g)}}}}};r.solveVelocity=function(t,e){var i=e/n._baseDelta,s=i*i,a=s*i,o=-r._restingThresh*i,l=r._restingThreshTangent,h=r._frictionNormalMultiplier*i,u=r._frictionMaxStatic,c=t.length,f,d,v,p;for(v=0;v<c;v++){var g=t[v];if(!g.isActive||g.isSensor)continue;var m=g.collision,y=m.parentA,x=m.parentB,b=m.normal.x,T=m.normal.y,w=m.tangent.x,E=m.tangent.y,S=g.inverseMass,A=g.friction*g.frictionStatic*h,C=g.contacts,O=g.contactCount,P=1/O;var I=y.position.x-y.positionPrev.x,R=y.position.y-y.positionPrev.y,M=y.angle-y.anglePrev,L=x.position.x-x.positionPrev.x,D=x.position.y-x.positionPrev.y,k=x.angle-x.anglePrev;for(p=0;p<O;p++){var F=C[p],B=F.vertex;var N=B.x-y.position.x,U=B.y-y.position.y,z=B.x-x.position.x,V=B.y-x.position.y;var G=I-U*M,X=R+N*M,Y=L-V*k,H=D+z*k;var W=G-Y,j=X-H;var Z=b*W+T*j,q=w*W+E*j;var K=g.separation+Z;var J=Math.min(K,1);J=K<0?0:J;var Q=J*A;if(q<-Q||q>Q){d=q>0?q:-q;f=g.friction*(q>0?1:-1)*a;if(f<-d){f=-d}else if(f>d){f=d}}else{f=q;d=u}var tt=N*T-U*b,et=z*T-V*b,it=P/(S+y.inverseInertia*tt*tt+x.inverseInertia*et*et);var rt=(1+g.restitution)*Z*it;f*=it;if(Z<o){F.normalImpulse=0}else{var st=F.normalImpulse;F.normalImpulse+=rt;if(F.normalImpulse>0)F.normalImpulse=0;rt=F.normalImpulse-st}if(q<-l||q>l){F.tangentImpulse=0}else{var nt=F.tangentImpulse;F.tangentImpulse+=f;if(F.tangentImpulse<-d)F.tangentImpulse=-d;if(F.tangentImpulse>d)F.tangentImpulse=d;f=F.tangentImpulse-nt}var at=b*rt+w*f,ot=T*rt+E*f;if(!(y.isStatic||y.isSleeping)){y.positionPrev.x+=at*y.inverseMass;y.positionPrev.y+=ot*y.inverseMass;y.anglePrev+=(N*ot-U*at)*y.inverseInertia}if(!(x.isStatic||x.isSleeping)){x.positionPrev.x-=at*x.inverseMass;x.positionPrev.y-=ot*x.inverseMass;x.anglePrev-=(z*ot-V*at)*x.inverseInertia}}}}})()},48140:(t,e,i)=>{var r={};t.exports=r;var s=i(41598);var n=i(31725);var a=i(53614);var o=i(15647);var l=i(66615);var h=i(53402);(function(){r._warming=.4;r._torqueDampen=1;r._minLength=1e-6;r.create=function(t){var e=t;if(e.bodyA&&!e.pointA)e.pointA={x:0,y:0};if(e.bodyB&&!e.pointB)e.pointB={x:0,y:0};var i=e.bodyA?n.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?n.add(e.bodyB.position,e.pointB):e.pointB,s=n.magnitude(n.sub(i,r));e.length=typeof e.length!=="undefined"?e.length:s;e.id=e.id||h.nextId();e.label=e.label||"Constraint";e.type="constraint";e.stiffness=e.stiffness||(e.length>0?1:.7);e.damping=e.damping||0;e.angularStiffness=e.angularStiffness||0;e.angleA=e.bodyA?e.bodyA.angle:e.angleA;e.angleB=e.bodyB?e.bodyB.angle:e.angleB;e.plugin={};var a={visible:true,type:"line",anchors:true,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};if(e.length===0&&e.stiffness>.1){a.type="pin";a.anchors=false}else if(e.stiffness<.9){a.type="spring"}e.render=h.extend(a,e.render);return e};r.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],r=i.constraintImpulse;if(i.isStatic||r.x===0&&r.y===0&&r.angle===0){continue}i.position.x+=r.x;i.position.y+=r.y;i.angle+=r.angle}};r.solveAll=function(t,e){var i=h.clamp(e/h._baseDelta,0,1);for(var s=0;s<t.length;s+=1){var n=t[s],a=!n.bodyA||n.bodyA&&n.bodyA.isStatic,o=!n.bodyB||n.bodyB&&n.bodyB.isStatic;if(a||o){r.solve(t[s],i)}}for(s=0;s<t.length;s+=1){n=t[s];a=!n.bodyA||n.bodyA&&n.bodyA.isStatic;o=!n.bodyB||n.bodyB&&n.bodyB.isStatic;if(!a&&!o){r.solve(t[s],i)}}};r.solve=function(t,e){var i=t.bodyA,s=t.bodyB,a=t.pointA,o=t.pointB;if(!i&&!s)return;if(i&&!i.isStatic){n.rotate(a,i.angle-t.angleA,a);t.angleA=i.angle}if(s&&!s.isStatic){n.rotate(o,s.angle-t.angleB,o);t.angleB=s.angle}var l=a,h=o;if(i)l=n.add(i.position,a);if(s)h=n.add(s.position,o);if(!l||!h)return;var u=n.sub(l,h),c=n.magnitude(u);if(c<r._minLength){c=r._minLength}var f=(c-t.length)/c,d=t.stiffness>=1||t.length===0,v=d?t.stiffness*e:t.stiffness*e*e,p=t.damping*e,g=n.mult(u,f*v),m=(i?i.inverseMass:0)+(s?s.inverseMass:0),y=(i?i.inverseInertia:0)+(s?s.inverseInertia:0),x=m+y,b,T,w,E,S;if(p>0){var A=n.create();w=n.div(u,c);S=n.sub(s&&n.sub(s.position,s.positionPrev)||A,i&&n.sub(i.position,i.positionPrev)||A);E=n.dot(w,S)}if(i&&!i.isStatic){T=i.inverseMass/m;i.constraintImpulse.x-=g.x*T;i.constraintImpulse.y-=g.y*T;i.position.x-=g.x*T;i.position.y-=g.y*T;if(p>0){i.positionPrev.x-=p*w.x*E*T;i.positionPrev.y-=p*w.y*E*T}b=n.cross(a,g)/x*r._torqueDampen*i.inverseInertia*(1-t.angularStiffness);i.constraintImpulse.angle-=b;i.angle-=b}if(s&&!s.isStatic){T=s.inverseMass/m;s.constraintImpulse.x+=g.x*T;s.constraintImpulse.y+=g.y*T;s.position.x+=g.x*T;s.position.y+=g.y*T;if(p>0){s.positionPrev.x+=p*w.x*E*T;s.positionPrev.y+=p*w.y*E*T}b=n.cross(o,g)/x*r._torqueDampen*s.inverseInertia*(1-t.angularStiffness);s.constraintImpulse.angle+=b;s.angle+=b}};r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],h=i.constraintImpulse;if(i.isStatic||h.x===0&&h.y===0&&h.angle===0){continue}a.set(i,false);for(var u=0;u<i.parts.length;u++){var c=i.parts[u];s.translate(c.vertices,h);if(u>0){c.position.x+=h.x;c.position.y+=h.y}if(h.angle!==0){s.rotate(c.vertices,h.angle,i.position);l.rotate(c.axes,h.angle);if(u>0){n.rotateAbout(c.position,h.angle,i.position,c.position)}}o.update(c.bounds,c.vertices,i.velocity)}h.angle*=r._warming;h.x*=r._warming;h.y*=r._warming}};r.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}};r.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}};r.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0);var i=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0);var r=(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0);var s=(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0);var n=e-r;var a=i-s;return Math.sqrt(n*n+a*a)}})()},53402:(t,e,i)=>{var r={};t.exports=r;(function(){r._baseDelta=1e3/60;r._nextId=0;r._seed=0;r._nowStartTime=+new Date;r._warnedOnce={};r._decomp=null;r.extend=function(t,e){var i,s;if(typeof e==="boolean"){i=2;s=e}else{i=1;s=true}for(var n=i;n<arguments.length;n++){var a=arguments[n];if(a){for(var o in a){if(s&&a[o]&&a[o].constructor===Object){if(!t[o]||t[o].constructor===Object){t[o]=t[o]||{};r.extend(t[o],s,a[o])}else{t[o]=a[o]}}else{t[o]=a[o]}}}}return t};r.clone=function(t,e){return r.extend({},e,t)};r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e};r.values=function(t){var e=[];if(Object.keys){var i=Object.keys(t);for(var r=0;r<i.length;r++){e.push(t[i[r]])}return e}for(var s in t)e.push(t[s]);return e};r.get=function(t,e,i,r){e=e.split(".").slice(i,r);for(var s=0;s<e.length;s+=1){t=t[e[s]]}return t};r.set=function(t,e,i,s,n){var a=e.split(".").slice(s,n);r.get(t,e,0,-1)[a[a.length-1]]=i;return i};r.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(r.random()*(e+1));var s=t[e];t[e]=t[i];t[i]=s}return t};r.choose=function(t){return t[Math.floor(r.random()*t.length)]};r.isElement=function(t){if(typeof HTMLElement!=="undefined"){return t instanceof HTMLElement}return!!(t&&t.nodeType&&t.nodeName)};r.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"};r.isFunction=function(t){return typeof t==="function"};r.isPlainObject=function(t){return typeof t==="object"&&t.constructor===Object};r.isString=function(t){return toString.call(t)==="[object String]"};r.clamp=function(t,e,i){if(t<e)return e;if(t>i)return i;return t};r.sign=function(t){return t<0?-1:1};r.now=function(){if(typeof window!=="undefined"&&window.performance){if(window.performance.now){return window.performance.now()}else if(window.performance.webkitNow){return window.performance.webkitNow()}}if(Date.now){return Date.now()}return new Date-r._nowStartTime};r.random=function(t,e){t=typeof t!=="undefined"?t:0;e=typeof e!=="undefined"?e:1;return t+_seededRandom()*(e-t)};var _seededRandom=function(){r._seed=(r._seed*9301+49297)%233280;return r._seed/233280};r.colorToNumber=function(t){t=t.replace("#","");if(t.length==3){t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)}return parseInt(t,16)};r.logLevel=1;r.log=function(){if(console&&r.logLevel>0&&r.logLevel<=3){console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};r.info=function(){if(console&&r.logLevel>0&&r.logLevel<=2){console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};r.warn=function(){if(console&&r.logLevel>0&&r.logLevel<=3){console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};r.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");if(!r._warnedOnce[t]){r.warn(t);r._warnedOnce[t]=true}};r.deprecated=function(t,e,i){t[e]=r.chain((function(){r.warnOnce(" deprecated ",i)}),t[e])};r.nextId=function(){return r._nextId++};r.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++){if(t[i]===e)return i}return-1};r.map=function(t,e){if(t.map){return t.map(e)}var i=[];for(var r=0;r<t.length;r+=1){i.push(e(t[r]))}return i};r.topologicalSort=function(t){var e=[],i=[],s=[];for(var n in t){if(!i[n]&&!s[n]){r._topologicalSort(n,i,s,t,e)}}return e};r._topologicalSort=function(t,e,i,s,n){var a=s[t]||[];i[t]=true;for(var o=0;o<a.length;o+=1){var l=a[o];if(i[l]){continue}if(!e[l]){r._topologicalSort(l,e,i,s,n)}}i[t]=false;e[t]=true;n.push(t)};r.chain=function(){var t=[];for(var e=0;e<arguments.length;e+=1){var i=arguments[e];if(i._chained){t.push.apply(t,i._chained)}else{t.push(i)}}var chain=function(){var e,i=new Array(arguments.length);for(var r=0,s=arguments.length;r<s;r++){i[r]=arguments[r]}for(r=0;r<t.length;r+=1){var n=t[r].apply(e,i);if(typeof n!=="undefined"){e=n}}return e};chain._chained=t;return chain};r.chainPathBefore=function(t,e,i){return r.set(t,e,r.chain(i,r.get(t,e)))};r.chainPathAfter=function(t,e,i){return r.set(t,e,r.chain(r.get(t,e),i))};r.setDecomp=function(t){r._decomp=t};r.getDecomp=function(){var t=r._decomp;try{if(!t&&typeof window!=="undefined"){t=window.decomp}if(!t&&typeof i.g!=="undefined"){t=i.g.decomp}}catch(e){t=null}return t}})()},48413:(t,e,i)=>{var r={};t.exports=r;var s=i(53614);var n=i(66272);var a=i(81388);var o=i(99561);var l=i(35810);var h=i(69351);var u=i(48140);var c=i(53402);var f=i(22562);(function(){r._deltaMax=1e3/60;r.create=function(t){t=t||{};var e={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:false,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}};var i=c.extend(e,t);i.world=t.world||h.create({label:"World"});i.pairs=t.pairs||o.create();i.detector=t.detector||a.create();i.detector.pairs=i.pairs;i.grid={buckets:[]};i.world.gravity=i.gravity;i.broadphase=i.grid;i.metrics={};return i};r.update=function(t,e){var i=c.now();var f=t.world,d=t.detector,v=t.pairs,p=t.timing,g=p.timestamp,m;if(e>r._deltaMax){c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms.")}e=typeof e!=="undefined"?e:c._baseDelta;e*=p.timeScale;p.timestamp+=e;p.lastDelta=e;var y={timestamp:p.timestamp,delta:e};l.trigger(t,"beforeUpdate",y);var x=h.allBodies(f),b=h.allConstraints(f),T=h.allComposites(f);if(f.isModified){a.setBodies(d,x);h.setModified(f,false,false,true)}if(t.enableSleeping)s.update(x,e);r._bodiesApplyGravity(x,t.gravity);r.wrap(x,T);r.attractors(x);if(e>0){r._bodiesUpdate(x,e)}l.trigger(t,"beforeSolve",y);u.preSolveAll(x);for(m=0;m<t.constraintIterations;m++){u.solveAll(b,e)}u.postSolveAll(x);var w=a.collisions(d);o.update(v,w,g);if(t.enableSleeping)s.afterCollisions(v.list);if(v.collisionStart.length>0){l.trigger(t,"collisionStart",{pairs:v.collisionStart,timestamp:p.timestamp,delta:e})}var E=c.clamp(20/t.positionIterations,0,1);n.preSolvePosition(v.list);for(m=0;m<t.positionIterations;m++){n.solvePosition(v.list,e,E)}n.postSolvePosition(x);u.preSolveAll(x);for(m=0;m<t.constraintIterations;m++){u.solveAll(b,e)}u.postSolveAll(x);n.preSolveVelocity(v.list);for(m=0;m<t.velocityIterations;m++){n.solveVelocity(v.list,e)}r._bodiesUpdateVelocities(x);if(v.collisionActive.length>0){l.trigger(t,"collisionActive",{pairs:v.collisionActive,timestamp:p.timestamp,delta:e})}if(v.collisionEnd.length>0){l.trigger(t,"collisionEnd",{pairs:v.collisionEnd,timestamp:p.timestamp,delta:e})}r._bodiesClearForces(x);l.trigger(t,"afterUpdate",y);t.timing.lastElapsed=c.now()-i;return t};r.merge=function(t,e){c.extend(t,e);if(e.world){t.world=e.world;r.clear(t);var i=h.allBodies(t.world);for(var n=0;n<i.length;n++){var a=i[n];s.set(a,false);a.id=c.nextId()}}};r.clear=function(t){o.clear(t.pairs);a.clear(t.detector)};r._bodiesClearForces=function(t){var e=t.length;for(var i=0;i<e;i++){var r=t[i];r.force.x=0;r.force.y=0;r.torque=0}};r._bodiesApplyGravity=function(t,e){var i=typeof e.scale!=="undefined"?e.scale:.001,r=t.length;if(e.x===0&&e.y===0||i===0){return}for(var s=0;s<r;s++){var n=t[s];if(n.ignoreGravity||n.isStatic||n.isSleeping)continue;n.force.y+=n.mass*e.y*i;n.force.x+=n.mass*e.x*i}};r._bodiesUpdate=function(t,e){var i=t.length;for(var r=0;r<i;r++){var s=t[r];if(s.isStatic||s.isSleeping)continue;f.update(s,e)}};r._bodiesUpdateVelocities=function(t){var e=t.length;for(var i=0;i<e;i++){f.updateVelocities(t[i])}};r.wrap=function(t,e){for(var i=0;i<t.length;i+=1){var r=t[i];if(r.wrapBounds!==null){f.wrap(r,r.wrapBounds)}}for(i=0;i<e.length;i+=1){var s=e[i];if(s.wrapBounds!==null){h.wrap(s,s.wrapBounds)}}};r.attractors=function(t){for(var e=0;e<t.length;e++){var i=t[e];var r=i.attractors;if(r&&r.length>0){for(var s=0;s<t.length;s++){var n=t[s];if(e!==s){for(var a=0;a<r.length;a++){var o=r[a];var l=o;if(c.isFunction(o)){l=o(i,n)}if(l){f.applyForce(n,n.position,l)}}}}}}}})()},35810:(t,e,i)=>{var r={};t.exports=r;var s=i(53402);(function(){r.on=function(t,e,i){var r=e.split(" "),s;for(var n=0;n<r.length;n++){s=r[n];t.events=t.events||{};t.events[s]=t.events[s]||[];t.events[s].push(i)}return i};r.off=function(t,e,i){if(!e){t.events={};return}if(typeof e==="function"){i=e;e=s.keys(t.events).join(" ")}var r=e.split(" ");for(var n=0;n<r.length;n++){var a=t.events[r[n]],o=[];if(i&&a){for(var l=0;l<a.length;l++){if(a[l]!==i)o.push(a[l])}}t.events[r[n]]=o}};r.trigger=function(t,e,i){var r,n,a,o;var l=t.events;if(l&&s.keys(l).length>0){if(!i)i={};r=e.split(" ");for(var h=0;h<r.length;h++){n=r[h];a=l[n];if(a){o=s.clone(i,false);o.name=n;o.source=t;for(var u=0;u<a.length;u++){a[u].apply(t,[o])}}}}}})()},6790:(t,e,i)=>{var r={};t.exports=r;var s=i(73832);var n=i(53402);(function(){r.name="matter-js";r.version="0.20.0";r.uses=[];r.used=[];r.use=function(){s.use(r,Array.prototype.slice.call(arguments))};r.before=function(t,e){t=t.replace(/^Matter./,"");return n.chainPathBefore(r,t,e)};r.after=function(t,e){t=t.replace(/^Matter./,"");return n.chainPathAfter(r,t,e)}})()},73832:(t,e,i)=>{var r={};t.exports=r;var s=i(53402);(function(){r._registry={};r.register=function(t){if(!r.isPlugin(t)){s.warn("Plugin.register:",r.toString(t),"does not implement all required fields.")}if(t.name in r._registry){var e=r._registry[t.name],i=r.versionParse(t.version).number,n=r.versionParse(e.version).number;if(i>n){s.warn("Plugin.register:",r.toString(e),"was upgraded to",r.toString(t));r._registry[t.name]=t}else if(i<n){s.warn("Plugin.register:",r.toString(e),"can not be downgraded to",r.toString(t))}else if(t!==e){s.warn("Plugin.register:",r.toString(t),"is already registered to different plugin object")}}else{r._registry[t.name]=t}return t};r.resolve=function(t){return r._registry[r.dependencyParse(t).name]};r.toString=function(t){return typeof t==="string"?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")};r.isPlugin=function(t){return t&&t.name&&t.version&&t.install};r.isUsed=function(t,e){return t.used.indexOf(e)>-1};r.isFor=function(t,e){var i=t.for&&r.dependencyParse(t.for);return!t.for||e.name===i.name&&r.versionSatisfies(e.version,i.range)};r.use=function(t,e){t.uses=(t.uses||[]).concat(e||[]);if(t.uses.length===0){s.warn("Plugin.use:",r.toString(t),"does not specify any dependencies to install.");return}var i=r.dependencies(t),n=s.topologicalSort(i),a=[];for(var o=0;o<n.length;o+=1){if(n[o]===t.name){continue}var l=r.resolve(n[o]);if(!l){a.push(" "+n[o]);continue}if(r.isUsed(t,l.name)){continue}if(!r.isFor(l,t)){s.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(t)+".");l._warned=true}if(l.install){l.install(t)}else{s.warn("Plugin.use:",r.toString(l),"does not specify an install function.");l._warned=true}if(l._warned){a.push(" "+r.toString(l));delete l._warned}else{a.push(" "+r.toString(l))}t.used.push(l.name)}if(a.length>0&&!l.silent){s.info(a.join("  "))}};r.dependencies=function(t,e){var i=r.dependencyParse(t),n=i.name;e=e||{};if(n in e){return}t=r.resolve(t)||t;e[n]=s.map(t.uses||[],(function(e){if(r.isPlugin(e)){r.register(e)}var n=r.dependencyParse(e),a=r.resolve(e);if(a&&!r.versionSatisfies(a.version,n.range)){s.warn("Plugin.dependencies:",r.toString(a),"does not satisfy",r.toString(n),"used by",r.toString(i)+".");a._warned=true;t._warned=true}else if(!a){s.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(i),"could not be resolved.");t._warned=true}return n.name}));for(var a=0;a<e[n].length;a+=1){r.dependencies(e[n][a],e)}return e};r.dependencyParse=function(t){if(s.isString(t)){var e=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;if(!e.test(t)){s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string.")}return{name:t.split("@")[0],range:t.split("@")[1]||"*"}}return{name:t.name,range:t.range||t.version}};r.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;if(!e.test(t)){s.warn("Plugin.versionParse:",t,"is not a valid version or range.")}var i=e.exec(t);var r=Number(i[4]);var n=Number(i[5]);var a=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:t,operator:i[1]||i[2]||"",major:r,minor:n,patch:a,parts:[r,n,a],prerelease:i[7],number:r*1e8+n*1e4+a}};r.versionSatisfies=function(t,e){e=e||"*";var i=r.versionParse(e),s=r.versionParse(t);if(i.isRange){if(i.operator==="*"||t==="*"){return true}if(i.operator===">"){return s.number>i.number}if(i.operator===">="){return s.number>=i.number}if(i.operator==="~"){return s.major===i.major&&s.minor===i.minor&&s.patch>=i.patch}if(i.operator==="^"){if(i.major>0){return s.major===i.major&&s.number>=i.number}if(i.minor>0){return s.minor===i.minor&&s.patch>=i.patch}return s.patch===i.patch}}return t===e||t==="*"}})()},13037:(t,e,i)=>{var r={};t.exports=r;var s=i(35810);var n=i(48413);var a=i(53402);(function(){r._maxFrameDelta=1e3/15;r._frameDeltaFallback=1e3/60;r._timeBufferMargin=1.5;r._elapsedNextEstimate=1;r._smoothingLowerBound=.1;r._smoothingUpperBound=.9;r.create=function(t){var e={delta:1e3/60,frameDelta:null,frameDeltaSmoothing:true,frameDeltaSnapping:true,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:true};var i=a.extend(e,t);i.fps=0;return i};r.run=function(t,e){t.timeBuffer=r._frameDeltaFallback;(function onFrame(i){t.frameRequestId=r._onNextFrame(t,onFrame);if(i&&t.enabled){r.tick(t,e,i)}})();return t};r.tick=function(t,e,i){var o=a.now(),l=t.delta,h=0;var u=i-t.timeLastTick;if(!u||!t.timeLastTick||u>Math.max(r._maxFrameDelta,t.maxFrameTime)){u=t.frameDelta||r._frameDeltaFallback}if(t.frameDeltaSmoothing){t.frameDeltaHistory.push(u);t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var c=t.frameDeltaHistory.slice(0).sort();var f=t.frameDeltaHistory.slice(c.length*r._smoothingLowerBound,c.length*r._smoothingUpperBound);var d=_mean(f);u=d||u}if(t.frameDeltaSnapping){u=1e3/Math.round(1e3/u)}t.frameDelta=u;t.timeLastTick=i;t.timeBuffer+=t.frameDelta;t.timeBuffer=a.clamp(t.timeBuffer,0,t.frameDelta+l*r._timeBufferMargin);t.lastUpdatesDeferred=0;var v=t.maxUpdates||Math.ceil(t.maxFrameTime/l);var p={timestamp:e.timing.timestamp};s.trigger(t,"beforeTick",p);s.trigger(t,"tick",p);var g=a.now();while(l>0&&t.timeBuffer>=l*r._timeBufferMargin){s.trigger(t,"beforeUpdate",p);n.update(e,l);s.trigger(t,"afterUpdate",p);t.timeBuffer-=l;h+=1;var m=a.now()-o,y=a.now()-g,x=m+r._elapsedNextEstimate*y/h;if(h>=v||x>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/l-r._timeBufferMargin));break}}e.timing.lastUpdatesPerFrame=h;s.trigger(t,"afterTick",p);if(t.frameDeltaHistory.length>=100){if(t.lastUpdatesDeferred&&Math.round(t.frameDelta/l)>v){a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs.")}else if(t.lastUpdatesDeferred){a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs.")}if(typeof t.isFixed!=="undefined"){a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs.")}if(t.deltaMin||t.deltaMax){a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs.")}if(t.fps!==0){a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs.")}}};r.stop=function(t){r._cancelNextFrame(t)};r._onNextFrame=function(t,e){if(typeof window!=="undefined"&&window.requestAnimationFrame){t.frameRequestId=window.requestAnimationFrame(e)}else{throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.")}return t.frameRequestId};r._cancelNextFrame=function(t){if(typeof window!=="undefined"&&window.cancelAnimationFrame){window.cancelAnimationFrame(t.frameRequestId)}else{throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")}};var _mean=function(t){var e=0,i=t.length;for(var r=0;r<i;r+=1){e+=t[r]}return e/i||0};r._mean=_mean})()},53614:(t,e,i)=>{var r={};t.exports=r;var s=i(22562);var n=i(35810);var a=i(53402);(function(){r._motionWakeThreshold=.18;r._motionSleepThreshold=.08;r._minBias=.9;r.update=function(t,e){var i=e/a._baseDelta,n=r._motionSleepThreshold;for(var o=0;o<t.length;o++){var l=t[o],h=s.getSpeed(l),u=s.getAngularSpeed(l),c=h*h+u*u;if(l.force.x!==0||l.force.y!==0){r.set(l,false);continue}var f=Math.min(l.motion,c),d=Math.max(l.motion,c);l.motion=r._minBias*f+(1-r._minBias)*d;if(l.sleepThreshold>0&&l.motion<n){l.sleepCounter+=1;if(l.sleepCounter>=l.sleepThreshold/i){r.set(l,true)}}else if(l.sleepCounter>0){l.sleepCounter-=1}}};r.afterCollisions=function(t){var e=r._motionSleepThreshold;for(var i=0;i<t.length;i++){var s=t[i];if(!s.isActive)continue;var n=s.collision,a=n.bodyA.parent,o=n.bodyB.parent;if(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)continue;if(a.isSleeping||o.isSleeping){var l=a.isSleeping&&!a.isStatic?a:o,h=l===a?o:a;if(!l.isStatic&&h.motion>e){r.set(l,false)}}}};r.set=function(t,e){var i=t.isSleeping;if(e){t.isSleeping=true;t.sleepCounter=t.sleepThreshold;t.positionImpulse.x=0;t.positionImpulse.y=0;t.positionPrev.x=t.position.x;t.positionPrev.y=t.position.y;t.anglePrev=t.angle;t.speed=0;t.angularSpeed=0;t.motion=0;if(!i){n.trigger(t,"sleepStart")}}else{t.isSleeping=false;t.sleepCounter=0;if(i){n.trigger(t,"sleepEnd")}}}})()},66280:(t,e,i)=>{var r={};t.exports=r;var s=i(41598);var n=i(53402);var a=i(22562);var o=i(15647);var l=i(31725);(function(){r.rectangle=function(t,e,i,r,o){o=o||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(o.chamfer){var h=o.chamfer;l.vertices=s.chamfer(l.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax);delete o.chamfer}return a.create(n.extend({},l,o))};r.trapezoid=function(t,e,i,r,o,l){l=l||{};if(o>=1){n.warn("Bodies.trapezoid: slope parameter must be < 1.")}o*=.5;var h=(1-o*2)*i;var u=i*o,c=u+h,f=c+u,d;if(o<.5){d="L 0 0 L "+u+" "+-r+" L "+c+" "+-r+" L "+f+" 0"}else{d="L 0 0 L "+c+" "+-r+" L "+f+" 0"}var v={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(d)};if(l.chamfer){var p=l.chamfer;v.vertices=s.chamfer(v.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax);delete l.chamfer}return a.create(n.extend({},v,l))};r.circle=function(t,e,i,s,a){s=s||{};var o={label:"Circle Body",circleRadius:i};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,i)));if(l%2===1)l+=1;return r.polygon(t,e,l,i,n.extend({},o,s))};r.polygon=function(t,e,i,o,l){l=l||{};if(i<3)return r.circle(t,e,o,l);var h=2*Math.PI/i,u="",c=h*.5;for(var f=0;f<i;f+=1){var d=c+f*h,v=Math.cos(d)*o,p=Math.sin(d)*o;u+="L "+v.toFixed(3)+" "+p.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(u)};if(l.chamfer){var m=l.chamfer;g.vertices=s.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax);delete l.chamfer}return a.create(n.extend({},g,l))};r.fromVertices=function(t,e,i,r,h,u,c,f){var d=n.getDecomp(),v,p,g,m,y,x,b,T,w,E,S;v=Boolean(d&&d.quickDecomp);r=r||{};g=[];h=typeof h!=="undefined"?h:false;u=typeof u!=="undefined"?u:.01;c=typeof c!=="undefined"?c:10;f=typeof f!=="undefined"?f:.01;if(!n.isArray(i[0])){i=[i]}for(E=0;E<i.length;E+=1){x=i[E];m=s.isConvex(x);y=!m;if(y&&!v){n.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices.")}if(m||!v){if(m){x=s.clockwiseSort(x)}else{x=s.hull(x)}g.push({position:{x:t,y:e},vertices:x})}else{var A=x.map((function(t){return[t.x,t.y]}));d.makeCCW(A);if(u!==false)d.removeCollinearPoints(A,u);if(f!==false&&d.removeDuplicatePoints)d.removeDuplicatePoints(A,f);var C=d.quickDecomp(A);for(b=0;b<C.length;b++){var O=C[b];var P=O.map((function(t){return{x:t[0],y:t[1]}}));if(c>0&&s.area(P)<c)continue;g.push({position:s.centre(P),vertices:P})}}}for(b=0;b<g.length;b++){g[b]=a.create(n.extend(g[b],r))}if(h){var I=5;for(b=0;b<g.length;b++){var R=g[b];for(T=b+1;T<g.length;T++){var M=g[T];if(o.overlaps(R.bounds,M.bounds)){var L=R.vertices,D=M.vertices;for(w=0;w<R.vertices.length;w++){for(S=0;S<M.vertices.length;S++){var k=l.magnitudeSquared(l.sub(L[(w+1)%L.length],D[S])),F=l.magnitudeSquared(l.sub(L[w],D[(S+1)%D.length]));if(k<I&&F<I){L[w].isInternal=true;D[S].isInternal=true}}}}}}}if(g.length>1){p=a.create(n.extend({parts:g.slice(0)},r));a.setPosition(p,{x:t,y:e});return p}else{return g[0]}};r.flagCoincidentParts=function(t,e){if(e===void 0){e=5}for(var i=0;i<t.length;i++){var r=t[i];for(var s=i+1;s<t.length;s++){var n=t[s];if(o.overlaps(r.bounds,n.bounds)){var a=r.vertices;var h=n.vertices;for(var u=0;u<r.vertices.length;u++){for(var c=0;c<n.vertices.length;c++){var f=l.magnitudeSquared(l.sub(a[(u+1)%a.length],h[c]));var d=l.magnitudeSquared(l.sub(a[u],h[(c+1)%h.length]));if(f<e&&d<e){a[u].isInternal=true;h[c].isInternal=true}}}}}}return t}})()},74116:(t,e,i)=>{var r={};t.exports=r;var s=i(69351);var n=i(48140);var a=i(53402);var o=i(22562);var l=i(66280);(function(){r.stack=function(t,e,i,r,n,a,l){var h=s.create({label:"Stack"}),u=t,c=e,f,d=0;for(var v=0;v<r;v++){var p=0;for(var g=0;g<i;g++){var m=l(u,c,g,v,f,d);if(m){var y=m.bounds.max.y-m.bounds.min.y,x=m.bounds.max.x-m.bounds.min.x;if(y>p)p=y;o.translate(m,{x:x*.5,y:y*.5});u=m.bounds.max.x+n;s.addBody(h,m);f=m;d+=1}else{u+=n}}c+=p+a;u=t}return h};r.chain=function(t,e,i,r,o,l){var h=t.bodies;for(var u=1;u<h.length;u++){var c=h[u-1],f=h[u],d=c.bounds.max.y-c.bounds.min.y,v=c.bounds.max.x-c.bounds.min.x,p=f.bounds.max.y-f.bounds.min.y,g=f.bounds.max.x-f.bounds.min.x;var m={bodyA:c,pointA:{x:v*e,y:d*i},bodyB:f,pointB:{x:g*r,y:p*o}};var y=a.extend(m,l);s.addConstraint(t,n.create(y))}t.label+=" Chain";return t};r.mesh=function(t,e,i,r,o){var l=t.bodies,h,u,c,f,d;for(h=0;h<i;h++){for(u=1;u<e;u++){c=l[u-1+h*e];f=l[u+h*e];s.addConstraint(t,n.create(a.extend({bodyA:c,bodyB:f},o)))}if(h>0){for(u=0;u<e;u++){c=l[u+(h-1)*e];f=l[u+h*e];s.addConstraint(t,n.create(a.extend({bodyA:c,bodyB:f},o)));if(r&&u>0){d=l[u-1+(h-1)*e];s.addConstraint(t,n.create(a.extend({bodyA:d,bodyB:f},o)))}if(r&&u<e-1){d=l[u+1+(h-1)*e];s.addConstraint(t,n.create(a.extend({bodyA:d,bodyB:f},o)))}}}}t.label+=" Mesh";return t};r.pyramid=function(t,e,i,s,n,a,l){return r.stack(t,e,i,s,n,a,(function(e,r,a,h,u,c){var f=Math.min(s,Math.ceil(i/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(h>f)return;h=f-h;var v=h,p=i-1-h;if(a<v||a>p)return;if(c===1){o.translate(u,{x:(a+(i%2===1?1:-1))*d,y:0})}var g=u?a*d:0;return l(t+g+a*n,r,a,h,u,c)}))};r.newtonsCradle=function(t,e,i,r,a){var o=s.create({label:"Newtons Cradle"});for(var h=0;h<i;h++){var u=1.9,c=l.circle(t+h*(r*u),e+a,r,{inertia:Infinity,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=n.create({pointA:{x:t+h*(r*u),y:e},bodyB:c});s.addBody(o,c);s.addConstraint(o,f)}return o};r.car=function(t,e,i,r,a){var h=o.nextGroup(true),u=20,c=-i*.5+u,f=i*.5-u,d=0;var v=s.create({label:"Car"}),p=l.rectangle(t,e,i,r,{collisionFilter:{group:h},chamfer:{radius:r*.5},density:2e-4});var g=l.circle(t+c,e+d,a,{collisionFilter:{group:h},friction:.8});var m=l.circle(t+f,e+d,a,{collisionFilter:{group:h},friction:.8});var y=n.create({bodyB:p,pointB:{x:c,y:d},bodyA:g,stiffness:1,length:0});var x=n.create({bodyB:p,pointB:{x:f,y:d},bodyA:m,stiffness:1,length:0});s.addBody(v,p);s.addBody(v,g);s.addBody(v,m);s.addConstraint(v,y);s.addConstraint(v,x);return v};r.softBody=function(t,e,i,s,n,o,h,u,c,f){c=a.extend({inertia:Infinity},c);f=a.extend({stiffness:.2,render:{type:"line",anchors:false}},f);var d=r.stack(t,e,i,s,n,o,(function(t,e){return l.circle(t,e,u,c)}));r.mesh(d,i,s,h,f);d.label="Soft Body";return d}})()},66615:(t,e,i)=>{var r={};t.exports=r;var s=i(31725);var n=i(53402);(function(){r.fromVertices=function(t){var e={};for(var i=0;i<t.length;i++){var r=(i+1)%t.length,a=s.normalise({x:t[r].y-t[i].y,y:t[i].x-t[r].x}),o=a.y===0?Infinity:a.x/a.y;o=o.toFixed(3).toString();e[o]=a}return n.values(e)};r.rotate=function(t,e){if(e===0)return;var i=Math.cos(e),r=Math.sin(e);for(var s=0;s<t.length;s++){var n=t[s],a;a=n.x*i-n.y*r;n.y=n.x*r+n.y*i;n.x=a}}})()},15647:t=>{var e={};t.exports=e;(function(){e.create=function(t){var i={min:{x:0,y:0},max:{x:0,y:0}};if(t)e.update(i,t);return i};e.update=function(t,e,i){t.min.x=Infinity;t.max.x=-Infinity;t.min.y=Infinity;t.max.y=-Infinity;for(var r=0;r<e.length;r++){var s=e[r];if(s.x>t.max.x)t.max.x=s.x;if(s.x<t.min.x)t.min.x=s.x;if(s.y>t.max.y)t.max.y=s.y;if(s.y<t.min.y)t.min.y=s.y}if(i){if(i.x>0){t.max.x+=i.x}else{t.min.x+=i.x}if(i.y>0){t.max.y+=i.y}else{t.min.y+=i.y}}};e.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y};e.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y};e.translate=function(t,e){t.min.x+=e.x;t.max.x+=e.x;t.min.y+=e.y;t.max.y+=e.y};e.shift=function(t,e){var i=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x;t.max.x=e.x+i;t.min.y=e.y;t.max.y=e.y+r};e.wrap=function(t,e,i){var r=null,s=null;if(typeof e.min.x!=="undefined"&&typeof e.max.x!=="undefined"){if(t.min.x>e.max.x){r=e.min.x-t.max.x}else if(t.max.x<e.min.x){r=e.max.x-t.min.x}}if(typeof e.min.y!=="undefined"&&typeof e.max.y!=="undefined"){if(t.min.y>e.max.y){s=e.min.y-t.max.y}else if(t.max.y<e.min.y){s=e.max.y-t.min.y}}if(r!==null||s!==null){return{x:r||0,y:s||0}}}})()},74058:(t,e,i)=>{var r={};t.exports=r;i(15647);var s=i(53402);(function(){r.pathToVertices=function(t,e){if(typeof window!=="undefined"&&!("SVGPathSeg"in window)){s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.")}var i,n,a,o,l,h,u,c,f,d,v=[],p,g,m=0,y=0,x=0;e=e||15;var addPoint=function(t,e,i){var r=i%2===1&&i>1;if(!f||t!=f.x||e!=f.y){if(f&&r){p=f.x;g=f.y}else{p=0;g=0}var s={x:p+t,y:g+e};if(r||!f){f=s}v.push(s);y=p+t;x=g+e}};var addSegmentPoint=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if(e==="Z")return;switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":y=t.x;x=t.y;break;case"H":y=t.x;break;case"V":x=t.y;break}addPoint(y,x,t.pathSegType)};r._svgPathToAbsolute(t);a=t.getTotalLength();h=[];for(i=0;i<t.pathSegList.numberOfItems;i+=1)h.push(t.pathSegList.getItem(i));u=h.concat();while(m<a){d=t.getPathSegAtLength(m);l=h[d];if(l!=c){while(u.length&&u[0]!=l)addSegmentPoint(u.shift());c=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=t.getPointAtLength(m);addPoint(o.x,o.y,0);break}m+=e}for(i=0,n=u.length;i<n;++i)addSegmentPoint(u[i]);return v};r._svgPathToAbsolute=function(t){var e,i,r,s,n,a,o=t.pathSegList,l=0,h=0,u=o.numberOfItems;for(var c=0;c<u;++c){var f=o.getItem(c),d=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d)){if("x"in f)l=f.x;if("y"in f)h=f.y}else{if("x1"in f)r=l+f.x1;if("x2"in f)n=l+f.x2;if("y1"in f)s=h+f.y1;if("y2"in f)a=h+f.y2;if("x"in f)l+=f.x;if("y"in f)h+=f.y;switch(d){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(l,h),c);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(l,h),c);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),c);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(h),c);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,h,r,s,n,a),c);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,h,n,a),c);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,h,r,s),c);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),c);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(l,h,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),c);break;case"z":case"Z":l=e;h=i;break}}if(d=="M"||d=="m"){e=l;i=h}}}})()},31725:t=>{var e={};t.exports=e;(function(){e.create=function(t,e){return{x:t||0,y:e||0}};e.clone=function(t){return{x:t.x,y:t.y}};e.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};e.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y};e.rotate=function(t,e,i){var r=Math.cos(e),s=Math.sin(e);if(!i)i={};var n=t.x*r-t.y*s;i.y=t.x*s+t.y*r;i.x=n;return i};e.rotateAbout=function(t,e,i,r){var s=Math.cos(e),n=Math.sin(e);if(!r)r={};var a=i.x+((t.x-i.x)*s-(t.y-i.y)*n);r.y=i.y+((t.x-i.x)*n+(t.y-i.y)*s);r.x=a;return r};e.normalise=function(t){var i=e.magnitude(t);if(i===0)return{x:0,y:0};return{x:t.x/i,y:t.y/i}};e.dot=function(t,e){return t.x*e.x+t.y*e.y};e.cross=function(t,e){return t.x*e.y-t.y*e.x};e.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)};e.add=function(t,e,i){if(!i)i={};i.x=t.x+e.x;i.y=t.y+e.y;return i};e.sub=function(t,e,i){if(!i)i={};i.x=t.x-e.x;i.y=t.y-e.y;return i};e.mult=function(t,e){return{x:t.x*e,y:t.y*e}};e.div=function(t,e){return{x:t.x/e,y:t.y/e}};e.perp=function(t,e){e=e===true?-1:1;return{x:e*-t.y,y:e*t.x}};e.neg=function(t){return{x:-t.x,y:-t.y}};e.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)};e._temp=[e.create(),e.create(),e.create(),e.create(),e.create(),e.create()]})()},41598:(t,e,i)=>{var r={};t.exports=r;var s=i(31725);var n=i(53402);(function(){r.create=function(t,e){var i=[];for(var r=0;r<t.length;r++){var s=t[r],n={x:s.x,y:s.y,index:r,body:e,isInternal:false};i.push(n)}return i};r.fromPath=function(t,e){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,s=[];t.replace(i,(function(t,e,i){s.push({x:parseFloat(e),y:parseFloat(i)})}));return r.create(s,e)};r.centre=function(t){var e=r.area(t,true),i={x:0,y:0},n,a,o;for(var l=0;l<t.length;l++){o=(l+1)%t.length;n=s.cross(t[l],t[o]);a=s.mult(s.add(t[l],t[o]),n);i=s.add(i,a)}return s.div(i,6*e)};r.mean=function(t){var e={x:0,y:0};for(var i=0;i<t.length;i++){e.x+=t[i].x;e.y+=t[i].y}return s.div(e,t.length)};r.area=function(t,e){var i=0,r=t.length-1;for(var s=0;s<t.length;s++){i+=(t[r].x-t[s].x)*(t[r].y+t[s].y);r=s}if(e)return i/2;return Math.abs(i)/2};r.inertia=function(t,e){var i=0,r=0,n=t,a,o;for(var l=0;l<n.length;l++){o=(l+1)%n.length;a=Math.abs(s.cross(n[o],n[l]));i+=a*(s.dot(n[o],n[o])+s.dot(n[o],n[l])+s.dot(n[l],n[l]));r+=a}return e/6*(i/r)};r.translate=function(t,e,i){i=typeof i!=="undefined"?i:1;var r=t.length,s=e.x*i,n=e.y*i,a;for(a=0;a<r;a++){t[a].x+=s;t[a].y+=n}return t};r.rotate=function(t,e,i){if(e===0)return;var r=Math.cos(e),s=Math.sin(e),n=i.x,a=i.y,o=t.length,l,h,u,c;for(c=0;c<o;c++){l=t[c];h=l.x-n;u=l.y-a;l.x=n+(h*r-u*s);l.y=a+(h*s+u*r)}return t};r.contains=function(t,e){var i=e.x,r=e.y,s=t.length,n=t[s-1],a;for(var o=0;o<s;o++){a=t[o];if((i-n.x)*(a.y-n.y)+(r-n.y)*(n.x-a.x)>0){return false}n=a}return true};r.scale=function(t,e,i,n){if(e===1&&i===1)return t;n=n||r.centre(t);var a,o;for(var l=0;l<t.length;l++){a=t[l];o=s.sub(a,n);t[l].x=n.x+o.x*e;t[l].y=n.y+o.y*i}return t};r.chamfer=function(t,e,i,r,a){if(typeof e==="number"){e=[e]}else{e=e||[8]}i=typeof i!=="undefined"?i:-1;r=r||2;a=a||14;var o=[];for(var l=0;l<t.length;l++){var h=t[l-1>=0?l-1:t.length-1],u=t[l],c=t[(l+1)%t.length],f=e[l<e.length?l:e.length-1];if(f===0){o.push(u);continue}var d=s.normalise({x:u.y-h.y,y:h.x-u.x});var v=s.normalise({x:c.y-u.y,y:u.x-c.x});var p=Math.sqrt(2*Math.pow(f,2)),g=s.mult(n.clone(d),f),m=s.normalise(s.mult(s.add(d,v),.5)),y=s.sub(u,s.mult(m,p));var x=i;if(i===-1){x=Math.pow(f,.32)*1.75}x=n.clamp(x,r,a);if(x%2===1)x+=1;var b=Math.acos(s.dot(d,v)),T=b/x;for(var w=0;w<x;w++){o.push(s.add(s.rotate(g,T*w),y))}}return o};r.clockwiseSort=function(t){var e=r.mean(t);t.sort((function(t,i){return s.angle(e,t)-s.angle(e,i)}));return t};r.isConvex=function(t){var e=0,i=t.length,r,s,n,a;if(i<3)return null;for(r=0;r<i;r++){s=(r+1)%i;n=(r+2)%i;a=(t[s].x-t[r].x)*(t[n].y-t[s].y);a-=(t[s].y-t[r].y)*(t[n].x-t[s].x);if(a<0){e|=1}else if(a>0){e|=2}if(e===3){return false}}if(e!==0){return true}else{return null}};r.hull=function(t){var e=[],i=[],r,n;t=t.slice(0);t.sort((function(t,e){var i=t.x-e.x;return i!==0?i:t.y-e.y}));for(n=0;n<t.length;n+=1){r=t[n];while(i.length>=2&&s.cross3(i[i.length-2],i[i.length-1],r)<=0){i.pop()}i.push(r)}for(n=t.length-1;n>=0;n-=1){r=t[n];while(e.length>=2&&s.cross3(e[e.length-2],e[e.length-1],r)<=0){e.pop()}e.push(r)}e.pop();i.pop();return e.concat(i)}})()},55973:t=>{
/**
               * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={decomp:polygonDecomp,quickDecomp:polygonQuickDecomp,isSimple:polygonIsSimple,removeCollinearPoints:polygonRemoveCollinearPoints,removeDuplicatePoints:polygonRemoveDuplicatePoints,makeCCW:polygonMakeCCW};function lineInt(t,e,i){i=i||0;var r=[0,0];var s,n,a,o,l,h,u;s=t[1][1]-t[0][1];n=t[0][0]-t[1][0];a=s*t[0][0]+n*t[0][1];o=e[1][1]-e[0][1];l=e[0][0]-e[1][0];h=o*e[0][0]+l*e[0][1];u=s*l-o*n;if(!scalar_eq(u,0,i)){r[0]=(l*a-n*h)/u;r[1]=(s*h-o*a)/u}return r}function lineSegmentsIntersect(t,e,i,r){var s=e[0]-t[0];var n=e[1]-t[1];var a=r[0]-i[0];var o=r[1]-i[1];if(a*n-o*s===0){return false}var l=(s*(i[1]-t[1])+n*(t[0]-i[0]))/(a*n-o*s);var h=(a*(t[1]-i[1])+o*(i[0]-t[0]))/(o*s-a*n);return l>=0&&l<=1&&h>=0&&h<=1}function triangleArea(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function isLeft(t,e,i){return triangleArea(t,e,i)>0}function isLeftOn(t,e,i){return triangleArea(t,e,i)>=0}function isRight(t,e,i){return triangleArea(t,e,i)<0}function isRightOn(t,e,i){return triangleArea(t,e,i)<=0}var e=[],i=[];function collinear(t,r,s,n){if(!n){return triangleArea(t,r,s)===0}else{var a=e,o=i;a[0]=r[0]-t[0];a[1]=r[1]-t[1];o[0]=s[0]-r[0];o[1]=s[1]-r[1];var l=a[0]*o[0]+a[1]*o[1],h=Math.sqrt(a[0]*a[0]+a[1]*a[1]),u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=Math.acos(l/(h*u));return c<n}}function sqdist(t,e){var i=e[0]-t[0];var r=e[1]-t[1];return i*i+r*r}function polygonAt(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function polygonClear(t){t.length=0}function polygonAppend(t,e,i,r){for(var s=i;s<r;s++){t.push(e[s])}}function polygonMakeCCW(t){var e=0,i=t;for(var r=1;r<t.length;++r){if(i[r][1]<i[e][1]||i[r][1]===i[e][1]&&i[r][0]>i[e][0]){e=r}}if(!isLeft(polygonAt(t,e-1),polygonAt(t,e),polygonAt(t,e+1))){polygonReverse(t);return true}else{return false}}function polygonReverse(t){var e=[];var i=t.length;for(var r=0;r!==i;r++){e.push(t.pop())}for(var r=0;r!==i;r++){t[r]=e[r]}}function polygonIsReflex(t,e){return isRight(polygonAt(t,e-1),polygonAt(t,e),polygonAt(t,e+1))}var r=[],s=[];function polygonCanSee(t,e,i){var n,a,o=r,l=s;if(isLeftOn(polygonAt(t,e+1),polygonAt(t,e),polygonAt(t,i))&&isRightOn(polygonAt(t,e-1),polygonAt(t,e),polygonAt(t,i))){return false}a=sqdist(polygonAt(t,e),polygonAt(t,i));for(var h=0;h!==t.length;++h){if((h+1)%t.length===e||h===e){continue}if(isLeftOn(polygonAt(t,e),polygonAt(t,i),polygonAt(t,h+1))&&isRightOn(polygonAt(t,e),polygonAt(t,i),polygonAt(t,h))){o[0]=polygonAt(t,e);o[1]=polygonAt(t,i);l[0]=polygonAt(t,h);l[1]=polygonAt(t,h+1);n=lineInt(o,l);if(sqdist(polygonAt(t,e),n)<a){return false}}}return true}function polygonCanSee2(t,e,i){for(var r=0;r!==t.length;++r){if(r===e||r===i||(r+1)%t.length===e||(r+1)%t.length===i){continue}if(lineSegmentsIntersect(polygonAt(t,e),polygonAt(t,i),polygonAt(t,r),polygonAt(t,r+1))){return false}}return true}function polygonCopy(t,e,i,r){var s=r||[];polygonClear(s);if(e<i){for(var n=e;n<=i;n++){s.push(t[n])}}else{for(var n=0;n<=i;n++){s.push(t[n])}for(var n=e;n<t.length;n++){s.push(t[n])}}return s}function polygonGetCutEdges(t){var e=[],i=[],r=[],s=[];var n=Number.MAX_VALUE;for(var a=0;a<t.length;++a){if(polygonIsReflex(t,a)){for(var o=0;o<t.length;++o){if(polygonCanSee(t,a,o)){i=polygonGetCutEdges(polygonCopy(t,a,o,s));r=polygonGetCutEdges(polygonCopy(t,o,a,s));for(var l=0;l<r.length;l++){i.push(r[l])}if(i.length<n){e=i;n=i.length;e.push([polygonAt(t,a),polygonAt(t,o)])}}}}}return e}function polygonDecomp(t){var e=polygonGetCutEdges(t);if(e.length>0){return polygonSlice(t,e)}else{return[t]}}function polygonSlice(t,e){if(e.length===0){return[t]}if(e instanceof Array&&e.length&&e[0]instanceof Array&&e[0].length===2&&e[0][0]instanceof Array){var i=[t];for(var r=0;r<e.length;r++){var s=e[r];for(var n=0;n<i.length;n++){var a=i[n];var o=polygonSlice(a,s);if(o){i.splice(n,1);i.push(o[0],o[1]);break}}}return i}else{var s=e;var r=t.indexOf(s[0]);var n=t.indexOf(s[1]);if(r!==-1&&n!==-1){return[polygonCopy(t,r,n),polygonCopy(t,n,r)]}else{return false}}}function polygonIsSimple(t){var e=t,i;for(i=0;i<e.length-1;i++){for(var r=0;r<i-1;r++){if(lineSegmentsIntersect(e[i],e[i+1],e[r],e[r+1])){return false}}}for(i=1;i<e.length-2;i++){if(lineSegmentsIntersect(e[0],e[e.length-1],e[i],e[i+1])){return false}}return true}function getIntersectionPoint(t,e,i,r,s){s=s||0;var n=e[1]-t[1];var a=t[0]-e[0];var o=n*t[0]+a*t[1];var l=r[1]-i[1];var h=i[0]-r[0];var u=l*i[0]+h*i[1];var c=n*h-l*a;if(!scalar_eq(c,0,s)){return[(h*o-a*u)/c,(n*u-l*o)/c]}else{return[0,0]}}function polygonQuickDecomp(t,e,i,r,s,n,a){n=n||100;a=a||0;s=s||25;e=typeof e!=="undefined"?e:[];i=i||[];r=r||[];var o=[0,0],l=[0,0],h=[0,0];var u=0,c=0,f=0,d=0;var v=0,p=0,g=0;var m=[],y=[];var x=t,b=t;if(b.length<3){return e}a++;if(a>n){console.warn("quickDecomp: max level ("+n+") reached.");return e}for(var T=0;T<t.length;++T){if(polygonIsReflex(x,T)){i.push(x[T]);u=c=Number.MAX_VALUE;for(var w=0;w<t.length;++w){if(isLeft(polygonAt(x,T-1),polygonAt(x,T),polygonAt(x,w))&&isRightOn(polygonAt(x,T-1),polygonAt(x,T),polygonAt(x,w-1))){h=getIntersectionPoint(polygonAt(x,T-1),polygonAt(x,T),polygonAt(x,w),polygonAt(x,w-1));if(isRight(polygonAt(x,T+1),polygonAt(x,T),h)){f=sqdist(x[T],h);if(f<c){c=f;l=h;p=w}}}if(isLeft(polygonAt(x,T+1),polygonAt(x,T),polygonAt(x,w+1))&&isRightOn(polygonAt(x,T+1),polygonAt(x,T),polygonAt(x,w))){h=getIntersectionPoint(polygonAt(x,T+1),polygonAt(x,T),polygonAt(x,w),polygonAt(x,w+1));if(isLeft(polygonAt(x,T-1),polygonAt(x,T),h)){f=sqdist(x[T],h);if(f<u){u=f;o=h;v=w}}}}if(p===(v+1)%t.length){h[0]=(l[0]+o[0])/2;h[1]=(l[1]+o[1])/2;r.push(h);if(T<v){polygonAppend(m,x,T,v+1);m.push(h);y.push(h);if(p!==0){polygonAppend(y,x,p,x.length)}polygonAppend(y,x,0,T+1)}else{if(T!==0){polygonAppend(m,x,T,x.length)}polygonAppend(m,x,0,v+1);m.push(h);y.push(h);polygonAppend(y,x,p,T+1)}}else{if(p>v){v+=t.length}d=Number.MAX_VALUE;if(v<p){return e}for(var w=p;w<=v;++w){if(isLeftOn(polygonAt(x,T-1),polygonAt(x,T),polygonAt(x,w))&&isRightOn(polygonAt(x,T+1),polygonAt(x,T),polygonAt(x,w))){f=sqdist(polygonAt(x,T),polygonAt(x,w));if(f<d&&polygonCanSee2(x,T,w)){d=f;g=w%t.length}}}if(T<g){polygonAppend(m,x,T,g+1);if(g!==0){polygonAppend(y,x,g,b.length)}polygonAppend(y,x,0,T+1)}else{if(T!==0){polygonAppend(m,x,T,b.length)}polygonAppend(m,x,0,g+1);polygonAppend(y,x,g,T+1)}}if(m.length<y.length){polygonQuickDecomp(m,e,i,r,s,n,a);polygonQuickDecomp(y,e,i,r,s,n,a)}else{polygonQuickDecomp(y,e,i,r,s,n,a);polygonQuickDecomp(m,e,i,r,s,n,a)}return e}}e.push(t);return e}function polygonRemoveCollinearPoints(t,e){var i=0;for(var r=t.length-1;t.length>3&&r>=0;--r){if(collinear(polygonAt(t,r-1),polygonAt(t,r),polygonAt(t,r+1),e)){t.splice(r%t.length,1);i++}}return i}function polygonRemoveDuplicatePoints(t,e){for(var i=t.length-1;i>=1;--i){var r=t[i];for(var s=i-1;s>=0;--s){if(points_eq(r,t[s],e)){t.splice(i,1);continue}}}}function scalar_eq(t,e,i){i=i||0;return Math.abs(t-e)<=i}function points_eq(t,e,i){return scalar_eq(t[0],e[0],i)&&scalar_eq(t[1],e[1],i)}},52018:(t,e,i)=>{
/**
              * @author       Richard Davey <rich@phaser.io>
              * @copyright    2013-2025 Phaser Studio Inc.
              * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
              */
var r=i(83419);var s=new r({initialize:function BasePlugin2(t){this.pluginManager=t;this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null;this.game=null;this.scene=null;this.systems=null}});t.exports=s},42363:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};t.exports=e},37277:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={};var i={};var r={};r.register=function(t,i,r,s){if(s===void 0){s=false}e[t]={plugin:i,mapping:r,custom:s}};r.registerCustom=function(t,e,r,s){i[t]={plugin:e,mapping:r,data:s}};r.hasCore=function(t){return e.hasOwnProperty(t)};r.hasCustom=function(t){return i.hasOwnProperty(t)};r.getCore=function(t){return e[t]};r.getCustom=function(t){return i[t]};r.getCustomClass=function(t){return i.hasOwnProperty(t)?i[t].plugin:null};r.remove=function(t){if(e.hasOwnProperty(t)){delete e[t]}};r.removeCustom=function(t){if(i.hasOwnProperty(t)){delete i[t]}};r.destroyCorePlugins=function(){for(var t in e){if(e.hasOwnProperty(t)){delete e[t]}}};r.destroyCustomPlugins=function(){for(var t in i){if(i.hasOwnProperty(t)){delete i[t]}}};t.exports=r},77332:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(8443);var n=i(50792);var a=i(74099);var o=i(44603);var l=i(39429);var h=i(95540);var u=i(37277);var c=i(72905);var f=i(8054);var d=new r({Extends:n,initialize:function PluginManager2(t){n.call(this);this.game=t;this.plugins=[];this.scenePlugins=[];this._pendingGlobal=[];this._pendingScene=[];if(t.isBooted||t.config.renderType===f.HEADLESS){this.boot()}else{t.events.once(s.BOOT,this.boot,this)}},boot:function(){var t;var e;var i;var r;var n;var a;var o;var l=this.game.config;var u=l.installGlobalPlugins;u=u.concat(this._pendingGlobal);for(t=0;t<u.length;t++){e=u[t];i=h(e,"key",null);r=h(e,"plugin",null);n=h(e,"start",false);a=h(e,"mapping",null);o=h(e,"data",null);if(i){if(r){this.install(i,r,n,a,o)}else{console.warn("Missing `plugin` for key: "+i)}}}u=l.installScenePlugins;u=u.concat(this._pendingScene);for(t=0;t<u.length;t++){e=u[t];i=h(e,"key",null);r=h(e,"plugin",null);a=h(e,"mapping",null);if(i){if(r){this.installScenePlugin(i,r,a)}else{console.warn("Missing `plugin` for key: "+i)}}}this._pendingGlobal=[];this._pendingScene=[];this.game.events.once(s.DESTROY,this.destroy,this)},addToScene:function(t,e,i){var r;var s;var n;var a=this.game;var o=t.scene;var l=t.settings.map;var h=t.settings.isBooted;for(r=0;r<e.length;r++){s=e[r];if(a[s]){t[s]=a[s];if(l.hasOwnProperty(s)){o[l[s]]=t[s]}}else if(s==="game"&&l.hasOwnProperty(s)){o[l[s]]=a}}for(var c=0;c<i.length;c++){n=i[c];for(r=0;r<n.length;r++){s=n[r];if(!u.hasCore(s)){continue}var f=u.getCore(s);var d=f.mapping;var v=new f.plugin(o,this,d);t[d]=v;if(f.custom){o[d]=v}else if(l.hasOwnProperty(d)){o[l[d]]=v}if(h){v.boot()}}}n=this.plugins;for(r=0;r<n.length;r++){var p=n[r];if(p.mapping){o[p.mapping]=p.plugin}}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;t=t.concat(this.scenePlugins);return t},installScenePlugin:function(t,e,i,r,s){if(s===void 0){s=false}if(typeof e!=="function"){console.warn("Invalid Scene Plugin: "+t);return}if(!u.hasCore(t)){u.register(t,e,i,true)}if(this.scenePlugins.indexOf(t)===-1){this.scenePlugins.push(t)}else if(!s&&u.hasCore(t)){console.warn("Scene Plugin key in use: "+t);return}if(r){var n=new e(r,this,t);r.sys[t]=n;if(i&&i!==""){r[i]=n}n.boot()}},install:function(t,e,i,r,s){if(i===void 0){i=false}if(r===void 0){r=null}if(s===void 0){s=null}if(typeof e!=="function"){console.warn("Invalid Plugin: "+t);return null}if(u.hasCustom(t)){console.warn("Plugin key in use: "+t);return null}if(r!==null){i=true}if(!this.game.isBooted){this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:r,data:s})}else{u.registerCustom(t,e,r,s);if(i){return this.start(t)}}return null},getIndex:function(t){var e=this.plugins;for(var i=0;i<e.length;i++){var r=e[i];if(r.key===t){return i}}return-1},getEntry:function(t){var e=this.getIndex(t);if(e!==-1){return this.plugins[e]}},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){if(e===void 0){e=t}var i=this.getEntry(e);if(i&&!i.active){i.active=true;i.plugin.start()}else if(!i){i=this.createEntry(t,e)}return i?i.plugin:null},createEntry:function(t,e){var i=u.getCustom(t);if(i){var r=new i.plugin(this);i={key:e,plugin:r,active:true,mapping:i.mapping,data:i.data};this.plugins.push(i);r.init(i.data);r.start()}return i},stop:function(t){var e=this.getEntry(t);if(e&&e.active){e.active=false;e.plugin.stop()}return this},get:function(t,e){if(e===void 0){e=true}var i=this.getEntry(t);if(i){return i.plugin}else{var r=this.getClass(t);if(r&&e){i=this.createEntry(t,t);return i?i.plugin:null}else if(r){return r}}return null},getClass:function(t){return u.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);if(e){c(this.plugins,e)}u.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t);u.remove(t)},registerGameObject:function(t,e,i){if(e){l.register(t,e)}if(i){o.register(t,i)}return this},removeGameObject:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}if(e){l.remove(t)}if(i){o.remove(t)}return this},registerFileType:function(t,e,i){a.register(t,e);if(i&&i.sys.load){i.sys.load[t]=e}},destroy:function(){for(var t=0;t<this.plugins.length;t++){this.plugins[t].plugin.destroy()}u.destroyCustomPlugins();if(this.game.noReturn){u.destroyCorePlugins()}this.game=null;this.plugins=[];this.scenePlugins=[]}});t.exports=d},45145:(t,e,i)=>{
/**
              * @author       Richard Davey <rich@phaser.io>
              * @copyright    2013-2025 Phaser Studio Inc.
              * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
              */
var r=i(52018);var s=i(83419);var n=i(44594);var a=new s({Extends:r,initialize:function ScenePlugin2(t,e,i){r.call(this,e);this.scene=t;this.systems=t.sys;this.pluginKey=i;t.sys.events.once(n.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null;this.game=null;this.scene=null;this.systems=null}});t.exports=a},18922:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{if(typeof HTMLVideoElement!=="undefined"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype){HTMLVideoElement.prototype._rvfcpolyfillmap={};HTMLVideoElement.prototype.requestVideoFrameCallback=function(t){const e=performance.now();const i=this.getVideoPlaybackQuality();const r=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames;const check=(s,n)=>{const a=this.getVideoPlaybackQuality();const o=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(o>r){const r=this.mozFrameDelay||a.totalFrameDelay-i.totalFrameDelay||0;const l=n-s;t(n,{presentationTime:n+r*1e3,expectedDisplayTime:n+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:o,processingDuration:r});delete this._rvfcpolyfillmap[e]}else{this._rvfcpolyfillmap[e]=requestAnimationFrame((t=>check(n,t)))}};this._rvfcpolyfillmap[e]=requestAnimationFrame((t=>check(e,t)));return e};HTMLVideoElement.prototype.cancelVideoFrameCallback=function(t){cancelAnimationFrame(this._rvfcpolyfillmap[t]);delete this._rvfcpolyfillmap[t]}}},10312:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={DEFAULT:0,LINEAR:0,NEAREST:1};t.exports=e},68627:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19715);var s=i(32880);var n=i(83419);var a=i(8054);var o=i(50792);var l=i(92503);var h=i(56373);var u=i(97480);var c=i(69442);var f=i(8443);var d=i(61340);var v=new n({Extends:o,initialize:function CanvasRenderer2(t){o.call(this);var e=t.config;this.config={clearBeforeRender:e.clearBeforeRender,backgroundColor:e.backgroundColor,antialias:e.antialias,roundPixels:e.roundPixels,transparent:e.transparent};this.game=t;this.type=a.CANVAS;this.drawCount=0;this.width=0;this.height=0;this.gameCanvas=t.canvas;var i={alpha:e.transparent,desynchronized:e.desynchronized,willReadFrequently:false};this.gameContext=e.context?e.context:this.gameCanvas.getContext("2d",i);this.currentContext=this.gameContext;this.antialias=e.antialias;this.blendModes=h();this.snapshotState={x:0,y:0,width:1,height:1,getPixel:false,callback:null,type:"image/png",encoder:.92};this._tempMatrix1=new d;this._tempMatrix2=new d;this._tempMatrix3=new d;this.isBooted=false;this.init()},init:function(){var t=this.game;t.events.once(f.BOOT,(function(){var t=this.config;if(!t.transparent){var e=this.gameContext;var i=this.gameCanvas;e.fillStyle=t.backgroundColor.rgba;e.fillRect(0,0,i.width,i.height)}}),this);t.textures.once(c.READY,this.boot,this)},boot:function(){var t=this.game;var e=t.scale.baseSize;this.width=e.width;this.height=e.height;this.isBooted=true;t.scale.on(u.RESIZE,this.onResize,this);this.resize(e.width,e.height)},onResize:function(t,e){if(e.width!==this.width||e.height!==this.height){this.resize(e.width,e.height)}},resize:function(t,e){this.width=t;this.height=e;this.emit(l.RESIZE,t,e)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){this.currentContext.globalCompositeOperation=t;return this},setContext:function(t){this.currentContext=t?t:this.gameContext;return this},setAlpha:function(t){this.currentContext.globalAlpha=t;return this},preRender:function(){var t=this.gameContext;var e=this.config;var i=this.width;var r=this.height;t.globalAlpha=1;t.globalCompositeOperation="source-over";t.setTransform(1,0,0,1,0,0);this.emit(l.PRE_RENDER_CLEAR);if(e.clearBeforeRender){t.clearRect(0,0,i,r);if(!e.transparent){t.fillStyle=e.backgroundColor.rgba;t.fillRect(0,0,i,r)}}t.save();this.drawCount=0;this.emit(l.PRE_RENDER)},render:function(t,e,i){var s=e.length;this.emit(l.RENDER,t,i);var n=i.x;var a=i.y;var o=i.width;var h=i.height;var u=i.renderToTexture?i.context:t.sys.context;u.save();if(this.game.scene.customViewports){u.beginPath();u.rect(n,a,o,h);u.clip()}i.emit(r.PRE_RENDER,i);this.currentContext=u;var c=i.mask;if(c){c.preRenderCanvas(this,null,i._maskCamera)}if(!i.transparent){u.fillStyle=i.backgroundColor.rgba;u.fillRect(n,a,o,h)}u.globalAlpha=i.alpha;u.globalCompositeOperation="source-over";this.drawCount+=s;if(i.renderToTexture){i.emit(r.PRE_RENDER,i)}i.matrix.copyToContext(u);for(var f=0;f<s;f++){var d=e[f];if(d.mask){d.mask.preRenderCanvas(this,d,i)}d.renderCanvas(this,d,i);if(d.mask){d.mask.postRenderCanvas(this,d,i)}}u.setTransform(1,0,0,1,0,0);u.globalCompositeOperation="source-over";u.globalAlpha=1;i.flashEffect.postRenderCanvas(u);i.fadeEffect.postRenderCanvas(u);i.dirty=false;if(c){c.postRenderCanvas(this)}u.restore();if(i.renderToTexture){i.emit(r.POST_RENDER,i);if(i.renderToGame){t.sys.context.drawImage(i.canvas,n,a)}}i.emit(r.POST_RENDER,i)},postRender:function(){var t=this.gameContext;t.restore();this.emit(l.POST_RENDER);var e=this.snapshotState;if(e.callback){s(this.gameCanvas,e);e.callback=null}},snapshotCanvas:function(t,e,i,r,n,a,o,l,h){if(i===void 0){i=false}this.snapshotArea(r,n,a,o,e,l,h);var u=this.snapshotState;u.getPixel=i;s(t,u);u.callback=null;return this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,i)},snapshotArea:function(t,e,i,r,s,n,a){var o=this.snapshotState;o.callback=s;o.type=n;o.encoder=a;o.getPixel=false;o.x=t;o.y=e;o.width=Math.min(i,this.gameCanvas.width);o.height=Math.min(r,this.gameCanvas.height);return this},snapshotPixel:function(t,e,i){this.snapshotArea(t,e,1,1,i);this.snapshotState.getPixel=true;return this},batchSprite:function(t,e,i,r){var s=i.alpha*t.alpha;if(s===0){return}var n=this.currentContext;var a=this._tempMatrix1;var o=this._tempMatrix2;var l=e.canvasData;var h=l.x;var u=l.y;var c=e.cutWidth;var f=e.cutHeight;var d=e.customPivot;var v=e.source.resolution;var p=t.displayOriginX;var g=t.displayOriginY;var m=-p+e.x;var y=-g+e.y;if(t.isCropped){var x=t._crop;if(x.flipX!==t.flipX||x.flipY!==t.flipY){e.updateCropUVs(x,t.flipX,t.flipY)}c=x.cw;f=x.ch;h=x.cx;u=x.cy;m=-p+x.x;y=-g+x.y;if(t.flipX){if(m>=0){m=-(m+c)}else if(m<0){m=Math.abs(m)-c}}if(t.flipY){if(y>=0){y=-(y+f)}else if(y<0){y=Math.abs(y)-f}}}var b=1;var T=1;if(t.flipX){if(!d){m+=-e.realWidth+p*2}b=-1}if(t.flipY){if(!d){y+=-e.realHeight+g*2}T=-1}var w=t.x;var E=t.y;if(i.roundPixels){w=Math.floor(w);E=Math.floor(E)}o.applyITRS(w,E,t.rotation,t.scaleX*b,t.scaleY*T);a.copyFrom(i.matrix);if(r){a.multiplyWithOffset(r,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY);o.e=w;o.f=E}else{o.e-=i.scrollX*t.scrollFactorX;o.f-=i.scrollY*t.scrollFactorY}a.multiply(o);if(i.renderRoundPixels){a.e=Math.floor(a.e+.5);a.f=Math.floor(a.f+.5)}n.save();a.setToContext(n);n.globalCompositeOperation=this.blendModes[t.blendMode];n.globalAlpha=s;n.imageSmoothingEnabled=!e.source.scaleMode;if(t.mask){t.mask.preRenderCanvas(this,t,i)}if(c>0&&f>0){var S=c/v;var A=f/v;if(i.roundPixels){m=Math.floor(m+.5);y=Math.floor(y+.5);S+=.5;A+=.5}n.drawImage(e.source.image,h,u,c,f,m,y,S,A)}if(t.mask){t.mask.postRenderCanvas(this,t,i)}n.restore()},destroy:function(){this.removeAllListeners();this.game=null;this.gameCanvas=null;this.gameContext=null}});t.exports=v},55830:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(89289);var GetBlendModes=function(){var t=[];var e=s.supportNewBlendModes;var i="source-over";t[r.NORMAL]=i;t[r.ADD]="lighter";t[r.MULTIPLY]=e?"multiply":i;t[r.SCREEN]=e?"screen":i;t[r.OVERLAY]=e?"overlay":i;t[r.DARKEN]=e?"darken":i;t[r.LIGHTEN]=e?"lighten":i;t[r.COLOR_DODGE]=e?"color-dodge":i;t[r.COLOR_BURN]=e?"color-burn":i;t[r.HARD_LIGHT]=e?"hard-light":i;t[r.SOFT_LIGHT]=e?"soft-light":i;t[r.DIFFERENCE]=e?"difference":i;t[r.EXCLUSION]=e?"exclusion":i;t[r.HUE]=e?"hue":i;t[r.SATURATION]=e?"saturation":i;t[r.COLOR]=e?"color":i;t[r.LUMINOSITY]=e?"luminosity":i;t[r.ERASE]="destination-out";t[r.SOURCE_IN]="source-in";t[r.SOURCE_OUT]="source-out";t[r.SOURCE_ATOP]="source-atop";t[r.DESTINATION_OVER]="destination-over";t[r.DESTINATION_IN]="destination-in";t[r.DESTINATION_OUT]="destination-out";t[r.DESTINATION_ATOP]="destination-atop";t[r.LIGHTER]="lighter";t[r.COPY]="copy";t[r.XOR]="xor";return t};t.exports=GetBlendModes},20926:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91296);var SetTransform=function(t,e,i,s,n){var a=s.alpha*i.alpha;if(a<=0){return false}var o=r(i,s,n).calc;e.globalCompositeOperation=t.blendModes[i.blendMode];e.globalAlpha=a;e.save();o.setToContext(e);e.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:t.antialias;return true};t.exports=SetTransform},63899:t=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="losewebgl"},6119:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="postrender"},48070:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="prerender"},15640:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="render"},8912:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resize"},87124:t=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="restorewebgl"},92503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Events:i(92503),Snapshot:i(89966)};{t.exports.Canvas=i(55830)}{t.exports.WebGL=i(4159)}},32880:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s=i(40987);var n=i(95540);var CanvasSnapshot=function(t,e){var i=n(e,"callback");var a=n(e,"type","image/png");var o=n(e,"encoder",.92);var l=Math.abs(Math.round(n(e,"x",0)));var h=Math.abs(Math.round(n(e,"y",0)));var u=Math.floor(n(e,"width",t.width));var c=Math.floor(n(e,"height",t.height));var f=n(e,"getPixel",false);if(f){var d=t.getContext("2d",{willReadFrequently:false});var v=d.getImageData(l,h,1,1);var p=v.data;i.call(null,new s(p[0],p[1],p[2],p[3]))}else if(l!==0||h!==0||u!==t.width||c!==t.height){var g=r.createWebGL(this,u,c);var m=g.getContext("2d",{willReadFrequently:true});if(u>0&&c>0){m.drawImage(t,l,h,u,c,0,0,u,c)}var y=new Image;y.onerror=function(){i.call(null);r.remove(g)};y.onload=function(){i.call(null,y);r.remove(g)};y.src=g.toDataURL(a,o)}else{var x=new Image;x.onerror=function(){i.call(null)};x.onload=function(){i.call(null,x)};x.src=t.toDataURL(a,o)}};t.exports=CanvasSnapshot},88815:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s=i(40987);var n=i(95540);var WebGLSnapshot=function(t,e){var i=t;var a=n(e,"callback");var o=n(e,"type","image/png");var l=n(e,"encoder",.92);var h=Math.abs(Math.round(n(e,"x",0)));var u=Math.abs(Math.round(n(e,"y",0)));var c=n(e,"getPixel",false);var f=n(e,"isFramebuffer",false);var d=f?n(e,"bufferWidth",1):i.drawingBufferWidth;var v=f?n(e,"bufferHeight",1):i.drawingBufferHeight;if(c){var p=new Uint8Array(4);var g=f?u:v-u;i.readPixels(h,g,1,1,i.RGBA,i.UNSIGNED_BYTE,p);a.call(null,new s(p[0],p[1],p[2],p[3]))}else{var m=Math.floor(n(e,"width",d));var y=Math.floor(n(e,"height",v));var x=m*y*4;var b=new Uint8Array(x);i.readPixels(h,v-u-y,m,y,i.RGBA,i.UNSIGNED_BYTE,b);var T=r.createWebGL(this,m,y);var w=T.getContext("2d",{willReadFrequently:true});var E=w.getImageData(0,0,m,y);var S=E.data;for(var A=0;A<y;A++){for(var C=0;C<m;C++){var O=((y-A-1)*m+C)*4;var P=f?x-(A*m+(m-C))*4:(A*m+C)*4;S[P+0]=b[O+0];S[P+1]=b[O+1];S[P+2]=b[O+2];S[P+3]=b[O+3]}}w.putImageData(E,0,0);var I=new Image;I.onerror=function(){a.call(null);r.remove(T)};I.onload=function(){a.call(null,I);r.remove(T)};I.src=T.toDataURL(o,l)}};t.exports=WebGLSnapshot},89966:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(36060);var n=i(90330);var a=i(82264);var o=i(95540);var l=i(32302);var h=i(63448);var u=i(31302);var c=i(58918);var f=i(14811);var d=i(92651);var v=i(96569);var p=i(56527);var g=i(57516);var m=i(43439);var y=i(81041);var x=i(12385);var b=i(7589);var T=i(95428);var w=i(72905);var E=new r({initialize:function PipelineManager2(t){this.game=t.game;this.renderer=t;this.classes=new n([[s.UTILITY_PIPELINE,b],[s.MULTI_PIPELINE,g],[s.BITMAPMASK_PIPELINE,u],[s.SINGLE_PIPELINE,x],[s.ROPE_PIPELINE,y],[s.LIGHT_PIPELINE,v],[s.POINTLIGHT_PIPELINE,m],[s.MOBILE_PIPELINE,p]]);this.postPipelineClasses=new n;this.pipelines=new n;this.postPipelineInstances=[];this.default=null;this.current=null;this.previous=null;this.MULTI_PIPELINE=null;this.BITMAPMASK_PIPELINE=null;this.UTILITY_PIPELINE=null;this.MOBILE_PIPELINE=null;this.FX_PIPELINE=null;this.fullFrame1;this.fullFrame2;this.halfFrame1;this.halfFrame2;this.renderTargets=[];this.maxDimension=0;this.frameInc=32;this.targetIndex=0},boot:function(t,e,i){var r=this.renderer;var n=this.renderTargets;this.frameInc=Math.floor(o(t,"frameInc",32));var h=r.width;var u=r.height;var v=this.game.config.disablePreFX;var p=this.game.config.disablePostFX;if(!p){this.postPipelineClasses.setAll([[String(f.BARREL),c.Barrel],[String(f.BLOOM),c.Bloom],[String(f.BLUR),c.Blur],[String(f.BOKEH),c.Bokeh],[String(f.CIRCLE),c.Circle],[String(f.COLOR_MATRIX),c.ColorMatrix],[String(f.DISPLACEMENT),c.Displacement],[String(f.GLOW),c.Glow],[String(f.GRADIENT),c.Gradient],[String(f.PIXELATE),c.Pixelate],[String(f.SHADOW),c.Shadow],[String(f.SHINE),c.Shine],[String(f.VIGNETTE),c.Vignette],[String(f.WIPE),c.Wipe]])}if(!v){this.classes.set(s.FX_PIPELINE,d);var g=Math.min(h,u);var m=Math.ceil(g/this.frameInc);for(var y=1;y<m;y++){var x=y*this.frameInc;n.push(new l(r,x,x));n.push(new l(r,x,x));n.push(new l(r,x,x));this.maxDimension=x}n.push(new l(r,h,u,1,0,true,true));n.push(new l(r,h,u,1,0,true,true));n.push(new l(r,h,u,1,0,true,true))}var b;var T;var w=this;var E=this.game;this.classes.each((function(t,e){b=w.add(t,new e({game:E}));if(t===s.UTILITY_PIPELINE){w.UTILITY_PIPELINE=b;w.fullFrame1=b.fullFrame1;w.fullFrame2=b.fullFrame2;w.halfFrame1=b.halfFrame1;w.halfFrame2=b.halfFrame2}}));this.MULTI_PIPELINE=this.get(s.MULTI_PIPELINE);this.BITMAPMASK_PIPELINE=this.get(s.BITMAPMASK_PIPELINE);this.MOBILE_PIPELINE=this.get(s.MOBILE_PIPELINE);if(!v){this.FX_PIPELINE=this.get(s.FX_PIPELINE)}if(t){for(T in t){var S=t[T];b=new S(E);b.name=T;if(b.isPostFX){this.postPipelineClasses.set(T,S)}else if(!this.has(T)){this.classes.set(T,S);this.add(T,b)}}}this.default=this.get(e);if(i&&!a.os.desktop){this.default=this.MOBILE_PIPELINE}},setDefaultPipeline:function(t){var e=this.get(t);if(e){this.default=e}return e},add:function(t,e){if(e.isPostFX){console.warn(t+" is a Post Pipeline. Use `addPostPipeline` instead");return}var i=this.pipelines;var r=this.renderer;if(!i.has(t)){e.name=t;e.manager=this;i.set(t,e)}else{console.warn("Pipeline exists: "+t)}if(!e.hasBooted){e.boot()}if(r.width!==0&&r.height!==0&&!e.isPreFX){e.resize(r.width,r.height)}return e},addPostPipeline:function(t,e){if(!this.postPipelineClasses.has(t)){this.postPipelineClasses.set(t,e)}},flush:function(){if(this.current){this.current.flush()}},has:function(t){var e=this.pipelines;if(typeof t==="string"){return e.has(t)}else if(e.contains(t)){return true}return false},get:function(t){var e=this.pipelines;if(typeof t==="string"){return e.get(t)}else if(e.contains(t)){return t}},getPostPipeline:function(t,e,i){var r=this.postPipelineClasses;var s;var n="";var a=typeof t;if(a==="string"||a==="number"){s=r.get(t);n=t}else if(a==="function"){if(r.contains(t)){s=t}n=t.name}else if(a==="object"){s=r.get(t.name);n=t.name}if(s){var o=new s(this.game,i);o.name=n;if(e){o.gameObject=e}this.postPipelineInstances.push(o);return o}},removePostPipeline:function(t){w(this.postPipelineInstances,t)},remove:function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}this.pipelines.delete(t);if(e){this.classes.delete(t)}if(i){this.postPipelineClasses.delete(t)}},set:function(t,e,i){if(t.isPostFX){return}if(!this.isCurrent(t,i)){this.flush();if(this.current){this.current.unbind()}this.current=t;t.bind(i)}t.updateProjectionMatrix();t.onBind(e);return t},preBatch:function(t){if(t.hasPostPipeline){this.flush();var e=t.postPipelines;for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.active){r.preBatch(t)}}}},postBatch:function(t){if(t.hasPostPipeline){this.flush();var e=t.postPipelines;for(var i=0;i<e.length;i++){var r=e[i];if(r.active){r.postBatch(t)}}}},preBatchCamera:function(t){if(t.hasPostPipeline){this.flush();var e=t.postPipelines;for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.active){r.preBatch(t)}}}},postBatchCamera:function(t){if(t.hasPostPipeline){this.flush();var e=t.postPipelines;for(var i=0;i<e.length;i++){var r=e[i];if(r.active){r.postBatch(t)}}}},isCurrent:function(t,e){var i=this.renderer;var r=this.current;if(r&&!e){e=r.currentShader}return!(r!==t||e.program!==i.currentProgram)},copyFrame:function(t,e,i,r,s){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(t,e,i,r,s);return this},copyToGame:function(t){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(t);return this},drawFrame:function(t,e,i,r){this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(t,e,i,r);return this},blendFrames:function(t,e,i,r,s){this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(t,e,i,r,s);return this},blendFramesAdditive:function(t,e,i,r,s){this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(t,e,i,r,s);return this},clearFrame:function(t,e){this.UTILITY_PIPELINE.clearFrame(t,e);return this},blitFrame:function(t,e,i,r,s,n){this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(t,e,i,r,s,n);return this},copyFrameRect:function(t,e,i,r,s,n,a,o){this.UTILITY_PIPELINE.copyFrameRect(t,e,i,r,s,n,a,o);return this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(t){return this.UTILITY_PIPELINE.bind(t)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind();this.pipelines.each((function(t,e){e.restoreContext()}));T(this.postPipelineInstances,(function(t){t.restoreContext()}))},rebind:function(t){if(t===void 0&&this.previous){t=this.previous}var e=this.renderer;var i=e.gl;i.disable(i.DEPTH_TEST);i.disable(i.CULL_FACE);if(e.hasActiveStencilMask()){i.clear(i.DEPTH_BUFFER_BIT)}else{i.disable(i.STENCIL_TEST);i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)}i.viewport(0,0,e.width,e.height);e.currentProgram=null;e.setBlendMode(0,true);var r=e.vaoExtension;if(r){r.bindVertexArrayOES(null)}var s=this.pipelines.entries;for(var n in s){s[n].glReset=true}if(t){this.current=t;t.rebind()}},clear:function(){var t=this.renderer;this.flush();if(this.current){this.current.unbind();this.previous=this.current;this.current=null}else{this.previous=null}t.currentProgram=null;t.setBlendMode(0,true);var e=t.vaoExtension;if(e){e.bindVertexArrayOES(null)}},getRenderTarget:function(t){var e=this.renderTargets;var i=3;if(t>this.maxDimension){this.targetIndex=e.length-i;return e[this.targetIndex]}else{var r=(h(t,this.frameInc,0,true)-1)*i;this.targetIndex=r;return e[r]}},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush();this.classes.clear();this.postPipelineClasses.clear();this.pipelines.clear();this.renderer=null;this.game=null;this.classes=null;this.postPipelineClasses=null;this.pipelines=null;this.default=null;this.current=null;this.previous=null}});t.exports=E},32302:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(92503);var n=new r({initialize:function RenderTarget2(t,e,i,r,n,a,o,l,h){if(r===void 0){r=1}if(n===void 0){n=0}if(a===void 0){a=true}if(o===void 0){o=false}if(l===void 0){l=true}if(h===void 0){h=true}this.renderer=t;this.framebuffer=null;this.texture=null;this.width=0;this.height=0;this.scale=r;this.minFilter=n;this.autoClear=a;this.autoResize=true;this.hasDepthBuffer=l;this.forceClamp=h;this.init(e,i);if(o){this.renderer.on(s.RESIZE,this.resize,this)}else{this.autoResize=false}},init:function(t,e){var i=this.renderer;this.texture=i.createTextureFromSource(null,t,e,this.minFilter,this.forceClamp);this.framebuffer=i.createFramebuffer(t,e,this.texture,this.hasDepthBuffer);this.width=t;this.height=e},setAutoResize:function(t){if(t&&!this.autoResize){this.renderer.on(s.RESIZE,this.resize,this);this.autoResize=true}else if(!t&&this.autoResize){this.renderer.off(s.RESIZE,this.resize,this);this.autoResize=false}return this},resize:function(t,e){if(this.autoResize&&this.willResize(t,e)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer);i.deleteTexture(this.texture);this.texture=i.createTextureFromSource(null,t,e,this.minFilter,this.forceClamp);this.framebuffer=i.createFramebuffer(t,e,this.texture,this.hasDepthBuffer);this.width=t;this.height=e}return this},willResize:function(t,e){if(typeof t!=="number"||typeof e!=="number"){return false}t=Math.round(t*this.scale);e=Math.round(e*this.scale);t=Math.max(t,1);e=Math.max(e,1);return t!==this.width||e!==this.height},bind:function(t,e,i){if(t===void 0){t=false}var r=this.renderer;if(t){r.flush()}if(e&&i){this.resize(e,i)}r.pushFramebuffer(this.framebuffer,false,false);if(t){this.adjustViewport()}if(this.autoClear){var s=this.renderer.gl;s.clearColor(0,0,0,0);s.clear(s.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var t=this.renderer.gl;t.viewport(0,0,this.width,this.height);t.disable(t.SCISSOR_TEST)},clear:function(t,e,i,r){var s=this.renderer;var n=s.gl;s.pushFramebuffer(this.framebuffer);if(t!==void 0&&e!==void 0&&i!==void 0&&r!==void 0){n.enable(n.SCISSOR_TEST);n.scissor(t,e,i,r)}else{n.disable(n.SCISSOR_TEST)}n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);s.popFramebuffer();s.resetScissor()},unbind:function(t){if(t===void 0){t=false}var e=this.renderer;if(t){e.flush()}return e.popFramebuffer()},destroy:function(){var t=this.renderer;t.off(s.RESIZE,this.resize,this);t.deleteFramebuffer(this.framebuffer);t.deleteTexture(this.texture);this.renderer=null;this.framebuffer=null;this.texture=null}});t.exports=n},70554:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @author       Matthew Groves <@doormat>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={getTintFromFloats:function(t,e,i,r){var s=(t*255|0)&255;var n=(e*255|0)&255;var a=(i*255|0)&255;var o=(r*255|0)&255;return(o<<24|s<<16|n<<8|a)>>>0},getTintAppendFloatAlpha:function(t,e){var i=(e*255|0)&255;return(i<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){var i=(t>>16|0)&255;var r=(t>>8|0)&255;var s=(t|0)&255;var n=(e*255|0)&255;return(n<<24|s<<16|r<<8|i)>>>0},getFloatsFromUintRGB:function(t){var e=(t>>16|0)&255;var i=(t>>8|0)&255;var r=(t|0)&255;return[e/255,i/255,r/255]},checkShaderMax:function(t,e){var i=Math.min(16,t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));if(!e||e===-1){return i}else{return Math.min(i,e)}},parseFragmentShaderMaxTextures:function(t,e){if(!t){return""}var i="";for(var r=0;r<e;r++){if(r>0){i+="\n\telse "}if(r<e-1){i+="if (outTexId < "+r+".5)"}i+="\n\t{";i+="\n\t\ttexture = texture2D(uMainSampler["+r+"], outTexCoord);";i+="\n\t}"}t=t.replace(/%count%/gi,e.toString());return t.replace(/%forloop%/gi,i)},setGlowQuality:function(t,e,i,r){if(i===void 0){i=e.config.glowFXQuality}if(r===void 0){r=e.config.glowFXDistance}t=t.replace(/__SIZE__/gi,(1/i/r).toFixed(7));t=t.replace(/__DIST__/gi,r.toFixed(0)+".0");return t}}},29100:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(62644);var n=i(50792);var a=i(77085);var o=i(95540);var l=i(37867);var h=i(92503);var u=i(32302);var c=i(70554);var f=i(38683);var d=new r({Extends:n,initialize:function WebGLPipeline2(t){n.call(this);var e=t.game;var i=e.renderer;var r=i.gl;this.name=o(t,"name","WebGLPipeline");this.game=e;this.renderer=i;this.manager;this.gl=r;this.view=e.canvas;this.width=0;this.height=0;this.vertexCount=0;this.vertexCapacity=0;this.vertexData;this.vertexBuffer;this.activeBuffer;this.topology=o(t,"topology",r.TRIANGLES);this.bytes;this.vertexViewF32;this.vertexViewU32;this.active=true;this.forceZero=o(t,"forceZero",false);this.hasBooted=false;this.isPostFX=false;this.isPreFX=false;this.renderTargets=[];this.currentRenderTarget;this.shaders=[];this.currentShader;this.projectionMatrix;this.projectionWidth=0;this.projectionHeight=0;this.config=t;this.glReset=false;this.batch=[];this.currentBatch=null;this.currentTexture=null;this.currentUnit=0;this.activeTextures=[];this.resizeUniform=o(t,"resizeUniform","")},boot:function(){var t;var e=this.gl;var i=this.config;var r=this.renderer;if(!this.isPostFX){this.projectionMatrix=(new l).identity()}var s=this.renderTargets;var n=o(i,"renderTarget",false);if(typeof n==="boolean"&&n){n=1}var c=r.width;var f=r.height;if(typeof n==="number"){for(t=0;t<n;t++){s.push(new u(r,c,f,1,0,true))}}else if(Array.isArray(n)){for(t=0;t<n.length;t++){var d=o(n[t],"scale",1);var v=o(n[t],"minFilter",0);var p=o(n[t],"autoClear",1);var g=o(n[t],"autoResize",false);var m=o(n[t],"width",null);var y=o(n[t],"height",m);if(m){s.push(new u(r,m,y,1,v,p,g))}else{s.push(new u(r,c,f,d,v,p,g))}}}if(s.length){this.currentRenderTarget=s[0]}this.setShadersFromConfig(i);var x=this.shaders;var b=0;for(t=0;t<x.length;t++){if(x[t].vertexSize>b){b=x[t].vertexSize}}var T=o(i,"batchSize",r.config.batchSize);this.vertexCapacity=T*6;var w=new ArrayBuffer(this.vertexCapacity*b);this.vertexData=w;this.bytes=new Uint8Array(w);this.vertexViewF32=new Float32Array(w);this.vertexViewU32=new Uint32Array(w);var E=o(i,"vertices",null);if(E){this.vertexViewF32.set(E);this.vertexBuffer=r.createVertexBuffer(w,e.STATIC_DRAW)}else{this.vertexBuffer=r.createVertexBuffer(w.byteLength,e.DYNAMIC_DRAW)}this.setVertexBuffer();for(t=x.length-1;t>=0;t--){x[t].rebind()}this.hasBooted=true;r.on(h.RESIZE,this.resize,this);r.on(h.PRE_RENDER,this.onPreRender,this);r.on(h.RENDER,this.onRender,this);r.on(h.POST_RENDER,this.onPostRender,this);this.emit(a.BOOT,this);this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(t,e,i){var r=this.renderer;if(t!==this.currentShader||r.currentProgram!==this.currentShader.program){this.flush();var s=this.setVertexBuffer(i);if(s&&!e){e=true}t.bind(e,false);this.currentShader=t}return this},getShaderByName:function(t){var e=this.shaders;for(var i=0;i<e.length;i++){if(e[i].name===t){return e[i]}}},setShadersFromConfig:function(t){var e;var i=this.shaders;var r=this.renderer;for(e=0;e<i.length;e++){i[e].destroy()}var n="vertShader";var a="fragShader";var l="attributes";var h=o(t,n,null);var u=c.parseFragmentShaderMaxTextures(o(t,a,null),r.maxTextures);var d=o(t,l,null);var v=o(t,"shaders",[]);var p=v.length;if(p===0){if(h&&u){this.shaders=[new f(this,"default",h,u,s(d))]}}else{var g=[];for(e=0;e<p;e++){var m=v[e];var y;var x;var b;var T;if(typeof m==="string"){y="default";x=h;b=c.parseFragmentShaderMaxTextures(m,r.maxTextures);T=d}else{y=o(m,"name","default");x=o(m,n,h);b=c.parseFragmentShaderMaxTextures(o(m,a,u),r.maxTextures);T=o(m,l,d)}if(y==="default"){var w=b.split("\n");var E=w[0].trim();if(E.indexOf("#define SHADER_NAME")>-1){y=E.substring(20)}}if(x&&b){g.push(new f(this,y,x,b,s(T)))}}this.shaders=g}if(this.shaders.length===0){console.warn("Pipeline: "+this.name+" - Invalid shader config")}else{this.currentShader=this.shaders[0]}return this},createBatch:function(t){this.currentBatch={start:this.vertexCount,count:0,texture:[t],unit:0,maxUnit:0};this.currentUnit=0;this.currentTexture=t;this.batch.push(this.currentBatch);return 0},addTextureToBatch:function(t){var e=this.currentBatch;if(e){e.texture.push(t);e.unit++;e.maxUnit++}},pushBatch:function(t){if(!this.currentBatch||this.forceZero&&t!==this.currentTexture){return this.createBatch(t)}if(t===this.currentTexture){return this.currentUnit}else{var e=this.currentBatch;var i=e.texture.indexOf(t);if(i===-1){if(e.texture.length===this.renderer.maxTextures){return this.createBatch(t)}else{e.unit++;e.maxUnit++;e.texture.push(t);this.currentUnit=e.unit;this.currentTexture=t;return e.unit}}else{this.currentUnit=i;this.currentTexture=t;return i}}},setGameObject:function(t,e){if(e===void 0){e=t.frame}return this.pushBatch(e.source.glTexture)},shouldFlush:function(t){if(t===void 0){t=0}return this.vertexCount+t>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(t,e){if(t!==this.width||e!==this.height){this.flush()}this.width=t;this.height=e;var i=this.renderTargets;for(var r=0;r<i.length;r++){i[r].resize(t,e)}this.setProjectionMatrix(t,e);if(this.resizeUniform){this.set2f(this.resizeUniform,t,e)}this.emit(a.RESIZE,t,e,this);this.onResize(t,e);return this},setProjectionMatrix:function(t,e){var i=this.projectionMatrix;if(!i){return this}this.projectionWidth=t;this.projectionHeight=e;i.ortho(0,t,e,0,-1e3,1e3);var r=this.shaders;var s="uProjectionMatrix";for(var n=0;n<r.length;n++){var a=r[n];if(a.hasUniform(s)){a.resetUniform(s);a.setMatrix4fv(s,false,i.val,a)}}return this},flipProjectionMatrix:function(t){if(t===void 0){t=true}var e=this.projectionMatrix;if(!e){return this}var i=this.projectionWidth;var r=this.projectionHeight;if(t){e.ortho(0,i,0,r,-1e3,1e3)}else{e.ortho(0,i,r,0,-1e3,1e3)}this.setMatrix4fv("uProjectionMatrix",false,e.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var t=this.renderer.projectionWidth;var e=this.renderer.projectionHeight;if(this.projectionWidth!==t||this.projectionHeight!==e){this.setProjectionMatrix(t,e)}}},bind:function(t){if(t===void 0){t=this.currentShader}if(this.glReset){return this.rebind(t)}var e=false;var i=this.gl;if(i.getParameter(i.ARRAY_BUFFER_BINDING)!==this.vertexBuffer){i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer);this.activeBuffer=this.vertexBuffer;e=true}t.bind(e);this.currentShader=t;this.activeTextures.length=0;this.emit(a.BIND,this,t);this.onActive(t);return this},rebind:function(t){this.activeBuffer=null;this.setVertexBuffer();var e=this.shaders;for(var i=e.length-1;i>=0;i--){var r=e[i].rebind();if(!t||r===t){this.currentShader=r}}this.activeTextures.length=0;this.emit(a.REBIND,this.currentShader);this.onActive(this.currentShader);this.onRebind();this.glReset=false;return this},restoreContext:function(){var t=this.shaders;var e=!!this.vertexBuffer;this.activeBuffer=null;this.activeTextures.length=0;this.batch.length=0;this.currentBatch=null;this.currentTexture=null;this.currentUnit=0;if(e){this.setVertexBuffer()}for(var i=0;i<t.length;i++){var r=t[i];r.syncUniforms();if(e){r.rebind()}}},setVertexBuffer:function(t){if(t===void 0){t=this.vertexBuffer}if(t!==this.activeBuffer){var e=this.gl;this.gl.bindBuffer(e.ARRAY_BUFFER,t.webGLBuffer);this.activeBuffer=t;return true}return false},preBatch:function(t){if(this.currentRenderTarget){this.currentRenderTarget.bind()}this.onPreBatch(t);return this},postBatch:function(t){this.onDraw(this.currentRenderTarget);this.onPostBatch(t);return this},onDraw:function(){},unbind:function(){if(this.currentRenderTarget){this.currentRenderTarget.unbind()}},flush:function(t){if(t===void 0){t=false}if(this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,t);this.onBeforeFlush(t);var e=this.gl;var i=this.vertexCount;var r=this.currentShader.vertexSize;var s=this.topology;if(this.active){this.setVertexBuffer();if(i===this.vertexCapacity){e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.DYNAMIC_DRAW)}else{e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,i*r))}var n;var o;var l;var h=this.batch;var u=this.activeTextures;if(this.forceZero){if(!u[0]){e.activeTexture(e.TEXTURE0)}for(n=0;n<h.length;n++){o=h[n];l=o.texture[0];if(u[0]!==l){e.bindTexture(e.TEXTURE_2D,l.webGLTexture);u[0]=l}e.drawArrays(s,o.start,o.count)}}else{for(n=0;n<h.length;n++){o=h[n];for(var c=0;c<=o.maxUnit;c++){l=o.texture[c];if(u[c]!==l){e.activeTexture(e.TEXTURE0+c);e.bindTexture(e.TEXTURE_2D,l.webGLTexture);u[c]=l}}e.drawArrays(s,o.start,o.count)}}}this.vertexCount=0;this.batch.length=0;this.currentBatch=null;this.currentTexture=null;this.currentUnit=0;this.emit(a.AFTER_FLUSH,this,t);this.onAfterFlush(t)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(t,e,i,r,s,n,a){var o=this.vertexViewF32;var l=this.vertexViewU32;var h=this.vertexCount*this.currentShader.vertexComponentCount-1;o[++h]=t;o[++h]=e;o[++h]=i;o[++h]=r;o[++h]=s;o[++h]=n;l[++h]=a;this.vertexCount++;this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(t,e,i,r,s,n,a,o,l,h,u,c,f,d,v,p,g,m,y,x){if(x===void 0){x=this.currentUnit}var b=false;if(this.shouldFlush(6)){this.flush();b=true}if(!this.currentBatch){x=this.setTexture2D(y)}var T=this.vertexViewF32;var w=this.vertexViewU32;var E=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++E]=e;T[++E]=i;T[++E]=h;T[++E]=u;T[++E]=x;T[++E]=m;w[++E]=d;T[++E]=r;T[++E]=s;T[++E]=h;T[++E]=f;T[++E]=x;T[++E]=m;w[++E]=p;T[++E]=n;T[++E]=a;T[++E]=c;T[++E]=f;T[++E]=x;T[++E]=m;w[++E]=g;T[++E]=e;T[++E]=i;T[++E]=h;T[++E]=u;T[++E]=x;T[++E]=m;w[++E]=d;T[++E]=n;T[++E]=a;T[++E]=c;T[++E]=f;T[++E]=x;T[++E]=m;w[++E]=g;T[++E]=o;T[++E]=l;T[++E]=c;T[++E]=u;T[++E]=x;T[++E]=m;w[++E]=v;this.vertexCount+=6;this.currentBatch.count=this.vertexCount-this.currentBatch.start;this.onBatch(t);return b},batchTri:function(t,e,i,r,s,n,a,o,l,h,u,c,f,d,v,p,g){if(g===void 0){g=this.currentUnit}var m=false;if(this.shouldFlush(3)){this.flush();m=true}if(!this.currentBatch){g=this.setTexture2D(p)}var y=this.vertexViewF32;var x=this.vertexViewU32;var b=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++b]=e;y[++b]=i;y[++b]=o;y[++b]=l;y[++b]=g;y[++b]=v;x[++b]=c;y[++b]=r;y[++b]=s;y[++b]=o;y[++b]=u;y[++b]=g;y[++b]=v;x[++b]=f;y[++b]=n;y[++b]=a;y[++b]=h;y[++b]=u;y[++b]=g;y[++b]=v;x[++b]=d;this.vertexCount+=3;this.currentBatch.count=this.vertexCount-this.currentBatch.start;this.onBatch(t);return m},drawFillRect:function(t,e,i,r,s,n,a,o){if(a===void 0){a=this.renderer.whiteTexture}if(o===void 0){o=true}t=Math.floor(t);e=Math.floor(e);var l=Math.floor(t+i);var h=Math.floor(e+r);var u=this.setTexture2D(a);var f=c.getTintAppendFloatAlphaAndSwap(s,n);var d=0;var v=0;var p=1;var g=1;if(o){v=1;g=0}this.batchQuad(null,t,e,t,h,l,h,l,e,d,v,p,g,f,f,f,f,0,a,u)},setTexture2D:function(t){if(t===void 0){t=this.renderer.whiteTexture}return this.pushBatch(t)},bindTexture:function(t,e){if(e===void 0){e=0}var i=this.gl;i.activeTexture(i.TEXTURE0+e);i.bindTexture(i.TEXTURE_2D,t.webGLTexture);return this},bindRenderTarget:function(t,e){return this.bindTexture(t.texture,e)},setTime:function(t,e){this.set1f(t,this.game.loop.getDuration(),e);return this},setBoolean:function(t,e,i){if(i===void 0){i=this.currentShader}i.setBoolean(t,e);return this},set1f:function(t,e,i){if(i===void 0){i=this.currentShader}i.set1f(t,e);return this},set2f:function(t,e,i,r){if(r===void 0){r=this.currentShader}r.set2f(t,e,i);return this},set3f:function(t,e,i,r,s){if(s===void 0){s=this.currentShader}s.set3f(t,e,i,r);return this},set4f:function(t,e,i,r,s,n){if(n===void 0){n=this.currentShader}n.set4f(t,e,i,r,s);return this},set1fv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set1fv(t,e);return this},set2fv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set2fv(t,e);return this},set3fv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set3fv(t,e);return this},set4fv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set4fv(t,e);return this},set1iv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set1iv(t,e);return this},set2iv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set2iv(t,e);return this},set3iv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set3iv(t,e);return this},set4iv:function(t,e,i){if(i===void 0){i=this.currentShader}i.set4iv(t,e);return this},set1i:function(t,e,i){if(i===void 0){i=this.currentShader}i.set1i(t,e);return this},set2i:function(t,e,i,r){if(r===void 0){r=this.currentShader}r.set2i(t,e,i);return this},set3i:function(t,e,i,r,s){if(s===void 0){s=this.currentShader}s.set3i(t,e,i,r);return this},set4i:function(t,e,i,r,s,n){if(n===void 0){n=this.currentShader}n.set4i(t,e,i,r,s);return this},setMatrix2fv:function(t,e,i,r){if(r===void 0){r=this.currentShader}r.setMatrix2fv(t,e,i);return this},setMatrix3fv:function(t,e,i,r){if(r===void 0){r=this.currentShader}r.setMatrix3fv(t,e,i);return this},setMatrix4fv:function(t,e,i,r){if(r===void 0){r=this.currentShader}r.setMatrix4fv(t,e,i);return this},destroy:function(){this.emit(a.DESTROY,this);var t;var e=this.shaders;for(t=0;t<e.length;t++){e[t].destroy()}var i=this.renderTargets;for(t=0;t<i.length;t++){i[t].destroy()}var r=this.renderer;r.deleteBuffer(this.vertexBuffer);r.off(h.RESIZE,this.resize,this);r.off(h.PRE_RENDER,this.onPreRender,this);r.off(h.RENDER,this.onRender,this);r.off(h.POST_RENDER,this.onPostRender,this);this.removeAllListeners();this.game=null;this.renderer=null;this.manager=null;this.gl=null;this.view=null;this.shaders=null;this.renderTargets=null;this.bytes=null;this.vertexViewF32=null;this.vertexViewU32=null;this.vertexData=null;this.vertexBuffer=null;this.currentShader=null;this.currentRenderTarget=null;this.activeTextures=null;return this}});t.exports=d},74797:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95428);var s=i(72905);var n=i(19715);var a=i(83419);var o=i(8054);var l=i(50792);var h=i(92503);var u=i(50030);var c=i(37867);var f=i(29747);var d=i(7530);var v=i(32302);var p=i(97480);var g=i(69442);var m=i(70554);var y=i(88815);var x=i(26128);var b=i(1482);var T=i(82751);var w=i(84387);var E=i(93567);var S=i(57183);var A=new a({Extends:l,initialize:function WebGLRenderer2(t){l.call(this);var e=t.config;var i={alpha:e.transparent,desynchronized:e.desynchronized,depth:true,antialias:e.antialiasGL,premultipliedAlpha:e.premultipliedAlpha,stencil:true,failIfMajorPerformanceCaveat:e.failIfMajorPerformanceCaveat,powerPreference:e.powerPreference,preserveDrawingBuffer:e.preserveDrawingBuffer,willReadFrequently:false};this.config={clearBeforeRender:e.clearBeforeRender,antialias:e.antialias,backgroundColor:e.backgroundColor,contextCreation:i,roundPixels:e.roundPixels,maxTextures:e.maxTextures,maxTextureSize:e.maxTextureSize,batchSize:e.batchSize,maxLights:e.maxLights,mipmapFilter:e.mipmapFilter};this.game=t;this.type=o.WEBGL;this.pipelines=null;this.width=0;this.height=0;this.canvas=t.canvas;this.blendModes=[];this.contextLost=false;this.snapshotState={x:0,y:0,width:1,height:1,getPixel:false,callback:null,type:"image/png",encoder:.92,isFramebuffer:false,bufferWidth:0,bufferHeight:0};this.maxTextures=0;this.textureIndexes;this.glBufferWrappers=[];this.glProgramWrappers=[];this.glTextureWrappers=[];this.glFramebufferWrappers=[];this.glAttribLocationWrappers=[];this.glUniformLocationWrappers=[];this.currentFramebuffer=null;this.fboStack=[];this.currentProgram=null;this.currentBlendMode=Infinity;this.currentScissorEnabled=false;this.currentScissor=null;this.scissorStack=[];this.contextLostHandler=f;this.contextRestoredHandler=f;this.previousContextLostHandler=f;this.previousContextRestoredHandler=f;this.gl=null;this.supportedExtensions=null;this.instancedArraysExtension=null;this.vaoExtension=null;this.extensions={};this.glFormats;this.compression;this.drawingBufferHeight=0;this.blankTexture=null;this.normalTexture=null;this.whiteTexture=null;this.maskCount=0;this.maskStack=[];this.currentMask={mask:null,camera:null};this.currentCameraMask={mask:null,camera:null};this.glFuncMap=null;this.currentType="";this.newType=false;this.nextTypeMatch=false;this.finalType=false;this.mipmapFilter=null;this.defaultScissor=[0,0,0,0];this.isBooted=false;this.renderTarget=null;this.projectionMatrix;this.projectionWidth=0;this.projectionHeight=0;this.maskSource=null;this.maskTarget=null;this.spector=null;this._debugCapture=false;this.init(this.config)},init:function(t){var e;var i=this.game;var r=this.canvas;var s=t.backgroundColor;if(i.config.context){e=i.config.context}else{e=r.getContext("webgl",t.contextCreation)||r.getContext("experimental-webgl",t.contextCreation)}if(!e||e.isContextLost()){this.contextLost=true;throw new Error("WebGL unsupported")}this.gl=e;this.setExtensions();this.setContextHandlers();i.context=e;for(var n=0;n<=27;n++){this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD})}this.blendModes[1].func=[e.ONE,e.DST_ALPHA];this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA];this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR];this.blendModes[17]={func:[e.ZERO,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_REVERSE_SUBTRACT};this.glFormats=[e.BYTE,e.SHORT,e.UNSIGNED_BYTE,e.UNSIGNED_SHORT,e.FLOAT];this.glFuncMap={mat2:{func:e.uniformMatrix2fv,length:1,matrix:true},mat3:{func:e.uniformMatrix3fv,length:1,matrix:true},mat4:{func:e.uniformMatrix4fv,length:1,matrix:true},"1f":{func:e.uniform1f,length:1},"1fv":{func:e.uniform1fv,length:1},"1i":{func:e.uniform1i,length:1},"1iv":{func:e.uniform1iv,length:1},"2f":{func:e.uniform2f,length:2},"2fv":{func:e.uniform2fv,length:1},"2i":{func:e.uniform2i,length:2},"2iv":{func:e.uniform2iv,length:1},"3f":{func:e.uniform3f,length:3},"3fv":{func:e.uniform3fv,length:1},"3i":{func:e.uniform3i,length:3},"3iv":{func:e.uniform3iv,length:1},"4f":{func:e.uniform4f,length:4},"4fv":{func:e.uniform4fv,length:1},"4i":{func:e.uniform4i,length:4},"4iv":{func:e.uniform4iv,length:1}};if(!t.maxTextures||t.maxTextures===-1){t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}if(!t.maxTextureSize){t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}this.compression=this.getCompressedTextures();e.disable(e.DEPTH_TEST);e.disable(e.CULL_FACE);e.enable(e.BLEND);e.clearColor(s.redGL,s.greenGL,s.blueGL,s.alphaGL);e.clear(e.COLOR_BUFFER_BIT);var a=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];if(a.indexOf(t.mipmapFilter)!==-1){this.mipmapFilter=e[t.mipmapFilter]}this.maxTextures=m.checkShaderMax(e,t.maxTextures);this.textureIndexes=[];this.createTemporaryTextures();this.pipelines=new d(this);this.setBlendMode(o.BlendModes.NORMAL);this.projectionMatrix=(new c).identity();i.textures.once(g.READY,this.boot,this);return this},boot:function(){var t=this.game;var e=this.pipelines;var i=t.scale.baseSize;var r=i.width;var s=i.height;this.width=r;this.height=s;this.isBooted=true;this.renderTarget=new v(this,r,s,1,0,true,true);this.maskTarget=new v(this,r,s,1,0,true,true);this.maskSource=new v(this,r,s,1,0,true,true);var n=t.config;e.boot(n.pipeline,n.defaultPipeline,n.autoMobilePipeline);this.blankTexture=t.textures.getFrame("__DEFAULT").glTexture;this.normalTexture=t.textures.getFrame("__NORMAL").glTexture;this.whiteTexture=t.textures.getFrame("__WHITE").glTexture;var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null);a.enable(a.SCISSOR_TEST);t.scale.on(p.RESIZE,this.onResize,this);this.resize(r,s)},setExtensions:function(){var t=this.gl;var e=t.getSupportedExtensions();this.supportedExtensions=e;var i="ANGLE_instanced_arrays";this.instancedArraysExtension=e.indexOf(i)>-1?t.getExtension(i):null;var r="OES_vertex_array_object";this.vaoExtension=e.indexOf(r)>-1?t.getExtension(r):null},setContextHandlers:function(t,e){if(this.previousContextLostHandler){this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,false)}if(this.previousContextRestoredHandler){this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,false)}if(typeof t==="function"){this.contextLostHandler=t.bind(this)}else{this.contextLostHandler=this.dispatchContextLost.bind(this)}if(typeof e==="function"){this.contextRestoredHandler=e.bind(this)}else{this.contextRestoredHandler=this.dispatchContextRestored.bind(this)}this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,false);this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,false);this.previousContextLostHandler=this.contextLostHandler;this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(t){this.contextLost=true;if(console){console.warn("WebGL Context lost. Renderer disabled")}this.emit(h.LOSE_WEBGL,this);t.preventDefault()},dispatchContextRestored:function(t){var e=this.gl;if(e.isContextLost()){if(console){console.log("WebGL Context restored, but context is still lost")}return}this.currentProgram=null;this.currentFramebuffer=null;this.setBlendMode(o.BlendModes.NORMAL);e.disable(e.BLEND);e.disable(e.DEPTH_TEST);e.enable(e.CULL_FACE);this.compression=this.getCompressedTextures();var wrapperCreateResource=function(t){t.createResource()};r(this.glTextureWrappers,wrapperCreateResource);r(this.glBufferWrappers,wrapperCreateResource);r(this.glFramebufferWrappers,wrapperCreateResource);r(this.glProgramWrappers,wrapperCreateResource);r(this.glAttribLocationWrappers,wrapperCreateResource);r(this.glUniformLocationWrappers,wrapperCreateResource);this.createTemporaryTextures();this.pipelines.restoreContext();this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height);this.setExtensions();this.contextLost=false;if(console){console.warn("WebGL Context restored. Renderer running again.")}this.emit(h.RESTORE_WEBGL,this);t.preventDefault()},createTemporaryTextures:function(){var t=this.gl;for(var e=0;e<this.maxTextures;e++){var i=t.createTexture();t.activeTexture(t.TEXTURE0+e);t.bindTexture(t.TEXTURE_2D,i);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,255,255]));this.textureIndexes.push(e)}},captureFrame:function(t,e){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(t,e,i){},stopCapture:function(){},onCapture:function(t){},onResize:function(t,e){if(e.width!==this.width||e.height!==this.height){this.resize(e.width,e.height)}},beginCapture:function(t,e){if(t===void 0){t=this.width}if(e===void 0){e=this.height}this.renderTarget.bind(true,t,e);this.setProjectionMatrix(t,e)},endCapture:function(){this.renderTarget.unbind(true);this.resetProjectionMatrix();return this.renderTarget},resize:function(t,e){var i=this.gl;this.width=t;this.height=e;this.setProjectionMatrix(t,e);i.viewport(0,0,t,e);this.drawingBufferHeight=i.drawingBufferHeight;i.scissor(0,i.drawingBufferHeight-e,t,e);this.defaultScissor[2]=t;this.defaultScissor[3]=e;this.emit(h.RESIZE,t,e);return this},getCompressedTextures:function(){var t="WEBGL_compressed_texture_";var e="WEBKIT_"+t;var i="EXT_texture_compression_";var hasExt=function(r,s){var n=r.getExtension(t+s)||r.getExtension(e+s)||r.getExtension(i+s);if(n){var a={};for(var o in n){a[n[o]]=o}return a}};var r=this.gl;return{ETC:hasExt(r,"etc"),ETC1:hasExt(r,"etc1"),ATC:hasExt(r,"atc"),ASTC:hasExt(r,"astc"),BPTC:hasExt(r,"bptc"),RGTC:hasExt(r,"rgtc"),PVRTC:hasExt(r,"pvrtc"),S3TC:hasExt(r,"s3tc"),S3TCSRGB:hasExt(r,"s3tc_srgb"),IMG:true}},getCompressedTextureName:function(t,e){var i=this.compression[t.toUpperCase()];if(e in i){return i[e]}},supportsCompressedTexture:function(t,e){var i=this.compression[t.toUpperCase()];if(i){if(e){return e in i}else{return true}}return false},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(t,e){if(t!==this.projectionWidth||e!==this.projectionHeight){this.projectionWidth=t;this.projectionHeight=e;this.projectionMatrix.ortho(0,t,e,0,-1e3,1e3)}return this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(t){return this.supportedExtensions?this.supportedExtensions.indexOf(t):false},getExtension:function(t){if(!this.hasExtension(t)){return null}if(!(t in this.extensions)){this.extensions[t]=this.gl.getExtension(t)}return this.extensions[t]},flush:function(){this.pipelines.flush()},pushScissor:function(t,e,i,r,s){if(s===void 0){s=this.drawingBufferHeight}var n=this.scissorStack;var a=[t,e,i,r];n.push(a);this.setScissor(t,e,i,r,s);this.currentScissor=a;return a},setScissor:function(t,e,i,r,s){if(s===void 0){s=this.drawingBufferHeight}var n=this.gl;var a=this.currentScissor;var o=i>0&&r>0;if(a&&o){var l=a[0];var h=a[1];var u=a[2];var c=a[3];o=l!==t||h!==e||u!==i||c!==r}if(o){this.flush();n.scissor(t,s-e-r,i,r)}},resetScissor:function(){var t=this.gl;t.enable(t.SCISSOR_TEST);var e=this.currentScissor;if(e){var i=e[0];var r=e[1];var s=e[2];var n=e[3];if(s>0&&n>0){t.scissor(i,this.drawingBufferHeight-r-n,s,n)}}},popScissor:function(){var t=this.scissorStack;t.pop();var e=t[t.length-1];if(e){this.setScissor(e[0],e[1],e[2],e[3])}this.currentScissor=e},hasActiveStencilMask:function(){var t=this.currentMask.mask;var e=this.currentCameraMask.mask;return t&&t.isStencil||e&&e.isStencil},resetViewport:function(){var t=this.gl;t.viewport(0,0,this.width,this.height);this.drawingBufferHeight=t.drawingBufferHeight},setBlendMode:function(t,e){if(e===void 0){e=false}var i=this.gl;var r=this.blendModes[t];if(e||t!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t){this.flush();i.enable(i.BLEND);i.blendEquation(r.equation);if(r.func.length>2){i.blendFuncSeparate(r.func[0],r.func[1],r.func[2],r.func[3])}else{i.blendFunc(r.func[0],r.func[1])}this.currentBlendMode=t;return true}return false},addBlendMode:function(t,e){var i=this.blendModes.push({func:t,equation:e});return i-1},updateBlendMode:function(t,e,i){if(this.blendModes[t]){this.blendModes[t].func=e;if(i){this.blendModes[t].equation=i}}return this},removeBlendMode:function(t){if(t>17&&this.blendModes[t]){this.blendModes.splice(t,1)}return this},pushFramebuffer:function(t,e,i,r,s){if(t===this.currentFramebuffer){return this}this.fboStack.push(t);return this.setFramebuffer(t,e,i,r,s)},setFramebuffer:function(t,e,i,r,s){if(e===void 0){e=false}if(i===void 0){i=true}if(r===void 0){r=null}if(s===void 0){s=false}if(t===this.currentFramebuffer){return this}var n=this.gl;var a=this.width;var o=this.height;if(t&&t.renderTexture&&i){a=t.renderTexture.width;o=t.renderTexture.height}else{this.flush()}if(t){n.bindFramebuffer(n.FRAMEBUFFER,t.webGLFramebuffer)}else{n.bindFramebuffer(n.FRAMEBUFFER,null)}if(i){n.viewport(0,0,a,o)}if(r){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r.webGLTexture,0)}if(s){n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT)}if(e){if(t){this.drawingBufferHeight=o;this.pushScissor(0,0,a,o)}else{this.drawingBufferHeight=this.height;this.popScissor()}}this.currentFramebuffer=t;return this},popFramebuffer:function(t,e){if(t===void 0){t=false}if(e===void 0){e=true}var i=this.fboStack;i.pop();var r=i[i.length-1];if(!r){r=null}this.setFramebuffer(r,t,e);return r},restoreFramebuffer:function(t,e){if(t===void 0){t=false}if(e===void 0){e=true}var i=this.fboStack;var r=i[i.length-1];if(!r){r=null}this.currentFramebuffer=null;this.setFramebuffer(r,t,e)},setProgram:function(t){if(t!==this.currentProgram){this.flush();this.gl.useProgram(t.webGLProgram);this.currentProgram=t;return true}return false},resetProgram:function(){this.gl.useProgram(this.currentProgram.webGLProgramWrapper);return this},createTextureFromSource:function(t,e,i,r,s){if(s===void 0){s=false}var n=this.gl;var a=n.NEAREST;var l=n.NEAREST;var h=n.CLAMP_TO_EDGE;var c=null;e=t?t.width:e;i=t?t.height:i;var f=u(e,i);if(f&&!s){h=n.REPEAT}if(r===o.ScaleModes.LINEAR&&this.config.antialias){var d=t&&t.compressed;var v=!d&&f||d&&t.mipmaps.length>1;a=this.mipmapFilter&&v?this.mipmapFilter:n.LINEAR;l=n.LINEAR}if(!t&&typeof e==="number"&&typeof i==="number"){c=this.createTexture2D(0,a,l,h,h,n.RGBA,null,e,i)}else{c=this.createTexture2D(0,a,l,h,h,n.RGBA,t)}return c},createTexture2D:function(t,e,i,r,s,n,a,o,l,h,u,c){if(typeof o!=="number"){o=a?a.width:1}if(typeof l!=="number"){l=a?a.height:1}var f=new T(this.gl,t,e,i,r,s,n,a,o,l,h,u,c);this.glTextureWrappers.push(f);return f},createFramebuffer:function(t,e,i,r){this.currentFramebuffer=null;var s=new w(this.gl,t,e,i,r);this.glFramebufferWrappers.push(s);return s},beginBitmapMask:function(t,e){var i=this.gl;if(i){this.flush();this.maskTarget.bind(true);if(this.currentCameraMask.mask!==t){this.currentMask.mask=t;this.currentMask.camera=e}}},drawBitmapMask:function(t,e,i){this.flush();this.maskSource.bind();this.setBlendMode(0,true);t.renderWebGL(this,t,e);this.maskSource.unbind(true);this.maskTarget.unbind();var r=this.gl;var s=this.getCurrentStencilMask();if(s){r.enable(r.STENCIL_TEST);s.mask.applyStencil(this,s.camera,true)}else{this.currentMask.mask=null}this.pipelines.set(i);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,this.maskTarget.texture.webGLTexture);r.activeTexture(r.TEXTURE1);r.bindTexture(r.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(t,e){var i=new b(this.gl,t,e);this.glProgramWrappers.push(i);return i},createVertexBuffer:function(t,e){var i=this.gl;var r=new x(i,t,i.ARRAY_BUFFER,e);this.glBufferWrappers.push(r);return r},createAttribLocation:function(t,e){var i=new E(this.gl,t,e);this.glAttribLocationWrappers.push(i);return i},createUniformLocation:function(t,e){var i=new S(this.gl,t,e);this.glUniformLocationWrappers.push(i);return i},createIndexBuffer:function(t,e){var i=this.gl;var r=new x(i,t,i.ELEMENT_ARRAY_BUFFER,e);this.glBufferWrappers.push(r);return r},deleteTexture:function(t){if(!t){return}s(this.glTextureWrappers,t);t.destroy();return this},deleteFramebuffer:function(t){if(!t){return this}s(this.fboStack,t);s(this.glFramebufferWrappers,t);t.destroy();return this},deleteProgram:function(t){if(t){s(this.glProgramWrappers,t);t.destroy()}return this},deleteAttribLocation:function(t){if(t){s(this.glAttribLocationWrappers,t);t.destroy()}return this},deleteUniformLocation:function(t){if(t){s(this.glUniformLocationWrappers,t);t.destroy()}return this},deleteBuffer:function(t){if(!t){return this}s(this.glBufferWrappers,t);t.destroy();return this},preRenderCamera:function(t){var e=t.x;var i=t.y;var r=t.width;var s=t.height;var a=t.backgroundColor;t.emit(n.PRE_RENDER,t);this.pipelines.preBatchCamera(t);this.pushScissor(e,i,r,s);if(t.mask){this.currentCameraMask.mask=t.mask;this.currentCameraMask.camera=t._maskCamera;t.mask.preRenderWebGL(this,t,t._maskCamera)}if(a.alphaGL>0){var o=this.pipelines.setMulti();o.drawFillRect(e,i,r,s,m.getTintFromFloats(a.blueGL,a.greenGL,a.redGL,1),a.alphaGL)}},getCurrentStencilMask:function(){var t=null;var e=this.maskStack;var i=this.currentCameraMask;if(e.length>0){t=e[e.length-1]}else if(i.mask&&i.mask.isStencil){t=i}return t},postRenderCamera:function(t){var e=t.flashEffect;var i=t.fadeEffect;if(e.isRunning||(i.isRunning||i.isComplete)){var r=this.pipelines.setMulti();e.postRenderWebGL(r,m.getTintFromFloats);i.postRenderWebGL(r,m.getTintFromFloats)}t.dirty=false;this.popScissor();if(t.mask){this.currentCameraMask.mask=null;t.mask.postRenderWebGL(this,t._maskCamera)}this.pipelines.postBatchCamera(t);t.emit(n.POST_RENDER,t)},preRender:function(){if(this.contextLost){return}var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null);this.emit(h.PRE_RENDER_CLEAR);if(this.config.clearBeforeRender){var e=this.config.backgroundColor;t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL);t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}t.enable(t.SCISSOR_TEST);this.currentScissor=this.defaultScissor;this.scissorStack.length=0;this.scissorStack.push(this.currentScissor);if(this.game.scene.customViewports){t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height)}this.currentMask.mask=null;this.currentCameraMask.mask=null;this.maskStack.length=0;this.emit(h.PRE_RENDER)},render:function(t,e,i){if(this.contextLost){return}var r=e.length;this.emit(h.RENDER,t,i);this.preRenderCamera(i);if(r===0){this.setBlendMode(o.BlendModes.NORMAL);this.postRenderCamera(i);return}this.currentType="";var s=this.currentMask;for(var n=0;n<r;n++){this.finalType=n===r-1;var a=e[n];var l=a.mask;s=this.currentMask;if(s.mask&&s.mask!==l){s.mask.postRenderWebGL(this,s.camera)}if(l&&s.mask!==l){l.preRenderWebGL(this,a,i)}if(a.blendMode!==this.currentBlendMode){this.setBlendMode(a.blendMode)}var u=a.type;if(u!==this.currentType){this.newType=true;this.currentType=u}if(!this.finalType){this.nextTypeMatch=e[n+1].type===this.currentType}else{this.nextTypeMatch=false}a.renderWebGL(this,a,i);this.newType=false}s=this.currentMask;if(s.mask){s.mask.postRenderWebGL(this,s.camera)}this.setBlendMode(o.BlendModes.NORMAL);this.postRenderCamera(i)},postRender:function(){if(this.contextLost){return}this.flush();this.emit(h.POST_RENDER);var t=this.snapshotState;if(t.callback){y(this.gl,t);t.callback=null}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var t=this.gl;var e=this.getCurrentStencilMask();if(e){var i=e.mask;t.enable(t.STENCIL_TEST);if(i.invertAlpha){t.stencilFunc(t.NOTEQUAL,i.level,255)}else{t.stencilFunc(t.EQUAL,i.level,255)}}},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,t,e,i)},snapshotArea:function(t,e,i,r,s,n,a){var o=this.snapshotState;o.callback=s;o.type=n;o.encoder=a;o.getPixel=false;o.x=t;o.y=e;o.width=i;o.height=r;return this},snapshotPixel:function(t,e,i){this.snapshotArea(t,e,1,1,i);this.snapshotState.getPixel=true;return this},snapshotFramebuffer:function(t,e,i,r,s,n,a,o,l,h,u){if(s===void 0){s=false}if(n===void 0){n=0}if(a===void 0){a=0}if(o===void 0){o=e}if(l===void 0){l=i}if(h==="pixel"){s=true;h="image/png"}var c=this.currentFramebuffer;this.snapshotArea(n,a,o,l,r,h,u);var f=this.snapshotState;f.getPixel=s;f.isFramebuffer=true;f.bufferWidth=e;f.bufferHeight=i;f.width=Math.min(f.width,e);f.height=Math.min(f.height,i);this.setFramebuffer(t);y(this.gl,f);this.setFramebuffer(c);f.callback=null;f.isFramebuffer=false;return this},canvasToTexture:function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r=false}var s=this.gl;var n=s.NEAREST;var a=s.NEAREST;var o=t.width;var l=t.height;var h=s.CLAMP_TO_EDGE;var c=u(o,l);if(!i&&c){h=s.REPEAT}if(this.config.antialias){n=c&&this.mipmapFilter?this.mipmapFilter:s.LINEAR;a=s.LINEAR}if(!e){return this.createTexture2D(0,n,a,h,h,s.RGBA,t,o,l,true,false,r)}else{e.update(t,o,l,r,h,h,n,a,e.format);return e}},createCanvasTexture:function(t,e,i){if(e===void 0){e=false}if(i===void 0){i=false}return this.canvasToTexture(t,null,e,i)},updateCanvasTexture:function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r=false}return this.canvasToTexture(t,e,r,i)},videoToTexture:function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r=false}var s=this.gl;var n=s.NEAREST;var a=s.NEAREST;var o=t.videoWidth;var l=t.videoHeight;var h=s.CLAMP_TO_EDGE;var c=u(o,l);if(!i&&c){h=s.REPEAT}if(this.config.antialias){n=c&&this.mipmapFilter?this.mipmapFilter:s.LINEAR;a=s.LINEAR}if(!e){return this.createTexture2D(0,n,a,h,h,s.RGBA,t,o,l,true,true,r)}else{e.update(t,o,l,r,h,h,n,a,e.format);return e}},createVideoTexture:function(t,e,i){if(e===void 0){e=false}if(i===void 0){i=false}return this.videoToTexture(t,null,e,i)},updateVideoTexture:function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r=false}return this.videoToTexture(t,e,r,i)},createUint8ArrayTexture:function(t,e,i){var r=this.gl;var s=r.NEAREST;var n=r.NEAREST;var a=r.CLAMP_TO_EDGE;var o=u(e,i);if(o){a=r.REPEAT}return this.createTexture2D(0,s,n,a,a,r.RGBA,t,e,i)},setTextureFilter:function(t,e){var i=this.gl;var r=e===0?i.LINEAR:i.NEAREST;i.activeTexture(i.TEXTURE0);var s=i.getParameter(i.TEXTURE_BINDING_2D);i.bindTexture(i.TEXTURE_2D,t.webGLTexture);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r);t.minFilter=r;t.magFilter=r;if(s){i.bindTexture(i.TEXTURE_2D,s)}return this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,false);this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,false);var wrapperDestroy=function(t){t.destroy()};r(this.glAttribLocationWrappers,wrapperDestroy);r(this.glBufferWrappers,wrapperDestroy);r(this.glFramebufferWrappers,wrapperDestroy);r(this.glProgramWrappers,wrapperDestroy);r(this.glTextureWrappers,wrapperDestroy);r(this.glUniformLocationWrappers,wrapperDestroy);this.maskTarget.destroy();this.maskSource.destroy();this.pipelines.destroy();this.removeAllListeners();this.fboStack=[];this.maskStack=[];this.extensions={};this.textureIndexes=[];this.gl=null;this.game=null;this.canvas=null;this.contextLost=true;this.currentMask=null;this.currentCameraMask=null}});t.exports=A},38683:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95428);var n=i(95540);var a=i(14500);var o=new r({initialize:function WebGLShader2(t,e,i,r,s){this.pipeline=t;this.name=e;this.renderer=t.renderer;this.gl=this.renderer.gl;this.fragSrc=r;this.vertSrc=i;this.program=this.renderer.createProgram(i,r);this.attributes;this.vertexComponentCount=0;this.vertexSize=0;this.uniforms={};this.createAttributes(s);this.createUniforms()},createAttributes:function(t){var e=0;var i=0;var r=[];this.vertexComponentCount=0;for(var s=0;s<t.length;s++){var o=t[s];var l=o.name;var h=n(o,"size",1);var u=n(o,"type",a.FLOAT);var c=u.enum;var f=u.size;var d=o.normalized?true:false;r.push({name:l,size:h,type:c,normalized:d,offset:i,enabled:false,location:-1});if(f===4){e+=h}else{e++}i+=h*f}this.vertexSize=i;this.vertexComponentCount=e;this.attributes=r},bind:function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}if(e){this.pipeline.flush()}this.renderer.setProgram(this.program);if(t){this.setAttribPointers()}return this},rebind:function(){this.renderer.setProgram(this.program);this.setAttribPointers(true);return this},setAttribPointers:function(t){if(t===void 0){t=false}var e=this.gl;var i=this.renderer;var r=this.vertexSize;var s=this.attributes;var n=this.program;for(var a=0;a<s.length;a++){var o=s[a];var l=o.size;var h=o.type;var u=o.offset;var c=o.enabled;var f=o.location;var d=o.normalized?true:false;if(t){if(f!==-1){i.deleteAttribLocation(f)}var v=this.renderer.createAttribLocation(n,o.name);if(v.webGLAttribLocation>=0){e.enableVertexAttribArray(v.webGLAttribLocation);e.vertexAttribPointer(v.webGLAttribLocation,l,h,d,r,u);o.enabled=true;o.location=v}else if(v.webGLAttribLocation!==-1){e.disableVertexAttribArray(v.webGLAttribLocation)}}else if(c){e.vertexAttribPointer(f.webGLAttribLocation,l,h,d,r,u)}else if(!c&&f!==-1&&f.webGLAttribLocation>-1){e.disableVertexAttribArray(f.webGLAttribLocation);o.location=-1}}return this},createUniforms:function(){var t=this.gl;var e=this.program;var i=this.uniforms;var r;var s;var n;var a=t.getProgramParameter(e.webGLProgram,t.ACTIVE_UNIFORMS);for(r=0;r<a;r++){var o=t.getActiveUniform(e.webGLProgram,r);if(o){s=o.name;n=this.renderer.createUniformLocation(e,s);if(n!==null){i[s]={name:s,location:n,setter:null,value1:null,value2:null,value3:null,value4:null}}var l=s.indexOf("[");if(l>0){s=s.substr(0,l);if(!i.hasOwnProperty(s)){n=this.renderer.createUniformLocation(e,s);if(n!==null){i[s]={name:s,location:n,setter:null,value1:null,value2:null,value3:null,value4:null}}}}}}return this},syncUniforms:function(){var t=this.gl;this.renderer.setProgram(this.program);for(var e in this.uniforms){var i=this.uniforms[e];if(i.setter){i.setter.call(t,i.location.webGLUniformLocation,i.value1,i.value2,i.value3,i.value4)}}},hasUniform:function(t){return this.uniforms.hasOwnProperty(t)},resetUniform:function(t){var e=this.uniforms[t];if(e){e.value1=null;e.value2=null;e.value3=null;e.value4=null}return this},setUniform1:function(t,e,i,r){var s=this.uniforms[e];if(!s){return this}if(r||s.value1!==i){if(!s.setter){s.setter=t}s.value1=i;this.renderer.setProgram(this.program);t.call(this.gl,s.location.webGLUniformLocation,i);this.pipeline.currentShader=this}return this},setUniform2:function(t,e,i,r,s){var n=this.uniforms[e];if(!n){return this}if(s||n.value1!==i||n.value2!==r){if(!n.setter){n.setter=t}n.value1=i;n.value2=r;this.renderer.setProgram(this.program);t.call(this.gl,n.location.webGLUniformLocation,i,r);this.pipeline.currentShader=this}return this},setUniform3:function(t,e,i,r,s,n){var a=this.uniforms[e];if(!a){return this}if(n||a.value1!==i||a.value2!==r||a.value3!==s){if(!a.setter){a.setter=t}a.value1=i;a.value2=r;a.value3=s;this.renderer.setProgram(this.program);t.call(this.gl,a.location.webGLUniformLocation,i,r,s);this.pipeline.currentShader=this}return this},setUniform4:function(t,e,i,r,s,n,a){var o=this.uniforms[e];if(!o){return this}if(a||o.value1!==i||o.value2!==r||o.value3!==s||o.value4!==n){if(!o.setter){o.setter=t}o.value1=i;o.value2=r;o.value3=s;o.value4=n;this.renderer.setProgram(this.program);t.call(this.gl,o.location.webGLUniformLocation,i,r,s,n);this.pipeline.currentShader=this}return this},setBoolean:function(t,e){return this.setUniform1(this.gl.uniform1i,t,Number(e))},set1f:function(t,e){return this.setUniform1(this.gl.uniform1f,t,e)},set2f:function(t,e,i){return this.setUniform2(this.gl.uniform2f,t,e,i)},set3f:function(t,e,i,r){return this.setUniform3(this.gl.uniform3f,t,e,i,r)},set4f:function(t,e,i,r,s){return this.setUniform4(this.gl.uniform4f,t,e,i,r,s)},set1fv:function(t,e){return this.setUniform1(this.gl.uniform1fv,t,e,true)},set2fv:function(t,e){return this.setUniform1(this.gl.uniform2fv,t,e,true)},set3fv:function(t,e){return this.setUniform1(this.gl.uniform3fv,t,e,true)},set4fv:function(t,e){return this.setUniform1(this.gl.uniform4fv,t,e,true)},set1iv:function(t,e){return this.setUniform1(this.gl.uniform1iv,t,e,true)},set2iv:function(t,e){return this.setUniform1(this.gl.uniform2iv,t,e,true)},set3iv:function(t,e){return this.setUniform1(this.gl.uniform3iv,t,e,true)},set4iv:function(t,e){return this.setUniform1(this.gl.uniform4iv,t,e,true)},set1i:function(t,e){return this.setUniform1(this.gl.uniform1i,t,e)},set2i:function(t,e,i){return this.setUniform2(this.gl.uniform2i,t,e,i)},set3i:function(t,e,i,r){return this.setUniform3(this.gl.uniform3i,t,e,i,r)},set4i:function(t,e,i,r,s){return this.setUniform4(this.gl.uniform4i,t,e,i,r,s)},setMatrix2fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,t,e,i,true)},setMatrix3fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,t,e,i,true)},setMatrix4fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,t,e,i,true)},createProgram:function(t,e){if(t===void 0){t=this.vertSrc}if(e===void 0){e=this.fragSrc}if(this.program){this.renderer.deleteProgram(this.program)}this.vertSrc=t;this.fragSrc=e;this.program=this.renderer.createProgram(t,e);this.createUniforms();return this.rebind()},destroy:function(){var t=this.renderer;s(this.uniforms,(function(e){t.deleteUniformLocation(e.location)}));this.uniforms=null;s(this.attributes,(function(e){t.deleteAttribLocation(e.location)}));this.attributes=null;t.deleteProgram(this.program);this.pipeline=null;this.renderer=null;this.gl=null;this.program=null}});t.exports=o},14500:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};t.exports=e},4159:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(14500);var s=i(79291);var n={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};n=s(false,n,r);t.exports=n},31302:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(78908);var a=i(85191);var o=i(14500);var l=i(29100);var h=new r({Extends:l,initialize:function BitmapMaskPipeline2(t){t.fragShader=s(t,"fragShader",n),t.vertShader=s(t,"vertShader",a),t.batchSize=s(t,"batchSize",1),t.vertices=s(t,"vertices",[-1,1,-1,-7,7,1]),t.attributes=s(t,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]);l.call(this,t)},boot:function(){l.prototype.boot.call(this);this.set1i("uMainSampler",0);this.set1i("uMaskSampler",1)},resize:function(t,e){l.prototype.resize.call(this,t,e);this.set2f("uResolution",t,e)},beginMask:function(t,e,i){this.renderer.beginBitmapMask(t,i)},endMask:function(t,e,i){var r=this.gl;var s=this.renderer;var n=t.bitmapMask;if(n&&r){s.drawBitmapMask(n,e,this);if(i){this.set2f("uResolution",i.width,i.height)}this.set1i("uInvertMaskAlpha",t.invertAlpha);r.drawArrays(this.topology,0,3);if(i){this.set2f("uResolution",this.width,this.height)}r.bindTexture(r.TEXTURE_2D,null)}}});t.exports=h},92651:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(58918);var n=i(14811);var a=i(95540);var o=i(43558);var l=i(89350);var h=i(70554);var u=new r({Extends:o,initialize:function FXPipeline2(t){t.shaders=[h.setGlowQuality(l.FXGlowFrag,t.game),l.FXShadowFrag,l.FXPixelateFrag,l.FXVignetteFrag,l.FXShineFrag,l.FXBlurLowFrag,l.FXBlurMedFrag,l.FXBlurHighFrag,l.FXGradientFrag,l.FXBloomFrag,l.ColorMatrixFrag,l.FXCircleFrag,l.FXBarrelFrag,l.FXDisplacementFrag,l.FXWipeFrag,l.FXBokehFrag];o.call(this,t);var e=this.game;this.glow=new s.Glow(e);this.shadow=new s.Shadow(e);this.pixelate=new s.Pixelate(e);this.vignette=new s.Vignette(e);this.shine=new s.Shine(e);this.gradient=new s.Gradient(e);this.circle=new s.Circle(e);this.barrel=new s.Barrel(e);this.wipe=new s.Wipe(e);this.bokeh=new s.Bokeh(e);var i=[];i[n.GLOW]=this.onGlow;i[n.SHADOW]=this.onShadow;i[n.PIXELATE]=this.onPixelate;i[n.VIGNETTE]=this.onVignette;i[n.SHINE]=this.onShine;i[n.BLUR]=this.onBlur;i[n.GRADIENT]=this.onGradient;i[n.BLOOM]=this.onBloom;i[n.COLOR_MATRIX]=this.onColorMatrix;i[n.CIRCLE]=this.onCircle;i[n.BARREL]=this.onBarrel;i[n.DISPLACEMENT]=this.onDisplacement;i[n.WIPE]=this.onWipe;i[n.BOKEH]=this.onBokeh;this.fxHandlers=i;this.source;this.target;this.swap},onDraw:function(t,e,i){this.source=t;this.target=e;this.swap=i;var r=t.width;var s=t.height;var n=this.tempSprite;var a=this.fxHandlers;if(n&&n.preFX){var o=n.preFX.list;for(var l=0;l<o.length;l++){var h=o[l];if(h.active){a[h.type].call(this,h,r,s)}}}this.drawToGame(this.source)},runDraw:function(){var t=this.source;var e=this.target;this.copy(t,e);this.source=e;this.target=t},onGlow:function(t,e,i){var r=this.shaders[n.GLOW];this.setShader(r);this.glow.onPreRender(t,r,e,i);this.runDraw()},onShadow:function(t){var e=this.shaders[n.SHADOW];this.setShader(e);this.shadow.onPreRender(t,e);this.runDraw()},onPixelate:function(t,e,i){var r=this.shaders[n.PIXELATE];this.setShader(r);this.pixelate.onPreRender(t,r,e,i);this.runDraw()},onVignette:function(t){var e=this.shaders[n.VIGNETTE];this.setShader(e);this.vignette.onPreRender(t,e);this.runDraw()},onShine:function(t,e,i){var r=this.shaders[n.SHINE];this.setShader(r);this.shine.onPreRender(t,r,e,i);this.runDraw()},onBlur:function(t,e,i){var r=a(t,"quality");var s=this.shaders[n.BLUR+r];this.setShader(s);this.set1i("uMainSampler",0);this.set2f("resolution",e,i);this.set1f("strength",a(t,"strength"));this.set3fv("color",a(t,"glcolor"));var o=a(t,"x");var l=a(t,"y");var h=a(t,"steps");for(var u=0;u<h;u++){this.set2f("offset",o,0);this.runDraw();this.set2f("offset",0,l);this.runDraw()}},onGradient:function(t){var e=this.shaders[n.GRADIENT];this.setShader(e);this.gradient.onPreRender(t,e);this.runDraw()},onBloom:function(t,e,i){var r=this.shaders[n.BLOOM];this.copySprite(this.source,this.swap);this.setShader(r);this.set1i("uMainSampler",0);this.set1f("strength",a(t,"blurStrength"));this.set3fv("color",a(t,"glcolor"));var s=2/e*a(t,"offsetX");var o=2/i*a(t,"offsetY");var l=a(t,"steps");for(var h=0;h<l;h++){this.set2f("offset",s,0);this.runDraw();this.set2f("offset",0,o);this.runDraw()}this.blendFrames(this.swap,this.source,this.target,a(t,"strength"));this.copySprite(this.target,this.source)},onColorMatrix:function(t){this.setShader(this.colorMatrixShader);this.set1fv("uColorMatrix",t.getData());this.set1f("uAlpha",t.alpha);this.runDraw()},onCircle:function(t,e,i){var r=this.shaders[n.CIRCLE];this.setShader(r);this.circle.onPreRender(t,r,e,i);this.runDraw()},onBarrel:function(t){var e=this.shaders[n.BARREL];this.setShader(e);this.barrel.onPreRender(t,e);this.runDraw()},onDisplacement:function(t){this.setShader(this.shaders[n.DISPLACEMENT]);this.set1i("uDisplacementSampler",1);this.set2f("amount",t.x,t.y);this.bindTexture(t.glTexture,1);this.runDraw()},onWipe:function(t){var e=this.shaders[n.WIPE];this.setShader(e);this.wipe.onPreRender(t,e);this.runDraw()},onBokeh:function(t,e,i){var r=this.shaders[n.BOKEH];this.setShader(r);this.bokeh.onPreRender(t,r,e,i);this.runDraw()},destroy:function(){this.glow.destroy();this.shadow.destroy();this.pixelate.destroy();this.vignette.destroy();this.shine.destroy();this.gradient.destroy();this.circle.destroy();this.barrel.destroy();this.wipe.destroy();this.bokeh.destroy();this.fxHandlers=null;this.source=null;this.target=null;this.swap=null;o.prototype.destroy.call(this);return this}});t.exports=u},96569:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(31063);var a=i(57516);var o=i(61340);var l=i(26099);var h=i(29100);var u=new r({Extends:a,initialize:function LightPipeline2(t){var e=s(t,"fragShader",n);t.fragShader=e.replace("%LIGHT_COUNT%",t.game.renderer.config.maxLights);a.call(this,t);this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]);this.currentNormalMap;this.lightsActive=true;this.tempVec2=new l;this._tempMatrix=new o;this._tempMatrix2=new o},boot:function(){h.prototype.boot.call(this)},onRender:function(t,e){var i=t.sys.lights;this.lightsActive=false;if(!i||!i.active){return}var r=i.getLights(e);var s=r.length;this.lightsActive=true;var n;var a=this.renderer;var o=a.height;var l=e.matrix;var h=this.tempVec2;this.set1i("uMainSampler",0);this.set1i("uNormSampler",1);this.set2f("uResolution",this.width/2,this.height/2);this.set4f("uCamera",e.x,e.y,e.rotation,e.zoom);this.set3f("uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b);this.set1i("uLightCount",s);for(n=0;n<s;n++){var u=r[n].light;var c=u.color;var f="uLights["+n+"].";l.transformPoint(u.x,u.y,h);this.set2f(f+"position",h.x-e.scrollX*u.scrollFactorX*e.zoom,o-(h.y-e.scrollY*u.scrollFactorY*e.zoom));this.set3f(f+"color",c.r,c.g,c.b);this.set1f(f+"intensity",u.intensity);this.set1f(f+"radius",u.radius)}this.currentNormalMapRotation=null},setNormalMapRotation:function(t){if(t!==this.currentNormalMapRotation||this.vertexCount===0){if(this.vertexCount>0){this.flush()}var e=this.inverseRotationMatrix;if(t){var i=-t;var r=Math.cos(i);var s=Math.sin(i);e[1]=s;e[3]=-s;e[0]=e[4]=r}else{e[0]=e[4]=1;e[1]=e[3]=0}this.setMatrix3fv("uInverseRotationMatrix",false,e);this.currentNormalMapRotation=t}},setTexture2D:function(t,e){var i=this.renderer;if(t===void 0){t=i.whiteTexture}var r=this.getNormalMap(e);if(this.isNewNormalMap(t,r)){this.flush();this.createBatch(t);this.addTextureToBatch(r);this.currentNormalMap=r}var s=0;if(e&&e.parentContainer){var n=e.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);s=n.rotationNormalized}else if(e){s=e.rotation}if(this.currentBatch===null){this.createBatch(t);this.addTextureToBatch(r)}this.setNormalMapRotation(s);return 0},setGameObject:function(t,e){if(e===void 0){e=t.frame}var i=e.glTexture;var r=this.getNormalMap(t);if(this.isNewNormalMap(i,r)){this.flush();this.createBatch(i);this.addTextureToBatch(r);this.currentNormalMap=r}if(t.parentContainer){var s=t.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(s.rotationNormalized)}else{this.setNormalMapRotation(t.rotation)}if(this.currentBatch===null){this.createBatch(i);this.addTextureToBatch(r)}return 0},isNewNormalMap:function(t,e){return this.currentTexture!==t||this.currentNormalMap!==e},getNormalMap:function(t){var e;if(!t){return this.renderer.normalTexture}else if(t.displayTexture){e=t.displayTexture.dataSource[t.displayFrame.sourceIndex]}else if(t.texture){e=t.texture.dataSource[t.frame.sourceIndex]}else if(t.tileset){if(Array.isArray(t.tileset)){e=t.tileset[0].image.dataSource[0]}else{e=t.tileset.image.dataSource[0]}}if(!e){return this.renderer.normalTexture}return e.glTexture},batchSprite:function(t,e,i){if(this.lightsActive){a.prototype.batchSprite.call(this,t,e,i)}},batchTexture:function(t,e,i,r,s,n,o,l,h,u,c,f,d,v,p,g,m,y,x,b,T,w,E,S,A,C,O,P,I,R,M,L){if(this.lightsActive){a.prototype.batchTexture.call(this,t,e,i,r,s,n,o,l,h,u,c,f,d,v,p,g,m,y,x,b,T,w,E,S,A,C,O,P,I,R,M,L)}},batchTextureFrame:function(t,e,i,r,s,n,o){if(this.lightsActive){a.prototype.batchTextureFrame.call(this,t,e,i,r,s,n,o)}}});t.exports=u},56527:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(57516);var a=i(45561);var o=i(60722);var l=i(14500);var h=i(29100);var u=new r({Extends:n,initialize:function MobilePipeline2(t){t.fragShader=s(t,"fragShader",a);t.vertShader=s(t,"vertShader",o);t.attributes=s(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:true}]);t.forceZero=true;t.resizeUniform="uResolution";n.call(this,t)},boot:function(){h.prototype.boot.call(this);var t=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",t.width,t.height)}});t.exports=u},57516:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Felipe Alfonso <@bitnenfer>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(94811);var n=i(95540);var a=i(98840);var o=i(44667);var l=i(61340);var h=i(70554);var u=i(14500);var c=i(29100);var f=new r({Extends:c,initialize:function MultiPipeline2(t){var e=t.game.renderer;var i=n(t,"fragShader",a);t.fragShader=h.parseFragmentShaderMaxTextures(i,e.maxTextures);t.vertShader=n(t,"vertShader",o);t.attributes=n(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:true}]);t.resizeUniform="uResolution";c.call(this,t);this._tempMatrix1=new l;this._tempMatrix2=new l;this._tempMatrix3=new l;this.calcMatrix=new l;this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}];this.strokeTint={TL:0,TR:0,BL:0,BR:0};this.fillTint={TL:0,TR:0,BL:0,BR:0};this.currentFrame={u0:0,v0:0,u1:1,v1:1};this.firstQuad=[0,0,0,0,0];this.prevQuad=[0,0,0,0,0];this.polygonCache=[]},boot:function(){c.prototype.boot.call(this);var t=this.renderer;this.set1iv("uMainSampler",t.textureIndexes);this.set2f("uResolution",t.width,t.height)},batchSprite:function(t,e,i){this.manager.set(this,t);var r=this._tempMatrix1;var s=this._tempMatrix2;var n=this._tempMatrix3;var a=t.frame;var o=a.glTexture;var l=a.u0;var u=a.v0;var c=a.u1;var f=a.v1;var d=a.x;var v=a.y;var p=a.cutWidth;var g=a.cutHeight;var m=a.customPivot;var y=t.displayOriginX;var x=t.displayOriginY;var b=-y+d;var T=-x+v;if(t.isCropped){var w=t._crop;if(w.flipX!==t.flipX||w.flipY!==t.flipY){a.updateCropUVs(w,t.flipX,t.flipY)}l=w.u0;u=w.v0;c=w.u1;f=w.v1;p=w.width;g=w.height;d=w.x;v=w.y;b=-y+d;T=-x+v}var E=1;var S=1;if(t.flipX){if(!m){b+=-a.realWidth+y*2}E=-1}if(t.flipY){if(!m){T+=-a.realHeight+x*2}S=-1}var A=t.x;var C=t.y;if(e.roundPixels){A=Math.floor(A);C=Math.floor(C)}s.applyITRS(A,C,t.rotation,t.scaleX*E,t.scaleY*S);r.copyFrom(e.matrix);if(i){r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY);s.e=A;s.f=C}else{s.e-=e.scrollX*t.scrollFactorX;s.f-=e.scrollY*t.scrollFactorY}r.multiply(s,n);var O=n.setQuad(b,T,b+p,T+g,e.renderRoundPixels);var P=h.getTintAppendFloatAlpha;var I=e.alpha;var R=P(t.tintTopLeft,I*t._alphaTL);var M=P(t.tintTopRight,I*t._alphaTR);var L=P(t.tintBottomLeft,I*t._alphaBL);var D=P(t.tintBottomRight,I*t._alphaBR);if(this.shouldFlush(6)){this.flush()}var k=this.setGameObject(t,a);this.manager.preBatch(t);this.batchQuad(t,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],l,u,c,f,R,M,L,D,t.tintFill,o,k);this.manager.postBatch(t)},batchTexture:function(t,e,i,r,s,n,a,o,l,h,u,c,f,d,v,p,g,m,y,x,b,T,w,E,S,A,C,O,P,I,R,M,L){if(L===void 0){L=false}this.manager.set(this,t);var D=this._tempMatrix1;var k=this._tempMatrix2;var F=this._tempMatrix3;var B=m/i+C;var N=y/r+O;var U=(m+x)/i+C;var z=(y+b)/r+O;var V=a;var G=o;var X=-p;var Y=-g;if(t.isCropped){var H=t._crop;var W=H.width;var j=H.height;V=W;G=j;a=W;o=j;m=H.x;y=H.y;var Z=m;var q=y;if(c){Z=x-H.x-W}if(f){q=b-H.y-j}B=Z/i+C;N=q/r+O;U=(Z+W)/i+C;z=(q+j)/r+O;X=-p+m;Y=-g+y}f=f^(!R&&e.isRenderTexture?1:0);if(c){V*=-1;X+=a}if(f){G*=-1;Y+=o}if(P.roundPixels){s=Math.floor(s);n=Math.floor(n)}k.applyITRS(s,n,u,l,h);D.copyFrom(P.matrix);if(I){D.multiplyWithOffset(I,-P.scrollX*d,-P.scrollY*v);k.e=s;k.f=n}else{k.e-=P.scrollX*d;k.f-=P.scrollY*v}D.multiply(k,F);var K=F.setQuad(X,Y,X+V,Y+G,P.renderRoundPixels);if(M===void 0||M===null){M=this.setTexture2D(e)}if(t&&!L){this.manager.preBatch(t)}this.batchQuad(t,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],B,N,U,z,T,w,E,S,A,e,M);if(t&&!L){this.manager.postBatch(t)}},batchTextureFrame:function(t,e,i,r,s,n,a){this.manager.set(this);var o=this._tempMatrix1.copyFrom(n);var l=this._tempMatrix2;if(a){o.multiply(a,l)}else{l=o}var u=l.setQuad(e,i,e+t.width,i+t.height);var c=this.setTexture2D(t.source.glTexture);r=h.getTintAppendFloatAlpha(r,s);this.batchQuad(null,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],t.u0,t.v0,t.u1,t.v1,r,r,r,r,0,t.glTexture,c)},batchFillRect:function(t,e,i,r,s,n){this.renderer.pipelines.set(this);var a=this.calcMatrix;if(n){n.multiply(s,a)}var o=a.setQuad(t,e,t+i,e+r);var l=this.fillTint;this.batchQuad(null,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],0,0,1,1,l.TL,l.TR,l.BL,l.BR,2)},batchFillTriangle:function(t,e,i,r,s,n,a,o){this.renderer.pipelines.set(this);var l=this.calcMatrix;if(o){o.multiply(a,l)}var h=l.getX(t,e);var u=l.getY(t,e);var c=l.getX(i,r);var f=l.getY(i,r);var d=l.getX(s,n);var v=l.getY(s,n);var p=this.fillTint;this.batchTri(null,h,u,c,f,d,v,0,0,1,1,p.TL,p.TR,p.BL,2)},batchStrokeTriangle:function(t,e,i,r,s,n,a,o,l){var h=this.tempTriangle;h[0].x=t;h[0].y=e;h[0].width=a;h[1].x=i;h[1].y=r;h[1].width=a;h[2].x=s;h[2].y=n;h[2].width=a;h[3].x=t;h[3].y=e;h[3].width=a;this.batchStrokePath(h,a,false,o,l)},batchFillPath:function(t,e,i){this.renderer.pipelines.set(this);var r=this.calcMatrix;if(i){i.multiply(e,r)}var n=t.length;var a=this.polygonCache;var o;var l;var h=this.fillTint.TL;var u=this.fillTint.TR;var c=this.fillTint.BL;for(var f=0;f<n;++f){l=t[f];a.push(l.x,l.y)}o=s(a);n=o.length;for(var d=0;d<n;d+=3){var v=o[d+0]*2;var p=o[d+1]*2;var g=o[d+2]*2;var m=a[v+0];var y=a[v+1];var x=a[p+0];var b=a[p+1];var T=a[g+0];var w=a[g+1];var E=r.getX(m,y);var S=r.getY(m,y);var A=r.getX(x,b);var C=r.getY(x,b);var O=r.getX(T,w);var P=r.getY(T,w);this.batchTri(null,E,S,A,C,O,P,0,0,1,1,h,u,c,2)}a.length=0},batchStrokePath:function(t,e,i,r,s){this.renderer.pipelines.set(this);this.prevQuad[4]=0;this.firstQuad[4]=0;var n=t.length-1;for(var a=0;a<n;a++){var o=t[a];var l=t[a+1];this.batchLine(o.x,o.y,l.x,l.y,o.width/2,l.width/2,e,a,!i&&a===n-1,r,s)}},batchLine:function(t,e,i,r,s,n,a,o,l,h,u){this.renderer.pipelines.set(this);var c=this.calcMatrix;if(u){u.multiply(h,c)}var f=i-t;var d=r-e;var v=Math.sqrt(f*f+d*d);if(v===0){return}var p=s*(r-e)/v;var g=s*(t-i)/v;var m=n*(r-e)/v;var y=n*(t-i)/v;var x=i-m;var b=r-y;var T=t-p;var w=e-g;var E=i+m;var S=r+y;var A=t+p;var C=e+g;var O=c.getX(x,b);var P=c.getY(x,b);var I=c.getX(T,w);var R=c.getY(T,w);var M=c.getX(E,S);var L=c.getY(E,S);var D=c.getX(A,C);var k=c.getY(A,C);var F=this.strokeTint;var B=F.TL;var N=F.TR;var U=F.BL;var z=F.BR;this.batchQuad(null,D,k,I,R,O,P,M,L,0,0,1,1,B,N,U,z,2);if(a<=2){return}var V=this.prevQuad;var G=this.firstQuad;if(o>0&&V[4]){this.batchQuad(null,D,k,I,R,V[0],V[1],V[2],V[3],0,0,1,1,B,N,U,z,2)}else{G[0]=D;G[1]=k;G[2]=I;G[3]=R;G[4]=1}if(l&&G[4]){this.batchQuad(null,O,P,M,L,G[0],G[1],G[2],G[3],0,0,1,1,B,N,U,z,2)}else{V[0]=O;V[1]=P;V[2]=M;V[3]=L;V[4]=1}},destroy:function(){this._tempMatrix1.destroy();this._tempMatrix2.destroy();this._tempMatrix3.destroy();this._tempMatrix1=null;this._tempMatrix1=null;this._tempMatrix1=null;c.prototype.destroy.call(this);return this}});t.exports=f},43439:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(4127);var a=i(89924);var o=i(29100);var l=new r({Extends:o,initialize:function PointLightPipeline2(t){t.vertShader=s(t,"vertShader",a);t.fragShader=s(t,"fragShader",n);t.attributes=s(t,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]);o.call(this,t)},onRender:function(t,e){this.set2f("uResolution",this.width,this.height);this.set1f("uCameraZoom",e.zoom)},batchPointLight:function(t,e,i,r,s,n,a,o,l,h,u,c){var f=t.color;var d=t.intensity;var v=t.radius;var p=t.attenuation;var g=f.r*d;var m=f.g*d;var y=f.b*d;var x=e.alpha*t.alpha;if(this.shouldFlush(6)){this.flush()}if(!this.currentBatch){this.setTexture2D()}this.batchLightVert(i,r,u,c,v,p,g,m,y,x);this.batchLightVert(s,n,u,c,v,p,g,m,y,x);this.batchLightVert(a,o,u,c,v,p,g,m,y,x);this.batchLightVert(i,r,u,c,v,p,g,m,y,x);this.batchLightVert(a,o,u,c,v,p,g,m,y,x);this.batchLightVert(l,h,u,c,v,p,g,m,y,x);this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(t,e,i,r,s,n,a,o,l,h){var u=this.vertexViewF32;var c=this.vertexCount*this.currentShader.vertexComponentCount-1;u[++c]=t;u[++c]=e;u[++c]=i;u[++c]=r;u[++c]=s;u[++c]=n;u[++c]=a;u[++c]=o;u[++c]=l;u[++c]=h;this.vertexCount++}});t.exports=l},84057:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(89422);var n=i(95540);var a=i(27681);var o=i(49627);var l=i(29100);var h=new r({Extends:l,initialize:function PostFXPipeline2(t){t.renderTarget=n(t,"renderTarget",1);t.fragShader=n(t,"fragShader",a);t.vertShader=n(t,"vertShader",o);t.attributes=n(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]);t.batchSize=1;t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0];l.call(this,t);this.isPostFX=true;this.gameObject;this.controller;this.colorMatrix=new s;this.fullFrame1;this.fullFrame2;this.halfFrame1;this.halfFrame2;if(this.renderer.isBooted){this.manager=this.renderer.pipelines}},bootFX:function(){l.prototype.boot.call(this);var t=this.manager.UTILITY_PIPELINE;this.fullFrame1=t.fullFrame1;this.fullFrame2=t.fullFrame2;this.halfFrame1=t.halfFrame1;this.halfFrame2=t.halfFrame2;var e=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",e.width,e.height);var i=this.renderTargets;for(var r=0;r<i.length;r++){i[r].autoResize=true}},postBatch:function(t){if(!this.hasBooted){this.bootFX();if(this.currentRenderTarget){this.currentRenderTarget.bind()}}this.onDraw(this.currentRenderTarget);this.onPostBatch(t);return this},onDraw:function(t){this.bindAndDraw(t)},getController:function(t){if(t!==void 0){return t}else if(this.controller){return this.controller}else{return this}},copySprite:function(t,e,i){if(i===void 0){i=false}var r=this.gl;r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,t.texture.webGLTexture);var s=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.texture.webGLTexture,0);r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT);r.bufferData(r.ARRAY_BUFFER,this.vertexData,r.STATIC_DRAW);r.drawArrays(r.TRIANGLES,0,6);if(i){r.bindTexture(r.TEXTURE_2D,null);r.bindFramebuffer(r.FRAMEBUFFER,s)}},copyFrame:function(t,e,i,r,s){this.manager.copyFrame(t,e,i,r,s)},copyToGame:function(t){this.manager.copyToGame(t)},drawFrame:function(t,e,i){this.manager.drawFrame(t,e,i,this.colorMatrix)},blendFrames:function(t,e,i,r,s){this.manager.blendFrames(t,e,i,r,s)},blendFramesAdditive:function(t,e,i,r,s){this.manager.blendFramesAdditive(t,e,i,r,s)},clearFrame:function(t,e){this.manager.clearFrame(t,e)},blitFrame:function(t,e,i,r,s,n){this.manager.blitFrame(t,e,i,r,s,n)},copyFrameRect:function(t,e,i,r,s,n,a,o){this.manager.copyFrameRect(t,e,i,r,s,n,a,o)},bindAndDraw:function(t,e,i,r,s){if(i===void 0){i=true}if(r===void 0){r=true}var n=this.gl;var a=this.renderer;this.bind(s);this.set1i("uMainSampler",0);if(e){n.viewport(0,0,e.width,e.height);n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.texture.webGLTexture,0);if(i){if(r){n.clearColor(0,0,0,0)}else{n.clearColor(0,0,0,1)}n.clear(n.COLOR_BUFFER_BIT)}}else{a.popFramebuffer(false,false);if(!a.currentFramebuffer){n.viewport(0,0,a.width,a.height)}}a.restoreStencilMask();n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,t.texture.webGLTexture);n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW);n.drawArrays(n.TRIANGLES,0,6);if(e){n.bindTexture(n.TEXTURE_2D,null);n.bindFramebuffer(n.FRAMEBUFFER,a.currentFramebuffer.webGLFramebuffer)}},destroy:function(){if(this.controller){this.controller.destroy()}this.gameObject=null;this.controller=null;this.colorMatrix=null;this.fullFrame1=null;this.fullFrame2=null;this.halfFrame1=null;this.halfFrame2=null;this.manager.removePostPipeline(this);l.prototype.destroy.call(this);return this}});t.exports=h},43558:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(67502);var n=i(83419);var a=i(96293);var o=i(95540);var l=i(57516);var h=i(27681);var u=i(87841);var c=i(32302);var f=i(45561);var d=i(60722);var v=i(29100);var p=new n({Extends:l,initialize:function PreFXPipeline2(t){var e=o(t,"fragShader",h);var i=o(t,"vertShader",d);var r=o(t,"drawShader",h);var s=[{name:"DrawSprite",fragShader:f,vertShader:d},{name:"CopySprite",fragShader:e,vertShader:i},{name:"DrawGame",fragShader:r,vertShader:d},{name:"ColorMatrix",fragShader:a}];var n=o(t,"shaders",[]);t.shaders=s.concat(n);if(!t.vertShader){t.vertShader=i}t.batchSize=1;l.call(this,t);this.isPreFX=true;this.customMainSampler=null;this.drawSpriteShader;this.copyShader;this.gameShader;this.colorMatrixShader;this.quadVertexData;this.quadVertexBuffer;this.quadVertexViewF32;this.spriteBounds=new u;this.targetBounds=new u;this.fsTarget;this.tempSprite;if(this.renderer.isBooted){this.manager=this.renderer.pipelines;this.boot()}},boot:function(){v.prototype.boot.call(this);var t=this.shaders;var e=this.renderer;this.drawSpriteShader=t[0];this.copyShader=t[1];this.gameShader=t[2];this.colorMatrixShader=t[3];this.fsTarget=new c(e,e.width,e.height,1,0,true,true);this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var i=new ArrayBuffer(168);this.quadVertexData=i;this.quadVertexViewF32=new Float32Array(i);this.quadVertexBuffer=e.createVertexBuffer(i,this.gl.STATIC_DRAW);this.onResize(e.width,e.height);this.currentShader=this.copyShader;this.set2f("uResolution",e.width,e.height)},onResize:function(t,e){var i=this.quadVertexViewF32;i[1]=e;i[22]=e;i[14]=t;i[28]=t;i[35]=t;i[36]=e},batchQuad:function(t,e,i,r,n,a,o,l,h,u,c,f,d,v,p,g,m,y,x){var b=Math.min(e,r,a,l);var T=Math.min(i,n,o,h);var w=Math.max(e,r,a,l);var E=Math.max(i,n,o,h);var S=w-b;var A=E-T;var C=this.spriteBounds.setTo(b,T,S,A);var O=t?t.preFX.padding:0;var P=S+O*2;var I=A+O*2;var R=Math.abs(Math.max(P,I));var M=this.manager.getRenderTarget(R);var L=this.targetBounds.setTo(0,0,M.width,M.height);s(L,Math.round(C.centerX),Math.round(C.centerY));this.tempSprite=t;var D=this.gl;var k=this.renderer;k.clearStencilMask();this.setShader(this.drawSpriteShader);this.set1i("uMainSampler",0);this.set2f("uResolution",k.width,k.height);this.flipProjectionMatrix(true);if(t){this.onDrawSprite(t,M);t.preFX.onFX(this)}var F=this.fsTarget;this.flush();D.viewport(0,0,k.width,k.height);D.bindFramebuffer(D.FRAMEBUFFER,F.framebuffer.webGLFramebuffer);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,F.texture.webGLTexture,0);D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT);this.setTexture2D(x);this.batchVert(e,i,u,c,0,y,v);this.batchVert(r,n,u,d,0,y,g);this.batchVert(a,o,f,d,0,y,m);this.batchVert(e,i,u,c,0,y,v);this.batchVert(a,o,f,d,0,y,m);this.batchVert(l,h,f,c,0,y,p);this.flush();this.flipProjectionMatrix(false);D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,M.texture.webGLTexture);D.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,L.x,L.y,L.width,L.height);D.bindFramebuffer(D.FRAMEBUFFER,null);D.bindTexture(D.TEXTURE_2D,null);this.onBatch(t);this.currentShader=this.copyShader;this.onDraw(M,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget());return true},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(t,e,i,s,n,a,o){if(i===void 0){i=true}if(s===void 0){s=true}if(n===void 0){n=false}if(o===void 0){o=this.copyShader}var l=this.gl;var h=this.tempSprite;if(a){o=this.colorMatrixShader}this.currentShader=o;var u=this.setVertexBuffer(this.quadVertexBuffer);o.bind(u,false);var c=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",c.width,c.height);h.preFX.onFXCopy(this);this.onCopySprite(t,e,h);if(a){this.set1fv("uColorMatrix",a.getData());this.set1f("uAlpha",a.alpha)}l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,t.texture.webGLTexture);if(t.height>e.height){l.viewport(0,0,t.width,t.height);this.setTargetUVs(t,e)}else{var f=e.height-t.height;l.viewport(0,f,t.width,t.height);this.resetUVs()}l.bindFramebuffer(l.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,e.texture.webGLTexture,0);if(i){l.clearColor(0,0,0,Number(!s));l.clear(l.COLOR_BUFFER_BIT)}if(n){var d=this.renderer.currentBlendMode;this.renderer.setBlendMode(r.ERASE)}l.bufferData(l.ARRAY_BUFFER,this.quadVertexData,l.STATIC_DRAW);l.drawArrays(l.TRIANGLES,0,6);if(n){this.renderer.setBlendMode(d)}l.bindFramebuffer(l.FRAMEBUFFER,null)},copy:function(t,e){var i=this.gl;this.set1i("uMainSampler",0);i.activeTexture(i.TEXTURE0);i.bindTexture(i.TEXTURE_2D,t.texture.webGLTexture);i.viewport(0,0,t.width,t.height);this.setUVs(0,0,0,1,1,1,1,0);i.bindFramebuffer(i.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.texture.webGLTexture,0);i.clearColor(0,0,0,0);i.clear(i.COLOR_BUFFER_BIT);i.bufferData(i.ARRAY_BUFFER,this.quadVertexData,i.STATIC_DRAW);i.drawArrays(i.TRIANGLES,0,6);i.bindFramebuffer(i.FRAMEBUFFER,null)},blendFrames:function(t,e,i,r,s){this.manager.blendFrames(t,e,i,r,s)},blendFramesAdditive:function(t,e,i,r,s){this.manager.blendFramesAdditive(t,e,i,r,s)},drawToGame:function(t){this.currentShader=null;this.setShader(this.copyShader);this.bindAndDraw(t)},copyToGame:function(t){this.currentShader=null;this.setShader(this.gameShader);this.bindAndDraw(t)},bindAndDraw:function(t){var e=this.gl;var i=this.renderer;this.set1i("uMainSampler",0);if(this.customMainSampler){this.setTexture2D(this.customMainSampler)}else{this.setTexture2D(t.texture)}var r=this._tempMatrix1.loadIdentity();var s=this.targetBounds.x;var n=this.targetBounds.y;var a=s+t.width;var o=n+t.height;var l=r.getX(s,n);var h=r.getX(s,o);var u=r.getX(a,o);var c=r.getX(a,n);var f=r.getY(s,n);var d=r.getY(s,o);var v=r.getY(a,o);var p=r.getY(a,n);var g=16777215;this.batchVert(l,f,0,0,0,0,g);this.batchVert(h,d,0,1,0,0,g);this.batchVert(u,v,1,1,0,0,g);this.batchVert(l,f,0,0,0,0,g);this.batchVert(u,v,1,1,0,0,g);this.batchVert(c,p,1,0,0,0,g);i.restoreFramebuffer(false,true);if(!i.currentFramebuffer){e.viewport(0,0,i.width,i.height)}i.restoreStencilMask();this.flush();this.tempSprite=null},onDraw:function(t){this.drawToGame(t)},setUVs:function(t,e,i,r,s,n,a,o){var l=this.quadVertexViewF32;l[2]=t;l[3]=e;l[9]=i;l[10]=r;l[16]=s;l[17]=n;l[23]=t;l[24]=e;l[30]=s;l[31]=n;l[37]=a;l[38]=o},setTargetUVs:function(t,e){var i=e.height/t.height;if(i>.5){i=.5-(i-.5)}else{i=.5+(.5-i)}this.setUVs(0,i,0,1+i,1,1+i,1,i)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){this.renderer.deleteBuffer(this.quadVertexBuffer);this.drawSpriteShader=null;this.copyShader=null;this.gameShader=null;this.colorMatrixShader=null;this.quadVertexData=null;this.quadVertexBuffer=null;this.quadVertexViewF32=null;this.fsTarget=null;this.tempSprite=null;l.prototype.destroy.call(this);return this}});t.exports=p},81041:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(57516);var a=new r({Extends:n,initialize:function RopePipeline2(t){t.topology=5;t.batchSize=s(t,"batchSize",256);n.call(this,t)}});t.exports=a},12385:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(57516);var a=i(45561);var o=i(60722);var l=i(29100);var h=new r({Extends:n,initialize:function SinglePipeline2(t){t.fragShader=s(t,"fragShader",a),t.vertShader=s(t,"vertShader",o),t.forceZero=true;n.call(this,t)},boot:function(){l.prototype.boot.call(this);var t=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",t.width,t.height)}});t.exports=h},7589:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35407);var s=i(10312);var n=i(83419);var a=i(89422);var o=i(96293);var l=i(36682);var h=i(95540);var u=i(48247);var c=i(49627);var f=i(29100);var d=new n({Extends:f,initialize:function UtilityPipeline2(t){t.renderTarget=h(t,"renderTarget",[{scale:1,autoResize:true},{scale:1,autoResize:true},{scale:.5,autoResize:true},{scale:.5,autoResize:true}]);t.vertShader=h(t,"vertShader",c);t.shaders=h(t,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:r},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:o}]);t.attributes=h(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]);t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0];t.batchSize=1;f.call(this,t);this.colorMatrix=new a;this.copyShader;this.addShader;this.linearShader;this.colorMatrixShader;this.fullFrame1;this.fullFrame2;this.halfFrame1;this.halfFrame2},boot:function(){f.prototype.boot.call(this);var t=this.shaders;var e=this.renderTargets;this.copyShader=t[0];this.addShader=t[1];this.linearShader=t[2];this.colorMatrixShader=t[3];this.fullFrame1=e[0];this.fullFrame2=e[1];this.halfFrame1=e[2];this.halfFrame2=e[3]},copyFrame:function(t,e,i,r,s){if(i===void 0){i=1}if(r===void 0){r=true}if(s===void 0){s=true}var n=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",i);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,t.texture.webGLTexture);if(e){n.viewport(0,0,e.width,e.height);n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.texture.webGLTexture,0)}else{n.viewport(0,0,t.width,t.height)}if(r){if(s){n.clearColor(0,0,0,0)}else{n.clearColor(0,0,0,1)}n.clear(n.COLOR_BUFFER_BIT)}n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW);n.drawArrays(n.TRIANGLES,0,6);n.bindFramebuffer(n.FRAMEBUFFER,null);n.bindTexture(n.TEXTURE_2D,null)},blitFrame:function(t,e,i,r,n,a,o){if(i===void 0){i=1}if(r===void 0){r=true}if(n===void 0){n=true}if(a===void 0){a=false}if(o===void 0){o=false}var l=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",i);l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,t.texture.webGLTexture);if(t.height>e.height){l.viewport(0,0,t.width,t.height);this.setTargetUVs(t,e)}else{var h=e.height-t.height;l.viewport(0,h,t.width,t.height)}l.bindFramebuffer(l.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,e.texture.webGLTexture,0);if(r){if(n){l.clearColor(0,0,0,0)}else{l.clearColor(0,0,0,1)}l.clear(l.COLOR_BUFFER_BIT)}if(a){var u=this.renderer.currentBlendMode;this.renderer.setBlendMode(s.ERASE)}if(o){this.flipY()}l.bufferData(l.ARRAY_BUFFER,this.vertexData,l.STATIC_DRAW);l.drawArrays(l.TRIANGLES,0,6);if(a){this.renderer.setBlendMode(u)}l.bindFramebuffer(l.FRAMEBUFFER,null);l.bindTexture(l.TEXTURE_2D,null);this.resetUVs()},copyFrameRect:function(t,e,i,r,s,n,a,o){if(a===void 0){a=true}if(o===void 0){o=true}var l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer.webGLFramebuffer);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,t.texture.webGLTexture,0);if(a){if(o){l.clearColor(0,0,0,0)}else{l.clearColor(0,0,0,1)}l.clear(l.COLOR_BUFFER_BIT)}l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,e.texture.webGLTexture);l.copyTexSubImage2D(l.TEXTURE_2D,0,0,0,i,r,s,n);l.bindFramebuffer(l.FRAMEBUFFER,null);l.bindTexture(l.TEXTURE_2D,null)},copyToGame:function(t){var e=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",1);this.renderer.popFramebuffer();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,t.texture.webGLTexture);e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.STATIC_DRAW);e.drawArrays(e.TRIANGLES,0,6)},drawFrame:function(t,e,i,r){if(i===void 0){i=true}if(r===void 0){r=this.colorMatrix}var s=this.gl;this.setShader(this.colorMatrixShader);this.set1i("uMainSampler",0);this.set1fv("uColorMatrix",r.getData());this.set1f("uAlpha",r.alpha);s.activeTexture(s.TEXTURE0);s.bindTexture(s.TEXTURE_2D,t.texture.webGLTexture);if(e){s.viewport(0,0,e.width,e.height);s.bindFramebuffer(s.FRAMEBUFFER,e.framebuffer.webGLFramebuffer);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e.texture.webGLTexture,0)}else{s.viewport(0,0,t.width,t.height)}if(i){s.clearColor(0,0,0,0)}else{s.clearColor(0,0,0,1)}s.clear(s.COLOR_BUFFER_BIT);s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW);s.drawArrays(s.TRIANGLES,0,6);s.bindFramebuffer(s.FRAMEBUFFER,null);s.bindTexture(s.TEXTURE_2D,null)},blendFrames:function(t,e,i,r,s,n){if(r===void 0){r=1}if(s===void 0){s=true}if(n===void 0){n=this.linearShader}var a=this.gl;this.setShader(n);this.set1i("uMainSampler1",0);this.set1i("uMainSampler2",1);this.set1f("uStrength",r);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,t.texture.webGLTexture);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,e.texture.webGLTexture);if(i){a.bindFramebuffer(a.FRAMEBUFFER,i.framebuffer.webGLFramebuffer);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,i.texture.webGLTexture,0);a.viewport(0,0,i.width,i.height)}else{a.viewport(0,0,t.width,t.height)}if(s){a.clearColor(0,0,0,0)}else{a.clearColor(0,0,0,1)}a.clear(a.COLOR_BUFFER_BIT);a.bufferData(a.ARRAY_BUFFER,this.vertexData,a.STATIC_DRAW);a.drawArrays(a.TRIANGLES,0,6);a.bindFramebuffer(a.FRAMEBUFFER,null);a.bindTexture(a.TEXTURE_2D,null)},blendFramesAdditive:function(t,e,i,r,s){this.blendFrames(t,e,i,r,s,this.addShader)},clearFrame:function(t,e){if(e===void 0){e=true}var i=this.gl;i.viewport(0,0,t.width,t.height);i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer.webGLFramebuffer);if(e){i.clearColor(0,0,0,0)}else{i.clearColor(0,0,0,1)}i.clear(i.COLOR_BUFFER_BIT);var r=this.renderer.currentFramebuffer;i.bindFramebuffer(i.FRAMEBUFFER,r.webGLFramebuffer)},setUVs:function(t,e,i,r,s,n,a,o){var l=this.vertexViewF32;l[2]=t;l[3]=e;l[6]=i;l[7]=r;l[10]=s;l[11]=n;l[14]=t;l[15]=e;l[18]=s;l[19]=n;l[22]=a;l[23]=o},setTargetUVs:function(t,e){var i=e.height/t.height;if(i>.5){i=.5-(i-.5)}else{i=.5+(.5-i)}this.setUVs(0,i,0,1+i,1,1+i,1,i)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});t.exports=d},36060:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};t.exports=e},84817:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelineafterflush"},36712:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelinebeforeflush"},40285:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelinebind"},65918:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelineboot"},92852:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelinedestroy"},56072:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelinerebind"},57566:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pipelineresize"},77085:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(99155);var n=i(84057);var a=new r({Extends:n,initialize:function BarrelFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.amount=1},onPreRender:function(t,e){t=this.getController(t);this.set1f("amount",t.amount,e)}});t.exports=a},67329:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(24400);var n=i(84057);var a=new r({Extends:n,initialize:function BloomFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.steps=4;this.offsetX=1;this.offsetY=1;this.blurStrength=1;this.strength=1;this.glcolor=[1,1,1]},onPreRender:function(t){t=this.getController(t);this.set1f("strength",t.blurStrength);this.set3fv("color",t.glcolor)},onDraw:function(t){var e=this.getController();var i=this.fullFrame1;var r=this.fullFrame2;this.copyFrame(t,r);var s=2/t.width*e.offsetX;var n=2/t.height*e.offsetY;for(var a=0;a<e.steps;a++){this.set2f("offset",s,0);this.copySprite(t,i);this.set2f("offset",0,n);this.copySprite(i,t)}this.blendFrames(r,t,i,e.strength);this.copyToGame(i)}});t.exports=a},8861:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(41514);var n=i(51078);var a=i(94328);var o=i(84057);var l=new r({Extends:o,initialize:function BlurFXPipeline2(t){o.call(this,{game:t,shaders:[{name:"Gaussian5",fragShader:s},{name:"Gaussian9",fragShader:n},{name:"Gaussian13",fragShader:a}]});this.activeShader=this.shaders[0];this.x=2;this.y=2;this.steps=4;this.strength=1;this.glcolor=[1,1,1]},setQualityLow:function(){this.activeShader=this.shaders[0];return this},setQualityMedium:function(){this.activeShader=this.shaders[1];return this},setQualityHigh:function(){this.activeShader=this.shaders[2];return this},onDraw:function(t){var e=this.getController();var i=this.gl;var r=this.fullFrame1;var s=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[e.quality]);i.activeTexture(i.TEXTURE0);i.viewport(0,0,t.width,t.height);this.set1i("uMainSampler",0);this.set2f("resolution",t.width,t.height);this.set1f("strength",e.strength);this.set3fv("color",e.glcolor);for(var n=0;n<e.steps;n++){this.set2f("offset",e.x,0);this.copySprite(t,r);this.set2f("offset",0,e.y);this.copySprite(r,t)}i.bindFramebuffer(i.FRAMEBUFFER,s);i.bindTexture(i.TEXTURE_2D,null);this.copyToGame(t)}});t.exports=l},51051:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(90610);var n=i(84057);var a=new r({Extends:n,initialize:function BokehFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.isTiltShift=false;this.strength=1;this.blurX=1;this.blurY=1;this.radius=.5;this.amount=1;this.contrast=.2},onPreRender:function(t,e,i,r){t=this.getController(t);this.set1f("radius",t.radius,e);this.set1f("amount",t.amount,e);this.set1f("contrast",t.contrast,e);this.set1f("strength",t.strength,e);this.set2f("blur",t.blurX,t.blurY,e);this.setBoolean("isTiltShift",t.isTiltShift,e);if(i&&r){this.set2f("resolution",i,r,e)}},onDraw:function(t){this.set2f("resolution",t.width,t.height);this.bindAndDraw(t)}});t.exports=a},89428:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(91899);var n=i(84057);var a=new r({Extends:n,initialize:function CircleFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.scale=1;this.feather=.005;this.thickness=8;this.glcolor=[1,.2,.7];this.glcolor2=[1,0,0,.4]},onPreRender:function(t,e,i,r){t=this.getController(t);this.set1f("scale",t.scale,e);this.set1f("feather",t.feather,e);this.set1f("thickness",t.thickness,e);this.set3fv("color",t.glcolor,e);this.set4fv("backgroundColor",t.glcolor2,e);if(i&&r){this.set2f("resolution",i,r,e)}},onDraw:function(t){this.set2f("resolution",t.width,t.height);this.bindAndDraw(t)}});t.exports=a},88904:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(84057);var n=new r({Extends:s,initialize:function ColorMatrixFXPipeline2(t){s.call(this,{game:t})},onDraw:function(t){var e=this.fullFrame1;if(this.controller){this.manager.drawFrame(t,e,true,this.controller)}else{this.drawFrame(t,e)}this.copyToGame(e)}});t.exports=n},63563:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(47838);var n=i(84057);var a=new r({Extends:n,initialize:function DisplacementFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.x=.005;this.y=.005;this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(t){var e=this.game.textures.getFrame(t);if(e){this.glTexture=e.glTexture}},onDraw:function(t){var e=this.getController();var i=this.fullFrame1;this.bind();this.set1i("uMainSampler",0);this.set1i("uDisplacementSampler",1);this.set2f("amount",e.x,e.y);this.bindTexture(e.glTexture,1);this.copySprite(t,i);this.copyToGame(i)}});t.exports=a},94045:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=i(98656);var a=i(84057);var o=i(70554);var l=new r({Extends:a,initialize:function GlowFXPipeline2(t,e){var i=s(e,"quality",.1);var r=s(e,"distance",10);a.call(this,{game:t,fragShader:o.setGlowQuality(n,t,i,r)});this.outerStrength=4;this.innerStrength=0;this.knockout=false;this.glcolor=[1,1,1,1]},onPreRender:function(t,e,i,r){t=this.getController(t);this.set1f("outerStrength",t.outerStrength,e);this.set1f("innerStrength",t.innerStrength,e);this.set4fv("glowColor",t.glcolor,e);this.setBoolean("knockout",t.knockout,e);if(i&&r){this.set2f("resolution",i,r,e)}},onDraw:function(t){this.set2f("resolution",t.width,t.height);this.bindAndDraw(t)}});t.exports=l},74088:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(70463);var n=i(84057);var a=new r({Extends:n,initialize:function GradientFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.alpha=.2;this.size=0;this.fromX=0;this.fromY=0;this.toX=0;this.toY=1;this.glcolor1=[255,0,0];this.glcolor2=[0,255,0]},onPreRender:function(t,e){t=this.getController(t);this.set1f("alpha",t.alpha,e);this.set1i("size",t.size,e);this.set3fv("color1",t.glcolor1,e);this.set3fv("color2",t.glcolor2,e);this.set2f("positionFrom",t.fromX,t.fromY,e);this.set2f("positionTo",t.toX,t.toY,e)}});t.exports=a},99636:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50831);var n=i(84057);var a=new r({Extends:n,initialize:function PixelateFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.amount=1},onPreRender:function(t,e,i,r){t=this.getController(t);this.set1f("amount",t.amount,e);if(i&&r){this.set2f("resolution",i,r,e)}},onDraw:function(t){this.set2f("resolution",t.width,t.height);this.bindAndDraw(t)}});t.exports=a},34700:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(92595);var n=i(84057);var a=new r({Extends:n,initialize:function ShadowFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.x=0;this.y=0;this.decay=.1;this.power=1;this.glcolor=[0,0,0,1];this.samples=6;this.intensity=1},onPreRender:function(t,e){t=this.getController(t);var i=t.samples;this.set1i("samples",i,e);this.set1f("intensity",t.intensity,e);this.set1f("decay",t.decay,e);this.set1f("power",t.power/i,e);this.set2f("lightPosition",t.x,t.y,e);this.set4fv("color",t.glcolor,e)}});t.exports=a},91157:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(72464);var n=i(84057);var a=new r({Extends:n,initialize:function ShineFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.speed=.5;this.lineWidth=.5;this.gradient=3;this.reveal=false},onPreRender:function(t,e,i,r){t=this.getController(t);this.setTime("time",e);this.set1f("speed",t.speed,e);this.set1f("lineWidth",t.lineWidth,e);this.set1f("gradient",t.gradient,e);this.setBoolean("reveal",t.reveal,e);if(i&&r){this.set2f("resolution",i,r,e)}},onDraw:function(t){this.set2f("resolution",t.width,t.height);this.bindAndDraw(t)}});t.exports=a},27797:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(39249);var n=i(84057);var a=new r({Extends:n,initialize:function VignetteFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.x=.5;this.y=.5;this.radius=.5;this.strength=.5},onPreRender:function(t,e){t=this.getController(t);this.set1f("radius",t.radius,e);this.set1f("strength",t.strength,e);this.set2f("position",t.x,t.y,e)}});t.exports=a},67603:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(2878);var n=i(84057);var a=new r({Extends:n,initialize:function WipeFXPipeline2(t){n.call(this,{game:t,fragShader:s});this.progress=0;this.wipeWidth=.1;this.direction=0;this.axis=0;this.reveal=false},onPreRender:function(t,e){t=this.getController(t);var i=t.progress;var r=t.wipeWidth;var s=t.direction;var n=t.axis;this.set4f("config",i,r,s,n,e);this.setBoolean("reveal",t.reveal,e)}});t.exports=a},58918:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};t.exports=r},96615:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(36060);var s=i(79291);var n={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};n=s(false,n,r);t.exports=n},35407:t=>{t.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:t=>{t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:t=>{t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:t=>{t.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:t=>{t.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:t=>{t.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:t=>{t.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:t=>{t.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:t=>{t.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:t=>{t.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:t=>{t.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:t=>{t.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:t=>{t.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:t=>{t.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:t=>{t.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:t=>{t.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:t=>{t.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:t=>{t.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:t=>{t.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:t=>{t.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:t=>{t.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:t=>{t.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:t=>{t.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:t=>{t.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:t=>{t.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:t=>{t.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:t=>{t.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:t=>{t.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:t=>{t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:t=>{t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:t=>{t.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:t=>{t.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:t=>{t.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:t=>{t.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@photonstorm.com>
               * @copyright    2013-2023 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function WebGLAttribLocationWrapper2(t,e,i){this.webGLAttribLocation=-1;this.gl=t;this.program=e;this.name=i;this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var t=this.gl;if(t.isContextLost()){return}this.webGLAttribLocation=t.getAttribLocation(this.program.webGLProgram,this.name)},destroy:function(){this.gl=null;this.program=null;this.name=null;this.webGLAttribLocation=-1}});t.exports=s},26128:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function WebGLBufferWrapper2(t,e,i,r){this.webGLBuffer=null;this.gl=t;this.initialDataOrSize=e;this.bufferType=i;this.bufferUsage=r;this.createResource()},createResource:function(){if(this.initialDataOrSize===null){return}var t=this.gl;if(t.isContextLost()){return}var e=this.bufferType;var i=t.createBuffer();this.webGLBuffer=i;t.bindBuffer(e,this.webGLBuffer);t.bufferData(e,this.initialDataOrSize,this.bufferUsage);t.bindBuffer(e,null)},destroy:function(){var t=this.gl;if(!t.isContextLost()){t.deleteBuffer(this.webGLBuffer)}this.webGLBuffer=null;this.initialDataOrSize=null;this.gl=null}});t.exports=s},84387:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};var n=new r({initialize:function WebGLFramebufferWrapper2(t,e,i,r,s){this.webGLFramebuffer=null;this.gl=t;this.width=e;this.height=i;this.renderTexture=r;this.addDepthStencilBuffer=!!s;this.createResource()},createResource:function(){var t=this.gl;if(t.isContextLost()){return}var e=this.renderTexture;var i=0;var r=t.createFramebuffer();this.webGLFramebuffer=r;t.bindFramebuffer(t.FRAMEBUFFER,r);e.isRenderTexture=true;e.isAlphaPremultiplied=false;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.webGLTexture,0);i=t.checkFramebufferStatus(t.FRAMEBUFFER);if(i!==t.FRAMEBUFFER_COMPLETE){throw new Error("Framebuffer status: "+(s[i]||i))}if(this.addDepthStencilBuffer){var n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n);t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n)}t.bindFramebuffer(t.FRAMEBUFFER,null)},destroy:function(){if(this.webGLFramebuffer===null){return}var t=this.gl;if(!t.isContextLost()){t.bindFramebuffer(t.FRAMEBUFFER,this.webGLFramebuffer);var e=t.getFramebufferAttachmentParameter(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);if(e!==null){t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0);t.deleteTexture(e)}var i=t.getFramebufferAttachmentParameter(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);if(i!==null){t.deleteRenderbuffer(i)}t.bindFramebuffer(t.FRAMEBUFFER,null);t.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null;this.webGLFramebuffer=null;this.gl=null}});t.exports=n},1482:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function WebGLProgramWrapper2(t,e,i){this.webGLProgram=null;this.gl=t;this.vertexSource=e;this.fragmentSource=i;this.createResource()},createResource:function(){var t=this.gl;if(t.isContextLost()){return}var e=t.createProgram();var i=t.createShader(t.VERTEX_SHADER);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,this.vertexSource);t.shaderSource(r,this.fragmentSource);t.compileShader(i);t.compileShader(r);var s="Shader failed:\n";if(!t.getShaderParameter(i,t.COMPILE_STATUS)){throw new Error("Vertex "+s+t.getShaderInfoLog(i))}if(!t.getShaderParameter(r,t.COMPILE_STATUS)){throw new Error("Fragment "+s+t.getShaderInfoLog(r))}t.attachShader(e,i);t.attachShader(e,r);t.linkProgram(e);if(!t.getProgramParameter(e,t.LINK_STATUS)){throw new Error("Link "+s+t.getProgramInfoLog(e))}t.useProgram(e);this.webGLProgram=e},destroy:function(){if(!this.webGLProgram){return}if(!this.gl.isContextLost()){this.gl.deleteProgram(this.webGLProgram)}this.webGLProgram=null;this.gl=null}});t.exports=s},82751:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50030);var n=new r({initialize:function WebGLTextureWrapper2(t,e,i,r,s,n,a,o,l,h,u,c,f){this.webGLTexture=null;this.isRenderTexture=false;this.gl=t;this.mipLevel=e;this.minFilter=i;this.magFilter=r;this.wrapT=s;this.wrapS=n;this.format=a;this.pixels=o;this.width=l;this.height=h;this.pma=u===void 0||u===null?true:u;this.forceSize=!!c;this.flipY=!!f;this.__SPECTOR_Metadata={};this.createResource()},createResource:function(){var t=this.gl;if(t.isContextLost()){return}if(this.pixels instanceof n){this.webGLTexture=this.pixels.webGLTexture;return}var e=t.createTexture();e.__SPECTOR_Metadata=this.__SPECTOR_Metadata;this.webGLTexture=e;this._processTexture()},update:function(t,e,i,r,s,n,a,o,l){if(e===0||i===0){return}this.pixels=t;this.width=e;this.height=i;this.flipY=r;this.wrapS=s;this.wrapT=n;this.minFilter=a;this.magFilter=o;this.format=l;var h=this.gl;if(h.isContextLost()){return}this._processTexture()},_processTexture:function(){var t=this.gl;t.activeTexture(t.TEXTURE0);var e=t.getParameter(t.TEXTURE_BINDING_2D);t.bindTexture(t.TEXTURE_2D,this.webGLTexture);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.minFilter);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.magFilter);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.wrapS);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.wrapT);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels;var r=this.mipLevel;var n=this.width;var a=this.height;var o=this.format;var l=false;if(i===null||i===void 0){t.texImage2D(t.TEXTURE_2D,r,o,n,a,0,o,t.UNSIGNED_BYTE,null);l=s(n,a)}else if(i.compressed){n=i.width;a=i.height;l=i.generateMipmap;for(var h=0;h<i.mipmaps.length;h++){t.compressedTexImage2D(t.TEXTURE_2D,h,i.internalFormat,i.mipmaps[h].width,i.mipmaps[h].height,0,i.mipmaps[h].data)}}else if(i instanceof Uint8Array){t.texImage2D(t.TEXTURE_2D,r,o,n,a,0,o,t.UNSIGNED_BYTE,i);l=s(n,a)}else{if(!this.forceSize){n=i.width;a=i.height}t.texImage2D(t.TEXTURE_2D,r,o,o,t.UNSIGNED_BYTE,i);l=s(n,a)}if(l){t.generateMipmap(t.TEXTURE_2D)}if(e){t.bindTexture(t.TEXTURE_2D,e)}else{t.bindTexture(t.TEXTURE_2D,null)}},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(t){this.__SPECTOR_Metadata=t;if(!this.gl.isContextLost()){this.webGLTexture.__SPECTOR_Metadata=t}}},destroy:function(){if(this.webGLTexture===null){return}if(!this.gl.isContextLost()){if(!(this.pixels instanceof n)){this.gl.deleteTexture(this.webGLTexture)}}this.pixels=null;this.webGLTexture=null;this.gl=null}});t.exports=n},57183:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function WebGLUniformLocationWrapper2(t,e,i){this.webGLUniformLocation=null;this.gl=t;this.program=e;this.name=i;this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var t=this.gl;if(t.isContextLost()){return}this.webGLUniformLocation=t.getUniformLocation(this.program.webGLProgram,this.name)},destroy:function(){this.gl=null;this.program=null;this.name=null;this.webGLUniformLocation=null}});t.exports=s},9503:(t,e,i)=>{
/**
               * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};t.exports=r},76531:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(13560);var s=i(83419);var n=i(50792);var a=i(97480);var o=i(8443);var l=i(57811);var h=i(74403);var u=i(45818);var c=i(29747);var f=i(87841);var d=i(86555);var v=i(56583);var p=i(26099);var g=i(38058);var m=new s({Extends:n,initialize:function ScaleManager2(t){n.call(this);this.game=t;this.canvas;this.canvasBounds=new f;this.parent=null;this.parentIsWindow=false;this.parentSize=new d;this.gameSize=new d;this.baseSize=new d;this.displaySize=new d;this.scaleMode=r.SCALE_MODE.NONE;this.zoom=1;this._resetZoom=false;this.displayScale=new p(1,1);this.autoRound=false;this.autoCenter=r.CENTER.NO_CENTER;this.orientation=r.ORIENTATION.LANDSCAPE;this.fullscreen;this.fullscreenTarget=null;this._createdFullscreenTarget=false;this.dirty=false;this.resizeInterval=500;this._lastCheck=0;this._checkOrientation=false;this.domlisteners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config);this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas;this.fullscreen=t.device.fullscreen;var e=this.scaleMode;if(e!==r.SCALE_MODE.RESIZE&&e!==r.SCALE_MODE.EXPAND){this.displaySize.setAspectMode(e)}if(e===r.SCALE_MODE.NONE){this.resize(this.width,this.height)}else{this.getParentBounds();if(this.parentSize.width>0&&this.parentSize.height>0){this.displaySize.setParent(this.parentSize)}this.refresh()}t.events.on(o.PRE_STEP,this.step,this);t.events.once(o.READY,this.refresh,this);t.events.once(o.DESTROY,this.destroy,this);this.startListeners()},parseConfig:function(t){this.getParent(t);this.getParentBounds();var e=t.width;var i=t.height;var s=t.scaleMode;var n=t.zoom;var a=t.autoRound;if(typeof e==="string"){if(e.substr(-1)!=="%"){e=parseInt(e,10)}else{var o=this.parentSize.width;if(o===0){o=window.innerWidth}var l=parseInt(e,10)/100;e=Math.floor(o*l)}}if(typeof i==="string"){if(i.substr(-1)!=="%"){i=parseInt(i,10)}else{var h=this.parentSize.height;if(h===0){h=window.innerHeight}var c=parseInt(i,10)/100;i=Math.floor(h*c)}}this.scaleMode=s;this.autoRound=a;this.autoCenter=t.autoCenter;this.resizeInterval=t.resizeInterval;if(a){e=Math.floor(e);i=Math.floor(i)}this.gameSize.setSize(e,i);if(n===r.ZOOM.MAX_ZOOM){n=this.getMaxZoom()}this.zoom=n;if(n!==1){this._resetZoom=true}this.baseSize.setSize(e,i);if(a){this.baseSize.width=Math.floor(this.baseSize.width);this.baseSize.height=Math.floor(this.baseSize.height)}if(t.minWidth>0){this.displaySize.setMin(t.minWidth*n,t.minHeight*n)}if(t.maxWidth>0){this.displaySize.setMax(t.maxWidth*n,t.maxHeight*n)}this.displaySize.setSize(e,i);if(t.snapWidth>0||t.snapHeight>0){this.displaySize.setSnap(t.snapWidth,t.snapHeight)}this.orientation=u(e,i)},getParent:function(t){var e=t.parent;if(e===null){return}this.parent=h(e);this.parentIsWindow=this.parent===document.body;if(t.expandParent&&t.scaleMode!==r.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();if(this.parentIsWindow||i.height===0){document.documentElement.style.height="100%";document.body.style.height="100%";i=this.parent.getBoundingClientRect();if(!this.parentIsWindow&&i.height===0){this.parent.style.overflow="hidden";this.parent.style.width="100%";this.parent.style.height="100%"}}}if(t.fullscreenTarget&&!this.fullscreenTarget){this.fullscreenTarget=h(t.fullscreenTarget)}},getParentBounds:function(){if(!this.parent){return false}var t=this.parentSize;var e=this.parent.getBoundingClientRect();if(this.parentIsWindow&&this.game.device.os.iOS){e.height=l(true)}var i=e.width;var r=e.height;if(t.width!==i||t.height!==r){t.setSize(i,r);return true}else if(this.canvas){var s=this.canvasBounds;var n=this.canvas.getBoundingClientRect();if(n.x!==s.x||n.y!==s.y){return true}}return false},lockOrientation:function(t){var e=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;if(e){return e.call(screen,t)}return false},setParentSize:function(t,e){this.parentSize.setSize(t,e);return this.refresh()},setGameSize:function(t,e){var i=this.autoRound;if(i){t=Math.floor(t);e=Math.floor(e)}var r=this.width;var s=this.height;this.gameSize.resize(t,e);this.baseSize.resize(t,e);if(i){this.baseSize.width=Math.floor(this.baseSize.width);this.baseSize.height=Math.floor(this.baseSize.height)}this.displaySize.setAspectRatio(t/e);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;return this.refresh(r,s)},resize:function(t,e){var i=this.zoom;var r=this.autoRound;if(r){t=Math.floor(t);e=Math.floor(e)}var s=this.width;var n=this.height;this.gameSize.resize(t,e);this.baseSize.resize(t,e);if(r){this.baseSize.width=Math.floor(this.baseSize.width);this.baseSize.height=Math.floor(this.baseSize.height)}this.displaySize.setSize(t*i,e*i);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;var a=this.canvas.style;var o=t*i;var l=e*i;if(r){o=Math.floor(o);l=Math.floor(l)}if(o!==t||l!==e){a.width=o+"px";a.height=l+"px"}return this.refresh(s,n)},setZoom:function(t){this.zoom=t;this._resetZoom=true;return this.refresh()},setMaxZoom:function(){this.zoom=this.getMaxZoom();this._resetZoom=true;return this.refresh()},setSnap:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.displaySize.setSnap(t,e);return this.refresh()},refresh:function(t,e){if(t===void 0){t=this.width}if(e===void 0){e=this.height}this.updateScale();this.updateBounds();this.updateOrientation();this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var r=this.canvas.style;var s=i.style;s.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")";s.marginLeft=r.marginLeft;s.marginTop=r.marginTop}this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,t,e);return this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=false;var t=u(this.width,this.height);if(t!==this.orientation){this.orientation=t;this.emit(a.ORIENTATION_CHANGE,t)}}},updateScale:function(){var t=this.canvas.style;var e=this.gameSize.width;var i=this.gameSize.height;var s;var n;var a=this.zoom;var o=this.autoRound;if(this.scaleMode===r.SCALE_MODE.NONE){this.displaySize.setSize(e*a,i*a);s=this.displaySize.width;n=this.displaySize.height;if(o){s=Math.floor(s);n=Math.floor(n)}if(this._resetZoom){t.width=s+"px";t.height=n+"px";this._resetZoom=false}}else if(this.scaleMode===r.SCALE_MODE.RESIZE){this.displaySize.setSize(this.parentSize.width,this.parentSize.height);this.gameSize.setSize(this.displaySize.width,this.displaySize.height);this.baseSize.setSize(this.displaySize.width,this.displaySize.height);s=this.displaySize.width;n=this.displaySize.height;if(o){s=Math.floor(s);n=Math.floor(n)}this.canvas.width=s;this.canvas.height=n}else if(this.scaleMode===r.SCALE_MODE.EXPAND){var l=this.game.config.width;var h=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height);s=this.displaySize.width;n=this.displaySize.height;if(o){s=Math.floor(s);n=Math.floor(n)}t.width=s+"px";t.height=n+"px";var u=this.parentSize.width/l;var c=this.parentSize.height/h;if(u<c&&u!==0){this.baseSize.setSize(l,this.parentSize.height/u)}else if(c!==0){this.baseSize.setSize(this.displaySize.width/c,h)}this.gameSize.setSize(this.baseSize.width,this.baseSize.height);s=this.baseSize.width;n=this.baseSize.height;if(o){s=Math.floor(s);n=Math.floor(n)}this.canvas.width=s;this.canvas.height=n}else{this.displaySize.setSize(this.parentSize.width,this.parentSize.height);s=this.displaySize.width;n=this.displaySize.height;if(o){s=Math.floor(s);n=Math.floor(n)}t.width=s+"px";t.height=n+"px"}this.getParentBounds();this.updateCenter()},getMaxZoom:function(){var t=v(this.parentSize.width,this.gameSize.width,0,true);var e=v(this.parentSize.height,this.gameSize.height,0,true);return Math.max(Math.min(t,e),1)},updateCenter:function(){var t=this.autoCenter;if(t===r.CENTER.NO_CENTER){return}var e=this.canvas;var i=e.style;var s=e.getBoundingClientRect();var n=s.width;var a=s.height;var o=Math.floor((this.parentSize.width-n)/2);var l=Math.floor((this.parentSize.height-a)/2);if(t===r.CENTER.CENTER_HORIZONTALLY){l=0}else if(t===r.CENTER.CENTER_VERTICALLY){o=0}i.marginLeft=o+"px";i.marginTop=l+"px"},updateBounds:function(){var t=this.canvasBounds;var e=this.canvas.getBoundingClientRect();t.x=e.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0);t.y=e.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0);t.width=e.width;t.height=e.height},transformX:function(t){return(t-this.canvasBounds.left)*this.displayScale.x},transformY:function(t){return(t-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(t){if(t===void 0){t={navigationUI:"hide"}}var e=this.fullscreen;if(!e.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!e.active){var i=this.getFullscreenTarget();if(e.keyboard){i[e.request](Element.ALLOW_KEYBOARD_INPUT)}else{i[e.request](t)}}},fullscreenSuccessHandler:function(){this.getParentBounds();this.refresh();this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(t){this.removeFullscreenTarget();this.emit(a.FULLSCREEN_FAILED,t)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var t=document.createElement("div");t.style.margin="0";t.style.padding="0";t.style.width="100%";t.style.height="100%";this.fullscreenTarget=t;this._createdFullscreenTarget=true}if(this._createdFullscreenTarget){var e=this.canvas.parentNode;e.insertBefore(this.fullscreenTarget,this.canvas);this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var t=this.fullscreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.canvas,t);e.removeChild(t)}}},stopFullscreen:function(){var t=this.fullscreen;if(!t.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return false}if(t.active){document[t.cancel]()}this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds();this.emit(a.LEAVE_FULLSCREEN);this.refresh()},toggleFullscreen:function(t){if(this.fullscreen.active){this.stopFullscreen()}else{this.startFullscreen(t)}},startListeners:function(){var t=this;var e=this.domlisteners;e.orientationChange=function(){t.updateBounds();t._checkOrientation=true;t.dirty=true;t.refresh()};e.windowResize=function(){t.updateBounds();t.dirty=true};if(screen.orientation&&screen.orientation.addEventListener){screen.orientation.addEventListener("change",e.orientationChange,false)}else{window.addEventListener("orientationchange",e.orientationChange,false)}window.addEventListener("resize",e.windowResize,false);if(this.fullscreen.available){e.fullScreenChange=function(e){return t.onFullScreenChange(e)};e.fullScreenError=function(e){return t.onFullScreenError(e)};var i=["webkit","moz",""];i.forEach((function(t){document.addEventListener(t+"fullscreenchange",e.fullScreenChange,false);document.addEventListener(t+"fullscreenerror",e.fullScreenError,false)}));document.addEventListener("MSFullscreenChange",e.fullScreenChange,false);document.addEventListener("MSFullscreenError",e.fullScreenError,false)}},onFullScreenChange:function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement){this.fullscreenSuccessHandler()}else{this.stopFullscreen();this.leaveFullScreenSuccessHandler()}},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(t,e){if(!(t instanceof g)){e=t;t=void 0}if(e===void 0){e=new f}var i=this.baseSize;var r=this.parentSize;var s=this.canvasBounds;var n=this.displayScale;var a=s.x>=0?0:-(s.x*n.x);var o=s.y>=0?0:-(s.y*n.y);var l;if(r.width>=s.width){l=i.width}else{l=i.width-(s.width-r.width)*n.x}var h;if(r.height>=s.height){h=i.height}else{h=i.height-(s.height-r.height)*n.y}e.setTo(a,o,l,h);if(t){e.width/=t.zoomX;e.height/=t.zoomY;e.centerX=t.centerX+t.scrollX;e.centerY=t.centerY+t.scrollY}return e},step:function(t,e){if(!this.parent){return}this._lastCheck+=e;if(this.dirty||this._lastCheck>this.resizeInterval){if(this.getParentBounds()){this.refresh()}this.dirty=false;this._lastCheck=0}},stopListeners:function(){var t=this.domlisteners;if(screen.orientation&&screen.orientation.addEventListener){screen.orientation.removeEventListener("change",t.orientationChange,false)}else{window.removeEventListener("orientationchange",t.orientationChange,false)}window.removeEventListener("resize",t.windowResize,false);var e=["webkit","moz",""];e.forEach((function(e){document.removeEventListener(e+"fullscreenchange",t.fullScreenChange,false);document.removeEventListener(e+"fullscreenerror",t.fullScreenError,false)}));document.removeEventListener("MSFullscreenChange",t.fullScreenChange,false);document.removeEventListener("MSFullscreenError",t.fullScreenError,false)},destroy:function(){this.removeAllListeners();this.stopListeners();this.game=null;this.canvas=null;this.canvasBounds=null;this.parent=null;this.fullscreenTarget=null;this.parentSize.destroy();this.gameSize.destroy();this.baseSize.destroy();this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===r.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===r.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});t.exports=m},64743:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};t.exports=r},56139:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="enterfullscreen"},2336:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="fullscreenfailed"},47412:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="fullscreenunsupported"},51452:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="leavefullscreen"},20666:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="orientationchange"},47945:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resize"},97480:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var s=i(13560);var n={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};n=r(false,n,s.CENTER);n=r(false,n,s.ORIENTATION);n=r(false,n,s.SCALE_MODE);n=r(false,n,s.ZOOM);t.exports=n},27397:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var s=i(35355);var GetPhysicsPlugins=function(t){var e=t.game.config.defaultPhysicsSystem;var i=r(t.settings,"physics",false);if(!e&&!i){return}var n=[];if(e){n.push(s(e+"Physics"))}if(i){for(var a in i){a=s(a.concat("Physics"));if(n.indexOf(a)===-1){n.push(a)}}}return n};t.exports=GetPhysicsPlugins},52106:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var GetScenePlugins=function(t){var e=t.plugins.getDefaultScenePlugins();var i=r(t.settings,"plugins",false);if(Array.isArray(i)){return i}else if(e){return e}else{return[]}};t.exports=GetScenePlugins},87033:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};t.exports=e},97482:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(2368);var n=new r({initialize:function Scene2(t){this.sys=new s(this,t);this.game;this.anims;this.cache;this.registry;this.sound;this.textures;this.events;this.cameras;this.add;this.make;this.scene;this.children;this.lights;this.data;this.input;this.load;this.time;this.tweens;this.physics;this.matter;this.scale;this.plugins;this.renderer},update:function(){}});t.exports=n},60903:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(89993);var n=i(44594);var a=i(8443);var o=i(35154);var l=i(54899);var h=i(29747);var u=i(97482);var c=i(2368);var f=new r({initialize:function SceneManager2(t,e){this.game=t;this.keys={};this.scenes=[];this._pending=[];this._start=[];this._queue=[];this._data={};this.isProcessing=false;this.isBooted=false;this.customViewports=0;this.systemScene;if(e){if(!Array.isArray(e)){e=[e]}for(var i=0;i<e.length;i++){this._pending.push({key:"default",scene:e[i],autoStart:i===0,data:{}})}}t.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(this.isBooted){return}this.systemScene=this.createSceneFromInstance("__SYSTEM",new u);this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var t;var e;var i;var r;for(t=0;t<this._pending.length;t++){e=this._pending[t];i=e.key;r=e.scene;var s;if(r instanceof u){s=this.createSceneFromInstance(i,r)}else if(typeof r==="object"){s=this.createSceneFromObject(i,r)}else if(typeof r==="function"){s=this.createSceneFromFunction(i,r)}i=s.sys.settings.key;this.keys[i]=s;this.scenes.push(s);if(this._data[i]){s.sys.settings.data=this._data[i].data;if(this._data[i].autoStart){e.autoStart=true}}if(e.autoStart||s.sys.settings.active){this._start.push(i)}}this._pending.length=0;this._data={};this.isBooted=true;for(t=0;t<this._start.length;t++){e=this._start[t];this.start(e)}this._start.length=0},processQueue:function(){var t=this._pending.length;var e=this._queue.length;if(t===0&&e===0){return}var i;var r;if(t){for(i=0;i<t;i++){r=this._pending[i];this.add(r.key,r.scene,r.autoStart,r.data)}for(i=0;i<this._start.length;i++){r=this._start[i];this.start(r)}this._start.length=0;this._pending.length=0}for(i=0;i<this._queue.length;i++){r=this._queue[i];this[r.op](r.keyA,r.keyB,r.data)}this._queue.length=0},add:function(t,e,i,r){if(i===void 0){i=false}if(r===void 0){r={}}if(this.isProcessing||!this.isBooted){this._pending.push({key:t,scene:e,autoStart:i,data:r});if(!this.isBooted){this._data[t]={data:r}}return null}t=this.getKey(t,e);var s;if(e instanceof u){s=this.createSceneFromInstance(t,e)}else if(typeof e==="object"){e.key=t;s=this.createSceneFromObject(t,e)}else if(typeof e==="function"){s=this.createSceneFromFunction(t,e)}s.sys.settings.data=r;t=s.sys.settings.key;this.keys[t]=s;this.scenes.push(s);if(i||s.sys.settings.active){if(this._pending.length){this._start.push(t)}else{this.start(t)}}return s},remove:function(t){if(this.isProcessing){return this.queueOp("remove",t)}var e=this.getScene(t);if(!e||e.sys.isTransitioning()){return this}var i=this.scenes.indexOf(e);var r=e.sys.settings.key;if(i>-1){delete this.keys[r];this.scenes.splice(i,1);if(this._start.indexOf(r)>-1){i=this._start.indexOf(r);this._start.splice(i,1)}e.sys.destroy()}return this},bootScene:function(t){var e=t.sys;var i=e.settings;e.sceneUpdate=h;if(t.init){t.init.call(t,i.data);i.status=s.INIT;if(i.isTransition){e.events.emit(n.TRANSITION_INIT,i.transitionFrom,i.transitionDuration)}}var r;if(e.load){r=e.load;r.reset()}if(r&&t.preload){t.preload.call(t);i.status=s.LOADING;r.once(l.COMPLETE,this.loadComplete,this);r.start()}else{this.create(t)}},loadComplete:function(t){this.create(t.scene)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue();this.isProcessing=true;for(var i=this.scenes.length-1;i>=0;i--){var r=this.scenes[i].sys;if(r.settings.status>s.START&&r.settings.status<=s.RUNNING){r.step(t,e)}if(r.scenePlugin&&r.scenePlugin._target){r.scenePlugin.step(t,e)}}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;if(i.settings.visible&&i.settings.status>=s.LOADING&&i.settings.status<s.SLEEPING){i.render(t)}}this.isProcessing=false},create:function(t){var e=t.sys;var i=e.settings;if(t.create){i.status=s.CREATING;t.create.call(t,i.data);if(i.status===s.DESTROYED){return}}if(i.isTransition){e.events.emit(n.TRANSITION_START,i.transitionFrom,i.transitionDuration)}if(t.update){e.sceneUpdate=t.update}i.status=s.RUNNING;e.events.emit(n.CREATE,t)},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof u){var r=i.sys.settings.key;if(r!==""){t=r}if(this.keys.hasOwnProperty(t)){throw new Error("Cannot add Scene with duplicate key: "+t)}return this.createSceneFromInstance(t,i)}else{i.sys=new c(i);i.sys.settings.key=t;i.sys.init(this.game);return i}},createSceneFromInstance:function(t,e){var i=e.sys.settings.key;if(i===""){e.sys.settings.key=t}e.sys.init(this.game);return e},createSceneFromObject:function(t,e){var i=new u(e);var r=i.sys.settings.key;if(r!==""){t=r}else{i.sys.settings.key=t}i.sys.init(this.game);var s=["init","preload","create","update","render"];for(var n=0;n<s.length;n++){var a=o(e,s[n],null);if(a){i[s[n]]=a}}if(e.hasOwnProperty("extend")){for(var l in e.extend){if(!e.extend.hasOwnProperty(l)){continue}var h=e.extend[l];if(l==="data"&&i.hasOwnProperty("data")&&typeof h==="object"){i.data.merge(h)}else if(l!=="sys"){i[l]=h}}}return i},getKey:function(t,e){if(!t){t="default"}if(typeof e==="function"){return t}else if(e instanceof u){t=e.sys.settings.key}else if(typeof e==="object"&&e.hasOwnProperty("key")){t=e.key}if(this.keys.hasOwnProperty(t)){throw new Error("Cannot add Scene with duplicate key: "+t)}else{return t}},getScenes:function(t,e){if(t===void 0){t=true}if(e===void 0){e=false}var i=[];var r=this.scenes;for(var s=0;s<r.length;s++){var n=r[s];if(n&&(!t||t&&n.sys.isActive())){i.push(n)}}return e?i.reverse():i},getScene:function(t){if(typeof t==="string"){if(this.keys[t]){return this.keys[t]}}else{for(var e=0;e<this.scenes.length;e++){if(t===this.scenes[e]){return t}}}return null},isActive:function(t){var e=this.getScene(t);if(e){return e.sys.isActive()}return null},isPaused:function(t){var e=this.getScene(t);if(e){return e.sys.isPaused()}return null},isVisible:function(t){var e=this.getScene(t);if(e){return e.sys.isVisible()}return null},isSleeping:function(t){var e=this.getScene(t);if(e){return e.sys.isSleeping()}return null},pause:function(t,e){var i=this.getScene(t);if(i){i.sys.pause(e)}return this},resume:function(t,e){var i=this.getScene(t);if(i){i.sys.resume(e)}return this},sleep:function(t,e){var i=this.getScene(t);if(i&&!i.sys.isTransitioning()){i.sys.sleep(e)}return this},wake:function(t,e){var i=this.getScene(t);if(i){i.sys.wake(e)}return this},run:function(t,e){var i=this.getScene(t);if(!i){for(var r=0;r<this._pending.length;r++){if(this._pending[r].key===t){this.queueOp("start",t,e);break}}return this}if(i.sys.isSleeping()){i.sys.wake(e)}else if(i.sys.isPaused()){i.sys.resume(e)}else{this.start(t,e)}},start:function(t,e){if(!this.isBooted){this._data[t]={autoStart:true,data:e};return this}var i=this.getScene(t);if(!i){console.warn("Scene key not found: "+t);return this}var r=i.sys;var n=r.settings.status;if(n>=s.START&&n<=s.CREATING){return this}else if(n>=s.RUNNING&&n<=s.SLEEPING){r.shutdown();r.sceneUpdate=h;r.start(e)}else{r.sceneUpdate=h;r.start(e);var a;if(r.load){a=r.load}if(a&&r.settings.hasOwnProperty("pack")){a.reset();if(a.addPack({payload:r.settings.pack})){r.settings.status=s.LOADING;a.once(l.COMPLETE,this.payloadComplete,this);a.start();return this}}}this.bootScene(i);return this},stop:function(t,e){var i=this.getScene(t);if(i&&!i.sys.isTransitioning()&&i.sys.settings.status!==s.SHUTDOWN){var r=i.sys.load;if(r){r.off(l.COMPLETE,this.loadComplete,this);r.off(l.COMPLETE,this.payloadComplete,this)}i.sys.shutdown(e)}return this},switch:function(t,e,i){var r=this.getScene(t);var s=this.getScene(e);if(r&&s&&r!==s){this.sleep(t);if(this.isSleeping(e)){this.wake(e,i)}else{this.start(e,i)}}return this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing){return this.queueOp("bringToTop",t)}var e=this.getIndex(t);var i=this.scenes;if(e!==-1&&e<i.length){var r=this.getScene(t);i.splice(e,1);i.push(r)}return this},sendToBack:function(t){if(this.isProcessing){return this.queueOp("sendToBack",t)}var e=this.getIndex(t);if(e!==-1&&e>0){var i=this.getScene(t);this.scenes.splice(e,1);this.scenes.unshift(i)}return this},moveDown:function(t){if(this.isProcessing){return this.queueOp("moveDown",t)}var e=this.getIndex(t);if(e>0){var i=e-1;var r=this.getScene(t);var s=this.getAt(i);this.scenes[e]=s;this.scenes[i]=r}return this},moveUp:function(t){if(this.isProcessing){return this.queueOp("moveUp",t)}var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1;var r=this.getScene(t);var s=this.getAt(i);this.scenes[e]=s;this.scenes[i]=r}return this},moveAbove:function(t,e){if(t===e){return this}if(this.isProcessing){return this.queueOp("moveAbove",t,e)}var i=this.getIndex(t);var r=this.getIndex(e);if(i!==-1&&r!==-1&&r<i){var s=this.getAt(r);this.scenes.splice(r,1);this.scenes.splice(i+(r>i),0,s)}return this},moveBelow:function(t,e){if(t===e){return this}if(this.isProcessing){return this.queueOp("moveBelow",t,e)}var i=this.getIndex(t);var r=this.getIndex(e);if(i!==-1&&r!==-1&&r>i){var s=this.getAt(r);this.scenes.splice(r,1);if(i===0){this.scenes.unshift(s)}else{this.scenes.splice(i-(r<i),0,s)}}return this},queueOp:function(t,e,i,r){this._queue.push({op:t,keyA:e,keyB:i,data:r});return this},swapPosition:function(t,e){if(t===e){return this}if(this.isProcessing){return this.queueOp("swapPosition",t,e)}var i=this.getIndex(t);var r=this.getIndex(e);if(i!==r&&i!==-1&&r!==-1){var s=this.getAt(i);this.scenes[i]=this.scenes[r];this.scenes[r]=s}return this},dump:function(){var t=[];var e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"];for(var i=0;i<this.scenes.length;i++){var r=this.scenes[i].sys;var n=r.settings.visible&&(r.settings.status===s.RUNNING||r.settings.status===s.PAUSED)?"[*] ":"[-] ";n+=r.settings.key+" ("+e[r.settings.status]+")";t.push(n)}console.log(t.join("\n"))},destroy:function(){for(var t=0;t<this.scenes.length;t++){var e=this.scenes[t].sys;e.destroy()}this.systemScene.sys.destroy();this.update=h;this.scenes=[];this._pending=[];this._start=[];this._queue=[];this.game=null;this.systemScene=null}});t.exports=f},52209:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(44594);var a=i(95540);var o=i(37277);var l=new s({initialize:function ScenePlugin2(t){this.scene=t;this.systems=t.sys;this.settings=t.sys.settings;this.key=t.sys.settings.key;this.manager=t.sys.game.scene;this.transitionProgress=0;this._elapsed=0;this._target=null;this._duration=0;this._onUpdate;this._onUpdateScope;this._willSleep=false;this._willRemove=false;t.sys.events.once(n.BOOT,this.boot,this);t.sys.events.on(n.START,this.pluginStart,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null;this.systems.events.once(n.SHUTDOWN,this.shutdown,this)},start:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("stop",this.key);this.manager.queueOp("start",t,e);return this},restart:function(t){var e=this.key;this.manager.queueOp("stop",e);this.manager.queueOp("start",e,t);return this},transition:function(t){if(t===void 0){t={}}var e=a(t,"target",false);var i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i)){return false}var r=a(t,"duration",1e3);this._elapsed=0;this._target=i;this._duration=r;this._willSleep=a(t,"sleep",false);this._willRemove=a(t,"remove",false);var s=a(t,"onUpdate",null);if(s){this._onUpdate=s;this._onUpdateScope=a(t,"onUpdateScope",this.scene)}var o=a(t,"allowInput",false);this.settings.transitionAllowInput=o;var l=i.sys.settings;l.isTransition=true;l.transitionFrom=this.scene;l.transitionDuration=r;l.transitionAllowInput=o;if(a(t,"moveAbove",false)){this.manager.moveAbove(this.key,e)}else if(a(t,"moveBelow",false)){this.manager.moveBelow(this.key,e)}if(i.sys.isSleeping()){i.sys.wake(a(t,"data"))}else{this.manager.start(e,a(t,"data"))}var h=a(t,"onStart",null);var u=a(t,"onStartScope",this.scene);if(h){h.call(u,this.scene,i,r)}this.systems.events.emit(n.TRANSITION_OUT,i,r);return true},checkValidTransition:function(t){if(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning()){return false}return true},step:function(t,e){this._elapsed+=e;this.transitionProgress=r(this._elapsed/this._duration,0,1);if(this._onUpdate){this._onUpdate.call(this._onUpdateScope,this.transitionProgress)}if(this._elapsed>=this._duration){this.transitionComplete()}},transitionComplete:function(){var t=this._target.sys;var e=this._target.sys.settings;t.events.emit(n.TRANSITION_COMPLETE,this.scene);e.isTransition=false;e.transitionFrom=null;this._duration=0;this._target=null;this._onUpdate=null;this._onUpdateScope=null;if(this._willRemove){this.manager.remove(this.key)}else if(this._willSleep){this.systems.sleep()}else{this.manager.stop(this.key)}},add:function(t,e,i,r){return this.manager.add(t,e,i,r)},launch:function(t,e){if(t&&t!==this.key){this.manager.queueOp("start",t,e)}return this},run:function(t,e){if(t&&t!==this.key){this.manager.queueOp("run",t,e)}return this},pause:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("pause",t,e);return this},resume:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("resume",t,e);return this},sleep:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("sleep",t,e);return this},wake:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("wake",t,e);return this},switch:function(t,e){if(t!==this.key){this.manager.queueOp("switch",this.key,t,e)}return this},stop:function(t,e){if(t===void 0){t=this.key}this.manager.queueOp("stop",t,e);return this},setActive:function(t,e,i){if(e===void 0){e=this.key}var r=this.manager.getScene(e);if(r){r.sys.setActive(t,i)}return this},setVisible:function(t,e){if(e===void 0){e=this.key}var i=this.manager.getScene(e);if(i){i.sys.setVisible(t)}return this},isSleeping:function(t){if(t===void 0){t=this.key}return this.manager.isSleeping(t)},isActive:function(t){if(t===void 0){t=this.key}return this.manager.isActive(t)},isPaused:function(t){if(t===void 0){t=this.key}return this.manager.isPaused(t)},isVisible:function(t){if(t===void 0){t=this.key}return this.manager.isVisible(t)},swapPosition:function(t,e){if(e===void 0){e=this.key}if(t!==e){this.manager.swapPosition(t,e)}return this},moveAbove:function(t,e){if(e===void 0){e=this.key}if(t!==e){this.manager.moveAbove(t,e)}return this},moveBelow:function(t,e){if(e===void 0){e=this.key}if(t!==e){this.manager.moveBelow(t,e)}return this},remove:function(t){if(t===void 0){t=this.key}this.manager.remove(t);return this},moveUp:function(t){if(t===void 0){t=this.key}this.manager.moveUp(t);return this},moveDown:function(t){if(t===void 0){t=this.key}this.manager.moveDown(t);return this},bringToTop:function(t){if(t===void 0){t=this.key}this.manager.bringToTop(t);return this},sendToBack:function(t){if(t===void 0){t=this.key}this.manager.sendToBack(t);return this},get:function(t){return this.manager.getScene(t)},getStatus:function(t){var e=this.manager.getScene(t);if(e){return e.sys.getStatus()}},getIndex:function(t){if(t===void 0){t=this.key}return this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(n.SHUTDOWN,this.shutdown,this);t.off(n.TRANSITION_OUT)},destroy:function(){this.shutdown();this.scene.sys.events.off(n.START,this.start,this);this.scene=null;this.systems=null;this.settings=null;this.manager=null}});o.register("ScenePlugin",l,"scenePlugin");t.exports=l},55681:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(89993);var s=i(35154);var n=i(46975);var a=i(87033);var o={create:function(t){if(typeof t==="string"){t={key:t}}else if(t===void 0){t={}}return{status:r.PENDING,key:s(t,"key",""),active:s(t,"active",false),visible:s(t,"visible",true),isBooted:false,isTransition:false,transitionFrom:null,transitionDuration:0,transitionAllowInput:true,data:{},pack:s(t,"pack",false),cameras:s(t,"cameras",null),map:s(t,"map",n(a,s(t,"mapAdd",{}))),physics:s(t,"physics",{}),loader:s(t,"loader",{}),plugins:s(t,"plugins",false),input:s(t,"input",{})}}};t.exports=o},2368:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(89993);var n=i(42363);var a=i(44594);var o=i(27397);var l=i(52106);var h=i(29747);var u=i(55681);var c=new r({initialize:function Systems2(t,e){this.scene=t;this.game;this.renderer;this.config=e;this.settings=u.create(e);this.canvas;this.context;this.anims;this.cache;this.plugins;this.registry;this.scale;this.sound;this.textures;this.add;this.cameras;this.displayList;this.events;this.make;this.scenePlugin;this.updateList;this.sceneUpdate=h},init:function(t){this.settings.status=s.INIT;this.sceneUpdate=h;this.game=t;this.renderer=t.renderer;this.canvas=t.canvas;this.context=t.context;var e=t.plugins;this.plugins=e;e.addToScene(this,n.Global,[n.CoreScene,l(this),o(this)]);this.events.emit(a.BOOT,this);this.settings.isBooted=true},step:function(t,e){var i=this.events;i.emit(a.PRE_UPDATE,t,e);i.emit(a.UPDATE,t,e);this.sceneUpdate.call(this.scene,t,e);i.emit(a.POST_UPDATE,t,e)},render:function(t){var e=this.displayList;e.depthSort();this.events.emit(a.PRE_RENDER,t);this.cameras.render(t,e);this.events.emit(a.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){var e=this.settings;var i=this.getStatus();if(i!==s.CREATING&&i!==s.RUNNING){console.warn("Cannot pause non-running Scene",e.key)}else if(this.settings.active){e.status=s.PAUSED;e.active=false;this.events.emit(a.PAUSE,this,t)}return this},resume:function(t){var e=this.events;var i=this.settings;if(!this.settings.active){i.status=s.RUNNING;i.active=true;e.emit(a.RESUME,this,t)}return this},sleep:function(t){var e=this.settings;var i=this.getStatus();if(i!==s.CREATING&&i!==s.RUNNING){console.warn("Cannot sleep non-running Scene",e.key)}else{e.status=s.SLEEPING;e.active=false;e.visible=false;this.events.emit(a.SLEEP,this,t)}return this},wake:function(t){var e=this.events;var i=this.settings;i.status=s.RUNNING;i.active=true;i.visible=true;e.emit(a.WAKE,this,t);if(i.isTransition){e.emit(a.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration)}return this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var t=this.settings.status;return t>s.PENDING&&t<=s.RUNNING},isSleeping:function(){return this.settings.status===s.SLEEPING},isActive:function(){return this.settings.status===s.RUNNING},isPaused:function(){return this.settings.status===s.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){this.settings.visible=t;return this},setActive:function(t,e){if(t){return this.resume(e)}else{return this.pause(e)}},start:function(t){var e=this.events;var i=this.settings;if(t){i.data=t}i.status=s.START;i.active=true;i.visible=true;e.emit(a.START,this);e.emit(a.READY,this,t)},shutdown:function(t){var e=this.events;var i=this.settings;e.off(a.TRANSITION_INIT);e.off(a.TRANSITION_START);e.off(a.TRANSITION_COMPLETE);e.off(a.TRANSITION_OUT);i.status=s.SHUTDOWN;i.active=false;i.visible=false;e.emit(a.SHUTDOWN,this,t)},destroy:function(){var t=this.events;var e=this.settings;e.status=s.DESTROYED;e.active=false;e.visible=false;t.emit(a.DESTROY,this);t.removeAllListeners();var i=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"];for(var r=0;r<i.length;r++){this[i[r]]=null}}});t.exports=c},89993:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};t.exports=e},69830:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="addedtoscene"},7919:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="boot"},46763:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="create"},11763:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},71555:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},36735:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="postupdate"},3809:t=>{
/**
               * @author       samme
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="prerender"},90716:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="preupdate"},58262:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="ready"},91633:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="removedfromscene"},10319:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="render"},87132:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},81961:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="shutdown"},90194:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="sleep"},6265:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="start"},33178:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="transitioncomplete"},43063:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="transitioninit"},11259:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="transitionout"},61611:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="transitionstart"},45209:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="transitionwake"},22966:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="update"},21747:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="wake"},44594:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(89993);var s=i(79291);var n={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};n=s(false,n,r);t.exports=n},30341:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(14463);var a=i(79291);var o=i(29747);var l=new r({Extends:s,initialize:function BaseSound2(t,e,i){s.call(this);this.manager=t;this.key=e;this.isPlaying=false;this.isPaused=false;this.totalRate=1;this.duration=this.duration||0;this.totalDuration=this.totalDuration||0;this.config={mute:false,volume:1,rate:1,detune:0,seek:0,loop:false,delay:0,pan:0};this.currentConfig=this.config;this.config=a(this.config,i);this.markers={};this.currentMarker=null;this.pendingRemove=false},addMarker:function(t){if(!t||!t.name||typeof t.name!=="string"){return false}if(this.markers[t.name]){console.error("addMarker "+t.name+" already exists in Sound");return false}t=a(true,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:false,volume:1,rate:1,detune:0,seek:0,loop:false,delay:0,pan:0}},t);this.markers[t.name]=t;return true},updateMarker:function(t){if(!t||!t.name||typeof t.name!=="string"){return false}if(!this.markers[t.name]){console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key);return false}this.markers[t.name]=a(true,this.markers[t.name],t);return true},removeMarker:function(t){var e=this.markers[t];if(!e){return null}this.markers[t]=null;return e},play:function(t,e){if(t===void 0){t=""}if(typeof t==="object"){e=t;t=""}if(typeof t!=="string"){return false}if(!t){this.currentMarker=null;this.currentConfig=this.config;this.duration=this.totalDuration}else{if(!this.markers[t]){console.warn("Marker: "+t+" missing in Sound: "+this.key);return false}this.currentMarker=this.markers[t];this.currentConfig=this.currentMarker.config;this.duration=this.currentMarker.duration}this.resetConfig();this.currentConfig=a(this.currentConfig,e);this.isPlaying=true;this.isPaused=false;return true},pause:function(){if(this.isPaused||!this.isPlaying){return false}this.isPlaying=false;this.isPaused=true;return true},resume:function(){if(!this.isPaused||this.isPlaying){return false}this.isPlaying=true;this.isPaused=false;return true},stop:function(){if(!this.isPaused&&!this.isPlaying){return false}this.isPlaying=false;this.isPaused=false;this.resetConfig();return true},applyConfig:function(){this.mute=this.currentConfig.mute;this.volume=this.currentConfig.volume;this.rate=this.currentConfig.rate;this.detune=this.currentConfig.detune;this.loop=this.currentConfig.loop;this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0;this.currentConfig.delay=0},update:o,calculateRate:function(){var t=1.0005777895065548;var e=this.currentConfig.detune+this.manager.detune;var i=Math.pow(t,e);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){if(this.pendingRemove){return}this.stop();this.emit(n.DESTROY,this);this.removeAllListeners();this.pendingRemove=true;this.manager=null;this.config=null;this.currentConfig=null;this.markers=null;this.currentMarker=null}});t.exports=l},85034:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(41786);var n=i(50792);var a=i(14463);var o=i(8443);var l=i(46710);var h=i(58731);var u=i(29747);var c=i(26099);var f=new r({Extends:n,initialize:function BaseSoundManager2(t){n.call(this);this.game=t;this.jsonCache=t.cache.json;this.sounds=[];this.mute=false;this.volume=1;this.pauseOnBlur=true;this._rate=1;this._detune=0;this.locked=this.locked||false;this.unlocked=false;this.gameLostFocus=false;this.listenerPosition=new c;var e=t.events;e.on(o.BLUR,this.onGameBlur,this);e.on(o.FOCUS,this.onGameFocus,this);e.on(o.PRE_STEP,this.update,this);e.once(o.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(t,e){if(e===void 0){e={}}var i=this.add(t,e);i.spritemap=this.jsonCache.get(t).spritemap;for(var r in i.spritemap){if(!i.spritemap.hasOwnProperty(r)){continue}var n=s(e);var a=i.spritemap[r];n.loop=a.hasOwnProperty("loop")?a.loop:false;i.addMarker({name:r,start:a.start,duration:a.end-a.start,config:n})}return i},get:function(t){return h(this.sounds,"key",t)},getAll:function(t){if(t){return l(this.sounds,"key",t)}else{return l(this.sounds)}},getAllPlaying:function(){return l(this.sounds,"isPlaying",true)},play:function(t,e){var i=this.add(t);i.once(a.COMPLETE,i.destroy,i);if(e){if(e.name){i.addMarker(e);return i.play(e.name)}else{return i.play(e)}}else{return i.play()}},playAudioSprite:function(t,e,i){var r=this.addAudioSprite(t);r.once(a.COMPLETE,r.destroy,r);return r.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);if(e!==-1){t.destroy();this.sounds.splice(e,1);return true}return false},removeAll:function(){this.sounds.forEach((function(t){t.destroy()}));this.sounds.length=0},removeByKey:function(t){var e=0;for(var i=this.sounds.length-1;i>=0;i--){var r=this.sounds[i];if(r.key===t){r.destroy();this.sounds.splice(i,1);e++}}return e},pauseAll:function(){this.forEachActiveSound((function(t){t.pause()}));this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(t){t.resume()}));this.emit(a.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound((function(t){t.stop()}));this.emit(a.STOP_ALL,this)},stopByKey:function(t){var e=0;this.getAll(t).forEach((function(t){if(t.stop()){e++}}));return e},isPlaying:function(t){var e=this.sounds;var i=e.length-1;var r;if(t===void 0){for(;i>=0;i--){r=this.sounds[i];if(r.isPlaying){return true}}}else{for(;i>=0;i--){r=this.sounds[i];if(r.key===t&&r.isPlaying){return true}}}return false},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=true;if(this.pauseOnBlur){this.onBlur()}},onGameFocus:function(){this.gameLostFocus=false;if(this.pauseOnBlur){this.onFocus()}},update:function(t,e){if(this.unlocked){this.unlocked=false;this.locked=false;this.emit(a.UNLOCKED,this)}for(var i=this.sounds.length-1;i>=0;i--){if(this.sounds[i].pendingRemove){this.sounds.splice(i,1)}}this.sounds.forEach((function(i){i.update(t,e)}))},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this);this.game.events.off(o.FOCUS,this.onGameFocus,this);this.game.events.off(o.PRE_STEP,this.update,this);this.removeAllListeners();this.removeAll();this.sounds.length=0;this.sounds=null;this.listenerPosition=null;this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach((function(r,s){if(r&&!r.pendingRemove){t.call(e||i,r,s,i.sounds)}}))},setRate:function(t){this.rate=t;return this},rate:{get:function(){return this._rate},set:function(t){this._rate=t;this.forEachActiveSound((function(t){t.calculateRate()}));this.emit(a.GLOBAL_RATE,this,t)}},setDetune:function(t){this.detune=t;return this},detune:{get:function(){return this._detune},set:function(t){this._detune=t;this.forEachActiveSound((function(t){t.calculateRate()}));this.emit(a.GLOBAL_DETUNE,this,t)}}});t.exports=f},14747:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33684);var s=i(25960);var n=i(57490);var a={create:function(t){var e=t.config.audio;var i=t.device.audio;if(e.noAudio||!i.webAudio&&!i.audioData){return new s(t)}if(i.webAudio&&!e.disableWebAudio){return new n(t)}return new r(t)}};t.exports=a},19723:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},98882:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="decodedall"},57506:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="decoded"},73146:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="destroy"},11305:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="detune"},40577:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="detune"},30333:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="mute"},20394:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="rate"},21802:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="volume"},1299:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="looped"},99190:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="loop"},97125:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="mute"},89259:t=>{
/**
               * @author       pi-kei
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pan"},79986:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pauseall"},17586:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},19618:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="play"},42306:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="rate"},10387:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resumeall"},48959:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},9960:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="seek"},19180:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stopall"},98328:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stop"},50401:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="unlocked"},52498:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="volume"},14463:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30341);var s=i(83419);var n=i(14463);var a=i(45319);var o=new s({Extends:r,initialize:function HTML5AudioSound2(t,e,i){if(i===void 0){i={}}this.tags=t.game.cache.audio.get(e);if(!this.tags){throw new Error('No cached audio asset with key "'+e)}this.audio=null;this.startTime=0;this.previousTime=0;this.duration=this.tags[0].duration;this.totalDuration=this.tags[0].duration;r.call(this,t,e,i)},play:function(t,e){if(this.manager.isLocked(this,"play",[t,e])){return false}if(!r.prototype.play.call(this,t,e)){return false}if(!this.pickAndPlayAudioTag()){return false}this.emit(n.PLAY,this);return true},pause:function(){if(this.manager.isLocked(this,"pause")){return false}if(this.startTime>0){return false}if(!r.prototype.pause.call(this)){return false}this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.stopAndReleaseAudioTag();this.emit(n.PAUSE,this);return true},resume:function(){if(this.manager.isLocked(this,"resume")){return false}if(this.startTime>0){return false}if(!r.prototype.resume.call(this)){return false}if(!this.pickAndPlayAudioTag()){return false}this.emit(n.RESUME,this);return true},stop:function(){if(this.manager.isLocked(this,"stop")){return false}if(!r.prototype.stop.call(this)){return false}this.stopAndReleaseAudioTag();this.emit(n.STOP,this);return true},pickAndPlayAudioTag:function(){if(!this.pickAudioTag()){this.reset();return false}var t=this.currentConfig.seek;var e=this.currentConfig.delay;var i=(this.currentMarker?this.currentMarker.start:0)+t;this.previousTime=i;this.audio.currentTime=i;this.applyConfig();if(e===0){this.startTime=0;if(this.audio.paused){this.playCatchPromise()}}else{this.startTime=window.performance.now()+e*1e3;if(!this.audio.paused){this.audio.pause()}}this.resetConfig();return true},pickAudioTag:function(){if(this.audio){return true}for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if(e.dataset.used==="false"){e.dataset.used="true";this.audio=e;return true}}if(!this.manager.override){return false}var i=[];this.manager.forEachActiveSound((function(t){if(t.key===this.key&&t.audio){i.push(t)}}),this);i.sort((function(t,e){if(t.loop===e.loop){return e.seek/e.duration-t.seek/t.duration}return t.loop?1:-1}));var r=i[0];this.audio=r.audio;r.reset();r.audio=null;r.startTime=0;r.previousTime=0;return true},playCatchPromise:function(){var t=this.audio.play();if(t){t.catch((function(t){console.warn(t)}))}},stopAndReleaseAudioTag:function(){this.startTime=0;this.previousTime=0;if(this.audio){this.audio.pause();this.audio.dataset.used="false";this.audio=null}},reset:function(){r.prototype.stop.call(this)},onBlur:function(){this.isPlaying=false;this.isPaused=true;this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3);this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=true;this.isPaused=false;this.pickAndPlayAudioTag()},update:function(t){if(!this.isPlaying){return}if(this.startTime>0){if(this.startTime<t-this.manager.audioPlayDelay){this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3;this.startTime=0;this.previousTime=this.audio.currentTime;this.playCatchPromise()}return}var e=this.currentMarker?this.currentMarker.start:0;var i=e+this.duration;var r=this.audio.currentTime;if(this.currentConfig.loop){if(r>=i-this.manager.loopEndOffset){this.audio.currentTime=e+Math.max(0,r-i);r=this.audio.currentTime}else if(r<e){this.audio.currentTime+=e;r=this.audio.currentTime}if(r<this.previousTime){this.emit(n.LOOPED,this)}}else if(r>=i){this.reset();this.stopAndReleaseAudioTag();this.emit(n.COMPLETE,this);return}this.previousTime=r},destroy:function(){r.prototype.destroy.call(this);this.tags=null;if(this.audio){this.stopAndReleaseAudioTag()}},updateMute:function(){if(this.audio){this.audio.muted=this.currentConfig.mute||this.manager.mute}},updateVolume:function(){if(this.audio){this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1)}},calculateRate:function(){r.prototype.calculateRate.call(this);if(this.audio){this.audio.playbackRate=this.totalRate}},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t;if(this.manager.isLocked(this,"mute",t)){return}this.updateMute();this.emit(n.MUTE,this,t)}},setMute:function(t){this.mute=t;return this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t;if(this.manager.isLocked(this,"volume",t)){return}this.updateVolume();this.emit(n.VOLUME,this,t)}},setVolume:function(t){this.volume=t;return this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t;if(this.manager.isLocked(this,n.RATE,t)){return}else{this.calculateRate();this.emit(n.RATE,this,t)}}},setRate:function(t){this.rate=t;return this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t;if(this.manager.isLocked(this,n.DETUNE,t)){return}else{this.calculateRate();this.emit(n.DETUNE,this,t)}}},setDetune:function(t){this.detune=t;return this},seek:{get:function(){if(this.isPlaying){return this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0)}else if(this.isPaused){return this.currentConfig.seek}else{return 0}},set:function(t){if(this.manager.isLocked(this,"seek",t)){return}if(this.startTime>0){return}if(this.isPlaying||this.isPaused){t=Math.min(Math.max(0,t),this.duration);if(this.isPlaying){this.previousTime=t;this.audio.currentTime=t}else if(this.isPaused){this.currentConfig.seek=t}this.emit(n.SEEK,this,t)}}},setSeek:function(t){this.seek=t;return this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t;if(this.manager.isLocked(this,"loop",t)){return}if(this.audio){this.audio.loop=t}this.emit(n.LOOP,this,t)}},setLoop:function(t){this.loop=t;return this},pan:{get:function(){return this.currentConfig.pan},set:function(t){this.currentConfig.pan=t;this.emit(n.PAN,this,t)}},setPan:function(t){this.pan=t;return this}});t.exports=o},33684:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85034);var s=i(83419);var n=i(14463);var a=i(64895);var o=new s({Extends:r,initialize:function HTML5AudioSoundManager2(t){this.override=true;this.audioPlayDelay=.1;this.loopEndOffset=.05;this.onBlurPausedSounds=[];this.locked="ontouchstart"in window;this.lockedActionsQueue=this.locked?[]:null;this._mute=false;this._volume=1;r.call(this,t)},add:function(t,e){var i=new a(this,t,e);this.sounds.push(i);return i},unlock:function(){this.locked=false;var t=this;this.game.cache.audio.entries.each((function(e,i){for(var r=0;r<i.length;r++){if(i[r].dataset.locked==="true"){t.locked=true;return false}}return true}));if(!this.locked){return}var e=false;var detectMove=function(){e=true};var unlock=function(){if(e){e=false;return}document.body.removeEventListener("touchmove",detectMove);document.body.removeEventListener("touchend",unlock);var i=[];t.game.cache.audio.entries.each((function(t,e){for(var r=0;r<e.length;r++){var s=e[r];if(s.dataset.locked==="true"){i.push(s)}}return true}));if(i.length===0){return}var r=i[i.length-1];r.oncanplaythrough=function(){r.oncanplaythrough=null;i.forEach((function(t){t.dataset.locked="false"}));t.unlocked=true};i.forEach((function(t){t.load()}))};this.once(n.UNLOCKED,(function(){this.forEachActiveSound((function(t){if(t.currentMarker===null&&t.duration===0){t.duration=t.tags[0].duration}t.totalDuration=t.tags[0].duration}));while(this.lockedActionsQueue.length){var t=this.lockedActionsQueue.shift();if(t.sound[t.prop].apply){t.sound[t.prop].apply(t.sound,t.value||[])}else{t.sound[t.prop]=t.value}}}),this);document.body.addEventListener("touchmove",detectMove,false);document.body.addEventListener("touchend",unlock,false)},onBlur:function(){this.forEachActiveSound((function(t){if(t.isPlaying){this.onBlurPausedSounds.push(t);t.onBlur()}}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(t){t.onFocus()}));this.onBlurPausedSounds.length=0},destroy:function(){r.prototype.destroy.call(this);this.onBlurPausedSounds.length=0;this.onBlurPausedSounds=null},isLocked:function(t,e,i){if(t.tags[0].dataset.locked==="true"){this.lockedActionsQueue.push({sound:t,prop:e,value:i});return true}return false},setMute:function(t){this.mute=t;return this},mute:{get:function(){return this._mute},set:function(t){this._mute=t;this.forEachActiveSound((function(t){t.updateMute()}));this.emit(n.GLOBAL_MUTE,this,t)}},setVolume:function(t){this.volume=t;return this},volume:{get:function(){return this._volume},set:function(t){this._volume=t;this.forEachActiveSound((function(t){t.updateVolume()}));this.emit(n.GLOBAL_VOLUME,this,t)}}});t.exports=o},23717:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30341);var s=i(83419);var n=i(50792);var a=i(79291);var o=i(29747);var returnFalse=function(){return false};var returnNull=function(){return null};var returnThis=function(){return this};var l=new s({Extends:n,initialize:function NoAudioSound2(t,e,i){if(i===void 0){i={}}n.call(this);this.manager=t;this.key=e;this.isPlaying=false;this.isPaused=false;this.totalRate=1;this.duration=0;this.totalDuration=0;this.config=a({mute:false,volume:1,rate:1,detune:0,seek:0,loop:false,delay:0,pan:0},i);this.currentConfig=this.config;this.mute=false;this.volume=1;this.rate=1;this.detune=0;this.seek=0;this.loop=false;this.pan=0;this.markers={};this.currentMarker=null;this.pendingRemove=false},addMarker:returnFalse,updateMarker:returnFalse,removeMarker:returnNull,play:returnFalse,pause:returnFalse,resume:returnFalse,stop:returnFalse,setMute:returnThis,setVolume:returnThis,setRate:returnThis,setDetune:returnThis,setSeek:returnThis,setLoop:returnThis,setPan:returnThis,applyConfig:returnNull,resetConfig:returnNull,update:o,calculateRate:returnNull,destroy:function(){r.prototype.destroy.call(this)}});t.exports=l},25960:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85034);var s=i(83419);var n=i(50792);var a=i(4603);var o=i(29747);var l=new s({Extends:n,initialize:function NoAudioSoundManager2(t){n.call(this);this.game=t;this.sounds=[];this.mute=false;this.volume=1;this.rate=1;this.detune=0;this.pauseOnBlur=true;this.locked=false},add:function(t,e){var i=new a(this,t,e);this.sounds.push(i);return i},addAudioSprite:function(t,e){var i=this.add(t,e);i.spritemap={};return i},get:function(t){return r.prototype.get.call(this,t)},getAll:function(t){return r.prototype.getAll.call(this,t)},play:function(t,e){return false},playAudioSprite:function(t,e,i){return false},remove:function(t){return r.prototype.remove.call(this,t)},removeAll:function(){return r.prototype.removeAll.call(this)},removeByKey:function(t){return r.prototype.removeByKey.call(this,t)},stopByKey:function(t){return r.prototype.stopByKey.call(this,t)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(t,e){r.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){r.prototype.destroy.call(this)}});t.exports=l},71741:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30341);var s=i(83419);var n=i(14463);var a=i(95540);var o=new s({Extends:r,initialize:function WebAudioSound2(t,e,i){if(i===void 0){i={}}this.audioBuffer=t.game.cache.audio.get(e);if(!this.audioBuffer){throw new Error('Audio key "'+e+'" not found in cache')}this.source=null;this.loopSource=null;this.muteNode=t.context.createGain();this.volumeNode=t.context.createGain();this.pannerNode=null;this.spatialNode=null;this.spatialSource=null;this.playTime=0;this.startTime=0;this.loopTime=0;this.rateUpdates=[];this.hasEnded=false;this.hasLooped=false;this.muteNode.connect(this.volumeNode);if(t.context.createPanner){this.spatialNode=t.context.createPanner();this.volumeNode.connect(this.spatialNode)}if(t.context.createStereoPanner){this.pannerNode=t.context.createStereoPanner();if(t.context.createPanner){this.spatialNode.connect(this.pannerNode)}else{this.volumeNode.connect(this.pannerNode)}this.pannerNode.connect(t.destination)}else if(t.context.createPanner){this.spatialNode.connect(t.destination)}else{this.volumeNode.connect(t.destination)}this.duration=this.audioBuffer.duration;this.totalDuration=this.audioBuffer.duration;r.call(this,t,e,i)},play:function(t,e){if(!r.prototype.play.call(this,t,e)){return false}this.stopAndRemoveBufferSource();this.createAndStartBufferSource();this.emit(n.PLAY,this);return true},pause:function(){if(this.manager.context.currentTime<this.startTime){return false}if(!r.prototype.pause.call(this)){return false}this.currentConfig.seek=this.getCurrentTime();this.stopAndRemoveBufferSource();this.emit(n.PAUSE,this);return true},resume:function(){if(this.manager.context.currentTime<this.startTime){return false}if(!r.prototype.resume.call(this)){return false}this.createAndStartBufferSource();this.emit(n.RESUME,this);return true},stop:function(){if(!r.prototype.stop.call(this)){return false}this.stopAndRemoveBufferSource();this.emit(n.STOP,this);return true},createAndStartBufferSource:function(){var t=this.currentConfig.seek;var e=this.currentConfig.delay;var i=this.manager.context.currentTime+e;var r=(this.currentMarker?this.currentMarker.start:0)+t;var s=this.duration-t;this.playTime=i-t;this.startTime=i;this.source=this.createBufferSource();this.applyConfig();this.source.start(Math.max(0,i),Math.max(0,r),Math.max(0,s));this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime();var e=this.currentMarker?this.currentMarker.start:0;var i=this.duration;this.loopTime=t;this.loopSource=this.createBufferSource();this.loopSource.playbackRate.setValueAtTime(this.totalRate,0);this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this;var e=this.manager.context.createBufferSource();e.buffer=this.audioBuffer;e.connect(this.muteNode);e.onended=function(e){var i=e.target;if(i===t.source||i===t.loopSource){if(t.currentConfig.loop){t.hasLooped=true}else{t.hasEnded=true}}};return e},stopAndRemoveBufferSource:function(){if(this.source){var t=this.source;this.source=null;t.stop();t.disconnect()}this.playTime=0;this.startTime=0;this.hasEnded=false;this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){if(this.loopSource){this.loopSource.stop();this.loopSource.disconnect();this.loopSource=null}this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0;this.rateUpdates.push({time:0,rate:1});var t=this.currentConfig.source;if(t&&this.manager.context.createPanner){var e=this.spatialNode;e.panningModel=a(t,"panningModel","equalpower");e.distanceModel=a(t,"distanceModel","inverse");e.orientationX.value=a(t,"orientationX",0);e.orientationY.value=a(t,"orientationY",0);e.orientationZ.value=a(t,"orientationZ",-1);e.refDistance=a(t,"refDistance",1);e.maxDistance=a(t,"maxDistance",1e4);e.rolloffFactor=a(t,"rolloffFactor",1);e.coneInnerAngle=a(t,"coneInnerAngle",360);e.coneOuterAngle=a(t,"coneOuterAngle",0);e.coneOuterGain=a(t,"coneOuterGain",0);this.spatialSource=a(t,"follow",null);if(!this.spatialSource){e.positionX.value=a(t,"x",0);e.positionY.value=a(t,"y",0);e.positionZ.value=a(t,"z",0)}}r.prototype.applyConfig.call(this)},x:{get:function(){if(this.spatialNode){return this.spatialNode.positionX}else{return 0}},set:function(t){if(this.spatialNode){this.spatialNode.positionX.value=t}}},y:{get:function(){if(this.spatialNode){return this.spatialNode.positionY}else{return 0}},set:function(t){if(this.spatialNode){this.spatialNode.positionY.value=t}}},update:function(){if(this.isPlaying&&this.spatialSource){var t=a(this.spatialSource,"x",null);var e=a(this.spatialSource,"y",null);if(t&&t!==this._spatialx){this._spatialx=this.spatialNode.positionX.value=t}if(e&&e!==this._spatialy){this._spatialy=this.spatialNode.positionY.value=e}}if(this.hasEnded){r.prototype.stop.call(this);this.stopAndRemoveBufferSource();this.emit(n.COMPLETE,this)}else if(this.hasLooped){this.hasLooped=false;this.source=this.loopSource;this.loopSource=null;this.playTime=this.startTime=this.loopTime;this.rateUpdates.length=0;this.rateUpdates.push({time:0,rate:this.totalRate});this.createAndStartLoopBufferSource();this.emit(n.LOOPED,this)}},destroy:function(){if(this.pendingRemove){return}r.prototype.destroy.call(this);this.audioBuffer=null;this.stopAndRemoveBufferSource();this.muteNode.disconnect();this.muteNode=null;this.volumeNode.disconnect();this.volumeNode=null;if(this.pannerNode){this.pannerNode.disconnect();this.pannerNode=null}if(this.spatialNode){this.spatialNode.disconnect();this.spatialNode=null;this.spatialSource=null}this.rateUpdates.length=0;this.rateUpdates=null},calculateRate:function(){r.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;if(this.source&&typeof this.totalRate==="number"){this.source.playbackRate.setValueAtTime(this.totalRate,t)}if(this.isPlaying){this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate});if(this.loopSource){this.stopAndRemoveLoopBufferSource();this.createAndStartLoopBufferSource()}}},getCurrentTime:function(){var t=0;for(var e=0;e<this.rateUpdates.length;e++){var i=0;if(e<this.rateUpdates.length-1){i=this.rateUpdates[e+1].time}else{i=this.manager.context.currentTime-this.playTime}t+=(i-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){var t=0;for(var e=0;e<this.rateUpdates.length-1;e++){t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate}var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t;this.calculateRate();this.emit(n.RATE,this,t)}},setRate:function(t){this.rate=t;return this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t;this.calculateRate();this.emit(n.DETUNE,this,t)}},setDetune:function(t){this.detune=t;return this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(t){this.currentConfig.mute=t;this.muteNode.gain.setValueAtTime(t?0:1,0);this.emit(n.MUTE,this,t)}},setMute:function(t){this.mute=t;return this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t;this.volumeNode.gain.setValueAtTime(t,0);this.emit(n.VOLUME,this,t)}},setVolume:function(t){this.volume=t;return this},seek:{get:function(){if(this.isPlaying){if(this.manager.context.currentTime<this.startTime){return this.startTime-this.playTime}return this.getCurrentTime()}else if(this.isPaused){return this.currentConfig.seek}else{return 0}},set:function(t){if(this.manager.context.currentTime<this.startTime){return}if(this.isPlaying||this.isPaused){t=Math.min(Math.max(0,t),this.duration);this.currentConfig.seek=t;if(this.isPlaying){this.stopAndRemoveBufferSource();this.createAndStartBufferSource()}this.emit(n.SEEK,this,t)}}},setSeek:function(t){this.seek=t;return this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t;if(this.isPlaying){this.stopAndRemoveLoopBufferSource();if(t){this.createAndStartLoopBufferSource()}}this.emit(n.LOOP,this,t)}},setLoop:function(t){this.loop=t;return this},pan:{get:function(){if(this.pannerNode){return this.pannerNode.pan.value}else{return 0}},set:function(t){this.currentConfig.pan=t;if(this.pannerNode){this.pannerNode.pan.setValueAtTime(t,this.manager.context.currentTime)}this.emit(n.PAN,this,t)}},setPan:function(t){this.pan=t;return this}});t.exports=o},57490:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(53134);var s=i(85034);var n=i(83419);var a=i(14463);var o=i(8443);var l=i(71741);var h=i(95540);var u=new n({Extends:s,initialize:function WebAudioSoundManager2(t){this.context=this.createAudioContext(t);this.masterMuteNode=this.context.createGain();this.masterVolumeNode=this.context.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(this.context.destination);this.destination=this.masterMuteNode;this.locked=this.context.state==="suspended";s.call(this,t);if(this.locked){if(t.isBooted){this.unlock()}else{t.events.once(o.BOOT,this.unlock,this)}}t.events.on(o.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var t=this.context;window.setTimeout((function(){if(t){t.suspend();t.resume()}}),100)},createAudioContext:function(t){var e=t.config.audio;if(e.context){e.context.resume();return e.context}if(window.hasOwnProperty("AudioContext")){return new AudioContext}else if(window.hasOwnProperty("webkitAudioContext")){return new window.webkitAudioContext}},setAudioContext:function(t){if(this.context){this.context.close()}if(this.masterMuteNode){this.masterMuteNode.disconnect()}if(this.masterVolumeNode){this.masterVolumeNode.disconnect()}this.context=t;this.masterMuteNode=t.createGain();this.masterVolumeNode=t.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(t.destination);this.destination=this.masterMuteNode;return this},add:function(t,e){var i=new l(this,t,e);this.sounds.push(i);return i},decodeAudio:function(t,e){var i;if(!Array.isArray(t)){i=[{key:t,data:e}]}else{i=t}var s=this.game.cache.audio;var n=i.length;for(var o=0;o<i.length;o++){var l=i[o];var h=l.key;var u=l.data;if(typeof u==="string"){u=r(u)}var c=function(t,e){s.add(t,e);this.emit(a.DECODED,t);n--;if(n===0){this.emit(a.DECODED_ALL)}}.bind(this,h);var f=function(t,e){console.error("Error decoding audio: "+t+" - ",e?e.message:"");n--;if(n===0){this.emit(a.DECODED_ALL)}}.bind(this,h);this.context.decodeAudioData(u,c,f)}},setListenerPosition:function(t,e){if(t===void 0){t=this.game.scale.width/2}if(e===void 0){e=this.game.scale.height/2}this.listenerPosition.set(t,e);return this},unlock:function(){var t=this;var e=document.body;var i=function unlockHandler2(){if(t.context&&e){var i=e.removeEventListener.bind(e);t.context.resume().then((function(){i("touchstart",unlockHandler2);i("touchend",unlockHandler2);i("mousedown",unlockHandler2);i("mouseup",unlockHandler2);i("keydown",unlockHandler2);t.unlocked=true}),(function(){i("touchstart",unlockHandler2);i("touchend",unlockHandler2);i("mousedown",unlockHandler2);i("mouseup",unlockHandler2);i("keydown",unlockHandler2)}))}};if(e){e.addEventListener("touchstart",i,false);e.addEventListener("touchend",i,false);e.addEventListener("mousedown",i,false);e.addEventListener("mouseup",i,false);e.addEventListener("keydown",i,false)}},onBlur:function(){if(!this.locked){this.context.suspend()}},onFocus:function(){var t=this.context;if(t&&!this.locked&&(t.state==="suspended"||t.state==="interrupted")){t.resume()}},update:function(t,e){var i=this.context.listener;if(i&&i.positionX!==void 0){var r=h(this.listenerPosition,"x",null);var n=h(this.listenerPosition,"y",null);if(r&&r!==this._spatialx){this._spatialx=i.positionX.value=r}if(n&&n!==this._spatialy){this._spatialy=i.positionY.value=n}}s.prototype.update.call(this,t,e);if(!this.gameLostFocus){this.onFocus()}},destroy:function(){this.destination=null;this.masterVolumeNode.disconnect();this.masterVolumeNode=null;this.masterMuteNode.disconnect();this.masterMuteNode=null;if(this.game.config.audio.context){this.context.suspend()}else{var t=this;this.context.close().then((function(){t.context=null}))}this.game.events.off(o.VISIBLE,this.onGameVisible,this);s.prototype.destroy.call(this)},setMute:function(t){this.mute=t;return this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0);this.emit(a.GLOBAL_MUTE,this,t)}},setVolume:function(t){this.volume=t;return this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0);this.emit(a.GLOBAL_VOLUME,this,t)}}});t.exports=u},73162:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37105);var s=i(83419);var n=i(29747);var a=i(19186);var o=new s({initialize:function List2(t){this.parent=t;this.list=[];this.position=0;this.addCallback=n;this.removeCallback=n;this._sortKey=""},add:function(t,e){if(e){return r.Add(this.list,t)}else{return r.Add(this.list,t,0,this.addCallback,this)}},addAt:function(t,e,i){if(i){return r.AddAt(this.list,t,e)}else{return r.AddAt(this.list,t,e,0,this.addCallback,this)}},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){if(!t){return this}if(e===void 0){e=function(e,i){return e[t]-i[t]}}a(this.list,e);return this},getByName:function(t){return r.GetFirst(this.list,"name",t)},getRandom:function(t,e){return r.GetRandom(this.list,t,e)},getFirst:function(t,e,i,s){return r.GetFirst(this.list,t,e,i,s)},getAll:function(t,e,i,s){return r.GetAll(this.list,t,e,i,s)},count:function(t,e){return r.CountAllMatching(this.list,t,e)},swap:function(t,e){r.Swap(this.list,t,e)},moveTo:function(t,e){return r.MoveTo(this.list,t,e)},moveAbove:function(t,e){return r.MoveAbove(this.list,t,e)},moveBelow:function(t,e){return r.MoveBelow(this.list,t,e)},remove:function(t,e){if(e){return r.Remove(this.list,t)}else{return r.Remove(this.list,t,this.removeCallback,this)}},removeAt:function(t,e){if(e){return r.RemoveAt(this.list,t)}else{return r.RemoveAt(this.list,t,this.removeCallback,this)}},removeBetween:function(t,e,i){if(i){return r.RemoveBetween(this.list,t,e)}else{return r.RemoveBetween(this.list,t,e,this.removeCallback,this)}},removeAll:function(t){var e=this.list.length;while(e--){this.remove(this.list[e],t)}return this},bringToTop:function(t){return r.BringToTop(this.list,t)},sendToBack:function(t){return r.SendToBack(this.list,t)},moveUp:function(t){r.MoveUp(this.list,t);return t},moveDown:function(t){r.MoveDown(this.list,t);return t},reverse:function(){this.list.reverse();return this},shuffle:function(){r.Shuffle(this.list);return this},replace:function(t,e){return r.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,s){r.SetAll(this.list,t,e,i,s);return this},each:function(t,e){var i=[null];for(var r=2;r<arguments.length;r++){i.push(arguments[r])}for(r=0;r<this.list.length;r++){i[0]=this.list[r];t.apply(e,i)}},shutdown:function(){this.removeAll();this.list=[]},destroy:function(){this.removeAll();this.parent=null;this.addCallback=null;this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){this.position=0;if(this.list.length>0){return this.list[0]}else{return null}}},last:{get:function(){if(this.list.length>0){this.position=this.list.length-1;return this.list[this.position]}else{return null}}},next:{get:function(){if(this.position<this.list.length){this.position++;return this.list[this.position]}else{return null}}},previous:{get:function(){if(this.position>0){this.position--;return this.list[this.position]}else{return null}}}});t.exports=o},90330:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Map3(t){this.entries={};this.size=0;this.setAll(t)},setAll:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){this.set(t[e][0],t[e][1])}}return this},set:function(t,e){if(!this.has(t)){this.size++}this.entries[t]=e;return this},get:function(t){if(this.has(t)){return this.entries[t]}},getArray:function(){var t=[];var e=this.entries;for(var i in e){t.push(e[i])}return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){if(this.has(t)){delete this.entries[t];this.size--}return this},clear:function(){Object.keys(this.entries).forEach((function(t){delete this.entries[t]}),this);this.size=0;return this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[];var e=this.entries;for(var i in e){t.push(e[i])}return t},dump:function(){var t=this.entries;console.group("Map");for(var e in t){console.log(e,t[e])}console.groupEnd()},each:function(t){var e=this.entries;for(var i in e){if(t(i,e[i])===false){break}}return this},contains:function(t){var e=this.entries;for(var i in e){if(e[i]===t){return true}}return false},merge:function(t,e){if(e===void 0){e=false}var i=this.entries;var r=t.entries;for(var s in r){if(i.hasOwnProperty(s)&&e){i[s]=r[s]}else{this.set(s,r[s])}}return this}});t.exports=s},25774:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(82348);var a=new r({Extends:s,initialize:function ProcessQueue2(){s.call(this);this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;this.checkQueue=false},isActive:function(t){return this._active.indexOf(t)>-1},isPending:function(t){return this._toProcess>0&&this._pending.indexOf(t)>-1},isDestroying:function(t){return this._destroy.indexOf(t)>-1},add:function(t){if(this.checkQueue&&(this.isActive(t)&&!this.isDestroying(t))||this.isPending(t)){return t}this._pending.push(t);this._toProcess++;return t},remove:function(t){if(this.isPending(t)){var e=this._pending;var i=e.indexOf(t);if(i!==-1){e.splice(i,1)}}else if(this.isActive(t)){this._destroy.push(t);this._toProcess++}return t},removeAll:function(){var t=this._active;var e=this._destroy;var i=t.length;while(i--){e.push(t[i]);this._toProcess++}return this},update:function(){if(this._toProcess===0){return this._active}var t=this._destroy;var e=this._active;var i;var r;for(i=0;i<t.length;i++){r=t[i];var s=e.indexOf(r);if(s!==-1){e.splice(s,1);this.emit(n.PROCESS_QUEUE_REMOVE,r)}}t.length=0;t=this._pending;for(i=0;i<t.length;i++){r=t[i];if(!this.checkQueue||this.checkQueue&&e.indexOf(r)===-1){e.push(r);this.emit(n.PROCESS_QUEUE_ADD,r)}}t.length=0;this._toProcess=0;return e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0;this._pending=[];this._active=[];this._destroy=[]}});t.exports=a},59542:(t,e,i)=>{
/**
               * @author       Vladimir Agafonkin
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(43886);function rbush(t){if(!(this instanceof rbush))return new rbush(t);this._maxEntries=Math.max(4,t||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));this.clear()}rbush.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!intersects(t,e))return i;var s=[],n,a,o,l;while(e){for(n=0,a=e.children.length;n<a;n++){o=e.children[n];l=e.leaf?r(o):o;if(intersects(t,l)){if(e.leaf)i.push(o);else if(contains(t,l))this._all(o,i);else s.push(o)}}e=s.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!intersects(t,e))return false;var r=[],s,n,a,o;while(e){for(s=0,n=e.children.length;s<n;s++){a=e.children[s];o=e.leaf?i(a):a;if(intersects(t,o)){if(e.leaf||contains(t,o))return true;r.push(a)}}e=r.pop()}return false},load:function(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++){this.insert(t[e])}return this}var r=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length){this.data=r}else if(this.data.height===r.height){this._splitRoot(this.data,r)}else{if(this.data.height<r.height){var s=this.data;this.data=r;r=s}this._insert(r,this.data.height-r.height-1,true)}return this},insert:function(t){if(t)this._insert(t,this.data.height-1);return this},clear:function(){this.data=createNode([]);return this},remove:function(t,e){if(!t)return this;var i=this.data,r=this.toBBox(t),s=[],n=[],a,o,l,h;while(i||s.length){if(!i){i=s.pop();o=s[s.length-1];a=n.pop();h=true}if(i.leaf){l=findItem(t,i.children,e);if(l!==-1){i.children.splice(l,1);s.push(i);this._condense(s);return this}}if(!h&&!i.leaf&&contains(i,r)){s.push(i);n.push(a);a=0;o=i;i=i.children[0]}else if(o){a++;i=o.children[a];h=false}else i=null}return this},toBBox:function(t){return t},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(t){this.data=t;return this},_all:function(t,e){var i=[];while(t){if(t.leaf)e.push.apply(e,t.children);else i.push.apply(i,t.children);t=i.pop()}return e},_build:function(t,e,i,r){var s=i-e+1,n=this._maxEntries,a;if(s<=n){a=createNode(t.slice(e,i+1));calcBBox(a,this.toBBox);return a}if(!r){r=Math.ceil(Math.log(s)/Math.log(n));n=Math.ceil(s/Math.pow(n,r-1))}a=createNode([]);a.leaf=false;a.height=r;var o=Math.ceil(s/n),l=o*Math.ceil(Math.sqrt(n)),h,u,c,f;multiSelect(t,e,i,l,this.compareMinX);for(h=e;h<=i;h+=l){c=Math.min(h+l-1,i);multiSelect(t,h,c,o,this.compareMinY);for(u=h;u<=c;u+=o){f=Math.min(u+o-1,c);a.children.push(this._build(t,u,f,r-1))}}calcBBox(a,this.toBBox);return a},_chooseSubtree:function(t,e,i,r){var s,n,a,o,l,h,u,c;while(true){r.push(e);if(e.leaf||r.length-1===i)break;u=c=Infinity;for(s=0,n=e.children.length;s<n;s++){a=e.children[s];l=bboxArea(a);h=enlargedArea(t,a)-l;if(h<c){c=h;u=l<u?l:u;o=a}else if(h===c){if(l<u){u=l;o=a}}}e=o||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,s=i?t:r(t),n=[];var a=this._chooseSubtree(s,this.data,e,n);a.children.push(t);extend(a,s);while(e>=0){if(n[e].children.length>this._maxEntries){this._split(n,e);e--}else break}this._adjustParentBBoxes(s,n,e)},_split:function(t,e){var i=t[e],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r);var a=createNode(i.children.splice(n,i.children.length-n));a.height=i.height;a.leaf=i.leaf;calcBBox(i,this.toBBox);calcBBox(a,this.toBBox);if(e)t[e-1].children.push(a);else this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=createNode([t,e]);this.data.height=t.height+1;this.data.leaf=false;calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,s,n,a,o,l,h,u;l=h=Infinity;for(r=e;r<=i-e;r++){s=distBBox(t,0,r,this.toBBox);n=distBBox(t,r,i,this.toBBox);a=intersectionArea(s,n);o=bboxArea(s)+bboxArea(n);if(a<l){l=a;u=r;h=o<h?o:h}else if(a===l){if(o<h){h=o;u=r}}}return u},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:compareNodeMinX,s=t.leaf?this.compareMinY:compareNodeMinY,n=this._allDistMargin(t,e,i,r),a=this._allDistMargin(t,e,i,s);if(n<a)t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var s=this.toBBox,n=distBBox(t,0,e,s),a=distBBox(t,i-e,i,s),o=bboxMargin(n)+bboxMargin(a),l,h;for(l=e;l<i-e;l++){h=t.children[l];extend(n,t.leaf?s(h):h);o+=bboxMargin(n)}for(l=i-e-1;l>=e;l--){h=t.children[l];extend(a,t.leaf?s(h):h);o+=bboxMargin(a)}return o},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--){extend(e[r],t)}},_condense:function(t){for(var e=t.length-1,i;e>=0;e--){if(t[e].children.length===0){if(e>0){i=t[e-1].children;i.splice(i.indexOf(t[e]),1)}else this.clear()}else calcBBox(t[e],this.toBBox)}},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}};function findItem(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++){if(i(t,e[r]))return r}return-1}function calcBBox(t,e){distBBox(t,0,t.children.length,e,t)}function distBBox(t,e,i,r,s){if(!s)s=createNode(null);s.minX=Infinity;s.minY=Infinity;s.maxX=-Infinity;s.maxY=-Infinity;for(var n=e,a;n<i;n++){a=t.children[n];extend(s,t.leaf?r(a):a)}return s}function extend(t,e){t.minX=Math.min(t.minX,e.minX);t.minY=Math.min(t.minY,e.minY);t.maxX=Math.max(t.maxX,e.maxX);t.maxY=Math.max(t.maxY,e.maxY);return t}function compareNodeMinX(t,e){return t.minX-e.minX}function compareNodeMinY(t,e){return t.minY-e.minY}function bboxArea(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function bboxMargin(t){return t.maxX-t.minX+(t.maxY-t.minY)}function enlargedArea(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function intersectionArea(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),n=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function contains(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function intersects(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function createNode(t){return{children:t,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function multiSelect(t,e,i,s,n){var a=[e,i],o;while(a.length){i=a.pop();e=a.pop();if(i-e<=s)continue;o=e+Math.ceil((i-e)/s/2)*s;r(t,o,e,i,n);a.push(e,o,o,i)}}t.exports=rbush},35072:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function Set3(t){this.entries=[];if(Array.isArray(t)){for(var e=0;e<t.length;e++){this.set(t[e])}}},set:function(t){if(this.entries.indexOf(t)===-1){this.entries.push(t)}return this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var r=this.entries[i];if(r[t]===e){return r}}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);if(e>-1){this.entries.splice(e,1)}return this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var i;var r=this.entries.slice();var s=r.length;if(e){for(i=0;i<s;i++){if(t.call(e,r[i],i)===false){break}}}else{for(i=0;i<s;i++){if(t(r[i],i)===false){break}}}return this},iterate:function(t,e){var i;var r=this.entries.length;if(e){for(i=0;i<r;i++){if(t.call(e,this.entries[i],i)===false){break}}}else{for(i=0;i<r;i++){if(t(this.entries[i],i)===false){break}}}return this},iterateLocal:function(t){var e;var i=[];for(e=1;e<arguments.length;e++){i.push(arguments[e])}var r=this.entries.length;for(e=0;e<r;e++){var s=this.entries[e];s[t].apply(s,i)}return this},clear:function(){this.entries.length=0;return this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new s;t.entries.forEach((function(t){e.set(t)}));this.entries.forEach((function(t){e.set(t)}));return e},intersect:function(t){var e=new s;this.entries.forEach((function(i){if(t.contains(i)){e.set(i)}}));return e},difference:function(t){var e=new s;this.entries.forEach((function(i){if(!t.contains(i)){e.set(i)}}));return e},size:{get:function(){return this.entries.length},set:function(t){if(t<this.entries.length){return this.entries.length=t}else{return this.entries.length}}}});t.exports=s},86555:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45319);var s=i(83419);var n=i(56583);var a=i(26099);var o=new s({initialize:function Size2(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=t}if(i===void 0){i=0}if(r===void 0){r=null}this._width=t;this._height=e;this._parent=r;this.aspectMode=i;this.aspectRatio=e===0?1:t/e;this.minWidth=0;this.minHeight=0;this.maxWidth=Number.MAX_VALUE;this.maxHeight=Number.MAX_VALUE;this.snapTo=new a},setAspectMode:function(t){if(t===void 0){t=0}this.aspectMode=t;return this.setSize(this._width,this._height)},setSnap:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.snapTo.set(t,e);return this.setSize(this._width,this._height)},setParent:function(t){this._parent=t;return this.setSize(this._width,this._height)},setMin:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.minWidth=r(t,0,this.maxWidth);this.minHeight=r(e,0,this.maxHeight);return this.setSize(this._width,this._height)},setMax:function(t,e){if(t===void 0){t=Number.MAX_VALUE}if(e===void 0){e=t}this.maxWidth=r(t,this.minWidth,Number.MAX_VALUE);this.maxHeight=r(e,this.minHeight,Number.MAX_VALUE);return this.setSize(this._width,this._height)},setSize:function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}switch(this.aspectMode){case o.NONE:this._width=this.getNewWidth(n(t,this.snapTo.x));this._height=this.getNewHeight(n(e,this.snapTo.y));this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(n(t,this.snapTo.x));this._height=this.getNewHeight(this._width*(1/this.aspectRatio),false);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(n(e,this.snapTo.y));this._width=this.getNewWidth(this._height*this.aspectRatio,false);break;case o.FIT:this.constrain(t,e,true);break;case o.ENVELOP:this.constrain(t,e,false);break}return this},setAspectRatio:function(t){this.aspectRatio=t;return this.setSize(this._width,this._height)},resize:function(t,e){this._width=this.getNewWidth(n(t,this.snapTo.x));this._height=this.getNewHeight(n(e,this.snapTo.y));this.aspectRatio=this._height===0?1:this._width/this._height;return this},getNewWidth:function(t,e){if(e===void 0){e=true}t=r(t,this.minWidth,this.maxWidth);if(e&&this._parent&&t>this._parent.width){t=Math.max(this.minWidth,this._parent.width)}return t},getNewHeight:function(t,e){if(e===void 0){e=true}t=r(t,this.minHeight,this.maxHeight);if(e&&this._parent&&t>this._parent.height){t=Math.max(this.minHeight,this._parent.height)}return t},constrain:function(t,e,i){if(t===void 0){t=0}if(e===void 0){e=t}if(i===void 0){i=true}t=this.getNewWidth(t);e=this.getNewHeight(e);var r=this.snapTo;var s=e===0?1:t/e;if(i&&this.aspectRatio>s||!i&&this.aspectRatio<s){t=n(t,r.x);e=t/this.aspectRatio;if(r.y>0){e=n(e,r.y);t=e*this.aspectRatio}}else if(i&&this.aspectRatio<s||!i&&this.aspectRatio>s){e=n(e,r.y);t=e*this.aspectRatio;if(r.x>0){t=n(t,r.x);e=t*(1/this.aspectRatio)}}this._width=t;this._height=e;return this},fitTo:function(t,e){return this.constrain(t,e,true)},envelop:function(t,e){return this.constrain(t,e,false)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){if(t&&t.style){t.style.width=this._width+"px";t.style.height=this._height+"px"}},copy:function(t){t.setAspectMode(this.aspectMode);t.aspectRatio=this.aspectRatio;return t.setSize(this.width,this.height)},destroy:function(){this._parent=null;this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});o.NONE=0;o.WIDTH_CONTROLS_HEIGHT=1;o.HEIGHT_CONTROLS_WIDTH=2;o.FIT=3;o.ENVELOP=4;t.exports=o},15238:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="add"},56187:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="remove"},82348:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(45319);var n=i(40987);var a=i(8054);var o=i(50030);var l=i(79237);var h=new r({Extends:l,initialize:function CanvasTexture2(t,e,i,r,s){l.call(this,t,e,i,r,s);this.add("__BASE",0,0,0,r,s);this._source=this.frames["__BASE"].source;this.canvas=this._source.image;this.context=this.canvas.getContext("2d",{willReadFrequently:true});this.width=r;this.height=s;this.imageData=this.context.getImageData(0,0,r,s);this.data=null;if(this.imageData){this.data=this.imageData.data}this.pixels=null;this.buffer;if(this.data){if(this.imageData.data.buffer){this.buffer=this.imageData.data.buffer;this.pixels=new Uint32Array(this.buffer)}else if(window.ArrayBuffer){this.buffer=new ArrayBuffer(this.imageData.data.length);this.pixels=new Uint32Array(this.buffer)}else{this.pixels=this.imageData.data}}},update:function(){this.imageData=this.context.getImageData(0,0,this.width,this.height);this.data=this.imageData.data;if(this.imageData.data.buffer){this.buffer=this.imageData.data.buffer;this.pixels=new Uint32Array(this.buffer)}else if(window.ArrayBuffer){this.buffer=new ArrayBuffer(this.imageData.data.length);this.pixels=new Uint32Array(this.buffer)}else{this.pixels=this.imageData.data}if(this.manager.game.config.renderType===a.WEBGL){this.refresh()}return this},draw:function(t,e,i,r){if(r===void 0){r=true}this.context.drawImage(i,t,e);if(r){this.update()}return this},drawFrame:function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=true}var n=this.manager.getFrame(t,e);if(n){var a=n.canvasData;var o=n.cutWidth;var l=n.cutHeight;var h=n.source.resolution;this.context.drawImage(n.source.image,a.x,a.y,o,l,i,r,o/h,l/h);if(s){this.update()}}return this},setPixel:function(t,e,i,r,s,n){if(n===void 0){n=255}t=Math.abs(Math.floor(t));e=Math.abs(Math.floor(e));var a=this.getIndex(t,e);if(a>-1){var o=this.context.getImageData(t,e,1,1);o.data[0]=i;o.data[1]=r;o.data[2]=s;o.data[3]=n;this.context.putImageData(o,t,e)}return this},putData:function(t,e,i,r,s,n,a){if(r===void 0){r=0}if(s===void 0){s=0}if(n===void 0){n=t.width}if(a===void 0){a=t.height}this.context.putImageData(t,e,i,r,s,n,a);return this},getData:function(t,e,i,r){t=s(Math.floor(t),0,this.width-1);e=s(Math.floor(e),0,this.height-1);i=s(i,1,this.width-t);r=s(r,1,this.height-e);var n=this.context.getImageData(t,e,i,r);return n},getPixel:function(t,e,i){if(!i){i=new n}var r=this.getIndex(t,e);if(r>-1){var s=this.data;var a=s[r+0];var o=s[r+1];var l=s[r+2];var h=s[r+3];i.setTo(a,o,l,h)}return i},getPixels:function(t,e,i,r){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.width}if(r===void 0){r=i}t=Math.abs(Math.round(t));e=Math.abs(Math.round(e));var a=s(t,0,this.width);var o=s(t+i,0,this.width);var l=s(e,0,this.height);var h=s(e+r,0,this.height);var u=new n;var c=[];for(var f=l;f<h;f++){var d=[];for(var v=a;v<o;v++){u=this.getPixel(v,f,u);d.push({x:v,y:f,color:u.color,alpha:u.alphaGL})}c.push(d)}return c},getIndex:function(t,e){t=Math.abs(Math.round(t));e=Math.abs(Math.round(e));if(t<this.width&&e<this.height){return(t+e*this.width)*4}else{return-1}},refresh:function(){this._source.update();return this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,e,i,r,s){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=this.width}if(r===void 0){r=this.height}if(s===void 0){s=true}this.context.clearRect(t,e,i,r);if(s){this.update()}return this},setSize:function(t,e){if(e===void 0){e=t}if(t!==this.width||e!==this.height){this.canvas.width=t;this.canvas.height=e;this._source.width=t;this._source.height=e;this._source.isPowerOf2=o(t,e);this.frames["__BASE"].setSize(t,e,0,0);this.width=t;this.height=e;this.refresh()}return this},destroy:function(){l.prototype.destroy.call(this);this._source=null;this.canvas=null;this.context=null;this.imageData=null;this.data=null;this.pixels=null;this.buffer=null}});t.exports=h},81320:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(10312);var s=i(38058);var n=i(27919);var a=i(83419);var o=i(8054);var l=i(4327);var h=i(95540);var u=i(36060);var c=i(32302);var f=i(79237);var d=i(70554);var v=new a({Extends:f,initialize:function DynamicTexture2(t,e,i,r,a){if(i===void 0){i=256}if(r===void 0){r=256}if(a===void 0){a=true}this.type="DynamicTexture";var l=t.game.renderer;var h=l&&l.type===o.CANVAS;var d=h?n.create2D(this,i,r):[this];f.call(this,t,e,d,i,r);this.add("__BASE",0,0,0,i,r);this.renderer=l;this.width=-1;this.height=-1;this.isDrawing=false;this.canvas=h?d:null;this.context=h?d.getContext("2d",{willReadFrequently:true}):null;this.dirty=false;this.isSpriteTexture=true;this._eraseMode=false;this.camera=new s(0,0,i,r).setScene(t.game.scene.systemScene,false);this.renderTarget=!h?new c(l,i,r,1,0,false,false,true,false):null;this.pipeline=!h?l.pipelines.get(u.SINGLE_PIPELINE):null;this.setSize(i,r,a)},setSize:function(t,e,i){if(e===void 0){e=t}if(i===void 0){i=true}if(i){t=Math.floor(t);e=Math.floor(e);if(t%2!==0){t++}if(e%2!==0){e++}}var r=this.get();var s=r.source;if(t!==this.width||e!==this.height){if(this.canvas){this.canvas.width=t;this.canvas.height=e}var n=this.renderTarget;if(n){if(n.willResize(t,e)){n.resize(t,e)}if(n.texture!==s.glTexture){this.renderer.deleteTexture(s.glTexture)}this.setFromRenderTarget()}this.camera.setSize(t,e);s.width=t;s.height=e;r.setSize(t,e);this.width=t;this.height=e}else{var a=this.getSourceImage();if(r.cutX+t>a.width){t=a.width-r.cutX}if(r.cutY+e>a.height){e=a.height-r.cutY}r.setSize(t,e,r.cutX,r.cutY)}return this},setFromRenderTarget:function(){var t=this.get();var e=t.source;var i=this.renderTarget;e.isRenderTexture=true;e.isGLTexture=true;e.glTexture=i.texture;return this},setIsSpriteTexture:function(t){this.isSpriteTexture=t;return this},fill:function(t,e,i,r,s,n){var a=this.camera;var o=this.renderer;if(e===void 0){e=1}if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=this.width}if(n===void 0){n=this.height}var l=t>>16&255;var h=t>>8&255;var u=t&255;var c=this.renderTarget;a.preRender();if(c){c.bind(true);var f=this.pipeline.manager.set(this.pipeline);var v=o.width/c.width;var p=o.height/c.height;var g=c.height-(r+n);f.drawFillRect(i*v,g*p,s*v,n*p,d.getTintFromFloats(u/255,h/255,l/255,1),e);c.unbind(true)}else{var m=this.context;o.setContext(m);m.globalCompositeOperation="source-over";m.fillStyle="rgba("+l+","+h+","+u+","+e+")";m.fillRect(i,r,s,n);o.setContext()}this.dirty=true;return this},clear:function(t,e,i,r){if(this.dirty){var s=this.context;var n=this.renderTarget;if(n){n.clear(t,e,i,r)}else if(s){if(t!==void 0&&e!==void 0&&i!==void 0&&r!==void 0){s.clearRect(t,e,i,r)}else{s.save();s.setTransform(1,0,0,1,0,0);s.clearRect(0,0,this.width,this.height);s.restore()}}this.dirty=false}return this},stamp:function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=0}var n=h(s,"alpha",1);var a=h(s,"tint",16777215);var o=h(s,"angle",0);var l=h(s,"rotation",0);var u=h(s,"scale",1);var c=h(s,"scaleX",u);var f=h(s,"scaleY",u);var d=h(s,"originX",.5);var v=h(s,"originY",.5);var p=h(s,"blendMode",0);var g=h(s,"erase",false);var m=h(s,"skipBatch",false);var y=this.manager.resetStamp(n,a);y.setAngle(0);if(o!==0){y.setAngle(o)}else if(l!==0){y.setRotation(l)}y.setScale(c,f);y.setTexture(t,e);y.setOrigin(d,v);y.setBlendMode(p);if(g){this._eraseMode=true}if(!m){this.draw(y,i,r)}else{this.batchGameObject(y,i,r)}if(g){this._eraseMode=false}return this},erase:function(t,e,i){this._eraseMode=true;this.draw(t,e,i);this._eraseMode=false;return this},draw:function(t,e,i,r,s){this.beginDraw();this.batchDraw(t,e,i,r,s);this.endDraw();return this},drawFrame:function(t,e,i,r,s,n){this.beginDraw();this.batchDrawFrame(t,e,i,r,s,n);this.endDraw();return this},repeat:function(t,e,i,r,s,n,a,o,h){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=this.width}if(n===void 0){n=this.height}if(a===void 0){a=1}if(o===void 0){o=16777215}if(h===void 0){h=false}if(t instanceof l){e=t}else{e=this.manager.getFrame(t,e)}if(!e){return this}var u=this.manager.resetStamp(a,o);u.setFrame(e);u.setOrigin(0);var c=e.width;var f=e.height;s=Math.floor(s);n=Math.floor(n);var d=Math.ceil(s/c);var v=Math.ceil(n/f);var p=d*c-s;var g=v*f-n;if(p>0){p=c-p}if(g>0){g=f-g}if(i<0){d+=Math.ceil(Math.abs(i)/c)}if(r<0){v+=Math.ceil(Math.abs(r)/f)}var m=i;var y=r;var x=false;var b=this.manager.stampCrop.setTo(0,0,c,f);if(!h){this.beginDraw()}for(var T=0;T<v;T++){if(y+f<0){y+=f;continue}for(var w=0;w<d;w++){x=false;if(m+c<0){m+=c;continue}else if(m<0){x=true;b.width=c+m;b.x=c-b.width}if(y<0){x=true;b.height=f+y;b.y=f-b.height}if(p>0&&w===d-1){x=true;b.width=p}if(g>0&&T===v-1){x=true;b.height=g}if(x){u.setCrop(b)}this.batchGameObject(u,m,y);u.isCropped=false;b.setTo(0,0,c,f);m+=c}m=i;y+=f}if(!h){this.endDraw()}return this},beginDraw:function(){if(!this.isDrawing){var t=this.camera;var e=this.renderer;var i=this.renderTarget;t.preRender();if(i){e.beginCapture(i.width,i.height)}else{e.setContext(this.context)}this.isDrawing=true}return this},batchDraw:function(t,e,i,r,s){if(!Array.isArray(t)){t=[t]}this.batchList(t,e,i,r,s);return this},batchDrawFrame:function(t,e,i,r,s,n){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=1}if(n===void 0){n=16777215}var a=this.manager.getFrame(t,e);if(a){if(this.renderTarget){this.pipeline.batchTextureFrame(a,i,r,n,s,this.camera.matrix,null)}else{this.batchTextureFrame(a,i,r,s,n)}}return this},endDraw:function(t){if(t===void 0){t=this._eraseMode}if(this.isDrawing){var e=this.renderer;var i=this.renderTarget;if(i){var r=e.endCapture();var s=e.pipelines.setUtility();s.blitFrame(r,i,1,false,false,t,this.isSpriteTexture);e.resetScissor();e.resetViewport()}else{e.setContext()}this.dirty=true;this.isDrawing=false}return this},batchList:function(t,e,i,r,s){var n=t.length;if(n===0){return}for(var a=0;a<n;a++){var o=t[a];if(!o||o===this){continue}if(o.renderWebGL||o.renderCanvas){this.batchGameObject(o,e,i)}else if(o.isParent||o.list){this.batchGroup(o.getChildren(),e,i)}else if(typeof o==="string"){this.batchTextureFrameKey(o,null,e,i,r,s)}else if(o instanceof l){this.batchTextureFrame(o,e,i,r,s)}else if(Array.isArray(o)){this.batchList(o,e,i,r,s)}}},batchGroup:function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}for(var r=0;r<t.length;r++){var s=t[r];if(s.willRender(this.camera)){this.batchGameObject(s,s.x+e,s.y+i)}}},batchGameObject:function(t,e,i){if(e===void 0){e=t.x}if(i===void 0){i=t.y}var s=t.x;var n=t.y;var a=this.camera;var o=this.renderer;var l=this._eraseMode;var h=t.mask;t.setPosition(e,i);if(this.canvas){if(l){var u=t.blendMode;t.blendMode=r.ERASE}if(h){h.preRenderCanvas(o,t,a)}t.renderCanvas(o,t,a,null);if(h){h.postRenderCanvas(o,t,a)}if(l){t.blendMode=u}}else if(o){if(h){h.preRenderWebGL(o,t,a)}if(!l){o.setBlendMode(t.blendMode)}t.renderWebGL(o,t,a);if(h){h.postRenderWebGL(o,a,this.renderTarget)}}t.setPosition(s,n)},batchTextureFrameKey:function(t,e,i,r,s,n){var a=this.manager.getFrame(t,e);if(a){this.batchTextureFrame(a,i,r,s,n)}},batchTextureFrame:function(t,e,i,r,s){if(e===void 0){e=0}if(i===void 0){i=0}if(r===void 0){r=1}if(s===void 0){s=16777215}var n=this.camera.matrix;var a=this.renderTarget;if(a){this.pipeline.batchTextureFrame(t,e,i,s,r,n,null)}else{var o=this.context;var l=t.canvasData;var h=t.source.image;o.save();o.globalCompositeOperation=this._eraseMode?"destination-out":"source-over";o.globalAlpha=r;n.setToContext(o);if(l.width>0&&l.height>0){o.drawImage(h,l.x,l.y,l.width,l.height,e,i,l.width,l.height)}o.restore()}},snapshotArea:function(t,e,i,r,s,n,a){if(this.renderTarget){this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,s,false,t,e,i,r,n,a)}else{this.renderer.snapshotCanvas(this.canvas,s,false,t,e,i,r,n,a)}return this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.width,this.height,t,e,i)},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i,"pixel")},getWebGLTexture:function(){if(this.renderTarget){return this.renderTarget.texture}},renderWebGL:function(t,e,i,r){var s=this.manager.resetStamp();s.setTexture(this);s.setOrigin(0);s.renderWebGL(t,s,i,r)},renderCanvas:function(){},destroy:function(){var t=this.manager.stamp;if(t&&t.texture===this){this.manager.resetStamp()}f.prototype.destroy.call(this);n.remove(this.canvas);if(this.renderTarget){this.renderTarget.destroy()}this.camera.destroy();this.canvas=null;this.context=null;this.renderer=null}});t.exports=v},4327:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(45319);var n=i(79291);var a=new r({initialize:function Frame2(t,e,i,r,s,n,a){this.texture=t;this.name=e;this.source=t.source[i];this.sourceIndex=i;this.cutX;this.cutY;this.cutWidth;this.cutHeight;this.x=0;this.y=0;this.width;this.height;this.halfWidth;this.halfHeight;this.centerX;this.centerY;this.pivotX=0;this.pivotY=0;this.customPivot=false;this.rotated=false;this.autoRound=-1;this.customData={};this.u0=0;this.v0=0;this.u1=0;this.v1=0;this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:false,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:false,scale9:false,scale9Borders:{x:0,y:0,w:0,h:0}};this.setSize(n,a,r,s)},setCutPosition:function(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.cutX=t;this.cutY=e;return this.updateUVs()},setCutSize:function(t,e){this.cutWidth=t;this.cutHeight=e;return this.updateUVs()},setSize:function(t,e,i,r){if(i===void 0){i=0}if(r===void 0){r=0}this.setCutPosition(i,r);this.setCutSize(t,e);this.width=t;this.height=e;this.halfWidth=Math.floor(t*.5);this.halfHeight=Math.floor(e*.5);this.centerX=Math.floor(t/2);this.centerY=Math.floor(e/2);var s=this.data;var n=s.cut;n.x=i;n.y=r;n.w=t;n.h=e;n.r=i+t;n.b=r+e;s.sourceSize.w=t;s.sourceSize.h=e;s.spriteSourceSize.w=t;s.spriteSourceSize.h=e;s.radius=.5*Math.sqrt(t*t+e*e);var a=s.drawImage;a.x=i;a.y=r;a.width=t;a.height=e;return this.updateUVs()},setTrim:function(t,e,i,r,s,n){var a=this.data;var o=a.spriteSourceSize;a.trim=true;a.sourceSize.w=t;a.sourceSize.h=e;o.x=i;o.y=r;o.w=s;o.h=n;o.r=i+s;o.b=r+n;this.x=i;this.y=r;this.width=s;this.height=n;this.halfWidth=s*.5;this.halfHeight=n*.5;this.centerX=Math.floor(s/2);this.centerY=Math.floor(n/2);return this.updateUVs()},setScale9:function(t,e,i,r){var s=this.data;s.scale9=true;s.is3Slice=e===0&&r===this.height;s.scale9Borders.x=t;s.scale9Borders.y=e;s.scale9Borders.w=i;s.scale9Borders.h=r;return this},setCropUVs:function(t,e,i,r,n,a,o){var l=this.cutX;var h=this.cutY;var u=this.cutWidth;var c=this.cutHeight;var f=this.realWidth;var d=this.realHeight;e=s(e,0,f);i=s(i,0,d);r=s(r,0,f-e);n=s(n,0,d-i);var v=l+e;var p=h+i;var g=r;var m=n;var y=this.data;if(y.trim){var x=y.spriteSourceSize;r=s(r,0,x.x+u-e);n=s(n,0,x.y+c-i);var b=e+r;var T=i+n;var w=!(x.r<e||x.b<i||x.x>b||x.y>T);if(w){var E=Math.max(x.x,e);var S=Math.max(x.y,i);var A=Math.min(x.r,b)-E;var C=Math.min(x.b,T)-S;g=A;m=C;if(a){v=l+(u-(E-x.x)-A)}else{v=l+(E-x.x)}if(o){p=h+(c-(S-x.y)-C)}else{p=h+(S-x.y)}e=E;i=S;r=A;n=C}else{v=0;p=0;g=0;m=0}}else{if(a){v=l+(u-e-r)}if(o){p=h+(c-i-n)}}var O=this.source.width;var P=this.source.height;t.u0=Math.max(0,v/O);t.v0=Math.max(0,p/P);t.u1=Math.min(1,(v+g)/O);t.v1=Math.min(1,(p+m)/P);t.x=e;t.y=i;t.cx=v;t.cy=p;t.cw=g;t.ch=m;t.width=r;t.height=n;t.flipX=a;t.flipY=o;return t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},setUVs:function(t,e,i,r,s,n){var a=this.data.drawImage;a.width=t;a.height=e;this.u0=i;this.v0=r;this.u1=s;this.v1=n;return this},updateUVs:function(){var t=this.cutX;var e=this.cutY;var i=this.cutWidth;var r=this.cutHeight;var s=this.data.drawImage;s.width=i;s.height=r;var n=this.source.width;var a=this.source.height;this.u0=t/n;this.v0=e/a;this.u1=(t+i)/n;this.v1=(e+r)/a;return this},updateUVsInverted:function(){var t=this.source.width;var e=this.source.height;this.u0=(this.cutX+this.cutHeight)/t;this.v0=this.cutY/e;this.u1=this.cutX/t;this.v1=(this.cutY+this.cutWidth)/e;return this},clone:function(){var t=new a(this.texture,this.name,this.sourceIndex);t.cutX=this.cutX;t.cutY=this.cutY;t.cutWidth=this.cutWidth;t.cutHeight=this.cutHeight;t.x=this.x;t.y=this.y;t.width=this.width;t.height=this.height;t.halfWidth=this.halfWidth;t.halfHeight=this.halfHeight;t.centerX=this.centerX;t.centerY=this.centerY;t.rotated=this.rotated;t.data=n(true,t.data,this.data);t.updateUVs();return t},destroy:function(){this.texture=null;this.source=null;this.customData=null;this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=a},79237:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(4327);var n=i(11876);var a='Texture "%s" has no frame "%s"';var o=new r({initialize:function Texture2(t,e,i,r,s){if(!Array.isArray(i)){i=[i]}this.manager=t;this.key=e;this.source=[];this.dataSource=[];this.frames={};this.customData={};this.firstFrame="__BASE";this.frameTotal=0;for(var a=0;a<i.length;a++){this.source.push(new n(this,i[a],r,s))}},add:function(t,e,i,r,n,a){if(this.has(t)){return null}var o=new s(this,t,e,i,r,n,a);this.frames[t]=o;if(this.firstFrame==="__BASE"){this.firstFrame=t}this.frameTotal++;return o},remove:function(t){if(this.has(t)){var e=this.get(t);e.destroy();delete this.frames[t];return true}return false},has:function(t){return this.frames.hasOwnProperty(t)},get:function(t){if(!t){t=this.firstFrame}var e=this.frames[t];if(!e){console.warn(a,this.key,t);e=this.frames[this.firstFrame]}return e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++){if(this.source[e]===t){return e}}return-1},getFramesFromTextureSource:function(t,e){if(e===void 0){e=false}var i=[];for(var r in this.frames){if(r==="__BASE"&&!e){continue}var s=this.frames[r];if(s.sourceIndex===t){i.push(s)}}return i},getFrameBounds:function(t){if(t===void 0){t=0}var e=this.getFramesFromTextureSource(t,true);var i=e[0];var r=i.cutX;var s=i.cutY;var n=i.cutX+i.cutWidth;var a=i.cutY+i.cutHeight;for(var o=1;o<e.length;o++){var l=e[o];if(l.cutX<r){r=l.cutX}if(l.cutY<s){s=l.cutY}if(l.cutX+l.cutWidth>n){n=l.cutX+l.cutWidth}if(l.cutY+l.cutHeight>a){a=l.cutY+l.cutHeight}}return{x:r,y:s,width:n-r,height:a-s}},getFrameNames:function(t){if(t===void 0){t=false}var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");if(i!==-1){e.splice(i,1)}}return e},getSourceImage:function(t){if(t===void 0||t===null||this.frameTotal===1){t="__BASE"}var e=this.frames[t];if(e){return e.source.image}else{console.warn(a,this.key,t);return this.frames["__BASE"].source.image}},getDataSourceImage:function(t){if(t===void 0||t===null||this.frameTotal===1){t="__BASE"}var e=this.frames[t];var i;if(!e){console.warn(a,this.key,t);i=this.frames["__BASE"].sourceIndex}else{i=e.sourceIndex}return this.dataSource[i].image},setDataSource:function(t){if(!Array.isArray(t)){t=[t]}for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new n(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++){this.source[e].setFilter(t)}for(e=0;e<this.dataSource.length;e++){this.dataSource[e].setFilter(t)}},destroy:function(){var t;var e=this.source;var i=this.dataSource;for(t=0;t<e.length;t++){if(e[t]){e[t].destroy()}}for(t=0;t<i.length;t++){if(i[t]){i[t].destroy()}}for(var r in this.frames){var s=this.frames[r];if(s){s.destroy()}}this.source=[];this.dataSource=[];this.frames={};this.manager.removeKey(this.key);this.manager=null}});t.exports=o},17130:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s=i(57382);var n=i(83419);var a=i(40987);var o=i(8054);var l=i(81320);var h=i(50792);var u=i(69442);var c=i(4327);var f=i(8443);var d=i(99584);var v=i(35154);var p=i(88571);var g=i(41212);var m=i(61309);var y=i(87841);var x=i(79237);var b=new n({Extends:h,initialize:function TextureManager2(t){h.call(this);this.game=t;this.name="TextureManager";this.list={};this._tempCanvas=r.create2D(this);this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:true});this._pending=0;this.stamp;this.stampCrop=new y;this.silentWarnings=false;t.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=3;this.on(u.LOAD,this.updatePending,this);this.on(u.ERROR,this.updatePending,this);var t=this.game.config;if(t.defaultImage!==null){this.addBase64("__DEFAULT",t.defaultImage)}if(t.missingImage!==null){this.addBase64("__MISSING",t.missingImage)}if(t.whiteImage!==null){this.addBase64("__WHITE",t.whiteImage)}if(this.game.renderer&&this.game.renderer.gl){this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1)}this.game.events.once(f.DESTROY,this.destroy,this);this.game.events.once(f.SYSTEM_READY,(function(t){this.stamp=new p(t).setOrigin(0)}),this)},updatePending:function(){this._pending--;if(this._pending===0){this.off(u.LOAD);this.off(u.ERROR);this.emit(u.READY)}},checkKey:function(t){if(!t||typeof t!=="string"||this.exists(t)){if(!this.silentWarnings){console.error("Texture key already in use: "+t)}return false}return true},remove:function(t){if(typeof t==="string"){if(this.exists(t)){t=this.get(t)}else{if(!this.silentWarnings){console.warn("No texture found matching key: "+t)}return this}}var e=t.key;if(this.list.hasOwnProperty(e)){t.destroy();this.emit(u.REMOVE,e);this.emit(u.REMOVE_KEY+e)}return this},removeKey:function(t){if(this.list.hasOwnProperty(t)){delete this.list[t]}return this},addBase64:function(t,e){if(this.checkKey(t)){var i=this;var r=new Image;r.onerror=function(){i.emit(u.ERROR,t)};r.onload=function(){var e=i.create(t,r);if(!e){return}m.Image(e,0);i.emit(u.ADD,t,e);i.emit(u.ADD_KEY+t,e);i.emit(u.LOAD,t,e)};r.src=e}return this},getBase64:function(t,e,i,s){if(i===void 0){i="image/png"}if(s===void 0){s=.92}var n="";var a=this.getFrame(t,e);if(a&&(a.source.isRenderTexture||a.source.isGLTexture)){if(!this.silentWarnings){console.warn("Cannot getBase64 from WebGL Texture")}}else if(a){var o=a.canvasData;var l=r.create2D(this,o.width,o.height);var h=l.getContext("2d",{willReadFrequently:true});if(o.width>0&&o.height>0){h.drawImage(a.source.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height)}n=l.toDataURL(i,s);r.remove(l)}return n},addImage:function(t,e,i){var r=null;if(this.checkKey(t)){r=this.create(t,e);m.Image(r,0);if(i){r.setDataSource(i)}this.emit(u.ADD,t,r);this.emit(u.ADD_KEY+t,r)}return r},addGLTexture:function(t,e){var i=null;if(this.checkKey(t)){var r=e.width;var s=e.height;i=this.create(t,e,r,s);i.add("__BASE",0,0,0,r,s);this.emit(u.ADD,t,i);this.emit(u.ADD_KEY+t,i)}return i},addCompressedTexture:function(t,e,i){var r=null;if(this.checkKey(t)){r=this.create(t,e);r.add("__BASE",0,0,0,e.width,e.height);if(i){var parse=function(t,e,i){if(Array.isArray(i.textures)||Array.isArray(i.frames)){m.JSONArray(t,e,i)}else{m.JSONHash(t,e,i)}};if(Array.isArray(i)){for(var s=0;s<i.length;s++){parse(r,s,i[s])}}else{parse(r,0,i)}}this.emit(u.ADD,t,r);this.emit(u.ADD_KEY+t,r)}return r},addRenderTexture:function(t,e){var i=null;if(this.checkKey(t)){i=this.create(t,e);i.add("__BASE",0,0,0,e.width,e.height);this.emit(u.ADD,t,i);this.emit(u.ADD_KEY+t,i)}return i},generate:function(t,e){if(this.checkKey(t)){var i=r.create(this,1,1);e.canvas=i;d(e);return this.addCanvas(t,i)}else{return null}},createCanvas:function(t,e,i){if(e===void 0){e=256}if(i===void 0){i=256}if(this.checkKey(t)){var s=r.create(this,e,i,o.CANVAS,true);return this.addCanvas(t,s)}return null},addCanvas:function(t,e,i){if(i===void 0){i=false}var r=null;if(i){r=new s(this,t,e,e.width,e.height)}else if(this.checkKey(t)){r=new s(this,t,e,e.width,e.height);this.list[t]=r;this.emit(u.ADD,t,r);this.emit(u.ADD_KEY+t,r)}return r},addDynamicTexture:function(t,e,i){var r=null;if(typeof t==="string"&&!this.exists(t)){r=new l(this,t,e,i)}else{r=t;t=r.key}if(this.checkKey(t)){this.list[t]=r;this.emit(u.ADD,t,r);this.emit(u.ADD_KEY+t,r)}else{r=null}return r},addAtlas:function(t,e,i,r){if(Array.isArray(i.textures)||Array.isArray(i.frames)){return this.addAtlasJSONArray(t,e,i,r)}else{return this.addAtlasJSONHash(t,e,i,r)}},addAtlasJSONArray:function(t,e,i,r){var s=null;if(e instanceof x){t=e.key;s=e}else if(this.checkKey(t)){s=this.create(t,e)}if(s){if(Array.isArray(i)){var n=i.length===1;for(var a=0;a<s.source.length;a++){var o=n?i[0]:i[a];m.JSONArray(s,a,o)}}else{m.JSONArray(s,0,i)}if(r){s.setDataSource(r)}this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s)}return s},addAtlasJSONHash:function(t,e,i,r){var s=null;if(e instanceof x){t=e.key;s=e}else if(this.checkKey(t)){s=this.create(t,e)}if(s){if(Array.isArray(i)){for(var n=0;n<i.length;n++){m.JSONHash(s,n,i[n])}}else{m.JSONHash(s,0,i)}if(r){s.setDataSource(r)}this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s)}return s},addAtlasXML:function(t,e,i,r){var s=null;if(e instanceof x){t=e.key;s=e}else if(this.checkKey(t)){s=this.create(t,e)}if(s){m.AtlasXML(s,0,i);if(r){s.setDataSource(r)}this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s)}return s},addUnityAtlas:function(t,e,i,r){var s=null;if(e instanceof x){t=e.key;s=e}else if(this.checkKey(t)){s=this.create(t,e)}if(s){m.UnityYAML(s,0,i);if(r){s.setDataSource(r)}this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s)}return s},addSpriteSheet:function(t,e,i,r){var s=null;if(e instanceof x){t=e.key;s=e}else if(this.checkKey(t)){s=this.create(t,e)}if(s){var n=s.source[0].width;var a=s.source[0].height;m.SpriteSheet(s,0,0,0,n,a,i);if(r){s.setDataSource(r)}this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s)}return s},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t)){return null}var i=v(e,"atlas",null);var r=v(e,"frame",null);if(!i||!r){return}var s=this.get(i);var n=s.get(r);if(n){var a=n.source.image;if(!a){a=n.source.glTexture}var o=this.create(t,a);if(n.trimmed){m.SpriteSheetFromAtlas(o,n,e)}else{m.SpriteSheet(o,0,n.cutX,n.cutY,n.cutWidth,n.cutHeight,e)}this.emit(u.ADD,t,o);this.emit(u.ADD_KEY+t,o);return o}},addUint8Array:function(t,e,i,r){if(!this.checkKey(t)||e.length/4!==i*r){return null}var s=this.create(t,e,i,r);s.add("__BASE",0,0,0,i,r);this.emit(u.ADD,t,s);this.emit(u.ADD_KEY+t,s);return s},create:function(t,e,i,r){var s=null;if(this.checkKey(t)){s=new x(this,t,e,i,r);this.list[t]=s}return s},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){if(t===void 0){t="__DEFAULT"}if(this.list[t]){return this.list[t]}else if(t instanceof x){return t}else if(t instanceof c){return t.texture}else{return this.list["__MISSING"]}},cloneFrame:function(t,e){if(this.list[t]){return this.list[t].get(e).clone()}},getFrame:function(t,e){if(this.list[t]){return this.list[t].get(e)}},parseFrame:function(t){if(!t){return void 0}else if(typeof t==="string"){return this.getFrame(t)}else if(Array.isArray(t)&&t.length===2){return this.getFrame(t[0],t[1])}else if(g(t)){return this.getFrame(t.key,t.frame)}else if(t instanceof x){return t.get()}else if(t instanceof c){return t}},getTextureKeys:function(){var t=[];for(var e in this.list){if(e!=="__DEFAULT"&&e!=="__MISSING"&&e!=="__WHITE"&&e!=="__NORMAL"){t.push(e)}}return t},getPixel:function(t,e,i,r){var s=this.getFrame(i,r);if(s){t-=s.x;e-=s.y;var n=s.data.cut;t+=n.x;e+=n.y;if(t>=n.x&&t<n.r&&e>=n.y&&e<n.b){var o=this._tempContext;o.clearRect(0,0,1,1);o.drawImage(s.source.image,t,e,1,1,0,0,1,1);var l=o.getImageData(0,0,1,1);return new a(l.data[0],l.data[1],l.data[2],l.data[3])}}return null},getPixelAlpha:function(t,e,i,r){var s=this.getFrame(i,r);if(s){t-=s.x;e-=s.y;var n=s.data.cut;t+=n.x;e+=n.y;if(t>=n.x&&t<n.r&&e>=n.y&&e<n.b){var a=this._tempContext;a.clearRect(0,0,1,1);a.drawImage(s.source.image,t,e,1,1,0,0,1,1);var o=a.getImageData(0,0,1,1);return o.data[3]}}return null},setTexture:function(t,e,i){if(this.list[e]){t.texture=this.list[e];t.frame=t.texture.get(i)}return t},renameTexture:function(t,e){var i=this.get(t);if(i&&t!==e){i.key=e;this.list[e]=i;delete this.list[t];return true}return false},each:function(t,e){var i=[null];for(var r=1;r<arguments.length;r++){i.push(arguments[r])}for(var s in this.list){i[0]=this.list[s];t.apply(e,i)}},resetStamp:function(t,e){if(t===void 0){t=1}if(e===void 0){e=16777215}var i=this.stamp;i.setCrop();i.setPosition(0);i.setAngle(0);i.setScale(1);i.setAlpha(t);i.setTint(e);i.setTexture("__WHITE");return i},destroy:function(){for(var t in this.list){this.list[t].destroy()}this.list={};this.stamp.destroy();this.game=null;this.stamp=null;r.remove(this._tempCanvas)}});t.exports=b},11876:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(27919);var s=i(83419);var n=i(50030);var a=i(29795);var o=i(82751);var l=new s({initialize:function TextureSource2(t,e,i,r,s){if(s===void 0){s=false}var l=t.manager.game;this.renderer=l.renderer;this.texture=t;this.source=e;this.image=e.compressed?null:e;this.compressionAlgorithm=e.compressed?e.format:null;this.resolution=1;this.width=i||e.naturalWidth||e.videoWidth||e.width||0;this.height=r||e.naturalHeight||e.videoHeight||e.height||0;this.scaleMode=a.DEFAULT;this.isCanvas=e instanceof HTMLCanvasElement;this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&e instanceof HTMLVideoElement;this.isRenderTexture=e.type==="RenderTexture"||e.type==="DynamicTexture";this.isGLTexture=e instanceof o;this.isPowerOf2=n(this.width,this.height);this.glTexture=null;this.flipY=s;this.init(l)},init:function(t){var e=this.renderer;if(e){var i=this.source;if(e.gl){var r=this.image;var s=this.flipY;var n=this.width;var a=this.height;var o=this.scaleMode;if(this.isCanvas){this.glTexture=e.createCanvasTexture(r,false,s)}else if(this.isVideo){this.glTexture=e.createVideoTexture(r,false,s)}else if(this.isRenderTexture){this.glTexture=e.createTextureFromSource(null,n,a,o)}else if(this.isGLTexture){this.glTexture=i}else if(this.compressionAlgorithm){this.glTexture=e.createTextureFromSource(i,void 0,void 0,o)}else if(i instanceof Uint8Array){this.glTexture=e.createUint8ArrayTexture(i,n,a,o)}else{this.glTexture=e.createTextureFromSource(r,n,a,o)}}else if(this.isRenderTexture){this.image=i.canvas}}if(!t.config.antialias){this.setFilter(1)}},setFilter:function(t){if(this.renderer&&this.renderer.gl){this.renderer.setTextureFilter(this.glTexture,t)}this.scaleMode=t},setFlipY:function(t){if(t===void 0){t=true}if(t===this.flipY){return this}this.flipY=t;this.update();return this},update:function(){var t=this.renderer;var e=this.image;var i=this.flipY;var r=t.gl;if(r&&this.isCanvas){t.updateCanvasTexture(e,this.glTexture,i)}else if(r&&this.isVideo){t.updateVideoTexture(e,this.glTexture,i)}},destroy:function(){if(this.glTexture){this.renderer.deleteTexture(this.glTexture)}if(this.isCanvas){r.remove(this.image)}this.renderer=null;this.texture=null;this.source=null;this.image=null;this.glTexture=null}});t.exports=l},19673:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={LINEAR:0,NEAREST:1};t.exports=e},44538:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="addtexture"},63486:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="addtexture-"},94851:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="onerror"},29099:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="onload"},8678:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="ready"},86415:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="removetexture"},30879:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="removetexture-"},69442:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var s=i(19673);var n={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:s,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};n=r(false,n,s);t.exports=n},89905:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AtlasXML=function(t,e,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);var s=i.getElementsByTagName("SubTexture");var n;for(var a=0;a<s.length;a++){var o=s[a].attributes;var l=o.name.value;var h=parseInt(o.x.value,10);var u=parseInt(o.y.value,10);var c=parseInt(o.width.value,10);var f=parseInt(o.height.value,10);n=t.add(l,e,h,u,c,f);if(o.frameX){var d=Math.abs(parseInt(o.frameX.value,10));var v=Math.abs(parseInt(o.frameY.value,10));var p=parseInt(o.frameWidth.value,10);var g=parseInt(o.frameHeight.value,10);n.setTrim(c,f,d,v,p,g)}}return t};t.exports=AtlasXML},72893:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Canvas=function(t,e){var i=t.source[e];t.add("__BASE",e,0,0,i.width,i.height);return t};t.exports=Canvas},4832:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Image2=function(t,e){var i=t.source[e];t.add("__BASE",e,0,0,i.width,i.height);return t};t.exports=Image2},78566:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41786);var JSONArray=function(t,e,i){if(!i["frames"]&&!i["textures"]){console.warn("Invalid Texture Atlas JSON Array");return}var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height);var n=Array.isArray(i.textures)?i.textures[e].frames:i.frames;var a;for(var o=0;o<n.length;o++){var l=n[o];a=t.add(l.filename,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h);if(!a){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}if(l.trimmed){a.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h)}if(l.rotated){a.rotated=true;a.updateUVsInverted()}var h=l.anchor||l.pivot;if(h){a.customPivot=true;a.pivotX=h.x;a.pivotY=h.y}if(l.scale9Borders){a.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h)}a.customData=r(l)}for(var u in i){if(u==="frames"){continue}if(Array.isArray(i[u])){t.customData[u]=i[u].slice(0)}else{t.customData[u]=i[u]}}return t};t.exports=JSONArray},39711:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41786);var JSONHash=function(t,e,i){if(!i["frames"]){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height);var n=i.frames;var a;for(var o in n){if(!n.hasOwnProperty(o)){continue}var l=n[o];a=t.add(o,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h);if(!a){console.warn("Invalid atlas json, frame already exists: "+o);continue}if(l.trimmed){a.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h)}if(l.rotated){a.rotated=true;a.updateUVsInverted()}var h=l.anchor||l.pivot;if(h){a.customPivot=true;a.pivotX=h.x;a.pivotY=h.y}if(l.scale9Borders){a.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h)}a.customData=r(l)}for(var u in i){if(u==="frames"){continue}if(Array.isArray(i[u])){t.customData[u]=i[u].slice(0)}else{t.customData[u]=i[u]}}return t};t.exports=JSONHash},31403:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var KTXParser=function(t){var e=[171,75,84,88,32,49,49,187,13,10,26,10];var i;var r=new Uint8Array(t,0,12);for(i=0;i<r.length;i++){if(r[i]!==e[i]){console.warn("KTXParser - Invalid file format");return}}var s=Uint32Array.BYTES_PER_ELEMENT;var n=new DataView(t,12,13*s);var a=n.getUint32(0,true)===67305985;var o=n.getUint32(1*s,a);if(o!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=n.getUint32(4*s,a);var h=n.getUint32(6*s,a);var u=n.getUint32(7*s,a);var c=Math.max(1,n.getUint32(11*s,a));var f=n.getUint32(12*s,a);var d=new Array(c);var v=12+13*4+f;var p=h;var g=u;for(i=0;i<c;i++){var m=new Int32Array(t,v,1)[0];v+=4;d[i]={data:new Uint8Array(t,v,m),width:p,height:g};p=Math.max(1,p>>1);g=Math.max(1,g>>1);v+=m}return{mipmaps:d,width:h,height:u,internalFormat:l,compressed:true,generateMipmap:false}};t.exports=KTXParser},82038:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function GetSize(t,e,i,r,s,n,a){if(a===void 0){a=16}return Math.floor((t+i)/s)*Math.floor((e+r)/n)*a}function PVRTC2bppSize(t,e){t=Math.max(t,16);e=Math.max(e,8);return t*e/4}function PVRTC4bppSize(t,e){t=Math.max(t,8);e=Math.max(e,8);return t*e/2}function BPTCSize(t,e){return Math.ceil(t/4)*Math.ceil(e/4)*16}function DXTEtcSmallSize(t,e){return GetSize(t,e,3,3,4,4,8)}function DXTEtcAstcBigSize(t,e){return GetSize(t,e,3,3,4,4)}function ATC5x4Size(t,e){return GetSize(t,e,4,3,5,4)}function ATC5x5Size(t,e){return GetSize(t,e,4,4,5,5)}function ATC6x5Size(t,e){return GetSize(t,e,5,4,6,5)}function ATC6x6Size(t,e){return GetSize(t,e,5,5,6,6)}function ATC8x5Size(t,e){return GetSize(t,e,7,4,8,5)}function ATC8x6Size(t,e){return GetSize(t,e,7,5,8,6)}function ATC8x8Size(t,e){return GetSize(t,e,7,7,8,8)}function ATC10x5Size(t,e){return GetSize(t,e,9,4,10,5)}function ATC10x6Size(t,e){return GetSize(t,e,9,5,10,6)}function ATC10x8Size(t,e){return GetSize(t,e,9,7,10,8)}function ATC10x10Size(t,e){return GetSize(t,e,9,9,10,10)}function ATC12x10Size(t,e){return GetSize(t,e,11,9,12,10)}function ATC12x12Size(t,e){return GetSize(t,e,11,11,12,12)}var e={0:{sizeFunc:PVRTC2bppSize,glFormat:[35841]},1:{sizeFunc:PVRTC2bppSize,glFormat:[35843]},2:{sizeFunc:PVRTC4bppSize,glFormat:[35840]},3:{sizeFunc:PVRTC4bppSize,glFormat:[35842]},6:{sizeFunc:DXTEtcSmallSize,glFormat:[36196]},7:{sizeFunc:DXTEtcSmallSize,glFormat:[33776,35916]},8:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33777,35917]},9:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33778,35918]},11:{sizeFunc:DXTEtcAstcBigSize,glFormat:[33779,35919]},14:{sizeFunc:BPTCSize,glFormat:[36494,36495]},15:{sizeFunc:BPTCSize,glFormat:[36492,36493]},22:{sizeFunc:DXTEtcSmallSize,glFormat:[37492,37493]},23:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37496,37497]},24:{sizeFunc:DXTEtcSmallSize,glFormat:[37494,37495]},25:{sizeFunc:DXTEtcSmallSize,glFormat:[37488]},26:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37490]},27:{sizeFunc:DXTEtcAstcBigSize,glFormat:[37808,37840]},28:{sizeFunc:ATC5x4Size,glFormat:[37809,37841]},29:{sizeFunc:ATC5x5Size,glFormat:[37810,37842]},30:{sizeFunc:ATC6x5Size,glFormat:[37811,37843]},31:{sizeFunc:ATC6x6Size,glFormat:[37812,37844]},32:{sizeFunc:ATC8x5Size,glFormat:[37813,37845]},33:{sizeFunc:ATC8x6Size,glFormat:[37814,37846]},34:{sizeFunc:ATC8x8Size,glFormat:[37815,37847]},35:{sizeFunc:ATC10x5Size,glFormat:[37816,37848]},36:{sizeFunc:ATC10x6Size,glFormat:[37817,37849]},37:{sizeFunc:ATC10x8Size,glFormat:[37818,37850]},38:{sizeFunc:ATC10x10Size,glFormat:[37819,37851]},39:{sizeFunc:ATC12x10Size,glFormat:[37820,37852]},40:{sizeFunc:ATC12x12Size,glFormat:[37821,37853]}};var PVRParser=function(t){var i=new Uint32Array(t,0,13);var r=i[0];var s=r===55727696;var n=s?i[2]:i[3];var a=i[4];var o=e[n].glFormat[a];var l=e[n].sizeFunc;var h=i[11];var u=i[7];var c=i[6];var f=52+i[12];var d=new Uint8Array(t,f);var v=new Array(h);var p=0;var g=u;var m=c;for(var y=0;y<h;y++){var x=l(g,m);v[y]={data:new Uint8Array(d.buffer,d.byteOffset+p,x),width:g,height:m};g=Math.max(1,g>>1);m=Math.max(1,m>>1);p+=x}return{mipmaps:v,width:u,height:c,internalFormat:o,compressed:true,generateMipmap:false}};t.exports=PVRParser},75549:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var SpriteSheet=function(t,e,i,s,n,a,o){var l=r(o,"frameWidth",null);var h=r(o,"frameHeight",l);if(l===null){throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.")}var u=t.source[e];t.add("__BASE",e,0,0,u.width,u.height);var c=r(o,"startFrame",0);var f=r(o,"endFrame",-1);var d=r(o,"margin",0);var v=r(o,"spacing",0);var p=Math.floor((n-d+v)/(l+v));var g=Math.floor((a-d+v)/(h+v));var m=p*g;if(m===0){console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",t.key)}if(c>m||c<-m){c=0}if(c<0){c=m+c}if(f===-1||f>m||f<c){f=m}var y=d;var x=d;var b=0;var T=0;var w=0;for(var E=0;E<m;E++){b=0;T=0;var S=y+l;var A=x+h;if(S>n){b=S-n}if(A>a){T=A-a}if(E>=c&&E<=f){t.add(w,e,i+y,s+x,l-b,h-T);w++}y+=l+v;if(y+l>n){y=d;x+=h+v}}return t};t.exports=SpriteSheet},47534:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var SpriteSheetFromAtlas=function(t,e,i){var s=r(i,"frameWidth",null);var n=r(i,"frameHeight",s);if(!s){throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.")}var a=t.source[0];t.add("__BASE",0,0,0,a.width,a.height);r(i,"startFrame",0);r(i,"endFrame",-1);var o=r(i,"margin",0);var l=r(i,"spacing",0);var h=e.cutX;var u=e.cutY;var c=e.cutWidth;var f=e.cutHeight;var d=e.realWidth;var v=e.realHeight;var p=Math.floor((d-o+l)/(s+l));var g=Math.floor((v-o+l)/(n+l));var m=e.x;var y=s-m;var x=s-(d-c-m);var b=e.y;var T=n-b;var w=n-(v-f-b);var E;var S=o;var A=o;var C=0;var O=0;for(var P=0;P<g;P++){var I=P===0;var R=P===g-1;for(var M=0;M<p;M++){var L=M===0;var D=M===p-1;E=t.add(C,O,h+S,u+A,s,n);if(L||I||D||R){var k=L?m:0;var F=I?b:0;var B=0;var N=0;if(L){B+=s-y}if(D){B+=s-x}if(I){N+=n-T}if(R){N+=n-w}var U=s-B;var z=n-N;E.cutWidth=U;E.cutHeight=z;E.setTrim(s,n,k,F,U,z)}S+=l;if(L){S+=y}else if(D){S+=x}else{S+=s}C++}S=o;A+=l;if(I){A+=T}else if(R){A+=w}else{A+=n}}return t};t.exports=SpriteSheetFromAtlas},86147:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e=0;var addFrame=function(t,i,r,s){var n=e-s.y-s.height;t.add(r,i,s.x,n,s.width,s.height)};var UnityYAML=function(t,i,r){var s=t.source[i];t.add("__BASE",i,0,0,s.width,s.height);e=s.height;var n=r.split("\n");var a=/^[ ]*(- )*(\w+)+[: ]+(.*)/;var o="";var l="";var h={x:0,y:0,width:0,height:0};for(var u=0;u<n.length;u++){var c=n[u].match(a);if(!c){continue}var f=c[1]==="- ";var d=c[2];var v=c[3];if(f){if(l!==o){addFrame(t,i,l,h);o=l}h={x:0,y:0,width:0,height:0}}if(d==="name"){l=v;continue}switch(d){case"x":case"y":case"width":case"height":h[d]=parseInt(v,10);break}}if(l!==o){addFrame(t,i,l,h)}return t};t.exports=UnityYAML},55222:(t,e,i)=>{
/**
               * @author       Ben Richards <benjamindrichards@gmail.com>
               * @copyright    2024 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(50030);var verifyCompressedTexture=function(t){var e=t.mipmaps;for(var i=1;i<e.length;i++){var n=e[i].width;var a=e[i].height;if(!r(n,a)){console.warn("Mip level "+i+" is not a power-of-two size: "+n+"x"+a);return false}}var o=s[t.internalFormat];if(!o){console.warn("No format checker found for internal format "+t.internalFormat+". Assuming valid.");return true}return o(t)};function check4x4(t){var e=t.mipmaps;for(var i=0;i<e.length;i++){var r=e[i].width;var s=e[i].height;if((r<<i)%4!==0||(s<<i)%4!==0){console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+i+" is "+r+"x"+s);return false}}return true}function checkAlways(){return true}function checkPVRTC(t){var e=t.mipmaps;var i=e[0];if(!r(i.width,i.height)){console.warn("PVRTC base dimensions must be power of two. Base level is "+i.width+"x"+i.height);return false}return true}function checkS3TCSRGB(t){var e=t.mipmaps;var i=e[0];if(i.width%4!==0||i.height%4!==0){console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+i.width+"x"+i.height+" pixels");return false}return true}var s={37488:checkAlways,37489:checkAlways,37490:checkAlways,37491:checkAlways,37492:checkAlways,37493:checkAlways,37494:checkAlways,37495:checkAlways,37496:checkAlways,37497:checkAlways,36196:checkAlways,37808:checkAlways,37809:checkAlways,37810:checkAlways,37811:checkAlways,37812:checkAlways,37813:checkAlways,37814:checkAlways,37815:checkAlways,37816:checkAlways,37817:checkAlways,37818:checkAlways,37819:checkAlways,37820:checkAlways,37821:checkAlways,37840:checkAlways,37841:checkAlways,37842:checkAlways,37843:checkAlways,37844:checkAlways,37845:checkAlways,37846:checkAlways,37847:checkAlways,37848:checkAlways,37849:checkAlways,37850:checkAlways,37851:checkAlways,37852:checkAlways,37853:checkAlways,36492:check4x4,36493:check4x4,36494:check4x4,36495:check4x4,36283:check4x4,36284:check4x4,36285:check4x4,36286:check4x4,35840:checkPVRTC,35841:checkPVRTC,35842:checkPVRTC,35843:checkPVRTC,33776:check4x4,33777:check4x4,33778:check4x4,33779:check4x4,35916:checkS3TCSRGB,35917:checkS3TCSRGB,35918:checkS3TCSRGB,35919:checkS3TCSRGB};t.exports=verifyCompressedTexture},61309:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function ImageCollection2(t,e,i,r,s,n,a){if(i===void 0||i<=0){i=32}if(r===void 0||r<=0){r=32}if(s===void 0){s=0}if(n===void 0){n=0}this.name=t;this.firstgid=e|0;this.imageWidth=i|0;this.imageHeight=r|0;this.imageMargin=s|0;this.imageSpacing=n|0;this.properties=a||{};this.images=[];this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e,i,r){this.images.push({gid:t,image:e,width:i,height:r});this.total++;return this}});t.exports=s},27462:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2021 Photon Storm Ltd.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=new r({initialize:function ObjectHelper2(t){this.gids=[];if(t!==void 0){for(var e=0;e<t.length;++e){var i=t[e];for(var r=0;r<i.total;++r){this.gids[i.firstgid+r]=i}}}this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(t){this.gids=t?this._gids:void 0}},getTypeIncludingTile:function(t){if(t.type!==void 0&&t.type!==""){return t.type}if(!this.gids||t.gid===void 0){return void 0}var e=this.gids[t.gid];if(!e){return void 0}var i=e.getTileData(t.gid);if(!i){return void 0}return i.type},setTextureAndFrame:function(t,e,i,r){if(e===null&&this.gids&&r.gid!==void 0){var s=this.gids[r.gid];if(s){if(e===null&&s.image!==void 0){e=s.image.key}if(i===null){i=r.gid-s.firstgid}if(!t.scene.textures.getFrame(e,i)){e=null;i=null}}}t.setTexture(e,i)},setPropertiesFromTiledObject:function(t,e){if(this.gids!==void 0&&e.gid!==void 0){var i=this.gids[e.gid];if(i!==void 0){this.setFromJSON(t,i.getTileProperties(e.gid))}}this.setFromJSON(t,e.properties)},setFromJSON:function(t,e){if(!e){return}if(Array.isArray(e)){for(var i=0;i<e.length;i++){var r=e[i];if(t[r.name]!==void 0){t[r.name]=r.value}else{t.setData(r.name,r.value)}}return}for(var s in e){if(t[s]!==void 0){t[s]=e[s]}else{t.setData(s,e[s])}}}});t.exports=s},31989:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80341);var s=i(87010);var n=i(46177);var a=i(49075);var ParseToTilemap=function(t,e,i,o,l,h,u,c){if(i===void 0){i=32}if(o===void 0){o=32}if(l===void 0){l=10}if(h===void 0){h=10}if(c===void 0){c=false}var f=null;if(Array.isArray(u)){var d=e!==void 0?e:"map";f=n(d,r.ARRAY_2D,u,i,o,c)}else if(e!==void 0){var v=t.cache.tilemap.get(e);if(!v){console.warn("No map data found for key "+e)}else{f=n(e,v.format,v.data,i,o,c)}}if(f===null){f=new s({tileWidth:i,tileHeight:o,width:l,height:h})}return new a(t,f)};t.exports=ParseToTilemap},23029:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(31401);var n=i(91907);var a=i(62644);var o=i(93232);var l=new r({Mixins:[s.AlphaSingle,s.Flip,s.Visible],initialize:function Tile2(t,e,i,r,s,n,a,o){this.layer=t;this.index=e;this.x=i;this.y=r;this.width=s;this.height=n;this.right;this.bottom;this.baseWidth=a!==void 0?a:s;this.baseHeight=o!==void 0?o:n;this.pixelX=0;this.pixelY=0;this.updatePixelXY();this.properties={};this.rotation=0;this.collideLeft=false;this.collideRight=false;this.collideUp=false;this.collideDown=false;this.faceLeft=false;this.faceRight=false;this.faceTop=false;this.faceBottom=false;this.collisionCallback=void 0;this.collisionCallbackContext=this;this.tint=16777215;this.tintFill=false;this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){this.index=t.index;this.alpha=t.alpha;this.properties=a(t.properties);this.visible=t.visible;this.setFlip(t.flipX,t.flipY);this.tint=t.tint;this.rotation=t.rotation;this.collideUp=t.collideUp;this.collideDown=t.collideDown;this.collideLeft=t.collideLeft;this.collideRight=t.collideRight;this.collisionCallback=t.collisionCallback;this.collisionCallbackContext=t.collisionCallbackContext;return this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;if(e){var i=e.tileToWorldXY(this.x,this.y,void 0,t);return i.x}return this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;if(e){var i=e.tileToWorldXY(this.x,this.y,void 0,t);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){if(e===void 0){e=new o}e.x=this.getLeft(t);e.y=this.getTop(t);e.width=this.getRight(t)-e.x;e.height=this.getBottom(t)-e.y;return e},getCenterX:function(t){return(this.getLeft(t)+this.getRight(t))/2},getCenterY:function(t){return(this.getTop(t)+this.getBottom(t))/2},intersects:function(t,e,i,r){return!(i<=this.pixelX||r<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){if(t&&e){return this.canCollide||this.hasInterestingFace}else if(t){return this.collides}else if(e){return this.hasInterestingFace}return false},resetCollision:function(t){if(t===void 0){t=true}this.collideLeft=false;this.collideRight=false;this.collideUp=false;this.collideDown=false;this.faceTop=false;this.faceBottom=false;this.faceLeft=false;this.faceRight=false;if(t){var e=this.tilemapLayer;if(e){this.tilemapLayer.calculateFacesAt(this.x,this.y)}}return this},resetFaces:function(){this.faceTop=false;this.faceBottom=false;this.faceLeft=false;this.faceRight=false;return this},setCollision:function(t,e,i,r,s){if(e===void 0){e=t}if(i===void 0){i=t}if(r===void 0){r=t}if(s===void 0){s=true}this.collideLeft=t;this.collideRight=e;this.collideUp=i;this.collideDown=r;this.faceLeft=t;this.faceRight=e;this.faceTop=i;this.faceBottom=r;if(s){var n=this.tilemapLayer;if(n){this.tilemapLayer.calculateFacesAt(this.x,this.y)}}return this},setCollisionCallback:function(t,e){if(t===null){this.collisionCallback=void 0;this.collisionCallbackContext=void 0}else{this.collisionCallback=t;this.collisionCallbackContext=e}return this},setSize:function(t,e,i,r){if(t!==void 0){this.width=t}if(e!==void 0){this.height=e}if(i!==void 0){this.baseWidth=i}if(r!==void 0){this.baseHeight=r}this.updatePixelXY();return this},updatePixelXY:function(){var t=this.layer.orientation;if(t===n.ORTHOGONAL){this.pixelX=this.x*this.baseWidth;this.pixelY=this.y*this.baseHeight}else if(t===n.ISOMETRIC){this.pixelX=(this.x-this.y)*this.baseWidth*.5;this.pixelY=(this.x+this.y)*this.baseHeight*.5}else if(t===n.STAGGERED){this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2);this.pixelY=this.y*(this.baseHeight/2)}else if(t===n.HEXAGONAL){var e=this.layer.staggerAxis;var i=this.layer.staggerIndex;var r=this.layer.hexSideLength;var s;var a;if(e==="y"){a=(this.baseHeight-r)/2+r;if(i==="odd"){this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2)}else{this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2)}this.pixelY=this.y*a}else if(e==="x"){s=(this.baseWidth-r)/2+r;this.pixelX=this.x*s;if(i==="odd"){this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2)}else{this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2)}}}this.right=this.pixelX+this.baseWidth;this.bottom=this.pixelY+this.baseHeight;return this},destroy:function(){this.collisionCallback=void 0;this.collisionCallbackContext=void 0;this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.layer.tilemapLayer;if(t){var e=t.gidMap[this.index];if(e){return e}}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=l},49075:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(84101);var s=i(83419);var n=i(39506);var a=i(80341);var o=i(95540);var l=i(14977);var h=i(27462);var u=i(91907);var c=i(36305);var f=i(19133);var d=i(68287);var v=i(23029);var p=i(81086);var g=i(20442);var m=i(33629);var y=new s({initialize:function Tilemap2(t,e){this.scene=t;this.tileWidth=e.tileWidth;this.tileHeight=e.tileHeight;this.width=e.width;this.height=e.height;this.orientation=e.orientation;this.renderOrder=e.renderOrder;this.format=e.format;this.version=e.version;this.properties=e.properties;this.widthInPixels=e.widthInPixels;this.heightInPixels=e.heightInPixels;this.imageCollections=e.imageCollections;this.images=e.images;this.layers=e.layers;this.tiles=e.tiles;this.tilesets=e.tilesets;this.objects=e.objects;this.currentLayerIndex=0;this.hexSideLength=e.hexSideLength;var i=this.orientation;this._convert={WorldToTileXY:p.GetWorldToTileXYFunction(i),WorldToTileX:p.GetWorldToTileXFunction(i),WorldToTileY:p.GetWorldToTileYFunction(i),TileToWorldXY:p.GetTileToWorldXYFunction(i),TileToWorldX:p.GetTileToWorldXFunction(i),TileToWorldY:p.GetTileToWorldYFunction(i),GetTileCorners:p.GetTileCornersFunction(i)}},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];if(typeof t==="number"){t=e[t]}if(e.indexOf(t)>-1){this.renderOrder=t}return this},addTilesetImage:function(t,e,i,s,n,o,l,h){if(t===void 0){return null}if(e===void 0||e===null){e=t}var u=this.scene.sys.textures;if(!u.exists(e)){console.warn('Texture key "%s" not found',e);return null}var c=u.get(e);var f=this.getTilesetIndex(t);if(f===null&&this.format===a.TILED_JSON){console.warn('Tilemap has no tileset "%s". Its tilesets are %o',t,this.tilesets);return null}var d=this.tilesets[f];if(d){if(i||s){d.setTileSize(i,s)}if(n||o){d.setSpacing(n,o)}d.setImage(c);return d}if(i===void 0){i=this.tileWidth}if(s===void 0){s=this.tileHeight}if(n===void 0){n=0}if(o===void 0){o=0}if(l===void 0){l=0}if(h===void 0){h={x:0,y:0}}d=new m(t,l,i,s,n,o,void 0,void 0,h);d.setImage(c);this.tilesets.push(d);this.tiles=r(this);return d},copy:function(t,e,i,r,s,n,a,o){o=this.getLayer(o);if(o!==null){p.Copy(t,e,i,r,s,n,a,o);return this}else{return null}},createBlankLayer:function(t,e,i,r,s,n,a,o){if(i===void 0){i=0}if(r===void 0){r=0}if(s===void 0){s=this.width}if(n===void 0){n=this.height}if(a===void 0){a=this.tileWidth}if(o===void 0){o=this.tileHeight}var h=this.getLayerIndex(t);if(h!==null){console.warn("Invalid Tilemap Layer ID: "+t);return null}var u=new l({name:t,tileWidth:a,tileHeight:o,width:s,height:n,orientation:this.orientation,hexSideLength:this.hexSideLength});var c;for(var f=0;f<n;f++){c=[];for(var d=0;d<s;d++){c.push(new v(u,-1,d,f,a,o,this.tileWidth,this.tileHeight))}u.data.push(c)}this.layers.push(u);this.currentLayerIndex=this.layers.length-1;var p=new g(this.scene,this,this.currentLayerIndex,e,i,r);p.setRenderOrder(this.renderOrder);this.scene.sys.displayList.add(p);return p},createLayer:function(t,e,i,r){var s=this.getLayerIndex(t);if(s===null){console.warn("Invalid Tilemap Layer ID: "+t);if(typeof t==="string"){console.warn("Valid tilelayer names: %o",this.getTileLayerNames())}return null}var n=this.layers[s];if(n.tilemapLayer){console.warn("Tilemap Layer ID already exists:"+t);return null}this.currentLayerIndex=s;if(i===void 0){i=n.x}if(r===void 0){r=n.y}var a=new g(this.scene,this,s,e,i,r);a.setRenderOrder(this.renderOrder);this.scene.sys.displayList.add(a);return a},createFromObjects:function(t,e,i){if(i===void 0){i=true}var r=[];var s=this.getObjectLayer(t);if(!s){console.warn("createFromObjects: Invalid objectLayerName given: "+t);return r}var a=new h(i?this.tilesets:void 0);if(!Array.isArray(e)){e=[e]}var l=s.objects;for(var f=0;f<e.length;f++){var v=e[f];var p=o(v,"id",null);var g=o(v,"gid",null);var m=o(v,"name",null);var y=o(v,"type",null);a.enabled=!o(v,"ignoreTileset",null);var x;var b=[];for(var T=0;T<l.length;T++){x=l[T];if(p===null&&g===null&&m===null&&y===null||p!==null&&x.id===p||g!==null&&x.gid===g||m!==null&&x.name===m||y!==null&&a.getTypeIncludingTile(x)===y){b.push(x)}}var w=o(v,"classType",d);var E=o(v,"scene",this.scene);var S=o(v,"container",null);var A=o(v,"key",null);var C=o(v,"frame",null);for(var O=0;O<b.length;O++){x=b[O];var P=new w(E);P.setName(x.name);P.setPosition(x.x,x.y);a.setTextureAndFrame(P,A,C,x);if(x.width){P.displayWidth=x.width}if(x.height){P.displayHeight=x.height}if(this.orientation===u.ISOMETRIC){var I=this.tileWidth/this.tileHeight;var R={x:P.x-P.y,y:(P.x+P.y)/I};P.x=R.x;P.y=R.y}var M={x:P.originX*x.width,y:(P.originY-(x.gid?1:0))*x.height};if(x.rotation){var L=n(x.rotation);c(M,L);P.rotation=L}P.x+=M.x;P.y+=M.y;if(x.flippedHorizontal!==void 0||x.flippedVertical!==void 0){P.setFlip(x.flippedHorizontal,x.flippedVertical)}if(!x.visible){P.visible=false}a.setPropertiesFromTiledObject(P,x);if(S){S.add(P)}else{E.add.existing(P)}r.push(P)}}return r},createFromTiles:function(t,e,i,r,s,n){n=this.getLayer(n);if(n===null){return null}return p.CreateFromTiles(t,e,i,r,s,n)},fill:function(t,e,i,r,s,n,a){if(n===void 0){n=true}a=this.getLayer(a);if(a===null){return null}p.Fill(t,e,i,r,s,n,a);return this},filterObjects:function(t,e,i){if(typeof t==="string"){var r=t;t=this.getObjectLayer(t);if(!t){console.warn("No object layer found with the name: "+r);return null}}return t.objects.filter(e,i)},filterTiles:function(t,e,i,r,s,n,a,o){o=this.getLayer(o);if(o===null){return null}return p.FilterTiles(t,e,i,r,s,n,a,o)},findByIndex:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return p.FindByIndex(t,e,i,r)},findObject:function(t,e,i){if(typeof t==="string"){var r=t;t=this.getObjectLayer(t);if(!t){console.warn("No object layer found with the name: "+r);return null}}return t.objects.find(e,i)||null},findTile:function(t,e,i,r,s,n,a,o){o=this.getLayer(o);if(o===null){return null}return p.FindTile(t,e,i,r,s,n,a,o)},forEachTile:function(t,e,i,r,s,n,a,o){o=this.getLayer(o);if(o===null){return null}p.ForEachTile(t,e,i,r,s,n,a,o);return this},getImageIndex:function(t){return this.getIndex(this.images,t)},getImageLayerNames:function(){if(!this.images||!Array.isArray(this.images)){return[]}return this.images.map((function(t){return t.name}))},getIndex:function(t,e){for(var i=0;i<t.length;i++){if(t[i].name===e){return i}}return null},getLayer:function(t){var e=this.getLayerIndex(t);return e!==null?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return e!==null?this.objects[e]:null},getObjectLayerNames:function(){if(!this.objects||!Array.isArray(this.objects)){return[]}return this.objects.map((function(t){return t.name}))},getLayerIndex:function(t){if(t===void 0){return this.currentLayerIndex}else if(typeof t==="string"){return this.getLayerIndexByName(t)}else if(typeof t==="number"&&t<this.layers.length){return t}else if(t instanceof g&&t.tilemap===this){return t.layerIndex}else{return null}},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return p.GetTileAt(t,e,i,r)},getTileAtWorldXY:function(t,e,i,r,s){s=this.getLayer(s);if(s===null){return null}return p.GetTileAtWorldXY(t,e,i,r,s)},getTileLayerNames:function(){if(!this.layers||!Array.isArray(this.layers)){return[]}return this.layers.map((function(t){return t.name}))},getTilesWithin:function(t,e,i,r,s,n){n=this.getLayer(n);if(n===null){return null}return p.GetTilesWithin(t,e,i,r,s,n)},getTilesWithinShape:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return p.GetTilesWithinShape(t,e,i,r)},getTilesWithinWorldXY:function(t,e,i,r,s,n,a){a=this.getLayer(a);if(a===null){return null}return p.GetTilesWithinWorldXY(t,e,i,r,s,n,a)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return e!==null?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){i=this.getLayer(i);if(i===null){return null}return p.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return p.HasTileAtWorldXY(t,e,i,r)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,r,s){if(r===void 0){r=true}s=this.getLayer(s);if(s===null){return null}return p.PutTileAt(t,e,i,r,s)},putTileAtWorldXY:function(t,e,i,r,s,n){if(r===void 0){r=true}n=this.getLayer(n);if(n===null){return null}return p.PutTileAtWorldXY(t,e,i,r,s,n)},putTilesAt:function(t,e,i,r,s){if(r===void 0){r=true}s=this.getLayer(s);if(s===null){return null}p.PutTilesAt(t,e,i,r,s);return this},randomize:function(t,e,i,r,s,n){n=this.getLayer(n);if(n===null){return null}p.Randomize(t,e,i,r,s,n);return this},calculateFacesAt:function(t,e,i){i=this.getLayer(i);if(i===null){return null}p.CalculateFacesAt(t,e,i);return this},calculateFacesWithin:function(t,e,i,r,s){s=this.getLayer(s);if(s===null){return null}p.CalculateFacesWithin(t,e,i,r,s);return this},removeLayer:function(t){var e=this.getLayerIndex(t);if(e!==null){f(this.layers,e);for(var i=e;i<this.layers.length;i++){if(this.layers[i].tilemapLayer){this.layers[i].tilemapLayer.layerIndex--}}if(this.currentLayerIndex===e){this.currentLayerIndex=0}return this}else{return null}},destroyLayer:function(t){var e=this.getLayerIndex(t);if(e!==null){t=this.layers[e];t.tilemapLayer.destroy();f(this.layers,e);if(this.currentLayerIndex===e){this.currentLayerIndex=0}return this}else{return null}},removeAllLayers:function(){var t=this.layers;for(var e=0;e<t.length;e++){if(t[e].tilemapLayer){t[e].tilemapLayer.destroy(false)}}t.length=0;this.currentLayerIndex=0;return this},removeTile:function(t,e,i){if(e===void 0){e=-1}if(i===void 0){i=true}var r=[];if(!Array.isArray(t)){t=[t]}for(var s=0;s<t.length;s++){var n=t[s];r.push(this.removeTileAt(n.x,n.y,true,i,n.tilemapLayer));if(e>-1){this.putTileAt(e,n.x,n.y,i,n.tilemapLayer)}}return r},removeTileAt:function(t,e,i,r,s){if(i===void 0){i=true}if(r===void 0){r=true}s=this.getLayer(s);if(s===null){return null}return p.RemoveTileAt(t,e,i,r,s)},removeTileAtWorldXY:function(t,e,i,r,s,n){if(i===void 0){i=true}if(r===void 0){r=true}n=this.getLayer(n);if(n===null){return null}return p.RemoveTileAtWorldXY(t,e,i,r,s,n)},renderDebug:function(t,e,i){i=this.getLayer(i);if(i===null){return null}if(this.orientation===u.ORTHOGONAL){p.RenderDebug(t,e,i)}return this},renderDebugFull:function(t,e){var i=this.layers;for(var r=0;r<i.length;r++){p.RenderDebug(t,e,i[r])}return this},replaceByIndex:function(t,e,i,r,s,n,a){a=this.getLayer(a);if(a===null){return null}p.ReplaceByIndex(t,e,i,r,s,n,a);return this},setCollision:function(t,e,i,r,s){if(e===void 0){e=true}if(i===void 0){i=true}if(s===void 0){s=true}r=this.getLayer(r);if(r===null){return null}p.SetCollision(t,e,i,r,s);return this},setCollisionBetween:function(t,e,i,r,s){if(i===void 0){i=true}if(r===void 0){r=true}s=this.getLayer(s);if(s===null){return null}p.SetCollisionBetween(t,e,i,r,s);return this},setCollisionByProperty:function(t,e,i,r){if(e===void 0){e=true}if(i===void 0){i=true}r=this.getLayer(r);if(r===null){return null}p.SetCollisionByProperty(t,e,i,r);return this},setCollisionByExclusion:function(t,e,i,r){if(e===void 0){e=true}if(i===void 0){i=true}r=this.getLayer(r);if(r===null){return null}p.SetCollisionByExclusion(t,e,i,r);return this},setCollisionFromCollisionGroup:function(t,e,i){if(t===void 0){t=true}if(e===void 0){e=true}i=this.getLayer(i);if(i===null){return null}p.SetCollisionFromCollisionGroup(t,e,i);return this},setTileIndexCallback:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}p.SetTileIndexCallback(t,e,i,r);return this},setTileLocationCallback:function(t,e,i,r,s,n,a){a=this.getLayer(a);if(a===null){return null}p.SetTileLocationCallback(t,e,i,r,s,n,a);return this},setLayer:function(t){var e=this.getLayerIndex(t);if(e!==null){this.currentLayerIndex=e}return this},setBaseTileSize:function(t,e){this.tileWidth=t;this.tileHeight=e;this.widthInPixels=this.width*t;this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=t;this.layers[i].baseTileHeight=e;var r=this.layers[i].data;var s=this.layers[i].width;var n=this.layers[i].height;for(var a=0;a<n;a++){for(var o=0;o<s;o++){var l=r[a][o];if(l!==null){l.setSize(void 0,void 0,t,e)}}}}return this},setLayerTileSize:function(t,e,i){i=this.getLayer(i);if(i===null){return this}i.tileWidth=t;i.tileHeight=e;var r=i.data;var s=i.width;var n=i.height;for(var a=0;a<n;a++){for(var o=0;o<s;o++){var l=r[a][o];if(l!==null){l.setSize(t,e)}}}return this},shuffle:function(t,e,i,r,s){s=this.getLayer(s);if(s===null){return null}p.Shuffle(t,e,i,r,s);return this},swapByIndex:function(t,e,i,r,s,n,a){a=this.getLayer(a);if(a===null){return null}p.SwapByIndex(t,e,i,r,s,n,a);return this},tileToWorldX:function(t,e,i){i=this.getLayer(i);if(i===null){return null}return this._convert.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){i=this.getLayer(i);if(i===null){return null}return this._convert.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,r,s){s=this.getLayer(s);if(s===null){return null}return this._convert.TileToWorldXY(t,e,i,r,s)},getTileCorners:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return this._convert.GetTileCorners(t,e,i,r)},weightedRandomize:function(t,e,i,r,s,n){n=this.getLayer(n);if(n===null){return null}p.WeightedRandomize(e,i,r,s,t,n);return this},worldToTileX:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return this._convert.WorldToTileX(t,e,i,r)},worldToTileY:function(t,e,i,r){r=this.getLayer(r);if(r===null){return null}return this._convert.WorldToTileY(t,e,i,r)},worldToTileXY:function(t,e,i,r,s,n){n=this.getLayer(n);if(n===null){return null}return this._convert.WorldToTileXY(t,e,i,r,s,n)},destroy:function(){this.removeAllLayers();this.tiles.length=0;this.tilesets.length=0;this.objects.length=0;this.scene=null}});t.exports=y},45939:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(44603);var s=i(31989);r.register("tilemap",(function(t){var e=t!==void 0?t:{};return s(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)}))},46029:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(39429);var s=i(31989);r.register("tilemap",(function(t,e,i,r,n,a,o){if(t===null){t=void 0}if(e===null){e=void 0}if(i===null){i=void 0}if(r===null){r=void 0}if(n===null){n=void 0}return s(this.scene,t,e,i,r,n,a,o)}))},20442:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(78389);var n=i(31401);var a=i(95643);var o=i(81086);var l=i(19218);var h=i(26099);var u=new r({Extends:a,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.Transform,n.Visible,n.ScrollFactor,s,l],initialize:function TilemapLayer2(t,e,i,r,s,n){a.call(this,t,"TilemapLayer");this.isTilemap=true;this.tilemap=e;this.layerIndex=i;this.layer=e.layers[i];this.layer.tilemapLayer=this;this.tileset=[];this.tilesDrawn=0;this.tilesTotal=this.layer.width*this.layer.height;this.culledTiles=[];this.skipCull=false;this.cullPaddingX=1;this.cullPaddingY=1;this.cullCallback=o.GetCullTilesFunction(this.layer.orientation);this._renderOrder=0;this.gidMap=[];this.tempVec=new h;this.collisionCategory=1;this.collisionMask=1;this.setTilesets(r);this.setAlpha(this.layer.alpha);this.setPosition(s,n);this.setOrigin(0,0);this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height);this.initPipeline();this.initPostPipeline(false)},setTilesets:function(t){var e=[];var i=[];var r=this.tilemap;if(!Array.isArray(t)){t=[t]}for(var s=0;s<t.length;s++){var n=t[s];if(typeof n==="string"){n=r.getTileset(n)}if(n){i.push(n);var a=n.firstgid;for(var o=0;o<n.total;o++){e[a+o]=n}}}this.gidMap=e;this.tileset=i},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];if(typeof t==="string"){t=e.indexOf(t)}if(t>=0&&t<4){this._renderOrder=t}return this},calculateFacesAt:function(t,e){o.CalculateFacesAt(t,e,this.layer);return this},calculateFacesWithin:function(t,e,i,r){o.CalculateFacesWithin(t,e,i,r,this.layer);return this},createFromTiles:function(t,e,i,r,s){return o.CreateFromTiles(t,e,i,r,s,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,r,s,n,a){o.Copy(t,e,i,r,s,n,a,this.layer);return this},fill:function(t,e,i,r,s,n){o.Fill(t,e,i,r,s,n,this.layer);return this},filterTiles:function(t,e,i,r,s,n,a){return o.FilterTiles(t,e,i,r,s,n,a,this.layer)},findByIndex:function(t,e,i){return o.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,r,s,n,a){return o.FindTile(t,e,i,r,s,n,a,this.layer)},forEachTile:function(t,e,i,r,s,n,a){o.ForEachTile(t,e,i,r,s,n,a,this.layer);return this},setTint:function(t,e,i,r,s,n){if(t===void 0){t=16777215}var tintTile=function(e){e.tint=t;e.tintFill=false};return this.forEachTile(tintTile,this,e,i,r,s,n)},setTintFill:function(t,e,i,r,s,n){if(t===void 0){t=16777215}var tintTile=function(e){e.tint=t;e.tintFill=true};return this.forEachTile(tintTile,this,e,i,r,s,n)},getTileAt:function(t,e,i){return o.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,r){return o.GetTileAtWorldXY(t,e,i,r,this.layer)},getIsoTileAtWorldXY:function(t,e,i,r,s){if(i===void 0){i=true}var n=this.tempVec;o.IsometricWorldToTileXY(t,e,true,n,s,this.layer,i);return this.getTileAt(n.x,n.y,r)},getTilesWithin:function(t,e,i,r,s){return o.GetTilesWithin(t,e,i,r,s,this.layer)},getTilesWithinShape:function(t,e,i){return o.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,r,s,n){return o.GetTilesWithinWorldXY(t,e,i,r,s,n,this.layer)},hasTileAt:function(t,e){return o.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return o.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,r){return o.PutTileAt(t,e,i,r,this.layer)},putTileAtWorldXY:function(t,e,i,r,s){return o.PutTileAtWorldXY(t,e,i,r,s,this.layer)},putTilesAt:function(t,e,i,r){o.PutTilesAt(t,e,i,r,this.layer);return this},randomize:function(t,e,i,r,s){o.Randomize(t,e,i,r,s,this.layer);return this},removeTileAt:function(t,e,i,r){return o.RemoveTileAt(t,e,i,r,this.layer)},removeTileAtWorldXY:function(t,e,i,r,s){return o.RemoveTileAtWorldXY(t,e,i,r,s,this.layer)},renderDebug:function(t,e){o.RenderDebug(t,e,this.layer);return this},replaceByIndex:function(t,e,i,r,s,n){o.ReplaceByIndex(t,e,i,r,s,n,this.layer);return this},setSkipCull:function(t){if(t===void 0){t=true}this.skipCull=t;return this},setCullPadding:function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}this.cullPaddingX=t;this.cullPaddingY=e;return this},setCollision:function(t,e,i,r){o.SetCollision(t,e,i,this.layer,r);return this},setCollisionBetween:function(t,e,i,r){o.SetCollisionBetween(t,e,i,r,this.layer);return this},setCollisionByProperty:function(t,e,i){o.SetCollisionByProperty(t,e,i,this.layer);return this},setCollisionByExclusion:function(t,e,i){o.SetCollisionByExclusion(t,e,i,this.layer);return this},setCollisionFromCollisionGroup:function(t,e){o.SetCollisionFromCollisionGroup(t,e,this.layer);return this},setTileIndexCallback:function(t,e,i){o.SetTileIndexCallback(t,e,i,this.layer);return this},setTileLocationCallback:function(t,e,i,r,s,n){o.SetTileLocationCallback(t,e,i,r,s,n,this.layer);return this},shuffle:function(t,e,i,r){o.Shuffle(t,e,i,r,this.layer);return this},swapByIndex:function(t,e,i,r,s,n){o.SwapByIndex(t,e,i,r,s,n,this.layer);return this},tileToWorldX:function(t,e){return this.tilemap.tileToWorldX(t,e,this)},tileToWorldY:function(t,e){return this.tilemap.tileToWorldY(t,e,this)},tileToWorldXY:function(t,e,i,r){return this.tilemap.tileToWorldXY(t,e,i,r,this)},getTileCorners:function(t,e,i){return this.tilemap.getTileCorners(t,e,i,this)},weightedRandomize:function(t,e,i,r,s){o.WeightedRandomize(e,i,r,s,t,this.layer);return this},worldToTileX:function(t,e,i){return this.tilemap.worldToTileX(t,e,i,this)},worldToTileY:function(t,e,i){return this.tilemap.worldToTileY(t,e,i,this)},worldToTileXY:function(t,e,i,r,s){return this.tilemap.worldToTileXY(t,e,i,r,s,this)},destroy:function(t){if(t===void 0){t=true}if(!this.tilemap){return}if(this.layer.tilemapLayer===this){this.layer.tilemapLayer=void 0}if(t){this.tilemap.removeLayer(this)}this.tilemap=void 0;this.layer=void 0;this.culledTiles.length=0;this.cullCallback=null;this.gidMap=[];this.tileset=[];a.prototype.destroy.call(this)}});t.exports=u},16153:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61340);var s=new r;var n=new r;var a=new r;var TilemapLayerCanvasRenderer=function(t,e,i,r){var o=e.cull(i);var l=o.length;var h=i.alpha*e.alpha;if(l===0||h<=0){return}var u=s;var c=n;var f=a;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);u.copyFrom(i.matrix);var d=t.currentContext;var v=e.gidMap;d.save();if(r){u.multiplyWithOffset(r,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY);c.e=e.x;c.f=e.y;u.multiply(c,f);f.copyToContext(d)}else{c.e-=i.scrollX*e.scrollFactorX;c.f-=i.scrollY*e.scrollFactorY;c.copyToContext(d)}if(!t.antialias||e.scaleX>1||e.scaleY>1){d.imageSmoothingEnabled=false}for(var p=0;p<l;p++){var g=o[p];var m=v[g.index];if(!m){continue}var y=m.image.getSourceImage();var x=m.getTileTextureCoordinates(g.index);var b=m.tileWidth;var T=m.tileHeight;if(x===null||b===0||T===0){continue}var w=b*.5;var E=T*.5;x.x+=m.tileOffset.x;x.y+=m.tileOffset.y;d.save();d.translate(g.pixelX+w,g.pixelY+E);if(g.rotation!==0){d.rotate(g.rotation)}if(g.flipX||g.flipY){d.scale(g.flipX?-1:1,g.flipY?-1:1)}d.globalAlpha=h*g.alpha;d.drawImage(y,x.x,x.y,b,T,-w,-E,b,T);d.restore()}d.restore()};t.exports=TilemapLayerCanvasRenderer},19218:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(29747);var s=r;var n=r;{s=i(99558)}{n=i(16153)}t.exports={renderWebGL:s,renderCanvas:n}},99558:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70554);var TilemapLayerWebGLRenderer=function(t,e,i){var s=e.cull(i);var n=s.length;var a=i.alpha*e.alpha;if(n===0||a<=0){return}var o=e.gidMap;var l=t.pipelines.set(e.pipeline,e);var h=r.getTintAppendFloatAlpha;var u=e.scrollFactorX;var c=e.scrollFactorY;var f=e.x;var d=e.y;var v=e.scaleX;var p=e.scaleY;t.pipelines.preBatch(e);for(var g=0;g<n;g++){var m=s[g];var y=o[m.index];if(!y){continue}var x=y.getTileTextureCoordinates(m.index);var b=y.tileWidth;var T=y.tileHeight;if(!x||b===0||T===0){continue}var w=b*.5;var E=T*.5;var S=y.glTexture;var A=l.setTexture2D(S,e);var C=b;var O=T;var P=x.x;var I=x.y;var R=y.tileOffset.x;var M=y.tileOffset.y;var L=h(m.tint,a*m.alpha);l.batchTexture(e,S,S.width,S.height,f+m.pixelX*v+(w*v-R),d+m.pixelY*p+(E*p-M),b,T,v,p,m.rotation,m.flipX,m.flipY,u,c,w,E,P,I,C,O,L,L,L,L,m.tintFill,0,0,i,null,true,A,true)}t.pipelines.postBatch(e)};t.exports=TilemapLayerWebGLRenderer},33629:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(26099);var n=new r({initialize:function Tileset2(t,e,i,r,n,a,o,l,h){if(i===void 0||i<=0){i=32}if(r===void 0||r<=0){r=32}if(n===void 0){n=0}if(a===void 0){a=0}if(o===void 0){o={}}if(l===void 0){l={}}this.name=t;this.firstgid=e;this.tileWidth=i;this.tileHeight=r;this.tileMargin=n;this.tileSpacing=a;this.tileProperties=o;this.tileData=l;this.tileOffset=new s;if(h!==void 0){this.tileOffset.set(h.x,h.y)}this.image=null;this.glTexture=null;this.rows=0;this.columns=0;this.total=0;this.texCoordinates=[]},getTileProperties:function(t){if(!this.containsTileIndex(t)){return null}return this.tileProperties[t-this.firstgid]},getTileData:function(t){if(!this.containsTileIndex(t)){return null}return this.tileData[t-this.firstgid]},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){if(!this.containsTileIndex(t)){return null}return this.texCoordinates[t-this.firstgid]},setImage:function(t){this.image=t;var e=t.get();var i=t.getFrameBounds();this.glTexture=e.source.glTexture;if(e.width>i.width||e.height>i.height){this.updateTileData(e.width,e.height)}else{this.updateTileData(i.width,i.height,i.x,i.y)}return this},setTileSize:function(t,e){if(t!==void 0){this.tileWidth=t}if(e!==void 0){this.tileHeight=e}if(this.image){this.updateTileData(this.image.source[0].width,this.image.source[0].height)}return this},setSpacing:function(t,e){if(t!==void 0){this.tileMargin=t}if(e!==void 0){this.tileSpacing=e}if(this.image){this.updateTileData(this.image.source[0].width,this.image.source[0].height)}return this},updateTileData:function(t,e,i,r){if(i===void 0){i=0}if(r===void 0){r=0}var s=(e-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing);var n=(t-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);if(s%1!==0||n%1!==0){console.warn("Image tile area not tile size multiple in: "+this.name)}s=Math.floor(s);n=Math.floor(n);this.rows=s;this.columns=n;this.total=s*n;this.texCoordinates.length=0;var a=this.tileMargin+i;var o=this.tileMargin+r;for(var l=0;l<this.rows;l++){for(var h=0;h<this.columns;h++){this.texCoordinates.push({x:a,y:o});a+=this.tileWidth+this.tileSpacing}a=this.tileMargin+i;o+=this.tileHeight+this.tileSpacing}return this}});t.exports=n},72023:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7423);var CalculateFacesAt=function(t,e,i){var s=r(t,e,true,i);var n=r(t,e-1,true,i);var a=r(t,e+1,true,i);var o=r(t-1,e,true,i);var l=r(t+1,e,true,i);var h=s&&s.collides;if(h){s.faceTop=true;s.faceBottom=true;s.faceLeft=true;s.faceRight=true}if(n&&n.collides){if(h){s.faceTop=false}n.faceBottom=!h}if(a&&a.collides){if(h){s.faceBottom=false}a.faceTop=!h}if(o&&o.collides){if(h){s.faceLeft=false}o.faceRight=!h}if(l&&l.collides){if(h){s.faceRight=false}l.faceLeft=!h}if(s&&!s.collides){s.resetFaces()}return s};t.exports=CalculateFacesAt},42573:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7423);var s=i(7386);var CalculateFacesWithin=function(t,e,i,n,a){var o=null;var l=null;var h=null;var u=null;var c=s(t,e,i,n,null,a);for(var f=0;f<c.length;f++){var d=c[f];if(d){if(d.collides){o=r(d.x,d.y-1,true,a);l=r(d.x,d.y+1,true,a);h=r(d.x-1,d.y,true,a);u=r(d.x+1,d.y,true,a);d.faceTop=o&&o.collides?false:true;d.faceBottom=l&&l.collides?false:true;d.faceLeft=h&&h.collides?false:true;d.faceRight=u&&u.collides?false:true}else{d.resetFaces()}}}};t.exports=CalculateFacesWithin},33528:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var s=new r;var CheckIsoBounds=function(t,e,i,r){var n=i.tilemapLayer;var a=n.cullPaddingX;var o=n.cullPaddingY;var l=n.tilemap.tileToWorldXY(t,e,s,r,n);return l.x>r.worldView.x+n.scaleX*i.tileWidth*(-a-.5)&&l.x<r.worldView.right+n.scaleX*i.tileWidth*(a-.5)&&l.y>r.worldView.y+n.scaleY*i.tileHeight*(-o-1)&&l.y<r.worldView.bottom+n.scaleY*i.tileHeight*(o-.5)};t.exports=CheckIsoBounds},1785:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(42573);var s=i(7386);var n=i(62991);var a=i(23029);var Copy=function(t,e,i,o,l,h,u,c){if(u===void 0){u=true}var f=s(t,e,i,o,null,c);var d=[];f.forEach((function(t){var e=new a(t.layer,t.index,t.x,t.y,t.width,t.height,t.baseWidth,t.baseHeight);e.copy(t);d.push(e)}));var v=l-t;var p=h-e;for(var g=0;g<d.length;g++){var m=d[g];var y=m.x+v;var x=m.y+p;if(n(y,x,c)){if(c.data[x][y]){m.x=y;m.y=x;m.updatePixelXY();c.data[x][y]=m}}}if(u){r(l-1,h-1,i+2,o+2,c)}f.length=0;d.length=0};t.exports=Copy},78419:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62644);var s=i(7386);var n=i(27987);var CreateFromTiles=function(t,e,i,a,o,l){if(!i){i={}}if(!Array.isArray(t)){t=[t]}var h=l.tilemapLayer;if(!a){a=h.scene}if(!o){o=a.cameras.main}var u=l.width;var c=l.height;var f=s(0,0,u,c,null,l);var d=[];var v;var mergeExtras=function(t,e,i){for(var r=0;r<i.length;r++){var s=i[r];if(!t.hasOwnProperty(s)){t[s]=e[s]}}};for(v=0;v<f.length;v++){var p=f[v];var g=r(i);if(t.indexOf(p.index)!==-1){var m=h.tileToWorldXY(p.x,p.y,void 0,o,l);g.x=m.x;g.y=m.y;mergeExtras(g,p,["rotation","flipX","flipY","alpha","visible","tint"]);if(!g.hasOwnProperty("origin")){g.x+=p.width*.5;g.y+=p.height*.5}if(g.hasOwnProperty("useSpriteSheet")){g.key=p.tileset.image;g.frame=p.index-1}d.push(a.make.sprite(g))}}if(Array.isArray(e)){for(v=0;v<t.length;v++){n(t[v],e[v],0,0,u,c,l)}}else if(e!==null){for(v=0;v<t.length;v++){n(t[v],e,0,0,u,c,l)}}return d};t.exports=CreateFromTiles},19545:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(87841);var s=i(63448);var n=i(56583);var a=new r;var CullBounds=function(t,e){var i=t.tilemapLayer.tilemap;var r=t.tilemapLayer;var o=Math.floor(i.tileWidth*r.scaleX);var l=Math.floor(i.tileHeight*r.scaleY);var h=n(e.worldView.x-r.x,o,0,true)-r.cullPaddingX;var u=s(e.worldView.right-r.x,o,0,true)+r.cullPaddingX;var c=n(e.worldView.y-r.y,l,0,true)-r.cullPaddingY;var f=s(e.worldView.bottom-r.y,l,0,true)+r.cullPaddingY;return a.setTo(h,c,u-h,f-c)};t.exports=CullBounds},30003:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19545);var s=i(32483);var CullTiles=function(t,e,i,n){if(i===void 0){i=[]}if(n===void 0){n=0}i.length=0;var a=t.tilemapLayer;var o=r(t,e);if(a.skipCull||a.scrollFactorX!==1||a.scrollFactorY!==1){o.left=0;o.right=t.width;o.top=0;o.bottom=t.height}s(t,o,n,i);return i};t.exports=CullTiles},35137:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(42573);var n=i(20576);var Fill=function(t,e,i,a,o,l,h){var u=h.collideIndexes.indexOf(t)!==-1;var c=r(e,i,a,o,null,h);for(var f=0;f<c.length;f++){c[f].index=t;n(c[f],u)}if(l){s(e-1,i-1,a+2,o+2,h)}};t.exports=Fill},40253:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var FilterTiles=function(t,e,i,s,n,a,o,l){var h=r(i,s,n,a,o,l);return h.filter(t,e)};t.exports=FilterTiles},52692:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FindByIndex=function(t,e,i,r){if(e===void 0){e=0}if(i===void 0){i=false}var s=0;var n;var a;var o;if(i){for(a=r.height-1;a>=0;a--){for(n=r.width-1;n>=0;n--){o=r.data[a][n];if(o&&o.index===t){if(s===e){return o}else{s+=1}}}}}else{for(a=0;a<r.height;a++){for(n=0;n<r.width;n++){o=r.data[a][n];if(o&&o.index===t){if(s===e){return o}else{s+=1}}}}}return null};t.exports=FindByIndex},66151:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var FindTile=function(t,e,i,s,n,a,o,l){var h=r(i,s,n,a,o,l);return h.find(t,e)||null};t.exports=FindTile},97560:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var ForEachTile=function(t,e,i,s,n,a,o,l){var h=r(i,s,n,a,o,l);h.forEach(t,e)};t.exports=ForEachTile},43305:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(30003);var n=i(9474);var a=i(14018);var o=i(29747);var l=i(54503);var GetCullTilesFunction=function(t){if(t===r.ORTHOGONAL){return s}else if(t===r.HEXAGONAL){return n}else if(t===r.STAGGERED){return l}else if(t===r.ISOMETRIC){return a}else{return o}};t.exports=GetCullTilesFunction},7423:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62991);var GetTileAt=function(t,e,i,s){if(r(t,e,s)){var n=s.data[e][t]||null;if(!n){return null}else if(n.index===-1){return i?n:null}else{return n}}else{return null}};t.exports=GetTileAt},60540:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7423);var s=i(26099);var n=new s;var GetTileAtWorldXY=function(t,e,i,s,a){a.tilemapLayer.worldToTileXY(t,e,true,n,s);return r(n.x,n.y,i,a)};t.exports=GetTileAtWorldXY},55826:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var GetTileCorners=function(t,e,i,s){var n=s.baseTileWidth;var a=s.baseTileHeight;var o=s.tilemapLayer;var l=0;var h=0;if(o){if(!i){i=o.scene.cameras.main}l=o.x+i.scrollX*(1-o.scrollFactorX);h=o.y+i.scrollY*(1-o.scrollFactorY);n*=o.scaleX;a*=o.scaleY}var u=l+t*n;var c=h+e*a;return[new r(u,c),new r(u+n,c),new r(u+n,c+a),new r(u,c+a)]};t.exports=GetTileCorners},11758:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(27229);var n=i(29747);var a=i(55826);var GetTileCornersFunction=function(t){if(t===r.ORTHOGONAL){return a}else if(t===r.ISOMETRIC){return n}else if(t===r.HEXAGONAL){return s}else if(t===r.STAGGERED){return n}else{return n}};t.exports=GetTileCornersFunction},39167:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(29747);var n=i(97281);var GetTileToWorldXFunction=function(t){if(t===r.ORTHOGONAL){return n}else{return s}};t.exports=GetTileToWorldXFunction},62e3:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(19951);var n=i(14127);var a=i(29747);var o=i(97202);var l=i(70326);var GetTileToWorldXYFunction=function(t){if(t===r.ORTHOGONAL){return l}else if(t===r.ISOMETRIC){return n}else if(t===r.HEXAGONAL){return s}else if(t===r.STAGGERED){return o}else{return a}};t.exports=GetTileToWorldXYFunction},5984:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(29747);var n=i(28054);var a=i(29650);var GetTileToWorldYFunction=function(t){if(t===r.ORTHOGONAL){return a}else if(t===r.STAGGERED){return n}else{return s}};t.exports=GetTileToWorldYFunction},7386:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var GetTilesWithin=function(t,e,i,s,n,a){if(t===void 0){t=0}if(e===void 0){e=0}if(i===void 0){i=a.width}if(s===void 0){s=a.height}if(!n){n={}}var o=r(n,"isNotEmpty",false);var l=r(n,"isColliding",false);var h=r(n,"hasInterestingFace",false);if(t<0){i+=t;t=0}if(e<0){s+=e;e=0}if(t+i>a.width){i=Math.max(a.width-t,0)}if(e+s>a.height){s=Math.max(a.height-e,0)}var u=[];for(var c=e;c<e+s;c++){for(var f=t;f<t+i;f++){var d=a.data[c][f];if(d!==null){if(o&&d.index===-1){continue}if(l&&!d.collides){continue}if(h&&!d.hasInterestingFace){continue}u.push(d)}}}return u};t.exports=GetTilesWithin},91141:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(55738);var s=i(7386);var n=i(91865);var a=i(29747);var o=i(26099);var l=i(91907);var TriangleToRectangle=function(t,e){return n.RectangleToTriangle(e,t)};var h=new o;var u=new o;var c=new o;var GetTilesWithinShape=function(t,e,i,o){if(o.orientation!==l.ORTHOGONAL){console.warn("GetTilesWithinShape only works with orthogonal tilemaps");return[]}if(t===void 0){return[]}var f=a;if(t instanceof r.Circle){f=n.CircleToRectangle}else if(t instanceof r.Rectangle){f=n.RectangleToRectangle}else if(t instanceof r.Triangle){f=TriangleToRectangle}else if(t instanceof r.Line){f=n.LineToRectangle}o.tilemapLayer.worldToTileXY(t.left,t.top,true,u,i);var d=u.x;var v=u.y;o.tilemapLayer.worldToTileXY(t.right,t.bottom,false,c,i);var p=Math.ceil(c.x);var g=Math.ceil(c.y);var m=Math.max(p-d,1);var y=Math.max(g-v,1);var x=s(d,v,m,y,e,o);var b=o.tileWidth;var T=o.tileHeight;if(o.tilemapLayer){b*=o.tilemapLayer.scaleX;T*=o.tilemapLayer.scaleY}var w=[];var E=new r.Rectangle(0,0,b,T);for(var S=0;S<x.length;S++){var A=x[S];o.tilemapLayer.tileToWorldXY(A.x,A.y,h,i);E.x=h.x;E.y=h.y;if(f(t,E)){w.push(A)}}return w};t.exports=GetTilesWithinShape},96523:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(26099);var n=new s;var a=new s;var GetTilesWithinWorldXY=function(t,e,i,s,o,l,h){var u=h.tilemapLayer.tilemap._convert.WorldToTileXY;u(t,e,true,n,l,h);var c=n.x;var f=n.y;u(t+i,e+s,false,a,l,h);var d=Math.ceil(a.x);var v=Math.ceil(a.y);return r(c,f,d-c,v-f,o,h)};t.exports=GetTilesWithinWorldXY},96113:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(20242);var n=i(10095);var GetWorldToTileXFunction=function(t){if(t===r.ORTHOGONAL){return n}else{return s}};t.exports=GetWorldToTileXFunction},16926:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(86625);var n=i(96897);var a=i(29747);var o=i(15108);var l=i(85896);var GetWorldToTileXYFunction=function(t){if(t===r.ORTHOGONAL){return l}else if(t===r.ISOMETRIC){return n}else if(t===r.HEXAGONAL){return s}else if(t===r.STAGGERED){return o}else{return a}};t.exports=GetWorldToTileXYFunction},55762:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var s=i(20242);var n=i(51900);var a=i(63288);var GetWorldToTileYFunction=function(t){if(t===r.ORTHOGONAL){return a}else if(t===r.STAGGERED){return n}else{return s}};t.exports=GetWorldToTileYFunction},45091:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62991);var HasTileAt=function(t,e,i){if(r(t,e,i)){var s=i.data[e][t];return s!==null&&s.index>-1}else{return false}};t.exports=HasTileAt},24152:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(45091);var s=i(26099);var n=new s;var HasTileAtWorldXY=function(t,e,i,s){s.tilemapLayer.worldToTileXY(t,e,true,n,i);var a=n.x;var o=n.y;return r(a,o,s)};t.exports=HasTileAtWorldXY},90454:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(63448);var s=i(56583);var HexagonalCullBounds=function(t,e){var i=t.tilemapLayer.tilemap;var n=t.tilemapLayer;var a=Math.floor(i.tileWidth*n.scaleX);var o=Math.floor(i.tileHeight*n.scaleY);var l=t.hexSideLength;var h;var u;var c;var f;if(t.staggerAxis==="y"){var d=(o-l)/2+l;h=s(e.worldView.x-n.x,a,0,true)-n.cullPaddingX;u=r(e.worldView.right-n.x,a,0,true)+n.cullPaddingX;c=s(e.worldView.y-n.y,d,0,true)-n.cullPaddingY;f=r(e.worldView.bottom-n.y,d,0,true)+n.cullPaddingY}else{var v=(a-l)/2+l;h=s(e.worldView.x-n.x,v,0,true)-n.cullPaddingX;u=r(e.worldView.right-n.x,v,0,true)+n.cullPaddingX;c=s(e.worldView.y-n.y,o,0,true)-n.cullPaddingY;f=r(e.worldView.bottom-n.y,o,0,true)+n.cullPaddingY}return{left:h,right:u,top:c,bottom:f}};t.exports=HexagonalCullBounds},9474:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(90454);var s=i(32483);var HexagonalCullTiles=function(t,e,i,n){if(i===void 0){i=[]}if(n===void 0){n=0}i.length=0;var a=t.tilemapLayer;var o=r(t,e);if(a.skipCull&&a.scrollFactorX===1&&a.scrollFactorY===1){o.left=0;o.right=t.width;o.top=0;o.bottom=t.height}s(t,o,n,i);return i};t.exports=HexagonalCullTiles},27229:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19951);var s=i(26099);var n=new s;var HexagonalGetTileCorners=function(t,e,i,a){var o=a.baseTileWidth;var l=a.baseTileHeight;var h=a.tilemapLayer;if(h){o*=h.scaleX;l*=h.scaleY}var u=r(t,e,n,i,a);var c=[];var f=.5773502691896257;var d;var v;if(a.staggerAxis==="y"){d=f*o;v=l/2}else{d=o/2;v=f*l}for(var p=0;p<6;p++){var g=2*Math.PI*(.5-p)/6;c.push(new s(u.x+d*Math.cos(g),u.y+v*Math.sin(g)))}return c};t.exports=HexagonalGetTileCorners},19951:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var HexagonalTileToWorldXY=function(t,e,i,s,n){if(!i){i=new r}var a=n.baseTileWidth;var o=n.baseTileHeight;var l=n.tilemapLayer;var h=0;var u=0;if(l){if(!s){s=l.scene.cameras.main}h=l.x+s.scrollX*(1-l.scrollFactorX);u=l.y+s.scrollY*(1-l.scrollFactorY);a*=l.scaleX;o*=l.scaleY}var c=a/2;var f=o/2;var d;var v;var p=n.staggerAxis;var g=n.staggerIndex;if(p==="y"){d=h+a*t+a;v=u+1.5*e*f+f;if(e%2===0){if(g==="odd"){d-=c}else{d+=c}}}else if(p==="x"&&g==="odd"){d=h+1.5*t*c+c;v=u+o*t+o;if(t%2===0){if(g==="odd"){v-=f}else{v+=f}}}return i.set(d,v)};t.exports=HexagonalTileToWorldXY},86625:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var HexagonalWorldToTileXY=function(t,e,i,s,n,a){if(!s){s=new r}var o=a.baseTileWidth;var l=a.baseTileHeight;var h=a.tilemapLayer;if(h){if(!n){n=h.scene.cameras.main}t=t-(h.x+n.scrollX*(1-h.scrollFactorX));e=e-(h.y+n.scrollY*(1-h.scrollFactorY));o*=h.scaleX;l*=h.scaleY}var u=.5773502691896257;var c=-.3333333333333333;var f=0;var d=.6666666666666666;var v=o/2;var p=l/2;var g;var m;var y;var x;var b;if(a.staggerAxis==="y"){g=(t-v)/(u*o);m=(e-p)/p;y=u*g+c*m;x=f*g+d*m}else{g=(t-v)/v;m=(e-p)/(u*l);y=c*g+u*m;x=d*g+f*m}b=-y-x;var T=Math.round(y);var w=Math.round(x);var E=Math.round(b);var S=Math.abs(T-y);var A=Math.abs(w-x);var C=Math.abs(E-b);if(S>A&&S>C){T=-w-E}else if(A>C){w=-T-E}var O;var P=w;if(a.staggerIndex==="odd"){O=P%2===0?w/2+T:w/2+T-.5}else{O=P%2===0?w/2+T:w/2+T+.5}return s.set(O,P)};t.exports=HexagonalWorldToTileXY},62991:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsInLayerBounds=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height};t.exports=IsInLayerBounds},14018:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33528);var IsometricCullTiles=function(t,e,i,s){if(i===void 0){i=[]}if(s===void 0){s=0}i.length=0;var n=t.tilemapLayer;var a=t.data;var o=t.width;var l=t.height;var h=n.skipCull;var u=0;var c=o;var f=0;var d=l;var v;var p;var g;if(s===0){for(p=f;p<d;p++){for(v=u;v<c;v++){g=a[p][v];if(!g||g.index===-1||!g.visible||g.alpha===0){continue}if(!h&&!r(v,p,t,e)){continue}i.push(g)}}}else if(s===1){for(p=f;p<d;p++){for(v=c;v>=u;v--){g=a[p][v];if(!g||g.index===-1||!g.visible||g.alpha===0){continue}if(!h&&!r(v,p,t,e)){continue}i.push(g)}}}else if(s===2){for(p=d;p>=f;p--){for(v=u;v<c;v++){g=a[p][v];if(!g||g.index===-1||!g.visible||g.alpha===0){continue}if(!h&&!r(v,p,t,e)){continue}i.push(g)}}}else if(s===3){for(p=d;p>=f;p--){for(v=c;v>=u;v--){g=a[p][v];if(!g||g.index===-1||!g.visible||g.alpha===0){continue}if(!h&&!r(v,p,t,e)){continue}i.push(g)}}}n.tilesDrawn=i.length;n.tilesTotal=o*l;return i};t.exports=IsometricCullTiles},14127:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var IsometricTileToWorldXY=function(t,e,i,s,n){if(!i){i=new r}var a=n.baseTileWidth;var o=n.baseTileHeight;var l=n.tilemapLayer;var h=0;var u=0;if(l){if(!s){s=l.scene.cameras.main}h=l.x+s.scrollX*(1-l.scrollFactorX);a*=l.scaleX;u=l.y+s.scrollY*(1-l.scrollFactorY);o*=l.scaleY}var c=h+(t-e)*(a/2);var f=u+(t+e)*(o/2);return i.set(c,f)};t.exports=IsometricTileToWorldXY},96897:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var IsometricWorldToTileXY=function(t,e,i,s,n,a,o){if(!s){s=new r}var l=a.baseTileWidth;var h=a.baseTileHeight;var u=a.tilemapLayer;if(u){if(!n){n=u.scene.cameras.main}e=e-(u.y+n.scrollY*(1-u.scrollFactorY));h*=u.scaleY;t=t-(u.x+n.scrollX*(1-u.scrollFactorX));l*=u.scaleX}var c=l/2;var f=h/2;t=t-c;if(!o){e=e-h}var d=.5*(t/c+e/f);var v=.5*(-t/c+e/f);if(i){d=Math.floor(d);v=Math.floor(v)}return s.set(d,v)};t.exports=IsometricWorldToTileXY},71558:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23029);var s=i(62991);var n=i(72023);var a=i(20576);var PutTileAt=function(t,e,i,o,l){if(o===void 0){o=true}if(!s(e,i,l)){return null}var h;var u=l.data[i][e];var c=u&&u.collides;if(t instanceof r){if(l.data[i][e]===null){l.data[i][e]=new r(l,t.index,e,i,l.tileWidth,l.tileHeight)}l.data[i][e].copy(t)}else{h=t;if(l.data[i][e]===null){l.data[i][e]=new r(l,h,e,i,l.tileWidth,l.tileHeight)}else{l.data[i][e].index=h}}var f=l.data[i][e];var d=l.collideIndexes.indexOf(f.index)!==-1;h=t instanceof r?t.index:t;if(h===-1){f.width=l.tileWidth;f.height=l.tileHeight}else{var v=l.tilemapLayer.tilemap;var p=v.tiles;var g=p[h][2];var m=v.tilesets[g];f.width=m.tileWidth;f.height=m.tileHeight}a(f,d);if(o&&c!==f.collides){n(e,i,l)}return f};t.exports=PutTileAt},26303:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(71558);var s=i(26099);var n=new s;var PutTileAtWorldXY=function(t,e,i,s,a,o){o.tilemapLayer.worldToTileXY(e,i,true,n,a,o);return r(t,n.x,n.y,s,o)};t.exports=PutTileAtWorldXY},14051:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(42573);var s=i(71558);var PutTilesAt=function(t,e,i,n,a){if(n===void 0){n=true}if(!Array.isArray(t)){return null}if(!Array.isArray(t[0])){t=[t]}var o=t.length;var l=t[0].length;for(var h=0;h<o;h++){for(var u=0;u<l;u++){var c=t[h][u];s(c,e+u,i+h,false,a)}}if(n){r(e-1,i-1,l+2,o+2,a)}};t.exports=PutTilesAt},77389:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(26546);var Randomize=function(t,e,i,n,a,o){var l;var h=r(t,e,i,n,{},o);if(!a){a=[];for(l=0;l<h.length;l++){if(a.indexOf(h[l].index)===-1){a.push(h[l].index)}}}for(l=0;l<h.length;l++){h[l].index=s(a)}};t.exports=Randomize},63557:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(23029);var s=i(62991);var n=i(72023);var RemoveTileAt=function(t,e,i,a,o){if(i===void 0){i=true}if(a===void 0){a=true}if(!s(t,e,o)){return null}var l=o.data[e][t];if(!l){return null}else{o.data[e][t]=i?null:new r(o,-1,t,e,o.tileWidth,o.tileHeight)}if(a&&l&&l.collides){n(t,e,o)}return l};t.exports=RemoveTileAt},94178:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(63557);var s=i(26099);var n=new s;var RemoveTileAtWorldXY=function(t,e,i,s,a,o){o.tilemapLayer.worldToTileXY(t,e,true,n,a,o);return r(n.x,n.y,i,s,o)};t.exports=RemoveTileAtWorldXY},15533:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(3956);var n=new s(105,210,231,150);var a=new s(243,134,48,200);var o=new s(40,39,37,150);var RenderDebug=function(t,e,i){if(e===void 0){e={}}var s=e.tileColor!==void 0?e.tileColor:n;var l=e.collidingTileColor!==void 0?e.collidingTileColor:a;var h=e.faceColor!==void 0?e.faceColor:o;var u=r(0,0,i.width,i.height,null,i);t.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y);t.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<u.length;c++){var f=u[c];var d=f.tileset?f.tileset.tileOffset:{x:0,y:0};var v=f.width;var p=f.height;var g=f.pixelX-d.x;var m=f.pixelY-d.y;var y=f.collides?l:s;if(y!==null){t.fillStyle(y.color,y.alpha/255);t.fillRect(g,m,v,p)}g+=1;m+=1;v-=2;p-=2;if(h!==null){t.lineStyle(1,h.color,h.alpha/255);if(f.faceTop){t.lineBetween(g,m,g+v,m)}if(f.faceRight){t.lineBetween(g+v,m,g+v,m+p)}if(f.faceBottom){t.lineBetween(g,m+p,g+v,m+p)}if(f.faceLeft){t.lineBetween(g,m,g,m+p)}}}};t.exports=RenderDebug},27987:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var ReplaceByIndex=function(t,e,i,s,n,a,o){var l=r(i,s,n,a,null,o);for(var h=0;h<l.length;h++){if(l[h]&&l[h].index===t){l[h].index=e}}};t.exports=ReplaceByIndex},32483:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RunCull=function(t,e,i,r){var s=t.data;var n=t.width;var a=t.height;var o=t.tilemapLayer;var l=Math.max(0,e.left);var h=Math.min(n,e.right);var u=Math.max(0,e.top);var c=Math.min(a,e.bottom);var f;var d;var v;if(i===0){for(d=u;d<c;d++){for(f=l;s[d]&&f<h;f++){v=s[d][f];if(!v||v.index===-1||!v.visible||v.alpha===0){continue}r.push(v)}}}else if(i===1){for(d=u;d<c;d++){for(f=h;s[d]&&f>=l;f--){v=s[d][f];if(!v||v.index===-1||!v.visible||v.alpha===0){continue}r.push(v)}}}else if(i===2){for(d=c;d>=u;d--){for(f=l;s[d]&&f<h;f++){v=s[d][f];if(!v||v.index===-1||!v.visible||v.alpha===0){continue}r.push(v)}}}else if(i===3){for(d=c;d>=u;d--){for(f=h;s[d]&&f>=l;f--){v=s[d][f];if(!v||v.index===-1||!v.visible||v.alpha===0){continue}r.push(v)}}}o.tilesDrawn=r.length;o.tilesTotal=n*a;return r};t.exports=RunCull},57068:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20576);var s=i(42573);var n=i(9589);var SetCollision=function(t,e,i,a,o){if(e===void 0){e=true}if(i===void 0){i=true}if(o===void 0){o=true}if(!Array.isArray(t)){t=[t]}for(var l=0;l<t.length;l++){n(t[l],e,a)}if(o){for(var h=0;h<a.height;h++){for(var u=0;u<a.width;u++){var c=a.data[h][u];if(c&&t.indexOf(c.index)!==-1){r(c,e)}}}}if(i){s(0,0,a.width,a.height,a)}};t.exports=SetCollision},37266:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20576);var s=i(42573);var n=i(9589);var SetCollisionBetween=function(t,e,i,a,o,l){if(i===void 0){i=true}if(a===void 0){a=true}if(l===void 0){l=true}if(t>e){return}for(var h=t;h<=e;h++){n(h,i,o)}if(l){for(var u=0;u<o.height;u++){for(var c=0;c<o.width;c++){var f=o.data[u][c];if(f){if(f.index>=t&&f.index<=e){r(f,i)}}}}}if(a){s(0,0,o.width,o.height,o)}};t.exports=SetCollisionBetween},75661:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20576);var s=i(42573);var n=i(9589);var SetCollisionByExclusion=function(t,e,i,a){if(e===void 0){e=true}if(i===void 0){i=true}if(!Array.isArray(t)){t=[t]}for(var o=0;o<a.height;o++){for(var l=0;l<a.width;l++){var h=a.data[o][l];if(h&&t.indexOf(h.index)===-1){r(h,e);n(h.index,e,a)}}}if(i){s(0,0,a.width,a.height,a)}};t.exports=SetCollisionByExclusion},64740:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20576);var s=i(42573);var n=i(97022);var SetCollisionByProperty=function(t,e,i,a){if(e===void 0){e=true}if(i===void 0){i=true}for(var o=0;o<a.height;o++){for(var l=0;l<a.width;l++){var h=a.data[o][l];if(!h){continue}for(var u in t){if(!n(h.properties,u)){continue}var c=t[u];if(!Array.isArray(c)){c=[c]}for(var f=0;f<c.length;f++){if(h.properties[u]===c[f]){r(h,e)}}}}}if(i){s(0,0,a.width,a.height,a)}};t.exports=SetCollisionByProperty},63307:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(20576);var s=i(42573);var SetCollisionFromCollisionGroup=function(t,e,i){if(t===void 0){t=true}if(e===void 0){e=true}for(var n=0;n<i.height;n++){for(var a=0;a<i.width;a++){var o=i.data[n][a];if(!o){continue}var l=o.getCollisionGroup();if(l&&l.objects&&l.objects.length>0){r(o,t)}}}if(e){s(0,0,i.width,i.height,i)}};t.exports=SetCollisionFromCollisionGroup},9589:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetLayerCollisionIndex=function(t,e,i){var r=i.collideIndexes.indexOf(t);if(e&&r===-1){i.collideIndexes.push(t)}else if(!e&&r!==-1){i.collideIndexes.splice(r,1)}};t.exports=SetLayerCollisionIndex},20576:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileCollision=function(t,e){if(e){t.setCollision(true,true,true,true,false)}else{t.resetCollision(false)}};t.exports=SetTileCollision},79583:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetTileIndexCallback=function(t,e,i,r){if(typeof t==="number"){r.callbacks[t]=e!==null?{callback:e,callbackContext:i}:void 0}else{for(var s=0,n=t.length;s<n;s++){r.callbacks[t[s]]=e!==null?{callback:e,callbackContext:i}:void 0}}};t.exports=SetTileIndexCallback},93254:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var SetTileLocationCallback=function(t,e,i,s,n,a,o){var l=r(t,e,i,s,null,o);for(var h=0;h<l.length;h++){l[h].setCollisionCallback(n,a)}};t.exports=SetTileLocationCallback},32903:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(33680);var Shuffle=function(t,e,i,n,a){var o=r(t,e,i,n,null,a);var l=o.map((function(t){return t.index}));s(l);for(var h=0;h<o.length;h++){o[h].index=l[h]}};t.exports=Shuffle},61325:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(63448);var s=i(56583);var StaggeredCullBounds=function(t,e){var i=t.tilemapLayer.tilemap;var n=t.tilemapLayer;var a=Math.floor(i.tileWidth*n.scaleX);var o=Math.floor(i.tileHeight*n.scaleY);var l=s(e.worldView.x-n.x,a,0,true)-n.cullPaddingX;var h=r(e.worldView.right-n.x,a,0,true)+n.cullPaddingX;var u=s(e.worldView.y-n.y,o/2,0,true)-n.cullPaddingY;var c=r(e.worldView.bottom-n.y,o/2,0,true)+n.cullPaddingY;return{left:l,right:h,top:u,bottom:c}};t.exports=StaggeredCullBounds},54503:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(61325);var s=i(32483);var StaggeredCullTiles=function(t,e,i,n){if(i===void 0){i=[]}if(n===void 0){n=0}i.length=0;var a=t.tilemapLayer;var o=r(t,e);if(a.skipCull&&a.scrollFactorX===1&&a.scrollFactorY===1){o.left=0;o.right=t.width;o.top=0;o.bottom=t.height}s(t,o,n,i);return i};t.exports=StaggeredCullTiles},97202:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var StaggeredTileToWorldXY=function(t,e,i,s,n){if(!i){i=new r}var a=n.baseTileWidth;var o=n.baseTileHeight;var l=n.tilemapLayer;var h=0;var u=0;if(l){if(!s){s=l.scene.cameras.main}h=l.x+s.scrollX*(1-l.scrollFactorX);a*=l.scaleX;u=l.y+s.scrollY*(1-l.scrollFactorY);o*=l.scaleY}var c=h+t*a+e%2*(a/2);var f=u+e*(o/2);return i.set(c,f)};t.exports=StaggeredTileToWorldXY},28054:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var StaggeredTileToWorldY=function(t,e,i){var r=i.baseTileHeight;var s=i.tilemapLayer;var n=0;if(s){if(e===void 0){e=s.scene.cameras.main}n=s.y+e.scrollY*(1-s.scrollFactorY);r*=s.scaleY}return n+t*(r/2)+r};t.exports=StaggeredTileToWorldY},15108:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var StaggeredWorldToTileXY=function(t,e,i,s,n,a){if(!s){s=new r}var o=a.baseTileWidth;var l=a.baseTileHeight;var h=a.tilemapLayer;if(h){if(!n){n=h.scene.cameras.main}e=e-(h.y+n.scrollY*(1-h.scrollFactorY));l*=h.scaleY;t=t-(h.x+n.scrollX*(1-h.scrollFactorX));o*=h.scaleX}var u=i?Math.floor(e/(l/2)):e/(l/2);var c=i?Math.floor((t+u%2*.5*o)/o):(t+u%2*.5*o)/o;return s.set(c,u)};t.exports=StaggeredWorldToTileXY},51900:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var StaggeredWorldToTileY=function(t,e,i,r){var s=r.baseTileHeight;var n=r.tilemapLayer;if(n){if(!i){i=n.scene.cameras.main}t=t-(n.y+i.scrollY*(1-n.scrollFactorY));s*=n.scaleY}return e?Math.floor(t/(s/2)):t/(s/2)};t.exports=StaggeredWorldToTileY},86560:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var SwapByIndex=function(t,e,i,s,n,a,o){var l=r(i,s,n,a,null,o);for(var h=0;h<l.length;h++){if(l[h]){if(l[h].index===t){l[h].index=e}else if(l[h].index===e){l[h].index=t}}}};t.exports=SwapByIndex},97281:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileToWorldX=function(t,e,i){var r=i.baseTileWidth;var s=i.tilemapLayer;var n=0;if(s){if(!e){e=s.scene.cameras.main}n=s.x+e.scrollX*(1-s.scrollFactorX);r*=s.scaleX}return n+t*r};t.exports=TileToWorldX},70326:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(97281);var s=i(29650);var n=i(26099);var TileToWorldXY=function(t,e,i,a,o){if(!i){i=new n(0,0)}i.x=r(t,a,o);i.y=s(e,a,o);return i};t.exports=TileToWorldXY},29650:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TileToWorldY=function(t,e,i){var r=i.baseTileHeight;var s=i.tilemapLayer;var n=0;if(s){if(!e){e=s.scene.cameras.main}n=s.y+e.scrollY*(1-s.scrollFactorY);r*=s.scaleY}return n+t*r};t.exports=TileToWorldY},77366:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(7386);var s=i(75508);var WeightedRandomize=function(t,e,i,n,a,o){if(!a){return}var l;var h=r(t,e,i,n,null,o);var u=0;for(l=0;l<a.length;l++){u+=a[l].weight}if(u<=0){return}for(l=0;l<h.length;l++){var c=s.RND.frac()*u;var f=0;var d=-1;for(var v=0;v<a.length;v++){f+=a[v].weight;if(c<=f){var p=a[v].index;d=Array.isArray(p)?p[Math.floor(s.RND.frac()*p.length)]:p;break}}h[l].index=d}};t.exports=WeightedRandomize},10095:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85896);var s=i(26099);var n=new s;var WorldToTileX=function(t,e,i,s){r(t,0,e,n,i,s);return n.x};t.exports=WorldToTileX},85896:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(26099);var WorldToTileXY=function(t,e,i,s,n,a){if(i===void 0){i=true}if(!s){s=new r}var o=a.baseTileWidth;var l=a.baseTileHeight;var h=a.tilemapLayer;if(h){if(!n){n=h.scene.cameras.main}t=t-(h.x+n.scrollX*(1-h.scrollFactorX));e=e-(h.y+n.scrollY*(1-h.scrollFactorY));o*=h.scaleX;l*=h.scaleY}var u=t/o;var c=e/l;if(i){u=Math.floor(u);c=Math.floor(c)}return s.set(u,c)};t.exports=WorldToTileXY},63288:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(85896);var s=i(26099);var n=new s;var WorldToTileY=function(t,e,i,s){r(0,t,e,n,i,s);return n.y};t.exports=WorldToTileY},81086:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={ORIENTATION:i(91907)};t.exports=r},62501:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var s=i(21829);var n={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};n=r(false,n,s.ORIENTATION);t.exports=n},14977:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(91907);var n=i(95540);var a=new r({initialize:function LayerData2(t){if(t===void 0){t={}}this.name=n(t,"name","layer");this.id=n(t,"id",0);this.x=n(t,"x",0);this.y=n(t,"y",0);this.width=n(t,"width",0);this.height=n(t,"height",0);this.tileWidth=n(t,"tileWidth",0);this.tileHeight=n(t,"tileHeight",0);this.baseTileWidth=n(t,"baseTileWidth",this.tileWidth);this.baseTileHeight=n(t,"baseTileHeight",this.tileHeight);this.orientation=n(t,"orientation",s.ORTHOGONAL);this.widthInPixels=n(t,"widthInPixels",this.width*this.baseTileWidth);this.heightInPixels=n(t,"heightInPixels",this.height*this.baseTileHeight);this.alpha=n(t,"alpha",1);this.visible=n(t,"visible",true);this.properties=n(t,"properties",[]);this.indexes=n(t,"indexes",[]);this.collideIndexes=n(t,"collideIndexes",[]);this.callbacks=n(t,"callbacks",[]);this.bodies=n(t,"bodies",[]);this.data=n(t,"data",[]);this.tilemapLayer=n(t,"tilemapLayer",null);this.hexSideLength=n(t,"hexSideLength",0);this.staggerAxis=n(t,"staggerAxis","y");this.staggerIndex=n(t,"staggerIndex","odd")}});t.exports=a},87010:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(91907);var n=i(95540);var a=new r({initialize:function MapData2(t){if(t===void 0){t={}}this.name=n(t,"name","map");this.width=n(t,"width",0);this.height=n(t,"height",0);this.infinite=n(t,"infinite",false);this.tileWidth=n(t,"tileWidth",0);this.tileHeight=n(t,"tileHeight",0);this.widthInPixels=n(t,"widthInPixels",this.width*this.tileWidth);this.heightInPixels=n(t,"heightInPixels",this.height*this.tileHeight);this.format=n(t,"format",null);this.orientation=n(t,"orientation",s.ORTHOGONAL);this.renderOrder=n(t,"renderOrder","right-down");this.version=n(t,"version","1");this.properties=n(t,"properties",{});this.layers=n(t,"layers",[]);this.images=n(t,"images",[]);this.objects=n(t,"objects",[]);if(!Array.isArray(this.objects)){this.objects=[]}this.collision=n(t,"collision",{});this.tilesets=n(t,"tilesets",[]);this.imageCollections=n(t,"imageCollections",[]);this.tiles=n(t,"tiles",[]);this.hexSideLength=n(t,"hexSideLength",0);this.staggerAxis=n(t,"staggerAxis","y");this.staggerIndex=n(t,"staggerIndex","odd")}});t.exports=a},48700:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=new r({initialize:function ObjectLayer2(t){if(t===void 0){t={}}this.name=s(t,"name","object layer");this.id=s(t,"id",0);this.opacity=s(t,"opacity",1);this.properties=s(t,"properties",{});this.propertyTypes=s(t,"propertytypes",{});this.type=s(t,"type","objectgroup");this.visible=s(t,"visible",true);this.objects=s(t,"objects",[]);if(!Array.isArray(this.objects)){this.objects=[]}}});t.exports=n},6641:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(91907);var FromOrientationString=function(t){t=t.toLowerCase();if(t==="isometric"){return r.ISOMETRIC}else if(t==="staggered"){return r.STAGGERED}else if(t==="hexagonal"){return r.HEXAGONAL}else{return r.ORTHOGONAL}};t.exports=FromOrientationString},46177:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80341);var s=i(2342);var n=i(82593);var a=i(46594);var o=i(87021);var Parse=function(t,e,i,l,h,u){var c;switch(e){case r.ARRAY_2D:c=s(t,i,l,h,u);break;case r.CSV:c=n(t,i,l,h,u);break;case r.TILED_JSON:c=a(t,i,u);break;case r.WELTMEISTER:c=o(t,i,u);break;default:console.warn("Unrecognized tilemap data format: "+e);c=null}return c};t.exports=Parse},2342:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80341);var s=i(14977);var n=i(87010);var a=i(23029);var Parse2DArray=function(t,e,i,o,l){var h=new s({tileWidth:i,tileHeight:o});var u=new n({name:t,tileWidth:i,tileHeight:o,format:r.ARRAY_2D,layers:[h]});var c=[];var f=e.length;var d=0;for(var v=0;v<e.length;v++){c[v]=[];var p=e[v];for(var g=0;g<p.length;g++){var m=parseInt(p[g],10);if(isNaN(m)||m===-1){c[v][g]=l?null:new a(h,-1,g,v,i,o)}else{c[v][g]=new a(h,m,g,v,i,o)}}if(d===0){d=p.length}}u.width=h.width=d;u.height=h.height=f;u.widthInPixels=h.widthInPixels=d*i;u.heightInPixels=h.heightInPixels=f*o;h.data=c;return u};t.exports=Parse2DArray},82593:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80341);var s=i(2342);var ParseCSV=function(t,e,i,n,a){var o=e.trim().split("\n").map((function(t){return t.split(",")}));var l=s(t,o,i,n,a);l.format=r.CSV;return l};t.exports=ParseCSV},6656:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(14977);var s=i(23029);var ParseTileLayers=function(t,e){var i=[];for(var n=0;n<t.layer.length;n++){var a=t.layer[n];var o=new r({name:a.name,width:a.width,height:a.height,tileWidth:a.tilesize,tileHeight:a.tilesize,visible:a.visible===1});var l=[];var h=[];for(var u=0;u<a.data.length;u++){for(var c=0;c<a.data[u].length;c++){var f=a.data[u][c]-1;var d;if(f>-1){d=new s(o,f,c,u,a.tilesize,a.tilesize)}else{d=e?null:new s(o,-1,c,u,a.tilesize,a.tilesize)}l.push(d)}h.push(l);l=[]}o.data=h;i.push(o)}return i};t.exports=ParseTileLayers},96483:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33629);var ParseTilesets=function(t){var e=[];var i=[];for(var s=0;s<t.layer.length;s++){var n=t.layer[s];var a=n.tilesetName;if(a!==""&&i.indexOf(a)===-1){i.push(a);e.push(new r(a,0,n.tilesize,n.tilesize,0,0))}}return e};t.exports=ParseTilesets},87021:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(80341);var s=i(87010);var n=i(6656);var a=i(96483);var ParseWeltmeister=function(t,e,i){if(e.layer.length===0){console.warn("No layers found in the Weltmeister map: "+t);return null}var o=0;var l=0;for(var h=0;h<e.layer.length;h++){if(e.layer[h].width>o){o=e.layer[h].width}if(e.layer[h].height>l){l=e.layer[h].height}}var u=new s({width:o,height:l,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:r.WELTMEISTER});u.layers=n(e,i);u.tilesets=a(e);return u};t.exports=ParseWeltmeister},52833:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(79291);var AssignTileProperties=function(t){var e;var i;var s;var n;var a;for(var o=0;o<t.layers.length;o++){e=t.layers[o];n=null;for(var l=0;l<e.data.length;l++){a=e.data[l];for(var h=0;h<a.length;h++){i=a[h];if(i===null||i.index<0){continue}s=t.tiles[i.index][2];n=t.tilesets[s];i.width=n.tileWidth;i.height=n.tileHeight;if(n.tileProperties&&n.tileProperties[i.index-n.firstgid]){i.properties=r(i.properties,n.tileProperties[i.index-n.firstgid])}}}}};t.exports=AssignTileProperties},41868:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Base64Decode=function(t){var e=window.atob(t);var i=e.length;var r=new Array(i/4);for(var s=0;s<i;s+=4){r[s/4]=(e.charCodeAt(s)|e.charCodeAt(s+1)<<8|e.charCodeAt(s+2)<<16|e.charCodeAt(s+3)<<24)>>>0}return r};t.exports=Base64Decode},84101:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33629);var BuildTilesetIndex=function(t){var e;var i;var s=[];for(e=0;e<t.imageCollections.length;e++){var n=t.imageCollections[e];var a=n.images;for(var o=0;o<a.length;o++){var l=a[o];var h={x:0,y:l.height-t.tileHeight};i=new r(l.image,l.gid,l.width,l.height,0,0,null,null,h);i.updateTileData(l.width,l.height);t.tilesets.push(i)}}for(e=0;e<t.tilesets.length;e++){i=t.tilesets[e];var u=i.tileMargin;var c=i.tileMargin;var f=0;var d=0;var v=0;for(var p=i.firstgid;p<i.firstgid+i.total;p++){s[p]=[u,c,e];u+=i.tileWidth+i.tileSpacing;f++;if(f===i.total){break}d++;if(d===i.columns){u=i.tileMargin;c+=i.tileHeight+i.tileSpacing;d=0;v++;if(v===i.rows){break}}}}return s};t.exports=BuildTilesetIndex},79677:(t,e,i)=>{
/**
               * @author       Seth Berrier <berriers@uwstout.edu>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var CreateGroupLayer=function(t,e,i){if(!e){return{i:0,layers:t.layers,name:"",opacity:1,visible:true,x:0,y:0}}var s=e.x+r(e,"startx",0)*t.tilewidth+r(e,"offsetx",0);var n=e.y+r(e,"starty",0)*t.tileheight+r(e,"offsety",0);return{i:0,layers:e.layers,name:i.name+e.name+"/",opacity:i.opacity*e.opacity,visible:i.visible&&e.visible,x:i.x+s,y:i.y+n}};t.exports=CreateGroupLayer},29920:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e=2147483648;var i=1073741824;var r=536870912;var ParseGID=function(t){var s=Boolean(t&e);var n=Boolean(t&i);var a=Boolean(t&r);t=t&536870911;var o=0;var l=false;if(s&&n&&a){o=Math.PI/2;l=true}else if(s&&n&&!a){o=Math.PI;l=false}else if(s&&!n&&a){o=Math.PI/2;l=false}else if(s&&!n&&!a){o=0;l=true}else if(!s&&n&&a){o=3*Math.PI/2;l=false}else if(!s&&n&&!a){o=Math.PI;l=true}else if(!s&&!n&&a){o=3*Math.PI/2;l=true}else if(!s&&!n&&!a){o=0;l=false}return{gid:t,flippedHorizontal:s,flippedVertical:n,flippedAntiDiagonal:a,rotation:o,flipped:l}};t.exports=ParseGID},12635:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var s=i(79677);var ParseImageLayers=function(t){var e=[];var i=[];var n=s(t);while(n.i<n.layers.length||i.length>0){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var a=n.layers[n.i];n.i++;if(a.type!=="imagelayer"){if(a.type==="group"){var o=s(t,a,n);i.push(n);n=o}continue}var l=r(a,"offsetx",0)+r(a,"startx",0);var h=r(a,"offsety",0)+r(a,"starty",0);e.push({name:n.name+a.name,image:a.image,x:n.x+l+a.x,y:n.y+h+a.y,alpha:n.opacity*a.opacity,visible:n.visible&&a.visible,properties:r(a,"properties",{})})}return e};t.exports=ParseImageLayers},46594:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(51233);var s=i(84101);var n=i(91907);var a=i(62644);var o=i(80341);var l=i(6641);var h=i(87010);var u=i(12635);var c=i(22611);var f=i(28200);var d=i(24619);var ParseJSONTiled=function(t,e,i){var v=a(e);var p=new h({width:v.width,height:v.height,name:t,tileWidth:v.tilewidth,tileHeight:v.tileheight,orientation:l(v.orientation),format:o.TILED_JSON,version:v.version,properties:v.properties,renderOrder:v.renderorder,infinite:v.infinite});if(p.orientation===n.HEXAGONAL){p.hexSideLength=v.hexsidelength;p.staggerAxis=v.staggeraxis;p.staggerIndex=v.staggerindex;if(p.staggerAxis==="y"){var g=(p.tileHeight-p.hexSideLength)/2;p.widthInPixels=p.tileWidth*(p.width+.5);p.heightInPixels=p.height*(p.hexSideLength+g)+g}else{var m=(p.tileWidth-p.hexSideLength)/2;p.widthInPixels=p.width*(p.hexSideLength+m)+m;p.heightInPixels=p.tileHeight*(p.height+.5)}}p.layers=f(v,i);p.images=u(v);var y=d(v);p.tilesets=y.tilesets;p.imageCollections=y.imageCollections;p.objects=c(v);p.tiles=s(p);r(p);return p};t.exports=ParseJSONTiled},52205:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(18254);var s=i(29920);var copyPoints=function(t){return{x:t.x,y:t.y}};var n=["id","name","type","rotation","properties","visible","x","y","width","height"];var ParseObject=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}var a=r(t,n);a.x+=e;a.y+=i;if(t.gid){var o=s(t.gid);a.gid=o.gid;a.flippedHorizontal=o.flippedHorizontal;a.flippedVertical=o.flippedVertical;a.flippedAntiDiagonal=o.flippedAntiDiagonal}else if(t.polyline){a.polyline=t.polyline.map(copyPoints)}else if(t.polygon){a.polygon=t.polygon.map(copyPoints)}else if(t.ellipse){a.ellipse=t.ellipse}else if(t.text){a.text=t.text}else if(t.point){a.point=true}else{a.rectangle=true}return a};t.exports=ParseObject},22611:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95540);var s=i(52205);var n=i(48700);var a=i(79677);var ParseObjectLayers=function(t){var e=[];var i=[];var o=a(t);while(o.i<o.layers.length||i.length>0){if(o.i>=o.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=i.pop();continue}var l=o.layers[o.i];o.i++;l.opacity*=o.opacity;l.visible=o.visible&&l.visible;if(l.type!=="objectgroup"){if(l.type==="group"){var h=a(t,l,o);i.push(o);o=h}continue}l.name=o.name+l.name;var u=o.x+r(l,"startx",0)+r(l,"offsetx",0);var c=o.y+r(l,"starty",0)+r(l,"offsety",0);var f=[];for(var d=0;d<l.objects.length;d++){var v=s(l.objects[d],u,c);f.push(v)}var p=new n(l);p.objects=f;e.push(p)}return e};t.exports=ParseObjectLayers},28200:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41868);var s=i(91907);var n=i(79677);var a=i(6641);var o=i(95540);var l=i(14977);var h=i(29920);var u=i(23029);var ParseTileLayers=function(t,e){var i=o(t,"infinite",false);var c=[];var f=[];var d=n(t);while(d.i<d.layers.length||f.length>0){if(d.i>=d.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=f.pop();continue}var v=d.layers[d.i];d.i++;if(v.type!=="tilelayer"){if(v.type==="group"){var p=n(t,v,d);f.push(d);d=p}continue}if(v.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+v.name+"'");continue}else if(v.encoding&&v.encoding==="base64"){if(v.chunks){for(var g=0;g<v.chunks.length;g++){v.chunks[g].data=r(v.chunks[g].data)}}if(v.data){v.data=r(v.data)}delete v.encoding}var m;var y;var x;var b;var T;var w;var E=[];var S=0;if(i){var A=o(v,"startx",0)+v.x;var C=o(v,"starty",0)+v.y;m=new l({name:d.name+v.name,id:v.id,x:d.x+o(v,"offsetx",0)+A*t.tilewidth,y:d.y+o(v,"offsety",0)+C*t.tileheight,width:v.width,height:v.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:o(v,"properties",[]),orientation:a(t.orientation)});if(m.orientation===s.HEXAGONAL){m.hexSideLength=t.hexsidelength;m.staggerAxis=t.staggeraxis;m.staggerIndex=t.staggerindex;if(m.staggerAxis==="y"){T=(m.tileHeight-m.hexSideLength)/2;m.widthInPixels=m.tileWidth*(m.width+.5);m.heightInPixels=m.height*(m.hexSideLength+T)+T}else{w=(m.tileWidth-m.hexSideLength)/2;m.widthInPixels=m.width*(m.hexSideLength+w)+w;m.heightInPixels=m.tileHeight*(m.height+.5)}}for(var O=0;O<v.height;O++){E[O]=[null];for(var P=0;P<v.width;P++){E[O][P]=null}}for(O=0,z=v.chunks.length;O<z;O++){var I=v.chunks[O];var R=I.x-A;var M=I.y-C;var L=0;for(var D=0,k=I.data.length;D<k;D++){var F=S+R;var B=L+M;y=h(I.data[D]);if(y.gid>0){x=new u(m,y.gid,F,B,t.tilewidth,t.tileheight);x.rotation=y.rotation;x.flipX=y.flipped;E[B][F]=x}else{b=e?null:new u(m,-1,F,B,t.tilewidth,t.tileheight);E[B][F]=b}S++;if(S===I.width){L++;S=0}}}}else{m=new l({name:d.name+v.name,id:v.id,x:d.x+o(v,"offsetx",0)+v.x,y:d.y+o(v,"offsety",0)+v.y,width:v.width,height:v.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:o(v,"properties",[]),orientation:a(t.orientation)});if(m.orientation===s.HEXAGONAL){m.hexSideLength=t.hexsidelength;m.staggerAxis=t.staggeraxis;m.staggerIndex=t.staggerindex;if(m.staggerAxis==="y"){T=(m.tileHeight-m.hexSideLength)/2;m.widthInPixels=m.tileWidth*(m.width+.5);m.heightInPixels=m.height*(m.hexSideLength+T)+T}else{w=(m.tileWidth-m.hexSideLength)/2;m.widthInPixels=m.width*(m.hexSideLength+w)+w;m.heightInPixels=m.tileHeight*(m.height+.5)}}var N=[];for(var U=0,z=v.data.length;U<z;U++){y=h(v.data[U]);if(y.gid>0){x=new u(m,y.gid,S,E.length,t.tilewidth,t.tileheight);x.rotation=y.rotation;x.flipX=y.flipped;N.push(x)}else{b=e?null:new u(m,-1,S,E.length,t.tilewidth,t.tileheight);N.push(b)}S++;if(S===v.width){E.push(N);S=0;N=[]}}}m.data=E;c.push(m)}return c};t.exports=ParseTileLayers},24619:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(33629);var s=i(16536);var n=i(52205);var a=i(57880);var ParseTilesets=function(t){var e=[];var i=[];var o=null;var l;for(var h=0;h<t.tilesets.length;h++){var u=t.tilesets[h];if(u.source){console.warn("External tilesets unsupported. Use Embed Tileset and re-export")}else if(u.image){var c=new r(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(t.version>1){var f=void 0;var d=void 0;if(Array.isArray(u.tiles)){f=f||{};d=d||{};for(var v=0;v<u.tiles.length;v++){var p=u.tiles[v];if(p.properties){var g={};p.properties.forEach((function(t){g[t["name"]]=t["value"]}));d[p.id]=g}if(p.objectgroup){(f[p.id]||(f[p.id]={})).objectgroup=p.objectgroup;if(p.objectgroup.objects){var m=p.objectgroup.objects.map((function(t){return n(t)}));f[p.id].objectgroup.objects=m}}if(p.animation){(f[p.id]||(f[p.id]={})).animation=p.animation}if(p.type){(f[p.id]||(f[p.id]={})).type=p.type}}}if(Array.isArray(u.wangsets)){f=f||{};d=d||{};a(u.wangsets,f)}if(f){c.tileData=f;c.tileProperties=d}}else{if(u.tileproperties){c.tileProperties=u.tileproperties}if(u.tiles){c.tileData=u.tiles;for(l in c.tileData){var y=c.tileData[l].objectgroup;if(y&&y.objects){var x=y.objects.map((function(t){return n(t)}));c.tileData[l].objectgroup.objects=x}}}}c.updateTileData(u.imagewidth,u.imageheight);e.push(c)}else{var b=new s(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties);var T=0;for(v=0;v<u.tiles.length;v++){p=u.tiles[v];var w=p.image;var E=parseInt(p.id,10);var S=u.firstgid+E;var A=p.imagewidth;var C=p.imageheight;b.addImage(S,w,A,C);T=Math.max(E,T)}b.maxId=T;i.push(b)}if(o){o.lastgid=u.firstgid-1}o=u}return{tilesets:e,imageCollections:i}};t.exports=ParseTilesets},57880:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ParseWangsets=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];var s=i;if(r.name&&r.name!==""){s=r.name}if(Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var n={};var a={};var o;var l;var h;if(Array.isArray(r.edgecolors)){for(o=0;o<r.edgecolors.length;o++){h=1+o;l=r.edgecolors[o];if(l.name!==""){n[h]=l.name}}}if(Array.isArray(r.cornercolors)){for(o=0;o<r.cornercolors.length;o++){h=1+o;l=r.cornercolors[o];if(l.name!==""){a[h]=l.name}}}if(Array.isArray(r.colors)){for(o=0;o<r.colors.length;o++){l=r.colors[o];h=1+o;if(l.name!==""){n[h]=a[h]=l.name}}}var u=[n,a,n,a,n,a,n,a];for(var c=0;c<r.wangtiles.length;c++){var f=r.wangtiles[c];var d=e[f.tileid]||(e[f.tileid]={});d=d.wangid||(d.wangid={});var v=[];for(var p=0;p<Math.min(u.length,f.wangid.length);p++){l=f.wangid[p];if(l===0){v.push(void 0);continue}var g=u[p][l];if(g!==void 0){v.push(g);continue}v.push(l)}d[s]=v}}}};t.exports=ParseWangsets},96761:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(37277);var n=i(44594);var a=i(94880);var o=i(72905);var l=new r({initialize:function Clock2(t){this.scene=t;this.systems=t.sys;this.now=0;this.startTime=0;this.timeScale=1;this.paused=false;this._active=[];this._pendingInsertion=[];this._pendingRemoval=[];t.sys.events.once(n.BOOT,this.boot,this);t.sys.events.on(n.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time;this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var t=this.systems.events;t.on(n.PRE_UPDATE,this.preUpdate,this);t.on(n.UPDATE,this.update,this);t.once(n.SHUTDOWN,this.shutdown,this)},addEvent:function(t){var e;if(t instanceof a){e=t;this.removeEvent(e);e.elapsed=e.startAt;e.hasDispatched=false;e.repeatCount=e.repeat===-1||e.loop?999999999999:e.repeat;if(e.delay<=0&&e.repeatCount>0){throw new Error("TimerEvent infinite loop created via zero delay")}}else{e=new a(t)}this._pendingInsertion.push(e);return e},delayedCall:function(t,e,i,r){return this.addEvent({delay:t,callback:e,args:i,callbackScope:r})},clearPendingEvents:function(){this._pendingInsertion=[];return this},removeEvent:function(t){if(!Array.isArray(t)){t=[t]}for(var e=0;e<t.length;e++){var i=t[e];o(this._pendingRemoval,i);o(this._pendingInsertion,i);o(this._active,i)}return this},removeAllEvents:function(){this._pendingRemoval=this._pendingRemoval.concat(this._active);return this},preUpdate:function(){var t=this._pendingRemoval.length;var e=this._pendingInsertion.length;if(t===0&&e===0){return}var i;var r;for(i=0;i<t;i++){r=this._pendingRemoval[i];var s=this._active.indexOf(r);if(s>-1){this._active.splice(s,1)}r.destroy()}for(i=0;i<e;i++){r=this._pendingInsertion[i];this._active.push(r)}this._pendingRemoval.length=0;this._pendingInsertion.length=0},update:function(t,e){this.now=t;if(this.paused){return}e*=this.timeScale;for(var i=0;i<this._active.length;i++){var r=this._active[i];if(r.paused){continue}r.elapsed+=e*r.timeScale;if(r.elapsed>=r.delay){var s=r.elapsed-r.delay;r.elapsed=r.delay;if(!r.hasDispatched&&r.callback){r.hasDispatched=true;r.callback.apply(r.callbackScope,r.args)}if(r.repeatCount>0){r.repeatCount--;if(s>=r.delay){while(s>=r.delay&&r.repeatCount>0){if(r.callback){r.callback.apply(r.callbackScope,r.args)}s-=r.delay;r.repeatCount--}}r.elapsed=s;r.hasDispatched=false}else if(r.hasDispatched){this._pendingRemoval.push(r)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++){this._pendingInsertion[t].destroy()}for(t=0;t<this._active.length;t++){this._active[t].destroy()}for(t=0;t<this._pendingRemoval.length;t++){this._pendingRemoval[t].destroy()}this._active.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;var e=this.systems.events;e.off(n.PRE_UPDATE,this.preUpdate,this);e.off(n.UPDATE,this.update,this);e.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.scene.sys.events.off(n.START,this.start,this);this.scene=null;this.systems=null}});s.register("Clock",l,"time");t.exports=l},96120:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(39429);var a=i(95540);var o=i(44594);var l=i(89809);var h=new r({Extends:s,initialize:function Timeline2(t,e){s.call(this);this.scene=t;this.systems=t.sys;this.elapsed=0;this.timeScale=1;this.paused=true;this.complete=false;this.totalComplete=0;this.loop=0;this.iteration=0;this.events=[];var i=this.systems.events;i.on(o.PRE_UPDATE,this.preUpdate,this);i.on(o.UPDATE,this.update,this);i.once(o.SHUTDOWN,this.destroy,this);if(e){this.add(e)}},preUpdate:function(t,e){if(this.paused){return}this.elapsed+=e*this.timeScale},update:function(){if(this.paused||this.complete){return}var t;var e=this.events;var i=false;var r=this.systems;var s;for(t=0;t<e.length;t++){var n=e[t];if(!n.complete&&n.time<=this.elapsed){n.complete=true;this.totalComplete++;s=n.target?n.target:this;if(n.if){if(!n.if.call(s,n)){continue}}if(n.once){i=true}if(n.set&&n.target){for(var a in n.set){n.target[a]=n.set[a]}}if(this.iteration){n.repeat++}if(n.loop&&n.repeat){n.loop.call(s)}if(n.tween){n.tweenInstance=r.tweens.add(n.tween)}if(n.sound){if(typeof n.sound==="string"){r.sound.play(n.sound)}else{r.sound.play(n.sound.key,n.sound.config)}}if(n.event){this.emit(n.event,s)}if(n.run){n.run.call(s)}if(n.stop){this.stop()}}}if(i){for(t=0;t<e.length;t++){if(e[t].complete&&e[t].once){e.splice(t,1);t--}}}if(this.totalComplete>=e.length){if(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)){this.iteration++;this.reset(true)}else{this.complete=true}}if(this.complete){this.emit(l.COMPLETE,this)}},play:function(t){if(t===void 0){t=true}this.paused=false;this.complete=false;this.totalComplete=0;if(t){this.reset()}return this},pause:function(){this.paused=true;var t=this.events;for(var e=0;e<t.length;e++){var i=t[e];if(i.tweenInstance){i.tweenInstance.paused=true}}return this},repeat:function(t){if(t===void 0||t===true){t=-1}if(t===false){t=0}this.loop=t;return this},resume:function(){this.paused=false;var t=this.events;for(var e=0;e<t.length;e++){var i=t[e];if(i.tweenInstance){i.tweenInstance.paused=false}}return this},stop:function(){this.paused=true;this.complete=true;return this},reset:function(t){if(t===void 0){t=false}this.elapsed=0;if(!t){this.iteration=0}var e=this.events;for(var i=0;i<e.length;i++){var r=e[i];r.complete=false;if(!t){r.repeat=0}if(r.tweenInstance){r.tweenInstance.stop()}}return this.play(false)},add:function(t){if(!Array.isArray(t)){t=[t]}var e=this.events;var i=0;if(e.length>0){i=e[e.length-1].time}for(var r=0;r<t.length;r++){var s=t[r];var n=a(s,"at",0);var o=a(s,"in",null);if(o!==null){n=this.elapsed+o}var l=a(s,"from",null);if(l!==null){n=i+l}e.push({complete:false,time:n,repeat:0,if:a(s,"if",null),run:a(s,"run",null),loop:a(s,"loop",null),event:a(s,"event",null),target:a(s,"target",null),set:a(s,"set",null),tween:a(s,"tween",null),sound:a(s,"sound",null),once:a(s,"once",false),stop:a(s,"stop",false)});i=n}this.complete=false;return this},clear:function(){var t=this.events;for(var e=0;e<t.length;e++){var i=t[e];if(i.tweenInstance){i.tweenInstance.stop()}}t=[];this.elapsed=0;this.paused=true;return this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var t=Math.min(this.totalComplete,this.events.length);return t/this.events.length},destroy:function(){var t=this.systems.events;t.off(o.PRE_UPDATE,this.preUpdate,this);t.off(o.UPDATE,this.update,this);t.off(o.SHUTDOWN,this.destroy,this);this.clear();this.scene=null;this.systems=null}});n.register("timeline",(function(t){return new h(this.scene,t)}));t.exports=h},94880:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(95540);var n=new r({initialize:function TimerEvent2(t){this.delay=0;this.repeat=0;this.repeatCount=0;this.loop=false;this.callback;this.callbackScope;this.args;this.timeScale=1;this.startAt=0;this.elapsed=0;this.paused=false;this.hasDispatched=false;this.reset(t)},reset:function(t){this.delay=s(t,"delay",0);this.repeat=s(t,"repeat",0);this.loop=s(t,"loop",false);this.callback=s(t,"callback",void 0);this.callbackScope=s(t,"callbackScope",this);this.args=s(t,"args",[]);this.timeScale=s(t,"timeScale",1);this.startAt=s(t,"startAt",0);this.paused=s(t,"paused",false);this.elapsed=this.startAt;this.hasDispatched=false;this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat;if(this.delay<=0&&this.repeatCount>0){throw new Error("TimerEvent infinite loop created via zero delay")}return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;var e=this.elapsed+this.delay*(this.repeat-this.repeatCount);return e/t}else{return this.getProgress()}},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(t){if(t===void 0){t=false}this.elapsed=this.delay;this.hasDispatched=!t;this.repeatCount=0},destroy:function(){this.callback=void 0;this.callbackScope=void 0;this.args=[]}});t.exports=n},35945:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},89809:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={COMPLETE:i(35945)}},90291:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(72905);var s=i(83419);var n=i(43491);var a=i(88032);var o=i(37277);var l=i(44594);var h=i(93109);var u=i(86081);var c=i(8357);var f=i(43960);var d=i(26012);var v=new s({initialize:function TweenManager2(t){this.scene=t;this.events=t.sys.events;this.timeScale=1;this.paused=false;this.processing=false;this.tweens=[];this.time=0;this.startTime=0;this.nextTime=0;this.prevTime=0;this.maxLag=500;this.lagSkip=33;this.gap=1e3/240;this.events.once(l.BOOT,this.boot,this);this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.timeScale=1;this.paused=false;this.startTime=Date.now();this.prevTime=this.startTime;this.nextTime=this.gap;this.events.on(l.UPDATE,this.update,this);this.events.once(l.SHUTDOWN,this.shutdown,this)},create:function(t){if(!Array.isArray(t)){t=[t]}var e=[];for(var i=0;i<t.length;i++){var r=t[i];if(r instanceof u||r instanceof f){e.push(r)}else if(Array.isArray(r.tweens)){e.push(d(this,r))}else{e.push(c(this,r))}}return e.length===1?e[0]:e},add:function(t){var e=t;var i=this.tweens;if(e instanceof u||e instanceof f){i.push(e.reset())}else{if(Array.isArray(e.tweens)){e=d(this,e)}else{e=c(this,e)}i.push(e.reset())}return e},addMultiple:function(t){var e;var i=[];var r=this.tweens;for(var s=0;s<t.length;s++){e=t[s];if(e instanceof u||e instanceof f){r.push(e.reset())}else{if(Array.isArray(e.tweens)){e=d(this,e)}else{e=c(this,e)}r.push(e.reset())}i.push(e)}return i},chain:function(t){var e=d(this,t);this.tweens.push(e.init());return e},getChainedTweens:function(t){return t.getChainedTweens()},has:function(t){return this.tweens.indexOf(t)>-1},existing:function(t){if(!this.has(t)){this.tweens.push(t.reset())}return this},addCounter:function(t){var e=a(this,t);this.tweens.push(e.reset());return e},stagger:function(t,e){return h(t,e)},setLagSmooth:function(t,e){if(t===void 0){t=1/1e-8}if(e===void 0){e=0}this.maxLag=t;this.lagSkip=Math.min(e,this.maxLag);return this},setFps:function(t){if(t===void 0){t=240}this.gap=1e3/t;this.nextTime=this.time*1e3+this.gap;return this},getDelta:function(t){var e=Date.now()-this.prevTime;if(e>this.maxLag){this.startTime+=e-this.lagSkip}this.prevTime+=e;var i=this.prevTime-this.startTime;var r=i-this.nextTime;var s=i-this.time*1e3;if(r>0||t){i/=1e3;this.time=i;this.nextTime+=r+(r>=this.gap?4:this.gap-r)}else{s=0}return s},tick:function(){this.step(true);return this},update:function(){if(!this.paused){this.step(false)}},step:function(t){if(t===void 0){t=false}var e=this.getDelta(t);if(e<=0){return}this.processing=true;var i;var r;var s=[];var n=this.tweens;for(i=0;i<n.length;i++){r=n[i];if(r.update(e)){s.push(r)}}var a=s.length;if(a&&n.length>0){for(i=0;i<a;i++){r=s[i];var o=n.indexOf(r);if(o>-1&&(r.isPendingRemove()||r.isDestroyed())){n.splice(o,1);r.destroy()}}s.length=0}this.processing=false},remove:function(t){if(this.processing){t.setPendingRemoveState()}else{r(this.tweens,t);t.setRemovedState()}return this},reset:function(t){this.existing(t);t.seek();t.setActiveState();return this},makeActive:function(t){this.existing(t);t.setActiveState();return this},each:function(t,e){var i;var r=[null];for(i=1;i<arguments.length;i++){r.push(arguments[i])}this.tweens.forEach((function(i){r[0]=i;t.apply(e,r)}));return this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(t){var e=[];var i=this.tweens;if(!Array.isArray(t)){t=[t]}else{t=n(t)}var r=t.length;for(var s=0;s<i.length;s++){var a=i[s];for(var o=0;o<r;o++){if(!a.isDestroyed()&&a.hasTarget(t[o])){e.push(a)}}}return e},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(t){this.timeScale=t;return this},isTweening:function(t){var e=this.tweens;var i;for(var r=0;r<e.length;r++){i=e[r];if(i.isPlaying()&&i.hasTarget(t)){return true}}return false},killAll:function(){var t=this.processing?this.getTweens():this.tweens;for(var e=0;e<t.length;e++){t[e].destroy()}if(!this.processing){t.length=0}return this},killTweensOf:function(t){var e=this.getTweensOf(t);for(var i=0;i<e.length;i++){e[i].destroy()}return this},pauseAll:function(){this.paused=true;return this},resumeAll:function(){this.paused=false;return this},shutdown:function(){this.killAll();this.tweens=[];this.events.off(l.UPDATE,this.update,this);this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(l.START,this.start,this);this.scene=null;this.events=null}});o.register("TweenManager",v,"tweens");t.exports=v},57355:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetBoolean=function(t,e,i){if(!t){return i}else if(t.hasOwnProperty(e)){return t[e]}else{return i}};t.exports=GetBoolean},6113:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(62640);var s=i(35355);var GetEaseFunction=function(t,e){var i=r.Power0;if(typeof t==="string"){if(r.hasOwnProperty(t)){i=r[t]}else{var n="";if(t.indexOf(".")){n=t.substring(t.indexOf(".")+1);var a=n.toLowerCase();if(a==="in"){n="easeIn"}else if(a==="out"){n="easeOut"}else if(a==="inout"){n="easeInOut"}}t=s(t.substring(0,t.indexOf(".")+1)+n);if(r.hasOwnProperty(t)){i=r[t]}}}else if(typeof t==="function"){i=t}if(!e){return i}var o=e.slice(0);o.unshift(0);return function(t){o[0]=t;return i.apply(this,o)}};t.exports=GetEaseFunction},91389:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(89318);var s=i(77259);var n=i(28392);var a={bezier:r,catmull:s,catmullrom:s,linear:n};var GetInterpolationFunction=function(t){if(t===null){return null}var e=a.linear;if(typeof t==="string"){if(a.hasOwnProperty(t)){e=a[t]}}else if(typeof t==="function"){e=t}return e};t.exports=GetInterpolationFunction},55292:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetNewValue=function(t,e,i){var r;if(t.hasOwnProperty(e)){var s=typeof t[e];if(s==="function"){r=function(i,r,s,n,a,o){return t[e](i,r,s,n,a,o)}}else{r=function(){return t[e]}}}else if(typeof i==="function"){r=i}else{r=function(){return i}}return r};t.exports=GetNewValue},82985:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(81076);var GetProps=function(t){var e;var i=[];if(t.hasOwnProperty("props")){for(e in t.props){if(e.substring(0,1)!=="_"){i.push({key:e,value:t.props[e]})}}}else{for(e in t){if(r.indexOf(e)===-1&&e.substring(0,1)!=="_"){i.push({key:e,value:t[e]})}}}return i};t.exports=GetProps},62329:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35154);var GetTargets=function(t){var e=r(t,"targets",null);if(e===null){return e}if(typeof e==="function"){e=e.call()}if(!Array.isArray(e)){e=[e]}return e};t.exports=GetTargets},17777:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(30976);var s=i(99472);function hasGetActive(t){return!!t.getActive&&typeof t.getActive==="function"}function hasGetStart(t){return!!t.getStart&&typeof t.getStart==="function"}function hasGetEnd(t){return!!t.getEnd&&typeof t.getEnd==="function"}function hasGetters(t){return hasGetStart(t)||hasGetEnd(t)||hasGetActive(t)}var GetValueOp=function(t,e){var i;var getEnd=function(t,e,i){return i};var getStart=function(t,e,i){return i};var n=null;var a=typeof e;if(a==="number"){getEnd=function(){return e}}else if(Array.isArray(e)){getStart=function(){return e[0]};getEnd=function(){return e[e.length-1]}}else if(a==="string"){var o=e.toLowerCase();var l=o.substring(0,6)==="random";var h=o.substring(0,3)==="int";if(l||h){var u=o.indexOf("(");var c=o.indexOf(")");var f=o.indexOf(",");if(u&&c&&f){var d=parseFloat(o.substring(u+1,f));var v=parseFloat(o.substring(f+1,c));if(l){getEnd=function(){return s(d,v)}}else{getEnd=function(){return r(d,v)}}}else{throw new Error("invalid random() format")}}else{o=o[0];var p=parseFloat(e.substr(2));switch(o){case"+":getEnd=function(t,e,i){return i+p};break;case"-":getEnd=function(t,e,i){return i-p};break;case"*":getEnd=function(t,e,i){return i*p};break;case"/":getEnd=function(t,e,i){return i/p};break;default:getEnd=function(){return parseFloat(e)}}}}else if(a==="function"){getEnd=e}else if(a==="object"){if(hasGetters(e)){if(hasGetActive(e)){n=e.getActive}if(hasGetEnd(e)){getEnd=e.getEnd}if(hasGetStart(e)){getStart=e.getStart}}else if(e.hasOwnProperty("value")){i=GetValueOp(t,e.value)}else{var g=e.hasOwnProperty("to");var m=e.hasOwnProperty("from");var y=e.hasOwnProperty("start");if(g&&(m||y)){i=GetValueOp(t,e.to);if(y){var x=GetValueOp(t,e.start);i.getActive=x.getEnd}if(m){var b=GetValueOp(t,e.from);i.getStart=b.getEnd}}}}if(!i){i={getActive:n,getEnd:getEnd,getStart:getStart}}return i};t.exports=GetValueOp},88032:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70402);var s=i(69902);var n=i(23568);var a=i(57355);var o=i(6113);var l=i(95540);var h=i(55292);var u=i(35154);var c=i(17777);var f=i(269);var d=i(86081);var NumberTweenBuilder=function(t,e,i){if(e instanceof d){e.parent=t;return e}if(i===void 0){i=s}else{i=f(s,i)}var v=l(e,"from",0);var p=l(e,"to",1);var g=[{value:v}];var m=l(e,"delay",i.delay);var y=l(e,"easeParams",i.easeParams);var x=l(e,"ease",i.ease);var b=c("value",p);var T=new d(t,g);var w=T.add(0,"value",b.getEnd,b.getStart,b.getActive,o(l(e,"ease",x),l(e,"easeParams",y)),h(e,"delay",m),l(e,"duration",i.duration),a(e,"yoyo",i.yoyo),l(e,"hold",i.hold),l(e,"repeat",i.repeat),l(e,"repeatDelay",i.repeatDelay),false,false);w.start=v;w.current=v;T.completeDelay=n(e,"completeDelay",0);T.loop=Math.round(n(e,"loop",0));T.loopDelay=Math.round(n(e,"loopDelay",0));T.paused=a(e,"paused",false);T.persist=a(e,"persist",false);T.isNumberTween=true;T.callbackScope=u(e,"callbackScope",T);var E=r.TYPES;for(var S=0;S<E.length;S++){var A=E[S];var C=u(e,A,false);if(C){var O=u(e,A+"Params",[]);T.setCallback(A,C,O)}}return T};t.exports=NumberTweenBuilder},93109:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(6113);var s=i(35154);var n=i(36383);var StaggerBuilder=function(t,e){if(e===void 0){e={}}var i;var a=s(e,"start",0);var o=s(e,"ease",null);var l=s(e,"grid",null);var h=s(e,"from",0);var u=h==="first";var c=h==="center";var f=h==="last";var d=typeof h==="number";var v=Array.isArray(t);var p=v?parseFloat(t[0]):parseFloat(t);var g=v?parseFloat(t[1]):0;var m=Math.max(p,g);if(v){a+=p}if(l){var y=l[0];var x=l[1];var b=0;var T=0;var w=0;var E=0;var S=[];if(f){b=y-1;T=x-1}else if(d){b=h%y;T=Math.floor(h/y)}else if(c){b=(y-1)/2;T=(x-1)/2}var A=n.MIN_SAFE_INTEGER;for(var C=0;C<x;C++){S[C]=[];for(var O=0;O<y;O++){w=b-O;E=T-C;var P=Math.sqrt(w*w+E*E);if(P>A){A=P}S[C][O]=P}}}var I=o?r(o):null;if(l){i=function(t,e,i,r){var s=0;var n=r%y;var o=Math.floor(r/y);if(n>=0&&n<y&&o>=0&&o<x){s=S[o][n]}var l;if(v){var h=g-p;if(I){l=s/A*h*I(s/A)}else{l=s/A*h}}else if(I){l=s*p*I(s/A)}else{l=s*p}return l+a}}else{i=function(t,e,i,r,s){s--;var n;if(u){n=r}else if(c){n=Math.abs(s/2-r)}else if(f){n=s-r}else if(d){n=Math.abs(h-r)}var o;if(v){var l;if(c){l=(g-p)/s*(n*2)}else{l=(g-p)/s*n}if(I){o=l*I(n/s)}else{o=l}}else if(I){o=s*m*I(n/s)}else{o=n*p}return o+a}}return i};t.exports=StaggerBuilder},8357:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70402);var s=i(69902);var n=i(23568);var a=i(57355);var o=i(6113);var l=i(95540);var h=i(91389);var u=i(55292);var c=i(82985);var f=i(62329);var d=i(35154);var v=i(17777);var p=i(269);var g=i(86081);var TweenBuilder=function(t,e,i){if(e instanceof g){e.parent=t;return e}if(i===void 0){i=s}else{i=p(s,i)}var m=f(e);if(!m&&i.targets){m=i.targets}var y=c(e);var x=l(e,"delay",i.delay);var b=l(e,"duration",i.duration);var T=l(e,"easeParams",i.easeParams);var w=l(e,"ease",i.ease);var E=l(e,"hold",i.hold);var S=l(e,"repeat",i.repeat);var A=l(e,"repeatDelay",i.repeatDelay);var C=a(e,"yoyo",i.yoyo);var O=a(e,"flipX",i.flipX);var P=a(e,"flipY",i.flipY);var I=l(e,"interpolation",i.interpolation);var addTarget=function(t,e,i,r){if(i==="texture"){var s=r;var n=void 0;if(Array.isArray(r)){s=r[0];n=r[1]}else if(r.hasOwnProperty("value")){s=r.value;if(Array.isArray(r.value)){s=r.value[0];n=r.value[1]}else if(typeof r.value==="string"){s=r.value}}else if(typeof r==="string"){s=r}t.addFrame(e,s,n,u(r,"delay",x),l(r,"duration",b),l(r,"hold",E),l(r,"repeat",S),l(r,"repeatDelay",A),a(r,"flipX",O),a(r,"flipY",P))}else{var c=v(i,r);var f=h(l(r,"interpolation",I));t.add(e,i,c.getEnd,c.getStart,c.getActive,o(l(r,"ease",w),l(r,"easeParams",T)),u(r,"delay",x),l(r,"duration",b),a(r,"yoyo",C),l(r,"hold",E),l(r,"repeat",S),l(r,"repeatDelay",A),a(r,"flipX",O),a(r,"flipY",P),f,f?r:null)}};var R=new g(t,m);for(var M=0;M<y.length;M++){var L=y[M].key;var D=y[M].value;for(var k=0;k<m.length;k++){if(L==="scale"&&!m[k].hasOwnProperty("scale")){addTarget(R,k,"scaleX",D);addTarget(R,k,"scaleY",D)}else{addTarget(R,k,L,D)}}}R.completeDelay=n(e,"completeDelay",0);R.loop=Math.round(n(e,"loop",0));R.loopDelay=Math.round(n(e,"loopDelay",0));R.paused=a(e,"paused",false);R.persist=a(e,"persist",false);R.callbackScope=l(e,"callbackScope",R);var F=r.TYPES;for(var B=0;B<F.length;B++){var N=F[B];var U=d(e,N,false);if(U){var z=d(e,N+"Params",[]);R.setCallback(N,U,z)}}return R};t.exports=TweenBuilder},26012:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70402);var s=i(23568);var n=i(57355);var a=i(62329);var o=i(35154);var l=i(8357);var h=i(43960);var TweenChainBuilder=function(t,e){if(e instanceof h){e.parent=t;return e}var i=new h(t);i.startDelay=o(e,"delay",0);i.completeDelay=s(e,"completeDelay",0);i.loop=Math.round(s(e,"loop",o(e,"repeat",0)));i.loopDelay=Math.round(s(e,"loopDelay",o(e,"repeatDelay",0)));i.paused=n(e,"paused",false);i.persist=n(e,"persist",false);i.callbackScope=o(e,"callbackScope",i);var u;var c=r.TYPES;for(u=0;u<c.length;u++){var f=c[u];var d=o(e,f,false);if(d){var v=o(e,f+"Params",[]);i.setCallback(f,d,v)}}var p=o(e,"tweens",null);if(Array.isArray(p)){var g=[];var m=a(e);var y=void 0;if(m){y={targets:m}}for(u=0;u<p.length;u++){g.push(l(i,p[u],y))}i.add(g)}return i};t.exports=TweenChainBuilder},30231:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="active"},98540:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="complete"},67233:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="loop"},2859:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="pause"},98336:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="repeat"},25764:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="resume"},32193:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="start"},84371:t=>{
/**
               * @author       samme
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="stop"},70766:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="update"},55659:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports="yoyo"},842:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};t.exports=r},70402:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(50792);var n=i(842);var a=i(86353);var o=new r({Extends:s,initialize:function BaseTween2(t){s.call(this);this.parent=t;this.data=[];this.totalData=0;this.startDelay=0;this.hasStarted=false;this.timeScale=1;this.loop=0;this.loopDelay=0;this.loopCounter=0;this.completeDelay=0;this.countdown=0;this.state=a.PENDING;this.paused=false;this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null};this.callbackScope;this.persist=false},setTimeScale:function(t){this.timeScale=t;return this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){if(!this.paused){this.paused=true;this.dispatchEvent(n.TWEEN_PAUSE,"onPause")}return this},resume:function(){if(this.paused){this.paused=false;this.dispatchEvent(n.TWEEN_RESUME,"onResume")}return this},makeActive:function(){this.parent.makeActive(this);this.dispatchEvent(n.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState();this.dispatchEvent(n.TWEEN_COMPLETE,"onComplete")},complete:function(t){if(t===void 0){t=0}if(t){this.setCompleteDelayState();this.countdown=t}else{this.onCompleteHandler()}return this},completeAfterLoop:function(t){if(t===void 0){t=0}if(this.loopCounter>t){this.loopCounter=t}return this},remove:function(){if(this.parent){this.parent.remove(this)}return this},stop:function(){if(this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()){this.dispatchEvent(n.TWEEN_STOP,"onStop");this.setPendingRemoveState()}return this},updateLoopCountdown:function(t){this.countdown-=t;if(this.countdown<=0){this.setActiveState();this.dispatchEvent(n.TWEEN_LOOP,"onLoop")}},updateStartCountdown:function(t){this.countdown-=t;if(this.countdown<=0){this.hasStarted=true;this.setActiveState();this.dispatchEvent(n.TWEEN_START,"onStart");t=0}return t},updateCompleteDelay:function(t){this.countdown-=t;if(this.countdown<=0){this.onCompleteHandler()}},setCallback:function(t,e,i){if(i===void 0){i=[]}if(this.callbacks.hasOwnProperty(t)){this.callbacks[t]={func:e,params:i}}return this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE;this.hasStarted=false},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY;this.countdown=this.startDelay;this.hasStarted=false},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){if(this.data){this.data.forEach((function(t){t.destroy()}))}this.removeAllListeners();this.callbacks=null;this.data=null;this.parent=null;this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"];t.exports=o},95042:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(83419);var s=i(842);var n=i(86353);var a=new r({initialize:function BaseTweenData2(t,e,i,r,s,n,a,o,l,h){this.tween=t;this.targetIndex=e;this.duration=r<=0?.01:r;this.totalDuration=0;this.delay=0;this.getDelay=i;this.yoyo=s;this.hold=n;this.repeat=a;this.repeatDelay=o;this.repeatCounter=0;this.flipX=l;this.flipY=h;this.progress=0;this.elapsed=0;this.state=0;this.isCountdown=false},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(t){if(t===void 0){t=this.current}this.tween.targets[this.targetIndex][this.key]=t},setCreatedState:function(){this.state=n.CREATED;this.isCountdown=false},setDelayState:function(){this.state=n.DELAY;this.isCountdown=true},setPendingRenderState:function(){this.state=n.PENDING_RENDER;this.isCountdown=false},setPlayingForwardState:function(){this.state=n.PLAYING_FORWARD;this.isCountdown=false},setPlayingBackwardState:function(){this.state=n.PLAYING_BACKWARD;this.isCountdown=false},setHoldState:function(){this.state=n.HOLD_DELAY;this.isCountdown=true},setRepeatState:function(){this.state=n.REPEAT_DELAY;this.isCountdown=true},setCompleteState:function(){this.state=n.COMPLETE;this.isCountdown=false},isCreated:function(){return this.state===n.CREATED},isDelayed:function(){return this.state===n.DELAY},isPendingRender:function(){return this.state===n.PENDING_RENDER},isPlayingForward:function(){return this.state===n.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===n.PLAYING_BACKWARD},isHolding:function(){return this.state===n.HOLD_DELAY},isRepeating:function(){return this.state===n.REPEAT_DELAY},isComplete:function(){return this.state===n.COMPLETE},setStateFromEnd:function(t){if(this.yoyo){this.onRepeat(t,true,true)}else if(this.repeatCounter>0){this.onRepeat(t,true,false)}else{this.setCompleteState()}},setStateFromStart:function(t){if(this.repeatCounter>0){this.onRepeat(t,false)}else{this.setCompleteState()}},reset:function(){var t=this.tween;var e=t.totalTargets;var i=this.targetIndex;var r=t.targets[i];var s=this.key;this.progress=0;this.elapsed=0;this.delay=this.getDelay(r,s,0,i,e,t);this.repeatCounter=this.repeat===-1?n.MAX:this.repeat;this.setPendingRenderState();var a=this.duration+this.hold;if(this.yoyo){a+=this.duration}var o=a+this.repeatDelay;this.totalDuration=this.delay+a;if(this.repeat===-1){this.totalDuration+=o*n.MAX;t.isInfinite=true}else if(this.repeat>0){this.totalDuration+=o*this.repeat}if(this.totalDuration>t.duration){t.duration=this.totalDuration}if(this.delay<t.startDelay){t.startDelay=this.delay}if(this.delay>0){this.elapsed=this.delay;this.setDelayState()}},onRepeat:function(t,e,i){var r=this.tween;var n=r.totalTargets;var a=this.targetIndex;var o=r.targets[a];var l=this.key;var h=l!=="texture";this.elapsed=t;this.progress=t/this.duration;if(this.flipX){o.toggleFlipX()}if(this.flipY){o.toggleFlipY()}if(h&&(e||i)){this.start=this.getStartValue(o,l,this.start,a,n,r)}if(i){this.setPlayingBackwardState();this.dispatchEvent(s.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--;if(h){this.end=this.getEndValue(o,l,this.start,a,n,r)}if(this.repeatDelay>0){this.elapsed=this.repeatDelay-t;if(h){this.current=this.start;o[l]=this.current}this.setRepeatState()}else{this.setPlayingForwardState();this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")}},destroy:function(){this.tween=null;this.getDelay=null;this.setCompleteState()}});t.exports=a},69902:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:false,flipX:false,flipY:false,persist:false,interpolation:null};t.exports=e},81076:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(70402);var s=i(83419);var n=i(842);var a=i(44603);var o=i(39429);var l=i(36383);var h=i(86353);var u=i(48177);var c=i(42220);var f=new s({Extends:r,initialize:function Tween2(t,e){r.call(this,t);this.targets=e;this.totalTargets=e.length;this.isSeeking=false;this.isInfinite=false;this.elapsed=0;this.totalElapsed=0;this.duration=0;this.progress=0;this.totalDuration=0;this.totalProgress=0;this.isNumberTween=false},add:function(t,e,i,r,s,n,a,o,l,h,c,f,d,v,p,g){var m=new u(this,t,e,i,r,s,n,a,o,l,h,c,f,d,v,p,g);this.totalData=this.data.push(m);return m},addFrame:function(t,e,i,r,s,n,a,o,l,h){var u=new c(this,t,e,i,r,s,n,a,o,l,h);this.totalData=this.data.push(u);return u},getValue:function(t){if(t===void 0){t=0}var e=null;if(this.data){e=this.data[t].current}return e},hasTarget:function(t){return this.targets&&this.targets.indexOf(t)!==-1},updateTo:function(t,e,i){if(i===void 0){i=false}if(t!=="texture"){for(var r=0;r<this.totalData;r++){var s=this.data[r];if(s.key===t&&(s.isPlayingForward()||s.isPlayingBackward())){s.end=e;if(i){s.start=s.current}}}}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek();this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}this.paused=false;this.hasStarted=false;return this},nextState:function(){if(this.loopCounter>0){this.elapsed=0;this.progress=0;this.loopCounter--;this.initTweenData(true);if(this.loopDelay>0){this.countdown=this.loopDelay;this.setLoopDelayState()}else{this.setActiveState();this.dispatchEvent(n.TWEEN_LOOP,"onLoop")}}else if(this.completeDelay>0){this.countdown=this.completeDelay;this.setCompleteDelayState()}else{this.onCompleteHandler();return true}return false},onCompleteHandler:function(){this.progress=1;this.totalProgress=1;r.prototype.onCompleteHandler.call(this)},play:function(){if(this.isDestroyed()){console.warn("Cannot play destroyed Tween",this);return this}if(this.isPendingRemove()||this.isFinished()){this.seek()}this.paused=false;this.setActiveState();return this},seek:function(t,e,i){if(t===void 0){t=0}if(e===void 0){e=16.6}if(i===void 0){i=false}if(this.isDestroyed()){console.warn("Cannot seek destroyed Tween",this);return this}if(!i){this.isSeeking=true}this.reset(true);this.initTweenData(true);this.setActiveState();this.dispatchEvent(n.TWEEN_ACTIVE,"onActive");var r=this.paused;this.paused=false;if(t>0){var s=Math.floor(t/e);var a=t-s*e;for(var o=0;o<s;o++){this.update(e)}if(a>0){this.update(a)}}this.paused=r;this.isSeeking=false;return this},initTweenData:function(t){if(t===void 0){t=false}this.duration=0;this.startDelay=l.MAX_SAFE_INTEGER;var e=this.data;for(var i=0;i<this.totalData;i++){e[i].reset(t)}this.duration=Math.max(this.duration,.01);var r=this.duration;var s=this.completeDelay;var n=this.loopCounter;var a=this.loopDelay;if(n>0){this.totalDuration=r+s+(r+a)*n}else{this.totalDuration=r+s}},reset:function(t){if(t===void 0){t=false}this.elapsed=0;this.totalElapsed=0;this.progress=0;this.totalProgress=0;this.loopCounter=this.loop;if(this.loop===-1){this.isInfinite=true;this.loopCounter=h.MAX}if(!t){this.initTweenData();this.setActiveState();this.dispatchEvent(n.TWEEN_ACTIVE,"onActive")}return this},update:function(t){if(this.isPendingRemove()||this.isDestroyed()){if(this.persist){this.setFinishedState();return false}return true}else if(this.paused||this.isFinished()){return false}t*=this.timeScale*this.parent.timeScale;if(this.isLoopDelayed()){this.updateLoopCountdown(t);return false}else if(this.isCompleteDelayed()){this.updateCompleteDelay(t);return false}else if(!this.hasStarted){this.startDelay-=t;if(this.startDelay<=0){this.hasStarted=true;this.dispatchEvent(n.TWEEN_START,"onStart");t=0}}var e=false;if(this.isActive()){var i=this.data;for(var r=0;r<this.totalData;r++){if(i[r].update(t)){e=true}}}this.elapsed+=t;this.progress=Math.min(this.elapsed/this.duration,1);this.totalElapsed+=t;this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);if(!e){this.nextState()}var s=this.isPendingRemove();if(s&&this.persist){this.setFinishedState();s=false}return s},forward:function(t){this.update(t);return this},rewind:function(t){this.update(-t);return this},dispatchEvent:function(t,e){if(!this.isSeeking){this.emit(t,this,this.targets);if(!this.callbacks){return}var i=this.callbacks[e];if(i){i.func.apply(this.callbackScope,[this,this.targets].concat(i.params))}}},destroy:function(){r.prototype.destroy.call(this);this.targets=null}});o.register("tween",(function(t){return this.scene.sys.tweens.add(t)}));a.register("tween",(function(t){return this.scene.sys.tweens.create(t)}));t.exports=f},43960:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(72905);var s=i(70402);var n=i(83419);var a=i(842);var o=i(44603);var l=i(39429);var h=i(86353);var u=new n({Extends:s,initialize:function TweenChain2(t){s.call(this,t);this.currentTween=null;this.currentIndex=0},init:function(){this.loopCounter=this.loop===-1?h.MAX:this.loop;this.setCurrentTween(0);if(this.startDelay>0&&!this.isStartDelayed()){this.setStartDelayState()}else{this.setActiveState()}return this},add:function(t){var e=this.parent.create(t);if(!Array.isArray(e)){e=[e]}var i=this.data;for(var r=0;r<e.length;r++){var s=e[r];s.parent=this;i.push(s.reset())}this.totalData=i.length;return this},remove:function(t){r(this.data,t);t.setRemovedState();if(t===this.currentTween){this.nextTween()}this.totalData=this.data.length;return this},hasTarget:function(t){var e=this.data;for(var i=0;i<this.totalData;i++){if(e[i].hasTarget(t)){return true}}return false},restart:function(){if(this.isDestroyed()){console.warn("Cannot restart destroyed TweenChain",this);return this}if(this.isRemoved()){this.parent.makeActive(this)}this.resetTweens();this.paused=false;return this.init()},reset:function(t){t.seek();t.setActiveState();return this},makeActive:function(t){t.reset();t.setActiveState();return this},nextState:function(){if(this.loopCounter>0){this.loopCounter--;this.resetTweens();if(this.loopDelay>0){this.countdown=this.loopDelay;this.setLoopDelayState()}else{this.setActiveState();this.dispatchEvent(a.TWEEN_LOOP,"onLoop")}}else if(this.completeDelay>0){this.countdown=this.completeDelay;this.setCompleteDelayState()}else{this.onCompleteHandler();return true}return false},play:function(){if(this.isDestroyed()){console.warn("Cannot play destroyed TweenChain",this);return this}if(this.isPendingRemove()||this.isPending()){this.resetTweens()}this.paused=false;if(this.startDelay>0&&!this.isStartDelayed()){this.setStartDelayState()}else{this.setActiveState()}return this},resetTweens:function(){var t=this.data;var e=this.totalData;for(var i=0;i<e;i++){t[i].reset(false)}this.setCurrentTween(0)},update:function(t){if(this.isPendingRemove()||this.isDestroyed()){return true}else if(this.isFinished()||this.paused){return false}t*=this.parent.timeScale;if(this.isLoopDelayed()){this.updateLoopCountdown(t);return false}else if(this.isCompleteDelayed()){this.updateCompleteDelay(t);return false}else if(!this.hasStarted){this.startDelay-=t;if(this.startDelay<=0){this.hasStarted=true;this.dispatchEvent(a.TWEEN_START,"onStart");t=0}}var e=false;if(this.isActive()&&this.currentTween){if(this.currentTween.update(t)){if(this.nextTween()){this.nextState()}}e=this.isPendingRemove();if(e&&this.persist){this.setFinishedState();e=false}}return e},nextTween:function(){this.currentIndex++;if(this.currentIndex===this.totalData){return true}else{this.setCurrentTween(this.currentIndex)}return false},setCurrentTween:function(t){this.currentIndex=t;this.currentTween=this.data[t];this.currentTween.setActiveState()},dispatchEvent:function(t,e){this.emit(t,this);var i=this.callbacks[e];if(i){i.func.apply(this.callbackScope,[this].concat(i.params))}},destroy:function(){s.prototype.destroy.call(this);this.currentTween=null}});l.register("tweenchain",(function(t){return this.scene.sys.tweens.chain(t)}));o.register("tweenchain",(function(t){return this.scene.sys.tweens.create(t)}));t.exports=u},48177:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95042);var s=i(45319);var n=i(83419);var a=i(842);var o=new n({Extends:r,initialize:function TweenData2(t,e,i,s,n,a,o,l,h,u,c,f,d,v,p,g,m){r.call(this,t,e,l,h,u,c,f,d,v,p);this.key=i;this.getActiveValue=a;this.getEndValue=s;this.getStartValue=n;this.ease=o;this.start=0;this.previous=0;this.current=0;this.end=0;this.interpolation=g;this.interpolationData=m},reset:function(t){r.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex];var i=this.key;if(t){e[i]=this.start}this.start=0;this.previous=0;this.current=0;this.end=0;if(this.getActiveValue){e[i]=this.getActiveValue(e,i,0)}},update:function(t){var e=this.tween;var i=e.totalTargets;var r=this.targetIndex;var n=e.targets[r];var o=this.key;if(!n){this.setCompleteState();return false}if(this.isCountdown){this.elapsed-=t;if(this.elapsed<=0){this.elapsed=0;t=0;if(this.isDelayed()){this.setPendingRenderState()}else if(this.isRepeating()){this.setPlayingForwardState();this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")}else if(this.isHolding()){this.setStateFromEnd(0)}}}if(this.isPendingRender()){this.start=this.getStartValue(n,o,n[o],r,i,e);this.end=this.getEndValue(n,o,this.start,r,i,e);this.current=this.start;n[o]=this.start;this.setPlayingForwardState();return true}var l=this.isPlayingForward();var h=this.isPlayingBackward();if(l||h){var u=this.elapsed;var c=this.duration;var f=0;var d=false;u+=t;if(u>=c){f=u-c;u=c;d=true}else if(u<0){u=0}var v=s(u/c,0,1);this.elapsed=u;this.progress=v;this.previous=this.current;if(!l){v=1-v}var p=this.ease(v);if(this.interpolation){this.current=this.interpolation(this.interpolationData,p)}else{this.current=this.start+(this.end-this.start)*p}n[o]=this.current;if(d){if(l){if(e.isNumberTween){this.current=this.end;n[o]=this.current}if(this.hold>0){this.elapsed=this.hold;this.setHoldState()}else{this.setStateFromEnd(f)}}else{if(e.isNumberTween){this.current=this.start;n[o]=this.current}this.setStateFromStart(f)}}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,e){var i=this.tween;if(!i.isSeeking){var r=i.targets[this.targetIndex];var s=this.key;var n=this.current;var a=this.previous;i.emit(t,i,s,r,n,a);var o=i.callbacks[e];if(o){o.func.apply(i.callbackScope,[i,r,s,n,a].concat(o.params))}}},destroy:function(){r.prototype.destroy.call(this);this.getActiveValue=null;this.getEndValue=null;this.getStartValue=null;this.ease=null}});t.exports=o},42220:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(95042);var s=i(45319);var n=i(83419);var a=i(842);var o=new n({Extends:r,initialize:function TweenFrameData2(t,e,i,s,n,a,o,l,h,u,c){r.call(this,t,e,n,a,false,o,l,h,u,c);this.key="texture";this.startTexture=null;this.endTexture=i;this.startFrame=null;this.endFrame=s;this.yoyo=l!==0?true:false},reset:function(t){r.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex];if(!this.startTexture){this.startTexture=e.texture.key;this.startFrame=e.frame.name}if(t){e.setTexture(this.startTexture,this.startFrame)}},update:function(t){var e=this.tween;var i=this.targetIndex;var r=e.targets[i];if(!r){this.setCompleteState();return false}if(this.isCountdown){this.elapsed-=t;if(this.elapsed<=0){this.elapsed=0;t=0;if(this.isDelayed()){this.setPendingRenderState()}else if(this.isRepeating()){this.setPlayingForwardState();this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")}else if(this.isHolding()){this.setStateFromEnd(0)}}}if(this.isPendingRender()){if(this.startTexture){r.setTexture(this.startTexture,this.startFrame)}this.setPlayingForwardState();return true}var n=this.isPlayingForward();var o=this.isPlayingBackward();if(n||o){var l=this.elapsed;var h=this.duration;var u=0;var c=false;l+=t;if(l>=h){u=l-h;l=h;c=true}else if(l<0){l=0}var f=s(l/h,0,1);this.elapsed=l;this.progress=f;if(c){if(n){r.setTexture(this.endTexture,this.endFrame);if(this.hold>0){this.elapsed=this.hold;this.setHoldState()}else{this.setStateFromEnd(u)}}else{r.setTexture(this.startTexture,this.startFrame);this.setStateFromStart(u)}}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,e){var i=this.tween;if(!i.isSeeking){var r=i.targets[this.targetIndex];var s=this.key;i.emit(t,i,s,r);var n=i.callbacks[e];if(n){n.func.apply(i.callbackScope,[i,r,s].concat(n.params))}}},destroy:function(){r.prototype.destroy.call(this);this.startTexture=null;this.endTexture=null;this.startFrame=null;this.endFrame=null}});t.exports=o},86353:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};t.exports=e},83419:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function hasGetterOrSetter(t){return!!t.get&&typeof t.get==="function"||!!t.set&&typeof t.set==="function"}function getProperty(t,e,i){var r=i?t[e]:Object.getOwnPropertyDescriptor(t,e);if(!i&&r.value&&typeof r.value==="object"){r=r.value}if(r&&hasGetterOrSetter(r)){if(typeof r.enumerable==="undefined"){r.enumerable=true}if(typeof r.configurable==="undefined"){r.configurable=true}return r}else{return false}}function hasNonConfigurable(t,e){var i=Object.getOwnPropertyDescriptor(t,e);if(!i){return false}if(i.value&&typeof i.value==="object"){i=i.value}if(i.configurable===false){return true}return false}function extend(t,e,i,r){for(var s in e){if(!e.hasOwnProperty(s)){continue}var n=getProperty(e,s,i);if(n!==false){var a=r||t;if(hasNonConfigurable(a.prototype,s)){if(Class.ignoreFinals){continue}throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,s,n)}else{t.prototype[s]=e[s]}}}function mixin(t,e){if(!e){return}if(!Array.isArray(e)){e=[e]}for(var i=0;i<e.length;i++){extend(t,e[i].prototype||e[i])}}function Class(t){if(!t){t={}}var e;var i;if(t.initialize){if(typeof t.initialize!=="function"){throw new Error("initialize must be a function")}e=t.initialize;delete t.initialize}else if(t.Extends){var r=t.Extends;e=function(){r.apply(this,arguments)}}else{e=function(){}}if(t.Extends){e.prototype=Object.create(t.Extends.prototype);e.prototype.constructor=e;i=t.Extends;delete t.Extends}else{e.prototype.constructor=e}var s=null;if(t.Mixins){s=t.Mixins;delete t.Mixins}mixin(e,s);extend(e,t,true,i);return e}Class.extend=extend;Class.mixin=mixin;Class.ignoreFinals=false;t.exports=Class},29747:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var NOOP=function(){};t.exports=NOOP},20242:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var NULL=function(){return null};t.exports=NULL},71146:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Add=function(t,e,i,r,s){if(s===void 0){s=t}if(i>0){var n=i-t.length;if(n<=0){return null}}if(!Array.isArray(e)){if(t.indexOf(e)===-1){t.push(e);if(r){r.call(s,e)}return e}else{return null}}var a=e.length-1;while(a>=0){if(t.indexOf(e[a])!==-1){e.splice(a,1)}a--}a=e.length;if(a===0){return null}if(i>0&&a>n){e.splice(n);a=n}for(var o=0;o<a;o++){var l=e[o];t.push(l);if(r){r.call(s,l)}}return e};t.exports=Add},51067:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var AddAt=function(t,e,i,r,s,n){if(i===void 0){i=0}if(n===void 0){n=t}if(r>0){var a=r-t.length;if(a<=0){return null}}if(!Array.isArray(e)){if(t.indexOf(e)===-1){t.splice(i,0,e);if(s){s.call(n,e)}return e}else{return null}}var o=e.length-1;while(o>=0){if(t.indexOf(e[o])!==-1){e.pop()}o--}o=e.length;if(o===0){return null}if(r>0&&o>a){e.splice(a);o=a}for(var l=o-1;l>=0;l--){var h=e[l];t.splice(i,0,h);if(s){s.call(n,h)}}return e};t.exports=AddAt},66905:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var BringToTop=function(t,e){var i=t.indexOf(e);if(i!==-1&&i<t.length){t.splice(i,1);t.push(e)}return e};t.exports=BringToTop},21612:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var CountAllMatching=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=t.length}var a=0;if(r(t,s,n)){for(var o=s;o<n;o++){var l=t[o];if(l[e]===i){a++}}}return a};t.exports=CountAllMatching},95428:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Each=function(t,e,i){var r;var s=[null];for(r=3;r<arguments.length;r++){s.push(arguments[r])}for(r=0;r<t.length;r++){s[0]=t[r];e.apply(i,s)}return t};t.exports=Each},36914:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var EachInRange=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=t.length}if(r(t,s,n)){var a;var o=[null];for(a=5;a<arguments.length;a++){o.push(arguments[a])}for(a=s;a<n;a++){o[0]=t[a];e.apply(i,o)}}return t};t.exports=EachInRange},81957:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var FindClosestInSorted=function(t,e,i){if(!e.length){return NaN}else if(e.length===1){return e[0]}var r=1;var s;var n;if(i){if(t<e[0][i]){return e[0]}while(e[r][i]<t){r++}}else{while(e[r]<t){r++}}if(r>e.length){r=e.length}if(i){s=e[r-1][i];n=e[r][i];return n-t<=t-s?e[r]:e[r-1]}else{s=e[r-1];n=e[r];return n-t<=t-s?n:s}};t.exports=FindClosestInSorted},43491:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Flatten=function(t,e){if(e===void 0){e=[]}for(var i=0;i<t.length;i++){if(Array.isArray(t[i])){Flatten(t[i],e)}else{e.push(t[i])}}return e};t.exports=Flatten},46710:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var GetAll=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=t.length}var a=[];if(r(t,s,n)){for(var o=s;o<n;o++){var l=t[o];if(!e||e&&i===void 0&&l.hasOwnProperty(e)||e&&i!==void 0&&l[e]===i){a.push(l)}}}return a};t.exports=GetAll},58731:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var GetFirst=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=t.length}if(s!==-1){if(r(t,s,n)){for(var a=s;a<n;a++){var o=t[a];if(!e||e&&i===void 0&&o.hasOwnProperty(e)||e&&i!==void 0&&o[e]===i){return o}}}}else{if(r(t,0,n)){for(var a=n;a>=0;a--){var o=t[a];if(!e||e&&i===void 0&&o.hasOwnProperty(e)||e&&i!==void 0&&o[e]===i){return o}}}}return null};t.exports=GetFirst},26546:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetRandom=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=t.length}var r=e+Math.floor(Math.random()*i);return t[r]===void 0?null:t[r]};t.exports=GetRandom},85835:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MoveAbove=function(t,e,i){if(e===i){return t}var r=t.indexOf(e);var s=t.indexOf(i);if(r<0||s<0){throw new Error("Supplied items must be elements of the same array")}if(r>s){return t}t.splice(r,1);s=t.indexOf(i);t.splice(s+1,0,e);return t};t.exports=MoveAbove},83371:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MoveBelow=function(t,e,i){if(e===i){return t}var r=t.indexOf(e);var s=t.indexOf(i);if(r<0||s<0){throw new Error("Supplied items must be elements of the same array")}if(r<s){return t}t.splice(r,1);if(s===0){t.unshift(e)}else{t.splice(s,0,e)}return t};t.exports=MoveBelow},70864:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MoveDown=function(t,e){var i=t.indexOf(e);if(i>0){var r=t[i-1];var s=t.indexOf(r);t[i]=r;t[s]=e}return t};t.exports=MoveDown},69693:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MoveTo=function(t,e,i){var r=t.indexOf(e);if(r===-1||i<0||i>=t.length){throw new Error("Supplied index out of bounds")}if(r!==i){t.splice(r,1);t.splice(i,0,e)}return e};t.exports=MoveTo},40853:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var MoveUp=function(t,e){var i=t.indexOf(e);if(i!==-1&&i<t.length-1){var r=t[i+1];var s=t.indexOf(r);t[i]=r;t[s]=e}return t};t.exports=MoveUp},20283:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var NumberArray=function(t,e,i,r){var s=[];var n;var a=false;if(i||r){a=true;if(!i){i=""}if(!r){r=""}}if(e<t){for(n=t;n>=e;n--){if(a){s.push(i+n.toString()+r)}else{s.push(n)}}}else{for(n=t;n<=e;n++){if(a){s.push(i+n.toString()+r)}else{s.push(n)}}}return s};t.exports=NumberArray},593:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(2284);var NumberArrayStep=function(t,e,i){if(t===void 0){t=0}if(e===void 0){e=null}if(i===void 0){i=1}if(e===null){e=t;t=0}var s=[];var n=Math.max(r((e-t)/(i||1)),0);for(var a=0;a<n;a++){s.push(t);t+=i}return s};t.exports=NumberArrayStep},43886:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
function swap(t,e,i){var r=t[e];t[e]=t[i];t[i]=r}function defaultCompare(t,e){return t<e?-1:t>e?1:0}var QuickSelect=function(t,e,i,r,s){if(i===void 0){i=0}if(r===void 0){r=t.length-1}if(s===void 0){s=defaultCompare}while(r>i){if(r-i>600){var n=r-i+1;var a=e-i+1;var o=Math.log(n);var l=.5*Math.exp(2*o/3);var h=.5*Math.sqrt(o*l*(n-l)/n)*(a-n/2<0?-1:1);var u=Math.max(i,Math.floor(e-a*l/n+h));var c=Math.min(r,Math.floor(e+(n-a)*l/n+h));QuickSelect(t,e,u,c,s)}var f=t[e];var d=i;var v=r;swap(t,i,e);if(s(t[r],f)>0){swap(t,i,r)}while(d<v){swap(t,d,v);d++;v--;while(s(t[d],f)<0){d++}while(s(t[v],f)>0){v--}}if(s(t[i],f)===0){swap(t,i,v)}else{v++;swap(t,v,r)}if(v<=e){i=v+1}if(e<=v){r=v-1}}};t.exports=QuickSelect},88492:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35154);var s=i(33680);var BuildChunk=function(t,e,i){var r=[];for(var s=0;s<t.length;s++){for(var n=0;n<e.length;n++){for(var a=0;a<i;a++){r.push({a:t[s],b:e[n]})}}}return r};var Range=function(t,e,i){var n=r(i,"max",0);var a=r(i,"qty",1);var o=r(i,"random",false);var l=r(i,"randomB",false);var h=r(i,"repeat",0);var u=r(i,"yoyo",false);var c=[];if(l){s(e)}if(h===-1){if(n===0){h=0}else{var f=t.length*e.length*a;if(u){f*=2}h=Math.ceil(n/f)}}for(var d=0;d<=h;d++){var v=BuildChunk(t,e,a);if(o){s(v)}c=c.concat(v);if(u){v.reverse();c=c.concat(v)}}if(n){c.splice(n)}return c};t.exports=Range},72905:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19133);var Remove=function(t,e,i,s){if(s===void 0){s=t}var n;if(!Array.isArray(e)){n=t.indexOf(e);if(n!==-1){r(t,n);if(i){i.call(s,e)}return e}else{return null}}var a=e.length-1;var o=[];while(a>=0){var l=e[a];n=t.indexOf(l);if(n!==-1){r(t,n);o.push(l);if(i){i.call(s,l)}}a--}return o};t.exports=Remove},60248:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19133);var RemoveAt=function(t,e,i,s){if(s===void 0){s=t}if(e<0||e>t.length-1){throw new Error("Index out of bounds")}var n=r(t,e);if(i){i.call(s,n)}return n};t.exports=RemoveAt},81409:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var RemoveBetween=function(t,e,i,s,n){if(e===void 0){e=0}if(i===void 0){i=t.length}if(n===void 0){n=t}if(r(t,e,i)){var a=i-e;var o=t.splice(e,a);if(s){for(var l=0;l<o.length;l++){var h=o[l];s.call(n,h)}}return o}else{return[]}};t.exports=RemoveBetween},31856:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(19133);var RemoveRandomElement=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=t.length}var s=e+Math.floor(Math.random()*i);return r(t,s)};t.exports=RemoveRandomElement},42169:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Replace=function(t,e,i){var r=t.indexOf(e);var s=t.indexOf(i);if(r!==-1&&s===-1){t[r]=i;return true}else{return false}};t.exports=Replace},86003:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateLeft=function(t,e){if(e===void 0){e=1}var i=null;for(var r=0;r<e;r++){i=t.shift();t.push(i)}return i};t.exports=RotateLeft},49498:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RotateRight=function(t,e){if(e===void 0){e=1}var i=null;for(var r=0;r<e;r++){i=t.pop();t.unshift(i)}return i};t.exports=RotateRight},82011:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SafeRange=function(t,e,i,r){var s=t.length;if(e<0||e>=s||e>=i||i>s){if(r){throw new Error("Range Error: Values outside acceptable range")}return false}else{return true}};t.exports=SafeRange},89545:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SendToBack=function(t,e){var i=t.indexOf(e);if(i!==-1&&i>0){t.splice(i,1);t.unshift(e)}return e};t.exports=SendToBack},17810:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82011);var SetAll=function(t,e,i,s,n){if(s===void 0){s=0}if(n===void 0){n=t.length}if(r(t,s,n)){for(var a=s;a<n;a++){var o=t[a];if(o.hasOwnProperty(e)){o[e]=i}}}return t};t.exports=SetAll},33680:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1));var r=t[e];t[e]=t[i];t[i]=r}return t};t.exports=Shuffle},90126:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SortByDigits=function(t){var e=/\D/g;t.sort((function(t,i){return parseInt(t.replace(e,""),10)-parseInt(i.replace(e,""),10)}));return t};t.exports=SortByDigits},19133:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SpliceOne=function(t,e){if(e>=t.length){return}var i=t.length-1;var r=t[e];for(var s=e;s<i;s++){t[s]=t[s+1]}t.length=i;return r};t.exports=SpliceOne},19186:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @author       Angry Bytes (and contributors)
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(82264);function Compare(t,e){return String(t).localeCompare(e)}function Process(t,e){var i=t.length;if(i<=1){return t}var r=new Array(i);for(var s=1;s<i;s*=2){RunPass(t,e,s,r);var n=t;t=r;r=n}return t}function RunPass(t,e,i,r){var s=t.length;var n=0;var a=i*2;var o,l,h;var u,c;for(o=0;o<s;o+=a){l=o+i;h=l+i;if(l>s){l=s}if(h>s){h=s}u=o;c=l;while(true){if(u<l&&c<h){if(e(t[u],t[c])<=0){r[n++]=t[u++]}else{r[n++]=t[c++]}}else if(u<l){r[n++]=t[u++]}else if(c<h){r[n++]=t[c++]}else{break}}}}var StableSort=function(t,e){if(e===void 0){e=Compare}if(!t||t.length<2){return t}if(r.features.stableSort){return t.sort(e)}var i=Process(t,e);if(i!==t){RunPass(i,null,t.length,t)}return t};t.exports=StableSort},25630:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Swap=function(t,e,i){if(e===i){return t}var r=t.indexOf(e);var s=t.indexOf(i);if(r<0||s<0){throw new Error("Supplied items must be elements of the same array")}t[r]=i;t[s]=e;return t};t.exports=Swap},37105:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var CheckMatrix=function(t){if(!Array.isArray(t)||!Array.isArray(t[0])){return false}var e=t[0].length;for(var i=1;i<t.length;i++){if(t[i].length!==e){return false}}return true};t.exports=CheckMatrix},63362:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41836);var s=i(86922);var MatrixToString=function(t){var e="";if(!s(t)){return e}for(var i=0;i<t.length;i++){for(var n=0;n<t[i].length;n++){var a=t[i][n].toString();if(a!=="undefined"){e+=r(a,2)}else{e+="?"}if(n<t[i].length-1){e+=" |"}}if(i<t.length-1){e+="\n";for(var o=0;o<t[i].length;o++){e+="---";if(o<t[i].length-1){e+="+"}}e+="\n"}}return e};t.exports=MatrixToString},92598:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ReverseColumns=function(t){return t.reverse()};t.exports=ReverseColumns},21224:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var ReverseRows=function(t){for(var e=0;e<t.length;e++){t[e].reverse()}return t};t.exports=ReverseRows},98717:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37829);var Rotate180=function(t){return r(t,180)};t.exports=Rotate180},44657:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37829);var RotateLeft=function(t,e){if(e===void 0){e=1}for(var i=0;i<e;i++){t=r(t,90)}return t};t.exports=RotateLeft},37829:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(86922);var s=i(2429);var RotateMatrix=function(t,e){if(e===void 0){e=90}if(!r(t)){return null}if(typeof e!=="string"){e=(e%360+360)%360}if(e===90||e===-270||e==="rotateLeft"){t=s(t);t.reverse()}else if(e===-90||e===270||e==="rotateRight"){t.reverse();t=s(t)}else if(Math.abs(e)===180||e==="rotate180"){for(var i=0;i<t.length;i++){t[i].reverse()}t.reverse()}return t};t.exports=RotateMatrix},92632:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(37829);var RotateRight=function(t,e){if(e===void 0){e=1}for(var i=0;i<e;i++){t=r(t,-90)}return t};t.exports=RotateRight},69512:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(86003);var s=i(49498);var TranslateMatrix=function(t,e,i){if(e===void 0){e=0}if(i===void 0){i=0}if(i!==0){if(i<0){r(t,Math.abs(i))}else{s(t,i)}}if(e!==0){for(var n=0;n<t.length;n++){var a=t[n];if(e<0){r(a,Math.abs(e))}else{s(a,e)}}}return t};t.exports=TranslateMatrix},2429:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var TransposeMatrix=function(t){var e=t.length;var i=t[0].length;var r=new Array(i);for(var s=0;s<i;s++){r[s]=new Array(e);for(var n=e-1;n>-1;n--){r[s][n]=t[n][s]}}return r};t.exports=TransposeMatrix},54915:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:t=>{
/**
               * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var ArrayBufferToBase64=function(t,i){var r=new Uint8Array(t);var s=r.length;var n=i?"data:"+i+";base64,":"";for(var a=0;a<s;a+=3){n+=e[r[a]>>2];n+=e[(r[a]&3)<<4|r[a+1]>>4];n+=e[(r[a+1]&15)<<2|r[a+2]>>6];n+=e[r[a+2]&63]}if(s%3===2){n=n.substring(0,n.length-1)+"="}else if(s%3===1){n=n.substring(0,n.length-2)+"=="}return n};t.exports=ArrayBufferToBase64},53134:t=>{
/**
               * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i=new Uint8Array(256);for(var r=0;r<e.length;r++){i[e.charCodeAt(r)]=r}var Base64ToArrayBuffer=function(t){t=t.substr(t.indexOf(",")+1);var e=t.length;var r=e*.75;var s=0;var n;var a;var o;var l;if(t[e-1]==="="){r--;if(t[e-2]==="="){r--}}var h=new ArrayBuffer(r);var u=new Uint8Array(h);for(var c=0;c<e;c+=4){n=i[t.charCodeAt(c)];a=i[t.charCodeAt(c+1)];o=i[t.charCodeAt(c+2)];l=i[t.charCodeAt(c+3)];u[s++]=n<<2|a>>4;u[s++]=(a&15)<<4|o>>2;u[s++]=(o&3)<<6|l&63}return h};t.exports=Base64ToArrayBuffer},65839:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Clone=function(t){var e={};for(var i in t){if(Array.isArray(t[i])){e[i]=t[i].slice(0)}else{e[i]=t[i]}}return e};t.exports=Clone},62644:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var DeepCopy=function(t){var e;var i;var r;if(typeof t!=="object"||t===null){return t}e=Array.isArray(t)?[]:{};for(r in t){i=t[r];e[r]=DeepCopy(i)}return e};t.exports=DeepCopy},79291:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41212);var Extend=function(){var t,e,i,s,n,a,o=arguments[0]||{},l=1,h=arguments.length,u=false;if(typeof o==="boolean"){u=o;o=arguments[1]||{};l=2}if(h===l){o=this;--l}for(;l<h;l++){if((t=arguments[l])!=null){for(e in t){i=o[e];s=t[e];if(o===s){continue}if(u&&s&&(r(s)||(n=Array.isArray(s)))){if(n){n=false;a=i&&Array.isArray(i)?i:[]}else{a=i&&r(i)?i:{}}o[e]=Extend(u,a,s)}else if(s!==void 0){o[e]=s}}}}return o};t.exports=Extend},23568:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(75508);var s=i(35154);var GetAdvancedValue=function(t,e,i){var n=s(t,e,null);if(n===null){return i}else if(Array.isArray(n)){return r.RND.pick(n)}else if(typeof n==="object"){if(n.hasOwnProperty("randInt")){return r.RND.integerInRange(n.randInt[0],n.randInt[1])}else if(n.hasOwnProperty("randFloat")){return r.RND.realInRange(n.randFloat[0],n.randFloat[1])}}else if(typeof n==="function"){return n(e)}return n};t.exports=GetAdvancedValue},95540:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetFastValue=function(t,e,i){var r=typeof t;if(!t||r==="number"||r==="string"){return i}else if(t.hasOwnProperty(e)&&t[e]!==void 0){return t[e]}else{return i}};t.exports=GetFastValue},82840:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(35154);var s=i(45319);var GetMinMaxValue=function(t,e,i,n,a){if(a===void 0){a=i}var o=r(t,e,a);return s(o,i,n)};t.exports=GetMinMaxValue},35154:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var GetValue=function(t,e,i,r){if(!t&&!r||typeof t==="number"){return i}else if(t&&t.hasOwnProperty(e)){return t[e]}else if(r&&r.hasOwnProperty(e)){return r[e]}else if(e.indexOf(".")!==-1){var s=e.split(".");var n=t;var a=r;var o=i;var l=i;var h=true;var u=true;for(var c=0;c<s.length;c++){if(n&&n.hasOwnProperty(s[c])){o=n[s[c]];n=n[s[c]]}else{h=false}if(a&&a.hasOwnProperty(s[c])){l=a[s[c]];a=a[s[c]]}else{u=false}}if(h){return o}else if(u){return l}else{return i}}else{return i}};t.exports=GetValue},69036:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HasAll=function(t,e){for(var i=0;i<e.length;i++){if(!t.hasOwnProperty(e[i])){return false}}return true};t.exports=HasAll},1985:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HasAny=function(t,e){for(var i=0;i<e.length;i++){if(t.hasOwnProperty(e[i])){return true}}return false};t.exports=HasAny},97022:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var HasValue=function(t,e){return t.hasOwnProperty(e)};t.exports=HasValue},41212:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var IsPlainObject=function(t){if(!t||typeof t!=="object"||t.nodeType||t===t.window){return false}try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}return true};t.exports=IsPlainObject},46975:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41786);var Merge=function(t,e){var i=r(t);for(var s in e){if(!i.hasOwnProperty(s)){i[s]=e[s]}}return i};t.exports=Merge},269:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(41786);var MergeRight=function(t,e){var i=r(t);for(var s in e){if(i.hasOwnProperty(s)){i[s]=e[s]}}return i};t.exports=MergeRight},18254:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var r=i(97022);var Pick=function(t,e){var i={};for(var s=0;s<e.length;s++){var n=e[s];if(r(t,n)){i[n]=t[n]}}return i};t.exports=Pick},61622:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var SetValue=function(t,e,i){if(!t||typeof t==="number"){return false}else if(t.hasOwnProperty(e)){t[e]=i;return true}else if(e.indexOf(".")!==-1){var r=e.split(".");var s=t;var n=t;for(var a=0;a<r.length;a++){if(s.hasOwnProperty(r[a])){n=s;s=s[r[a]]}else{return false}}n[r[r.length-1]]=i;return true}return false};t.exports=SetValue},1183:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Format=function(t,e){return t.replace(/%([0-9]+)/g,(function(t,i){return e[Number(i)-1]}))};t.exports=Format},41836:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Pad=function(t,e,i,r){if(e===void 0){e=0}if(i===void 0){i=" "}if(r===void 0){r=3}t=t.toString();var s=0;if(e+1>=t.length){switch(r){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var n=Math.ceil((s=e-t.length)/2);var a=s-n;t=new Array(a+1).join(i)+t+new Array(n+1).join(i);break;default:t=t+new Array(e+1-t.length).join(i);break}}return t};t.exports=Pad},33628:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var RemoveAt=function(t,e){if(e===0){return t.slice(1)}else{return t.slice(0,e)+t.slice(e+1)}};t.exports=RemoveAt},27671:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var Reverse=function(t){return t.split("").reverse().join("")};t.exports=Reverse},45650:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.random()*16|0;var i=t==="x"?e:e&3|8;return i.toString(16)}))};t.exports=UUID},35355:t=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
var UppercaseFirst=function(t){return t&&t[0].toUpperCase()+t.slice(1)};t.exports=UppercaseFirst},31749:(t,e,i)=>{
/**
               * @author       Richard Davey <rich@phaser.io>
               * @copyright    2013-2025 Phaser Studio Inc.
               * @license      {@link https://opensource.org/licenses/MIT|MIT License}
               */
t.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}};var e={};function __webpack_require__(i){var r=e[i];if(r!==void 0){return r.exports}var s=e[i]={exports:{}};t[i](s,s.exports,__webpack_require__);return s.exports}(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(t){if(typeof window==="object")return window}}()})();var i=__webpack_require__(85454);return i})()))})(i);var r=i.exports;const s=getDefaultExportFromCjs$1(r);const n=class _ScaleFlow{constructor(t){__publicField(this,"game");__publicField(this,"canvas");__publicField(this,"parent");__publicField(this,"guide");const e=t.width;const i=t.height;_ScaleFlow.width=e;_ScaleFlow.height=i;_ScaleFlow.center=new s.Math.Vector2(e/2,i/2);_ScaleFlow.isLandscape=_ScaleFlow.width>_ScaleFlow.height;_ScaleFlow.gameZone=new s.Geom.Rectangle(0,0,e,i);_ScaleFlow.uiZone=new s.Geom.Rectangle(0,0,e,i);_ScaleFlow.cameras=new Set;t.callbacks={postBoot:()=>this.gameBootHandler()};this.game=new s.Game(t)}gameBootHandler(){_ScaleFlow.scaleManager=this.game.scale;_ScaleFlow.scaleManager.on("resize",(()=>this.onResizeHandler()));this.canvas=this.game.canvas;this.parent=this.canvas.parentElement;this.guide=document.getElementById("guide");window.setTimeout((()=>this.onResizeHandler()),16)}onResizeHandler(){const t=this.parent.getBoundingClientRect();const e=this.canvas.getBoundingClientRect();const i=this.guide.getBoundingClientRect();const r=t.width/_ScaleFlow.width;const s=t.height/_ScaleFlow.height;const n=Math.max(r,s);const a=t.width-r;const o=t.height-s;const l=a*(1/n);const h=o*(1/n);const u=_ScaleFlow.width/2-l/2;const c=_ScaleFlow.width/2+l/2;const f=_ScaleFlow.height/2-h/2;const d=_ScaleFlow.height/2+h/2;_ScaleFlow.uiZone.left=u;_ScaleFlow.uiZone.right=c;_ScaleFlow.uiZone.top=f;_ScaleFlow.uiZone.bottom=d;const v=i.width/e.width;const p=i.height/e.height;const g=Math.min(v,p);_ScaleFlow.scaleFactor=g;_ScaleFlow.cameras.forEach((t=>{t.zoom=g}));this.game.events.emit(_ScaleFlow.RESIZE)}static addCamera(t){this.cameras.add(t);t.zoom=_ScaleFlow.scaleFactor}static removeCamera(t){this.cameras.delete(t)}static getX(t){if(typeof t==="number"){return t}const e=this.scaleManager.width;const i=parseInt(t,10);return e*(i/100)}static getY(t){if(typeof t==="number"){return t}const e=this.scaleManager.height;const i=parseInt(t,10);return e*(i/100)}static getUIX(t){if(typeof t==="number"){return t}const e=_ScaleFlow.uiZone.width;const i=parseInt(t,10);return e*(i/100)}static getUIY(t){if(typeof t==="number"){return t}const e=_ScaleFlow.uiZone.height;const i=parseInt(t,10);return e*(i/100)}};__publicField(n,"scaleManager");__publicField(n,"cameras");__publicField(n,"gameZone");__publicField(n,"uiZone");__publicField(n,"width");__publicField(n,"height");__publicField(n,"center");__publicField(n,"isLandscape");__publicField(n,"scaleFactor",1);__publicField(n,"scaleFactor2",1);__publicField(n,"RESIZE","scaleflowresize");let a=n;var o=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var l={exports:{}};var h;function requireEventemitter3(){if(h)return l.exports;h=1;(function(t){var e=Object.prototype.hasOwnProperty,i="~";function Events2(){}if(Object.create){Events2.prototype=Object.create(null);if(!(new Events2).__proto__)i=false}function EE(t,e,i){this.fn=t;this.context=e;this.once=i||false}function addListener(t,e,r,s,n){if(typeof r!=="function"){throw new TypeError("The listener must be a function")}var a=new EE(r,s||t,n),o=i?i+e:e;if(!t._events[o])t._events[o]=a,t._eventsCount++;else if(!t._events[o].fn)t._events[o].push(a);else t._events[o]=[t._events[o],a];return t}function clearEvent(t,e){if(--t._eventsCount===0)t._events=new Events2;else delete t._events[e]}function EventEmitter2(){this._events=new Events2;this._eventsCount=0}EventEmitter2.prototype.eventNames=function eventNames(){var t=[],r,s;if(this._eventsCount===0)return t;for(s in r=this._events){if(e.call(r,s))t.push(i?s.slice(1):s)}if(Object.getOwnPropertySymbols){return t.concat(Object.getOwnPropertySymbols(r))}return t};EventEmitter2.prototype.listeners=function listeners(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,n=r.length,a=new Array(n);s<n;s++){a[s]=r[s].fn}return a};EventEmitter2.prototype.listenerCount=function listenerCount(t){var e=i?i+t:t,r=this._events[e];if(!r)return 0;if(r.fn)return 1;return r.length};EventEmitter2.prototype.emit=function emit(t,e,r,s,n,a){var o=i?i+t:t;if(!this._events[o])return false;var l=this._events[o],h=arguments.length,u,c;if(l.fn){if(l.once)this.removeListener(t,l.fn,void 0,true);switch(h){case 1:return l.fn.call(l.context),true;case 2:return l.fn.call(l.context,e),true;case 3:return l.fn.call(l.context,e,r),true;case 4:return l.fn.call(l.context,e,r,s),true;case 5:return l.fn.call(l.context,e,r,s,n),true;case 6:return l.fn.call(l.context,e,r,s,n,a),true}for(c=1,u=new Array(h-1);c<h;c++){u[c-1]=arguments[c]}l.fn.apply(l.context,u)}else{var f=l.length,d;for(c=0;c<f;c++){if(l[c].once)this.removeListener(t,l[c].fn,void 0,true);switch(h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,s);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++){u[d-1]=arguments[d]}l[c].fn.apply(l[c].context,u)}}}return true};EventEmitter2.prototype.on=function on(t,e,i){return addListener(this,t,e,i,false)};EventEmitter2.prototype.once=function once(t,e,i){return addListener(this,t,e,i,true)};EventEmitter2.prototype.removeListener=function removeListener(t,e,r,s){var n=i?i+t:t;if(!this._events[n])return this;if(!e){clearEvent(this,n);return this}var a=this._events[n];if(a.fn){if(a.fn===e&&(!s||a.once)&&(!r||a.context===r)){clearEvent(this,n)}}else{for(var o=0,l=[],h=a.length;o<h;o++){if(a[o].fn!==e||s&&!a[o].once||r&&a[o].context!==r){l.push(a[o])}}if(l.length)this._events[n]=l.length===1?l[0]:l;else clearEvent(this,n)}return this};EventEmitter2.prototype.removeAllListeners=function removeAllListeners(t){var e;if(t){e=i?i+t:t;if(this._events[e])clearEvent(this,e)}else{this._events=new Events2;this._eventsCount=0}return this};EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener;EventEmitter2.prototype.addListener=EventEmitter2.prototype.on;EventEmitter2.prefixed=i;EventEmitter2.EventEmitter=EventEmitter2;{t.exports=EventEmitter2}})(l);return l.exports}var u=requireEventemitter3();var c=getDefaultExportFromCjs(u);var f;(function(t){t.assertEqual=t=>t;function assertIs(t){}t.assertIs=assertIs;function assertNever(t){throw new Error}t.assertNever=assertNever;t.arrayToEnum=t=>{const e={};for(const i of t){e[i]=i}return e};t.getValidEnumValues=e=>{const i=t.objectKeys(e).filter((t=>typeof e[e[t]]!=="number"));const r={};for(const t of i){r[t]=e[t]}return t.objectValues(r)};t.objectValues=e=>t.objectKeys(e).map((function(t){return e[t]}));t.objectKeys=typeof Object.keys==="function"?t=>Object.keys(t):t=>{const e=[];for(const i in t){if(Object.prototype.hasOwnProperty.call(t,i)){e.push(i)}}return e};t.find=(t,e)=>{for(const i of t){if(e(i))return i}return void 0};t.isInteger=typeof Number.isInteger==="function"?t=>Number.isInteger(t):t=>typeof t==="number"&&isFinite(t)&&Math.floor(t)===t;function joinValues(t,e=" | "){return t.map((t=>typeof t==="string"?`'${t}'`:t)).join(e)}t.joinValues=joinValues;t.jsonStringifyReplacer=(t,e)=>{if(typeof e==="bigint"){return e.toString()}return e}})(f||(f={}));var d;(function(t){t.mergeShapes=(t,e)=>({...t,...e})})(d||(d={}));const v=f.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const getParsedType=t=>{const e=typeof t;switch(e){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(t)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":if(Array.isArray(t)){return v.array}if(t===null){return v.null}if(t.then&&typeof t.then==="function"&&t.catch&&typeof t.catch==="function"){return v.promise}if(typeof Map!=="undefined"&&t instanceof Map){return v.map}if(typeof Set!=="undefined"&&t instanceof Set){return v.set}if(typeof Date!=="undefined"&&t instanceof Date){return v.date}return v.object;default:return v.unknown}};const p=f.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const quotelessJson=t=>{const e=JSON.stringify(t,null,2);return e.replace(/"([^"]+)":/g,"$1:")};class ZodError extends Error{constructor(t){super();this.issues=[];this.addIssue=t=>{this.issues=[...this.issues,t]};this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const e=new.target.prototype;if(Object.setPrototypeOf){Object.setPrototypeOf(this,e)}else{this.__proto__=e}this.name="ZodError";this.issues=t}get errors(){return this.issues}format(t){const e=t||function(t){return t.message};const i={_errors:[]};const processError=t=>{for(const r of t.issues){if(r.code==="invalid_union"){r.unionErrors.map(processError)}else if(r.code==="invalid_return_type"){processError(r.returnTypeError)}else if(r.code==="invalid_arguments"){processError(r.argumentsError)}else if(r.path.length===0){i._errors.push(e(r))}else{let t=i;let s=0;while(s<r.path.length){const i=r.path[s];const n=s===r.path.length-1;if(!n){t[i]=t[i]||{_errors:[]}}else{t[i]=t[i]||{_errors:[]};t[i]._errors.push(e(r))}t=t[i];s++}}}};processError(this);return i}static assert(t){if(!(t instanceof ZodError)){throw new Error(`Not a ZodError: ${t}`)}}toString(){return this.message}get message(){return JSON.stringify(this.issues,f.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=t=>t.message){const e={};const i=[];for(const r of this.issues){if(r.path.length>0){e[r.path[0]]=e[r.path[0]]||[];e[r.path[0]].push(t(r))}else{i.push(t(r))}}return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}ZodError.create=t=>{const e=new ZodError(t);return e};const errorMap=(t,e)=>{let i;switch(t.code){case p.invalid_type:if(t.received===v.undefined){i="Required"}else{i=`Expected ${t.expected}, received ${t.received}`}break;case p.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,f.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:i=`Unrecognized key(s) in object: ${f.joinValues(t.keys,", ")}`;break;case p.invalid_union:i=`Invalid input`;break;case p.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${f.joinValues(t.options)}`;break;case p.invalid_enum_value:i=`Invalid enum value. Expected ${f.joinValues(t.options)}, received '${t.received}'`;break;case p.invalid_arguments:i=`Invalid function arguments`;break;case p.invalid_return_type:i=`Invalid function return type`;break;case p.invalid_date:i=`Invalid date`;break;case p.invalid_string:if(typeof t.validation==="object"){if("includes"in t.validation){i=`Invalid input: must include "${t.validation.includes}"`;if(typeof t.validation.position==="number"){i=`${i} at one or more positions greater than or equal to ${t.validation.position}`}}else if("startsWith"in t.validation){i=`Invalid input: must start with "${t.validation.startsWith}"`}else if("endsWith"in t.validation){i=`Invalid input: must end with "${t.validation.endsWith}"`}else{f.assertNever(t.validation)}}else if(t.validation!=="regex"){i=`Invalid ${t.validation}`}else{i="Invalid"}break;case p.too_small:if(t.type==="array")i=`Array must contain ${t.exact?"exactly":t.inclusive?`at least`:`more than`} ${t.minimum} element(s)`;else if(t.type==="string")i=`String must contain ${t.exact?"exactly":t.inclusive?`at least`:`over`} ${t.minimum} character(s)`;else if(t.type==="number")i=`Number must be ${t.exact?`exactly equal to `:t.inclusive?`greater than or equal to `:`greater than `}${t.minimum}`;else if(t.type==="date")i=`Date must be ${t.exact?`exactly equal to `:t.inclusive?`greater than or equal to `:`greater than `}${new Date(Number(t.minimum))}`;else i="Invalid input";break;case p.too_big:if(t.type==="array")i=`Array must contain ${t.exact?`exactly`:t.inclusive?`at most`:`less than`} ${t.maximum} element(s)`;else if(t.type==="string")i=`String must contain ${t.exact?`exactly`:t.inclusive?`at most`:`under`} ${t.maximum} character(s)`;else if(t.type==="number")i=`Number must be ${t.exact?`exactly`:t.inclusive?`less than or equal to`:`less than`} ${t.maximum}`;else if(t.type==="bigint")i=`BigInt must be ${t.exact?`exactly`:t.inclusive?`less than or equal to`:`less than`} ${t.maximum}`;else if(t.type==="date")i=`Date must be ${t.exact?`exactly`:t.inclusive?`smaller than or equal to`:`smaller than`} ${new Date(Number(t.maximum))}`;else i="Invalid input";break;case p.custom:i=`Invalid input`;break;case p.invalid_intersection_types:i=`Intersection results could not be merged`;break;case p.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case p.not_finite:i="Number must be finite";break;default:i=e.defaultError;f.assertNever(t)}return{message:i}};let g=errorMap;function setErrorMap(t){g=t}function getErrorMap(){return g}const makeIssue=t=>{const{data:e,path:i,errorMaps:r,issueData:s}=t;const n=[...i,...s.path||[]];const a={...s,path:n};if(s.message!==void 0){return{...s,path:n,message:s.message}}let o="";const l=r.filter((t=>!!t)).slice().reverse();for(const h of l){o=h(a,{data:e,defaultError:o}).message}return{...s,path:n,message:o}};const m=[];function addIssueToContext(t,e){const i=getErrorMap();const r=makeIssue({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===errorMap?void 0:errorMap].filter((t=>!!t))});t.common.issues.push(r)}class ParseStatus{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(t,e){const i=[];for(const r of e){if(r.status==="aborted")return y;if(r.status==="dirty")t.dirty();i.push(r.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const r of e){const t=await r.key;const e=await r.value;i.push({key:t,value:e})}return ParseStatus.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const r of e){const{key:e,value:s}=r;if(e.status==="aborted")return y;if(s.status==="aborted")return y;if(e.status==="dirty")t.dirty();if(s.status==="dirty")t.dirty();if(e.value!=="__proto__"&&(typeof s.value!=="undefined"||r.alwaysSet)){i[e.value]=s.value}}return{status:t.value,value:i}}}const y=Object.freeze({status:"aborted"});const DIRTY=t=>({status:"dirty",value:t});const OK=t=>({status:"valid",value:t});const isAborted=t=>t.status==="aborted";const isDirty=t=>t.status==="dirty";const isValid=t=>t.status==="valid";const isAsync=t=>typeof Promise!=="undefined"&&t instanceof Promise;function __classPrivateFieldGet$1(t,e,i,r){if(typeof e==="function"?t!==e||true:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function __classPrivateFieldSet$1(t,e,i,r,s){if(typeof e==="function"?t!==e||true:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,i),i}typeof SuppressedError==="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};var x;(function(t){t.errToObj=t=>typeof t==="string"?{message:t}:t||{};t.toString=t=>typeof t==="string"?t:t===null||t===void 0?void 0:t.message})(x||(x={}));var b,T;class ParseInputLazyPath{constructor(t,e,i,r){this._cachedPath=[];this.parent=t;this.data=e;this._path=i;this._key=r}get path(){if(!this._cachedPath.length){if(this._key instanceof Array){this._cachedPath.push(...this._path,...this._key)}else{this._cachedPath.push(...this._path,this._key)}}return this._cachedPath}}const handleResult=(t,e)=>{if(isValid(e)){return{success:true,data:e.value}}else{if(!t.common.issues.length){throw new Error("Validation failed but no issues detected.")}return{success:false,get error(){if(this._error)return this._error;const e=new ZodError(t.common.issues);this._error=e;return this._error}}}};function processCreateParams(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:r,description:s}=t;if(e&&(i||r)){throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`)}if(e)return{errorMap:e,description:s};const customMap=(e,s)=>{var n,a;const{message:o}=t;if(e.code==="invalid_enum_value"){return{message:o!==null&&o!==void 0?o:s.defaultError}}if(typeof s.data==="undefined"){return{message:(n=o!==null&&o!==void 0?o:r)!==null&&n!==void 0?n:s.defaultError}}if(e.code!=="invalid_type")return{message:s.defaultError};return{message:(a=o!==null&&o!==void 0?o:i)!==null&&a!==void 0?a:s.defaultError}};return{errorMap:customMap,description:s}}class ZodType{constructor(t){this.spa=this.safeParseAsync;this._def=t;this.parse=this.parse.bind(this);this.safeParse=this.safeParse.bind(this);this.parseAsync=this.parseAsync.bind(this);this.safeParseAsync=this.safeParseAsync.bind(this);this.spa=this.spa.bind(this);this.refine=this.refine.bind(this);this.refinement=this.refinement.bind(this);this.superRefine=this.superRefine.bind(this);this.optional=this.optional.bind(this);this.nullable=this.nullable.bind(this);this.nullish=this.nullish.bind(this);this.array=this.array.bind(this);this.promise=this.promise.bind(this);this.or=this.or.bind(this);this.and=this.and.bind(this);this.transform=this.transform.bind(this);this.brand=this.brand.bind(this);this.default=this.default.bind(this);this.catch=this.catch.bind(this);this.describe=this.describe.bind(this);this.pipe=this.pipe.bind(this);this.readonly=this.readonly.bind(this);this.isNullable=this.isNullable.bind(this);this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(isAsync(e)){throw new Error("Synchronous parse encountered promise.")}return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const r={common:{issues:[],async:(i=e===null||e===void 0?void 0:e.async)!==null&&i!==void 0?i:false,contextualErrorMap:e===null||e===void 0?void 0:e.errorMap},path:(e===null||e===void 0?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)};const s=this._parseSync({data:t,path:r.path,parent:r});return handleResult(r,s)}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:e===null||e===void 0?void 0:e.errorMap,async:true},path:(e===null||e===void 0?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)};const r=this._parse({data:t,path:i.path,parent:i});const s=await(isAsync(r)?r:Promise.resolve(r));return handleResult(i,s)}refine(t,e){const getIssueProperties=t=>{if(typeof e==="string"||typeof e==="undefined"){return{message:e}}else if(typeof e==="function"){return e(t)}else{return e}};return this._refinement(((e,i)=>{const r=t(e);const setError=()=>i.addIssue({code:p.custom,...getIssueProperties(e)});if(typeof Promise!=="undefined"&&r instanceof Promise){return r.then((t=>{if(!t){setError();return false}else{return true}}))}if(!r){setError();return false}else{return true}}))}refinement(t,e){return this._refinement(((i,r)=>{if(!t(i)){r.addIssue(typeof e==="function"?e(i,r):e);return false}else{return true}}))}_refinement(t){return new ZodEffects({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t==="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:e,typeName:U.ZodDefault})}brand(){return new ZodBranded({typeName:U.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const e=typeof t==="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:e,typeName:U.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const w=/^c[^\s-]{8,}$/i;const E=/^[0-9a-z]+$/;const S=/^[0-9A-HJKMNP-TV-Z]{26}$/;const A=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;const C=/^[a-z0-9_-]{21}$/i;const O=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;const P=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;const I=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;let R;const M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;const L=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;const D=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;const k=`((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;const F=new RegExp(`^${k}$`);function timeRegexSource(t){let e=`([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d`;if(t.precision){e=`${e}\\.\\d{${t.precision}}`}else if(t.precision==null){e=`${e}(\\.\\d+)?`}return e}function timeRegex(t){return new RegExp(`^${timeRegexSource(t)}$`)}function datetimeRegex(t){let e=`${k}T${timeRegexSource(t)}`;const i=[];i.push(t.local?`Z?`:`Z`);if(t.offset)i.push(`([+-]\\d{2}:?\\d{2})`);e=`${e}(${i.join("|")})`;return new RegExp(`^${e}$`)}function isValidIP(t,e){if((e==="v4"||!e)&&M.test(t)){return true}if((e==="v6"||!e)&&L.test(t)){return true}return false}class ZodString extends ZodType{_parse(t){if(this._def.coerce){t.data=String(t.data)}const e=this._getType(t);if(e!==v.string){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.string,received:e.parsedType});return y}const i=new ParseStatus;let r=void 0;for(const n of this._def.checks){if(n.kind==="min"){if(t.data.length<n.value){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.too_small,minimum:n.value,type:"string",inclusive:true,exact:false,message:n.message});i.dirty()}}else if(n.kind==="max"){if(t.data.length>n.value){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.too_big,maximum:n.value,type:"string",inclusive:true,exact:false,message:n.message});i.dirty()}}else if(n.kind==="length"){const e=t.data.length>n.value;const s=t.data.length<n.value;if(e||s){r=this._getOrReturnCtx(t,r);if(e){addIssueToContext(r,{code:p.too_big,maximum:n.value,type:"string",inclusive:true,exact:true,message:n.message})}else if(s){addIssueToContext(r,{code:p.too_small,minimum:n.value,type:"string",inclusive:true,exact:true,message:n.message})}i.dirty()}}else if(n.kind==="email"){if(!P.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"email",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="emoji"){if(!R){R=new RegExp(I,"u")}if(!R.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"emoji",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="uuid"){if(!A.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"uuid",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="nanoid"){if(!C.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"nanoid",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="cuid"){if(!w.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"cuid",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="cuid2"){if(!E.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"cuid2",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="ulid"){if(!S.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"ulid",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="url"){try{new URL(t.data)}catch(s){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"url",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="regex"){n.regex.lastIndex=0;const e=n.regex.test(t.data);if(!e){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"regex",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="trim"){t.data=t.data.trim()}else if(n.kind==="includes"){if(!t.data.includes(n.value,n.position)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:{includes:n.value,position:n.position},message:n.message});i.dirty()}}else if(n.kind==="toLowerCase"){t.data=t.data.toLowerCase()}else if(n.kind==="toUpperCase"){t.data=t.data.toUpperCase()}else if(n.kind==="startsWith"){if(!t.data.startsWith(n.value)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:{startsWith:n.value},message:n.message});i.dirty()}}else if(n.kind==="endsWith"){if(!t.data.endsWith(n.value)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:{endsWith:n.value},message:n.message});i.dirty()}}else if(n.kind==="datetime"){const e=datetimeRegex(n);if(!e.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:"datetime",message:n.message});i.dirty()}}else if(n.kind==="date"){const e=F;if(!e.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:"date",message:n.message});i.dirty()}}else if(n.kind==="time"){const e=timeRegex(n);if(!e.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.invalid_string,validation:"time",message:n.message});i.dirty()}}else if(n.kind==="duration"){if(!O.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"duration",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="ip"){if(!isValidIP(t.data,n.version)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"ip",code:p.invalid_string,message:n.message});i.dirty()}}else if(n.kind==="base64"){if(!D.test(t.data)){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{validation:"base64",code:p.invalid_string,message:n.message});i.dirty()}}else{f.assertNever(n)}}return{status:i.value,value:t.data}}_regex(t,e,i){return this.refinement((e=>t.test(e)),{validation:e,code:p.invalid_string,...x.errToObj(i)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...x.errToObj(t)})}url(t){return this._addCheck({kind:"url",...x.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...x.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...x.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...x.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...x.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...x.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...x.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...x.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...x.errToObj(t)})}datetime(t){var e,i;if(typeof t==="string"){return this._addCheck({kind:"datetime",precision:null,offset:false,local:false,message:t})}return this._addCheck({kind:"datetime",precision:typeof(t===null||t===void 0?void 0:t.precision)==="undefined"?null:t===null||t===void 0?void 0:t.precision,offset:(e=t===null||t===void 0?void 0:t.offset)!==null&&e!==void 0?e:false,local:(i=t===null||t===void 0?void 0:t.local)!==null&&i!==void 0?i:false,...x.errToObj(t===null||t===void 0?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){if(typeof t==="string"){return this._addCheck({kind:"time",precision:null,message:t})}return this._addCheck({kind:"time",precision:typeof(t===null||t===void 0?void 0:t.precision)==="undefined"?null:t===null||t===void 0?void 0:t.precision,...x.errToObj(t===null||t===void 0?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...x.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...x.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e===null||e===void 0?void 0:e.position,...x.errToObj(e===null||e===void 0?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...x.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...x.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...x.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...x.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...x.errToObj(e)})}nonempty(t){return this.min(1,x.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((t=>t.kind==="datetime"))}get isDate(){return!!this._def.checks.find((t=>t.kind==="date"))}get isTime(){return!!this._def.checks.find((t=>t.kind==="time"))}get isDuration(){return!!this._def.checks.find((t=>t.kind==="duration"))}get isEmail(){return!!this._def.checks.find((t=>t.kind==="email"))}get isURL(){return!!this._def.checks.find((t=>t.kind==="url"))}get isEmoji(){return!!this._def.checks.find((t=>t.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((t=>t.kind==="uuid"))}get isNANOID(){return!!this._def.checks.find((t=>t.kind==="nanoid"))}get isCUID(){return!!this._def.checks.find((t=>t.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((t=>t.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((t=>t.kind==="ulid"))}get isIP(){return!!this._def.checks.find((t=>t.kind==="ip"))}get isBase64(){return!!this._def.checks.find((t=>t.kind==="base64"))}get minLength(){let t=null;for(const e of this._def.checks){if(e.kind==="min"){if(t===null||e.value>t)t=e.value}}return t}get maxLength(){let t=null;for(const e of this._def.checks){if(e.kind==="max"){if(t===null||e.value<t)t=e.value}}return t}}ZodString.create=t=>{var e;return new ZodString({checks:[],typeName:U.ZodString,coerce:(e=t===null||t===void 0?void 0:t.coerce)!==null&&e!==void 0?e:false,...processCreateParams(t)})};function floatSafeRemainder(t,e){const i=(t.toString().split(".")[1]||"").length;const r=(e.toString().split(".")[1]||"").length;const s=i>r?i:r;const n=parseInt(t.toFixed(s).replace(".",""));const a=parseInt(e.toFixed(s).replace(".",""));return n%a/Math.pow(10,s)}class ZodNumber extends ZodType{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte;this.step=this.multipleOf}_parse(t){if(this._def.coerce){t.data=Number(t.data)}const e=this._getType(t);if(e!==v.number){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.number,received:e.parsedType});return y}let i=void 0;const r=new ParseStatus;for(const s of this._def.checks){if(s.kind==="int"){if(!f.isInteger(t.data)){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.invalid_type,expected:"integer",received:"float",message:s.message});r.dirty()}}else if(s.kind==="min"){const e=s.inclusive?t.data<s.value:t.data<=s.value;if(e){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:false,message:s.message});r.dirty()}}else if(s.kind==="max"){const e=s.inclusive?t.data>s.value:t.data>=s.value;if(e){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:false,message:s.message});r.dirty()}}else if(s.kind==="multipleOf"){if(floatSafeRemainder(t.data,s.value)!==0){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.not_multiple_of,multipleOf:s.value,message:s.message});r.dirty()}}else if(s.kind==="finite"){if(!Number.isFinite(t.data)){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.not_finite,message:s.message});r.dirty()}}else{f.assertNever(s)}}return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,true,x.toString(e))}gt(t,e){return this.setLimit("min",t,false,x.toString(e))}lte(t,e){return this.setLimit("max",t,true,x.toString(e))}lt(t,e){return this.setLimit("max",t,false,x.toString(e))}setLimit(t,e,i,r){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:x.toString(r)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:x.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:false,message:x.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:false,message:x.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:true,message:x.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:true,message:x.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:x.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:x.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:true,value:Number.MIN_SAFE_INTEGER,message:x.toString(t)})._addCheck({kind:"max",inclusive:true,value:Number.MAX_SAFE_INTEGER,message:x.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks){if(e.kind==="min"){if(t===null||e.value>t)t=e.value}}return t}get maxValue(){let t=null;for(const e of this._def.checks){if(e.kind==="max"){if(t===null||e.value<t)t=e.value}}return t}get isInt(){return!!this._def.checks.find((t=>t.kind==="int"||t.kind==="multipleOf"&&f.isInteger(t.value)))}get isFinite(){let t=null,e=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf"){return true}else if(i.kind==="min"){if(e===null||i.value>e)e=i.value}else if(i.kind==="max"){if(t===null||i.value<t)t=i.value}}return Number.isFinite(e)&&Number.isFinite(t)}}ZodNumber.create=t=>new ZodNumber({checks:[],typeName:U.ZodNumber,coerce:(t===null||t===void 0?void 0:t.coerce)||false,...processCreateParams(t)});class ZodBigInt extends ZodType{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte}_parse(t){if(this._def.coerce){t.data=BigInt(t.data)}const e=this._getType(t);if(e!==v.bigint){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.bigint,received:e.parsedType});return y}let i=void 0;const r=new ParseStatus;for(const s of this._def.checks){if(s.kind==="min"){const e=s.inclusive?t.data<s.value:t.data<=s.value;if(e){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message});r.dirty()}}else if(s.kind==="max"){const e=s.inclusive?t.data>s.value:t.data>=s.value;if(e){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message});r.dirty()}}else if(s.kind==="multipleOf"){if(t.data%s.value!==BigInt(0)){i=this._getOrReturnCtx(t,i);addIssueToContext(i,{code:p.not_multiple_of,multipleOf:s.value,message:s.message});r.dirty()}}else{f.assertNever(s)}}return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,true,x.toString(e))}gt(t,e){return this.setLimit("min",t,false,x.toString(e))}lte(t,e){return this.setLimit("max",t,true,x.toString(e))}lt(t,e){return this.setLimit("max",t,false,x.toString(e))}setLimit(t,e,i,r){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:x.toString(r)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:false,message:x.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:false,message:x.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:true,message:x.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:true,message:x.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:x.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks){if(e.kind==="min"){if(t===null||e.value>t)t=e.value}}return t}get maxValue(){let t=null;for(const e of this._def.checks){if(e.kind==="max"){if(t===null||e.value<t)t=e.value}}return t}}ZodBigInt.create=t=>{var e;return new ZodBigInt({checks:[],typeName:U.ZodBigInt,coerce:(e=t===null||t===void 0?void 0:t.coerce)!==null&&e!==void 0?e:false,...processCreateParams(t)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce){t.data=Boolean(t.data)}const e=this._getType(t);if(e!==v.boolean){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.boolean,received:e.parsedType});return y}return OK(t.data)}}ZodBoolean.create=t=>new ZodBoolean({typeName:U.ZodBoolean,coerce:(t===null||t===void 0?void 0:t.coerce)||false,...processCreateParams(t)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce){t.data=new Date(t.data)}const e=this._getType(t);if(e!==v.date){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.date,received:e.parsedType});return y}if(isNaN(t.data.getTime())){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_date});return y}const i=new ParseStatus;let r=void 0;for(const s of this._def.checks){if(s.kind==="min"){if(t.data.getTime()<s.value){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.too_small,message:s.message,inclusive:true,exact:false,minimum:s.value,type:"date"});i.dirty()}}else if(s.kind==="max"){if(t.data.getTime()>s.value){r=this._getOrReturnCtx(t,r);addIssueToContext(r,{code:p.too_big,message:s.message,inclusive:true,exact:false,maximum:s.value,type:"date"});i.dirty()}}else{f.assertNever(s)}}return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:x.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:x.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks){if(e.kind==="min"){if(t===null||e.value>t)t=e.value}}return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks){if(e.kind==="max"){if(t===null||e.value<t)t=e.value}}return t!=null?new Date(t):null}}ZodDate.create=t=>new ZodDate({checks:[],coerce:(t===null||t===void 0?void 0:t.coerce)||false,typeName:U.ZodDate,...processCreateParams(t)});class ZodSymbol extends ZodType{_parse(t){const e=this._getType(t);if(e!==v.symbol){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.symbol,received:e.parsedType});return y}return OK(t.data)}}ZodSymbol.create=t=>new ZodSymbol({typeName:U.ZodSymbol,...processCreateParams(t)});class ZodUndefined extends ZodType{_parse(t){const e=this._getType(t);if(e!==v.undefined){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.undefined,received:e.parsedType});return y}return OK(t.data)}}ZodUndefined.create=t=>new ZodUndefined({typeName:U.ZodUndefined,...processCreateParams(t)});class ZodNull extends ZodType{_parse(t){const e=this._getType(t);if(e!==v.null){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.null,received:e.parsedType});return y}return OK(t.data)}}ZodNull.create=t=>new ZodNull({typeName:U.ZodNull,...processCreateParams(t)});class ZodAny extends ZodType{constructor(){super(...arguments);this._any=true}_parse(t){return OK(t.data)}}ZodAny.create=t=>new ZodAny({typeName:U.ZodAny,...processCreateParams(t)});class ZodUnknown extends ZodType{constructor(){super(...arguments);this._unknown=true}_parse(t){return OK(t.data)}}ZodUnknown.create=t=>new ZodUnknown({typeName:U.ZodUnknown,...processCreateParams(t)});class ZodNever extends ZodType{_parse(t){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.never,received:e.parsedType});return y}}ZodNever.create=t=>new ZodNever({typeName:U.ZodNever,...processCreateParams(t)});class ZodVoid extends ZodType{_parse(t){const e=this._getType(t);if(e!==v.undefined){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.void,received:e.parsedType});return y}return OK(t.data)}}ZodVoid.create=t=>new ZodVoid({typeName:U.ZodVoid,...processCreateParams(t)});class ZodArray extends ZodType{_parse(t){const{ctx:e,status:i}=this._processInputParams(t);const r=this._def;if(e.parsedType!==v.array){addIssueToContext(e,{code:p.invalid_type,expected:v.array,received:e.parsedType});return y}if(r.exactLength!==null){const t=e.data.length>r.exactLength.value;const s=e.data.length<r.exactLength.value;if(t||s){addIssueToContext(e,{code:t?p.too_big:p.too_small,minimum:s?r.exactLength.value:void 0,maximum:t?r.exactLength.value:void 0,type:"array",inclusive:true,exact:true,message:r.exactLength.message});i.dirty()}}if(r.minLength!==null){if(e.data.length<r.minLength.value){addIssueToContext(e,{code:p.too_small,minimum:r.minLength.value,type:"array",inclusive:true,exact:false,message:r.minLength.message});i.dirty()}}if(r.maxLength!==null){if(e.data.length>r.maxLength.value){addIssueToContext(e,{code:p.too_big,maximum:r.maxLength.value,type:"array",inclusive:true,exact:false,message:r.maxLength.message});i.dirty()}}if(e.common.async){return Promise.all([...e.data].map(((t,i)=>r.type._parseAsync(new ParseInputLazyPath(e,t,e.path,i))))).then((t=>ParseStatus.mergeArray(i,t)))}const s=[...e.data].map(((t,i)=>r.type._parseSync(new ParseInputLazyPath(e,t,e.path,i))));return ParseStatus.mergeArray(i,s)}get element(){return this._def.type}min(t,e){return new ZodArray({...this._def,minLength:{value:t,message:x.toString(e)}})}max(t,e){return new ZodArray({...this._def,maxLength:{value:t,message:x.toString(e)}})}length(t,e){return new ZodArray({...this._def,exactLength:{value:t,message:x.toString(e)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(t,e)=>new ZodArray({type:t,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...processCreateParams(e)});function deepPartialify(t){if(t instanceof ZodObject){const e={};for(const i in t.shape){const r=t.shape[i];e[i]=ZodOptional.create(deepPartialify(r))}return new ZodObject({...t._def,shape:()=>e})}else if(t instanceof ZodArray){return new ZodArray({...t._def,type:deepPartialify(t.element)})}else if(t instanceof ZodOptional){return ZodOptional.create(deepPartialify(t.unwrap()))}else if(t instanceof ZodNullable){return ZodNullable.create(deepPartialify(t.unwrap()))}else if(t instanceof ZodTuple){return ZodTuple.create(t.items.map((t=>deepPartialify(t))))}else{return t}}class ZodObject extends ZodType{constructor(){super(...arguments);this._cached=null;this.nonstrict=this.passthrough;this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape();const e=f.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){const e=this._getType(t);if(e!==v.object){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.object,received:e.parsedType});return y}const{status:i,ctx:r}=this._processInputParams(t);const{shape:s,keys:n}=this._getCached();const a=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip")){for(const t in r.data){if(!n.includes(t)){a.push(t)}}}const o=[];for(const l of n){const t=s[l];const e=r.data[l];o.push({key:{status:"valid",value:l},value:t._parse(new ParseInputLazyPath(r,e,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof ZodNever){const t=this._def.unknownKeys;if(t==="passthrough"){for(const t of a){o.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}})}}else if(t==="strict"){if(a.length>0){addIssueToContext(r,{code:p.unrecognized_keys,keys:a});i.dirty()}}else if(t==="strip");else{throw new Error(`Internal ZodObject error: invalid unknownKeys value.`)}}else{const t=this._def.catchall;for(const e of a){const i=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(r,i,r.path,e)),alwaysSet:e in r.data})}}if(r.common.async){return Promise.resolve().then((async()=>{const t=[];for(const e of o){const i=await e.key;const r=await e.value;t.push({key:i,value:r,alwaysSet:e.alwaysSet})}return t})).then((t=>ParseStatus.mergeObjectSync(i,t)))}else{return ParseStatus.mergeObjectSync(i,o)}}get shape(){return this._def.shape()}strict(t){x.errToObj;return new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,i)=>{var r,s,n,a;const o=(n=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,e,i).message)!==null&&n!==void 0?n:i.defaultError;if(e.code==="unrecognized_keys")return{message:(a=x.errToObj(t).message)!==null&&a!==void 0?a:o};return{message:o}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){const e=new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:U.ZodObject});return e}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const e={};f.objectKeys(t).forEach((i=>{if(t[i]&&this.shape[i]){e[i]=this.shape[i]}}));return new ZodObject({...this._def,shape:()=>e})}omit(t){const e={};f.objectKeys(this.shape).forEach((i=>{if(!t[i]){e[i]=this.shape[i]}}));return new ZodObject({...this._def,shape:()=>e})}deepPartial(){return deepPartialify(this)}partial(t){const e={};f.objectKeys(this.shape).forEach((i=>{const r=this.shape[i];if(t&&!t[i]){e[i]=r}else{e[i]=r.optional()}}));return new ZodObject({...this._def,shape:()=>e})}required(t){const e={};f.objectKeys(this.shape).forEach((i=>{if(t&&!t[i]){e[i]=this.shape[i]}else{const t=this.shape[i];let r=t;while(r instanceof ZodOptional){r=r._def.innerType}e[i]=r}}));return new ZodObject({...this._def,shape:()=>e})}keyof(){return createZodEnum(f.objectKeys(this.shape))}}ZodObject.create=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:U.ZodObject,...processCreateParams(e)});ZodObject.strictCreate=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strict",catchall:ZodNever.create(),typeName:U.ZodObject,...processCreateParams(e)});ZodObject.lazycreate=(t,e)=>new ZodObject({shape:t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:U.ZodObject,...processCreateParams(e)});class ZodUnion extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);const i=this._def.options;function handleResults(t){for(const e of t){if(e.result.status==="valid"){return e.result}}for(const r of t){if(r.result.status==="dirty"){e.common.issues.push(...r.ctx.common.issues);return r.result}}const i=t.map((t=>new ZodError(t.ctx.common.issues)));addIssueToContext(e,{code:p.invalid_union,unionErrors:i});return y}if(e.common.async){return Promise.all(i.map((async t=>{const i={...e,common:{...e.common,issues:[]},parent:null};return{result:await t._parseAsync({data:e.data,path:e.path,parent:i}),ctx:i}}))).then(handleResults)}else{let t=void 0;const r=[];for(const n of i){const i={...e,common:{...e.common,issues:[]},parent:null};const s=n._parseSync({data:e.data,path:e.path,parent:i});if(s.status==="valid"){return s}else if(s.status==="dirty"&&!t){t={result:s,ctx:i}}if(i.common.issues.length){r.push(i.common.issues)}}if(t){e.common.issues.push(...t.ctx.common.issues);return t.result}const s=r.map((t=>new ZodError(t)));addIssueToContext(e,{code:p.invalid_union,unionErrors:s});return y}}get options(){return this._def.options}}ZodUnion.create=(t,e)=>new ZodUnion({options:t,typeName:U.ZodUnion,...processCreateParams(e)});const getDiscriminator=t=>{if(t instanceof ZodLazy){return getDiscriminator(t.schema)}else if(t instanceof ZodEffects){return getDiscriminator(t.innerType())}else if(t instanceof ZodLiteral){return[t.value]}else if(t instanceof ZodEnum){return t.options}else if(t instanceof ZodNativeEnum){return f.objectValues(t.enum)}else if(t instanceof ZodDefault){return getDiscriminator(t._def.innerType)}else if(t instanceof ZodUndefined){return[void 0]}else if(t instanceof ZodNull){return[null]}else if(t instanceof ZodOptional){return[void 0,...getDiscriminator(t.unwrap())]}else if(t instanceof ZodNullable){return[null,...getDiscriminator(t.unwrap())]}else if(t instanceof ZodBranded){return getDiscriminator(t.unwrap())}else if(t instanceof ZodReadonly){return getDiscriminator(t.unwrap())}else if(t instanceof ZodCatch){return getDiscriminator(t._def.innerType)}else{return[]}};class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==v.object){addIssueToContext(e,{code:p.invalid_type,expected:v.object,received:e.parsedType});return y}const i=this.discriminator;const r=e.data[i];const s=this.optionsMap.get(r);if(!s){addIssueToContext(e,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]});return y}if(e.common.async){return s._parseAsync({data:e.data,path:e.path,parent:e})}else{return s._parseSync({data:e.data,path:e.path,parent:e})}}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){const r=new Map;for(const s of e){const e=getDiscriminator(s.shape[t]);if(!e.length){throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`)}for(const i of e){if(r.has(i)){throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(i)}`)}r.set(i,s)}}return new ZodDiscriminatedUnion({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:r,...processCreateParams(i)})}}function mergeValues(t,e){const i=getParsedType(t);const r=getParsedType(e);if(t===e){return{valid:true,data:t}}else if(i===v.object&&r===v.object){const i=f.objectKeys(e);const r=f.objectKeys(t).filter((t=>i.indexOf(t)!==-1));const s={...t,...e};for(const n of r){const i=mergeValues(t[n],e[n]);if(!i.valid){return{valid:false}}s[n]=i.data}return{valid:true,data:s}}else if(i===v.array&&r===v.array){if(t.length!==e.length){return{valid:false}}const i=[];for(let r=0;r<t.length;r++){const s=t[r];const n=e[r];const a=mergeValues(s,n);if(!a.valid){return{valid:false}}i.push(a.data)}return{valid:true,data:i}}else if(i===v.date&&r===v.date&&+t===+e){return{valid:true,data:t}}else{return{valid:false}}}class ZodIntersection extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);const handleParsed=(t,r)=>{if(isAborted(t)||isAborted(r)){return y}const s=mergeValues(t.value,r.value);if(!s.valid){addIssueToContext(i,{code:p.invalid_intersection_types});return y}if(isDirty(t)||isDirty(r)){e.dirty()}return{status:e.value,value:s.data}};if(i.common.async){return Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then((([t,e])=>handleParsed(t,e)))}else{return handleParsed(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}}ZodIntersection.create=(t,e,i)=>new ZodIntersection({left:t,right:e,typeName:U.ZodIntersection,...processCreateParams(i)});class ZodTuple extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==v.array){addIssueToContext(i,{code:p.invalid_type,expected:v.array,received:i.parsedType});return y}if(i.data.length<this._def.items.length){addIssueToContext(i,{code:p.too_small,minimum:this._def.items.length,inclusive:true,exact:false,type:"array"});return y}const r=this._def.rest;if(!r&&i.data.length>this._def.items.length){addIssueToContext(i,{code:p.too_big,maximum:this._def.items.length,inclusive:true,exact:false,type:"array"});e.dirty()}const s=[...i.data].map(((t,e)=>{const r=this._def.items[e]||this._def.rest;if(!r)return null;return r._parse(new ParseInputLazyPath(i,t,i.path,e))})).filter((t=>!!t));if(i.common.async){return Promise.all(s).then((t=>ParseStatus.mergeArray(e,t)))}else{return ParseStatus.mergeArray(e,s)}}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(t,e)=>{if(!Array.isArray(t)){throw new Error("You must pass an array of schemas to z.tuple([ ... ])")}return new ZodTuple({items:t,typeName:U.ZodTuple,rest:null,...processCreateParams(e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==v.object){addIssueToContext(i,{code:p.invalid_type,expected:v.object,received:i.parsedType});return y}const r=[];const s=this._def.keyType;const n=this._def.valueType;for(const a in i.data){r.push({key:s._parse(new ParseInputLazyPath(i,a,i.path,a)),value:n._parse(new ParseInputLazyPath(i,i.data[a],i.path,a)),alwaysSet:a in i.data})}if(i.common.async){return ParseStatus.mergeObjectAsync(e,r)}else{return ParseStatus.mergeObjectSync(e,r)}}get element(){return this._def.valueType}static create(t,e,i){if(e instanceof ZodType){return new ZodRecord({keyType:t,valueType:e,typeName:U.ZodRecord,...processCreateParams(i)})}return new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:U.ZodRecord,...processCreateParams(e)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==v.map){addIssueToContext(i,{code:p.invalid_type,expected:v.map,received:i.parsedType});return y}const r=this._def.keyType;const s=this._def.valueType;const n=[...i.data.entries()].map((([t,e],n)=>({key:r._parse(new ParseInputLazyPath(i,t,i.path,[n,"key"])),value:s._parse(new ParseInputLazyPath(i,e,i.path,[n,"value"]))})));if(i.common.async){const t=new Map;return Promise.resolve().then((async()=>{for(const i of n){const r=await i.key;const s=await i.value;if(r.status==="aborted"||s.status==="aborted"){return y}if(r.status==="dirty"||s.status==="dirty"){e.dirty()}t.set(r.value,s.value)}return{status:e.value,value:t}}))}else{const t=new Map;for(const i of n){const r=i.key;const s=i.value;if(r.status==="aborted"||s.status==="aborted"){return y}if(r.status==="dirty"||s.status==="dirty"){e.dirty()}t.set(r.value,s.value)}return{status:e.value,value:t}}}}ZodMap.create=(t,e,i)=>new ZodMap({valueType:e,keyType:t,typeName:U.ZodMap,...processCreateParams(i)});class ZodSet extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==v.set){addIssueToContext(i,{code:p.invalid_type,expected:v.set,received:i.parsedType});return y}const r=this._def;if(r.minSize!==null){if(i.data.size<r.minSize.value){addIssueToContext(i,{code:p.too_small,minimum:r.minSize.value,type:"set",inclusive:true,exact:false,message:r.minSize.message});e.dirty()}}if(r.maxSize!==null){if(i.data.size>r.maxSize.value){addIssueToContext(i,{code:p.too_big,maximum:r.maxSize.value,type:"set",inclusive:true,exact:false,message:r.maxSize.message});e.dirty()}}const s=this._def.valueType;function finalizeSet(t){const i=new Set;for(const r of t){if(r.status==="aborted")return y;if(r.status==="dirty")e.dirty();i.add(r.value)}return{status:e.value,value:i}}const n=[...i.data.values()].map(((t,e)=>s._parse(new ParseInputLazyPath(i,t,i.path,e))));if(i.common.async){return Promise.all(n).then((t=>finalizeSet(t)))}else{return finalizeSet(n)}}min(t,e){return new ZodSet({...this._def,minSize:{value:t,message:x.toString(e)}})}max(t,e){return new ZodSet({...this._def,maxSize:{value:t,message:x.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}ZodSet.create=(t,e)=>new ZodSet({valueType:t,minSize:null,maxSize:null,typeName:U.ZodSet,...processCreateParams(e)});class ZodFunction extends ZodType{constructor(){super(...arguments);this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==v.function){addIssueToContext(e,{code:p.invalid_type,expected:v.function,received:e.parsedType});return y}function makeArgsIssue(t,i){return makeIssue({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((t=>!!t)),issueData:{code:p.invalid_arguments,argumentsError:i}})}function makeReturnsIssue(t,i){return makeIssue({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((t=>!!t)),issueData:{code:p.invalid_return_type,returnTypeError:i}})}const i={errorMap:e.common.contextualErrorMap};const r=e.data;if(this._def.returns instanceof ZodPromise){const t=this;return OK((async function(...e){const s=new ZodError([]);const n=await t._def.args.parseAsync(e,i).catch((t=>{s.addIssue(makeArgsIssue(e,t));throw s}));const a=await Reflect.apply(r,this,n);const o=await t._def.returns._def.type.parseAsync(a,i).catch((t=>{s.addIssue(makeReturnsIssue(a,t));throw s}));return o}))}else{const t=this;return OK((function(...e){const s=t._def.args.safeParse(e,i);if(!s.success){throw new ZodError([makeArgsIssue(e,s.error)])}const n=Reflect.apply(r,this,s.data);const a=t._def.returns.safeParse(n,i);if(!a.success){throw new ZodError([makeReturnsIssue(n,a.error)])}return a.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){const e=this.parse(t);return e}strictImplement(t){const e=this.parse(t);return e}static create(t,e,i){return new ZodFunction({args:t?t:ZodTuple.create([]).rest(ZodUnknown.create()),returns:e||ZodUnknown.create(),typeName:U.ZodFunction,...processCreateParams(i)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);const i=this._def.getter();return i._parse({data:e.data,path:e.path,parent:e})}}ZodLazy.create=(t,e)=>new ZodLazy({getter:t,typeName:U.ZodLazy,...processCreateParams(e)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);addIssueToContext(e,{received:e.data,code:p.invalid_literal,expected:this._def.value});return y}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(t,e)=>new ZodLiteral({value:t,typeName:U.ZodLiteral,...processCreateParams(e)});function createZodEnum(t,e){return new ZodEnum({values:t,typeName:U.ZodEnum,...processCreateParams(e)})}class ZodEnum extends ZodType{constructor(){super(...arguments);b.set(this,void 0)}_parse(t){if(typeof t.data!=="string"){const e=this._getOrReturnCtx(t);const i=this._def.values;addIssueToContext(e,{expected:f.joinValues(i),received:e.parsedType,code:p.invalid_type});return y}if(!__classPrivateFieldGet$1(this,b)){__classPrivateFieldSet$1(this,b,new Set(this._def.values))}if(!__classPrivateFieldGet$1(this,b).has(t.data)){const e=this._getOrReturnCtx(t);const i=this._def.values;addIssueToContext(e,{received:e.data,code:p.invalid_enum_value,options:i});return y}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values){t[e]=e}return t}get Values(){const t={};for(const e of this._def.values){t[e]=e}return t}get Enum(){const t={};for(const e of this._def.values){t[e]=e}return t}extract(t,e=this._def){return ZodEnum.create(t,{...this._def,...e})}exclude(t,e=this._def){return ZodEnum.create(this.options.filter((e=>!t.includes(e))),{...this._def,...e})}}b=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments);T.set(this,void 0)}_parse(t){const e=f.getValidEnumValues(this._def.values);const i=this._getOrReturnCtx(t);if(i.parsedType!==v.string&&i.parsedType!==v.number){const t=f.objectValues(e);addIssueToContext(i,{expected:f.joinValues(t),received:i.parsedType,code:p.invalid_type});return y}if(!__classPrivateFieldGet$1(this,T)){__classPrivateFieldSet$1(this,T,new Set(f.getValidEnumValues(this._def.values)))}if(!__classPrivateFieldGet$1(this,T).has(t.data)){const t=f.objectValues(e);addIssueToContext(i,{received:i.data,code:p.invalid_enum_value,options:t});return y}return OK(t.data)}get enum(){return this._def.values}}T=new WeakMap;ZodNativeEnum.create=(t,e)=>new ZodNativeEnum({values:t,typeName:U.ZodNativeEnum,...processCreateParams(e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==v.promise&&e.common.async===false){addIssueToContext(e,{code:p.invalid_type,expected:v.promise,received:e.parsedType});return y}const i=e.parsedType===v.promise?e.data:Promise.resolve(e.data);return OK(i.then((t=>this._def.type.parseAsync(t,{path:e.path,errorMap:e.common.contextualErrorMap}))))}}ZodPromise.create=(t,e)=>new ZodPromise({type:t,typeName:U.ZodPromise,...processCreateParams(e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);const r=this._def.effect||null;const s={addIssue:t=>{addIssueToContext(i,t);if(t.fatal){e.abort()}else{e.dirty()}},get path(){return i.path}};s.addIssue=s.addIssue.bind(s);if(r.type==="preprocess"){const t=r.transform(i.data,s);if(i.common.async){return Promise.resolve(t).then((async t=>{if(e.value==="aborted")return y;const r=await this._def.schema._parseAsync({data:t,path:i.path,parent:i});if(r.status==="aborted")return y;if(r.status==="dirty")return DIRTY(r.value);if(e.value==="dirty")return DIRTY(r.value);return r}))}else{if(e.value==="aborted")return y;const r=this._def.schema._parseSync({data:t,path:i.path,parent:i});if(r.status==="aborted")return y;if(r.status==="dirty")return DIRTY(r.value);if(e.value==="dirty")return DIRTY(r.value);return r}}if(r.type==="refinement"){const executeRefinement=t=>{const e=r.refinement(t,s);if(i.common.async){return Promise.resolve(e)}if(e instanceof Promise){throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.")}return t};if(i.common.async===false){const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(t.status==="aborted")return y;if(t.status==="dirty")e.dirty();executeRefinement(t.value);return{status:e.value,value:t.value}}else{return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((t=>{if(t.status==="aborted")return y;if(t.status==="dirty")e.dirty();return executeRefinement(t.value).then((()=>({status:e.value,value:t.value})))}))}}if(r.type==="transform"){if(i.common.async===false){const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!isValid(t))return t;const n=r.transform(t.value,s);if(n instanceof Promise){throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`)}return{status:e.value,value:n}}else{return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((t=>{if(!isValid(t))return t;return Promise.resolve(r.transform(t.value,s)).then((t=>({status:e.value,value:t})))}))}}f.assertNever(r)}}ZodEffects.create=(t,e,i)=>new ZodEffects({schema:t,typeName:U.ZodEffects,effect:e,...processCreateParams(i)});ZodEffects.createWithPreprocess=(t,e,i)=>new ZodEffects({schema:e,effect:{type:"preprocess",transform:t},typeName:U.ZodEffects,...processCreateParams(i)});class ZodOptional extends ZodType{_parse(t){const e=this._getType(t);if(e===v.undefined){return OK(void 0)}return this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(t,e)=>new ZodOptional({innerType:t,typeName:U.ZodOptional,...processCreateParams(e)});class ZodNullable extends ZodType{_parse(t){const e=this._getType(t);if(e===v.null){return OK(null)}return this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(t,e)=>new ZodNullable({innerType:t,typeName:U.ZodNullable,...processCreateParams(e)});class ZodDefault extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;if(e.parsedType===v.undefined){i=this._def.defaultValue()}return this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}ZodDefault.create=(t,e)=>new ZodDefault({innerType:t,typeName:U.ZodDefault,defaultValue:typeof e.default==="function"?e.default:()=>e.default,...processCreateParams(e)});class ZodCatch extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);const i={...e,common:{...e.common,issues:[]}};const r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});if(isAsync(r)){return r.then((t=>({status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new ZodError(i.common.issues)},input:i.data})})))}else{return{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new ZodError(i.common.issues)},input:i.data})}}}removeCatch(){return this._def.innerType}}ZodCatch.create=(t,e)=>new ZodCatch({innerType:t,typeName:U.ZodCatch,catchValue:typeof e.catch==="function"?e.catch:()=>e.catch,...processCreateParams(e)});class ZodNaN extends ZodType{_parse(t){const e=this._getType(t);if(e!==v.nan){const e=this._getOrReturnCtx(t);addIssueToContext(e,{code:p.invalid_type,expected:v.nan,received:e.parsedType});return y}return{status:"valid",value:t.data}}}ZodNaN.create=t=>new ZodNaN({typeName:U.ZodNaN,...processCreateParams(t)});const B=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:e}=this._processInputParams(t);const i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.common.async){const handleAsync=async()=>{const t=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});if(t.status==="aborted")return y;if(t.status==="dirty"){e.dirty();return DIRTY(t.value)}else{return this._def.out._parseAsync({data:t.value,path:i.path,parent:i})}};return handleAsync()}else{const t=this._def.in._parseSync({data:i.data,path:i.path,parent:i});if(t.status==="aborted")return y;if(t.status==="dirty"){e.dirty();return{status:"dirty",value:t.value}}else{return this._def.out._parseSync({data:t.value,path:i.path,parent:i})}}}static create(t,e){return new ZodPipeline({in:t,out:e,typeName:U.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const e=this._def.innerType._parse(t);const freeze=t=>{if(isValid(t)){t.value=Object.freeze(t.value)}return t};return isAsync(e)?e.then((t=>freeze(t))):freeze(e)}unwrap(){return this._def.innerType}}ZodReadonly.create=(t,e)=>new ZodReadonly({innerType:t,typeName:U.ZodReadonly,...processCreateParams(e)});function custom(t,e={},i){if(t)return ZodAny.create().superRefine(((r,s)=>{var n,a;if(!t(r)){const t=typeof e==="function"?e(r):typeof e==="string"?{message:e}:e;const o=(a=(n=t.fatal)!==null&&n!==void 0?n:i)!==null&&a!==void 0?a:true;const l=typeof t==="string"?{message:t}:t;s.addIssue({code:"custom",...l,fatal:o})}}));return ZodAny.create()}const N={object:ZodObject.lazycreate};var U;(function(t){t["ZodString"]="ZodString";t["ZodNumber"]="ZodNumber";t["ZodNaN"]="ZodNaN";t["ZodBigInt"]="ZodBigInt";t["ZodBoolean"]="ZodBoolean";t["ZodDate"]="ZodDate";t["ZodSymbol"]="ZodSymbol";t["ZodUndefined"]="ZodUndefined";t["ZodNull"]="ZodNull";t["ZodAny"]="ZodAny";t["ZodUnknown"]="ZodUnknown";t["ZodNever"]="ZodNever";t["ZodVoid"]="ZodVoid";t["ZodArray"]="ZodArray";t["ZodObject"]="ZodObject";t["ZodUnion"]="ZodUnion";t["ZodDiscriminatedUnion"]="ZodDiscriminatedUnion";t["ZodIntersection"]="ZodIntersection";t["ZodTuple"]="ZodTuple";t["ZodRecord"]="ZodRecord";t["ZodMap"]="ZodMap";t["ZodSet"]="ZodSet";t["ZodFunction"]="ZodFunction";t["ZodLazy"]="ZodLazy";t["ZodLiteral"]="ZodLiteral";t["ZodEnum"]="ZodEnum";t["ZodEffects"]="ZodEffects";t["ZodNativeEnum"]="ZodNativeEnum";t["ZodOptional"]="ZodOptional";t["ZodNullable"]="ZodNullable";t["ZodDefault"]="ZodDefault";t["ZodCatch"]="ZodCatch";t["ZodPromise"]="ZodPromise";t["ZodBranded"]="ZodBranded";t["ZodPipeline"]="ZodPipeline";t["ZodReadonly"]="ZodReadonly"})(U||(U={}));const instanceOfType=(t,e={message:`Input not instance of ${t.name}`})=>custom((e=>e instanceof t),e);const z=ZodString.create;const V=ZodNumber.create;const G=ZodNaN.create;const X=ZodBigInt.create;const Y=ZodBoolean.create;const H=ZodDate.create;const W=ZodSymbol.create;const j=ZodUndefined.create;const Z=ZodNull.create;const q=ZodAny.create;const K=ZodUnknown.create;const J=ZodNever.create;const Q=ZodVoid.create;const tt=ZodArray.create;const et=ZodObject.create;const it=ZodObject.strictCreate;const rt=ZodUnion.create;const st=ZodDiscriminatedUnion.create;const nt=ZodIntersection.create;const at=ZodTuple.create;const ot=ZodRecord.create;const lt=ZodMap.create;const ht=ZodSet.create;const ut=ZodFunction.create;const ct=ZodLazy.create;const ft=ZodLiteral.create;const dt=ZodEnum.create;const vt=ZodNativeEnum.create;const pt=ZodPromise.create;const gt=ZodEffects.create;const mt=ZodOptional.create;const yt=ZodNullable.create;const xt=ZodEffects.createWithPreprocess;const bt=ZodPipeline.create;const ostring=()=>z().optional();const onumber=()=>V().optional();const oboolean=()=>Y().optional();const Tt={string:t=>ZodString.create({...t,coerce:true}),number:t=>ZodNumber.create({...t,coerce:true}),boolean:t=>ZodBoolean.create({...t,coerce:true}),bigint:t=>ZodBigInt.create({...t,coerce:true}),date:t=>ZodDate.create({...t,coerce:true})};const wt=y;var Et=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:m,addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:y,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return f},get objectUtil(){return d},ZodParsedType:v,getParsedType:getParsedType,ZodType:ZodType,datetimeRegex:datetimeRegex,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:B,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:N,get ZodFirstPartyTypeKind(){return U},coerce:Tt,any:q,array:tt,bigint:X,boolean:Y,date:H,discriminatedUnion:st,effect:gt,enum:dt,function:ut,instanceof:instanceOfType,intersection:nt,lazy:ct,literal:ft,map:lt,nan:G,nativeEnum:vt,never:J,null:Z,nullable:yt,number:V,object:et,oboolean:oboolean,onumber:onumber,optional:mt,ostring:ostring,pipeline:bt,preprocess:xt,promise:pt,record:ot,set:ht,strictObject:it,string:z,symbol:W,transformer:gt,tuple:at,undefined:j,union:rt,unknown:K,void:Q,NEVER:wt,ZodIssueCode:p,quotelessJson:quotelessJson,ZodError:ZodError});var St={exports:{}};var _t;function requireBigInteger(){if(_t)return St.exports;_t=1;(function(t){var e=function(t){var i=1e7,r=7,s=9007199254740992,n=smallToArray(s),a="0123456789abcdefghijklmnopqrstuvwxyz";var o=typeof BigInt==="function";function Integer(t,e,i,r){if(typeof t==="undefined")return Integer[0];if(typeof e!=="undefined")return+e===10&&!i?parseValue(t):parseBase(t,e,i,r);return parseValue(t)}function BigInteger2(t,e){this.value=t;this.sign=e;this.isSmall=false}BigInteger2.prototype=Object.create(Integer.prototype);function SmallInteger(t){this.value=t;this.sign=t<0;this.isSmall=true}SmallInteger.prototype=Object.create(Integer.prototype);function NativeBigInt(t){this.value=t}NativeBigInt.prototype=Object.create(Integer.prototype);function isPrecise(t){return-9007199254740992<t&&t<s}function smallToArray(t){if(t<1e7)return[t];if(t<1e14)return[t%1e7,Math.floor(t/1e7)];return[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function arrayToSmall(t){trim(t);var e=t.length;if(e<4&&compareAbs(t,n)<0){switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*i;default:return t[0]+(t[1]+t[2]*i)*i}}return t}function trim(t){var e=t.length;while(t[--e]===0);t.length=e+1}function createArray(t){var e=new Array(t);var i=-1;while(++i<t){e[i]=0}return e}function truncate2(t){if(t>0)return Math.floor(t);return Math.ceil(t)}function add2(t,e){var r=t.length,s=e.length,n=new Array(r),a=0,o=i,l,h;for(h=0;h<s;h++){l=t[h]+e[h]+a;a=l>=o?1:0;n[h]=l-a*o}while(h<r){l=t[h]+a;a=l===o?1:0;n[h++]=l-a*o}if(a>0)n.push(a);return n}function addAny(t,e){if(t.length>=e.length)return add2(t,e);return add2(e,t)}function addSmall(t,e){var r=t.length,s=new Array(r),n=i,a,o;for(o=0;o<r;o++){a=t[o]-n+e;e=Math.floor(a/n);s[o]=a-e*n;e+=1}while(e>0){s[o++]=e%n;e=Math.floor(e/n)}return s}BigInteger2.prototype.add=function(t){var e=parseValue(t);if(this.sign!==e.sign){return this.subtract(e.negate())}var i=this.value,r=e.value;if(e.isSmall){return new BigInteger2(addSmall(i,Math.abs(r)),this.sign)}return new BigInteger2(addAny(i,r),this.sign)};BigInteger2.prototype.plus=BigInteger2.prototype.add;SmallInteger.prototype.add=function(t){var e=parseValue(t);var i=this.value;if(i<0!==e.sign){return this.subtract(e.negate())}var r=e.value;if(e.isSmall){if(isPrecise(i+r))return new SmallInteger(i+r);r=smallToArray(Math.abs(r))}return new BigInteger2(addSmall(r,Math.abs(i)),i<0)};SmallInteger.prototype.plus=SmallInteger.prototype.add;NativeBigInt.prototype.add=function(t){return new NativeBigInt(this.value+parseValue(t).value)};NativeBigInt.prototype.plus=NativeBigInt.prototype.add;function subtract2(t,e){var r=t.length,s=e.length,n=new Array(r),a=0,o=i,l,h;for(l=0;l<s;l++){h=t[l]-a-e[l];if(h<0){h+=o;a=1}else a=0;n[l]=h}for(l=s;l<r;l++){h=t[l]-a;if(h<0)h+=o;else{n[l++]=h;break}n[l]=h}for(;l<r;l++){n[l]=t[l]}trim(n);return n}function subtractAny(t,e,i){var r;if(compareAbs(t,e)>=0){r=subtract2(t,e)}else{r=subtract2(e,t);i=!i}r=arrayToSmall(r);if(typeof r==="number"){if(i)r=-r;return new SmallInteger(r)}return new BigInteger2(r,i)}function subtractSmall(t,e,r){var s=t.length,n=new Array(s),a=-e,o=i,l,h;for(l=0;l<s;l++){h=t[l]+a;a=Math.floor(h/o);h%=o;n[l]=h<0?h+o:h}n=arrayToSmall(n);if(typeof n==="number"){if(r)n=-n;return new SmallInteger(n)}return new BigInteger2(n,r)}BigInteger2.prototype.subtract=function(t){var e=parseValue(t);if(this.sign!==e.sign){return this.add(e.negate())}var i=this.value,r=e.value;if(e.isSmall)return subtractSmall(i,Math.abs(r),this.sign);return subtractAny(i,r,this.sign)};BigInteger2.prototype.minus=BigInteger2.prototype.subtract;SmallInteger.prototype.subtract=function(t){var e=parseValue(t);var i=this.value;if(i<0!==e.sign){return this.add(e.negate())}var r=e.value;if(e.isSmall){return new SmallInteger(i-r)}return subtractSmall(r,Math.abs(i),i>=0)};SmallInteger.prototype.minus=SmallInteger.prototype.subtract;NativeBigInt.prototype.subtract=function(t){return new NativeBigInt(this.value-parseValue(t).value)};NativeBigInt.prototype.minus=NativeBigInt.prototype.subtract;BigInteger2.prototype.negate=function(){return new BigInteger2(this.value,!this.sign)};SmallInteger.prototype.negate=function(){var t=this.sign;var e=new SmallInteger(-this.value);e.sign=!t;return e};NativeBigInt.prototype.negate=function(){return new NativeBigInt(-this.value)};BigInteger2.prototype.abs=function(){return new BigInteger2(this.value,false)};SmallInteger.prototype.abs=function(){return new SmallInteger(Math.abs(this.value))};NativeBigInt.prototype.abs=function(){return new NativeBigInt(this.value>=0?this.value:-this.value)};function multiplyLong(t,e){var r=t.length,s=e.length,n=r+s,a=createArray(n),o=i,l,h,u,c,f;for(u=0;u<r;++u){c=t[u];for(var d=0;d<s;++d){f=e[d];l=c*f+a[u+d];h=Math.floor(l/o);a[u+d]=l-h*o;a[u+d+1]+=h}}trim(a);return a}function multiplySmall(t,e){var r=t.length,s=new Array(r),n=i,a=0,o,l;for(l=0;l<r;l++){o=t[l]*e+a;a=Math.floor(o/n);s[l]=o-a*n}while(a>0){s[l++]=a%n;a=Math.floor(a/n)}return s}function shiftLeft(t,e){var i=[];while(e-- >0)i.push(0);return i.concat(t)}function multiplyKaratsuba(t,e){var i=Math.max(t.length,e.length);if(i<=30)return multiplyLong(t,e);i=Math.ceil(i/2);var r=t.slice(i),s=t.slice(0,i),n=e.slice(i),a=e.slice(0,i);var o=multiplyKaratsuba(s,a),l=multiplyKaratsuba(r,n),h=multiplyKaratsuba(addAny(s,r),addAny(a,n));var u=addAny(addAny(o,shiftLeft(subtract2(subtract2(h,o),l),i)),shiftLeft(l,2*i));trim(u);return u}function useKaratsuba(t,e){return-.012*t-.012*e+15e-6*t*e>0}BigInteger2.prototype.multiply=function(t){var e=parseValue(t),r=this.value,s=e.value,n=this.sign!==e.sign,a;if(e.isSmall){if(s===0)return Integer[0];if(s===1)return this;if(s===-1)return this.negate();a=Math.abs(s);if(a<i){return new BigInteger2(multiplySmall(r,a),n)}s=smallToArray(a)}if(useKaratsuba(r.length,s.length))return new BigInteger2(multiplyKaratsuba(r,s),n);return new BigInteger2(multiplyLong(r,s),n)};BigInteger2.prototype.times=BigInteger2.prototype.multiply;function multiplySmallAndArray(t,e,r){if(t<i){return new BigInteger2(multiplySmall(e,t),r)}return new BigInteger2(multiplyLong(e,smallToArray(t)),r)}SmallInteger.prototype._multiplyBySmall=function(t){if(isPrecise(t.value*this.value)){return new SmallInteger(t.value*this.value)}return multiplySmallAndArray(Math.abs(t.value),smallToArray(Math.abs(this.value)),this.sign!==t.sign)};BigInteger2.prototype._multiplyBySmall=function(t){if(t.value===0)return Integer[0];if(t.value===1)return this;if(t.value===-1)return this.negate();return multiplySmallAndArray(Math.abs(t.value),this.value,this.sign!==t.sign)};SmallInteger.prototype.multiply=function(t){return parseValue(t)._multiplyBySmall(this)};SmallInteger.prototype.times=SmallInteger.prototype.multiply;NativeBigInt.prototype.multiply=function(t){return new NativeBigInt(this.value*parseValue(t).value)};NativeBigInt.prototype.times=NativeBigInt.prototype.multiply;function square(t){var e=t.length,r=createArray(e+e),s=i,n,a,o,l,h;for(o=0;o<e;o++){l=t[o];a=0-l*l;for(var u=o;u<e;u++){h=t[u];n=2*(l*h)+r[o+u]+a;a=Math.floor(n/s);r[o+u]=n-a*s}r[o+e]=a}trim(r);return r}BigInteger2.prototype.square=function(){return new BigInteger2(square(this.value),false)};SmallInteger.prototype.square=function(){var t=this.value*this.value;if(isPrecise(t))return new SmallInteger(t);return new BigInteger2(square(smallToArray(Math.abs(this.value))),false)};NativeBigInt.prototype.square=function(t){return new NativeBigInt(this.value*this.value)};function divMod1(t,e){var r=t.length,s=e.length,n=i,a=createArray(e.length),o=e[s-1],l=Math.ceil(n/(2*o)),h=multiplySmall(t,l),u=multiplySmall(e,l),c,f,d,v,p,g,m;if(h.length<=r)h.push(0);u.push(0);o=u[s-1];for(f=r-s;f>=0;f--){c=n-1;if(h[f+s]!==o){c=Math.floor((h[f+s]*n+h[f+s-1])/o)}d=0;v=0;g=u.length;for(p=0;p<g;p++){d+=c*u[p];m=Math.floor(d/n);v+=h[f+p]-(d-m*n);d=m;if(v<0){h[f+p]=v+n;v=-1}else{h[f+p]=v;v=0}}while(v!==0){c-=1;d=0;for(p=0;p<g;p++){d+=h[f+p]-n+u[p];if(d<0){h[f+p]=d+n;d=0}else{h[f+p]=d;d=1}}v+=d}a[f]=c}h=divModSmall(h,l)[0];return[arrayToSmall(a),arrayToSmall(h)]}function divMod2(t,e){var r=t.length,s=e.length,n=[],a=[],o=i,l,h,u,c,f;while(r){a.unshift(t[--r]);trim(a);if(compareAbs(a,e)<0){n.push(0);continue}h=a.length;u=a[h-1]*o+a[h-2];c=e[s-1]*o+e[s-2];if(h>s){u=(u+1)*o}l=Math.ceil(u/c);do{f=multiplySmall(e,l);if(compareAbs(f,a)<=0)break;l--}while(l);n.push(l);a=subtract2(a,f)}n.reverse();return[arrayToSmall(n),arrayToSmall(a)]}function divModSmall(t,e){var r=t.length,s=createArray(r),n=i,a,o,l,h;l=0;for(a=r-1;a>=0;--a){h=l*n+t[a];o=truncate2(h/e);l=h-o*e;s[a]=o|0}return[s,l|0]}function divModAny(t,e){var r,s=parseValue(e);if(o){return[new NativeBigInt(t.value/s.value),new NativeBigInt(t.value%s.value)]}var n=t.value,a=s.value;var l;if(a===0)throw new Error("Cannot divide by zero");if(t.isSmall){if(s.isSmall){return[new SmallInteger(truncate2(n/a)),new SmallInteger(n%a)]}return[Integer[0],t]}if(s.isSmall){if(a===1)return[t,Integer[0]];if(a==-1)return[t.negate(),Integer[0]];var h=Math.abs(a);if(h<i){r=divModSmall(n,h);l=arrayToSmall(r[0]);var u=r[1];if(t.sign)u=-u;if(typeof l==="number"){if(t.sign!==s.sign)l=-l;return[new SmallInteger(l),new SmallInteger(u)]}return[new BigInteger2(l,t.sign!==s.sign),new SmallInteger(u)]}a=smallToArray(h)}var c=compareAbs(n,a);if(c===-1)return[Integer[0],t];if(c===0)return[Integer[t.sign===s.sign?1:-1],Integer[0]];if(n.length+a.length<=200)r=divMod1(n,a);else r=divMod2(n,a);l=r[0];var f=t.sign!==s.sign,d=r[1],v=t.sign;if(typeof l==="number"){if(f)l=-l;l=new SmallInteger(l)}else l=new BigInteger2(l,f);if(typeof d==="number"){if(v)d=-d;d=new SmallInteger(d)}else d=new BigInteger2(d,v);return[l,d]}BigInteger2.prototype.divmod=function(t){var e=divModAny(this,t);return{quotient:e[0],remainder:e[1]}};NativeBigInt.prototype.divmod=SmallInteger.prototype.divmod=BigInteger2.prototype.divmod;BigInteger2.prototype.divide=function(t){return divModAny(this,t)[0]};NativeBigInt.prototype.over=NativeBigInt.prototype.divide=function(t){return new NativeBigInt(this.value/parseValue(t).value)};SmallInteger.prototype.over=SmallInteger.prototype.divide=BigInteger2.prototype.over=BigInteger2.prototype.divide;BigInteger2.prototype.mod=function(t){return divModAny(this,t)[1]};NativeBigInt.prototype.mod=NativeBigInt.prototype.remainder=function(t){return new NativeBigInt(this.value%parseValue(t).value)};SmallInteger.prototype.remainder=SmallInteger.prototype.mod=BigInteger2.prototype.remainder=BigInteger2.prototype.mod;BigInteger2.prototype.pow=function(t){var e=parseValue(t),i=this.value,r=e.value,s,n,a;if(r===0)return Integer[1];if(i===0)return Integer[0];if(i===1)return Integer[1];if(i===-1)return e.isEven()?Integer[1]:Integer[-1];if(e.sign){return Integer[0]}if(!e.isSmall)throw new Error("The exponent "+e.toString()+" is too large.");if(this.isSmall){if(isPrecise(s=Math.pow(i,r)))return new SmallInteger(truncate2(s))}n=this;a=Integer[1];while(true){if(r&true){a=a.times(n);--r}if(r===0)break;r/=2;n=n.square()}return a};SmallInteger.prototype.pow=BigInteger2.prototype.pow;NativeBigInt.prototype.pow=function(t){var e=parseValue(t);var i=this.value,r=e.value;var s=BigInt(0),n=BigInt(1),a=BigInt(2);if(r===s)return Integer[1];if(i===s)return Integer[0];if(i===n)return Integer[1];if(i===BigInt(-1))return e.isEven()?Integer[1]:Integer[-1];if(e.isNegative())return new NativeBigInt(s);var o=this;var l=Integer[1];while(true){if((r&n)===n){l=l.times(o);--r}if(r===s)break;r/=a;o=o.square()}return l};BigInteger2.prototype.modPow=function(t,e){t=parseValue(t);e=parseValue(e);if(e.isZero())throw new Error("Cannot take modPow with modulus 0");var i=Integer[1],r=this.mod(e);if(t.isNegative()){t=t.multiply(Integer[-1]);r=r.modInv(e)}while(t.isPositive()){if(r.isZero())return Integer[0];if(t.isOdd())i=i.multiply(r).mod(e);t=t.divide(2);r=r.square().mod(e)}return i};NativeBigInt.prototype.modPow=SmallInteger.prototype.modPow=BigInteger2.prototype.modPow;function compareAbs(t,e){if(t.length!==e.length){return t.length>e.length?1:-1}for(var i=t.length-1;i>=0;i--){if(t[i]!==e[i])return t[i]>e[i]?1:-1}return 0}BigInteger2.prototype.compareAbs=function(t){var e=parseValue(t),i=this.value,r=e.value;if(e.isSmall)return 1;return compareAbs(i,r)};SmallInteger.prototype.compareAbs=function(t){var e=parseValue(t),i=Math.abs(this.value),r=e.value;if(e.isSmall){r=Math.abs(r);return i===r?0:i>r?1:-1}return-1};NativeBigInt.prototype.compareAbs=function(t){var e=this.value;var i=parseValue(t).value;e=e>=0?e:-e;i=i>=0?i:-i;return e===i?0:e>i?1:-1};BigInteger2.prototype.compare=function(t){if(t===Infinity){return-1}if(t===-Infinity){return 1}var e=parseValue(t),i=this.value,r=e.value;if(this.sign!==e.sign){return e.sign?1:-1}if(e.isSmall){return this.sign?-1:1}return compareAbs(i,r)*(this.sign?-1:1)};BigInteger2.prototype.compareTo=BigInteger2.prototype.compare;SmallInteger.prototype.compare=function(t){if(t===Infinity){return-1}if(t===-Infinity){return 1}var e=parseValue(t),i=this.value,r=e.value;if(e.isSmall){return i==r?0:i>r?1:-1}if(i<0!==e.sign){return i<0?-1:1}return i<0?1:-1};SmallInteger.prototype.compareTo=SmallInteger.prototype.compare;NativeBigInt.prototype.compare=function(t){if(t===Infinity){return-1}if(t===-Infinity){return 1}var e=this.value;var i=parseValue(t).value;return e===i?0:e>i?1:-1};NativeBigInt.prototype.compareTo=NativeBigInt.prototype.compare;BigInteger2.prototype.equals=function(t){return this.compare(t)===0};NativeBigInt.prototype.eq=NativeBigInt.prototype.equals=SmallInteger.prototype.eq=SmallInteger.prototype.equals=BigInteger2.prototype.eq=BigInteger2.prototype.equals;BigInteger2.prototype.notEquals=function(t){return this.compare(t)!==0};NativeBigInt.prototype.neq=NativeBigInt.prototype.notEquals=SmallInteger.prototype.neq=SmallInteger.prototype.notEquals=BigInteger2.prototype.neq=BigInteger2.prototype.notEquals;BigInteger2.prototype.greater=function(t){return this.compare(t)>0};NativeBigInt.prototype.gt=NativeBigInt.prototype.greater=SmallInteger.prototype.gt=SmallInteger.prototype.greater=BigInteger2.prototype.gt=BigInteger2.prototype.greater;BigInteger2.prototype.lesser=function(t){return this.compare(t)<0};NativeBigInt.prototype.lt=NativeBigInt.prototype.lesser=SmallInteger.prototype.lt=SmallInteger.prototype.lesser=BigInteger2.prototype.lt=BigInteger2.prototype.lesser;BigInteger2.prototype.greaterOrEquals=function(t){return this.compare(t)>=0};NativeBigInt.prototype.geq=NativeBigInt.prototype.greaterOrEquals=SmallInteger.prototype.geq=SmallInteger.prototype.greaterOrEquals=BigInteger2.prototype.geq=BigInteger2.prototype.greaterOrEquals;BigInteger2.prototype.lesserOrEquals=function(t){return this.compare(t)<=0};NativeBigInt.prototype.leq=NativeBigInt.prototype.lesserOrEquals=SmallInteger.prototype.leq=SmallInteger.prototype.lesserOrEquals=BigInteger2.prototype.leq=BigInteger2.prototype.lesserOrEquals;BigInteger2.prototype.isEven=function(){return(this.value[0]&1)===0};SmallInteger.prototype.isEven=function(){return(this.value&1)===0};NativeBigInt.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)};BigInteger2.prototype.isOdd=function(){return(this.value[0]&1)===1};SmallInteger.prototype.isOdd=function(){return(this.value&1)===1};NativeBigInt.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)};BigInteger2.prototype.isPositive=function(){return!this.sign};SmallInteger.prototype.isPositive=function(){return this.value>0};NativeBigInt.prototype.isPositive=SmallInteger.prototype.isPositive;BigInteger2.prototype.isNegative=function(){return this.sign};SmallInteger.prototype.isNegative=function(){return this.value<0};NativeBigInt.prototype.isNegative=SmallInteger.prototype.isNegative;BigInteger2.prototype.isUnit=function(){return false};SmallInteger.prototype.isUnit=function(){return Math.abs(this.value)===1};NativeBigInt.prototype.isUnit=function(){return this.abs().value===BigInt(1)};BigInteger2.prototype.isZero=function(){return false};SmallInteger.prototype.isZero=function(){return this.value===0};NativeBigInt.prototype.isZero=function(){return this.value===BigInt(0)};BigInteger2.prototype.isDivisibleBy=function(t){var e=parseValue(t);if(e.isZero())return false;if(e.isUnit())return true;if(e.compareAbs(2)===0)return this.isEven();return this.mod(e).isZero()};NativeBigInt.prototype.isDivisibleBy=SmallInteger.prototype.isDivisibleBy=BigInteger2.prototype.isDivisibleBy;function isBasicPrime(t){var e=t.abs();if(e.isUnit())return false;if(e.equals(2)||e.equals(3)||e.equals(5))return true;if(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))return false;if(e.lesser(49))return true}function millerRabinTest(t,i){var r=t.prev(),s=r,n=0,a,o,l;while(s.isEven())s=s.divide(2),n++;t:for(o=0;o<i.length;o++){if(t.lesser(i[o]))continue;l=e(i[o]).modPow(s,t);if(l.isUnit()||l.equals(r))continue;for(a=n-1;a!=0;a--){l=l.square().mod(t);if(l.isUnit())return false;if(l.equals(r))continue t}return false}return true}BigInteger2.prototype.isPrime=function(i){var r=isBasicPrime(this);if(r!==t)return r;var s=this.abs();var n=s.bitLength();if(n<=64)return millerRabinTest(s,[2,3,5,7,11,13,17,19,23,29,31,37]);var a=Math.log(2)*n.toJSNumber();var o=Math.ceil(i===true?2*Math.pow(a,2):a);for(var l=[],h=0;h<o;h++){l.push(e(h+2))}return millerRabinTest(s,l)};NativeBigInt.prototype.isPrime=SmallInteger.prototype.isPrime=BigInteger2.prototype.isPrime;BigInteger2.prototype.isProbablePrime=function(i,r){var s=isBasicPrime(this);if(s!==t)return s;var n=this.abs();var a=i===t?5:i;for(var o=[],l=0;l<a;l++){o.push(e.randBetween(2,n.minus(2),r))}return millerRabinTest(n,o)};NativeBigInt.prototype.isProbablePrime=SmallInteger.prototype.isProbablePrime=BigInteger2.prototype.isProbablePrime;BigInteger2.prototype.modInv=function(t){var i=e.zero,r=e.one,s=parseValue(t),n=this.abs(),a,o,l;while(!n.isZero()){a=s.divide(n);o=i;l=s;i=r;s=n;r=o.subtract(a.multiply(r));n=l.subtract(a.multiply(n))}if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");if(i.compare(0)===-1){i=i.add(t)}if(this.isNegative()){return i.negate()}return i};NativeBigInt.prototype.modInv=SmallInteger.prototype.modInv=BigInteger2.prototype.modInv;BigInteger2.prototype.next=function(){var t=this.value;if(this.sign){return subtractSmall(t,1,this.sign)}return new BigInteger2(addSmall(t,1),this.sign)};SmallInteger.prototype.next=function(){var t=this.value;if(t+1<s)return new SmallInteger(t+1);return new BigInteger2(n,false)};NativeBigInt.prototype.next=function(){return new NativeBigInt(this.value+BigInt(1))};BigInteger2.prototype.prev=function(){var t=this.value;if(this.sign){return new BigInteger2(addSmall(t,1),true)}return subtractSmall(t,1,this.sign)};SmallInteger.prototype.prev=function(){var t=this.value;if(t-1>-9007199254740992)return new SmallInteger(t-1);return new BigInteger2(n,true)};NativeBigInt.prototype.prev=function(){return new NativeBigInt(this.value-BigInt(1))};var l=[1];while(2*l[l.length-1]<=i)l.push(2*l[l.length-1]);var h=l.length,u=l[h-1];function shift_isSmall(t){return Math.abs(t)<=i}BigInteger2.prototype.shiftLeft=function(t){var e=parseValue(t).toJSNumber();if(!shift_isSmall(e)){throw new Error(String(e)+" is too large for shifting.")}if(e<0)return this.shiftRight(-e);var i=this;if(i.isZero())return i;while(e>=h){i=i.multiply(u);e-=h-1}return i.multiply(l[e])};NativeBigInt.prototype.shiftLeft=SmallInteger.prototype.shiftLeft=BigInteger2.prototype.shiftLeft;BigInteger2.prototype.shiftRight=function(t){var e;var i=parseValue(t).toJSNumber();if(!shift_isSmall(i)){throw new Error(String(i)+" is too large for shifting.")}if(i<0)return this.shiftLeft(-i);var r=this;while(i>=h){if(r.isZero()||r.isNegative()&&r.isUnit())return r;e=divModAny(r,u);r=e[1].isNegative()?e[0].prev():e[0];i-=h-1}e=divModAny(r,l[i]);return e[1].isNegative()?e[0].prev():e[0]};NativeBigInt.prototype.shiftRight=SmallInteger.prototype.shiftRight=BigInteger2.prototype.shiftRight;function bitwise(t,i,r){i=parseValue(i);var s=t.isNegative(),n=i.isNegative();var a=s?t.not():t,o=n?i.not():i;var l=0,h=0;var c=null,f=null;var d=[];while(!a.isZero()||!o.isZero()){c=divModAny(a,u);l=c[1].toJSNumber();if(s){l=u-1-l}f=divModAny(o,u);h=f[1].toJSNumber();if(n){h=u-1-h}a=c[0];o=f[0];d.push(r(l,h))}var v=r(s?1:0,n?1:0)!==0?e(-1):e(0);for(var p=d.length-1;p>=0;p-=1){v=v.multiply(u).add(e(d[p]))}return v}BigInteger2.prototype.not=function(){return this.negate().prev()};NativeBigInt.prototype.not=SmallInteger.prototype.not=BigInteger2.prototype.not;BigInteger2.prototype.and=function(t){return bitwise(this,t,(function(t,e){return t&e}))};NativeBigInt.prototype.and=SmallInteger.prototype.and=BigInteger2.prototype.and;BigInteger2.prototype.or=function(t){return bitwise(this,t,(function(t,e){return t|e}))};NativeBigInt.prototype.or=SmallInteger.prototype.or=BigInteger2.prototype.or;BigInteger2.prototype.xor=function(t){return bitwise(this,t,(function(t,e){return t^e}))};NativeBigInt.prototype.xor=SmallInteger.prototype.xor=BigInteger2.prototype.xor;var c=1<<30,f=(i&-1e7)*(i&-1e7)|c;function roughLOB(t){var e=t.value,r=typeof e==="number"?e|c:typeof e==="bigint"?e|BigInt(c):e[0]+e[1]*i|f;return r&-r}function integerLogarithm(t,i){if(i.compareTo(t)<=0){var r=integerLogarithm(t,i.square(i));var s=r.p;var n=r.e;var a=s.multiply(i);return a.compareTo(t)<=0?{p:a,e:n*2+1}:{p:s,e:n*2}}return{p:e(1),e:0}}BigInteger2.prototype.bitLength=function(){var t=this;if(t.compareTo(e(0))<0){t=t.negate().subtract(e(1))}if(t.compareTo(e(0))===0){return e(0)}return e(integerLogarithm(t,e(2)).e).add(e(1))};NativeBigInt.prototype.bitLength=SmallInteger.prototype.bitLength=BigInteger2.prototype.bitLength;function max(t,e){t=parseValue(t);e=parseValue(e);return t.greater(e)?t:e}function min(t,e){t=parseValue(t);e=parseValue(e);return t.lesser(e)?t:e}function gcd(t,e){t=parseValue(t).abs();e=parseValue(e).abs();if(t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;var i=Integer[1],r,s;while(t.isEven()&&e.isEven()){r=min(roughLOB(t),roughLOB(e));t=t.divide(r);e=e.divide(r);i=i.multiply(r)}while(t.isEven()){t=t.divide(roughLOB(t))}do{while(e.isEven()){e=e.divide(roughLOB(e))}if(t.greater(e)){s=e;e=t;t=s}e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}function lcm(t,e){t=parseValue(t).abs();e=parseValue(e).abs();return t.divide(gcd(t,e)).multiply(e)}function randBetween(t,e,r){t=parseValue(t);e=parseValue(e);var s=r||Math.random;var n=min(t,e),a=max(t,e);var o=a.subtract(n).add(1);if(o.isSmall)return n.add(Math.floor(s()*o));var l=toBase(o,i).value;var h=[],u=true;for(var c=0;c<l.length;c++){var f=u?l[c]+(c+1<l.length?l[c+1]/i:0):i;var d=truncate2(s()*f);h.push(d);if(d<l[c])u=false}return n.add(Integer.fromArray(h,i,false))}var parseBase=function(t,e,i,r){i=i||a;t=String(t);if(!r){t=t.toLowerCase();i=i.toLowerCase()}var s=t.length;var n;var o=Math.abs(e);var l={};for(n=0;n<i.length;n++){l[i[n]]=n}for(n=0;n<s;n++){var h=t[n];if(h==="-")continue;if(h in l){if(l[h]>=o){if(h==="1"&&o===1)continue;throw new Error(h+" is not a valid digit in base "+e+".")}}}e=parseValue(e);var u=[];var c=t[0]==="-";for(n=c?1:0;n<t.length;n++){var h=t[n];if(h in l)u.push(parseValue(l[h]));else if(h==="<"){var f=n;do{n++}while(t[n]!==">"&&n<t.length);u.push(parseValue(t.slice(f+1,n)))}else throw new Error(h+" is not a valid character")}return parseBaseFromArray(u,e,c)};function parseBaseFromArray(t,e,i){var r=Integer[0],s=Integer[1],n;for(n=t.length-1;n>=0;n--){r=r.add(t[n].times(s));s=s.times(e)}return i?r.negate():r}function stringify(t,e){e=e||a;if(t<e.length){return e[t]}return"<"+t+">"}function toBase(t,i){i=e(i);if(i.isZero()){if(t.isZero())return{value:[0],isNegative:false};throw new Error("Cannot convert nonzero numbers to base 0.")}if(i.equals(-1)){if(t.isZero())return{value:[0],isNegative:false};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:false};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);r.unshift([1]);return{value:[].concat.apply([],r),isNegative:false}}var s=false;if(t.isNegative()&&i.isPositive()){s=true;t=t.abs()}if(i.isUnit()){if(t.isZero())return{value:[0],isNegative:false};return{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:s}}var n=[];var a=t,o;while(a.isNegative()||a.compareAbs(i)>=0){o=a.divmod(i);a=o.quotient;var l=o.remainder;if(l.isNegative()){l=i.minus(l).abs();a=a.next()}n.push(l.toJSNumber())}n.push(a.toJSNumber());return{value:n.reverse(),isNegative:s}}function toBaseString(t,e,i){var r=toBase(t,e);return(r.isNegative?"-":"")+r.value.map((function(t){return stringify(t,i)})).join("")}BigInteger2.prototype.toArray=function(t){return toBase(this,t)};SmallInteger.prototype.toArray=function(t){return toBase(this,t)};NativeBigInt.prototype.toArray=function(t){return toBase(this,t)};BigInteger2.prototype.toString=function(e,i){if(e===t)e=10;if(e!==10||i)return toBaseString(this,e,i);var r=this.value,s=r.length,n=String(r[--s]),a="0000000",o;while(--s>=0){o=String(r[s]);n+=a.slice(o.length)+o}var l=this.sign?"-":"";return l+n};SmallInteger.prototype.toString=function(e,i){if(e===t)e=10;if(e!=10||i)return toBaseString(this,e,i);return String(this.value)};NativeBigInt.prototype.toString=SmallInteger.prototype.toString;NativeBigInt.prototype.toJSON=BigInteger2.prototype.toJSON=SmallInteger.prototype.toJSON=function(){return this.toString()};BigInteger2.prototype.valueOf=function(){return parseInt(this.toString(),10)};BigInteger2.prototype.toJSNumber=BigInteger2.prototype.valueOf;SmallInteger.prototype.valueOf=function(){return this.value};SmallInteger.prototype.toJSNumber=SmallInteger.prototype.valueOf;NativeBigInt.prototype.valueOf=NativeBigInt.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function parseStringValue(t){if(isPrecise(+t)){var e=+t;if(e===truncate2(e))return o?new NativeBigInt(BigInt(e)):new SmallInteger(e);throw new Error("Invalid integer: "+t)}var i=t[0]==="-";if(i)t=t.slice(1);var s=t.split(/e/i);if(s.length>2)throw new Error("Invalid integer: "+s.join("e"));if(s.length===2){var n=s[1];if(n[0]==="+")n=n.slice(1);n=+n;if(n!==truncate2(n)||!isPrecise(n))throw new Error("Invalid integer: "+n+" is not a valid exponent.");var a=s[0];var l=a.indexOf(".");if(l>=0){n-=a.length-l-1;a=a.slice(0,l)+a.slice(l+1)}if(n<0)throw new Error("Cannot include negative exponent part for integers");a+=new Array(n+1).join("0");t=a}var h=/^([0-9][0-9]*)$/.test(t);if(!h)throw new Error("Invalid integer: "+t);if(o){return new NativeBigInt(BigInt(i?"-"+t:t))}var u=[],c=t.length,f=r,d=c-f;while(c>0){u.push(+t.slice(d,c));d-=f;if(d<0)d=0;c-=f}trim(u);return new BigInteger2(u,i)}function parseNumberValue(t){if(o){return new NativeBigInt(BigInt(t))}if(isPrecise(t)){if(t!==truncate2(t))throw new Error(t+" is not an integer.");return new SmallInteger(t)}return parseStringValue(t.toString())}function parseValue(t){if(typeof t==="number"){return parseNumberValue(t)}if(typeof t==="string"){return parseStringValue(t)}if(typeof t==="bigint"){return new NativeBigInt(t)}return t}for(var d=0;d<1e3;d++){Integer[d]=parseValue(d);if(d>0)Integer[-d]=parseValue(-d)}Integer.one=Integer[1];Integer.zero=Integer[0];Integer.minusOne=Integer[-1];Integer.max=max;Integer.min=min;Integer.gcd=gcd;Integer.lcm=lcm;Integer.isInstance=function(t){return t instanceof BigInteger2||t instanceof SmallInteger||t instanceof NativeBigInt};Integer.randBetween=randBetween;Integer.fromArray=function(t,e,i){return parseBaseFromArray(t.map(parseValue),parseValue(e||10),i)};return Integer}();if(t.hasOwnProperty("exports")){t.exports=e}})(St);return St.exports}var At=requireBigInteger();var Ct=getDefaultExportFromCjs(At);const Ot=64;const Pt=16;const It=Ot/Pt;function checkBrowserSupportsBigInt(){try{BigInt;return true}catch(t){return false}}function fromHexReverseArray(t,e,i){let r=0;for(let s=0;s<i;s++){const i=t[e+s];if(i===void 0){break}r+=i*16**s}return r}function toHexReverseArray(t){const e=[];for(let i=0;i<t.length;i++){let r=Number(t[i]);for(let t=0;r||t<e.length;t++){r+=(e[t]||0)*10;e[t]=r%16;r=(r-e[t])/16}}return e}function splitBigInt(t){const e=toHexReverseArray(t);const i=Array(It);for(let r=0;r<It;r++){i[It-1-r]=fromHexReverseArray(e,r*It,It)}return i}class HighLow{static fromString(t){return new HighLow(splitBigInt(t),t)}static fromBit(t){const e=Array(It);const i=Math.floor(t/Pt);for(let r=0;r<It;r++){e[It-1-r]=r===i?1<<t-i*Pt:0}return new HighLow(e)}constructor(t,e){this.parts=t;this.str=e}and({parts:t}){return new HighLow(this.parts.map(((e,i)=>e&t[i])))}or({parts:t}){return new HighLow(this.parts.map(((e,i)=>e|t[i])))}xor({parts:t}){return new HighLow(this.parts.map(((e,i)=>e^t[i])))}not(){return new HighLow(this.parts.map((t=>~t)))}equals({parts:t}){return this.parts.every(((e,i)=>e===t[i]))}toString(){if(this.str!=null){return this.str}const t=new Array(Ot/4);this.parts.forEach(((e,i)=>{const r=toHexReverseArray(e.toString());for(let s=0;s<4;s++){t[s+i*4]=r[4-1-s]||0}}));return this.str=Ct.fromArray(t,16).toString()}toJSON(){return this.toString()}}const Rt=checkBrowserSupportsBigInt();if(Rt&&BigInt.prototype.toJSON==null){BigInt.prototype.toJSON=function(){return this.toString()}}const Mt={};const Lt=Rt?function convertToBigFlagBigInt(t){return BigInt(t)}:function convertToBigFlagHighLow(t){if(t instanceof HighLow){return t}if(typeof t==="number"){t=t.toString()}if(Mt[t]!=null){return Mt[t]}Mt[t]=HighLow.fromString(t);return Mt[t]};const Dt=Lt(0);const kt=Rt?function flagAndBigInt(t=Dt,e=Dt){return t&e}:function flagAndHighLow(t=Dt,e=Dt){return t.and(e)};const Ft=Rt?function flagOrBigInt(t=Dt,e=Dt){return t|e}:function flagOrHighLow(t=Dt,e=Dt){return t.or(e)};const Bt=Rt?function flagXorBigInt(t=Dt,e=Dt){return t^e}:function flagXorHighLow(t=Dt,e=Dt){return t.xor(e)};const Nt=Rt?function flagNotBigInt(t=Dt){return~t}:function flagNotHighLow(t=Dt){return t.not()};const Ut=Rt?function flagEqualsBigInt(t,e){return t===e}:function flagEqualsHighLow(t,e){if(t==null||e==null){return t==e}return t.equals(e)};function flagOrMultiple(...t){let e=t[0];for(let i=1;i<t.length;i++){e=Ft(e,t[i])}return e}function flagHas(t,e){return Ut(kt(t,e),e)}function flagHasAny(t,e){return!Ut(kt(t,e),Dt)}function flagAdd(t,e){return e===Dt?t:Ft(t,e)}function flagRemove(t,e){return e===Dt?t:Bt(t,kt(t,e))}const zt=Rt?function getFlagBigInt(t){return BigInt(1)<<BigInt(t)}:function getFlagHighLow(t){return HighLow.fromBit(t)};var Vt={combine:flagOrMultiple,add:flagAdd,remove:flagRemove,filter:kt,invert:Nt,has:flagHas,hasAny:flagHasAny,equals:Ut,deserialize:Lt,getFlag:zt};var Gt;(function(t){t[t["CLOSE_NORMAL"]=1e3]="CLOSE_NORMAL";t[t["CLOSE_UNSUPPORTED"]=1003]="CLOSE_UNSUPPORTED";t[t["CLOSE_ABNORMAL"]=1006]="CLOSE_ABNORMAL";t[t["INVALID_CLIENTID"]=4e3]="INVALID_CLIENTID";t[t["INVALID_ORIGIN"]=4001]="INVALID_ORIGIN";t[t["RATELIMITED"]=4002]="RATELIMITED";t[t["TOKEN_REVOKED"]=4003]="TOKEN_REVOKED";t[t["INVALID_VERSION"]=4004]="INVALID_VERSION";t[t["INVALID_ENCODING"]=4005]="INVALID_ENCODING"})(Gt||(Gt={}));var Xt;(function(t){t[t["INVALID_PAYLOAD"]=4e3]="INVALID_PAYLOAD";t[t["INVALID_COMMAND"]=4002]="INVALID_COMMAND";t[t["INVALID_EVENT"]=4004]="INVALID_EVENT";t[t["INVALID_PERMISSIONS"]=4006]="INVALID_PERMISSIONS"})(Xt||(Xt={}));var Yt;(function(t){t["LANDSCAPE"]="landscape";t["PORTRAIT"]="portrait"})(Yt||(Yt={}));var Ht;(function(t){t["MOBILE"]="mobile";t["DESKTOP"]="desktop"})(Ht||(Ht={}));Object.freeze({CREATE_INSTANT_INVITE:Vt.getFlag(0),KICK_MEMBERS:Vt.getFlag(1),BAN_MEMBERS:Vt.getFlag(2),ADMINISTRATOR:Vt.getFlag(3),MANAGE_CHANNELS:Vt.getFlag(4),MANAGE_GUILD:Vt.getFlag(5),ADD_REACTIONS:Vt.getFlag(6),VIEW_AUDIT_LOG:Vt.getFlag(7),PRIORITY_SPEAKER:Vt.getFlag(8),STREAM:Vt.getFlag(9),VIEW_CHANNEL:Vt.getFlag(10),SEND_MESSAGES:Vt.getFlag(11),SEND_TTS_MESSAGES:Vt.getFlag(12),MANAGE_MESSAGES:Vt.getFlag(13),EMBED_LINKS:Vt.getFlag(14),ATTACH_FILES:Vt.getFlag(15),READ_MESSAGE_HISTORY:Vt.getFlag(16),MENTION_EVERYONE:Vt.getFlag(17),USE_EXTERNAL_EMOJIS:Vt.getFlag(18),VIEW_GUILD_INSIGHTS:Vt.getFlag(19),CONNECT:Vt.getFlag(20),SPEAK:Vt.getFlag(21),MUTE_MEMBERS:Vt.getFlag(22),DEAFEN_MEMBERS:Vt.getFlag(23),MOVE_MEMBERS:Vt.getFlag(24),USE_VAD:Vt.getFlag(25),CHANGE_NICKNAME:Vt.getFlag(26),MANAGE_NICKNAMES:Vt.getFlag(27),MANAGE_ROLES:Vt.getFlag(28),MANAGE_WEBHOOKS:Vt.getFlag(29),MANAGE_GUILD_EXPRESSIONS:Vt.getFlag(30),USE_APPLICATION_COMMANDS:Vt.getFlag(31),REQUEST_TO_SPEAK:Vt.getFlag(32),MANAGE_EVENTS:Vt.getFlag(33),MANAGE_THREADS:Vt.getFlag(34),CREATE_PUBLIC_THREADS:Vt.getFlag(35),CREATE_PRIVATE_THREADS:Vt.getFlag(36),USE_EXTERNAL_STICKERS:Vt.getFlag(37),SEND_MESSAGES_IN_THREADS:Vt.getFlag(38),USE_EMBEDDED_ACTIVITIES:Vt.getFlag(39),MODERATE_MEMBERS:Vt.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:Vt.getFlag(41),USE_SOUNDBOARD:Vt.getFlag(42),CREATE_GUILD_EXPRESSIONS:Vt.getFlag(43),CREATE_EVENTS:Vt.getFlag(44),USE_EXTERNAL_SOUNDS:Vt.getFlag(45),SEND_VOICE_MESSAGES:Vt.getFlag(46),SEND_POLLS:Vt.getFlag(49),USE_EXTERNAL_APPS:Vt.getFlag(50)});const Wt=-1;const jt=250;function zodCoerceUnhandledValue(t){return xt((e=>{var i;const[r]=(i=Object.entries(t).find((([,t])=>t===e)))!==null&&i!==void 0?i:[];if(e!=null&&r===void 0){return t.UNHANDLED}return e}),z().or(V()))}function fallbackToDefault(t){const e=custom().transform((e=>{const i=t.safeParse(e);if(i.success){return i.data}return t._def.defaultValue()}));e.overlayType=t;return e}const Zt=Et.object({image_url:Et.string()});const $t=Et.object({mediaUrl:Et.string().max(1024)});const qt=Et.object({access_token:Et.union([Et.string(),Et.null()]).optional()});const Kt=Et.object({access_token:Et.string(),user:Et.object({username:Et.string(),discriminator:Et.string(),id:Et.string(),avatar:Et.union([Et.string(),Et.null()]).optional(),public_flags:Et.number(),global_name:Et.union([Et.string(),Et.null()]).optional()}),scopes:Et.array(fallbackToDefault(Et.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(Et.literal(-1)).default(-1))),expires:Et.string(),application:Et.object({description:Et.string(),icon:Et.union([Et.string(),Et.null()]).optional(),id:Et.string(),rpc_origins:Et.array(Et.string()).optional(),name:Et.string()})});const Jt=Et.object({participants:Et.array(Et.object({id:Et.string(),username:Et.string(),global_name:Et.union([Et.string(),Et.null()]).optional(),discriminator:Et.string(),avatar:Et.union([Et.string(),Et.null()]).optional(),flags:Et.number(),bot:Et.boolean(),avatar_decoration_data:Et.union([Et.object({asset:Et.string(),skuId:Et.string().optional()}),Et.null()]).optional(),premium_type:Et.union([Et.number(),Et.null()]).optional(),nickname:Et.string().optional()}))});const Qt=Et.object({command:Et.string(),content:Et.string().max(2e3).optional(),preview_image:Et.object({height:Et.number(),url:Et.string(),width:Et.number()}).optional(),components:Et.array(Et.object({type:Et.literal(1),components:Et.array(Et.object({type:Et.literal(2),style:Et.number().gte(1).lte(5),label:Et.string().max(80).optional(),custom_id:Et.string().max(100).describe("Developer-defined identifier for the button; max 100 characters").optional()})).max(5).optional()})).optional()});const te=Et.object({referrer_id:Et.string().max(64).optional(),custom_id:Et.string().max(64).optional(),message:Et.string().max(1e3)});const ee=Et.object({success:Et.boolean()});var ie;(function(t){t["INITIATE_IMAGE_UPLOAD"]="INITIATE_IMAGE_UPLOAD";t["OPEN_SHARE_MOMENT_DIALOG"]="OPEN_SHARE_MOMENT_DIALOG";t["AUTHENTICATE"]="AUTHENTICATE";t["GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"]="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS";t["SHARE_INTERACTION"]="SHARE_INTERACTION";t["SHARE_LINK"]="SHARE_LINK"})(ie||(ie={}));const re=Et.object({}).optional().nullable();const se=Et.void();const ne={[ie.INITIATE_IMAGE_UPLOAD]:{request:se,response:Zt},[ie.OPEN_SHARE_MOMENT_DIALOG]:{request:$t,response:re},[ie.AUTHENTICATE]:{request:qt,response:Kt},[ie.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:se,response:Jt},[ie.SHARE_INTERACTION]:{request:Qt,response:re},[ie.SHARE_LINK]:{request:te,response:ee}};const ae="DISPATCH";var oe;(function(t){t["AUTHORIZE"]="AUTHORIZE";t["AUTHENTICATE"]="AUTHENTICATE";t["GET_GUILDS"]="GET_GUILDS";t["GET_GUILD"]="GET_GUILD";t["GET_CHANNEL"]="GET_CHANNEL";t["GET_CHANNELS"]="GET_CHANNELS";t["SELECT_VOICE_CHANNEL"]="SELECT_VOICE_CHANNEL";t["SELECT_TEXT_CHANNEL"]="SELECT_TEXT_CHANNEL";t["SUBSCRIBE"]="SUBSCRIBE";t["UNSUBSCRIBE"]="UNSUBSCRIBE";t["CAPTURE_SHORTCUT"]="CAPTURE_SHORTCUT";t["SET_CERTIFIED_DEVICES"]="SET_CERTIFIED_DEVICES";t["SET_ACTIVITY"]="SET_ACTIVITY";t["GET_SKUS"]="GET_SKUS";t["GET_ENTITLEMENTS"]="GET_ENTITLEMENTS";t["GET_SKUS_EMBEDDED"]="GET_SKUS_EMBEDDED";t["GET_ENTITLEMENTS_EMBEDDED"]="GET_ENTITLEMENTS_EMBEDDED";t["START_PURCHASE"]="START_PURCHASE";t["SET_CONFIG"]="SET_CONFIG";t["SEND_ANALYTICS_EVENT"]="SEND_ANALYTICS_EVENT";t["USER_SETTINGS_GET_LOCALE"]="USER_SETTINGS_GET_LOCALE";t["OPEN_EXTERNAL_LINK"]="OPEN_EXTERNAL_LINK";t["ENCOURAGE_HW_ACCELERATION"]="ENCOURAGE_HW_ACCELERATION";t["CAPTURE_LOG"]="CAPTURE_LOG";t["SET_ORIENTATION_LOCK_STATE"]="SET_ORIENTATION_LOCK_STATE";t["OPEN_INVITE_DIALOG"]="OPEN_INVITE_DIALOG";t["GET_PLATFORM_BEHAVIORS"]="GET_PLATFORM_BEHAVIORS";t["GET_CHANNEL_PERMISSIONS"]="GET_CHANNEL_PERMISSIONS";t["OPEN_SHARE_MOMENT_DIALOG"]="OPEN_SHARE_MOMENT_DIALOG";t["INITIATE_IMAGE_UPLOAD"]="INITIATE_IMAGE_UPLOAD";t["GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"]="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS";t["SHARE_LINK"]="SHARE_LINK"})(oe||(oe={}));const le=et({cmd:z(),data:K(),evt:Z(),nonce:z()}).passthrough();const he=Object.assign(Object.assign({},Kt.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});zodCoerceUnhandledValue(he);const ue=et({id:z(),username:z(),discriminator:z(),global_name:z().optional().nullable(),avatar:z().optional().nullable(),avatar_decoration_data:et({asset:z(),sku_id:z().optional()}).nullable(),bot:Y(),flags:V().optional().nullable(),premium_type:V().optional().nullable()});const ce=et({user:ue,nick:z().optional().nullable(),roles:tt(z()),joined_at:z(),deaf:Y(),mute:Y()});const fe=et({user_id:z(),nick:z().optional().nullable(),guild_id:z(),avatar:z().optional().nullable(),avatar_decoration_data:et({asset:z(),sku_id:z().optional().nullable()}).optional().nullable(),color_string:z().optional().nullable()});const de=et({id:z(),name:z().optional().nullable(),roles:tt(z()).optional().nullable(),user:ue.optional().nullable(),require_colons:Y().optional().nullable(),managed:Y().optional().nullable(),animated:Y().optional().nullable(),available:Y().optional().nullable()});const ve=et({mute:Y(),deaf:Y(),self_mute:Y(),self_deaf:Y(),suppress:Y()});const pe=et({mute:Y(),nick:z(),user:ue,voice_state:ve,volume:V()});const ge={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"};const me=zodCoerceUnhandledValue(ge);const ye=et({name:z(),type:V(),url:z().optional().nullable(),created_at:V().optional().nullable(),timestamps:et({start:V(),end:V()}).partial().optional().nullable(),application_id:z().optional().nullable(),details:z().optional().nullable(),state:z().optional().nullable(),emoji:de.optional().nullable(),party:et({id:z().optional().nullable(),size:tt(V()).optional().nullable()}).optional().nullable(),assets:et({large_image:z().nullable(),large_text:z().nullable(),small_image:z().nullable(),small_text:z().nullable()}).partial().optional().nullable(),secrets:et({join:z(),match:z()}).partial().optional().nullable(),instance:Y().optional().nullable(),flags:V().optional().nullable()});const xe={UNHANDLED:-1,ROLE:0,MEMBER:1};const be=et({id:z(),type:zodCoerceUnhandledValue(xe),allow:z(),deny:z()});const Te={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15};const we=et({id:z(),type:zodCoerceUnhandledValue(Te),guild_id:z().optional().nullable(),position:V().optional().nullable(),permission_overwrites:tt(be).optional().nullable(),name:z().optional().nullable(),topic:z().optional().nullable(),nsfw:Y().optional().nullable(),last_message_id:z().optional().nullable(),bitrate:V().optional().nullable(),user_limit:V().optional().nullable(),rate_limit_per_user:V().optional().nullable(),recipients:tt(ue).optional().nullable(),icon:z().optional().nullable(),owner_id:z().optional().nullable(),application_id:z().optional().nullable(),parent_id:z().optional().nullable(),last_pin_timestamp:z().optional().nullable()});const Ee=et({user:ue,guild_id:z(),status:me,activities:tt(ye),client_status:et({desktop:me,mobile:me,web:me}).partial()});const Se=et({id:z(),name:z(),color:V(),hoist:Y(),position:V(),permissions:z(),managed:Y(),mentionable:Y()});et({id:z(),name:z(),owner_id:z(),icon:z().nullable(),icon_hash:z().optional().nullable(),splash:z().nullable(),discovery_splash:z().nullable(),owner:Y().optional().nullable(),permissions:z().optional().nullable(),region:z(),afk_channel_id:z().nullable(),afk_timeout:V(),widget_enabled:Y().optional().nullable(),widget_channel_id:z().optional().nullable(),verification_level:V(),default_message_notifications:V(),explicit_content_filter:V(),roles:tt(Se),emojis:tt(de),features:tt(z()),mfa_level:V(),application_id:z().nullable(),system_channel_id:z().nullable(),system_channel_flags:V(),rules_channel_id:z().nullable(),joined_at:z().optional().nullable(),large:Y().optional().nullable(),unavailable:Y().optional().nullable(),member_count:V().optional().nullable(),voice_states:tt(ve).optional().nullable(),members:tt(ce).optional().nullable(),channels:tt(we).optional().nullable(),presences:tt(Ee).optional().nullable(),max_presences:V().optional().nullable(),max_members:V().optional().nullable(),vanity_url_code:z().nullable(),description:z().nullable(),banner:z().nullable(),premium_tier:V(),premium_subscription_count:V().optional().nullable(),preferred_locale:z(),public_updates_channel_id:z().nullable(),max_video_channel_users:V().optional().nullable(),approximate_member_count:V().optional().nullable(),approximate_presence_count:V().optional().nullable()});const _e=et({id:z(),guild_id:z(),type:V(),name:z()});const Ae=et({id:z(),filename:z(),size:V(),url:z(),proxy_url:z(),height:V().optional().nullable(),width:V().optional().nullable()});const Ce=et({text:z(),icon_url:z().optional().nullable(),proxy_icon_url:z().optional().nullable()});const Oe=et({url:z().optional().nullable(),proxy_url:z().optional().nullable(),height:V().optional().nullable(),width:V().optional().nullable()});const Pe=Oe.omit({proxy_url:true});const Ie=et({name:z().optional().nullable(),url:z().optional().nullable()});const Re=et({name:z().optional().nullable(),url:z().optional().nullable(),icon_url:z().optional().nullable(),proxy_icon_url:z().optional().nullable()});const Me=et({name:z(),value:z(),inline:Y()});const Le=et({title:z().optional().nullable(),type:z().optional().nullable(),description:z().optional().nullable(),url:z().optional().nullable(),timestamp:z().optional().nullable(),color:V().optional().nullable(),footer:Ce.optional().nullable(),image:Oe.optional().nullable(),thumbnail:Oe.optional().nullable(),video:Pe.optional().nullable(),provider:Ie.optional().nullable(),author:Re.optional().nullable(),fields:tt(Me).optional().nullable()});const De=et({count:V(),me:Y(),emoji:de});const ke=et({type:V(),party_id:z().optional().nullable()});const Fe=et({id:z(),cover_image:z().optional().nullable(),description:z(),icon:z().optional().nullable(),name:z()});const Be=et({message_id:z().optional().nullable(),channel_id:z().optional().nullable(),guild_id:z().optional().nullable()});const Ne=et({id:z(),channel_id:z(),guild_id:z().optional().nullable(),author:ue.optional().nullable(),member:ce.optional().nullable(),content:z(),timestamp:z(),edited_timestamp:z().optional().nullable(),tts:Y(),mention_everyone:Y(),mentions:tt(ue),mention_roles:tt(z()),mention_channels:tt(_e),attachments:tt(Ae),embeds:tt(Le),reactions:tt(De).optional().nullable(),nonce:rt([z(),V()]).optional().nullable(),pinned:Y(),webhook_id:z().optional().nullable(),type:V(),activity:ke.optional().nullable(),application:Fe.optional().nullable(),message_reference:Be.optional().nullable(),flags:V().optional().nullable(),stickers:tt(K()).optional().nullable(),referenced_message:K().optional().nullable()});const Ue=et({id:z(),name:z()});const ze={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3};const Ve=et({type:zodCoerceUnhandledValue(ze),code:V(),name:z()});const Ge={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"};const Xe=et({type:zodCoerceUnhandledValue(Ge),auto_threshold:Y(),threshold:V(),shortcut:tt(Ve),delay:V()});const Ye=et({device_id:z(),volume:V(),available_devices:tt(Ue)});const He={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};et({type:zodCoerceUnhandledValue(He),id:z(),vendor:et({name:z(),url:z()}),model:et({name:z(),url:z()}),related:tt(z()),echo_cancellation:Y().optional().nullable(),noise_suppression:Y().optional().nullable(),automatic_gain_control:Y().optional().nullable(),hardware_mute:Y().optional().nullable()});const We={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5};const je=et({id:z(),name:z(),type:zodCoerceUnhandledValue(We),price:et({amount:V(),currency:z()}),application_id:z(),flags:V(),release_date:z().nullable()});const Ze={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7};const $e=et({id:z(),sku_id:z(),application_id:z(),user_id:z(),gift_code_flags:V(),type:zodCoerceUnhandledValue(Ze),gifter_user_id:z().optional().nullable(),branches:tt(z()).optional().nullable(),starts_at:z().optional().nullable(),ends_at:z().optional().nullable(),parent_id:z().optional().nullable(),consumed:Y().optional().nullable(),deleted:Y().optional().nullable(),gift_code_batch_id:z().optional().nullable()});const qe={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};zodCoerceUnhandledValue(qe);const Ke={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3};const Je=zodCoerceUnhandledValue(Ke);const Qe={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};zodCoerceUnhandledValue(Qe);const ti={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};zodCoerceUnhandledValue(ti);const ei="ERROR";var ii;(function(t){t["READY"]="READY";t["VOICE_STATE_UPDATE"]="VOICE_STATE_UPDATE";t["SPEAKING_START"]="SPEAKING_START";t["SPEAKING_STOP"]="SPEAKING_STOP";t["ACTIVITY_LAYOUT_MODE_UPDATE"]="ACTIVITY_LAYOUT_MODE_UPDATE";t["ORIENTATION_UPDATE"]="ORIENTATION_UPDATE";t["CURRENT_USER_UPDATE"]="CURRENT_USER_UPDATE";t["CURRENT_GUILD_MEMBER_UPDATE"]="CURRENT_GUILD_MEMBER_UPDATE";t["ENTITLEMENT_CREATE"]="ENTITLEMENT_CREATE";t["THERMAL_STATE_UPDATE"]="THERMAL_STATE_UPDATE";t["ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"]="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ii||(ii={}));const ri=le.extend({evt:vt(ii),nonce:z().nullable(),cmd:ft(ae),data:et({}).passthrough()});const si=le.extend({evt:ft(ei),data:et({code:V(),message:z().optional()}).passthrough(),cmd:vt(oe),nonce:z().nullable()});const ni=ri.extend({evt:z()});const ai=rt([ri,ni,si]);function parseEventPayload(t){const e=t.evt;if(!(e in ii)){throw new Error(`Unrecognized event type ${t.evt}`)}const i=oi[e];return i.payload.parse(t)}const oi={[ii.READY]:{payload:ri.extend({evt:ft(ii.READY),data:et({v:V(),config:et({cdn_host:z().optional(),api_endpoint:z(),environment:z()}),user:et({id:z(),username:z(),discriminator:z(),avatar:z().optional()}).optional()})})},[ii.VOICE_STATE_UPDATE]:{payload:ri.extend({evt:ft(ii.VOICE_STATE_UPDATE),data:pe}),subscribeArgs:et({channel_id:z()})},[ii.SPEAKING_START]:{payload:ri.extend({evt:ft(ii.SPEAKING_START),data:et({lobby_id:z().optional(),channel_id:z().optional(),user_id:z()})}),subscribeArgs:et({lobby_id:z().nullable().optional(),channel_id:z().nullable().optional()})},[ii.SPEAKING_STOP]:{payload:ri.extend({evt:ft(ii.SPEAKING_STOP),data:et({lobby_id:z().optional(),channel_id:z().optional(),user_id:z()})}),subscribeArgs:et({lobby_id:z().nullable().optional(),channel_id:z().nullable().optional()})},[ii.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:ri.extend({evt:ft(ii.ACTIVITY_LAYOUT_MODE_UPDATE),data:et({layout_mode:zodCoerceUnhandledValue(ti)})})},[ii.ORIENTATION_UPDATE]:{payload:ri.extend({evt:ft(ii.ORIENTATION_UPDATE),data:et({screen_orientation:zodCoerceUnhandledValue(Qe),orientation:vt(Yt)})})},[ii.CURRENT_USER_UPDATE]:{payload:ri.extend({evt:ft(ii.CURRENT_USER_UPDATE),data:ue})},[ii.CURRENT_GUILD_MEMBER_UPDATE]:{payload:ri.extend({evt:ft(ii.CURRENT_GUILD_MEMBER_UPDATE),data:fe}),subscribeArgs:et({guild_id:z()})},[ii.ENTITLEMENT_CREATE]:{payload:ri.extend({evt:ft(ii.ENTITLEMENT_CREATE),data:et({entitlement:$e})})},[ii.THERMAL_STATE_UPDATE]:{payload:ri.extend({evt:ft(ii.THERMAL_STATE_UPDATE),data:et({thermal_state:Je})})},[ii.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:ri.extend({evt:ft(ii.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:et({participants:Jt.shape.participants})})}};function assertUnreachable(t,e){throw e}const li=et({}).nullable();const hi=et({code:z()});const ui=et({guilds:tt(et({id:z(),name:z()}))});const ci=et({id:z(),name:z(),icon_url:z().optional(),members:tt(ce)});const fi=et({id:z(),type:zodCoerceUnhandledValue(Te),guild_id:z().optional().nullable(),name:z().optional().nullable(),topic:z().optional().nullable(),bitrate:V().optional().nullable(),user_limit:V().optional().nullable(),position:V().optional().nullable(),voice_states:tt(pe),messages:tt(Ne)});const di=et({channels:tt(we)});fi.nullable();const vi=fi.nullable();const pi=fi.nullable();et({input:Ye,output:Ye,mode:Xe,automatic_gain_control:Y(),echo_cancellation:Y(),noise_suppression:Y(),qos:Y(),silence_warning:Y(),deaf:Y(),mute:Y()});const gi=et({evt:z()});const mi=et({shortcut:Ve});const yi=ye;const xi=et({skus:tt(je)});const bi=et({entitlements:tt($e)});const Ti=tt($e).nullable();const wi=et({use_interactive_pip:Y()});const Ei=et({locale:z()});const Si=et({enabled:Y()});const _i=et({permissions:X().or(z())});const Ai=fallbackToDefault(et({opened:Y().or(Z())}).default({opened:null}));const Ci=et({iosKeyboardResizesView:mt(Y())});const Oi=le.extend({cmd:vt(oe),evt:Z()});function parseResponseData({cmd:t,data:e}){switch(t){case oe.AUTHORIZE:return hi.parse(e);case oe.CAPTURE_SHORTCUT:return mi.parse(e);case oe.ENCOURAGE_HW_ACCELERATION:return Si.parse(e);case oe.GET_CHANNEL:return fi.parse(e);case oe.GET_CHANNELS:return di.parse(e);case oe.GET_CHANNEL_PERMISSIONS:return _i.parse(e);case oe.GET_GUILD:return ci.parse(e);case oe.GET_GUILDS:return ui.parse(e);case oe.GET_PLATFORM_BEHAVIORS:return Ci.parse(e);case oe.GET_CHANNEL:return fi.parse(e);case oe.SELECT_TEXT_CHANNEL:return pi.parse(e);case oe.SELECT_VOICE_CHANNEL:return vi.parse(e);case oe.SET_ACTIVITY:return yi.parse(e);case oe.GET_SKUS_EMBEDDED:return xi.parse(e);case oe.GET_ENTITLEMENTS_EMBEDDED:return bi.parse(e);case oe.SET_CONFIG:return wi.parse(e);case oe.START_PURCHASE:return Ti.parse(e);case oe.SUBSCRIBE:case oe.UNSUBSCRIBE:return gi.parse(e);case oe.USER_SETTINGS_GET_LOCALE:return Ei.parse(e);case oe.OPEN_EXTERNAL_LINK:return Ai.parse(e);case oe.SET_ORIENTATION_LOCK_STATE:case oe.SET_CERTIFIED_DEVICES:case oe.SEND_ANALYTICS_EVENT:case oe.OPEN_INVITE_DIALOG:case oe.CAPTURE_LOG:case oe.GET_SKUS:case oe.GET_ENTITLEMENTS:return li.parse(e);case oe.AUTHENTICATE:case oe.INITIATE_IMAGE_UPLOAD:case oe.OPEN_SHARE_MOMENT_DIALOG:case oe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:case oe.SHARE_LINK:const{response:i}=ne[t];return i.parse(e);default:assertUnreachable(t,new Error(`Unrecognized command ${t}`))}}function parseResponsePayload(t){return Object.assign(Object.assign({},t),{data:parseResponseData(t)})}et({frame_id:z(),platform:vt(Ht).optional().nullable()});et({v:ft(1),encoding:ft("json").optional(),client_id:z(),frame_id:z()});const Pi=et({code:V(),message:z().optional()});const Ii=et({evt:z().nullable(),nonce:z().nullable(),data:K().nullable(),cmd:z()}).passthrough();function parseIncomingPayload(t){const e=Ii.parse(t);if(e.evt!=null){if(e.evt===ei){return si.parse(e)}return parseEventPayload(ai.parse(e))}else{return parseResponsePayload(Oi.passthrough().parse(e))}}function commandFactory(t,e,i,r=()=>void 0){const s=le.extend({cmd:ft(e),data:i});return async i=>{const n=await t({cmd:e,args:i,transfer:r(i)});const a=s.parse(n);return a.data}}function schemaCommandFactory(t,e=()=>void 0){const i=ne[t].response;const r=le.extend({cmd:ft(t),data:i});return i=>async s=>{const n=await i({cmd:t,args:s,transfer:e(s)});const a=r.parse(n);return a.data}}const Ri=schemaCommandFactory(ie.AUTHENTICATE);const authorize=t=>commandFactory(t,oe.AUTHORIZE,hi);const captureLog=t=>commandFactory(t,oe.CAPTURE_LOG,li);const encourageHardwareAcceleration=t=>commandFactory(t,oe.ENCOURAGE_HW_ACCELERATION,Si);const getEntitlements=t=>commandFactory(t,oe.GET_ENTITLEMENTS_EMBEDDED,bi);const getSkus=t=>commandFactory(t,oe.GET_SKUS_EMBEDDED,xi);const getChannelPermissions=t=>commandFactory(t,oe.GET_CHANNEL_PERMISSIONS,_i);const getPlatformBehaviors=t=>commandFactory(t,oe.GET_PLATFORM_BEHAVIORS,Ci);const openExternalLink=t=>commandFactory(t,oe.OPEN_EXTERNAL_LINK,Ai);const openInviteDialog=t=>commandFactory(t,oe.OPEN_INVITE_DIALOG,li);const Mi=schemaCommandFactory(ie.OPEN_SHARE_MOMENT_DIALOG);ye.pick({state:true,details:true,timestamps:true,assets:true,party:true,secrets:true,instance:true,type:true}).extend({type:ye.shape.type.optional(),instance:ye.shape.instance.optional()}).nullable();const setActivity=t=>commandFactory(t,oe.SET_ACTIVITY,yi);const setConfig=t=>commandFactory(t,oe.SET_CONFIG,wi);function compatCommandFactory({sendCommand:t,cmd:e,response:i,fallbackTransform:r,transferTransform:s=()=>void 0}){const n=le.extend({cmd:ft(e),data:i});return async i=>{try{const r=await t({cmd:e,args:i,transfer:s(i)});const a=n.parse(r);return a.data}catch(a){if(a.code===Xt.INVALID_PAYLOAD){const a=r(i);const o=await t({cmd:e,args:a,transfer:s(a)});const l=n.parse(o);return l.data}else{throw a}}}}const fallbackTransform=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state});const setOrientationLockState=t=>compatCommandFactory({sendCommand:t,cmd:oe.SET_ORIENTATION_LOCK_STATE,response:li,fallbackTransform:fallbackTransform});const Li=schemaCommandFactory(ie.SHARE_LINK);const startPurchase=t=>commandFactory(t,oe.START_PURCHASE,Ti);const userSettingsGetLocale=t=>commandFactory(t,oe.USER_SETTINGS_GET_LOCALE,Ei);const Di=schemaCommandFactory(ie.INITIATE_IMAGE_UPLOAD);const getChannel=t=>commandFactory(t,oe.GET_CHANNEL,fi);const ki=schemaCommandFactory(ie.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function commands(t){return{authenticate:Ri(t),authorize:authorize(t),captureLog:captureLog(t),encourageHardwareAcceleration:encourageHardwareAcceleration(t),getChannel:getChannel(t),getChannelPermissions:getChannelPermissions(t),getEntitlements:getEntitlements(t),getPlatformBehaviors:getPlatformBehaviors(t),getSkus:getSkus(t),openExternalLink:openExternalLink(t),openInviteDialog:openInviteDialog(t),openShareMomentDialog:Mi(t),setActivity:setActivity(t),setConfig:setConfig(t),setOrientationLockState:setOrientationLockState(t),shareLink:Li(t),startPurchase:startPurchase(t),userSettingsGetLocale:userSettingsGetLocale(t),initiateImageUpload:Di(t),getInstanceConnectedParticipants:ki(t)}}class SDKError extends Error{constructor(t,e=""){super(e);this.code=t;this.message=e;this.name="Discord SDK Error"}}function getDefaultSdkConfiguration(){return{disableConsoleLogOverride:false}}const Fi=["log","warn","debug","info","error"];function wrapConsoleMethod(t,e,i){const r=t[e];const s=t;if(!r){return}t[e]=function(){const t=[].slice.call(arguments);const n=""+t.join(" ");i(e,n);r.apply(s,t)}}var Bi="1.9.0";var Ni=typeof crypto!=="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ui={randomUUID:Ni};var zi;var Vi=new Uint8Array(16);function rng(){if(!zi){zi=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto);if(!zi){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return zi(Vi)}var Gi=[];for(var Xi=0;Xi<256;++Xi){Gi.push((Xi+256).toString(16).slice(1))}function unsafeStringify(t,e=0){return(Gi[t[e+0]]+Gi[t[e+1]]+Gi[t[e+2]]+Gi[t[e+3]]+"-"+Gi[t[e+4]]+Gi[t[e+5]]+"-"+Gi[t[e+6]]+Gi[t[e+7]]+"-"+Gi[t[e+8]]+Gi[t[e+9]]+"-"+Gi[t[e+10]]+Gi[t[e+11]]+Gi[t[e+12]]+Gi[t[e+13]]+Gi[t[e+14]]+Gi[t[e+15]]).toLowerCase()}function v4(t,e,i){if(Ui.randomUUID&&true&&!t){return Ui.randomUUID()}t=t||{};var r=t.random||(t.rng||rng)();r[6]=r[6]&15|64;r[8]=r[8]&63|128;return unsafeStringify(r)}var Yi;(function(t){t[t["HANDSHAKE"]=0]="HANDSHAKE";t[t["FRAME"]=1]="FRAME";t[t["CLOSE"]=2]="CLOSE";t[t["HELLO"]=3]="HELLO"})(Yi||(Yi={}));const Hi=new Set(getAllowedOrigins());function getAllowedOrigins(){if(typeof window==="undefined")return[];return[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function getRPCServerSource(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,!!document.referrer?document.referrer:"*"]}class DiscordSDK{getTransfer(t){var e;switch(t.cmd){case oe.SUBSCRIBE:case oe.UNSUBSCRIBE:return void 0;default:return(e=t.transfer)!==null&&e!==void 0?e:void 0}}constructor(t,e){this.sdkVersion=Bi;this.mobileAppVersion=null;this.source=null;this.sourceOrigin="";this.eventBus=new c;this.pendingCommands=new Map;this.sendCommand=t=>{var e;if(this.source==null)throw new Error("Attempting to send message before initialization");const i=v4();(e=this.source)===null||e===void 0?void 0:e.postMessage([Yi.FRAME,Object.assign(Object.assign({},t),{nonce:i})],this.sourceOrigin,this.getTransfer(t));const r=new Promise(((t,e)=>{this.pendingCommands.set(i,{resolve:t,reject:e})}));return r};this.commands=commands(this.sendCommand);this.handleMessage=t=>{if(!Hi.has(t.origin))return;const e=t.data;if(!Array.isArray(e)){return}const[i,r]=e;switch(i){case Yi.HELLO:return;case Yi.CLOSE:return this.handleClose(r);case Yi.HANDSHAKE:return this.handleHandshake();case Yi.FRAME:return this.handleFrame(r);default:throw new Error("Invalid message format")}};this.isReady=false;this.clientId=t;this.configuration=e!==null&&e!==void 0?e:getDefaultSdkConfiguration();if(typeof window!=="undefined"){window.addEventListener("message",this.handleMessage)}if(typeof window==="undefined"){this.frameId="";this.instanceId="";this.customId=null;this.referrerId=null;this.platform=Ht.DESKTOP;this.guildId=null;this.channelId=null;this.locationId=null;return}const i=new URLSearchParams(this._getSearch());const r=i.get("frame_id");if(!r){throw new Error("frame_id query param is not defined")}this.frameId=r;const s=i.get("instance_id");if(!s){throw new Error("instance_id query param is not defined")}this.instanceId=s;const n=i.get("platform");if(!n){throw new Error("platform query param is not defined")}else if(n!==Ht.DESKTOP&&n!==Ht.MOBILE){throw new Error(`Invalid query param "platform" of "${n}". Valid values are "${Ht.DESKTOP}" or "${Ht.MOBILE}"`)}this.platform=n;this.customId=i.get("custom_id");this.referrerId=i.get("referrer_id");this.guildId=i.get("guild_id");this.channelId=i.get("channel_id");this.locationId=i.get("location_id");this.mobileAppVersion=i.get("mobile_app_version");[this.source,this.sourceOrigin]=getRPCServerSource();this.addOnReadyListener();this.handshake()}close(t,e){var i;window.removeEventListener("message",this.handleMessage);const r=v4();(i=this.source)===null||i===void 0?void 0:i.postMessage([Yi.CLOSE,{code:t,message:e,nonce:r}],this.sourceOrigin)}async subscribe(t,e,...i){const[r]=i;const s=this.eventBus.listenerCount(t);const n=this.eventBus.on(t,e);if(Object.values(ii).includes(t)&&t!==ii.READY&&s===0){await this.sendCommand({cmd:oe.SUBSCRIBE,args:r,evt:t})}return n}async unsubscribe(t,e,...i){const[r]=i;if(t!==ii.READY&&this.eventBus.listenerCount(t)===1){await this.sendCommand({cmd:oe.UNSUBSCRIBE,evt:t,args:r})}return this.eventBus.off(t,e)}async ready(){if(this.isReady){return}else{await new Promise((t=>{this.eventBus.once(ii.READY,t)}))}}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes(".")){try{return parseInt(this.mobileAppVersion.split(".")[0])}catch(t){return Wt}}return Wt}handshake(){var t;const e={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId};const i=this.parseMajorMobileVersion();if(this.platform===Ht.DESKTOP||i>=jt){e["sdk_version"]=this.sdkVersion}(t=this.source)===null||t===void 0?void 0:t.postMessage([Yi.HANDSHAKE,e],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ii.READY,(()=>{this.overrideConsoleLogging();this.isReady=true}))}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const sendCaptureLogCommand=(t,e)=>{this.commands.captureLog({level:t,message:e})};Fi.forEach((t=>{wrapConsoleMethod(console,t,sendCaptureLogCommand)}))}handleClose(t){Pi.parse(t)}handleHandshake(){}handleFrame(t){var e,i;let r;try{r=parseIncomingPayload(t)}catch(s){console.error("Failed to parse",t);console.error(s);return}if(r.cmd==="DISPATCH"){this.eventBus.emit(r.evt,r.data)}else{if(r.evt===ei){if(r.nonce!=null){(e=this.pendingCommands.get(r.nonce))===null||e===void 0?void 0:e.reject(r.data);this.pendingCommands.delete(r.nonce);return}this.eventBus.emit("error",new SDKError(r.data.code,r.data.message))}if(r.nonce==null){console.error("Missing nonce",t);return}(i=this.pendingCommands.get(r.nonce))===null||i===void 0?void 0:i.resolve(r);this.pendingCommands.delete(r.nonce)}}_getSearch(){return typeof window==="undefined"?"":window.location.search}}var Wi=1e9,ji={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zi,$i=true,qi="[DecimalError] ",Ki=qi+"Invalid argument: ",Ji=qi+"Exponent out of range: ",Qi=Math.floor,tr=Math.pow,er=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,rr=1e7,sr=7,nr=9007199254740991,ar=Qi(nr/sr),or={};or.absoluteValue=or.abs=function(){var t=new this.constructor(this);if(t.s)t.s=1;return t};or.comparedTo=or.cmp=function(t){var e,i,r,s,n=this;t=new n.constructor(t);if(n.s!==t.s)return n.s||-t.s;if(n.e!==t.e)return n.e>t.e^n.s<0?1:-1;r=n.d.length;s=t.d.length;for(e=0,i=r<s?r:s;e<i;++e){if(n.d[e]!==t.d[e])return n.d[e]>t.d[e]^n.s<0?1:-1}return r===s?0:r>s^n.s<0?1:-1};or.decimalPlaces=or.dp=function(){var t=this,e=t.d.length-1,i=(e-t.e)*sr;e=t.d[e];if(e)for(;e%10==0;e/=10)i--;return i<0?0:i};or.dividedBy=or.div=function(t){return lr(this,new this.constructor(t))};or.dividedToIntegerBy=or.idiv=function(t){var e=this,i=e.constructor;return round(lr(e,new i(t),0,1),i.precision)};or.equals=or.eq=function(t){return!this.cmp(t)};or.exponent=function(){return getBase10Exponent(this)};or.greaterThan=or.gt=function(t){return this.cmp(t)>0};or.greaterThanOrEqualTo=or.gte=function(t){return this.cmp(t)>=0};or.isInteger=or.isint=function(){return this.e>this.d.length-2};or.isNegative=or.isneg=function(){return this.s<0};or.isPositive=or.ispos=function(){return this.s>0};or.isZero=function(){return this.s===0};or.lessThan=or.lt=function(t){return this.cmp(t)<0};or.lessThanOrEqualTo=or.lte=function(t){return this.cmp(t)<1};or.logarithm=or.log=function(t){var e,i=this,r=i.constructor,s=r.precision,n=s+5;if(t===void 0){t=new r(10)}else{t=new r(t);if(t.s<1||t.eq(ir))throw Error(qi+"NaN")}if(i.s<1)throw Error(qi+(i.s?"NaN":"-Infinity"));if(i.eq(ir))return new r(0);$i=false;e=lr(ln(i,n),ln(t,n),n);$i=true;return round(e,s)};or.minus=or.sub=function(t){var e=this;t=new e.constructor(t);return e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};or.modulo=or.mod=function(t){var e,i=this,r=i.constructor,s=r.precision;t=new r(t);if(!t.s)throw Error(qi+"NaN");if(!i.s)return round(new r(i),s);$i=false;e=lr(i,t,0,1).times(t);$i=true;return i.minus(e)};or.naturalExponential=or.exp=function(){return exp(this)};or.naturalLogarithm=or.ln=function(){return ln(this)};or.negated=or.neg=function(){var t=new this.constructor(this);t.s=-t.s||0;return t};or.plus=or.add=function(t){var e=this;t=new e.constructor(t);return e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};or.precision=or.sd=function(t){var e,i,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ki+t);e=getBase10Exponent(s)+1;r=s.d.length-1;i=r*sr+1;r=s.d[r];if(r){for(;r%10==0;r/=10)i--;for(r=s.d[0];r>=10;r/=10)i++}return t&&e>i?e:i};or.squareRoot=or.sqrt=function(){var t,e,i,r,s,n,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qi+"NaN")}t=getBase10Exponent(o);$i=false;s=Math.sqrt(+o);if(s==0||s==1/0){e=digitsToString(o.d);if((e.length+t)%2==0)e+="0";s=Math.sqrt(e);t=Qi((t+1)/2)-(t<0||t%2);if(s==1/0){e="5e"+t}else{e=s.toExponential();e=e.slice(0,e.indexOf("e")+1)+t}r=new l(e)}else{r=new l(s.toString())}i=l.precision;s=a=i+3;for(;;){n=r;r=n.plus(lr(o,n,a+2)).times(.5);if(digitsToString(n.d).slice(0,a)===(e=digitsToString(r.d)).slice(0,a)){e=e.slice(a-3,a+1);if(s==a&&e=="4999"){round(n,i+1,0);if(n.times(n).eq(o)){r=n;break}}else if(e!="9999"){break}a+=4}}$i=true;return round(r,i)};or.times=or.mul=function(t){var e,i,r,s,n,a,o,l,h,u=this,c=u.constructor,f=u.d,d=(t=new c(t)).d;if(!u.s||!t.s)return new c(0);t.s*=u.s;i=u.e+t.e;l=f.length;h=d.length;if(l<h){n=f;f=d;d=n;a=l;l=h;h=a}n=[];a=l+h;for(r=a;r--;)n.push(0);for(r=h;--r>=0;){e=0;for(s=l+r;s>r;){o=n[s]+d[r]*f[s-r-1]+e;n[s--]=o%rr|0;e=o/rr|0}n[s]=(n[s]+e)%rr|0}for(;!n[--a];)n.pop();if(e)++i;else n.shift();t.d=n;t.e=i;return $i?round(t,c.precision):t};or.toDecimalPlaces=or.todp=function(t,e){var i=this,r=i.constructor;i=new r(i);if(t===void 0)return i;checkInt32(t,0,Wi);if(e===void 0)e=r.rounding;else checkInt32(e,0,8);return round(i,t+getBase10Exponent(i)+1,e)};or.toExponential=function(t,e){var i,r=this,s=r.constructor;if(t===void 0){i=toString$1(r,true)}else{checkInt32(t,0,Wi);if(e===void 0)e=s.rounding;else checkInt32(e,0,8);r=round(new s(r),t+1,e);i=toString$1(r,true,t+1)}return i};or.toFixed=function(t,e){var i,r,s=this,n=s.constructor;if(t===void 0)return toString$1(s);checkInt32(t,0,Wi);if(e===void 0)e=n.rounding;else checkInt32(e,0,8);r=round(new n(s),t+getBase10Exponent(s)+1,e);i=toString$1(r.abs(),false,t+getBase10Exponent(r)+1);return s.isneg()&&!s.isZero()?"-"+i:i};or.toInteger=or.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};or.toNumber=function(){return+this};or.toPower=or.pow=function(t){var e,i,r,s,n,a,o=this,l=o.constructor,h=12,u=+(t=new l(t));if(!t.s)return new l(ir);o=new l(o);if(!o.s){if(t.s<1)throw Error(qi+"Infinity");return o}if(o.eq(ir))return o;r=l.precision;if(t.eq(ir))return round(o,r);e=t.e;i=t.d.length-1;a=e>=i;n=o.s;if(!a){if(n<0)throw Error(qi+"NaN")}else if((i=u<0?-u:u)<=nr){s=new l(ir);e=Math.ceil(r/sr+4);$i=false;for(;;){if(i%2){s=s.times(o);truncate(s.d,e)}i=Qi(i/2);if(i===0)break;o=o.times(o);truncate(o.d,e)}$i=true;return t.s<0?new l(ir).div(s):round(s,r)}n=n<0&&t.d[Math.max(e,i)]&1?-1:1;o.s=1;$i=false;s=t.times(ln(o,r+h));$i=true;s=exp(s);s.s=n;return s};or.toPrecision=function(t,e){var i,r,s=this,n=s.constructor;if(t===void 0){i=getBase10Exponent(s);r=toString$1(s,i<=n.toExpNeg||i>=n.toExpPos)}else{checkInt32(t,1,Wi);if(e===void 0)e=n.rounding;else checkInt32(e,0,8);s=round(new n(s),t,e);i=getBase10Exponent(s);r=toString$1(s,t<=i||i<=n.toExpNeg,t)}return r};or.toSignificantDigits=or.tosd=function(t,e){var i=this,r=i.constructor;if(t===void 0){t=r.precision;e=r.rounding}else{checkInt32(t,1,Wi);if(e===void 0)e=r.rounding;else checkInt32(e,0,8)}return round(new r(i),t,e)};or.toString=or.valueOf=or.val=or.toJSON=or[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),i=t.constructor;return toString$1(t,e<=i.toExpNeg||e>=i.toExpPos)};function add(t,e){var i,r,s,n,a,o,l,h,u=t.constructor,c=u.precision;if(!t.s||!e.s){if(!e.s)e=new u(t);return $i?round(e,c):e}l=t.d;h=e.d;a=t.e;s=e.e;l=l.slice();n=a-s;if(n){if(n<0){r=l;n=-n;o=h.length}else{r=h;s=a;o=l.length}a=Math.ceil(c/sr);o=a>o?a+1:o+1;if(n>o){n=o;r.length=1}r.reverse();for(;n--;)r.push(0);r.reverse()}o=l.length;n=h.length;if(o-n<0){n=o;r=h;h=l;l=r}for(i=0;n;){i=(l[--n]=l[n]+h[n]+i)/rr|0;l[n]%=rr}if(i){l.unshift(i);++s}for(o=l.length;l[--o]==0;)l.pop();e.d=l;e.e=s;return $i?round(e,c):e}function checkInt32(t,e,i){if(t!==~~t||t<e||t>i){throw Error(Ki+t)}}function digitsToString(t){var e,i,r,s=t.length-1,n="",a=t[0];if(s>0){n+=a;for(e=1;e<s;e++){r=t[e]+"";i=sr-r.length;if(i)n+=getZeroString(i);n+=r}a=t[e];r=a+"";i=sr-r.length;if(i)n+=getZeroString(i)}else if(a===0){return"0"}for(;a%10===0;)a/=10;return n+a}var lr=function(){function multiplyInteger(t,e){var i,r=0,s=t.length;for(t=t.slice();s--;){i=t[s]*e+r;t[s]=i%rr|0;r=i/rr|0}if(r)t.unshift(r);return t}function compare(t,e,i,r){var s,n;if(i!=r){n=i>r?1:-1}else{for(s=n=0;s<i;s++){if(t[s]!=e[s]){n=t[s]>e[s]?1:-1;break}}}return n}function subtract2(t,e,i){var r=0;for(;i--;){t[i]-=r;r=t[i]<e[i]?1:0;t[i]=r*rr+t[i]-e[i]}for(;!t[0]&&t.length>1;)t.shift()}return function(t,e,i,r){var s,n,a,o,l,h,u,c,f,d,v,p,g,m,y,x,b,T,w=t.constructor,E=t.s==e.s?1:-1,S=t.d,A=e.d;if(!t.s)return new w(t);if(!e.s)throw Error(qi+"Division by zero");n=t.e-e.e;b=A.length;y=S.length;u=new w(E);c=u.d=[];for(a=0;A[a]==(S[a]||0);)++a;if(A[a]>(S[a]||0))--n;if(i==null){p=i=w.precision}else if(r){p=i+(getBase10Exponent(t)-getBase10Exponent(e))+1}else{p=i}if(p<0)return new w(0);p=p/sr+2|0;a=0;if(b==1){o=0;A=A[0];p++;for(;(a<y||o)&&p--;a++){g=o*rr+(S[a]||0);c[a]=g/A|0;o=g%A|0}}else{o=rr/(A[0]+1)|0;if(o>1){A=multiplyInteger(A,o);S=multiplyInteger(S,o);b=A.length;y=S.length}m=b;f=S.slice(0,b);d=f.length;for(;d<b;)f[d++]=0;T=A.slice();T.unshift(0);x=A[0];if(A[1]>=rr/2)++x;do{o=0;s=compare(A,f,b,d);if(s<0){v=f[0];if(b!=d)v=v*rr+(f[1]||0);o=v/x|0;if(o>1){if(o>=rr)o=rr-1;l=multiplyInteger(A,o);h=l.length;d=f.length;s=compare(l,f,h,d);if(s==1){o--;subtract2(l,b<h?T:A,h)}}else{if(o==0)s=o=1;l=A.slice()}h=l.length;if(h<d)l.unshift(0);subtract2(f,l,d);if(s==-1){d=f.length;s=compare(A,f,b,d);if(s<1){o++;subtract2(f,b<d?T:A,d)}}d=f.length}else if(s===0){o++;f=[0]}c[a++]=o;if(s&&f[0]){f[d++]=S[m]||0}else{f=[S[m]];d=1}}while((m++<y||f[0]!==void 0)&&p--)}if(!c[0])c.shift();u.e=n;return round(u,r?i+getBase10Exponent(u)+1:i)}}();function exp(t,e){var i,r,s,n,a,o,l=0,h=0,u=t.constructor,c=u.precision;if(getBase10Exponent(t)>16)throw Error(Ji+getBase10Exponent(t));if(!t.s)return new u(ir);{$i=false;o=c}a=new u(.03125);while(t.abs().gte(.1)){t=t.times(a);h+=5}r=Math.log(tr(2,h))/Math.LN10*2+5|0;o+=r;i=s=n=new u(ir);u.precision=o;for(;;){s=round(s.times(t),o);i=i.times(++l);a=n.plus(lr(s,i,o));if(digitsToString(a.d).slice(0,o)===digitsToString(n.d).slice(0,o)){while(h--)n=round(n.times(n),o);u.precision=c;return e==null?($i=true,round(n,c)):n}n=a}}function getBase10Exponent(t){var e=t.e*sr,i=t.d[0];for(;i>=10;i/=10)e++;return e}function getLn10(t,e,i){if(e>t.LN10.sd()){$i=true;if(i)t.precision=i;throw Error(qi+"LN10 precision limit exceeded")}return round(new t(t.LN10),e)}function getZeroString(t){var e="";for(;t--;)e+="0";return e}function ln(t,e){var i,r,s,n,a,o,l,h,u,c=1,f=10,d=t,v=d.d,p=d.constructor,g=p.precision;if(d.s<1)throw Error(qi+(d.s?"NaN":"-Infinity"));if(d.eq(ir))return new p(0);if(e==null){$i=false;h=g}else{h=e}if(d.eq(10)){if(e==null)$i=true;return getLn10(p,h)}h+=f;p.precision=h;i=digitsToString(v);r=i.charAt(0);n=getBase10Exponent(d);if(Math.abs(n)<15e14){while(r<7&&r!=1||r==1&&i.charAt(1)>3){d=d.times(t);i=digitsToString(d.d);r=i.charAt(0);c++}n=getBase10Exponent(d);if(r>1){d=new p("0."+i);n++}else{d=new p(r+"."+i.slice(1))}}else{l=getLn10(p,h+2,g).times(n+"");d=ln(new p(r+"."+i.slice(1)),h-f).plus(l);p.precision=g;return e==null?($i=true,round(d,g)):d}o=a=d=lr(d.minus(ir),d.plus(ir),h);u=round(d.times(d),h);s=3;for(;;){a=round(a.times(u),h);l=o.plus(lr(a,new p(s),h));if(digitsToString(l.d).slice(0,h)===digitsToString(o.d).slice(0,h)){o=o.times(2);if(n!==0)o=o.plus(getLn10(p,h+2,g).times(n+""));o=lr(o,new p(c),h);p.precision=g;return e==null?($i=true,round(o,g)):o}o=l;s+=2}}function parseDecimal(t,e){var i,r,s;if((i=e.indexOf("."))>-1)e=e.replace(".","");if((r=e.search(/e/i))>0){if(i<0)i=r;i+=+e.slice(r+1);e=e.substring(0,r)}else if(i<0){i=e.length}for(r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;e=e.slice(r,s);if(e){s-=r;i=i-r-1;t.e=Qi(i/sr);t.d=[];r=(i+1)%sr;if(i<0)r+=sr;if(r<s){if(r)t.d.push(+e.slice(0,r));for(s-=sr;r<s;)t.d.push(+e.slice(r,r+=sr));e=e.slice(r);r=sr-e.length}else{r-=s}for(;r--;)e+="0";t.d.push(+e);if($i&&(t.e>ar||t.e<-ar))throw Error(Ji+i)}else{t.s=0;t.e=0;t.d=[0]}return t}function round(t,e,i){var r,s,n,a,o,l,h,u,c=t.d;for(a=1,n=c[0];n>=10;n/=10)a++;r=e-a;if(r<0){r+=sr;s=e;h=c[u=0]}else{u=Math.ceil((r+1)/sr);n=c.length;if(u>=n)return t;h=n=c[u];for(a=1;n>=10;n/=10)a++;r%=sr;s=r-sr+a}if(i!==void 0){n=tr(10,a-s-1);o=h/n%10|0;l=e<0||c[u+1]!==void 0||h%n;l=i<4?(o||l)&&(i==0||i==(t.s<0?3:2)):o>5||o==5&&(i==4||l||i==6&&(r>0?s>0?h/tr(10,a-s):0:c[u-1])%10&1||i==(t.s<0?8:7))}if(e<1||!c[0]){if(l){n=getBase10Exponent(t);c.length=1;e=e-n-1;c[0]=tr(10,(sr-e%sr)%sr);t.e=Qi(-e/sr)||0}else{c.length=1;c[0]=t.e=t.s=0}return t}if(r==0){c.length=u;n=1;u--}else{c.length=u+1;n=tr(10,sr-r);c[u]=s>0?(h/tr(10,a-s)%tr(10,s)|0)*n:0}if(l){for(;;){if(u==0){if((c[0]+=n)==rr){c[0]=1;++t.e}break}else{c[u]+=n;if(c[u]!=rr)break;c[u--]=0;n=1}}}for(r=c.length;c[--r]===0;)c.pop();if($i&&(t.e>ar||t.e<-ar)){throw Error(Ji+getBase10Exponent(t))}return t}function subtract(t,e){var i,r,s,n,a,o,l,h,u,c,f=t.constructor,d=f.precision;if(!t.s||!e.s){if(e.s)e.s=-e.s;else e=new f(t);return $i?round(e,d):e}l=t.d;c=e.d;r=e.e;h=t.e;l=l.slice();a=h-r;if(a){u=a<0;if(u){i=l;a=-a;o=c.length}else{i=c;r=h;o=l.length}s=Math.max(Math.ceil(d/sr),o)+2;if(a>s){a=s;i.length=1}i.reverse();for(s=a;s--;)i.push(0);i.reverse()}else{s=l.length;o=c.length;u=s<o;if(u)o=s;for(s=0;s<o;s++){if(l[s]!=c[s]){u=l[s]<c[s];break}}a=0}if(u){i=l;l=c;c=i;e.s=-e.s}o=l.length;for(s=c.length-o;s>0;--s)l[o++]=0;for(s=c.length;s>a;){if(l[--s]<c[s]){for(n=s;n&&l[--n]===0;)l[n]=rr-1;--l[n];l[s]+=rr}l[s]-=c[s]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;if(!l[0])return new f(0);e.d=l;e.e=r;return $i?round(e,d):e}function toString$1(t,e,i){var r,s=getBase10Exponent(t),n=digitsToString(t.d),a=n.length;if(e){if(i&&(r=i-a)>0){n=n.charAt(0)+"."+n.slice(1)+getZeroString(r)}else if(a>1){n=n.charAt(0)+"."+n.slice(1)}n=n+(s<0?"e":"e+")+s}else if(s<0){n="0."+getZeroString(-s-1)+n;if(i&&(r=i-a)>0)n+=getZeroString(r)}else if(s>=a){n+=getZeroString(s+1-a);if(i&&(r=i-s-1)>0)n=n+"."+getZeroString(r)}else{if((r=s+1)<a)n=n.slice(0,r)+"."+n.slice(r);if(i&&(r=i-a)>0){if(s+1===a)n+=".";n+=getZeroString(r)}}return t.s<0?"-"+n:n}function truncate(t,e){if(t.length>e){t.length=e;return true}}function clone(t){var e,i,r;function Decimal2(t){var e=this;if(!(e instanceof Decimal2))return new Decimal2(t);e.constructor=Decimal2;if(t instanceof Decimal2){e.s=t.s;e.e=t.e;e.d=(t=t.d)?t.slice():t;return}if(typeof t==="number"){if(t*0!==0){throw Error(Ki+t)}if(t>0){e.s=1}else if(t<0){t=-t;e.s=-1}else{e.s=0;e.e=0;e.d=[0];return}if(t===~~t&&t<1e7){e.e=0;e.d=[t];return}return parseDecimal(e,t.toString())}else if(typeof t!=="string"){throw Error(Ki+t)}if(t.charCodeAt(0)===45){t=t.slice(1);e.s=-1}else{e.s=1}if(er.test(t))parseDecimal(e,t);else throw Error(Ki+t)}Decimal2.prototype=or;Decimal2.ROUND_UP=0;Decimal2.ROUND_DOWN=1;Decimal2.ROUND_CEIL=2;Decimal2.ROUND_FLOOR=3;Decimal2.ROUND_HALF_UP=4;Decimal2.ROUND_HALF_DOWN=5;Decimal2.ROUND_HALF_EVEN=6;Decimal2.ROUND_HALF_CEIL=7;Decimal2.ROUND_HALF_FLOOR=8;Decimal2.clone=clone;Decimal2.config=Decimal2.set=config;if(t===void 0)t={};if(t){r=["precision","rounding","toExpNeg","toExpPos","LN10"];for(e=0;e<r.length;)if(!t.hasOwnProperty(i=r[e++]))t[i]=this[i]}Decimal2.config(t);return Decimal2}function config(t){if(!t||typeof t!=="object"){throw Error(qi+"Object expected")}var e,i,r,s=["precision",1,Wi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3){if((r=t[i=s[e]])!==void 0){if(Qi(r)===r&&r>=s[e+1]&&r<=s[e+2])this[i]=r;else throw Error(Ki+i+": "+r)}}if((r=t[i="LN10"])!==void 0){if(r==Math.LN10)this[i]=new this(r);else throw Error(Ki+i+": "+r)}return this}var Zi=clone(ji);ir=new Zi(1);var hr;(function(t){t["AED"]="aed";t["AFN"]="afn";t["ALL"]="all";t["AMD"]="amd";t["ANG"]="ang";t["AOA"]="aoa";t["ARS"]="ars";t["AUD"]="aud";t["AWG"]="awg";t["AZN"]="azn";t["BAM"]="bam";t["BBD"]="bbd";t["BDT"]="bdt";t["BGN"]="bgn";t["BHD"]="bhd";t["BIF"]="bif";t["BMD"]="bmd";t["BND"]="bnd";t["BOB"]="bob";t["BOV"]="bov";t["BRL"]="brl";t["BSD"]="bsd";t["BTN"]="btn";t["BWP"]="bwp";t["BYN"]="byn";t["BYR"]="byr";t["BZD"]="bzd";t["CAD"]="cad";t["CDF"]="cdf";t["CHE"]="che";t["CHF"]="chf";t["CHW"]="chw";t["CLF"]="clf";t["CLP"]="clp";t["CNY"]="cny";t["COP"]="cop";t["COU"]="cou";t["CRC"]="crc";t["CUC"]="cuc";t["CUP"]="cup";t["CVE"]="cve";t["CZK"]="czk";t["DJF"]="djf";t["DKK"]="dkk";t["DOP"]="dop";t["DZD"]="dzd";t["EGP"]="egp";t["ERN"]="ern";t["ETB"]="etb";t["EUR"]="eur";t["FJD"]="fjd";t["FKP"]="fkp";t["GBP"]="gbp";t["GEL"]="gel";t["GHS"]="ghs";t["GIP"]="gip";t["GMD"]="gmd";t["GNF"]="gnf";t["GTQ"]="gtq";t["GYD"]="gyd";t["HKD"]="hkd";t["HNL"]="hnl";t["HRK"]="hrk";t["HTG"]="htg";t["HUF"]="huf";t["IDR"]="idr";t["ILS"]="ils";t["INR"]="inr";t["IQD"]="iqd";t["IRR"]="irr";t["ISK"]="isk";t["JMD"]="jmd";t["JOD"]="jod";t["JPY"]="jpy";t["KES"]="kes";t["KGS"]="kgs";t["KHR"]="khr";t["KMF"]="kmf";t["KPW"]="kpw";t["KRW"]="krw";t["KWD"]="kwd";t["KYD"]="kyd";t["KZT"]="kzt";t["LAK"]="lak";t["LBP"]="lbp";t["LKR"]="lkr";t["LRD"]="lrd";t["LSL"]="lsl";t["LTL"]="ltl";t["LVL"]="lvl";t["LYD"]="lyd";t["MAD"]="mad";t["MDL"]="mdl";t["MGA"]="mga";t["MKD"]="mkd";t["MMK"]="mmk";t["MNT"]="mnt";t["MOP"]="mop";t["MRO"]="mro";t["MUR"]="mur";t["MVR"]="mvr";t["MWK"]="mwk";t["MXN"]="mxn";t["MXV"]="mxv";t["MYR"]="myr";t["MZN"]="mzn";t["NAD"]="nad";t["NGN"]="ngn";t["NIO"]="nio";t["NOK"]="nok";t["NPR"]="npr";t["NZD"]="nzd";t["OMR"]="omr";t["PAB"]="pab";t["PEN"]="pen";t["PGK"]="pgk";t["PHP"]="php";t["PKR"]="pkr";t["PLN"]="pln";t["PYG"]="pyg";t["QAR"]="qar";t["RON"]="ron";t["RSD"]="rsd";t["RUB"]="rub";t["RWF"]="rwf";t["SAR"]="sar";t["SBD"]="sbd";t["SCR"]="scr";t["SDG"]="sdg";t["SEK"]="sek";t["SGD"]="sgd";t["SHP"]="shp";t["SLL"]="sll";t["SOS"]="sos";t["SRD"]="srd";t["SSP"]="ssp";t["STD"]="std";t["SVC"]="svc";t["SYP"]="syp";t["SZL"]="szl";t["THB"]="thb";t["TJS"]="tjs";t["TMT"]="tmt";t["TND"]="tnd";t["TOP"]="top";t["TRY"]="try";t["TTD"]="ttd";t["TWD"]="twd";t["TZS"]="tzs";t["UAH"]="uah";t["UGX"]="ugx";t["USD"]="usd";t["USN"]="usn";t["USS"]="uss";t["UYI"]="uyi";t["UYU"]="uyu";t["UZS"]="uzs";t["VEF"]="vef";t["VND"]="vnd";t["VUV"]="vuv";t["WST"]="wst";t["XAF"]="xaf";t["XAG"]="xag";t["XAU"]="xau";t["XBA"]="xba";t["XBB"]="xbb";t["XBC"]="xbc";t["XBD"]="xbd";t["XCD"]="xcd";t["XDR"]="xdr";t["XFU"]="xfu";t["XOF"]="xof";t["XPD"]="xpd";t["XPF"]="xpf";t["XPT"]="xpt";t["XSU"]="xsu";t["XTS"]="xts";t["XUA"]="xua";t["YER"]="yer";t["ZAR"]="zar";t["ZMW"]="zmw";t["ZWL"]="zwl"})(hr||(hr={}));({[hr.AED]:2,[hr.AFN]:2,[hr.ALL]:2,[hr.AMD]:2,[hr.ANG]:2,[hr.AOA]:2,[hr.ARS]:2,[hr.AUD]:2,[hr.AWG]:2,[hr.AZN]:2,[hr.BAM]:2,[hr.BBD]:2,[hr.BDT]:2,[hr.BGN]:2,[hr.BHD]:3,[hr.BIF]:0,[hr.BMD]:2,[hr.BND]:2,[hr.BOB]:2,[hr.BOV]:2,[hr.BRL]:2,[hr.BSD]:2,[hr.BTN]:2,[hr.BWP]:2,[hr.BYR]:0,[hr.BYN]:2,[hr.BZD]:2,[hr.CAD]:2,[hr.CDF]:2,[hr.CHE]:2,[hr.CHF]:2,[hr.CHW]:2,[hr.CLF]:0,[hr.CLP]:0,[hr.CNY]:2,[hr.COP]:2,[hr.COU]:2,[hr.CRC]:2,[hr.CUC]:2,[hr.CUP]:2,[hr.CVE]:2,[hr.CZK]:2,[hr.DJF]:0,[hr.DKK]:2,[hr.DOP]:2,[hr.DZD]:2,[hr.EGP]:2,[hr.ERN]:2,[hr.ETB]:2,[hr.EUR]:2,[hr.FJD]:2,[hr.FKP]:2,[hr.GBP]:2,[hr.GEL]:2,[hr.GHS]:2,[hr.GIP]:2,[hr.GMD]:2,[hr.GNF]:0,[hr.GTQ]:2,[hr.GYD]:2,[hr.HKD]:2,[hr.HNL]:2,[hr.HRK]:2,[hr.HTG]:2,[hr.HUF]:2,[hr.IDR]:2,[hr.ILS]:2,[hr.INR]:2,[hr.IQD]:3,[hr.IRR]:2,[hr.ISK]:0,[hr.JMD]:2,[hr.JOD]:3,[hr.JPY]:0,[hr.KES]:2,[hr.KGS]:2,[hr.KHR]:2,[hr.KMF]:0,[hr.KPW]:2,[hr.KRW]:0,[hr.KWD]:3,[hr.KYD]:2,[hr.KZT]:2,[hr.LAK]:2,[hr.LBP]:2,[hr.LKR]:2,[hr.LRD]:2,[hr.LSL]:2,[hr.LTL]:2,[hr.LVL]:2,[hr.LYD]:3,[hr.MAD]:2,[hr.MDL]:2,[hr.MGA]:2,[hr.MKD]:2,[hr.MMK]:2,[hr.MNT]:2,[hr.MOP]:2,[hr.MRO]:2,[hr.MUR]:2,[hr.MVR]:2,[hr.MWK]:2,[hr.MXN]:2,[hr.MXV]:2,[hr.MYR]:2,[hr.MZN]:2,[hr.NAD]:2,[hr.NGN]:2,[hr.NIO]:2,[hr.NOK]:2,[hr.NPR]:2,[hr.NZD]:2,[hr.OMR]:3,[hr.PAB]:2,[hr.PEN]:2,[hr.PGK]:2,[hr.PHP]:2,[hr.PKR]:2,[hr.PLN]:2,[hr.PYG]:0,[hr.QAR]:2,[hr.RON]:2,[hr.RSD]:2,[hr.RUB]:2,[hr.RWF]:0,[hr.SAR]:2,[hr.SBD]:2,[hr.SCR]:2,[hr.SDG]:2,[hr.SEK]:2,[hr.SGD]:2,[hr.SHP]:2,[hr.SLL]:2,[hr.SOS]:2,[hr.SRD]:2,[hr.SSP]:2,[hr.STD]:2,[hr.SVC]:2,[hr.SYP]:2,[hr.SZL]:2,[hr.THB]:2,[hr.TJS]:2,[hr.TMT]:2,[hr.TND]:3,[hr.TOP]:2,[hr.TRY]:2,[hr.TTD]:2,[hr.TWD]:2,[hr.TZS]:2,[hr.UAH]:2,[hr.UGX]:0,[hr.USD]:2,[hr.USN]:2,[hr.USS]:2,[hr.UYI]:0,[hr.UYU]:2,[hr.UZS]:2,[hr.VEF]:2,[hr.VND]:0,[hr.VUV]:0,[hr.WST]:2,[hr.XAF]:0,[hr.XAG]:0,[hr.XAU]:0,[hr.XBA]:0,[hr.XBB]:0,[hr.XBC]:0,[hr.XBD]:0,[hr.XCD]:2,[hr.XDR]:0,[hr.XFU]:0,[hr.XOF]:0,[hr.XPD]:0,[hr.XPF]:0,[hr.XPT]:0,[hr.XSU]:0,[hr.XTS]:0,[hr.XUA]:0,[hr.YER]:2,[hr.ZAR]:2,[hr.ZMW]:2,[hr.ZWL]:2});var ur={exports:{}};ur.exports;var cr;function requireLodash_transform(){if(cr)return ur.exports;cr=1;(function(t,e){var i=200;var r="Expected a function";var s="__lodash_hash_undefined__";var n=1,a=2;var l=9007199254740991;var h="[object Arguments]",u="[object Array]",c="[object Boolean]",f="[object Date]",d="[object Error]",v="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Object]",x="[object Promise]",b="[object RegExp]",T="[object Set]",w="[object String]",E="[object Symbol]",S="[object WeakMap]";var A="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",k="[object Uint16Array]",F="[object Uint32Array]";var B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,U=/^\./,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var V=/[\\^$.*+?()[\]{}|]/g;var G=/\\(\\)?/g;var X=/^\[object .+?Constructor\]$/;var Y=/^(?:0|[1-9]\d*)$/;var H={};H[O]=H[P]=H[I]=H[R]=H[M]=H[L]=H[D]=H[k]=H[F]=true;H[h]=H[u]=H[A]=H[c]=H[C]=H[f]=H[d]=H[v]=H[g]=H[m]=H[y]=H[b]=H[T]=H[w]=H[S]=false;var W=typeof o=="object"&&o&&o.Object===Object&&o;var j=typeof self=="object"&&self&&self.Object===Object&&self;var Z=W||j||Function("return this")();var q=e&&!e.nodeType&&e;var K=q&&true&&t&&!t.nodeType&&t;var J=K&&K.exports===q;var Q=J&&W.process;var tt=function(){try{return Q&&Q.binding("util")}catch(t){}}();var et=tt&&tt.isTypedArray;function arrayEach(t,e){var i=-1,r=t?t.length:0;while(++i<r){if(e(t[i],i,t)===false){break}}return t}function arraySome(t,e){var i=-1,r=t?t.length:0;while(++i<r){if(e(t[i],i,t)){return true}}return false}function baseProperty(t){return function(e){return e==null?void 0:e[t]}}function baseTimes(t,e){var i=-1,r=Array(t);while(++i<t){r[i]=e(i)}return r}function baseUnary(t){return function(e){return t(e)}}function getValue(t,e){return t==null?void 0:t[e]}function isHostObject(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(i){}}return e}function mapToArray(t){var e=-1,i=Array(t.size);t.forEach((function(t,r){i[++e]=[r,t]}));return i}function overArg(t,e){return function(i){return t(e(i))}}function setToArray(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var it=Array.prototype,rt=Function.prototype,st=Object.prototype;var nt=Z["__core-js_shared__"];var at=function(){var t=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ot=rt.toString;var lt=st.hasOwnProperty;var ht=st.toString;var ut=RegExp("^"+ot.call(lt).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=Z.Symbol,ft=Z.Uint8Array,dt=overArg(Object.getPrototypeOf,Object),vt=Object.create,pt=st.propertyIsEnumerable,gt=it.splice;var mt=overArg(Object.keys,Object);var yt=getNative(Z,"DataView"),xt=getNative(Z,"Map"),bt=getNative(Z,"Promise"),Tt=getNative(Z,"Set"),wt=getNative(Z,"WeakMap"),Et=getNative(Object,"create");var St=toSource(yt),_t=toSource(xt),At=toSource(bt),Ct=toSource(Tt),Ot=toSource(wt);var Pt=ct?ct.prototype:void 0,It=Pt?Pt.valueOf:void 0,Rt=Pt?Pt.toString:void 0;function Hash(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}function hashClear(){this.__data__=Et?Et(null):{}}function hashDelete(t){return this.has(t)&&delete this.__data__[t]}function hashGet(t){var e=this.__data__;if(Et){var i=e[t];return i===s?void 0:i}return lt.call(e,t)?e[t]:void 0}function hashHas(t){var e=this.__data__;return Et?e[t]!==void 0:lt.call(e,t)}function hashSet(t,e){var i=this.__data__;i[t]=Et&&e===void 0?s:e;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(t){var e=this.__data__,i=assocIndexOf(e,t);if(i<0){return false}var r=e.length-1;if(i==r){e.pop()}else{gt.call(e,i,1)}return true}function listCacheGet(t){var e=this.__data__,i=assocIndexOf(e,t);return i<0?void 0:e[i][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var i=this.__data__,r=assocIndexOf(i,t);if(r<0){i.push([t,e])}else{i[r][1]=e}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(xt||ListCache),string:new Hash}}function mapCacheDelete(t){return getMapData(this,t)["delete"](t)}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){getMapData(this,t).set(t,e);return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(t){var e=-1,i=t?t.length:0;this.__data__=new MapCache;while(++e<i){this.add(t[e])}}function setCacheAdd(t){this.__data__.set(t,s);return this}function setCacheHas(t){return this.__data__.has(t)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(t){this.__data__=new ListCache(t)}function stackClear(){this.__data__=new ListCache}function stackDelete(t){return this.__data__["delete"](t)}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}function stackSet(t,e){var r=this.__data__;if(r instanceof ListCache){var s=r.__data__;if(!xt||s.length<i-1){s.push([t,e]);return this}r=this.__data__=new MapCache(s)}r.set(t,e);return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(t,e){var i=kt(t)||isArguments(t)?baseTimes(t.length,String):[];var r=i.length,s=!!r;for(var n in t){if(lt.call(t,n)&&!(s&&(n=="length"||isIndex(n,r)))){i.push(n)}}return i}function assocIndexOf(t,e){var i=t.length;while(i--){if(eq(t[i][0],e)){return i}}return-1}function baseCreate(t){return isObject(t)?vt(t):{}}var Mt=createBaseFor();function baseForOwn(t,e){return t&&Mt(t,e,keys)}function baseGet(t,e){e=isKey(e,t)?[e]:castPath(e);var i=0,r=e.length;while(t!=null&&i<r){t=t[toKey(e[i++])]}return i&&i==r?t:void 0}function baseGetTag(t){return ht.call(t)}function baseHasIn(t,e){return t!=null&&e in Object(t)}function baseIsEqual(t,e,i,r,s){if(t===e){return true}if(t==null||e==null||!isObject(t)&&!isObjectLike(e)){return t!==t&&e!==e}return baseIsEqualDeep(t,e,baseIsEqual,i,r,s)}function baseIsEqualDeep(t,e,i,r,s,n){var o=kt(t),l=kt(e),c=u,f=u;if(!o){c=Lt(t);c=c==h?y:c}if(!l){f=Lt(e);f=f==h?y:f}var d=c==y&&!isHostObject(t),v=f==y&&!isHostObject(e),p=c==f;if(p&&!d){n||(n=new Stack);return o||Ft(t)?equalArrays(t,e,i,r,s,n):equalByTag(t,e,c,i,r,s,n)}if(!(s&a)){var g=d&&lt.call(t,"__wrapped__"),m=v&&lt.call(e,"__wrapped__");if(g||m){var x=g?t.value():t,b=m?e.value():e;n||(n=new Stack);return i(x,b,r,s,n)}}if(!p){return false}n||(n=new Stack);return equalObjects(t,e,i,r,s,n)}function baseIsMatch(t,e,i,r){var s=i.length,o=s;if(t==null){return!o}t=Object(t);while(s--){var l=i[s];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t)){return false}}while(++s<o){l=i[s];var h=l[0],u=t[h],c=l[1];if(l[2]){if(u===void 0&&!(h in t)){return false}}else{var f=new Stack;var d;if(!(d===void 0?baseIsEqual(c,u,r,n|a,f):d)){return false}}}return true}function baseIsNative(t){if(!isObject(t)||isMasked(t)){return false}var e=isFunction(t)||isHostObject(t)?ut:X;return e.test(toSource(t))}function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!H[ht.call(t)]}function baseIteratee(t){if(typeof t=="function"){return t}if(t==null){return identity}if(typeof t=="object"){return kt(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t)}return property(t)}function baseKeys(t){if(!isPrototype(t)){return mt(t)}var e=[];for(var i in Object(t)){if(lt.call(t,i)&&i!="constructor"){e.push(i)}}return e}function baseMatches(t){var e=getMatchData(t);if(e.length==1&&e[0][2]){return matchesStrictComparable(e[0][0],e[0][1])}return function(i){return i===t||baseIsMatch(i,t,e)}}function baseMatchesProperty(t,e){if(isKey(t)&&isStrictComparable(e)){return matchesStrictComparable(toKey(t),e)}return function(i){var r=get2(i,t);return r===void 0&&r===e?hasIn(i,t):baseIsEqual(e,r,void 0,n|a)}}function basePropertyDeep(t){return function(e){return baseGet(e,t)}}function baseToString(t){if(typeof t=="string"){return t}if(isSymbol(t)){return Rt?Rt.call(t):""}var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function castPath(t){return kt(t)?t:Dt(t)}function createBaseFor(t){return function(t,e,i){var r=-1,s=Object(t),n=i(t),a=n.length;while(a--){var o=n[++r];if(e(s[o],o,s)===false){break}}return t}}function equalArrays(t,e,i,r,s,o){var l=s&a,h=t.length,u=e.length;if(h!=u&&!(l&&u>h)){return false}var c=o.get(t);if(c&&o.get(e)){return c==e}var f=-1,d=true,v=s&n?new SetCache:void 0;o.set(t,e);o.set(e,t);while(++f<h){var p=t[f],g=e[f];if(r){var m=l?r(g,p,f,e,t,o):r(p,g,f,t,e,o)}if(m!==void 0){if(m){continue}d=false;break}if(v){if(!arraySome(e,(function(t,e){if(!v.has(e)&&(p===t||i(p,t,r,s,o))){return v.add(e)}}))){d=false;break}}else if(!(p===g||i(p,g,r,s,o))){d=false;break}}o["delete"](t);o["delete"](e);return d}function equalByTag(t,e,i,r,s,o,l){switch(i){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case A:if(t.byteLength!=e.byteLength||!r(new ft(t),new ft(e))){return false}return true;case c:case f:case m:return eq(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case w:return t==e+"";case g:var h=mapToArray;case T:var u=o&a;h||(h=setToArray);if(t.size!=e.size&&!u){return false}var v=l.get(t);if(v){return v==e}o|=n;l.set(t,e);var p=equalArrays(h(t),h(e),r,s,o,l);l["delete"](t);return p;case E:if(It){return It.call(t)==It.call(e)}}return false}function equalObjects(t,e,i,r,s,n){var o=s&a,l=keys(t),h=l.length,u=keys(e),c=u.length;if(h!=c&&!o){return false}var f=h;while(f--){var d=l[f];if(!(o?d in e:lt.call(e,d))){return false}}var v=n.get(t);if(v&&n.get(e)){return v==e}var p=true;n.set(t,e);n.set(e,t);var g=o;while(++f<h){d=l[f];var m=t[d],y=e[d];if(r){var x=o?r(y,m,d,e,t,n):r(m,y,d,t,e,n)}if(!(x===void 0?m===y||i(m,y,r,s,n):x)){p=false;break}g||(g=d=="constructor")}if(p&&!g){var b=t.constructor,T=e.constructor;if(b!=T&&("constructor"in t&&"constructor"in e)&&!(typeof b=="function"&&b instanceof b&&typeof T=="function"&&T instanceof T)){p=false}}n["delete"](t);n["delete"](e);return p}function getMapData(t,e){var i=t.__data__;return isKeyable(e)?i[typeof e=="string"?"string":"hash"]:i.map}function getMatchData(t){var e=keys(t),i=e.length;while(i--){var r=e[i],s=t[r];e[i]=[r,s,isStrictComparable(s)]}return e}function getNative(t,e){var i=getValue(t,e);return baseIsNative(i)?i:void 0}var Lt=baseGetTag;if(yt&&Lt(new yt(new ArrayBuffer(1)))!=C||xt&&Lt(new xt)!=g||bt&&Lt(bt.resolve())!=x||Tt&&Lt(new Tt)!=T||wt&&Lt(new wt)!=S){Lt=function(t){var e=ht.call(t),i=e==y?t.constructor:void 0,r=i?toSource(i):void 0;if(r){switch(r){case St:return C;case _t:return g;case At:return x;case Ct:return T;case Ot:return S}}return e}}function hasPath(t,e,i){e=isKey(e,t)?[e]:castPath(e);var r,s=-1,n=e.length;while(++s<n){var a=toKey(e[s]);if(!(r=t!=null&&i(t,a))){break}t=t[a]}if(r){return r}var n=t?t.length:0;return!!n&&isLength(n)&&isIndex(a,n)&&(kt(t)||isArguments(t))}function isIndex(t,e){e=e==null?l:e;return!!e&&(typeof t=="number"||Y.test(t))&&(t>-1&&t%1==0&&t<e)}function isKey(t,e){if(kt(t)){return false}var i=typeof t;if(i=="number"||i=="symbol"||i=="boolean"||t==null||isSymbol(t)){return true}return N.test(t)||!B.test(t)||e!=null&&t in Object(e)}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function isMasked(t){return!!at&&at in t}function isPrototype(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||st;return t===i}function isStrictComparable(t){return t===t&&!isObject(t)}function matchesStrictComparable(t,e){return function(i){if(i==null){return false}return i[t]===e&&(e!==void 0||t in Object(i))}}var Dt=memoize((function(t){t=toString2(t);var e=[];if(U.test(t)){e.push("")}t.replace(z,(function(t,i,r,s){e.push(r?s.replace(G,"$1"):i||t)}));return e}));function toKey(t){if(typeof t=="string"||isSymbol(t)){return t}var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function toSource(t){if(t!=null){try{return ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function memoize(t,e){if(typeof t!="function"||e&&typeof e!="function"){throw new TypeError(r)}var memoized=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=memoized.cache;if(s.has(r)){return s.get(r)}var n=t.apply(this,i);memoized.cache=s.set(r,n);return n};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function eq(t,e){return t===e||t!==t&&e!==e}function isArguments(t){return isArrayLikeObject(t)&&lt.call(t,"callee")&&(!pt.call(t,"callee")||ht.call(t)==h)}var kt=Array.isArray;function isArrayLike(t){return t!=null&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isFunction(t){var e=isObject(t)?ht.call(t):"";return e==v||e==p}function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=l}function isObject(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike(t){return!!t&&typeof t=="object"}function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&ht.call(t)==E}var Ft=et?baseUnary(et):baseIsTypedArray;function toString2(t){return t==null?"":baseToString(t)}function get2(t,e,i){var r=t==null?void 0:baseGet(t,e);return r===void 0?i:r}function hasIn(t,e){return t!=null&&hasPath(t,e,baseHasIn)}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function transform2(t,e,i){var r=kt(t)||Ft(t);e=baseIteratee(e);if(i==null){if(r||isObject(t)){var s=t.constructor;if(r){i=kt(t)?new s:[]}else{i=isFunction(s)?baseCreate(dt(t)):{}}}else{i={}}}(r?arrayEach:baseForOwn)(t,(function(t,r,s){return e(i,t,r,s)}));return i}function identity(t){return t}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}t.exports=transform2})(ur,ur.exports);return ur.exports}var fr=requireLodash_transform();var dr=getDefaultExportFromCjs(fr);class DiscordSDKMock{constructor(t,e,i,r){this.platform=Ht.DESKTOP;this.instanceId="123456789012345678";this.configuration=getDefaultSdkConfiguration();this.source=null;this.sourceOrigin="";this.sdkVersion="mock";this.mobileAppVersion="unknown";this.frameId="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa";this.eventBus=new c;this.clientId=t;this.commands=this._updateCommandMocks({});this.guildId=e;this.channelId=i;this.locationId=r;this.customId=null;this.referrerId=null}_updateCommandMocks(t){this.commands=dr(Object.assign({},vr,t),((t,e,i)=>{t[i]=async(...t)=>{console.info(`DiscordSDKMock: ${String(i)}(${JSON.stringify(t)})`);return await e(...t)}}));return this.commands}emitReady(){this.emitEvent("READY",void 0)}close(...t){console.info(`DiscordSDKMock: close(${JSON.stringify(t)})`)}ready(){return Promise.resolve()}async subscribe(t,e,...i){return await this.eventBus.on(t,e)}async unsubscribe(t,e,...i){return await this.eventBus.off(t,e)}emitEvent(t,e){this.eventBus.emit(t,e)}}const vr={authorize:()=>Promise.resolve({code:"mock_code"}),authenticate:()=>Promise.resolve({access_token:"mock_token",user:{username:"mock_user_username",discriminator:"mock_user_discriminator",id:"mock_user_id",avatar:null,public_flags:1},scopes:[],expires:new Date(2121,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}}),setActivity:()=>Promise.resolve({name:"mock_activity_name",type:0}),getChannel:()=>Promise.resolve({id:"mock_channel_id",name:"mock_channel_name",type:Te.GUILD_TEXT,voice_states:[],messages:[]}),getSkus:()=>Promise.resolve({skus:[]}),getEntitlements:()=>Promise.resolve({entitlements:[]}),startPurchase:()=>Promise.resolve([]),setConfig:()=>Promise.resolve({use_interactive_pip:false}),userSettingsGetLocale:()=>Promise.resolve({locale:""}),openExternalLink:()=>Promise.resolve({opened:false}),encourageHardwareAcceleration:()=>Promise.resolve({enabled:true}),captureLog:()=>Promise.resolve(null),setOrientationLockState:()=>Promise.resolve(null),openInviteDialog:()=>Promise.resolve(null),getPlatformBehaviors:()=>Promise.resolve({iosKeyboardResizesView:true}),getChannelPermissions:()=>Promise.resolve({permissions:Ct(1234567890)}),openShareMomentDialog:()=>Promise.resolve(null),shareLink:()=>Promise.resolve({success:false}),initiateImageUpload:()=>Promise.resolve({image_url:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b52aa9e99b832574a53_full_logo_blurple_RGB.png"}),getInstanceConnectedParticipants:()=>Promise.resolve({participants:[]})};typeof SuppressedError==="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};var pr={};if(!ArrayBuffer.isView){ArrayBuffer.isView=t=>t!==null&&typeof t==="object"&&t.buffer instanceof ArrayBuffer}if(typeof FormData==="undefined"){e["FormData"]=class{}}if(typeof globalThis==="undefined"&&typeof window!=="undefined"){window["globalThis"]=window}var gr={};var extendStatics=function(t,e){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]};return extendStatics(t,e)};function __extends(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(t,e);function __(){this.constructor=t}t.prototype=e===null?Object.create(e):(__.prototype=e.prototype,new __)}var __assign=function(){__assign=Object.assign||function __assign2(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s))t[s]=e[s]}return t};return __assign.apply(this,arguments)};function __rest(t,e){var i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0)i[r]=t[r];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++){if(e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s]))i[r[s]]=t[r[s]]}return i}function __decorate(t,e,i,r){var s=arguments.length,n=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)if(a=t[o])n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n;return s>3&&n&&Object.defineProperty(e,i,n),n}function __param(t,e){return function(i,r){e(i,r,t)}}function __esDecorate(t,e,i,r,s,n){function accept(t){if(t!==void 0&&typeof t!=="function")throw new TypeError("Function expected");return t}var a=r.kind,o=a==="getter"?"get":a==="setter"?"set":"value";var l=!e&&t?r["static"]?t:t.prototype:null;var h=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{});var u,c=false;for(var f=i.length-1;f>=0;f--){var d={};for(var v in r)d[v]=v==="access"?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(t){if(c)throw new TypeError("Cannot add initializers after decoration has completed");n.push(accept(t||null))};var p=(0,i[f])(a==="accessor"?{get:h.get,set:h.set}:h[o],d);if(a==="accessor"){if(p===void 0)continue;if(p===null||typeof p!=="object")throw new TypeError("Object expected");if(u=accept(p.get))h.get=u;if(u=accept(p.set))h.set=u;if(u=accept(p.init))s.unshift(u)}else if(u=accept(p)){if(a==="field")s.unshift(u);else h[o]=u}}if(l)Object.defineProperty(l,r.name,h);c=true}function __runInitializers(t,e,i){var r=arguments.length>2;for(var s=0;s<e.length;s++){i=r?e[s].call(t,i):e[s].call(t)}return r?i:void 0}function __propKey(t){return typeof t==="symbol"?t:"".concat(t)}function __setFunctionName(t,e,i){if(typeof e==="symbol")e=e.description?"[".concat(e.description,"]"):"";return Object.defineProperty(t,"name",{configurable:true,value:i?"".concat(i," ",e):e})}function __metadata(t,e){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(t,e)}function __awaiter(t,e,i,r){function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function fulfilled(t){try{step(r.next(t))}catch(e){s(e)}}function rejected(t){try{step(r["throw"](t))}catch(e){s(e)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))}function __generator(t,e){var i={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,s,n,a=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return a.next=verb(0),a["throw"]=verb(1),a["return"]=verb(2),typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(t){return function(e){return step([t,e])}}function step(o){if(r)throw new TypeError("Generator is already executing.");while(a&&(a=0,o[0]&&(i=0)),i)try{if(r=1,s&&(n=o[0]&2?s["return"]:o[0]?s["throw"]||((n=s["return"])&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;if(s=0,n)o=[o[0]&2,n.value];switch(o[0]){case 0:case 1:n=o;break;case 4:i.label++;return{value:o[1],done:false};case 5:i.label++;s=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(n=i.trys,n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(o[0]===6&&i.label<n[1]){i.label=n[1];n=o;break}if(n&&i.label<n[2]){i.label=n[2];i.ops.push(o);break}if(n[2])i.ops.pop();i.trys.pop();continue}o=e.call(t,i)}catch(l){o=[6,l];s=0}finally{r=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}var mr=Object.create?function(t,e,i,r){if(r===void 0)r=i;var s=Object.getOwnPropertyDescriptor(e,i);if(!s||("get"in s?!e.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return e[i]}}}Object.defineProperty(t,r,s)}:function(t,e,i,r){if(r===void 0)r=i;t[r]=e[i]};function __exportStar(t,e){for(var i in t)if(i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i))mr(e,t,i)}function __values(t){var e=typeof Symbol==="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&r>=t.length)t=void 0;return{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var i=typeof Symbol==="function"&&t[Symbol.iterator];if(!i)return t;var r=i.call(t),s,n=[],a;try{while((e===void 0||e-- >0)&&!(s=r.next()).done)n.push(s.value)}catch(o){a={error:o}}finally{try{if(s&&!s.done&&(i=r["return"]))i.call(r)}finally{if(a)throw a.error}}return n}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<i;e++)for(var n=arguments[e],a=0,o=n.length;a<o;a++,s++)r[s]=n[a];return r}function __spreadArray(t,e,i){if(i||arguments.length===2)for(var r=0,s=e.length,n;r<s;r++){if(n||!(r in e)){if(!n)n=Array.prototype.slice.call(e,0,r);n[r]=e[r]}}return t.concat(n||Array.prototype.slice.call(e))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),s,n=[];return s=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),s[Symbol.asyncIterator]=function(){return this},s;function awaitReturn(t){return function(e){return Promise.resolve(e).then(t,reject)}}function verb(t,e){if(r[t]){s[t]=function(e){return new Promise((function(i,r){n.push([t,e,i,r])>1||resume(t,e)}))};if(e)s[t]=e(s[t])}}function resume(t,e){try{step(r[t](e))}catch(i){settle(n[0][3],i)}}function step(t){t.value instanceof __await?Promise.resolve(t.value.v).then(fulfill,reject):settle(n[0][2],t)}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,e){if(t(e),n.shift(),n.length)resume(n[0][0],n[0][1])}}function __asyncDelegator(t){var e,i;return e={},verb("next"),verb("throw",(function(t){throw t})),verb("return"),e[Symbol.iterator]=function(){return this},e;function verb(r,s){e[r]=t[r]?function(e){return(i=!i)?{value:__await(t[r](e)),done:false}:s?s(e):e}:s}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof __values==="function"?__values(t):t[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(e){i[e]=t[e]&&function(i){return new Promise((function(r,s){i=t[e](i),settle(r,s,i.done,i.value)}))}}function settle(t,e,i,r){Promise.resolve(r).then((function(e){t({value:e,done:i})}),e)}}function __makeTemplateObject(t,e){if(Object.defineProperty){Object.defineProperty(t,"raw",{value:e})}else{t.raw=e}return t}var yr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e};var ownKeys=function(t){ownKeys=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[e.length]=i;return e};return ownKeys(t)};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var i=ownKeys(t),r=0;r<i.length;r++)if(i[r]!=="default")mr(e,t,i[r])}yr(e,t);return e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)}function __classPrivateFieldSet(t,e,i,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}function __classPrivateFieldIn(t,e){if(e===null||typeof e!=="object"&&typeof e!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t==="function"?e===t:t.has(e)}function __addDisposableResource(t,e,i){if(e!==null&&e!==void 0){if(typeof e!=="object"&&typeof e!=="function")throw new TypeError("Object expected.");var r,s;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose];if(i)s=r}if(typeof r!=="function")throw new TypeError("Object not disposable.");if(s)r=function(){try{s.call(this)}catch(t){return Promise.reject(t)}};t.stack.push({value:e,dispose:r,async:i})}else if(i){t.stack.push({async:true})}return e}var xr=typeof SuppressedError==="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function __disposeResources(t){function fail(e){t.error=t.hasError?new xr(e,t.error,"An error was suppressed during disposal."):e;t.hasError=true}var e,i=0;function next(){while(e=t.stack.pop()){try{if(!e.async&&i===1)return i=0,t.stack.push(e),Promise.resolve().then(next);if(e.dispose){var r=e.dispose.call(e.value);if(e.async)return i|=2,Promise.resolve(r).then(next,(function(t){fail(t);return next()}))}else i|=1}catch(s){fail(s)}}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return next()}function __rewriteRelativeImportExtension(t,e){if(typeof t==="string"&&/^\.\.?\//.test(t)){return t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(t,i,r,s,n){return i?e?".jsx":".js":r&&(!s||!n)?t:r+s+"."+n.toLowerCase()+"js"}))}return t}const br={__extends:__extends,__assign:__assign,__rest:__rest,__decorate:__decorate,__param:__param,__esDecorate:__esDecorate,__runInitializers:__runInitializers,__propKey:__propKey,__setFunctionName:__setFunctionName,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__createBinding:mr,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__spreadArrays:__spreadArrays,__spreadArray:__spreadArray,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldSet:__classPrivateFieldSet,__classPrivateFieldIn:__classPrivateFieldIn,__addDisposableResource:__addDisposableResource,__disposeResources:__disposeResources,__rewriteRelativeImportExtension:__rewriteRelativeImportExtension};const Tr=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:__addDisposableResource,get __assign(){return __assign},__asyncDelegator:__asyncDelegator,__asyncGenerator:__asyncGenerator,__asyncValues:__asyncValues,__await:__await,__awaiter:__awaiter,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldIn:__classPrivateFieldIn,__classPrivateFieldSet:__classPrivateFieldSet,__createBinding:mr,__decorate:__decorate,__disposeResources:__disposeResources,__esDecorate:__esDecorate,__exportStar:__exportStar,__extends:__extends,__generator:__generator,__importDefault:__importDefault,__importStar:__importStar,__makeTemplateObject:__makeTemplateObject,__metadata:__metadata,__param:__param,__propKey:__propKey,__read:__read,__rest:__rest,__rewriteRelativeImportExtension:__rewriteRelativeImportExtension,__runInitializers:__runInitializers,__setFunctionName:__setFunctionName,__spread:__spread,__spreadArray:__spreadArray,__spreadArrays:__spreadArrays,__values:__values,default:br},Symbol.toStringTag,{value:"Module"}));const wr=getAugmentedNamespace(Tr);var Er={};(function(t){t.CloseCode=void 0;(function(t){t[t["CONSENTED"]=4e3]="CONSENTED";t[t["DEVMODE_RESTART"]=4010]="DEVMODE_RESTART"})(t.CloseCode||(t.CloseCode={}));class ServerError2 extends Error{constructor(t,e){super(e);this.name="ServerError";this.code=t}}t.ServerError=ServerError2})(Er);var Sr={};var _r={};var Ar={};var Cr={exports:{}};(function(t,i){(function(t,e){e(i)})(e,(function(t){const e=255;const i=213;t.OPERATION=void 0;(function(t){t[t["ADD"]=128]="ADD";t[t["REPLACE"]=0]="REPLACE";t[t["DELETE"]=64]="DELETE";t[t["DELETE_AND_MOVE"]=96]="DELETE_AND_MOVE";t[t["MOVE_AND_ADD"]=160]="MOVE_AND_ADD";t[t["DELETE_AND_ADD"]=192]="DELETE_AND_ADD";t[t["CLEAR"]=10]="CLEAR";t[t["REVERSE"]=15]="REVERSE";t[t["MOVE"]=32]="MOVE";t[t["DELETE_BY_REFID"]=33]="DELETE_BY_REFID";t[t["ADD_BY_REFID"]=129]="ADD_BY_REFID"})(t.OPERATION||(t.OPERATION={}));Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));const r=Symbol("$track");const s=Symbol("$encoder");const n=Symbol("$decoder");const a=Symbol("$filter");const o=Symbol("$getByIndex");const l=Symbol("$deleteByIndex");const h=Symbol("$changes");const u=Symbol("$childType");const c=Symbol("$onEncodeEnd");const f=Symbol("$onDecodeEnd");const d=Symbol("$descriptors");const v="$__numFields";const p="$__refTypeFieldIndexes";const g="$__viewFieldIndexes";const m="$__fieldIndexesByViewTag";let y;try{y=new TextEncoder}catch(ct){}const x=new ArrayBuffer(8);const b=new Int32Array(x);const T=new Float32Array(x);const w=new Float64Array(x);const E=new BigInt64Array(x);const S=typeof Buffer!=="undefined"&&Buffer.byteLength;const A=S?Buffer.byteLength:function(t,e){var i=0,r=0;for(var s=0,n=t.length;s<n;s++){i=t.charCodeAt(s);if(i<128){r+=1}else if(i<2048){r+=2}else if(i<55296||i>=57344){r+=3}else{s++;r+=4}}return r};function utf8Write(t,e,i){var r=0;for(var s=0,n=e.length;s<n;s++){r=e.charCodeAt(s);if(r<128){t[i.offset++]=r}else if(r<2048){t[i.offset]=192|r>>6;t[i.offset+1]=128|r&63;i.offset+=2}else if(r<55296||r>=57344){t[i.offset]=224|r>>12;t[i.offset+1]=128|r>>6&63;t[i.offset+2]=128|r&63;i.offset+=3}else{s++;r=65536+((r&1023)<<10|e.charCodeAt(s)&1023);t[i.offset]=240|r>>18;t[i.offset+1]=128|r>>12&63;t[i.offset+2]=128|r>>6&63;t[i.offset+3]=128|r&63;i.offset+=4}}}function int8$1(t,e,i){t[i.offset++]=e&255}function uint8$1(t,e,i){t[i.offset++]=e&255}function int16$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255}function uint16$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255}function int32$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255;t[i.offset++]=e>>16&255;t[i.offset++]=e>>24&255}function uint32$1(t,e,i){const r=e>>24;const s=e>>16;const n=e>>8;const a=e;t[i.offset++]=a&255;t[i.offset++]=n&255;t[i.offset++]=s&255;t[i.offset++]=r&255}function int64$1(t,e,i){const r=Math.floor(e/Math.pow(2,32));const s=e>>>0;uint32$1(t,s,i);uint32$1(t,r,i)}function uint64$1(t,e,i){const r=e/Math.pow(2,32)>>0;const s=e>>>0;uint32$1(t,s,i);uint32$1(t,r,i)}function bigint64$1(t,e,i){E[0]=BigInt.asIntN(64,e);int32$1(t,b[0],i);int32$1(t,b[1],i)}function biguint64$1(t,e,i){E[0]=BigInt.asIntN(64,e);int32$1(t,b[0],i);int32$1(t,b[1],i)}function float32$1(t,e,i){T[0]=e;int32$1(t,b[0],i)}function float64$1(t,e,i){w[0]=e;int32$1(t,b[0],i);int32$1(t,b[1],i)}function boolean$1(t,e,i){t[i.offset++]=e?1:0}function string$1(t,e,i){if(!e){e=""}let r=A(e,"utf8");let s=0;if(r<32){t[i.offset++]=r|160;s=1}else if(r<256){t[i.offset++]=217;t[i.offset++]=r%255;s=2}else if(r<65536){t[i.offset++]=218;uint16$1(t,r,i);s=3}else if(r<4294967296){t[i.offset++]=219;uint32$1(t,r,i);s=5}else{throw new Error("String too long")}utf8Write(t,e,i);return s+r}function number$1(t,e,i){if(isNaN(e)){return number$1(t,0,i)}else if(!isFinite(e)){return number$1(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER,i)}else if(e!==(e|0)){if(Math.abs(e)<=34028235e31){T[0]=e;if(Math.abs(Math.abs(T[0])-Math.abs(e))<1e-4){t[i.offset++]=202;float32$1(t,e,i);return 5}}t[i.offset++]=203;float64$1(t,e,i);return 9}if(e>=0){if(e<128){t[i.offset++]=e&255;return 1}if(e<256){t[i.offset++]=204;t[i.offset++]=e&255;return 2}if(e<65536){t[i.offset++]=205;uint16$1(t,e,i);return 3}if(e<4294967296){t[i.offset++]=206;uint32$1(t,e,i);return 5}t[i.offset++]=207;uint64$1(t,e,i);return 9}else{if(e>=-32){t[i.offset++]=224|e+32;return 1}if(e>=-128){t[i.offset++]=208;int8$1(t,e,i);return 2}if(e>=-32768){t[i.offset++]=209;int16$1(t,e,i);return 3}if(e>=-2147483648){t[i.offset++]=210;int32$1(t,e,i);return 5}t[i.offset++]=211;int64$1(t,e,i);return 9}}const C={int8:int8$1,uint8:uint8$1,int16:int16$1,uint16:uint16$1,int32:int32$1,uint32:uint32$1,int64:int64$1,uint64:uint64$1,bigint64:bigint64$1,biguint64:biguint64$1,float32:float32$1,float64:float64$1,boolean:boolean$1,string:string$1,number:number$1,utf8Write:utf8Write,utf8Length:A};const O=new ArrayBuffer(8);const P=new Int32Array(O);const I=new Float32Array(O);const R=new Float64Array(O);const M=new BigUint64Array(O);const L=new BigInt64Array(O);function utf8Read(t,e,i){var r="",s=0;for(var n=e.offset,a=e.offset+i;n<a;n++){var o=t[n];if((o&128)===0){r+=String.fromCharCode(o);continue}if((o&224)===192){r+=String.fromCharCode((o&31)<<6|t[++n]&63);continue}if((o&240)===224){r+=String.fromCharCode((o&15)<<12|(t[++n]&63)<<6|(t[++n]&63)<<0);continue}if((o&248)===240){s=(o&7)<<18|(t[++n]&63)<<12|(t[++n]&63)<<6|(t[++n]&63)<<0;if(s>=65536){s-=65536;r+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)}else{r+=String.fromCharCode(s)}continue}console.error("Invalid byte "+o.toString(16))}e.offset+=i;return r}function int8(t,e){return uint8(t,e)<<24>>24}function uint8(t,e){return t[e.offset++]}function int16(t,e){return uint16(t,e)<<16>>16}function uint16(t,e){return t[e.offset++]|t[e.offset++]<<8}function int32(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function uint32(t,e){return int32(t,e)>>>0}function float32(t,e){P[0]=int32(t,e);return I[0]}function float64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return R[0]}function int64(t,e){const i=uint32(t,e);const r=int32(t,e)*Math.pow(2,32);return r+i}function uint64(t,e){const i=uint32(t,e);const r=uint32(t,e)*Math.pow(2,32);return r+i}function bigint64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return L[0]}function biguint64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return M[0]}function boolean(t,e){return uint8(t,e)>0}function string(t,e){const i=t[e.offset++];let r;if(i<192){r=i&31}else if(i===217){r=uint8(t,e)}else if(i===218){r=uint16(t,e)}else if(i===219){r=uint32(t,e)}return utf8Read(t,e,r)}function number(t,e){const i=t[e.offset++];if(i<128){return i}else if(i===202){return float32(t,e)}else if(i===203){return float64(t,e)}else if(i===204){return uint8(t,e)}else if(i===205){return uint16(t,e)}else if(i===206){return uint32(t,e)}else if(i===207){return uint64(t,e)}else if(i===208){return int8(t,e)}else if(i===209){return int16(t,e)}else if(i===210){return int32(t,e)}else if(i===211){return int64(t,e)}else if(i>223){return(255-i+1)*-1}}function stringCheck(t,e){const i=t[e.offset];return i<192&&i>160||i===217||i===218||i===219}const D={utf8Read:utf8Read,int8:int8,uint8:uint8,int16:int16,uint16:uint16,int32:int32,uint32:uint32,float32:float32,float64:float64,int64:int64,uint64:uint64,bigint64:bigint64,biguint64:biguint64,boolean:boolean,string:string,number:number,stringCheck:stringCheck};const k={};const F=new Map;function registerType(t,e){if(e.constructor){F.set(e.constructor,t);k[t]=e}if(e.encode){C[t]=e.encode}if(e.decode){D[t]=e.decode}}function getType(t){return k[t]}function defineCustomTypes(t){for(const e in t){registerType(e,t[e])}return t=>type(t)}const B=class _TypeContext{static register(t){const e=Object.getPrototypeOf(t);if(e!==tt){let i=_TypeContext.inheritedTypes.get(e);if(!i){i=new Set;_TypeContext.inheritedTypes.set(e,i)}i.add(t)}}static cache(t){let e=_TypeContext.cachedContexts.get(t);if(!e){e=new _TypeContext(t);_TypeContext.cachedContexts.set(t,e)}return e}constructor(t){this.types={};this.schemas=new Map;this.hasFilters=false;this.parentFiltered={};if(t){this.discoverTypes(t)}}has(t){return this.schemas.has(t)}get(t){return this.types[t]}add(t,e=this.schemas.size){if(this.schemas.has(t)){return false}this.types[e]=t;if(t[Symbol.metadata]===void 0){U.initialize(t)}this.schemas.set(t,e);return true}getTypeId(t){return this.schemas.get(t)}discoverTypes(t,e,i,r){var s,n;if(r){this.registerFilteredByParent(t,e,i)}if(!this.add(t)){return}(s=_TypeContext.inheritedTypes.get(t))==null?void 0:s.forEach((t=>{this.discoverTypes(t,e,i,r)}));let a=t;while((a=Object.getPrototypeOf(a))&&a!==tt&&a!==Function.prototype){this.discoverTypes(a)}const o=t[n=Symbol.metadata]??(t[n]={});if(o[g]){this.hasFilters=true}for(const l in o){const e=l;const i=o[e].type;const s=o[e].tag!==void 0;if(typeof i==="string"){continue}if(Array.isArray(i)){const n=i[0];if(n==="string"){continue}this.discoverTypes(n,t,e,r||s)}else if(typeof i==="function"){this.discoverTypes(i,t,e,r||s)}else{const n=Object.values(i)[0];if(typeof n==="string"){continue}this.discoverTypes(n,t,e,r||s)}}}registerFilteredByParent(t,e,i){const r=this.schemas.get(t)??this.schemas.size;let s=`${r}`;if(e){s+=`-${this.schemas.get(e)}`}s+=`-${i}`;this.parentFiltered[s]=true}debug(){let t="";for(const e in this.parentFiltered){const i=e.split("-").map(Number);const r=i.pop();t+=`\n\t\t`;t+=`${e}: ${i.reverse().map(((t,e)=>{const i=this.types[t];const s=i[Symbol.metadata];let n=i.name;if(e===0){n+=`[${s[r].name}]`}return`${n}`})).join(" -> ")}`}return`TypeContext ->\n\tSchema types: ${this.schemas.size}\n\thasFilters: ${this.hasFilters}\n\tparentFiltered:${t}`}};B.inheritedTypes=new Map;B.cachedContexts=new Map;let N=B;function getNormalizedType(t){return Array.isArray(t)?{array:t[0]}:typeof t["type"]!=="undefined"?t["type"]:t}const U={addField(t,e,i,r,s){if(e>64){throw new Error(`Can't define field '${i}'.\nSchema instances may only have up to 64 fields.`)}t[e]=Object.assign(t[e]||{},{type:getNormalizedType(r),index:e,name:i});Object.defineProperty(t,d,{value:t[d]||{},enumerable:false,configurable:true});if(s){t[d][i]=s;t[d][`_${i}`]={value:void 0,writable:true,enumerable:false,configurable:true}}else{t[d][i]={value:void 0,writable:true,enumerable:true,configurable:true}}Object.defineProperty(t,v,{value:e,enumerable:false,configurable:true});Object.defineProperty(t,i,{value:e,enumerable:false,configurable:true});if(typeof t[e].type!=="string"){if(t[p]===void 0){Object.defineProperty(t,p,{value:[],enumerable:false,configurable:true})}t[p].push(e)}},setTag(t,e,i){const r=t[e];const s=t[r];s.tag=i;if(!t[g]){Object.defineProperty(t,g,{value:[],enumerable:false,configurable:true});Object.defineProperty(t,m,{value:{},enumerable:false,configurable:true})}t[g].push(r);if(!t[m][i]){t[m][i]=[]}t[m][i].push(r)},setFields(t,e){const i=t.prototype.constructor;N.register(i);const a=Object.getPrototypeOf(i);const o=a&&a[Symbol.metadata];const l=U.initialize(i);if(!i[r]){i[r]=tt[r]}if(!i[s]){i[s]=tt[s]}if(!i[n]){i[n]=tt[n]}if(!i.prototype.toJSON){i.prototype.toJSON=tt.prototype.toJSON}let h=l[v]??(o&&o[v])??-1;h++;for(const r in e){const t=e[r];const i=Array.isArray(t)?getType("array"):typeof Object.keys(t)[0]==="string"&&getType(Object.keys(t)[0]);const s=i?Object.values(t)[0]:getNormalizedType(t);U.addField(l,h,r,t,getPropertyDescriptor(`_${r}`,h,s,i));h++}return t},isDeprecated(t,e){return t[e].deprecated===true},init(t){const e={};t[Symbol.metadata]=e;Object.defineProperty(e,v,{value:0,enumerable:false,configurable:true})},initialize(t){const e=Object.getPrototypeOf(t);const i=e[Symbol.metadata];let r=t[Symbol.metadata]??Object.create(null);if(e!==tt&&r===i){r=Object.create(null);if(i){Object.setPrototypeOf(r,i);Object.defineProperty(r,v,{value:i[v],enumerable:false,configurable:true,writable:true});if(i[g]!==void 0){Object.defineProperty(r,g,{value:[...i[g]],enumerable:false,configurable:true,writable:true});Object.defineProperty(r,m,{value:{...i[m]},enumerable:false,configurable:true,writable:true})}if(i[p]!==void 0){Object.defineProperty(r,p,{value:[...i[p]],enumerable:false,configurable:true,writable:true})}Object.defineProperty(r,d,{value:{...i[d]},enumerable:false,configurable:true,writable:true})}}t[Symbol.metadata]=r;return r},isValidInstance(t){return t.constructor[Symbol.metadata]&&Object.prototype.hasOwnProperty.call(t.constructor[Symbol.metadata],v)},getFields(t){const e=t[Symbol.metadata];const i={};for(let r=0;r<=e[v];r++){i[e[r].name]=e[r].type}return i},hasViewTagAtIndex(t,e){var i;return(i=t==null?void 0:t[g])==null?void 0:i.includes(e)}};function createChangeSet(){return{indexes:{},operations:[]}}function setOperationAtIndex(t,e){const i=t.indexes[e];if(i===void 0){t.indexes[e]=t.operations.push(e)-1}else{t.operations[i]=e}}function deleteOperationAtIndex(t,e){var i;let r=t.indexes[e];if(r===void 0){r=Object.values(t.indexes).at(-1);e=(i=Object.entries(t.indexes).find((([t,e])=>e===r)))==null?void 0:i[0]}t.operations[r]=void 0;delete t.indexes[e]}function enqueueChangeTree(t,e,i,r=e[i].queueRootIndex){if(!t){return}else if(t[i][r]!==e){e[i].queueRootIndex=t[i].push(e)-1}}class ChangeTree{constructor(t){this.isFiltered=false;this.indexedOperations={};this.changes={indexes:{},operations:[]};this.allChanges={indexes:{},operations:[]};this.isNew=true;this.ref=t;const e=t.constructor[Symbol.metadata];if(e==null?void 0:e[g]){this.allFilteredChanges={indexes:{},operations:[]};this.filteredChanges={indexes:{},operations:[]}}}setRoot(t){var e;this.root=t;this.checkIsFiltered(this.parent,this.parentIndex);const i=this.ref.constructor[Symbol.metadata];if(i){(e=i[p])==null?void 0:e.forEach((e=>{var r;const s=i[e];const n=(r=this.ref[s.name])==null?void 0:r[h];if(n){if(n.root!==t){n.setRoot(t)}else{t.add(n)}}}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((e,i)=>{const r=e[h];if(r.root!==t){r.setRoot(t)}else{t.add(r)}}))}}setParent(t,e,i){var r;this.parent=t;this.parentIndex=i;if(!e){return}if(e!==this.root){this.root=e;this.checkIsFiltered(t,i)}else{e.add(this)}const s=this.ref.constructor[Symbol.metadata];if(s){(r=s[p])==null?void 0:r.forEach((t=>{var i;const r=s[t];const n=(i=this.ref[r.name])==null?void 0:i[h];if(n&&n.root!==e){n.setParent(this.ref,e,t)}}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((t,i)=>{const r=t[h];if(r.root!==e){r.setParent(this.ref,e,this.indexes[i]??i)}}))}}forEachChild(t){var e;const i=this.ref.constructor[Symbol.metadata];if(i){(e=i[p])==null?void 0:e.forEach((e=>{const r=i[e];const s=this.ref[r.name];if(s){t(s[h],e)}}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((e,i)=>{t(e[h],this.indexes[i]??i)}))}}operation(t){if(this.filteredChanges!==void 0){this.filteredChanges.operations.push(-t);enqueueChangeTree(this.root,this,"filteredChanges")}else{this.changes.operations.push(-t);enqueueChangeTree(this.root,this,"changes")}}change(e,i=t.OPERATION.ADD){var r;const s=this.ref.constructor[Symbol.metadata];const n=this.isFiltered||((r=s==null?void 0:s[e])==null?void 0:r.tag)!==void 0;const a=n?this.filteredChanges:this.changes;const o=this.indexedOperations[e];if(!o||o===t.OPERATION.DELETE){const r=!o?i:o===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:i;this.indexedOperations[e]=r}setOperationAtIndex(a,e);if(n){setOperationAtIndex(this.allFilteredChanges,e);if(this.root){enqueueChangeTree(this.root,this,"filteredChanges");enqueueChangeTree(this.root,this,"allFilteredChanges")}}else{setOperationAtIndex(this.allChanges,e);enqueueChangeTree(this.root,this,"changes")}}shiftChangeIndexes(t){const e=this.isFiltered?this.filteredChanges:this.changes;const i={};const r={};for(const s in this.indexedOperations){i[Number(s)+t]=this.indexedOperations[s];r[Number(s)+t]=e.indexes[s]}this.indexedOperations=i;e.indexes=r;e.operations=e.operations.map((e=>e+t))}shiftAllChangeIndexes(t,e=0){if(this.filteredChanges!==void 0){this._shiftAllChangeIndexes(t,e,this.allFilteredChanges);this._shiftAllChangeIndexes(t,e,this.allChanges)}else{this._shiftAllChangeIndexes(t,e,this.allChanges)}}_shiftAllChangeIndexes(t,e=0,i){const r={};let s=0;for(const n in i.indexes){r[s++]=i.indexes[n]}i.indexes=r;for(let n=0;n<i.operations.length;n++){const r=i.operations[n];if(r>e){i.operations[n]=r+t}}}indexedOperation(t,e,i=t){this.indexedOperations[t]=e;if(this.filteredChanges!==void 0){setOperationAtIndex(this.allFilteredChanges,i);setOperationAtIndex(this.filteredChanges,t);enqueueChangeTree(this.root,this,"filteredChanges")}else{setOperationAtIndex(this.allChanges,i);setOperationAtIndex(this.changes,t);enqueueChangeTree(this.root,this,"changes")}}getType(t){if(U.isValidInstance(this.ref)){const e=this.ref.constructor[Symbol.metadata];return e[t].type}else{return this.ref[u]}}getChange(t){return this.indexedOperations[t]}getValue(t,e=false){return this.ref[o](t,e)}delete(e,i,r=e){var s;if(e===void 0){try{throw new Error(`@colyseus/schema ${this.ref.constructor.name}: trying to delete non-existing index '${e}'`)}catch(ct){console.warn(ct)}return}const n=this.filteredChanges!==void 0?this.filteredChanges:this.changes;this.indexedOperations[e]=i??t.OPERATION.DELETE;setOperationAtIndex(n,e);deleteOperationAtIndex(this.allChanges,r);const a=this.getValue(e);if(a&&a[h]){(s=this.root)==null?void 0:s.remove(a[h])}if(this.filteredChanges!==void 0){deleteOperationAtIndex(this.allFilteredChanges,r);enqueueChangeTree(this.root,this,"filteredChanges")}else{enqueueChangeTree(this.root,this,"changes")}return a}endEncode(t){var e,i;this.indexedOperations={};this[t].indexes={};this[t].operations.length=0;this[t].queueRootIndex=void 0;(i=(e=this.ref)[c])==null?void 0:i.call(e);this.isNew=false}discard(t=false){var e,i;(i=(e=this.ref)[c])==null?void 0:i.call(e);this.indexedOperations={};this.changes.indexes={};this.changes.operations.length=0;this.changes.queueRootIndex=void 0;if(this.filteredChanges!==void 0){this.filteredChanges.indexes={};this.filteredChanges.operations.length=0;this.filteredChanges.queueRootIndex=void 0}if(t){this.allChanges.indexes={};this.allChanges.operations.length=0;if(this.allFilteredChanges!==void 0){this.allFilteredChanges.indexes={};this.allFilteredChanges.operations.length=0}}}discardAll(){const t=Object.keys(this.indexedOperations);for(let e=0,i=t.length;e<i;e++){const i=this.getValue(Number(t[e]));if(i&&i[h]){i[h].discardAll()}}this.discard()}ensureRefId(){if(this.refId!==void 0){return}this.refId=this.root.getNextUniqueId()}get changed(){return Object.entries(this.indexedOperations).length>0}checkIsFiltered(t,e){const i=this.root.add(this);if(this.root.types.hasFilters){this._checkFilteredByParent(t,e);if(this.filteredChanges!==void 0){enqueueChangeTree(this.root,this,"filteredChanges");if(i){this.root.allFilteredChanges.push(this)}}}if(!this.isFiltered){enqueueChangeTree(this.root,this,"changes");if(i){this.root.allChanges.push(this)}}}_checkFilteredByParent(t,e){if(!t){return}const i=U.isValidInstance(this.ref)?this.ref.constructor:this.ref[u];let r;let s=!U.isValidInstance(t);if(s){r=t[h];t=r.parent;e=r.parentIndex}else{r=t[h]}const n=t.constructor;let a=`${this.root.types.getTypeId(i)}`;if(n){a+=`-${this.root.types.schemas.get(n)}`}a+=`-${e}`;const o=U.hasViewTagAtIndex(n==null?void 0:n[Symbol.metadata],e);this.isFiltered=t[h].isFiltered||this.root.types.parentFiltered[a]||o;if(this.isFiltered){this.isVisibilitySharedWithParent=r.isFiltered&&typeof i!=="string"&&!o&&s;if(!this.filteredChanges){this.filteredChanges=createChangeSet();this.allFilteredChanges=createChangeSet()}if(this.changes.operations.length>0){this.changes.operations.forEach((t=>setOperationAtIndex(this.filteredChanges,t)));this.allChanges.operations.forEach((t=>setOperationAtIndex(this.allFilteredChanges,t)));this.changes=createChangeSet();this.allChanges=createChangeSet()}}}}function encodeValue(e,i,r,s,n,a){var o;if(typeof r==="string"){(o=C[r])==null?void 0:o.call(C,i,s,a)}else if(r[Symbol.metadata]!==void 0){C.number(i,s[h].refId,a);if((n&t.OPERATION.ADD)===t.OPERATION.ADD){e.tryEncodeTypeId(i,r,s.constructor,a)}}else{C.number(i,s[h].refId,a)}}const encodeSchemaOperation=function(e,i,r,s,n,a,o,l,h){i[a.offset++]=(s|n)&255;if(n===t.OPERATION.DELETE){return}const u=r.ref;const c=h[s];encodeValue(e,i,h[s].type,u[c.name],n,a)};const encodeKeyValueOperation=function(e,i,r,s,n,a){i[a.offset++]=n&255;if(n===t.OPERATION.CLEAR){return}C.number(i,s,a);if(n===t.OPERATION.DELETE){return}const l=r.ref;if((n&t.OPERATION.ADD)===t.OPERATION.ADD){if(typeof l["set"]==="function"){const t=r.ref["$indexes"].get(s);C.string(i,t,a)}}const h=l[u];const c=l[o](s);encodeValue(e,i,h,c,n,a)};const encodeArray=function(e,i,r,s,n,a,o,l){const u=r.ref;const c=l&&r.isFiltered&&typeof r.getType(s)!=="string";let f;if(c){f=u["tmpItems"][s][h].refId;if(n===t.OPERATION.DELETE){n=t.OPERATION.DELETE_BY_REFID}else if(n===t.OPERATION.ADD){n=t.OPERATION.ADD_BY_REFID}}else{f=s}i[a.offset++]=n&255;if(n===t.OPERATION.CLEAR||n===t.OPERATION.REVERSE){return}C.number(i,f,a);if(n===t.OPERATION.DELETE||n===t.OPERATION.DELETE_BY_REFID){return}const d=r.getType(s);const v=r.getValue(s,o);encodeValue(e,i,d,v,n,a)};const z=-1;function decodeValue(e,i,r,s,n,a,h,c){const f=e.root;const d=r[o](s);let v;if((i&t.OPERATION.DELETE)===t.OPERATION.DELETE){const e=f.refIds.get(d);if(e!==void 0){f.removeRef(e)}if(i!==t.OPERATION.DELETE_AND_ADD){r[l](s)}v=void 0}if(i===t.OPERATION.DELETE);else if(tt.is(n)){const r=D.number(a,h);v=f.refs.get(r);if((i&t.OPERATION.ADD)===t.OPERATION.ADD){const s=e.getInstanceType(a,h,n);if(!v){v=e.createInstanceOfType(s)}f.addRef(r,v,v!==d||i===t.OPERATION.DELETE_AND_ADD&&v===d)}}else if(typeof n==="string"){v=D[n](a,h)}else{const e=getType(Object.keys(n)[0]);const r=D.number(a,h);const s=f.refs.has(r)?d||f.refs.get(r):new e.constructor;v=s.clone(true);v[u]=Object.values(n)[0];if(d){let e=f.refIds.get(d);if(e!==void 0&&r!==e){const i=d.entries();let r;while((r=i.next())&&!r.done){const[i,s]=r.value;if(typeof s==="object"){e=f.refIds.get(s);f.removeRef(e)}c.push({ref:d,refId:e,op:t.OPERATION.DELETE,field:i,value:void 0,previousValue:s})}}}f.addRef(r,v,s!==d||i===t.OPERATION.DELETE_AND_ADD&&s===d)}return{value:v,previousValue:d}}const decodeSchemaOperation=function(t,e,i,r,s){const n=e[i.offset++];const a=r.constructor[Symbol.metadata];const o=n>>6<<6;const l=n%(o||255);const h=a[l];if(h===void 0){console.warn("@colyseus/schema: field not defined at",{index:l,ref:r.constructor.name,metadata:a});return z}const{value:u,previousValue:c}=decodeValue(t,o,r,l,h.type,e,i,s);if(u!==null&&u!==void 0){r[h.name]=u}if(c!==u){s.push({ref:r,refId:t.currentRefId,op:o,field:h.name,value:u,previousValue:c})}};const decodeKeyValueOperation=function(e,i,r,s,n){const a=i[r.offset++];if(a===t.OPERATION.CLEAR){e.removeChildRefs(s,n);s.clear();return}const o=D.number(i,r);const l=s[u];let h;if((a&t.OPERATION.ADD)===t.OPERATION.ADD){if(typeof s["set"]==="function"){h=D.string(i,r);s["setIndex"](o,h)}else{h=o}}else{h=s["getIndex"](o)}const{value:c,previousValue:f}=decodeValue(e,a,s,o,l,i,r,n);if(c!==null&&c!==void 0){if(typeof s["set"]==="function"){s["$items"].set(h,c)}else if(typeof s["$setAt"]==="function"){s["$setAt"](o,c,a)}else if(typeof s["add"]==="function"){const t=s.add(c);if(typeof t==="number"){s["setIndex"](t,t)}}}if(f!==c){n.push({ref:s,refId:e.currentRefId,op:a,field:"",dynamicIndex:h,value:c,previousValue:f})}};const decodeArray=function(e,i,r,s,n){let a=i[r.offset++];let o;if(a===t.OPERATION.CLEAR){e.removeChildRefs(s,n);s.clear();return}else if(a===t.OPERATION.REVERSE){s.reverse();return}else if(a===t.OPERATION.DELETE_BY_REFID){const a=D.number(i,r);const h=e.root.refs.get(a);o=s.findIndex((t=>t===h));s[l](o);n.push({ref:s,refId:e.currentRefId,op:t.OPERATION.DELETE,field:"",dynamicIndex:o,value:void 0,previousValue:h});return}else if(a===t.OPERATION.ADD_BY_REFID){const t=D.number(i,r);const n=e.root.refs.get(t);if(n){o=s.findIndex((t=>t===n))}if(o===-1||o===void 0){o=s.length}}else{o=D.number(i,r)}const h=s[u];let c=o;const{value:f,previousValue:d}=decodeValue(e,a,s,o,h,i,r,n);if(f!==null&&f!==void 0&&f!==d){s["$setAt"](o,f,a)}if(d!==f){n.push({ref:s,refId:e.currentRefId,op:a,field:"",dynamicIndex:c,value:f,previousValue:d})}};class EncodeSchemaError extends Error{}function assertType(t,e,i,r){let s;let n=false;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":s="number";if(isNaN(t)){console.log(`trying to encode "NaN" in ${i.constructor.name}#${r}`)}break;case"bigint64":case"biguint64":s="bigint";break;case"string":s="string";n=true;break;case"boolean":return;default:return}if(typeof t!==s&&(!n||n&&t!==null)){let e=`'${JSON.stringify(t)}'${t&&t.constructor&&` (${t.constructor.name})`||""}`;throw new EncodeSchemaError(`a '${s}' was expected, but ${e} was provided in ${i.constructor.name}#${r}`)}}function assertInstanceType(t,e,i,r){if(!(t instanceof e)){throw new EncodeSchemaError(`a '${e.name}' was expected, but '${t&&t.constructor.name}' was provided in ${i.constructor.name}#${r}`)}}var V,G;const DEFAULT_SORT=(t,e)=>{const i=t.toString();const r=e.toString();if(i<r)return-1;else if(i>r)return 1;else return 0};const X=class _ArraySchema{static[(V=s,G=n,a)](t,e,i){var r;return!i||typeof t[u]==="string"||i.isChangeTreeVisible((r=t["tmpItems"][e])==null?void 0:r[h])}static is(t){return Array.isArray(t)||t["array"]!==void 0}static from(t){return new _ArraySchema(...Array.from(t))}constructor(...e){this.items=[];this.tmpItems=[];this.deletedIndexes={};this.isMovingItems=false;Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true});const i=new Proxy(this,{get:(t,e)=>{if(typeof e!=="symbol"&&!isNaN(e)){return this.items[e]}else{return Reflect.get(t,e)}},set:(e,i,r)=>{var s;if(typeof i!=="symbol"&&!isNaN(i)){if(r===void 0||r===null){e.$deleteAt(i)}else{if(r[h]){assertInstanceType(r,e[u],e,i);const n=e.items[i];if(!e.isMovingItems){e.$changeAt(Number(i),r)}else{if(n!==void 0){if(r[h].isNew){e[h].indexedOperation(Number(i),t.OPERATION.MOVE_AND_ADD)}else{if((e[h].getChange(Number(i))&t.OPERATION.DELETE)===t.OPERATION.DELETE){e[h].indexedOperation(Number(i),t.OPERATION.DELETE_AND_MOVE)}else{e[h].indexedOperation(Number(i),t.OPERATION.MOVE)}}}else if(r[h].isNew){e[h].indexedOperation(Number(i),t.OPERATION.ADD)}r[h].setParent(this,e[h].root,i)}if(n!==void 0){(s=n[h].root)==null?void 0:s.remove(n[h])}}else{e.$changeAt(Number(i),r)}e.items[i]=r;e.tmpItems[i]=r}return true}else{return Reflect.set(e,i,r)}},deleteProperty:(t,e)=>{if(typeof e==="number"){t.$deleteAt(e)}else{delete t[e]}return true},has:(t,e)=>{if(typeof e!=="symbol"&&!isNaN(Number(e))){return Reflect.has(this.items,e)}return Reflect.has(t,e)}});this[h]=new ChangeTree(i);this[h].indexes={};if(e.length>0){this.push(...e)}return i}set length(t){if(t===0){this.clear()}else if(t<this.items.length){this.splice(t,this.length-t)}else{console.warn("ArraySchema: can't set .length to a higher value than its length.")}}get length(){return this.items.length}push(...e){var i;let r=this.tmpItems.length;const s=this[h];for(let n=0,a=e.length;n<a;n++,r++){const a=e[n];if(a===void 0||a===null){return}else if(typeof a==="object"&&this[u]){assertInstanceType(a,this[u],this,n)}s.indexedOperation(r,t.OPERATION.ADD,this.items.length);this.items.push(a);this.tmpItems.push(a);(i=a[h])==null?void 0:i.setParent(this,s.root,r)}return r}pop(){let t=-1;for(let e=this.tmpItems.length-1;e>=0;e--){if(this.deletedIndexes[e]!==true){t=e;break}}if(t<0){return void 0}this[h].delete(t,void 0,this.items.length-1);this.deletedIndexes[t]=true;return this.items.pop()}at(t){if(t<0)t+=this.length;return this.items[t]}$changeAt(e,i){var r;if(i===void 0||i===null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.items[e]===i){return}const s=this.items[e]!==void 0?typeof i==="object"?t.OPERATION.DELETE_AND_ADD:t.OPERATION.REPLACE:t.OPERATION.ADD;const n=this[h];n.change(e,s);(r=i[h])==null?void 0:r.setParent(this,n.root,e)}$deleteAt(t,e){this[h].delete(t,e)}$setAt(e,i,r){if(e===0&&r===t.OPERATION.ADD&&this.items[e]!==void 0){this.items.unshift(i)}else if(r===t.OPERATION.DELETE_AND_MOVE){this.items.splice(e,1);this.items[e]=i}else{this.items[e]=i}}clear(){if(this.items.length===0){return}const e=this[h];e.forEachChild(((t,i)=>{var r;(r=e.root)==null?void 0:r.remove(t)}));e.discard(true);e.operation(t.OPERATION.CLEAR);this.items.length=0;this.tmpItems.length=0}concat(...t){return new _ArraySchema(...this.items.concat(...t))}join(t){return this.items.join(t)}reverse(){this[h].operation(t.OPERATION.REVERSE);this.items.reverse();this.tmpItems.reverse();return this}shift(){if(this.items.length===0){return void 0}const e=this[h];const i=this.tmpItems.findIndex((t=>t===this.items[0]));const r=this.items.findIndex((t=>t===this.items[0]));e.delete(i,t.OPERATION.DELETE,r);e.shiftAllChangeIndexes(-1,r);return this.items.shift()}slice(t,e){const i=new _ArraySchema;i.push(...this.items.slice(t,e));return i}sort(e=DEFAULT_SORT){this.isMovingItems=true;const i=this[h];const r=this.items.sort(e);r.forEach(((e,r)=>i.change(r,t.OPERATION.REPLACE)));this.tmpItems.sort(e);this.isMovingItems=false;return this}splice(e,i,...r){var s;const n=this[h];const a=this.items.length;const o=this.tmpItems.length;const l=r.length;const u=[];for(let t=0;t<o;t++){if(this.deletedIndexes[t]!==true){u.push(t)}}if(a>e){if(i===void 0){i=a-e}for(let r=e;r<e+i;r++){const e=u[r];n.delete(e,t.OPERATION.DELETE);this.deletedIndexes[e]=true}}else{i=0}if(l>0){if(l>i){console.error("Inserting more elements than deleting during ArraySchema#splice()");throw new Error("ArraySchema#splice(): insertCount must be equal or lower than deleteCount.")}for(let i=0;i<l;i++){const o=(u[e]??a)+i;n.indexedOperation(o,this.deletedIndexes[o]?t.OPERATION.DELETE_AND_ADD:t.OPERATION.ADD);(s=r[i][h])==null?void 0:s.setParent(this,n.root,o)}}if(i>l){n.shiftAllChangeIndexes(-(i-l),u[e+l])}if(n.filteredChanges!==void 0){enqueueChangeTree(n.root,n,"filteredChanges")}else{enqueueChangeTree(n.root,n,"changes")}return this.items.splice(e,i,...r)}unshift(...e){const i=this[h];i.shiftChangeIndexes(e.length);if(i.isFiltered){setOperationAtIndex(i.filteredChanges,this.items.length)}else{setOperationAtIndex(i.allChanges,this.items.length)}e.forEach(((e,r)=>{i.change(r,t.OPERATION.ADD)}));this.tmpItems.unshift(...e);return this.items.unshift(...e)}indexOf(t,e){return this.items.indexOf(t,e)}lastIndexOf(t,e=this.length-1){return this.items.lastIndexOf(t,e)}every(t,e){return this.items.every(t,e)}some(t,e){return this.items.some(t,e)}forEach(t,e){return this.items.forEach(t,e)}map(t,e){return this.items.map(t,e)}filter(t,e){return this.items.filter(t,e)}reduce(t,e){return this.items.reduce(t,e)}reduceRight(t,e){return this.items.reduceRight(t,e)}find(t,e){return this.items.find(t,e)}findIndex(t,e){return this.items.findIndex(t,e)}fill(t,e,i){throw new Error("ArraySchema#fill() not implemented")}copyWithin(t,e,i){throw new Error("ArraySchema#copyWithin() not implemented")}toString(){return this.items.toString()}toLocaleString(){return this.items.toLocaleString()}[Symbol.iterator](){return this.items[Symbol.iterator]()}static get[Symbol.species](){return _ArraySchema}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}includes(t,e){return this.items.includes(t,e)}flatMap(t,e){throw new Error("ArraySchema#flatMap() is not supported.")}flat(t){throw new Error("ArraySchema#flat() is not supported.")}findLast(){return this.items.findLast.apply(this.items,arguments)}findLastIndex(...t){return this.items.findLastIndex.apply(this.items,arguments)}with(t,e){const i=this.items.slice();if(t<0)t+=this.length;i[t]=e;return new _ArraySchema(...i)}toReversed(){return this.items.slice().reverse()}toSorted(t){return this.items.slice().sort(t)}toSpliced(t,e,...i){return this.items.toSpliced.apply(copy,arguments)}shuffle(){return this.move((t=>{let e=this.items.length;while(e!=0){let t=Math.floor(Math.random()*e);e--;[this[e],this[t]]=[this[t],this[e]]}}))}move(t){this.isMovingItems=true;t(this);this.isMovingItems=false;return this}[o](t,e=false){return e?this.items[t]:this.deletedIndexes[t]?this.items[t]:this.tmpItems[t]||this.items[t]}[l](t){this.items[t]=void 0;this.tmpItems[t]=void 0}[c](){this.tmpItems=this.items.slice();this.deletedIndexes={}}[f](){this.items=this.items.filter((t=>t!==void 0));this.tmpItems=this.items.slice()}toArray(){return this.items.slice(0)}toJSON(){return this.toArray().map((t=>typeof t["toJSON"]==="function"?t["toJSON"]():t))}clone(t){let e;if(t){e=new _ArraySchema;e.push(...this.items)}else{e=new _ArraySchema(...this.map((t=>t[h]?t.clone():t)))}return e}};X[V]=encodeArray;X[G]=decodeArray;let Y=X;registerType("array",{constructor:Y});var H,W;const j=class _MapSchema{static[(H=s,W=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.isChangeTreeVisible((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["map"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this[h]=new ChangeTree(this);this[h].indexes={};if(t){if(t instanceof Map||t instanceof _MapSchema){t.forEach(((t,e)=>this.set(e,t)))}else{for(const e in t){this.set(e,t[e])}}}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}[Symbol.iterator](){return this.$items[Symbol.iterator]()}get[Symbol.toStringTag](){return this.$items[Symbol.toStringTag]}static get[Symbol.species](){return _MapSchema}set(e,i){var r;if(i===void 0||i===null){throw new Error(`MapSchema#set('${e}', ${i}): trying to set ${i} value on '${e}'.`)}else if(typeof i==="object"&&this[u]){assertInstanceType(i,this[u],this,e)}e=e.toString();const s=this[h];const n=i[h]!==void 0;let a;let o;if(typeof s.indexes[e]!=="undefined"){a=s.indexes[e];o=t.OPERATION.REPLACE;const l=this.$items.get(e);if(l===i){return}else if(n){o=t.OPERATION.DELETE_AND_ADD;if(l!==void 0){(r=l[h].root)==null?void 0:r.remove(l[h])}}}else{a=s.indexes[v]??0;o=t.OPERATION.ADD;this.$indexes.set(a,e);s.indexes[e]=a;s.indexes[v]=a+1}this.$items.set(e,i);s.change(a,o);if(n){i[h].setParent(this,s.root,a)}return this}get(t){return this.$items.get(t)}delete(t){const e=this[h].indexes[t];this.deletedItems[e]=this[h].delete(e);return this.$items.delete(t)}clear(){const e=this[h];e.discard(true);e.indexes={};e.forEachChild(((t,i)=>{var r;(r=e.root)==null?void 0:r.remove(t)}));this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){return this.$items.has(t)}forEach(t){this.$items.forEach(t)}entries(){return this.$items.entries()}keys(){return this.$items.keys()}values(){return this.$items.values()}get size(){return this.$items.size}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toJSON(){const t={};this.forEach(((e,i)=>{t[i]=typeof e["toJSON"]==="function"?e["toJSON"]():e}));return t}clone(t){let e;if(t){e=Object.assign(new _MapSchema,this)}else{e=new _MapSchema;this.forEach(((t,i)=>{if(t[h]){e.set(i,t["clone"]())}else{e.set(i,t)}}))}return e}};j[H]=encodeKeyValueOperation;j[W]=decodeKeyValueOperation;let Z=j;registerType("map",{constructor:Z});const q=-1;function entity(t){N.register(t);return t}function view(t=q){return function(e,i){var r;const s=e.constructor;const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=s[r=Symbol.metadata]??(s[r]=Object.assign({},s[Symbol.metadata],a??Object.create(null)));U.setTag(o,i,t)}}function type(t,e){return function(i,r){const s=i.constructor;if(!t){throw new Error(`${s.name}: @type() reference provided for "${r}" is undefined. Make sure you don't have any circular dependencies.`)}N.register(s);const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=U.initialize(s);let l=o[r];if(o[l]!==void 0){if(o[l].deprecated){return}else if(o[l].type!==void 0){try{throw new Error(`@colyseus/schema: Duplicate '${r}' definition on '${s.name}'.\nCheck @type() annotation`)}catch(ct){const e=ct.stack.split("\n")[4].trim();throw new Error(`${ct.message} ${e}`)}}}else{l=o[v]??(a&&a[v])??-1;l++}if(e&&e.manual){U.addField(o,l,r,t,{enumerable:true,configurable:true,writable:true})}else{const e=Array.isArray(t)?getType("array"):typeof Object.keys(t)[0]==="string"&&getType(Object.keys(t)[0]);const i=e?Object.values(t)[0]:t;U.addField(o,l,r,t,getPropertyDescriptor(`_${r}`,l,i,e))}}}function getPropertyDescriptor(e,i,s,n){return{get:function(){return this[e]},set:function(a){var o,l;const c=this[e]??void 0;if(a===c){return}if(a!==void 0&&a!==null){if(n){if(n.constructor===Y&&!(a instanceof Y)){a=new Y(...a)}if(n.constructor===Z&&!(a instanceof Z)){a=new Z(a)}a[u]=s}else if(typeof s!=="string"){assertInstanceType(a,s,this,e.substring(1))}else{assertType(a,s,this,e.substring(1))}const f=this[h];if(c!==void 0&&c[h]){(o=f.root)==null?void 0:o.remove(c[h]);this.constructor[r](f,i,t.OPERATION.DELETE_AND_ADD)}else{this.constructor[r](f,i,t.OPERATION.ADD)}(l=a[h])==null?void 0:l.setParent(this,f.root,i)}else if(c!==void 0){this[h].delete(i)}this[e]=a},enumerable:true,configurable:true}}function deprecated(t=true){return function(e,i){var r;const s=e.constructor;const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=s[r=Symbol.metadata]??(s[r]=Object.assign({},s[Symbol.metadata],a??Object.create(null)));const l=o[i];o[l].deprecated=true;if(t){o[d]??(o[d]={});o[d][i]={get:function(){throw new Error(`${i} is deprecated.`)},set:function(t){},enumerable:false,configurable:true}}Object.defineProperty(o,l,{value:o[l],enumerable:false,configurable:true})}}function defineTypes(t,e,i){for(let r in e){type(e[r],i)(t.prototype,r)}return t}function schema2(t,e,i=tt){const r={};const s={};for(let a in t){const e=t[a];if(typeof e==="object"){if(e["default"]!==void 0){r[a]=e["default"]}if(e["view"]!==void 0){s[a]=typeof e["view"]==="boolean"?q:e["view"]}}}const n=U.setFields(class extends i{constructor(...t){t[0]=Object.assign({},r,t[0]);super(...t)}},t);for(let a in s){view(s[a])(n.prototype,a)}if(e){Object.defineProperty(n,"name",{value:e})}n.extends=(t,e)=>schema2(t,e,n);return n}function getIndent(t){return new Array(t).fill(0).map(((e,i)=>i===t-1?` `:`   `)).join("")}function dumpChanges(e){const i=e[h].root;const r={ops:{},refs:[]};i.changes.forEach((e=>{if(e===void 0){return}const i=e.indexedOperations;r.refs.push(`refId#${e.refId}`);for(const s in i){const e=i[s];const n=t.OPERATION[e];if(!r.ops[n]){r.ops[n]=0}r.ops[t.OPERATION[e]]++}}));return r}var K,J;const Q=class _Schema{static initialize(t){var e;Object.defineProperty(t,h,{value:new ChangeTree(t),enumerable:false,writable:true});Object.defineProperties(t,((e=t.constructor[Symbol.metadata])==null?void 0:e[d])||{})}static is(t){return typeof t[Symbol.metadata]==="object"}static[(K=s,J=n,r)](e,i,r=t.OPERATION.ADD){e.change(i,r)}static[a](t,e,i){var r,s;const n=t.constructor[Symbol.metadata];const a=(r=n[e])==null?void 0:r.tag;if(i===void 0){return a===void 0}else if(a===void 0){return true}else if(a===q){return i.isChangeTreeVisible(t[h])}else{const e=(s=i.tags)==null?void 0:s.get(t[h]);return e&&e.has(a)}}constructor(...t){_Schema.initialize(this);if(t[0]){Object.assign(this,t[0])}}assign(t){Object.assign(this,t);return this}setDirty(t,e){const i=this.constructor[Symbol.metadata];this[h].change(i[i[t]].index,e)}clone(){var t;const e=new this.constructor;const i=this.constructor[Symbol.metadata];for(const r in i){const s=i[r].name;if(typeof this[s]==="object"&&typeof((t=this[s])==null?void 0:t.clone)==="function"){e[s]=this[s].clone()}else{e[s]=this[s]}}return e}toJSON(){const t={};const e=this.constructor[Symbol.metadata];for(const i in e){const r=e[i];const s=r.name;if(!r.deprecated&&this[s]!==null&&typeof this[s]!=="undefined"){t[s]=typeof this[s]["toJSON"]==="function"?this[s]["toJSON"]():this[s]}}return t}discardAllChanges(){this[h].discardAll()}[o](t){const e=this.constructor[Symbol.metadata];return this[e[t].name]}[l](t){const e=this.constructor[Symbol.metadata];this[e[t].name]=void 0}static debugRefIds(t,e=false,i=0){var r,s;const n=e?` - ${JSON.stringify(t.toJSON())}`:"";const a=t[h];const o=a.refId;const l=((s=(r=a.root)==null?void 0:r.refCount)==null?void 0:s[o])>1?` [${a.root.refCount[o]}]`:"";let u=`${getIndent(i)}${t.constructor.name} (refId: ${o})${l}${n}\n`;a.forEachChild((t=>u+=this.debugRefIds(t.ref,e,i+1)));return u}static debugChanges(e,i=false){const r=e[h];const s=i?r.allChanges:r.changes;const n=i?"allChanges":"changes";let a=`${e.constructor.name} (${r.refId}) -> .${n}:\n`;function dumpChangeSet(e){e.operations.filter((t=>t)).forEach((e=>{const s=r.indexedOperations[e];console.log({index:e,operation:s});a+=`- [${e}]: ${t.OPERATION[s]} (${JSON.stringify(r.getValue(Number(e),i))})\n`}))}dumpChangeSet(s);if(!i&&r.filteredChanges&&r.filteredChanges.operations.filter((t=>t)).length>0){a+=`${e.constructor.name} (${r.refId}) -> .filteredChanges:\n`;dumpChangeSet(r.filteredChanges)}if(i&&r.allFilteredChanges&&r.allFilteredChanges.operations.filter((t=>t)).length>0){a+=`${e.constructor.name} (${r.refId}) -> .allFilteredChanges:\n`;dumpChangeSet(r.allFilteredChanges)}return a}static debugChangesDeep(e,i="changes"){var r,s;let n="";const a=e[h];const o=a.root;const l=new Map;const u=[];let c=0;for(const[t,d]of Object.entries(o[i])){const i=o.changeTrees[t];let n=false;let f=[];let v=(r=i.parent)==null?void 0:r[h];if(i===a){n=true}else{while(v!==void 0){f.push(v);if(v.ref===e){n=true;break}v=(s=v.parent)==null?void 0:s[h]}}if(n){u.push(i.refId);c+=Object.keys(d).length;l.set(i,f.reverse())}}n+="---\n";n+=`root refId: ${a.refId}\n`;n+=`Total instances: ${u.length} (refIds: ${u.join(", ")})\n`;n+=`Total changes: ${c}\n`;n+="---\n";const f=new WeakSet;for(const[h,d]of l.entries()){d.forEach(((t,e)=>{if(!f.has(t)){n+=`${getIndent(e)}${t.ref.constructor.name} (refId: ${t.refId})\n`;f.add(t)}}));const e=h.indexedOperations;const i=d.length;const r=getIndent(i);const s=i>0?`(${h.parentIndex}) `:"";n+=`${r}${s}${h.ref.constructor.name} (refId: ${h.refId}) - changes: ${Object.keys(e).length}\n`;for(const a in e){const r=e[a];n+=`${getIndent(i+1)}${t.OPERATION[r]}: ${a}\n`}}return`${n}`}};Q[K]=encodeSchemaOperation;Q[J]=decodeSchemaOperation;let tt=Q;var et,it;const rt=class _CollectionSchema{static[(et=s,it=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.isChangeTreeVisible((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["collection"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this.$refId=0;this[h]=new ChangeTree(this);this[h].indexes={};if(t){t.forEach((t=>this.add(t)))}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}add(t){const e=this.$refId++;const i=t[h]!==void 0;if(i){t[h].setParent(this,this[h].root,e)}this[h].indexes[e]=e;this.$indexes.set(e,e);this.$items.set(e,t);this[h].change(e);return e}at(t){const e=Array.from(this.$items.keys())[t];return this.$items.get(e)}entries(){return this.$items.entries()}delete(t){const e=this.$items.entries();let i;let r;while(r=e.next()){if(r.done){break}if(t===r.value[1]){i=r.value[0];break}}if(i===void 0){return false}this.deletedItems[i]=this[h].delete(i);this.$indexes.delete(i);return this.$items.delete(i)}clear(){const e=this[h];e.discard(true);e.indexes={};e.forEachChild(((t,i)=>{var r;(r=e.root)==null?void 0:r.remove(t)}));this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){return Array.from(this.$items.values()).some((e=>e===t))}forEach(t){this.$items.forEach(((e,i,r)=>t(e,i,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const t=[];this.forEach(((e,i)=>{t.push(typeof e["toJSON"]==="function"?e["toJSON"]():e)}));return t}clone(t){let e;if(t){e=Object.assign(new _CollectionSchema,this)}else{e=new _CollectionSchema;this.forEach((t=>{if(t[h]){e.add(t["clone"]())}else{e.add(t)}}))}return e}};rt[et]=encodeKeyValueOperation;rt[it]=decodeKeyValueOperation;let st=rt;registerType("collection",{constructor:st});var nt,at;const ot=class _SetSchema{static[(nt=s,at=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.visible.has((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["set"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this.$refId=0;this[h]=new ChangeTree(this);this[h].indexes={};if(t){t.forEach((t=>this.add(t)))}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}add(e){var i;if(this.has(e)){return false}const r=this.$refId++;if(e[h]!==void 0){e[h].setParent(this,this[h].root,r)}const s=((i=this[h].indexes[r])==null?void 0:i.op)??t.OPERATION.ADD;this[h].indexes[r]=r;this.$indexes.set(r,r);this.$items.set(r,e);this[h].change(r,s);return r}entries(){return this.$items.entries()}delete(t){const e=this.$items.entries();let i;let r;while(r=e.next()){if(r.done){break}if(t===r.value[1]){i=r.value[0];break}}if(i===void 0){return false}this.deletedItems[i]=this[h].delete(i);this.$indexes.delete(i);return this.$items.delete(i)}clear(){const e=this[h];e.discard(true);e.indexes={};this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){const e=this.$items.values();let i=false;let r;while(r=e.next()){if(r.done){break}if(t===r.value){i=true;break}}return i}forEach(t){this.$items.forEach(((e,i,r)=>t(e,i,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const t=[];this.forEach(((e,i)=>{t.push(typeof e["toJSON"]==="function"?e["toJSON"]():e)}));return t}clone(t){let e;if(t){e=Object.assign(new _SetSchema,this)}else{e=new _SetSchema;this.forEach((t=>{if(t[h]){e.add(t["clone"]())}else{e.add(t)}}))}return e}};ot[nt]=encodeKeyValueOperation;ot[at]=decodeKeyValueOperation;let lt=ot;registerType("set",{constructor:lt});function __decorate2(t,e,i,r){var s=arguments.length,n=s<3?e:r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)if(a=t[o])n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n;return s>3&&n&&Object.defineProperty(e,i,n),n}typeof SuppressedError==="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};class Root{constructor(t){this.types=t;this.nextUniqueId=0;this.refCount={};this.changeTrees={};this.allChanges=[];this.allFilteredChanges=[];this.changes=[];this.filteredChanges=[]}getNextUniqueId(){return this.nextUniqueId++}add(e){e.ensureRefId();const i=this.changeTrees[e.refId]===void 0;if(i){this.changeTrees[e.refId]=e}const r=this.refCount[e.refId];if(r===0){const i=e.allChanges.operations;let r=i.length;while(r--){e.indexedOperations[i[r]]=t.OPERATION.ADD;setOperationAtIndex(e.changes,r)}}this.refCount[e.refId]=(r||0)+1;return i}remove(t){const e=this.refCount[t.refId]-1;if(e<=0){t.root=void 0;delete this.changeTrees[t.refId];this.removeChangeFromChangeSet("allChanges",t);this.removeChangeFromChangeSet("changes",t);if(t.filteredChanges){this.removeChangeFromChangeSet("allFilteredChanges",t);this.removeChangeFromChangeSet("filteredChanges",t)}this.refCount[t.refId]=0;t.forEachChild(((t,e)=>this.remove(t)))}else{this.refCount[t.refId]=e;if(t.filteredChanges!==void 0){this.removeChangeFromChangeSet("filteredChanges",t);enqueueChangeTree(this,t,"filteredChanges")}else{this.removeChangeFromChangeSet("changes",t);enqueueChangeTree(this,t,"changes")}}return e}removeChangeFromChangeSet(t,e){const i=this[t];const r=i.indexOf(e);if(r!==-1){e[t].queueRootIndex=-1;i[r]=void 0;return true}}clear(){this.changes.length=0}}const ht=class _Encoder{constructor(t){this.sharedBuffer=Buffer.allocUnsafe(_Encoder.BUFFER_SIZE);this.context=N.cache(t.constructor);this.root=new Root(this.context);this.setState(t)}setState(t){this.state=t;this.state[h].setRoot(this.root)}encode(i={offset:0},r,n=this.sharedBuffer,o="changes",l=o==="allChanges",u=i.offset){const c=r!==void 0;const f=this.state[h];const d=this.root[o];for(let h=0,v=d.length;h<v;h++){const v=d[h];if(!v){continue}if(c){if(!r.isChangeTreeVisible(v)){r.invisible.add(v);continue}r.invisible.delete(v)}const p=v[o];const g=v.ref;const m=p.operations.length;if(m===0){continue}const y=g.constructor;const x=y[s];const b=y[a];const T=y[Symbol.metadata];if(c||i.offset>u||v!==f){n[i.offset++]=e&255;C.number(n,v.refId,i)}for(let e=0;e<m;e++){const s=p.operations[e];const a=s<0?Math.abs(s):l?t.OPERATION.ADD:v.indexedOperations[s];if(s===void 0||a===void 0||b&&!b(g,s,r)){continue}x(this,n,v,s,a,i,l,c,T)}}if(i.offset>n.byteLength){const t=Math.ceil(i.offset/(Buffer.poolSize??8*1024))*(Buffer.poolSize??8*1024);console.warn(`@colyseus/schema buffer overflow. Encoded state is higher than default BUFFER_SIZE. Use the following to increase default BUFFER_SIZE:\n\n    import { Encoder } from "@colyseus/schema";\n    Encoder.BUFFER_SIZE = ${Math.round(t/1024)} * 1024; // ${Math.round(t/1024)} KB\n`);n=Buffer.alloc(t,n);if(n===this.sharedBuffer){this.sharedBuffer=n}return this.encode({offset:u},r,n,o,l)}else{return n.subarray(0,i.offset)}}encodeAll(t={offset:0},e=this.sharedBuffer){return this.encode(t,void 0,e,"allChanges",true)}encodeAllView(t,e,i,r=this.sharedBuffer){const s=i.offset;this.encode(i,t,r,"allFilteredChanges",true,s);return Buffer.concat([r.subarray(0,e),r.subarray(s,i.offset)])}debugChanges(e){const i=typeof e==="string"?this.root[e]:e;i.forEach((i=>{const r=i[e];const s=i.ref.constructor[Symbol.metadata];console.log("->",{ref:i.ref.constructor.name,refId:i.refId,changes:Object.keys(r).length});for(const e in r){const i=r[e];console.log("  ->",{index:e,field:s==null?void 0:s[e],op:t.OPERATION[i]})}}))}encodeView(i,r,n,a=this.sharedBuffer){const l=n.offset;for(const[h,u]of i.changes){const r=this.root.changeTrees[h];if(r===void 0){i.changes.delete(h);continue}const l=Object.keys(u);if(l.length===0){continue}const c=r.ref;const f=c.constructor;const d=f[s];const v=f[Symbol.metadata];a[n.offset++]=e&255;C.number(a,r.refId,n);for(let e=0,i=l.length;e<i;e++){const i=Number(l[e]);const s=r.ref[o](i);const h=s!==void 0&&u[i]||t.OPERATION.DELETE;d(this,a,r,i,h,n,false,true,v)}}i.changes.clear();this.encode(n,i,a,"filteredChanges",false,l);return Buffer.concat([a.subarray(0,r),a.subarray(l,n.offset)])}discardChanges(){var t,e;let i=this.root.changes.length;if(i>0){while(i--){(t=this.root.changes[i])==null?void 0:t.endEncode("changes")}this.root.changes.length=0}i=this.root.filteredChanges.length;if(i>0){while(i--){(e=this.root.filteredChanges[i])==null?void 0:e.endEncode("filteredChanges")}this.root.filteredChanges.length=0}}tryEncodeTypeId(t,e,r,s){const n=this.context.getTypeId(e);const a=this.context.getTypeId(r);if(a===void 0){console.warn(`@colyseus/schema WARNING: Class "${r.name}" is not registered on TypeRegistry - Please either tag the class with @entity or define a @type() field.`);return}if(n!==a){t[s.offset++]=i&255;C.number(t,a,s)}}get hasChanges(){return this.root.changes.length>0||this.root.filteredChanges.length>0}};ht.BUFFER_SIZE=typeof Buffer!=="undefined"&&Buffer.poolSize||8*1024;let ut=ht;function spliceOne(t,e){if(e===-1||e>=t.length){return false}const i=t.length-1;for(let r=e;r<i;r++){t[r]=t[r+1]}t.length=i;return true}class DecodingWarning extends Error{constructor(t){super(t);this.name="DecodingWarning"}}class ReferenceTracker{constructor(){this.refs=new Map;this.refIds=new WeakMap;this.refCounts={};this.deletedRefs=new Set;this.callbacks={};this.nextUniqueId=0}getNextUniqueId(){return this.nextUniqueId++}addRef(t,e,i=true){this.refs.set(t,e);this.refIds.set(e,t);if(i){this.refCounts[t]=(this.refCounts[t]||0)+1}if(this.deletedRefs.has(t)){this.deletedRefs.delete(t)}}removeRef(t){const e=this.refCounts[t];if(e===void 0){try{throw new DecodingWarning("trying to remove refId that doesn't exist: "+t)}catch(ct){console.warn(ct)}return}if(e===0){try{const e=this.refs.get(t);throw new DecodingWarning(`trying to remove refId '${t}' with 0 refCount (${e.constructor.name}: ${JSON.stringify(e)})`)}catch(ct){console.warn(ct)}return}if((this.refCounts[t]=e-1)<=0){this.deletedRefs.add(t)}}clearRefs(){this.refs.clear();this.deletedRefs.clear();this.callbacks={};this.refCounts={}}garbageCollectDeletedRefs(){this.deletedRefs.forEach((t=>{if(this.refCounts[t]>0){return}const e=this.refs.get(t);if(e.constructor[Symbol.metadata]!==void 0){const t=e.constructor[Symbol.metadata];for(const i in t){const r=t[i].name;const s=typeof e[r]==="object"&&this.refIds.get(e[r]);if(s&&!this.deletedRefs.has(s)){this.removeRef(s)}}}else{if(typeof e[u]==="function"){Array.from(e.values()).forEach((t=>{const e=this.refIds.get(t);if(!this.deletedRefs.has(e)){this.removeRef(e)}}))}}this.refs.delete(t);delete this.refCounts[t];delete this.callbacks[t]}));this.deletedRefs.clear()}addCallback(e,i,r){if(e===void 0){const e=typeof i==="number"?t.OPERATION[i]:i;throw new Error(`Can't addCallback on '${e}' (refId is undefined)`)}if(!this.callbacks[e]){this.callbacks[e]={}}if(!this.callbacks[e][i]){this.callbacks[e][i]=[]}this.callbacks[e][i].push(r);return()=>this.removeCallback(e,i,r)}removeCallback(t,e,i){var r,s,n;const a=(n=(s=(r=this.callbacks)==null?void 0:r[t])==null?void 0:s[e])==null?void 0:n.indexOf(i);if(a!==void 0&&a!==-1){spliceOne(this.callbacks[t][e],a)}}}class Decoder2{constructor(t,e){this.currentRefId=0;this.setState(t);this.context=e||new N(t.constructor)}setState(t){this.state=t;this.root=new ReferenceTracker;this.root.addRef(0,t)}decode(t,i={offset:0},r=this.state){var s,a,o;const l=[];const h=this.root;const u=t.byteLength;let c=r["constructor"][n];this.currentRefId=0;while(i.offset<u){if(t[i.offset]==e){i.offset++;this.currentRefId=D.number(t,i);const e=h.refs.get(this.currentRefId);if(!e){throw new Error(`"refId" not found: ${this.currentRefId}`)}(s=r[f])==null?void 0:s.call(r);r=e;c=r.constructor[n];continue}const a=c(this,t,i,r,l);if(a===z){console.warn("@colyseus/schema: definition mismatch");const r={offset:i.offset};while(i.offset<u){if(t[i.offset]===e){r.offset=i.offset+1;if(h.refs.has(D.number(t,r))){break}}i.offset++}continue}}(a=r[f])==null?void 0:a.call(r);(o=this.triggerChanges)==null?void 0:o.call(this,l);h.garbageCollectDeletedRefs();return l}getInstanceType(t,e,r){let s;if(t[e.offset]===i){e.offset++;const i=D.number(t,e);s=this.context.get(i)}return s||r}createInstanceOfType(t){return new t}removeChildRefs(e,i){const r=typeof e[u]!=="string";const s=this.root.refIds.get(e);e.forEach(((n,a)=>{i.push({ref:e,refId:s,op:t.OPERATION.DELETE,field:a,value:void 0,previousValue:n});if(r){this.root.removeRef(this.root.refIds.get(n))}}))}}class ReflectionField extends tt{}__decorate2([type("string")],ReflectionField.prototype,"name",void 0);__decorate2([type("string")],ReflectionField.prototype,"type",void 0);__decorate2([type("number")],ReflectionField.prototype,"referencedType",void 0);class ReflectionType extends tt{constructor(){super(...arguments);this.fields=new Y}}__decorate2([type("number")],ReflectionType.prototype,"id",void 0);__decorate2([type("number")],ReflectionType.prototype,"extendsId",void 0);__decorate2([type([ReflectionField])],ReflectionType.prototype,"fields",void 0);class Reflection extends tt{constructor(){super(...arguments);this.types=new Y}static encode(t,e={offset:0}){const i=t.context;const r=new Reflection;const s=new ut(r);const n=i.schemas.get(t.state.constructor);if(n>0){r.rootType=n}const a=new Set;const o={};const addType=t=>{if(t.extendsId===void 0||a.has(t.extendsId)){a.add(t.id);r.types.push(t);const e=o[t.id];if(e!==void 0){delete o[t.id];e.forEach((t=>addType(t)))}}else{if(o[t.extendsId]===void 0){o[t.extendsId]=[]}o[t.extendsId].push(t)}};i.schemas.forEach(((t,e)=>{const r=new ReflectionType;r.id=Number(t);const s=Object.getPrototypeOf(e);if(s!==tt){r.extendsId=i.schemas.get(s)}const n=e[Symbol.metadata];if(n!==s[Symbol.metadata]){for(const t in n){const e=Number(t);const s=n[e].name;if(!Object.prototype.hasOwnProperty.call(n,s)){continue}const a=new ReflectionField;a.name=s;let o;const l=n[e];if(typeof l.type==="string"){o=l.type}else{let t;if(tt.is(l.type)){o="ref";t=l.type}else{o=Object.keys(l.type)[0];if(typeof l.type[o]==="string"){o+=":"+l.type[o]}else{t=l.type[o]}}a.referencedType=t?i.getTypeId(t):-1}a.type=o;r.fields.push(a)}}addType(r)}));for(const h in o){o[h].forEach((t=>r.types.push(t)))}const l=s.encodeAll(e);return Buffer.from(l,0,e.offset)}static decode(t,e){const i=new Reflection;const r=new Decoder2(i);r.decode(t,e);const s=new N;i.types.forEach((t=>{const e=s.get(t.extendsId)??tt;const i=class _ extends e{};N.register(i);s.add(i,t.id)}),{});const addFields=(t,e,i)=>{e.fields.forEach(((e,r)=>{const n=i+r;if(e.referencedType!==void 0){let i=e.type;let r=s.get(e.referencedType);if(!r){const t=e.type.split(":");i=t[0];r=t[1]}if(i==="ref"){U.addField(t,n,e.name,r)}else{U.addField(t,n,e.name,{[i]:r})}}else{U.addField(t,n,e.name,e.type)}}))};i.types.forEach((t=>{const e=s.get(t.id);const r=U.initialize(e);const n=[];let a=t;do{n.push(a);a=i.types.find((t=>t.id===a.extendsId))}while(a);let o=0;n.reverse().forEach((t=>{addFields(r,t,o);o+=t.fields.length}))}));const n=new(s.get(i.rootType||0));return new Decoder2(n,s)}}__decorate2([type([ReflectionType])],Reflection.prototype,"types",void 0);__decorate2([type("number")],Reflection.prototype,"rootType",void 0);function getDecoderStateCallbacks(e){const i=e.root;const r=i.callbacks;const s=new WeakMap;let n;e.triggerChanges=function(e){var s;const n=new Set;for(let a=0,o=e.length;a<o;a++){const o=e[a];const l=o.refId;const h=o.ref;const u=r[l];if(!u){continue}if((o.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&o.previousValue instanceof tt){const e=(s=r[i.refIds.get(o.previousValue)])==null?void 0:s[t.OPERATION.DELETE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t]()}}if(h instanceof tt){if(!n.has(l)){const e=u==null?void 0:u[t.OPERATION.REPLACE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t]()}}if(u.hasOwnProperty(o.field)){const t=u[o.field];for(let e=(t==null?void 0:t.length)-1;e>=0;e--){t[e](o.value,o.previousValue)}}}else{if((o.op&t.OPERATION.DELETE)===t.OPERATION.DELETE){if(o.previousValue!==void 0){const e=u[t.OPERATION.DELETE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.previousValue,o.dynamicIndex??o.field)}}if((o.op&t.OPERATION.ADD)===t.OPERATION.ADD){const e=u[t.OPERATION.ADD];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}}else if((o.op&t.OPERATION.ADD)===t.OPERATION.ADD&&o.previousValue!==o.value){const e=u[t.OPERATION.ADD];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}if(o.value!==o.previousValue&&(o.value!==void 0||o.previousValue!==void 0)){const e=u[t.OPERATION.REPLACE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}}n.add(l)}};function getProxy(e,r){var a;let o=((a=r.instance)==null?void 0:a.constructor[Symbol.metadata])||e;let l=r.instance&&typeof r.instance["forEach"]==="function"||e&&typeof e[Symbol.metadata]==="undefined";if(o&&!l){const onAddListen=function(t,e,a,o){if(o&&r.instance[e]!==void 0&&!s.has(n)){a(r.instance[e],void 0)}return i.addCallback(i.refIds.get(t),e,a)};return new Proxy({listen:function listen(t,e,i=true){if(r.instance){return onAddListen(r.instance,t,e,i)}else{let detachCallback=()=>{};r.onInstanceAvailable(((r,a)=>{detachCallback=onAddListen(r,t,e,i&&a&&!s.has(n))}));return()=>detachCallback()}},onChange:function onChange(e){return i.addCallback(i.refIds.get(r.instance),t.OPERATION.REPLACE,e)},bindTo:function bindTo(e,s){if(!s){s=Object.keys(o).map((t=>o[t].name))}return i.addCallback(i.refIds.get(r.instance),t.OPERATION.REPLACE,(()=>{s.forEach((t=>e[t]=r.instance[t]))}))}},{get(t,e){var s;const n=o[o[e]];if(n){const t=(s=r.instance)==null?void 0:s[e];const onInstanceAvailable=s=>{const n=$(r.instance).listen(e,((t,e)=>{s(t,false);n==null?void 0:n()}),false);if(i.refIds.get(t)!==void 0){s(t,true)}};return getProxy(n.type,{instance:i.refIds.get(t)&&t,parentInstance:r.instance,onInstanceAvailable:onInstanceAvailable})}else{return t[e]}},has(t,e){return o[e]!==void 0},set(t,e,i){throw new Error("not allowed")},deleteProperty(t,e){throw new Error("not allowed")}})}else{const onAdd=function(e,r,a){if(a){e.forEach(((t,e)=>r(t,e)))}return i.addCallback(i.refIds.get(e),t.OPERATION.ADD,((t,e)=>{s.set(r,true);n=r;r(t,e);s.delete(r);n=void 0}))};const onRemove=function(e,r){return i.addCallback(i.refIds.get(e),t.OPERATION.DELETE,r)};const onChange=function(e,r){return i.addCallback(i.refIds.get(e),t.OPERATION.REPLACE,r)};return new Proxy({onAdd:function(t,e=true){if(r.instance){return onAdd(r.instance,t,e&&!s.has(n))}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable(((i,r)=>{detachCallback=onAdd(i,t,e&&r&&!s.has(n))}));return()=>detachCallback()}},onRemove:function(t){if(r.instance){return onRemove(r.instance,t)}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable((e=>{detachCallback=onRemove(e,t)}));return()=>detachCallback()}},onChange:function(t){if(r.instance){return onChange(r.instance,t)}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable((e=>{detachCallback=onChange(e,t)}));return()=>detachCallback()}}},{get(t,e){if(!t[e]){throw new Error(`Can't access '${e}' through callback proxy. access the instance directly.`)}return t[e]},has(t,e){return t[e]!==void 0},set(t,e,i){throw new Error("not allowed")},deleteProperty(t,e){throw new Error("not allowed")}})}}function $(t){return getProxy(void 0,{instance:t})}return $}function getRawChangesCallback(t,e){t.triggerChanges=e}class StateView{constructor(t=false){this.iterable=t;this.visible=new WeakSet;this.invisible=new WeakSet;this.changes=new Map;if(t){this.items=[]}}add(e,i=q,r=true){var s,n;const a=e==null?void 0:e[h];if(!a){console.warn("StateView#add(), invalid object:",e);return this}else if(!a.parent&&a.refId!==0){throw new Error(`Cannot add a detached instance to the StateView. Make sure to assign the "${a.ref.constructor.name}" instance to the state before calling view.add()`)}const o=e.constructor[Symbol.metadata];this.visible.add(a);if(this.iterable&&r){this.items.push(e)}if(r&&a.parent){this.addParentOf(a,i)}let l=this.changes.get(a.refId);if(l===void 0){l={};this.changes.set(a.refId,l)}if(i!==q){if(!this.tags){this.tags=new WeakMap}let e;if(!this.tags.has(a)){e=new Set;this.tags.set(a,e)}else{e=this.tags.get(a)}e.add(i);(n=(s=o==null?void 0:o[m])==null?void 0:s[i])==null?void 0:n.forEach((e=>{if(a.getChange(e)!==t.OPERATION.DELETE){l[e]=t.OPERATION.ADD}}))}else{const e=this.invisible.has(a);const r=a.filteredChanges!==void 0?a.allFilteredChanges:a.allChanges;for(let s=0,n=r.operations.length;s<n;s++){const n=r.operations[s];if(n===void 0){continue}const h=a.indexedOperations[n]??t.OPERATION.ADD;const u=o==null?void 0:o[n].tag;if(!a.isNew&&(e||u===void 0||u===i)&&h!==t.OPERATION.DELETE){l[n]=h}}}a.forEachChild(((t,e)=>{if(o&&o[e].tag!==void 0&&o[e].tag!==i){return}this.add(t.ref,i,false)}));return this}addParentOf(e,i){var r;const s=e.parent[h];const n=e.parentIndex;if(!this.visible.has(s)){this.visible.add(s);const t=(r=s.parent)==null?void 0:r[h];if(t&&t.filteredChanges!==void 0){this.addParentOf(s,i)}}if(s.getChange(n)!==t.OPERATION.DELETE){let e=this.changes.get(s.refId);if(e===void 0){e={};this.changes.set(s.refId,e)}if(!this.tags){this.tags=new WeakMap}let r;if(!this.tags.has(s)){r=new Set;this.tags.set(s,r)}else{r=this.tags.get(s)}r.add(i);e[n]=t.OPERATION.ADD}}remove(e,i=q,r=false){var s;const n=e[h];if(!n){console.warn("StateView#remove(), invalid object:",e);return this}this.visible.delete(n);if(this.iterable&&!r){spliceOne(this.items,this.items.indexOf(e))}const a=n.ref;const o=a.constructor[Symbol.metadata];let l=this.changes.get(n.refId);if(l===void 0){l={};this.changes.set(n.refId,l)}if(i===q){const e=n.parent;if(!U.isValidInstance(e)&&n.isFiltered){const i=e[h];let r=this.changes.get(i.refId);if(r===void 0){r={};this.changes.set(i.refId,r)}r[n.parentIndex]=t.OPERATION.DELETE}else{(s=o==null?void 0:o[g])==null?void 0:s.forEach((e=>l[e]=t.OPERATION.DELETE))}}else{o==null?void 0:o[m][i].forEach((e=>l[e]=t.OPERATION.DELETE))}if(this.tags&&this.tags.has(n)){const t=this.tags.get(n);if(i===void 0){this.tags.delete(n)}else{t.delete(i);if(t.size===0){this.tags.delete(n)}}}return this}has(t){return this.visible.has(t[h])}hasTag(t,e=q){var i;const r=(i=this.tags)==null?void 0:i.get(t[h]);return(r==null?void 0:r.has(e))??false}clear(){if(!this.iterable){throw new Error("StateView#clear() is only available for iterable StateView's. Use StateView(iterable: true) constructor.")}for(let t=0,e=this.items.length;t<e;t++){this.remove(this.items[t],q,true)}this.items.length=0}isChangeTreeVisible(t){let e=this.visible.has(t);if(!e&&t.isVisibilitySharedWithParent){if(this.visible.has(t.parent[h])){this.visible.add(t);e=true}}return e}}registerType("map",{constructor:Z});registerType("array",{constructor:Y});registerType("set",{constructor:lt});registerType("collection",{constructor:st});t.$changes=h;t.$childType=u;t.$decoder=n;t.$deleteByIndex=l;t.$encoder=s;t.$filter=a;t.$getByIndex=o;t.$track=r;t.ArraySchema=Y;t.ChangeTree=ChangeTree;t.CollectionSchema=st;t.Decoder=Decoder2;t.Encoder=ut;t.MapSchema=Z;t.Metadata=U;t.Reflection=Reflection;t.ReflectionField=ReflectionField;t.ReflectionType=ReflectionType;t.Schema=tt;t.SetSchema=lt;t.StateView=StateView;t.TypeContext=N;t.decode=D;t.decodeKeyValueOperation=decodeKeyValueOperation;t.decodeSchemaOperation=decodeSchemaOperation;t.defineCustomTypes=defineCustomTypes;t.defineTypes=defineTypes;t.deprecated=deprecated;t.dumpChanges=dumpChanges;t.encode=C;t.encodeArray=encodeArray;t.encodeKeyValueOperation=encodeKeyValueOperation;t.encodeSchemaOperation=encodeSchemaOperation;t.entity=entity;t.getDecoderStateCallbacks=getDecoderStateCallbacks;t.getRawChangesCallback=getRawChangesCallback;t.registerType=registerType;t.schema=schema2;t.type=type;t.view=view}))})(Cr,Cr.exports);var Or=Cr.exports;var Pr=wr;var Ir=Or;class H3TransportTransport{constructor(t){this.events=t;this.isOpen=false;this.lengthPrefixBuffer=new Uint8Array(9)}connect(t,e={}){const i=e.fingerprint&&{serverCertificateHashes:[{algorithm:"sha-256",value:new Uint8Array(e.fingerprint).buffer}]}||void 0;this.wt=new WebTransport(t,i);this.wt.ready.then((t=>{console.log("WebTransport ready!",t);this.isOpen=true;this.unreliableReader=this.wt.datagrams.readable.getReader();this.unreliableWriter=this.wt.datagrams.writable.getWriter();const i=this.wt.incomingBidirectionalStreams.getReader();i.read().then((t=>{this.reader=t.value.readable.getReader();this.writer=t.value.writable.getWriter();this.sendSeatReservation(e.room.roomId,e.sessionId,e.reconnectionToken);this.readIncomingData();this.readIncomingUnreliableData()})).catch((t=>{console.error("failed to read incoming stream",t);console.error("TODO: close the connection")}))})).catch((t=>{console.log("WebTransport not ready!",t);this._close()}));this.wt.closed.then((t=>{console.log("WebTransport closed w/ success",t);this.events.onclose({code:t.closeCode,reason:t.reason})})).catch((t=>{console.log("WebTransport closed w/ error",t);this.events.onerror(t);this.events.onclose({code:t.closeCode,reason:t.reason})})).finally((()=>{this._close()}))}send(t){const e=Ir.encode.number(this.lengthPrefixBuffer,t.length,{offset:0});const i=new Uint8Array(e+t.length);i.set(this.lengthPrefixBuffer.subarray(0,e),0);i.set(t,e);this.writer.write(i)}sendUnreliable(t){const e=Ir.encode.number(this.lengthPrefixBuffer,t.length,{offset:0});const i=new Uint8Array(e+t.length);i.set(this.lengthPrefixBuffer.subarray(0,e),0);i.set(t,e);this.unreliableWriter.write(i)}close(t,e){try{this.wt.close({closeCode:t,reason:e})}catch(i){console.error(i)}}readIncomingData(){return Pr.__awaiter(this,void 0,void 0,(function*(){let t;while(this.isOpen){try{t=yield this.reader.read();const e=t.value;const i={offset:0};do{const t=Ir.decode.number(e,i);this.events.onmessage({data:e.subarray(i.offset,i.offset+t)});i.offset+=t}while(i.offset<e.length)}catch(e){if(e.message.indexOf("session is closed")===-1){console.error("H3Transport: failed to read incoming data",e)}break}if(t.done){break}}}))}readIncomingUnreliableData(){return Pr.__awaiter(this,void 0,void 0,(function*(){let t;while(this.isOpen){try{t=yield this.unreliableReader.read();const e=t.value;const i={offset:0};do{const t=Ir.decode.number(e,i);this.events.onmessage({data:e.subarray(i.offset,i.offset+t)});i.offset+=t}while(i.offset<e.length)}catch(e){if(e.message.indexOf("session is closed")===-1){console.error("H3Transport: failed to read incoming data",e)}break}if(t.done){break}}}))}sendSeatReservation(t,e,i){const r={offset:0};const s=[];Ir.encode.string(s,t,r);Ir.encode.string(s,e,r);if(i){Ir.encode.string(s,i,r)}this.writer.write(new Uint8Array(s).buffer)}_close(){this.isOpen=false}}Ar.H3TransportTransport=H3TransportTransport;var Rr={};var browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};var Mr=browser;const Lr=globalThis.WebSocket||Mr;let Dr=class WebSocketTransport{constructor(t){this.events=t}send(t){this.ws.send(t)}sendUnreliable(t){console.warn("colyseus.js: The WebSocket transport does not support unreliable messages")}connect(t,e){try{this.ws=new Lr(t,{headers:e,protocols:this.protocols})}catch(i){this.ws=new Lr(t,this.protocols)}this.ws.binaryType="arraybuffer";this.ws.onopen=this.events.onopen;this.ws.onmessage=this.events.onmessage;this.ws.onclose=this.events.onclose;this.ws.onerror=this.events.onerror}close(t,e){this.ws.close(t,e)}get isOpen(){return this.ws.readyState===Lr.OPEN}};Rr.WebSocketTransport=Dr;var kr=Ar;var Fr=Rr;let Br=class Connection{constructor(t){this.events={};switch(t){case"h3":this.transport=new kr.H3TransportTransport(this.events);break;default:this.transport=new Fr.WebSocketTransport(this.events);break}}connect(t,e){this.transport.connect.call(this.transport,t,e)}send(t){this.transport.send(t)}sendUnreliable(t){this.transport.sendUnreliable(t)}close(t,e){this.transport.close(t,e)}get isOpen(){return this.transport.isOpen}};_r.Connection=Br;var Nr={};(function(t){t.Protocol=void 0;(function(t){t[t["HANDSHAKE"]=9]="HANDSHAKE";t[t["JOIN_ROOM"]=10]="JOIN_ROOM";t[t["ERROR"]=11]="ERROR";t[t["LEAVE_ROOM"]=12]="LEAVE_ROOM";t[t["ROOM_DATA"]=13]="ROOM_DATA";t[t["ROOM_STATE"]=14]="ROOM_STATE";t[t["ROOM_STATE_PATCH"]=15]="ROOM_STATE_PATCH";t[t["ROOM_DATA_SCHEMA"]=16]="ROOM_DATA_SCHEMA";t[t["ROOM_DATA_BYTES"]=17]="ROOM_DATA_BYTES"})(t.Protocol||(t.Protocol={}));t.ErrorCode=void 0;(function(t){t[t["MATCHMAKE_NO_HANDLER"]=4210]="MATCHMAKE_NO_HANDLER";t[t["MATCHMAKE_INVALID_CRITERIA"]=4211]="MATCHMAKE_INVALID_CRITERIA";t[t["MATCHMAKE_INVALID_ROOM_ID"]=4212]="MATCHMAKE_INVALID_ROOM_ID";t[t["MATCHMAKE_UNHANDLED"]=4213]="MATCHMAKE_UNHANDLED";t[t["MATCHMAKE_EXPIRED"]=4214]="MATCHMAKE_EXPIRED";t[t["AUTH_FAILED"]=4215]="AUTH_FAILED";t[t["APPLICATION_ERROR"]=4216]="APPLICATION_ERROR"})(t.ErrorCode||(t.ErrorCode={}))})(Nr);var Ur={};const zr={};function registerSerializer(t,e){zr[t]=e}function getSerializer(t){const e=zr[t];if(!e){throw new Error("missing serializer: "+t)}return e}Ur.getSerializer=getSerializer;Ur.registerSerializer=registerSerializer;var Vr={};const createNanoEvents=()=>({emit(t,...e){let i=this.events[t]||[];for(let r=0,s=i.length;r<s;r++){i[r](...e)}},events:{},on(t,e){var i;((i=this.events[t])===null||i===void 0?void 0:i.push(e))||(this.events[t]=[e]);return()=>{var i;this.events[t]=(i=this.events[t])===null||i===void 0?void 0:i.filter((t=>e!==t))}}});Vr.createNanoEvents=createNanoEvents;var Gr={};class EventEmitter{constructor(){this.handlers=[]}register(t,e=false){this.handlers.push(t);return this}invoke(...t){this.handlers.forEach((e=>e.apply(this,t)))}invokeAsync(...t){return Promise.all(this.handlers.map((e=>e.apply(this,t))))}remove(t){const e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1];this.handlers.pop()}clear(){this.handlers=[]}}function createSignal(){const t=new EventEmitter;function register(e){return t.register(e,this===null)}register.once=e=>{const callback=function(...i){e.apply(this,i);t.remove(callback)};t.register(callback)};register.remove=e=>t.remove(e);register.invoke=(...e)=>t.invoke(...e);register.invokeAsync=(...e)=>t.invokeAsync(...e);register.clear=()=>t.clear();return register}Gr.EventEmitter=EventEmitter;Gr.createSignal=createSignal;var Xr={};var Yr=Or;function getStateCallbacks(t){try{return Yr.getDecoderStateCallbacks(t["serializer"].decoder)}catch(e){return void 0}}let Hr=class SchemaSerializer{setState(t,e){this.decoder.decode(t,e)}getState(){return this.state}patch(t,e){return this.decoder.decode(t,e)}teardown(){this.decoder.root.clearRefs()}handshake(t,e){if(this.state){Yr.Reflection.decode(t,e);this.decoder=new Yr.Decoder(this.state)}else{this.decoder=Yr.Reflection.decode(t,e);this.state=this.decoder.state}}};Xr.SchemaSerializer=Hr;Xr.getStateCallbacks=getStateCallbacks;var Wr;try{Wr=new TextDecoder}catch(Ba){}var jr;var Zr;var $r=0;var qr={};var Kr;var Jr;var Qr=0;var ts=0;var es;var is;var rs=[];var ss;var ns={useRecords:false,mapsAsObjects:true};class C1Type{}const as=new C1Type;as.name="MessagePack 0xC1";var os=false;var ls=2;var hs;try{new Function("")}catch(Ba){ls=Infinity}class Unpackr{constructor(t){if(t){if(t.useRecords===false&&t.mapsAsObjects===void 0)t.mapsAsObjects=true;if(t.sequential&&t.trusted!==false){t.trusted=true;if(!t.structures&&t.useRecords!=false){t.structures=[];if(!t.maxSharedStructures)t.maxSharedStructures=0}}if(t.structures)t.structures.sharedLength=t.structures.length;else if(t.getStructures){(t.structures=[]).uninitialized=true;t.structures.sharedLength=0}if(t.int64AsNumber){t.int64AsType="number"}}Object.assign(this,t)}unpack(t,e){if(jr){return saveState((()=>{clearSource();return this?this.unpack(t,e):Unpackr.prototype.unpack.call(ns,t,e)}))}if(!t.buffer&&t.constructor===ArrayBuffer)t=typeof Buffer!=="undefined"?Buffer.from(t):new Uint8Array(t);if(typeof e==="object"){Zr=e.end||t.length;$r=e.start||0}else{$r=0;Zr=e>-1?e:t.length}ts=0;Jr=null;es=null;jr=t;try{ss=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(Ba){jr=null;if(t instanceof Uint8Array)throw Ba;throw new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Unpackr){qr=this;if(this.structures){Kr=this.structures;return checkedRead(e)}else if(!Kr||Kr.length>0){Kr=[]}}else{qr=ns;if(!Kr||Kr.length>0)Kr=[]}return checkedRead(e)}unpackMultiple(t,e){let i,r=0;try{os=true;let s=t.length;let n=this?this.unpack(t,s):Ss.unpack(t,s);if(e){if(e(n,r,$r)===false)return;while($r<s){r=$r;if(e(checkedRead(),r,$r)===false){return}}}else{i=[n];while($r<s){r=$r;i.push(checkedRead())}return i}}catch(Ba){Ba.lastPosition=r;Ba.values=i;throw Ba}finally{os=false;clearSource()}}_mergeStructures(t,e){t=t||[];if(Object.isFrozen(t))t=t.map((t=>t.slice(0)));for(let i=0,r=t.length;i<r;i++){let e=t[i];if(e){e.isShared=true;if(i>=32)e.highByte=i-32>>5}}t.sharedLength=t.length;for(let i in e||[]){if(i>=0){let r=t[i];let s=e[i];if(s){if(r)(t.restoreStructures||(t.restoreStructures=[]))[i]=r;t[i]=s}}}return this.structures=t}decode(t,e){return this.unpack(t,e)}}function checkedRead(t){try{if(!qr.trusted&&!os){let t=Kr.sharedLength||0;if(t<Kr.length)Kr.length=t}let t;if(qr.randomAccessStructure&&jr[$r]<64&&jr[$r]>=32&&hs);else t=read();if(es){$r=es.postBundlePosition;es=null}if(os)Kr.restoreStructures=null;if($r==Zr){if(Kr&&Kr.restoreStructures)restoreStructures();Kr=null;jr=null;if(is)is=null}else if($r>Zr){throw new Error("Unexpected end of MessagePack data")}else if(!os){let e;try{e=JSON.stringify(t,((t,e)=>typeof e==="bigint"?`${e}n`:e)).slice(0,100)}catch(Ba){e="(JSON view not available "+Ba+")"}throw new Error("Data read, but end of buffer not reached "+e)}return t}catch(Ba){if(Kr&&Kr.restoreStructures)restoreStructures();clearSource();if(Ba instanceof RangeError||Ba.message.startsWith("Unexpected end of buffer")||$r>Zr){Ba.incomplete=true}throw Ba}}function restoreStructures(){for(let t in Kr.restoreStructures){Kr[t]=Kr.restoreStructures[t]}Kr.restoreStructures=null}function read(){let t=jr[$r++];if(t<160){if(t<128){if(t<64)return t;else{let e=Kr[t&63]||qr.getStructures&&loadStructures()[t&63];if(e){if(!e.read){e.read=createStructureReader(e,t&63)}return e.read()}else return t}}else if(t<144){t-=128;if(qr.mapsAsObjects){let e={};for(let i=0;i<t;i++){let t=readKey();if(t==="__proto__")t="__proto_";e[t]=read()}return e}else{let e=new Map;for(let i=0;i<t;i++){e.set(read(),read())}return e}}else{t-=144;let e=new Array(t);for(let i=0;i<t;i++){e[i]=read()}if(qr.freezeData)return Object.freeze(e);return e}}else if(t<192){let e=t-160;if(ts>=$r){return Jr.slice($r-Qr,($r+=e)-Qr)}if(ts==0&&Zr<140){let t=e<16?shortStringInJS(e):longStringInJS(e);if(t!=null)return t}return cs(e)}else{let e;switch(t){case 192:return null;case 193:if(es){e=read();if(e>0)return es[1].slice(es.position1,es.position1+=e);else return es[0].slice(es.position0,es.position0-=e)}return as;case 194:return false;case 195:return true;case 196:e=jr[$r++];if(e===void 0)throw new Error("Unexpected end of buffer");return readBin(e);case 197:e=ss.getUint16($r);$r+=2;return readBin(e);case 198:e=ss.getUint32($r);$r+=4;return readBin(e);case 199:return readExt(jr[$r++]);case 200:e=ss.getUint16($r);$r+=2;return readExt(e);case 201:e=ss.getUint32($r);$r+=4;return readExt(e);case 202:e=ss.getFloat32($r);if(qr.useFloat32>2){let t=ws[(jr[$r]&127)<<1|jr[$r+1]>>7];$r+=4;return(t*e+(e>0?.5:-.5)>>0)/t}$r+=4;return e;case 203:e=ss.getFloat64($r);$r+=8;return e;case 204:return jr[$r++];case 205:e=ss.getUint16($r);$r+=2;return e;case 206:e=ss.getUint32($r);$r+=4;return e;case 207:if(qr.int64AsType==="number"){e=ss.getUint32($r)*4294967296;e+=ss.getUint32($r+4)}else if(qr.int64AsType==="string"){e=ss.getBigUint64($r).toString()}else if(qr.int64AsType==="auto"){e=ss.getBigUint64($r);if(e<=BigInt(2)<<BigInt(52))e=Number(e)}else e=ss.getBigUint64($r);$r+=8;return e;case 208:return ss.getInt8($r++);case 209:e=ss.getInt16($r);$r+=2;return e;case 210:e=ss.getInt32($r);$r+=4;return e;case 211:if(qr.int64AsType==="number"){e=ss.getInt32($r)*4294967296;e+=ss.getUint32($r+4)}else if(qr.int64AsType==="string"){e=ss.getBigInt64($r).toString()}else if(qr.int64AsType==="auto"){e=ss.getBigInt64($r);if(e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52))e=Number(e)}else e=ss.getBigInt64($r);$r+=8;return e;case 212:e=jr[$r++];if(e==114){return recordDefinition(jr[$r++]&63)}else{let t=rs[e];if(t){if(t.read){$r++;return t.read(read())}else if(t.noBuffer){$r++;return t()}else return t(jr.subarray($r,++$r))}else throw new Error("Unknown extension "+e)}case 213:e=jr[$r];if(e==114){$r++;return recordDefinition(jr[$r++]&63,jr[$r++])}else return readExt(2);case 214:return readExt(4);case 215:return readExt(8);case 216:return readExt(16);case 217:e=jr[$r++];if(ts>=$r){return Jr.slice($r-Qr,($r+=e)-Qr)}return fs(e);case 218:e=ss.getUint16($r);$r+=2;if(ts>=$r){return Jr.slice($r-Qr,($r+=e)-Qr)}return ds(e);case 219:e=ss.getUint32($r);$r+=4;if(ts>=$r){return Jr.slice($r-Qr,($r+=e)-Qr)}return vs(e);case 220:e=ss.getUint16($r);$r+=2;return readArray(e);case 221:e=ss.getUint32($r);$r+=4;return readArray(e);case 222:e=ss.getUint16($r);$r+=2;return readMap(e);case 223:e=ss.getUint32($r);$r+=4;return readMap(e);default:if(t>=224)return t-256;if(t===void 0){let t=new Error("Unexpected end of MessagePack data");t.incomplete=true;throw t}throw new Error("Unknown MessagePack token "+t)}}}const us=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(t,e){function readObject(){if(readObject.count++>ls){let i=t.read=new Function("r","return function(){return "+(qr.freezeData?"Object.freeze":"")+"({"+t.map((t=>t==="__proto__"?"__proto_:r()":us.test(t)?t+":r()":"["+JSON.stringify(t)+"]:r()")).join(",")+"})}")(read);if(t.highByte===0)t.read=createSecondByteReader(e,t.read);return i()}let i={};for(let e=0,r=t.length;e<r;e++){let r=t[e];if(r==="__proto__")r="__proto_";i[r]=read()}if(qr.freezeData)return Object.freeze(i);return i}readObject.count=0;if(t.highByte===0){return createSecondByteReader(e,readObject)}return readObject}const createSecondByteReader=(t,e)=>function(){let i=jr[$r++];if(i===0)return e();let r=t<32?-(t+(i<<5)):t+(i<<5);let s=Kr[r]||loadStructures()[r];if(!s){throw new Error("Record id is not defined for "+r)}if(!s.read)s.read=createStructureReader(s,t);return s.read()};function loadStructures(){let t=saveState((()=>{jr=null;return qr.getStructures()}));return Kr=qr._mergeStructures(t,Kr)}var cs=readStringJS;var fs=readStringJS;var ds=readStringJS;var vs=readStringJS;let ps=false;function readStringJS(t){let e;if(t<16){if(e=shortStringInJS(t))return e}if(t>64&&Wr)return Wr.decode(jr.subarray($r,$r+=t));const i=$r+t;const r=[];e="";while($r<i){const t=jr[$r++];if((t&128)===0){r.push(t)}else if((t&224)===192){const e=jr[$r++]&63;r.push((t&31)<<6|e)}else if((t&240)===224){const e=jr[$r++]&63;const i=jr[$r++]&63;r.push((t&31)<<12|e<<6|i)}else if((t&248)===240){const e=jr[$r++]&63;const i=jr[$r++]&63;const s=jr[$r++]&63;let n=(t&7)<<18|e<<12|i<<6|s;if(n>65535){n-=65536;r.push(n>>>10&1023|55296);n=56320|n&1023}r.push(n)}else{r.push(t)}if(r.length>=4096){e+=gs.apply(String,r);r.length=0}}if(r.length>0){e+=gs.apply(String,r)}return e}function readArray(t){let e=new Array(t);for(let i=0;i<t;i++){e[i]=read()}if(qr.freezeData)return Object.freeze(e);return e}function readMap(t){if(qr.mapsAsObjects){let e={};for(let i=0;i<t;i++){let t=readKey();if(t==="__proto__")t="__proto_";e[t]=read()}return e}else{let e=new Map;for(let i=0;i<t;i++){e.set(read(),read())}return e}}var gs=String.fromCharCode;function longStringInJS(t){let e=$r;let i=new Array(t);for(let r=0;r<t;r++){const t=jr[$r++];if((t&128)>0){$r=e;return}i[r]=t}return gs.apply(String,i)}function shortStringInJS(t){if(t<4){if(t<2){if(t===0)return"";else{let t=jr[$r++];if((t&128)>1){$r-=1;return}return gs(t)}}else{let e=jr[$r++];let i=jr[$r++];if((e&128)>0||(i&128)>0){$r-=2;return}if(t<3)return gs(e,i);let r=jr[$r++];if((r&128)>0){$r-=3;return}return gs(e,i,r)}}else{let e=jr[$r++];let i=jr[$r++];let r=jr[$r++];let s=jr[$r++];if((e&128)>0||(i&128)>0||(r&128)>0||(s&128)>0){$r-=4;return}if(t<6){if(t===4)return gs(e,i,r,s);else{let t=jr[$r++];if((t&128)>0){$r-=5;return}return gs(e,i,r,s,t)}}else if(t<8){let n=jr[$r++];let a=jr[$r++];if((n&128)>0||(a&128)>0){$r-=6;return}if(t<7)return gs(e,i,r,s,n,a);let o=jr[$r++];if((o&128)>0){$r-=7;return}return gs(e,i,r,s,n,a,o)}else{let n=jr[$r++];let a=jr[$r++];let o=jr[$r++];let l=jr[$r++];if((n&128)>0||(a&128)>0||(o&128)>0||(l&128)>0){$r-=8;return}if(t<10){if(t===8)return gs(e,i,r,s,n,a,o,l);else{let t=jr[$r++];if((t&128)>0){$r-=9;return}return gs(e,i,r,s,n,a,o,l,t)}}else if(t<12){let h=jr[$r++];let u=jr[$r++];if((h&128)>0||(u&128)>0){$r-=10;return}if(t<11)return gs(e,i,r,s,n,a,o,l,h,u);let c=jr[$r++];if((c&128)>0){$r-=11;return}return gs(e,i,r,s,n,a,o,l,h,u,c)}else{let h=jr[$r++];let u=jr[$r++];let c=jr[$r++];let f=jr[$r++];if((h&128)>0||(u&128)>0||(c&128)>0||(f&128)>0){$r-=12;return}if(t<14){if(t===12)return gs(e,i,r,s,n,a,o,l,h,u,c,f);else{let t=jr[$r++];if((t&128)>0){$r-=13;return}return gs(e,i,r,s,n,a,o,l,h,u,c,f,t)}}else{let d=jr[$r++];let v=jr[$r++];if((d&128)>0||(v&128)>0){$r-=14;return}if(t<15)return gs(e,i,r,s,n,a,o,l,h,u,c,f,d,v);let p=jr[$r++];if((p&128)>0){$r-=15;return}return gs(e,i,r,s,n,a,o,l,h,u,c,f,d,v,p)}}}}}function readOnlyJSString(){let t=jr[$r++];let e;if(t<192){e=t-160}else{switch(t){case 217:e=jr[$r++];break;case 218:e=ss.getUint16($r);$r+=2;break;case 219:e=ss.getUint32($r);$r+=4;break;default:throw new Error("Expected string")}}return readStringJS(e)}function readBin(t){return qr.copyBuffers?Uint8Array.prototype.slice.call(jr,$r,$r+=t):jr.subarray($r,$r+=t)}function readExt(t){let e=jr[$r++];if(rs[e]){let i;return rs[e](jr.subarray($r,i=$r+=t),(t=>{$r=t;try{return read()}finally{$r=i}}))}else throw new Error("Unknown extension type "+e)}var ms=new Array(4096);function readKey(){let t=jr[$r++];if(t>=160&&t<192){t=t-160;if(ts>=$r)return Jr.slice($r-Qr,($r+=t)-Qr);else if(!(ts==0&&Zr<180))return cs(t)}else{$r--;return asSafeString(read())}let e=(t<<5^(t>1?ss.getUint16($r):t>0?jr[$r]:0))&4095;let i=ms[e];let r=$r;let s=$r+t-3;let n;let a=0;if(i&&i.bytes==t){while(r<s){n=ss.getUint32(r);if(n!=i[a++]){r=1879048192;break}r+=4}s+=3;while(r<s){n=jr[r++];if(n!=i[a++]){r=1879048192;break}}if(r===s){$r=r;return i.string}s-=3;r=$r}i=[];ms[e]=i;i.bytes=t;while(r<s){n=ss.getUint32(r);i.push(n);r+=4}s+=3;while(r<s){n=jr[r++];i.push(n)}let o=t<16?shortStringInJS(t):longStringInJS(t);if(o!=null)return i.string=o;return i.string=cs(t)}function asSafeString(t){if(typeof t==="string")return t;if(typeof t==="number"||typeof t==="boolean"||typeof t==="bigint")return t.toString();if(t==null)return t+"";if(qr.allowArraysInMapKeys&&Array.isArray(t)&&t.flat().every((t=>["string","number","boolean","bigint"].includes(typeof t)))){return t.flat().toString()}throw new Error(`Invalid property type for record: ${typeof t}`)}const recordDefinition=(t,e)=>{let i=read().map(asSafeString);let r=t;if(e!==void 0){t=t<32?-((e<<5)+t):(e<<5)+t;i.highByte=e}let s=Kr[t];if(s&&(s.isShared||os)){(Kr.restoreStructures||(Kr.restoreStructures=[]))[t]=s}Kr[t]=i;i.read=createStructureReader(i,r);return i.read()};rs[0]=()=>{};rs[0].noBuffer=true;rs[66]=t=>{let e=t.length;let i=BigInt(t[0]&128?t[0]-256:t[0]);for(let r=1;r<e;r++){i<<=BigInt(8);i+=BigInt(t[r])}return i};let ys={Error:Error,TypeError:TypeError,ReferenceError:ReferenceError};rs[101]=()=>{let t=read();return(ys[t[0]]||Error)(t[1],{cause:t[2]})};rs[105]=t=>{if(qr.structuredClone===false)throw new Error("Structured clone extension is disabled");let e=ss.getUint32($r-4);if(!is)is=new Map;let i=jr[$r];let r;if(i>=144&&i<160||i==220||i==221)r=[];else r={};let s={target:r};is.set(e,s);let n=read();if(s.used)return Object.assign(r,n);s.target=n;return n};rs[112]=t=>{if(qr.structuredClone===false)throw new Error("Structured clone extension is disabled");let e=ss.getUint32($r-4);let i=is.get(e);i.used=true;return i.target};rs[115]=()=>new Set(read());const xs=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((t=>t+"Array"));let bs=typeof globalThis==="object"?globalThis:window;rs[116]=t=>{let e=t[0];let i=xs[e];if(!i){if(e===16){let e=new ArrayBuffer(t.length-1);let i=new Uint8Array(e);i.set(t.subarray(1));return e}throw new Error("Could not find typed array for code "+e)}return new bs[i](Uint8Array.prototype.slice.call(t,1).buffer)};rs[120]=()=>{let t=read();return new RegExp(t[0],t[1])};const Ts=[];rs[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3];let i=$r;$r+=e-t.length;es=Ts;es=[readOnlyJSString(),readOnlyJSString()];es.position0=0;es.position1=0;es.postBundlePosition=$r;$r=i;return read()};rs[255]=t=>{if(t.length==4)return new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3);else if(t.length==8)return new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3);else if(t.length==12)return new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3);else return new Date("invalid")};function saveState(t){let e=Zr;let i=$r;let r=Qr;let s=ts;let n=Jr;let a=is;let o=es;let l=new Uint8Array(jr.slice(0,Zr));let h=Kr;let u=Kr.slice(0,Kr.length);let c=qr;let f=os;let d=t();Zr=e;$r=i;Qr=r;ts=s;Jr=n;is=a;es=o;jr=l;os=f;Kr=h;Kr.splice(0,Kr.length,...u);qr=c;ss=new DataView(jr.buffer,jr.byteOffset,jr.byteLength);return d}function clearSource(){jr=null;is=null;Kr=null}function addExtension$1(t){if(t.unpack)rs[t.type]=t.unpack;else rs[t.type]=t}const ws=new Array(147);for(let Na=0;Na<256;Na++){ws[Na]=+("1e"+Math.floor(45.15-Na*.30103))}const Es=Unpackr;var Ss=new Unpackr({useRecords:false});const _s=Ss.unpack;const As=Ss.unpackMultiple;const Cs=Ss.unpack;const Os={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};let Ps=new Float32Array(1);let Is=new Uint8Array(Ps.buffer,0,4);function roundFloat32(t){Ps[0]=t;let e=ws[(Is[3]&127)<<1|Is[2]>>7];return(e*t+(t>0?.5:-.5)>>0)/e}let Rs;try{Rs=new TextEncoder}catch(Ba){}let Ms,Ls;const Ds=typeof Buffer!=="undefined";const ks=Ds?function(t){return Buffer.allocUnsafeSlow(t)}:Uint8Array;const Fs=Ds?Buffer:Uint8Array;const Bs=Ds?4294967296:2144337920;let Ns,Us;let zs;let Vs=0;let Gs;let Xs=null;let Ys;const Hs=21760;const Ws=/[\u0080-\uFFFF]/;const js=Symbol("record-id");class Packr extends Unpackr{constructor(t){super(t);this.offset=0;let e;let i;let r;let s;let n=Fs.prototype.utf8Write?function(t,e){return Ns.utf8Write(t,e,Ns.byteLength-e)}:Rs&&Rs.encodeInto?function(t,e){return Rs.encodeInto(t,Ns.subarray(e)).written}:false;let a=this;if(!t)t={};let o=t&&t.sequential;let l=t.structures||t.saveStructures;let h=t.maxSharedStructures;if(h==null)h=l?32:0;if(h>8160)throw new Error("Maximum maxSharedStructure is 8160");if(t.structuredClone&&t.moreTypes==void 0){this.moreTypes=true}let u=t.maxOwnStructures;if(u==null)u=l?32:64;if(!this.structures&&t.useRecords!=false)this.structures=[];let c=h>32||u+h>64;let f=h+64;let d=h+u+64;if(d>8256){throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192")}let v=[];let p=0;let g=0;this.pack=this.encode=function(t,n){if(!Ns){Ns=new ks(8192);zs=Ns.dataView||(Ns.dataView=new DataView(Ns.buffer,0,8192));Vs=0}Gs=Ns.length-10;if(Gs-Vs<2048){Ns=new ks(Ns.length);zs=Ns.dataView||(Ns.dataView=new DataView(Ns.buffer,0,Ns.length));Gs=Ns.length-10;Vs=0}else Vs=Vs+7&2147483640;e=Vs;if(n&nn)Vs+=n&255;s=a.structuredClone?new Map:null;if(a.bundleStrings&&typeof t!=="string"){Xs=[];Xs.size=Infinity}else Xs=null;r=a.structures;if(r){if(r.uninitialized)r=a._mergeStructures(a.getStructures());let t=r.sharedLength||0;if(t>h){throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength)}if(!r.transitions){r.transitions=Object.create(null);for(let e=0;e<t;e++){let t=r[e];if(!t)continue;let i,s=r.transitions;for(let e=0,r=t.length;e<r;e++){let r=t[e];i=s[r];if(!i){i=s[r]=Object.create(null)}s=i}s[js]=e+64}this.lastNamedStructuresLength=t}if(!o){r.nextId=t+64}}if(i)i=false;let l;try{if(a.randomAccessStructure&&t&&t.constructor&&t.constructor===Object)writeStruct(t);else pack2(t);let i=Xs;if(Xs)writeBundles(e,pack2,0);if(s&&s.idsToInsert){let t=s.idsToInsert.sort(((t,e)=>t.offset>e.offset?1:-1));let r=t.length;let n=-1;while(i&&r>0){let s=t[--r].offset+e;if(s<i.stringsPosition+e&&n===-1)n=0;if(s>i.position+e){if(n>=0)n+=6}else{if(n>=0){zs.setUint32(i.position+e,zs.getUint32(i.position+e)+n);n=-1}i=i.previous;r++}}if(n>=0&&i){zs.setUint32(i.position+e,zs.getUint32(i.position+e)+n)}Vs+=t.length*6;if(Vs>Gs)makeRoom(Vs);a.offset=Vs;let o=insertIds(Ns.subarray(e,Vs),t);s=null;return o}a.offset=Vs;if(n&rn){Ns.start=e;Ns.end=Vs;return Ns}return Ns.subarray(e,Vs)}catch(Ba){l=Ba;throw Ba}finally{if(r){resetStructures();if(i&&a.saveStructures){let i=r.sharedLength||0;let s=Ns.subarray(e,Vs);let o=prepareStructures(r,a);if(!l){if(a.saveStructures(o,o.isCompatible)===false){return a.pack(t,n)}a.lastNamedStructuresLength=i;if(Ns.length>1073741824)Ns=null;return s}}}if(Ns.length>1073741824)Ns=null;if(n&sn)Vs=e}};const resetStructures=()=>{if(g<10)g++;let t=r.sharedLength||0;if(r.length>t&&!o)r.length=t;if(p>1e4){r.transitions=null;g=0;p=0;if(v.length>0)v=[]}else if(v.length>0&&!o){for(let t=0,e=v.length;t<e;t++){v[t][js]=0}v=[]}};const packArray=t=>{var e=t.length;if(e<16){Ns[Vs++]=144|e}else if(e<65536){Ns[Vs++]=220;Ns[Vs++]=e>>8;Ns[Vs++]=e&255}else{Ns[Vs++]=221;zs.setUint32(Vs,e);Vs+=4}for(let i=0;i<e;i++){pack2(t[i])}};const pack2=t=>{if(Vs>Gs)Ns=makeRoom(Vs);var i=typeof t;var r;if(i==="string"){let i=t.length;if(Xs&&i>=4&&i<4096){if((Xs.size+=i)>Hs){let t;let i=(Xs[0]?Xs[0].length*3+Xs[1].length:0)+10;if(Vs+i>Gs)Ns=makeRoom(Vs+i);let r;if(Xs.position){r=Xs;Ns[Vs]=200;Vs+=3;Ns[Vs++]=98;t=Vs-e;Vs+=4;writeBundles(e,pack2,0);zs.setUint16(t+e-3,Vs-e-t)}else{Ns[Vs++]=214;Ns[Vs++]=98;t=Vs-e;Vs+=4}Xs=["",""];Xs.previous=r;Xs.size=0;Xs.position=t}let r=Ws.test(t);Xs[r?0:1]+=t;Ns[Vs++]=193;pack2(r?-i:i);return}let s;if(i<32){s=1}else if(i<256){s=2}else if(i<65536){s=3}else{s=5}let a=i*3;if(Vs+a>Gs)Ns=makeRoom(Vs+a);if(i<64||!n){let e,n,a,o=Vs+s;for(e=0;e<i;e++){n=t.charCodeAt(e);if(n<128){Ns[o++]=n}else if(n<2048){Ns[o++]=n>>6|192;Ns[o++]=n&63|128}else if((n&64512)===55296&&((a=t.charCodeAt(e+1))&64512)===56320){n=65536+((n&1023)<<10)+(a&1023);e++;Ns[o++]=n>>18|240;Ns[o++]=n>>12&63|128;Ns[o++]=n>>6&63|128;Ns[o++]=n&63|128}else{Ns[o++]=n>>12|224;Ns[o++]=n>>6&63|128;Ns[o++]=n&63|128}}r=o-Vs-s}else{r=n(t,Vs+s)}if(r<32){Ns[Vs++]=160|r}else if(r<256){if(s<2){Ns.copyWithin(Vs+2,Vs+1,Vs+1+r)}Ns[Vs++]=217;Ns[Vs++]=r}else if(r<65536){if(s<3){Ns.copyWithin(Vs+3,Vs+2,Vs+2+r)}Ns[Vs++]=218;Ns[Vs++]=r>>8;Ns[Vs++]=r&255}else{if(s<5){Ns.copyWithin(Vs+5,Vs+3,Vs+3+r)}Ns[Vs++]=219;zs.setUint32(Vs,r);Vs+=4}Vs+=r}else if(i==="number"){if(t>>>0===t){if(t<32||t<128&&this.useRecords===false||t<64&&!this.randomAccessStructure){Ns[Vs++]=t}else if(t<256){Ns[Vs++]=204;Ns[Vs++]=t}else if(t<65536){Ns[Vs++]=205;Ns[Vs++]=t>>8;Ns[Vs++]=t&255}else{Ns[Vs++]=206;zs.setUint32(Vs,t);Vs+=4}}else if(t>>0===t){if(t>=-32){Ns[Vs++]=256+t}else if(t>=-128){Ns[Vs++]=208;Ns[Vs++]=t+256}else if(t>=-32768){Ns[Vs++]=209;zs.setInt16(Vs,t);Vs+=2}else{Ns[Vs++]=210;zs.setInt32(Vs,t);Vs+=4}}else{let e;if((e=this.useFloat32)>0&&t<4294967296&&t>=-2147483648){Ns[Vs++]=202;zs.setFloat32(Vs,t);let i;if(e<4||(i=t*ws[(Ns[Vs]&127)<<1|Ns[Vs+1]>>7])>>0===i){Vs+=4;return}else Vs--}Ns[Vs++]=203;zs.setFloat64(Vs,t);Vs+=8}}else if(i==="object"||i==="function"){if(!t)Ns[Vs++]=192;else{if(s){let i=s.get(t);if(i){if(!i.id){let t=s.idsToInsert||(s.idsToInsert=[]);i.id=t.push(i)}Ns[Vs++]=214;Ns[Vs++]=112;zs.setUint32(Vs,i.id);Vs+=4;return}else s.set(t,{offset:Vs-e})}let n=t.constructor;if(n===Object){b(t)}else if(n===Array){packArray(t)}else if(n===Map){if(this.mapAsEmptyObject)Ns[Vs++]=128;else{r=t.size;if(r<16){Ns[Vs++]=128|r}else if(r<65536){Ns[Vs++]=222;Ns[Vs++]=r>>8;Ns[Vs++]=r&255}else{Ns[Vs++]=223;zs.setUint32(Vs,r);Vs+=4}for(let[e,i]of t){pack2(e);pack2(i)}}}else{for(let e=0,i=Ms.length;e<i;e++){let i=Ls[e];if(t instanceof i){let i=Ms[e];if(i.write){if(i.type){Ns[Vs++]=212;Ns[Vs++]=i.type;Ns[Vs++]=0}let e=i.write.call(this,t);if(e===t){if(Array.isArray(t)){packArray(t)}else{b(t)}}else{pack2(e)}return}let r=Ns;let s=zs;let n=Vs;Ns=null;let a;try{a=i.pack.call(this,t,(t=>{Ns=r;r=null;Vs+=t;if(Vs>Gs)makeRoom(Vs);return{target:Ns,targetView:zs,position:Vs-t}}),pack2)}finally{if(r){Ns=r;zs=s;Vs=n;Gs=Ns.length-10}}if(a){if(a.length+Vs>Gs)makeRoom(a.length+Vs);Vs=writeExtensionData(a,Ns,Vs,i.type)}return}}if(Array.isArray(t)){packArray(t)}else{if(t.toJSON){const e=t.toJSON();if(e!==t)return pack2(e)}if(i==="function")return pack2(this.writeFunction&&this.writeFunction(t));b(t)}}}}else if(i==="boolean"){Ns[Vs++]=t?195:194}else if(i==="bigint"){if(t<BigInt(1)<<BigInt(63)&&t>=-(BigInt(1)<<BigInt(63))){Ns[Vs++]=211;zs.setBigInt64(Vs,t)}else if(t<BigInt(1)<<BigInt(64)&&t>0){Ns[Vs++]=207;zs.setBigUint64(Vs,t)}else{if(this.largeBigIntToFloat){Ns[Vs++]=203;zs.setFloat64(Vs,Number(t))}else if(this.largeBigIntToString){return pack2(t.toString())}else if(this.useBigIntExtension&&t<BigInt(2)**BigInt(1023)&&t>-(BigInt(2)**BigInt(1023))){Ns[Vs++]=199;Vs++;Ns[Vs++]=66;let e=[];let i;do{let r=t&BigInt(255);i=(r&BigInt(128))===(t<BigInt(0)?BigInt(128):BigInt(0));e.push(r);t>>=BigInt(8)}while(!((t===BigInt(0)||t===BigInt(-1))&&i));Ns[Vs-2]=e.length;for(let t=e.length;t>0;){Ns[Vs++]=Number(e[--t])}return}else{throw new RangeError(t+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}}Vs+=8}else if(i==="undefined"){if(this.encodeUndefinedAsNil)Ns[Vs++]=192;else{Ns[Vs++]=212;Ns[Vs++]=0;Ns[Vs++]=0}}else{throw new Error("Unknown type: "+i)}};const m=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?t=>{let e;if(this.skipValues){e=[];for(let i in t){if((typeof t.hasOwnProperty!=="function"||t.hasOwnProperty(i))&&!this.skipValues.includes(t[i]))e.push(i)}}else{e=Object.keys(t)}let i=e.length;if(i<16){Ns[Vs++]=128|i}else if(i<65536){Ns[Vs++]=222;Ns[Vs++]=i>>8;Ns[Vs++]=i&255}else{Ns[Vs++]=223;zs.setUint32(Vs,i);Vs+=4}let r;if(this.coercibleKeyAsNumber){for(let s=0;s<i;s++){r=e[s];let i=Number(r);pack2(isNaN(i)?r:i);pack2(t[r])}}else{for(let s=0;s<i;s++){pack2(r=e[s]);pack2(t[r])}}}:t=>{Ns[Vs++]=222;let i=Vs-e;Vs+=2;let r=0;for(let e in t){if(typeof t.hasOwnProperty!=="function"||t.hasOwnProperty(e)){pack2(e);pack2(t[e]);r++}}if(r>65535){throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object')}Ns[i+++e]=r>>8;Ns[i+e]=r&255};const y=this.useRecords===false?m:t.progressiveRecords&&!c?t=>{let i,s=r.transitions||(r.transitions=Object.create(null));let n=Vs++-e;let a;for(let o in t){if(typeof t.hasOwnProperty!=="function"||t.hasOwnProperty(o)){i=s[o];if(i)s=i;else{let l=Object.keys(t);let h=s;s=r.transitions;let u=0;for(let t=0,e=l.length;t<e;t++){let e=l[t];i=s[e];if(!i){i=s[e]=Object.create(null);u++}s=i}if(n+e+1==Vs){Vs--;newRecord(s,l,u)}else insertNewRecord(s,l,n,u);a=true;s=h[o]}pack2(t[o])}}if(!a){let i=s[js];if(i)Ns[n+e]=i;else insertNewRecord(s,Object.keys(t),n,0)}}:t=>{let e,i=r.transitions||(r.transitions=Object.create(null));let s=0;for(let r in t)if(typeof t.hasOwnProperty!=="function"||t.hasOwnProperty(r)){e=i[r];if(!e){e=i[r]=Object.create(null);s++}i=e}let n=i[js];if(n){if(n>=96&&c){Ns[Vs++]=((n-=96)&31)+96;Ns[Vs++]=n>>5}else Ns[Vs++]=n}else{newRecord(i,i.__keys__||Object.keys(t),s)}for(let r in t)if(typeof t.hasOwnProperty!=="function"||t.hasOwnProperty(r)){pack2(t[r])}};const x=typeof this.useRecords=="function"&&this.useRecords;const b=x?t=>{x(t)?y(t):m(t)}:y;const makeRoom=t=>{let i;if(t>16777216){if(t-e>Bs)throw new Error("Packed buffer would be larger than maximum buffer size");i=Math.min(Bs,Math.round(Math.max((t-e)*(t>67108864?1.25:2),4194304)/4096)*4096)}else i=(Math.max(t-e<<2,Ns.length-1)>>12)+1<<12;let r=new ks(i);zs=r.dataView||(r.dataView=new DataView(r.buffer,0,i));t=Math.min(t,Ns.length);if(Ns.copy)Ns.copy(r,0,e,t);else r.set(Ns.slice(e,t));Vs-=e;e=0;Gs=r.length-10;return Ns=r};const newRecord=(t,e,s)=>{let n=r.nextId;if(!n)n=64;if(n<f&&this.shouldShareStructure&&!this.shouldShareStructure(e)){n=r.nextOwnId;if(!(n<d))n=f;r.nextOwnId=n+1}else{if(n>=d)n=f;r.nextId=n+1}let a=e.highByte=n>=96&&c?n-96>>5:-1;t[js]=n;t.__keys__=e;r[n-64]=e;if(n<f){e.isShared=true;r.sharedLength=n-63;i=true;if(a>=0){Ns[Vs++]=(n&31)+96;Ns[Vs++]=a}else{Ns[Vs++]=n}}else{if(a>=0){Ns[Vs++]=213;Ns[Vs++]=114;Ns[Vs++]=(n&31)+96;Ns[Vs++]=a}else{Ns[Vs++]=212;Ns[Vs++]=114;Ns[Vs++]=n}if(s)p+=g*s;if(v.length>=u)v.shift()[js]=0;v.push(t);pack2(e)}};const insertNewRecord=(t,i,r,s)=>{let n=Ns;let a=Vs;let o=Gs;let l=e;Ns=Us;Vs=0;e=0;if(!Ns)Us=Ns=new ks(8192);Gs=Ns.length-10;newRecord(t,i,s);Us=Ns;let h=Vs;Ns=n;Vs=a;Gs=o;e=l;if(h>1){let t=Vs+h-1;if(t>Gs)makeRoom(t);let i=r+e;Ns.copyWithin(i+h,i+1,Vs);Ns.set(Us.slice(0,h),i);Vs=t}else{Ns[r+e]=Us[0]}};const writeStruct=t=>{let s=Ys(t,Ns,e,Vs,r,makeRoom,((t,e,r)=>{if(r)return i=true;Vs=e;let s=Ns;pack2(t);resetStructures();if(s!==Ns){return{position:Vs,targetView:zs,target:Ns}}return Vs}),this);if(s===0)return b(t);Vs=s}}useBuffer(t){Ns=t;Ns.dataView||(Ns.dataView=new DataView(Ns.buffer,Ns.byteOffset,Ns.byteLength));Vs=0}set position(t){Vs=t}get position(){return Vs}set buffer(t){Ns=t}get buffer(){return Ns}clearSharedData(){if(this.structures)this.structures=[];if(this.typedStructs)this.typedStructs=[]}}Ls=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,C1Type];Ms=[{pack(t,e,i){let r=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:t,targetView:i,position:s}=e(6);t[s++]=214;t[s++]=255;i.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:n}=e(10);i[n++]=215;i[n++]=255;s.setUint32(n,t.getMilliseconds()*4e6+(r/1e3/4294967296>>0));s.setUint32(n+4,r)}else if(isNaN(r)){if(this.onInvalidDate){e(0);return i(this.onInvalidDate())}let{target:t,targetView:r,position:s}=e(3);t[s++]=212;t[s++]=255;t[s++]=255}else{let{target:i,targetView:s,position:n}=e(15);i[n++]=199;i[n++]=12;i[n++]=255;s.setUint32(n,t.getMilliseconds()*1e6);s.setBigInt64(n+4,BigInt(Math.floor(r)))}}},{pack(t,e,i){if(this.setAsEmptyObject){e(0);return i({})}let r=Array.from(t);let{target:s,position:n}=e(this.moreTypes?3:0);if(this.moreTypes){s[n++]=212;s[n++]=115;s[n++]=0}i(r)}},{pack(t,e,i){let{target:r,position:s}=e(this.moreTypes?3:0);if(this.moreTypes){r[s++]=212;r[s++]=101;r[s++]=0}i([t.name,t.message,t.cause])}},{pack(t,e,i){let{target:r,position:s}=e(this.moreTypes?3:0);if(this.moreTypes){r[s++]=212;r[s++]=120;r[s++]=0}i([t.source,t.flags])}},{pack(t,e){if(this.moreTypes)writeExtBuffer(t,16,e);else writeBuffer(Ds?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let i=t.constructor;if(i!==Fs&&this.moreTypes)writeExtBuffer(t,xs.indexOf(i.name),e);else writeBuffer(t,e)}},{pack(t,e){let{target:i,position:r}=e(1);i[r]=193}}];function writeExtBuffer(t,e,i,r){let s=t.byteLength;if(s+1<256){var{target:n,position:a}=i(4+s);n[a++]=199;n[a++]=s+1}else if(s+1<65536){var{target:n,position:a}=i(5+s);n[a++]=200;n[a++]=s+1>>8;n[a++]=s+1&255}else{var{target:n,position:a,targetView:o}=i(7+s);n[a++]=201;o.setUint32(a,s+1);a+=4}n[a++]=116;n[a++]=e;if(!t.buffer)t=new Uint8Array(t);n.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a)}function writeBuffer(t,e){let i=t.byteLength;var r,s;if(i<256){var{target:r,position:s}=e(i+2);r[s++]=196;r[s++]=i}else if(i<65536){var{target:r,position:s}=e(i+3);r[s++]=197;r[s++]=i>>8;r[s++]=i&255}else{var{target:r,position:s,targetView:n}=e(i+5);r[s++]=198;n.setUint32(s,i);s+=4}r.set(t,s)}function writeExtensionData(t,e,i,r){let s=t.length;switch(s){case 1:e[i++]=212;break;case 2:e[i++]=213;break;case 4:e[i++]=214;break;case 8:e[i++]=215;break;case 16:e[i++]=216;break;default:if(s<256){e[i++]=199;e[i++]=s}else if(s<65536){e[i++]=200;e[i++]=s>>8;e[i++]=s&255}else{e[i++]=201;e[i++]=s>>24;e[i++]=s>>16&255;e[i++]=s>>8&255;e[i++]=s&255}}e[i++]=r;e.set(t,i);i+=s;return i}function insertIds(t,e){let i;let r=e.length*6;let s=t.length-r;while(i=e.pop()){let e=i.offset;let n=i.id;t.copyWithin(e+r,e,s);r-=6;let a=e+r;t[a++]=214;t[a++]=105;t[a++]=n>>24;t[a++]=n>>16&255;t[a++]=n>>8&255;t[a++]=n&255;s=e}return t}function writeBundles(t,e,i){if(Xs.length>0){zs.setUint32(Xs.position+t,Vs+i-Xs.position-t);Xs.stringsPosition=Vs-t;let r=Xs;Xs=null;e(r[0]);e(r[1])}}function addExtension(t){if(t.Class){if(!t.pack&&!t.write)throw new Error("Extension has no pack or write function");if(t.pack&&!t.type)throw new Error("Extension has no type (numeric code to identify the extension)");Ls.unshift(t.Class);Ms.unshift(t)}addExtension$1(t)}function prepareStructures(t,e){t.isCompatible=t=>{let i=!t||(e.lastNamedStructuresLength||0)===t.length;if(!i)e._mergeStructures(t);return i};return t}let Zs=new Packr({useRecords:false});const $s=Zs.pack;const qs=Zs.pack;const Ks=Packr;const{NEVER:Js,ALWAYS:Qs,DECIMAL_ROUND:tn,DECIMAL_FIT:en}=Os;const rn=512;const sn=1024;const nn=2048;function packIter(t,e={}){if(!t||typeof t!=="object"){throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")}else if(typeof t[Symbol.iterator]==="function"){return packIterSync(t,e)}else if(typeof t.then==="function"||typeof t[Symbol.asyncIterator]==="function"){return packIterAsync(t,e)}else{throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}}function*packIterSync(t,e){const i=new Packr(e);for(const r of t){yield i.pack(r)}}async function*packIterAsync(t,e){const i=new Packr(e);for await(const r of t){yield i.pack(r)}}function unpackIter(t,e={}){if(!t||typeof t!=="object"){throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise")}const i=new Unpackr(e);let r;const parser=t=>{let e;if(r){t=Buffer.concat([r,t]);r=void 0}try{e=i.unpackMultiple(t)}catch(s){if(s.incomplete){r=t.slice(s.lastPosition);e=s.values}else{throw s}}return e};if(typeof t[Symbol.iterator]==="function"){return function*iter(){for(const e of t){yield*parser(e)}}()}else if(typeof t[Symbol.asyncIterator]==="function"){return async function*iter(){for await(const e of t){yield*parser(e)}}()}}const an=unpackIter;const hn=packIter;const un=false;const cn=true;const fn=Object.freeze(Object.defineProperty({__proto__:null,ALWAYS:Qs,C1:as,DECIMAL_FIT:en,DECIMAL_ROUND:tn,Decoder:Es,Encoder:Ks,FLOAT32_OPTIONS:Os,NEVER:Js,Packr:Packr,RESERVE_START_SPACE:nn,RESET_BUFFER_MODE:sn,REUSE_BUFFER_MODE:rn,Unpackr:Unpackr,addExtension:addExtension,clearSource:clearSource,decode:Cs,decodeIter:an,encode:qs,encodeIter:hn,isNativeAccelerationEnabled:ps,mapsAsObjects:cn,pack:$s,roundFloat32:roundFloat32,unpack:_s,unpackMultiple:As,useRecords:un},Symbol.toStringTag,{value:"Module"}));const dn=getAugmentedNamespace(fn);var vn=_r;var pn=Nr;var gn=Ur;var mn=Vr;var yn=Gr;var xn=Or;var bn=Xr;var Tn=Er;var wn=dn;let En=class Room{constructor(t,e){this.onStateChange=yn.createSignal();this.onError=yn.createSignal();this.onLeave=yn.createSignal();this.onJoin=yn.createSignal();this.hasJoined=false;this.onMessageHandlers=mn.createNanoEvents();this.roomId=null;this.name=t;this.packr=new wn.Packr;this.packr.encode(void 0);if(e){this.serializer=new(gn.getSerializer("schema"));this.rootSchema=e;this.serializer.state=new e}this.onError(((t,e)=>{var i;return(i=console.warn)===null||i===void 0?void 0:i.call(console,`colyseus.js - onError => (${t}) ${e}`)}));this.onLeave((()=>this.removeAllListeners()))}connect(t,e,i=this,r,s){const n=new vn.Connection(r.protocol);i.connection=n;n.events.onmessage=Room.prototype.onMessageCallback.bind(i);n.events.onclose=function(t){var r;if(!i.hasJoined){(r=console.warn)===null||r===void 0?void 0:r.call(console,`Room connection was closed unexpectedly (${t.code}): ${t.reason}`);i.onError.invoke(t.code,t.reason);return}if(t.code===Tn.CloseCode.DEVMODE_RESTART&&e){e()}else{i.onLeave.invoke(t.code,t.reason);i.destroy()}};n.events.onerror=function(t){var e;(e=console.warn)===null||e===void 0?void 0:e.call(console,`Room, onError (${t.code}): ${t.reason}`);i.onError.invoke(t.code,t.reason)};if(r.protocol==="h3"){const e=new URL(t);n.connect(e.origin,r)}else{n.connect(t,s)}}leave(t=true){return new Promise((e=>{this.onLeave((t=>e(t)));if(this.connection){if(t){this.packr.buffer[0]=pn.Protocol.LEAVE_ROOM;this.connection.send(this.packr.buffer.subarray(0,1))}else{this.connection.close()}}else{this.onLeave.invoke(Tn.CloseCode.CONSENTED)}}))}onMessage(t,e){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),e)}send(t,e){const i={offset:1};this.packr.buffer[0]=pn.Protocol.ROOM_DATA;if(typeof t==="string"){xn.encode.string(this.packr.buffer,t,i)}else{xn.encode.number(this.packr.buffer,t,i)}this.packr.position=0;const r=e!==void 0?this.packr.pack(e,2048+i.offset):this.packr.buffer.subarray(0,i.offset);this.connection.send(r)}sendUnreliable(t,e){const i={offset:1};this.packr.buffer[0]=pn.Protocol.ROOM_DATA;if(typeof t==="string"){xn.encode.string(this.packr.buffer,t,i)}else{xn.encode.number(this.packr.buffer,t,i)}this.packr.position=0;const r=e!==void 0?this.packr.pack(e,2048+i.offset):this.packr.buffer.subarray(0,i.offset);this.connection.sendUnreliable(r)}sendBytes(t,e){const i={offset:1};this.packr.buffer[0]=pn.Protocol.ROOM_DATA_BYTES;if(typeof t==="string"){xn.encode.string(this.packr.buffer,t,i)}else{xn.encode.number(this.packr.buffer,t,i)}if(e.byteLength+i.offset>this.packr.buffer.byteLength){const t=new Uint8Array(i.offset+e.byteLength);t.set(this.packr.buffer);this.packr.useBuffer(t)}this.packr.buffer.set(e,i.offset);this.connection.send(this.packr.buffer.subarray(0,i.offset+e.byteLength))}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear();this.onStateChange.clear();this.onError.clear();this.onLeave.clear();this.onMessageHandlers.events={};if(this.serializer instanceof bn.SchemaSerializer){this.serializer.decoder.root.callbacks={}}}onMessageCallback(t){const e=new Uint8Array(t.data);const i={offset:1};const r=e[0];if(r===pn.Protocol.JOIN_ROOM){const t=xn.decode.utf8Read(e,i,e[i.offset++]);this.serializerId=xn.decode.utf8Read(e,i,e[i.offset++]);if(!this.serializer){const t=gn.getSerializer(this.serializerId);this.serializer=new t}if(e.byteLength>i.offset&&this.serializer.handshake){this.serializer.handshake(e,i)}this.reconnectionToken=`${this.roomId}:${t}`;this.hasJoined=true;this.onJoin.invoke();this.packr.buffer[0]=pn.Protocol.JOIN_ROOM;this.connection.send(this.packr.buffer.subarray(0,1))}else if(r===pn.Protocol.ERROR){const t=xn.decode.number(e,i);const r=xn.decode.string(e,i);this.onError.invoke(t,r)}else if(r===pn.Protocol.LEAVE_ROOM){this.leave()}else if(r===pn.Protocol.ROOM_STATE){this.serializer.setState(e,i);this.onStateChange.invoke(this.serializer.getState())}else if(r===pn.Protocol.ROOM_STATE_PATCH){this.serializer.patch(e,i);this.onStateChange.invoke(this.serializer.getState())}else if(r===pn.Protocol.ROOM_DATA){const t=xn.decode.stringCheck(e,i)?xn.decode.string(e,i):xn.decode.number(e,i);const r=e.byteLength>i.offset?wn.unpack(e,{start:i.offset}):void 0;this.dispatchMessage(t,r)}else if(r===pn.Protocol.ROOM_DATA_BYTES){const t=xn.decode.stringCheck(e,i)?xn.decode.string(e,i):xn.decode.number(e,i);this.dispatchMessage(t,e.subarray(i.offset))}}dispatchMessage(t,e){var i;const r=this.getMessageHandlerKey(t);if(this.onMessageHandlers.events[r]){this.onMessageHandlers.emit(r,e)}else if(this.onMessageHandlers.events["*"]){this.onMessageHandlers.emit("*",t,e)}else{(i=console.warn)===null||i===void 0?void 0:i.call(console,`colyseus.js: onMessage() not registered for type '${t}'.`)}}destroy(){if(this.serializer){this.serializer.teardown()}}getMessageHandlerKey(t){switch(typeof t){case"string":return t;case"number":return`i${t}`;default:throw new Error("invalid message type.")}}};Sr.Room=En;var Sn={};function apply(t,e){e.headers=t.headers||{};e.statusMessage=t.statusText;e.statusCode=t.status;e.data=t.response}function send(t,e,i){return new Promise((function(r,s){i=i||{};var n=new XMLHttpRequest;var a,o,l,h=i.body;var u=i.headers||{};if(i.timeout)n.timeout=i.timeout;n.ontimeout=n.onerror=function(t){t.timeout=t.type=="timeout";s(t)};n.open(t,e.href||e);n.onload=function(){l=n.getAllResponseHeaders().trim().split(/[\r\n]+/);apply(n,n);while(o=l.shift()){o=o.split(": ");n.headers[o.shift().toLowerCase()]=o.join(": ")}o=n.headers["content-type"];if(o&&!!~o.indexOf("application/json")){try{n.data=JSON.parse(n.data,i.reviver)}catch(t){apply(n,t);return s(t)}}(n.status>=400?s:r)(n)};if(typeof FormData<"u"&&h instanceof FormData);else if(h&&typeof h=="object"){u["content-type"]="application/json";h=JSON.stringify(h)}n.withCredentials=!!i.withCredentials;for(a in u){n.setRequestHeader(a,u[a])}n.send(h)}))}var _n=send.bind(send,"GET");var An=send.bind(send,"POST");var Cn=send.bind(send,"PATCH");var On=send.bind(send,"DELETE");var Pn=send.bind(send,"PUT");const Rn=Object.freeze(Object.defineProperty({__proto__:null,del:On,get:_n,patch:Cn,post:An,put:Pn,send:send},Symbol.toStringTag,{value:"Module"}));const Mn=getAugmentedNamespace(Rn);var Ln=Er;var Dn=Mn;function _interopNamespaceDefault(t){var e=Object.create(null);if(t){Object.keys(t).forEach((function(i){if(i!=="default"){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:true,get:function(){return t[i]}})}}))}e.default=t;return Object.freeze(e)}var kn=_interopNamespaceDefault(Dn);let Fn=class HTTP{constructor(t,e={}){this.client=t;this.headers=e}get(t,e={}){return this.request("get",t,e)}post(t,e={}){return this.request("post",t,e)}del(t,e={}){return this.request("del",t,e)}put(t,e={}){return this.request("put",t,e)}request(t,e,i={}){return kn[t](this.client["getHttpEndpoint"](e),this.getOptions(i)).catch((t=>{var e;const i=t.statusCode;const r=((e=t.data)===null||e===void 0?void 0:e.error)||t.statusMessage||t.message;if(!i&&!r){throw t}throw new Ln.ServerError(i,r)}))}getOptions(t){t.headers=Object.assign({},this.headers,t.headers);if(this.authToken){t.headers["Authorization"]=`Bearer ${this.authToken}`}if(typeof cc!=="undefined"&&cc.sys&&cc.sys.isNative);else{t.withCredentials=true}return t}};Sn.HTTP=Fn;var Bn={};var Nn={};var Un=wr;let zn;function getStorage(){if(!zn){try{zn=typeof cc!=="undefined"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(t){}}if(!zn&&typeof globalThis.indexedDB!=="undefined"){zn=new IndexedDBStorage}if(!zn){zn={cache:{},setItem:function(t,e){this.cache[t]=e},getItem:function(t){this.cache[t]},removeItem:function(t){delete this.cache[t]}}}return zn}function setItem(t,e){getStorage().setItem(t,e)}function removeItem(t){getStorage().removeItem(t)}function getItem(t,e){const i=getStorage().getItem(t);if(typeof Promise==="undefined"||!(i instanceof Promise)){e(i)}else{i.then((t=>e(t)))}}class IndexedDBStorage{constructor(){this.dbPromise=new Promise((t=>{const e=indexedDB.open("_colyseus_storage",1);e.onupgradeneeded=()=>e.result.createObjectStore("store");e.onsuccess=()=>t(e.result)}))}tx(t,e){return Un.__awaiter(this,void 0,void 0,(function*(){const i=yield this.dbPromise;const r=i.transaction("store",t).objectStore("store");return e(r)}))}setItem(t,e){return this.tx("readwrite",(i=>i.put(e,t))).then()}getItem(t){return Un.__awaiter(this,void 0,void 0,(function*(){const e=yield this.tx("readonly",(e=>e.get(t)));return new Promise((t=>{e.onsuccess=()=>t(e.result)}))}))}removeItem(t){return this.tx("readwrite",(e=>e.delete(t))).then()}}Nn.getItem=getItem;Nn.removeItem=removeItem;Nn.setItem=setItem;var Vn=wr;var Gn=Nn;var Xn=Vr;var Yn,Hn,Wn,jn;let Zn=class Auth{constructor(t){this.http=t;this.settings={path:"/auth",key:"colyseus-auth-token"};Yn.set(this,false);Hn.set(this,void 0);Wn.set(this,void 0);jn.set(this,Xn.createNanoEvents());Gn.getItem(this.settings.key,(t=>this.token=t))}set token(t){this.http.authToken=t}get token(){return this.http.authToken}onChange(t){const e=Vn.__classPrivateFieldGet(this,jn,"f").on("change",t);if(!Vn.__classPrivateFieldGet(this,Yn,"f")){Vn.__classPrivateFieldSet(this,Hn,new Promise(((t,e)=>{this.getUserData().then((t=>{this.emitChange(Object.assign(Object.assign({},t),{token:this.token}))})).catch((t=>{this.emitChange({user:null,token:void 0})})).finally((()=>{t()}))})),"f")}Vn.__classPrivateFieldSet(this,Yn,true,"f");return e}getUserData(){return Vn.__awaiter(this,void 0,void 0,(function*(){if(this.token){return(yield this.http.get(`${this.settings.path}/userdata`)).data}else{throw new Error("missing auth.token")}}))}registerWithEmailAndPassword(t,e,i){return Vn.__awaiter(this,void 0,void 0,(function*(){const r=(yield this.http.post(`${this.settings.path}/register`,{body:{email:t,password:e,options:i}})).data;this.emitChange(r);return r}))}signInWithEmailAndPassword(t,e){return Vn.__awaiter(this,void 0,void 0,(function*(){const i=(yield this.http.post(`${this.settings.path}/login`,{body:{email:t,password:e}})).data;this.emitChange(i);return i}))}signInAnonymously(t){return Vn.__awaiter(this,void 0,void 0,(function*(){const e=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:t}})).data;this.emitChange(e);return e}))}sendPasswordResetEmail(t){return Vn.__awaiter(this,void 0,void 0,(function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:t}})).data}))}signInWithProvider(t){return Vn.__awaiter(this,arguments,void 0,(function*(t,e={}){return new Promise(((i,r)=>{const s=e.width||480;const n=e.height||768;const a=this.token?`?token=${this.token}`:"";const o=`Login with ${t[0].toUpperCase()+t.substring(1)}`;const l=this.http["client"]["getHttpEndpoint"](`${e.prefix||`${this.settings.path}/provider`}/${t}${a}`);const h=screen.width/2-s/2;const u=screen.height/2-n/2;Vn.__classPrivateFieldSet(this,Wn,window.open(l,o,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+n+", top="+u+", left="+h),"f");const onMessage=t=>{if(t.data.user===void 0&&t.data.token===void 0){return}clearInterval(c);Vn.__classPrivateFieldGet(this,Wn,"f").close();Vn.__classPrivateFieldSet(this,Wn,void 0,"f");window.removeEventListener("message",onMessage);if(t.data.error!==void 0){r(t.data.error)}else{i(t.data);this.emitChange(t.data)}};const c=setInterval((()=>{if(!Vn.__classPrivateFieldGet(this,Wn,"f")||Vn.__classPrivateFieldGet(this,Wn,"f").closed){Vn.__classPrivateFieldSet(this,Wn,void 0,"f");r("cancelled");window.removeEventListener("message",onMessage)}}),200);window.addEventListener("message",onMessage)}))}))}signOut(){return Vn.__awaiter(this,void 0,void 0,(function*(){this.emitChange({user:null,token:null})}))}emitChange(t){if(t.token!==void 0){this.token=t.token;if(t.token===null){Gn.removeItem(this.settings.key)}else{Gn.setItem(this.settings.key,t.token)}}Vn.__classPrivateFieldGet(this,jn,"f").emit("change",t)}};Yn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,jn=new WeakMap;Bn.Auth=Zn;var $n={};function discordURLBuilder(t){var e;const i=((e=window===null||window===void 0?void 0:window.location)===null||e===void 0?void 0:e.hostname)||"localhost";const r=t.hostname.split(".");const s=!t.hostname.includes("trycloudflare.com")&&!t.hostname.includes("discordsays.com")&&r.length>2?`/${r[0]}`:"";return t.pathname.startsWith("/.proxy")?`${t.protocol}//${i}${s}${t.pathname}${t.search}`:`${t.protocol}//${i}/.proxy/colyseus${s}${t.pathname}${t.search}`}$n.discordURLBuilder=discordURLBuilder;var qn=wr;var Kn=Er;var Jn=Sr;var Qn=Sn;var ta=Bn;var ea=$n;var ia;class MatchMakeError extends Error{constructor(t,e){super(t);this.code=e;this.name="MatchMakeError";Object.setPrototypeOf(this,MatchMakeError.prototype)}}const ra=typeof window!=="undefined"&&typeof((ia=window===null||window===void 0?void 0:window.location)===null||ia===void 0?void 0:ia.hostname)!=="undefined"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";class Client{constructor(t=ra,e){var i,r;if(typeof t==="string"){const e=t.startsWith("/")?new URL(t,ra):new URL(t);const i=e.protocol==="https:"||e.protocol==="wss:";const r=Number(e.port||(i?443:80));this.settings={hostname:e.hostname,pathname:e.pathname,port:r,secure:i}}else{if(t.port===void 0){t.port=t.secure?443:80}if(t.pathname===void 0){t.pathname=""}this.settings=t}if(this.settings.pathname.endsWith("/")){this.settings.pathname=this.settings.pathname.slice(0,-1)}this.http=new Qn.HTTP(this,(e===null||e===void 0?void 0:e.headers)||{});this.auth=new ta.Auth(this.http);this.urlBuilder=e===null||e===void 0?void 0:e.urlBuilder;if(!this.urlBuilder&&typeof window!=="undefined"&&((r=(i=window===null||window===void 0?void 0:window.location)===null||i===void 0?void 0:i.hostname)===null||r===void 0?void 0:r.includes("discordsays.com"))){this.urlBuilder=ea.discordURLBuilder;console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder.")}}joinOrCreate(t){return qn.__awaiter(this,arguments,void 0,(function*(t,e={},i){return yield this.createMatchMakeRequest("joinOrCreate",t,e,i)}))}create(t){return qn.__awaiter(this,arguments,void 0,(function*(t,e={},i){return yield this.createMatchMakeRequest("create",t,e,i)}))}join(t){return qn.__awaiter(this,arguments,void 0,(function*(t,e={},i){return yield this.createMatchMakeRequest("join",t,e,i)}))}joinById(t){return qn.__awaiter(this,arguments,void 0,(function*(t,e={},i){return yield this.createMatchMakeRequest("joinById",t,e,i)}))}reconnect(t,e){return qn.__awaiter(this,void 0,void 0,(function*(){if(typeof t==="string"&&typeof e==="string"){throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`")}const[i,r]=t.split(":");if(!i||!r){throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken")}return yield this.createMatchMakeRequest("reconnect",i,{reconnectionToken:r},e)}))}consumeSeatReservation(t,e,i){return qn.__awaiter(this,void 0,void 0,(function*(){const r=this.createRoom(t.room.name,e);r.roomId=t.room.roomId;r.sessionId=t.sessionId;const s={sessionId:r.sessionId};if(t.reconnectionToken){s.reconnectionToken=t.reconnectionToken}const n=i||r;r.connect(this.buildEndpoint(t.room,s,t.protocol),t.devMode&&(()=>qn.__awaiter(this,void 0,void 0,(function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${r.roomId}'...`);let i=0;let s=8;const retryReconnection=()=>qn.__awaiter(this,void 0,void 0,(function*(){i++;try{yield this.consumeSeatReservation(t,e,n);console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${r.roomId}'`)}catch(a){if(i<s){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${i} out of ${s})`);setTimeout(retryReconnection,2e3)}else{console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}}}));setTimeout(retryReconnection,2e3)}))),n,t,this.http.headers);return new Promise(((t,e)=>{const onError=(t,i)=>e(new Kn.ServerError(t,i));n.onError.once(onError);n["onJoin"].once((()=>{n.onError.remove(onError);t(n)}))}))}))}createMatchMakeRequest(t,e){return qn.__awaiter(this,arguments,void 0,(function*(t,e,i={},r,s){const n=(yield this.http.post(`matchmake/${t}/${e}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})).data;if(n.error){throw new MatchMakeError(n.error,n.code)}if(t==="reconnect"){n.reconnectionToken=i.reconnectionToken}return yield this.consumeSeatReservation(n,r,s)}))}createRoom(t,e){return new Jn.Room(t,e)}buildEndpoint(t,e={},i="ws"){const r=[];if(this.http.authToken){e["_authToken"]=this.http.authToken}for(const a in e){if(!e.hasOwnProperty(a)){continue}r.push(`${a}=${e[a]}`)}if(i==="h3"){i="http"}let s=this.settings.secure?`${i}s://`:`${i}://`;if(t.publicAddress){s+=`${t.publicAddress}`}else{s+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`}const n=`${s}/${t.processId}/${t.roomId}?${r.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(n)):n}getHttpEndpoint(t=""){const e=t.startsWith("/")?t:`/${t}`;const i=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${e}`;return this.urlBuilder?this.urlBuilder(new URL(i)):i}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}}Client.VERSION="0.16.17";gr.Client=Client;gr.MatchMakeError=MatchMakeError;var sa={};class NoneSerializer{setState(t){}getState(){return null}patch(t){}teardown(){}handshake(t){}}sa.NoneSerializer=NoneSerializer;(function(t){var e=gr;var i=Nr;var r=Sr;var s=Bn;var n=Er;var a=Xr;var o=sa;var l=Ur;l.registerSerializer("schema",a.SchemaSerializer);l.registerSerializer("none",o.NoneSerializer);t.Client=e.Client;t.MatchMakeError=e.MatchMakeError;Object.defineProperty(t,"ErrorCode",{enumerable:true,get:function(){return i.ErrorCode}});Object.defineProperty(t,"Protocol",{enumerable:true,get:function(){return i.Protocol}});t.Room=r.Room;t.Auth=s.Auth;t.ServerError=n.ServerError;t.SchemaSerializer=a.SchemaSerializer;t.getStateCallbacks=a.getStateCallbacks;t.registerSerializer=l.registerSerializer})(pr);let na=null;let aa=null;let oa=new Map;async function loadAllCardData(){if(!na)return false;return new Promise((t=>{const e=setTimeout((()=>{console.error("loadAllCardData: Timeout while waiting for card data");t(false)}),5e3);na.send("getAllCards");na.onMessage("allCards",(i=>{clearTimeout(e);console.log(`Received ${i.length} cards from server`);oa.clear();i.forEach((t=>{oa.set(t.id,t)}));t(true)}))}))}async function connectColyseus(t,e){const i=location.host.includes("localhost")?`ws://localhost:4001`:`wss://${location.host}/.proxy/api`;aa=new pr.Client(i);try{console.log("Attempting to join or create Colyseus room...");na=await aa.joinOrCreate("game",{accessToken:t,username:e});console.log("Successfully joined room:",na.roomId);console.log("Session ID:",na.sessionId);console.log("Initial room state:",na.state.toJSON());console.log("Loading all card data...");await loadAllCardData();console.log("Card data loaded, cache size:",oa.size);na.onStateChange((t=>{}));na.onError(((t,e)=>{console.error("Colyseus room error:",t,e);na=null}));na.onLeave((t=>{console.log("Left Colyseus room, code:",t);na=null}))}catch(r){console.error("Failed to connect to Colyseus:",r);if(r instanceof ProgressEvent){console.error("Connection failed: Network error (ProgressEvent). Potential causes:");console.error("- Colyseus server might not be running or accessible at the target URL:",i);console.error("- WebSocket connection blocked by firewall or proxy.");console.error("- Incorrect WebSocket proxy configuration on the deployment server (if applicable).");alert(`Failed to connect to game server: Network Error. Please ensure the server is running and accessible.`)}else if(r instanceof Error){console.error("Connection failed due to error:",r.message);alert(`Failed to connect to game server: ${r.message}`)}else{console.error("Connection failed due to unknown error:",r);alert(`Failed to connect to game server: An unknown error occurred.`)}na=null;throw r}}const la=Object.freeze(Object.defineProperty({__proto__:null,get colyseusClient(){return aa},get colyseusRoom(){return na},connectColyseus:connectColyseus,globalCardDataCache:oa,loadAllCardData:loadAllCardData},Symbol.toStringTag,{value:"Module"}));let ha;const ua=new URLSearchParams(window.location.search);const ca=ua.get("frame_id")!=null;let fa;const da="1363939642289946886";const va=getOverrideOrRandomSessionValue("user_id");const pa=getOverrideOrRandomSessionValue("guild_id");const ga=getOverrideOrRandomSessionValue("channel_id");const initiateDiscordSDK=async()=>{if(ca){const t=da;console.log("Discord SDK: Using embedded client ID:",t);fa=new DiscordSDK(t);await fa.ready()}else{fa=new DiscordSDKMock(da,pa,ga);const t=String(va.charCodeAt(0)%5);const e={access_token:"mock_token",user:{username:va,discriminator:t,id:va,avatar:null,public_flags:1},scopes:[],expires:new Date(2112,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}};fa._updateCommandMocks({authenticate:async()=>{ha=e;console.log("Mock Authentication successful:",ha);await connectColyseus(ha.access_token,ha.user.username);return e},authorize:async()=>{console.log("Mock Authorize called");return{code:"mock_code"}}})}};const authorizeDiscordUser=async()=>{if(!ca){console.log("Running locally, attempting mock authentication...");try{await fa.commands.authenticate({});return true}catch(Ba){console.error("Mock authentication failed:",Ba);return false}}let t="authorize";try{console.log("Requesting Discord authorization...");const{code:i}=await fa.commands.authorize({client_id:da,response_type:"code",state:"",prompt:"none",scope:["identify","guilds"]});console.log("Authorization code received:",i);t="fetchToken";console.log("Fetching access token from /.proxy/api/token...");const r=await fetch("/.proxy/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:i})});console.log("Token fetch response received. Status:",r.status);if(!r.ok){const t=await r.text();console.error("Token fetch failed:",r.status,r.statusText,t);throw new Error(`Token fetch failed: ${r.status} ${r.statusText} - ${t}`)}const{access_token:s}=await r.json();console.log("Access token received successfully.");t="discordAuthenticate";console.log("Authenticating with Discord SDK...");ha=await fa.commands.authenticate({access_token:s});if(!(ha==null?void 0:ha.user)){console.error("Discord SDK Authentication failed: No user data received.",ha);throw new Error("Discord SDK Authentication failed to return user data.")}console.log("Discord SDK Authentication successful:",ha.user.username);t="connectColyseus";console.log("Connecting to Colyseus...");try{await connectColyseus(ha.access_token,ha.user.username);console.log("Colyseus connection successful.")}catch(e){console.error("Colyseus connection failed:",e);throw e}return true}catch(Ba){console.error(`Error during step: ${t}`);console.error("Discord authorization or Colyseus connection failed:",Ba);if(Ba instanceof ProgressEvent){console.error("Network error (ProgressEvent) occurred, likely during fetch.")}else if(Ba.message&&Ba.message.includes("Token fetch failed")){console.error("Error specifically during token fetch step.")}else if(t==="connectColyseus"){console.error("Error specifically during Colyseus connection step.")}ha=null;return false}};const getUserName=()=>{if(!ha){if(!ca&&fa instanceof DiscordSDKMock){const t=getOverrideOrRandomSessionValue("user_id");return t||"MockUser"}return"User"}return ha.user.username};function getOverrideOrRandomSessionValue(t){const e=ua.get(t);if(e!=null){return e}const i=sessionStorage.getItem(t);if(i!=null){return i}const r=Math.random().toString(36).slice(2,10);sessionStorage.setItem(t,r);return r}class Boot extends r.Scene{constructor(){super("Boot")}preload(){const t="/assets";this.load.setPath(t);this.load.image("background","bg.png");this.load.image("fridge_bg","fridge_bg.png")}create(){this.scene.start("Preloader")}}class Game extends r.Scene{constructor(){super("Game");__publicField(this,"room")}async create(){this.scene.launch("background");const t=this.add.image(this.cameras.main.width*.5,this.cameras.main.height*.4,"grid");t.setScale(.6);await this.connect();this.room.state.draggables.onAdd(((t,e)=>{const i=this.add.image(t.x,t.y,e).setInteractive();i.name=e;i.setScale(.8);this.input.setDraggable(i);i.on("drag",((t,r,s)=>{if(!this.room){return}i.x=Phaser.Math.Clamp(r,i.displayWidth/2,Number(this.game.config.width)-i.displayWidth/2);i.y=Phaser.Math.Clamp(s,i.displayHeight/2,Number(this.game.config.height)-i.displayHeight/2);this.room.send("move",{imageId:e,x:i.x,y:i.y})}))}));this.add.text(this.cameras.main.width*.5,this.cameras.main.height*.95,`Connected as: ${getUserName()}`,{font:"14px Arial",color:"#000000"}).setOrigin(.5)}async connect(){const t=location.host==="localhost:3000"?`ws://localhost:3001`:`wss://${location.host}/.proxy/api/colyseus`;const e=new pr.Client(`${t}`);try{this.room=await e.joinOrCreate("some_other_room",{screenWidth:this.game.config.width,screenHeight:this.game.config.height});this.room.onMessage("move",(t=>{}));console.log("Successfully connected!")}catch(i){console.log(`Could not connect with the server: ${i}`)}}}class MainMenu extends r.Scene{constructor(){super("MainMenu");__publicField(this,"statusText")}create(){const t=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"background");let e=this.cameras.main.width/t.width+.2;let i=this.cameras.main.height/t.height+.2;let r=Math.max(e,i);t.setScale(r).setScrollFactor(0);this.add.text(Number(this.game.config.width)*.5,300,"Legends of the Friend",{fontFamily:"Arial Black",fontSize:58,color:"#ffff00",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5);this.add.text(Number(this.game.config.width)*.5,460,"Click to Start",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5);this.statusText=this.add.text(this.cameras.main.centerX,520,"",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5);this.input.once("pointerdown",(async()=>{this.statusText.setText("Authorizing with Discord...");const t=await authorizeDiscordUser();if(t){this.statusText.setText("Connecting to server...");await new Promise((t=>setTimeout(t,1e3)));if(na){this.statusText.setText("Loading game data...");const t=await loadAllCardData();if(t){this.statusText.setText("Connected! Entering Lobby...");this.scene.start("Lobby")}else{this.statusText.setText("Failed to load game data. Please try again.")}}else{this.statusText.setText("Failed to connect to server. Please try again.")}}else{this.statusText.setText("Discord authorization failed. Please try again.")}}))}}class Preloader extends r.Scene{constructor(){super("Preloader")}init(){const t=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"background");let e=this.cameras.main.width/t.width+.2;let i=this.cameras.main.height/t.height+.2;let r=Math.max(e,i);t.setScale(r).setScrollFactor(0);this.add.rectangle(Number(this.game.config.width)*.5,Number(this.game.config.height)*.5,468,32).setStrokeStyle(1,16777215);const s=this.add.rectangle(Number(this.game.config.width)*.5-230,Number(this.game.config.height)*.5,4,28,16777215);this.load.on("progress",(t=>{s.width=4+460*t}))}preload(){const t="/assets";this.load.setPath(t);this.load.image("logo","logo.png");this.load.image("cardFullTier1","CardFullTier1.png");this.load.image("cardMinionTier1","CardMinionTier1.png")}create(){this.scene.start("MainMenu")}}class Background extends r.Scene{constructor(){super("background")}create(){this.cameras.main.setBackgroundColor(11393254);this.scene.sendToBack()}}const ma="modulepreload";const assetsURL=function(t){return"/"+t};const ya={};const xa=function preload(t,e,i){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]");const i=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));r=Promise.allSettled(e.map((t=>{t=assetsURL(t);if(t in ya)return;ya[t]=true;const e=t.endsWith(".css");const r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`)){return}const s=document.createElement("link");s.rel=e?"stylesheet":ma;if(!e){s.as="script"}s.crossOrigin="";s.href=t;if(i){s.setAttribute("nonce",i)}document.head.appendChild(s);if(e){return new Promise(((e,i)=>{s.addEventListener("load",e);s.addEventListener("error",(()=>i(new Error(`Unable to preload CSS for ${t}`))))}))}})))}function handlePreloadError(t){const e=new Event("vite:preloadError",{cancelable:true});e.payload=t;window.dispatchEvent(e);if(!e.defaultPrevented){throw t}}return r.then((e=>{for(const t of e||[]){if(t.status!=="rejected")continue;handlePreloadError(t.reason)}return t().catch(handlePreloadError)}))};var ba={exports:{}};(function(t,i){(function(t,e){e(i)})(e,(function(t){const e=255;const i=213;t.OPERATION=void 0;(function(t){t[t["ADD"]=128]="ADD";t[t["REPLACE"]=0]="REPLACE";t[t["DELETE"]=64]="DELETE";t[t["DELETE_AND_MOVE"]=96]="DELETE_AND_MOVE";t[t["MOVE_AND_ADD"]=160]="MOVE_AND_ADD";t[t["DELETE_AND_ADD"]=192]="DELETE_AND_ADD";t[t["CLEAR"]=10]="CLEAR";t[t["REVERSE"]=15]="REVERSE";t[t["MOVE"]=32]="MOVE";t[t["DELETE_BY_REFID"]=33]="DELETE_BY_REFID";t[t["ADD_BY_REFID"]=129]="ADD_BY_REFID"})(t.OPERATION||(t.OPERATION={}));Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));const r=Symbol("$track");const s=Symbol("$encoder");const n=Symbol("$decoder");const a=Symbol("$filter");const o=Symbol("$getByIndex");const l=Symbol("$deleteByIndex");const h=Symbol("$changes");const u=Symbol("$childType");const c=Symbol("$onEncodeEnd");const f=Symbol("$onDecodeEnd");const d=Symbol("$descriptors");const v="$__numFields";const p="$__refTypeFieldIndexes";const g="$__viewFieldIndexes";const m="$__fieldIndexesByViewTag";let y;try{y=new TextEncoder}catch(ct){}const x=new ArrayBuffer(8);const b=new Int32Array(x);const T=new Float32Array(x);const w=new Float64Array(x);const E=new BigInt64Array(x);const S=typeof Buffer!=="undefined"&&Buffer.byteLength;const A=S?Buffer.byteLength:function(t,e){var i=0,r=0;for(var s=0,n=t.length;s<n;s++){i=t.charCodeAt(s);if(i<128){r+=1}else if(i<2048){r+=2}else if(i<55296||i>=57344){r+=3}else{s++;r+=4}}return r};function utf8Write(t,e,i){var r=0;for(var s=0,n=e.length;s<n;s++){r=e.charCodeAt(s);if(r<128){t[i.offset++]=r}else if(r<2048){t[i.offset]=192|r>>6;t[i.offset+1]=128|r&63;i.offset+=2}else if(r<55296||r>=57344){t[i.offset]=224|r>>12;t[i.offset+1]=128|r>>6&63;t[i.offset+2]=128|r&63;i.offset+=3}else{s++;r=65536+((r&1023)<<10|e.charCodeAt(s)&1023);t[i.offset]=240|r>>18;t[i.offset+1]=128|r>>12&63;t[i.offset+2]=128|r>>6&63;t[i.offset+3]=128|r&63;i.offset+=4}}}function int8$1(t,e,i){t[i.offset++]=e&255}function uint8$1(t,e,i){t[i.offset++]=e&255}function int16$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255}function uint16$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255}function int32$1(t,e,i){t[i.offset++]=e&255;t[i.offset++]=e>>8&255;t[i.offset++]=e>>16&255;t[i.offset++]=e>>24&255}function uint32$1(t,e,i){const r=e>>24;const s=e>>16;const n=e>>8;const a=e;t[i.offset++]=a&255;t[i.offset++]=n&255;t[i.offset++]=s&255;t[i.offset++]=r&255}function int64$1(t,e,i){const r=Math.floor(e/Math.pow(2,32));const s=e>>>0;uint32$1(t,s,i);uint32$1(t,r,i)}function uint64$1(t,e,i){const r=e/Math.pow(2,32)>>0;const s=e>>>0;uint32$1(t,s,i);uint32$1(t,r,i)}function bigint64$1(t,e,i){E[0]=BigInt.asIntN(64,e);int32$1(t,b[0],i);int32$1(t,b[1],i)}function biguint64$1(t,e,i){E[0]=BigInt.asIntN(64,e);int32$1(t,b[0],i);int32$1(t,b[1],i)}function float32$1(t,e,i){T[0]=e;int32$1(t,b[0],i)}function float64$1(t,e,i){w[0]=e;int32$1(t,b[0],i);int32$1(t,b[1],i)}function boolean$1(t,e,i){t[i.offset++]=e?1:0}function string$1(t,e,i){if(!e){e=""}let r=A(e,"utf8");let s=0;if(r<32){t[i.offset++]=r|160;s=1}else if(r<256){t[i.offset++]=217;t[i.offset++]=r%255;s=2}else if(r<65536){t[i.offset++]=218;uint16$1(t,r,i);s=3}else if(r<4294967296){t[i.offset++]=219;uint32$1(t,r,i);s=5}else{throw new Error("String too long")}utf8Write(t,e,i);return s+r}function number$1(t,e,i){if(isNaN(e)){return number$1(t,0,i)}else if(!isFinite(e)){return number$1(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER,i)}else if(e!==(e|0)){if(Math.abs(e)<=34028235e31){T[0]=e;if(Math.abs(Math.abs(T[0])-Math.abs(e))<1e-4){t[i.offset++]=202;float32$1(t,e,i);return 5}}t[i.offset++]=203;float64$1(t,e,i);return 9}if(e>=0){if(e<128){t[i.offset++]=e&255;return 1}if(e<256){t[i.offset++]=204;t[i.offset++]=e&255;return 2}if(e<65536){t[i.offset++]=205;uint16$1(t,e,i);return 3}if(e<4294967296){t[i.offset++]=206;uint32$1(t,e,i);return 5}t[i.offset++]=207;uint64$1(t,e,i);return 9}else{if(e>=-32){t[i.offset++]=224|e+32;return 1}if(e>=-128){t[i.offset++]=208;int8$1(t,e,i);return 2}if(e>=-32768){t[i.offset++]=209;int16$1(t,e,i);return 3}if(e>=-2147483648){t[i.offset++]=210;int32$1(t,e,i);return 5}t[i.offset++]=211;int64$1(t,e,i);return 9}}const C={int8:int8$1,uint8:uint8$1,int16:int16$1,uint16:uint16$1,int32:int32$1,uint32:uint32$1,int64:int64$1,uint64:uint64$1,bigint64:bigint64$1,biguint64:biguint64$1,float32:float32$1,float64:float64$1,boolean:boolean$1,string:string$1,number:number$1,utf8Write:utf8Write,utf8Length:A};const O=new ArrayBuffer(8);const P=new Int32Array(O);const I=new Float32Array(O);const R=new Float64Array(O);const M=new BigUint64Array(O);const L=new BigInt64Array(O);function utf8Read(t,e,i){var r="",s=0;for(var n=e.offset,a=e.offset+i;n<a;n++){var o=t[n];if((o&128)===0){r+=String.fromCharCode(o);continue}if((o&224)===192){r+=String.fromCharCode((o&31)<<6|t[++n]&63);continue}if((o&240)===224){r+=String.fromCharCode((o&15)<<12|(t[++n]&63)<<6|(t[++n]&63)<<0);continue}if((o&248)===240){s=(o&7)<<18|(t[++n]&63)<<12|(t[++n]&63)<<6|(t[++n]&63)<<0;if(s>=65536){s-=65536;r+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)}else{r+=String.fromCharCode(s)}continue}console.error("Invalid byte "+o.toString(16))}e.offset+=i;return r}function int8(t,e){return uint8(t,e)<<24>>24}function uint8(t,e){return t[e.offset++]}function int16(t,e){return uint16(t,e)<<16>>16}function uint16(t,e){return t[e.offset++]|t[e.offset++]<<8}function int32(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function uint32(t,e){return int32(t,e)>>>0}function float32(t,e){P[0]=int32(t,e);return I[0]}function float64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return R[0]}function int64(t,e){const i=uint32(t,e);const r=int32(t,e)*Math.pow(2,32);return r+i}function uint64(t,e){const i=uint32(t,e);const r=uint32(t,e)*Math.pow(2,32);return r+i}function bigint64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return L[0]}function biguint64(t,e){P[0]=int32(t,e);P[1]=int32(t,e);return M[0]}function boolean(t,e){return uint8(t,e)>0}function string(t,e){const i=t[e.offset++];let r;if(i<192){r=i&31}else if(i===217){r=uint8(t,e)}else if(i===218){r=uint16(t,e)}else if(i===219){r=uint32(t,e)}return utf8Read(t,e,r)}function number(t,e){const i=t[e.offset++];if(i<128){return i}else if(i===202){return float32(t,e)}else if(i===203){return float64(t,e)}else if(i===204){return uint8(t,e)}else if(i===205){return uint16(t,e)}else if(i===206){return uint32(t,e)}else if(i===207){return uint64(t,e)}else if(i===208){return int8(t,e)}else if(i===209){return int16(t,e)}else if(i===210){return int32(t,e)}else if(i===211){return int64(t,e)}else if(i>223){return(255-i+1)*-1}}function stringCheck(t,e){const i=t[e.offset];return i<192&&i>160||i===217||i===218||i===219}const D={utf8Read:utf8Read,int8:int8,uint8:uint8,int16:int16,uint16:uint16,int32:int32,uint32:uint32,float32:float32,float64:float64,int64:int64,uint64:uint64,bigint64:bigint64,biguint64:biguint64,boolean:boolean,string:string,number:number,stringCheck:stringCheck};const k={};const F=new Map;function registerType(t,e){if(e.constructor){F.set(e.constructor,t);k[t]=e}if(e.encode){C[t]=e.encode}if(e.decode){D[t]=e.decode}}function getType(t){return k[t]}function defineCustomTypes(t){for(const e in t){registerType(e,t[e])}return t=>type(t)}const B=class _TypeContext{static register(t){const e=Object.getPrototypeOf(t);if(e!==tt){let i=_TypeContext.inheritedTypes.get(e);if(!i){i=new Set;_TypeContext.inheritedTypes.set(e,i)}i.add(t)}}static cache(t){let e=_TypeContext.cachedContexts.get(t);if(!e){e=new _TypeContext(t);_TypeContext.cachedContexts.set(t,e)}return e}constructor(t){this.types={};this.schemas=new Map;this.hasFilters=false;this.parentFiltered={};if(t){this.discoverTypes(t)}}has(t){return this.schemas.has(t)}get(t){return this.types[t]}add(t,e=this.schemas.size){if(this.schemas.has(t)){return false}this.types[e]=t;if(t[Symbol.metadata]===void 0){U.initialize(t)}this.schemas.set(t,e);return true}getTypeId(t){return this.schemas.get(t)}discoverTypes(t,e,i,r){var s,n;if(r){this.registerFilteredByParent(t,e,i)}if(!this.add(t)){return}(s=_TypeContext.inheritedTypes.get(t))==null?void 0:s.forEach((t=>{this.discoverTypes(t,e,i,r)}));let a=t;while((a=Object.getPrototypeOf(a))&&a!==tt&&a!==Function.prototype){this.discoverTypes(a)}const o=t[n=Symbol.metadata]??(t[n]={});if(o[g]){this.hasFilters=true}for(const l in o){const e=l;const i=o[e].type;const s=o[e].tag!==void 0;if(typeof i==="string"){continue}if(Array.isArray(i)){const n=i[0];if(n==="string"){continue}this.discoverTypes(n,t,e,r||s)}else if(typeof i==="function"){this.discoverTypes(i,t,e,r||s)}else{const n=Object.values(i)[0];if(typeof n==="string"){continue}this.discoverTypes(n,t,e,r||s)}}}registerFilteredByParent(t,e,i){const r=this.schemas.get(t)??this.schemas.size;let s=`${r}`;if(e){s+=`-${this.schemas.get(e)}`}s+=`-${i}`;this.parentFiltered[s]=true}debug(){let t="";for(const e in this.parentFiltered){const i=e.split("-").map(Number);const r=i.pop();t+=`\n\t\t`;t+=`${e}: ${i.reverse().map(((t,e)=>{const i=this.types[t];const s=i[Symbol.metadata];let n=i.name;if(e===0){n+=`[${s[r].name}]`}return`${n}`})).join(" -> ")}`}return`TypeContext ->\n\tSchema types: ${this.schemas.size}\n\thasFilters: ${this.hasFilters}\n\tparentFiltered:${t}`}};B.inheritedTypes=new Map;B.cachedContexts=new Map;let N=B;function getNormalizedType(t){return Array.isArray(t)?{array:t[0]}:typeof t["type"]!=="undefined"?t["type"]:t}const U={addField(t,e,i,r,s){if(e>64){throw new Error(`Can't define field '${i}'.\nSchema instances may only have up to 64 fields.`)}t[e]=Object.assign(t[e]||{},{type:getNormalizedType(r),index:e,name:i});Object.defineProperty(t,d,{value:t[d]||{},enumerable:false,configurable:true});if(s){t[d][i]=s;t[d][`_${i}`]={value:void 0,writable:true,enumerable:false,configurable:true}}else{t[d][i]={value:void 0,writable:true,enumerable:true,configurable:true}}Object.defineProperty(t,v,{value:e,enumerable:false,configurable:true});Object.defineProperty(t,i,{value:e,enumerable:false,configurable:true});if(typeof t[e].type!=="string"){if(t[p]===void 0){Object.defineProperty(t,p,{value:[],enumerable:false,configurable:true})}t[p].push(e)}},setTag(t,e,i){const r=t[e];const s=t[r];s.tag=i;if(!t[g]){Object.defineProperty(t,g,{value:[],enumerable:false,configurable:true});Object.defineProperty(t,m,{value:{},enumerable:false,configurable:true})}t[g].push(r);if(!t[m][i]){t[m][i]=[]}t[m][i].push(r)},setFields(t,e){const i=t.prototype.constructor;N.register(i);const a=Object.getPrototypeOf(i);const o=a&&a[Symbol.metadata];const l=U.initialize(i);if(!i[r]){i[r]=tt[r]}if(!i[s]){i[s]=tt[s]}if(!i[n]){i[n]=tt[n]}if(!i.prototype.toJSON){i.prototype.toJSON=tt.prototype.toJSON}let h=l[v]??(o&&o[v])??-1;h++;for(const r in e){const t=e[r];const i=Array.isArray(t)?getType("array"):typeof Object.keys(t)[0]==="string"&&getType(Object.keys(t)[0]);const s=i?Object.values(t)[0]:getNormalizedType(t);U.addField(l,h,r,t,getPropertyDescriptor(`_${r}`,h,s,i));h++}return t},isDeprecated(t,e){return t[e].deprecated===true},init(t){const e={};t[Symbol.metadata]=e;Object.defineProperty(e,v,{value:0,enumerable:false,configurable:true})},initialize(t){const e=Object.getPrototypeOf(t);const i=e[Symbol.metadata];let r=t[Symbol.metadata]??Object.create(null);if(e!==tt&&r===i){r=Object.create(null);if(i){Object.setPrototypeOf(r,i);Object.defineProperty(r,v,{value:i[v],enumerable:false,configurable:true,writable:true});if(i[g]!==void 0){Object.defineProperty(r,g,{value:[...i[g]],enumerable:false,configurable:true,writable:true});Object.defineProperty(r,m,{value:{...i[m]},enumerable:false,configurable:true,writable:true})}if(i[p]!==void 0){Object.defineProperty(r,p,{value:[...i[p]],enumerable:false,configurable:true,writable:true})}Object.defineProperty(r,d,{value:{...i[d]},enumerable:false,configurable:true,writable:true})}}t[Symbol.metadata]=r;return r},isValidInstance(t){return t.constructor[Symbol.metadata]&&Object.prototype.hasOwnProperty.call(t.constructor[Symbol.metadata],v)},getFields(t){const e=t[Symbol.metadata];const i={};for(let r=0;r<=e[v];r++){i[e[r].name]=e[r].type}return i},hasViewTagAtIndex(t,e){var i;return(i=t==null?void 0:t[g])==null?void 0:i.includes(e)}};function createChangeSet(){return{indexes:{},operations:[]}}function setOperationAtIndex(t,e){const i=t.indexes[e];if(i===void 0){t.indexes[e]=t.operations.push(e)-1}else{t.operations[i]=e}}function deleteOperationAtIndex(t,e){var i;let r=t.indexes[e];if(r===void 0){r=Object.values(t.indexes).at(-1);e=(i=Object.entries(t.indexes).find((([t,e])=>e===r)))==null?void 0:i[0]}t.operations[r]=void 0;delete t.indexes[e]}function enqueueChangeTree(t,e,i,r=e[i].queueRootIndex){if(!t){return}else if(t[i][r]!==e){e[i].queueRootIndex=t[i].push(e)-1}}class ChangeTree{constructor(t){this.isFiltered=false;this.indexedOperations={};this.changes={indexes:{},operations:[]};this.allChanges={indexes:{},operations:[]};this.isNew=true;this.ref=t;const e=t.constructor[Symbol.metadata];if(e==null?void 0:e[g]){this.allFilteredChanges={indexes:{},operations:[]};this.filteredChanges={indexes:{},operations:[]}}}setRoot(t){var e;this.root=t;this.checkIsFiltered(this.parent,this.parentIndex);const i=this.ref.constructor[Symbol.metadata];if(i){(e=i[p])==null?void 0:e.forEach((e=>{const r=i[e];const s=this.ref[r.name];s==null?void 0:s[h].setRoot(t)}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((e,i)=>{e[h].setRoot(t)}))}}setParent(t,e,i){var r;this.parent=t;this.parentIndex=i;if(!e){return}if(e!==this.root){this.root=e;this.checkIsFiltered(t,i)}else{e.add(this)}const s=this.ref.constructor[Symbol.metadata];if(s){(r=s[p])==null?void 0:r.forEach((t=>{const i=s[t];const r=this.ref[i.name];r==null?void 0:r[h].setParent(this.ref,e,t)}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((t,i)=>{t[h].setParent(this.ref,e,this.indexes[i]??i)}))}}forEachChild(t){var e;const i=this.ref.constructor[Symbol.metadata];if(i){(e=i[p])==null?void 0:e.forEach((e=>{const r=i[e];const s=this.ref[r.name];if(s){t(s[h],e)}}))}else if(this.ref[u]&&typeof this.ref[u]!=="string"){this.ref.forEach(((e,i)=>{t(e[h],this.indexes[i]??i)}))}}operation(t){if(this.filteredChanges!==void 0){this.filteredChanges.operations.push(-t);enqueueChangeTree(this.root,this,"filteredChanges")}else{this.changes.operations.push(-t);enqueueChangeTree(this.root,this,"changes")}}change(e,i=t.OPERATION.ADD){var r;const s=this.ref.constructor[Symbol.metadata];const n=this.isFiltered||((r=s==null?void 0:s[e])==null?void 0:r.tag)!==void 0;const a=n?this.filteredChanges:this.changes;const o=this.indexedOperations[e];if(!o||o===t.OPERATION.DELETE){const r=!o?i:o===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:i;this.indexedOperations[e]=r}setOperationAtIndex(a,e);if(n){setOperationAtIndex(this.allFilteredChanges,e);if(this.root){enqueueChangeTree(this.root,this,"filteredChanges");enqueueChangeTree(this.root,this,"allFilteredChanges")}}else{setOperationAtIndex(this.allChanges,e);enqueueChangeTree(this.root,this,"changes")}}shiftChangeIndexes(t){const e=this.isFiltered?this.filteredChanges:this.changes;const i={};const r={};for(const s in this.indexedOperations){i[Number(s)+t]=this.indexedOperations[s];r[Number(s)+t]=e.indexes[s]}this.indexedOperations=i;e.indexes=r;e.operations=e.operations.map((e=>e+t))}shiftAllChangeIndexes(t,e=0){if(this.filteredChanges!==void 0){this._shiftAllChangeIndexes(t,e,this.allFilteredChanges);this._shiftAllChangeIndexes(t,e,this.allChanges)}else{this._shiftAllChangeIndexes(t,e,this.allChanges)}}_shiftAllChangeIndexes(t,e=0,i){const r={};let s=0;for(const n in i.indexes){r[s++]=i.indexes[n]}i.indexes=r;for(let n=0;n<i.operations.length;n++){const r=i.operations[n];if(r>e){i.operations[n]=r+t}}}indexedOperation(t,e,i=t){this.indexedOperations[t]=e;if(this.filteredChanges!==void 0){setOperationAtIndex(this.allFilteredChanges,i);setOperationAtIndex(this.filteredChanges,t);enqueueChangeTree(this.root,this,"filteredChanges")}else{setOperationAtIndex(this.allChanges,i);setOperationAtIndex(this.changes,t);enqueueChangeTree(this.root,this,"changes")}}getType(t){if(U.isValidInstance(this.ref)){const e=this.ref.constructor[Symbol.metadata];return e[t].type}else{return this.ref[u]}}getChange(t){return this.indexedOperations[t]}getValue(t,e=false){return this.ref[o](t,e)}delete(e,i,r=e){var s;if(e===void 0){try{throw new Error(`@colyseus/schema ${this.ref.constructor.name}: trying to delete non-existing index '${e}'`)}catch(ct){console.warn(ct)}return}const n=this.filteredChanges!==void 0?this.filteredChanges:this.changes;this.indexedOperations[e]=i??t.OPERATION.DELETE;setOperationAtIndex(n,e);deleteOperationAtIndex(this.allChanges,r);const a=this.getValue(e);if(a&&a[h]){(s=this.root)==null?void 0:s.remove(a[h])}if(this.filteredChanges!==void 0){deleteOperationAtIndex(this.allFilteredChanges,r);enqueueChangeTree(this.root,this,"filteredChanges")}else{enqueueChangeTree(this.root,this,"changes")}return a}endEncode(t){var e,i;this.indexedOperations={};this[t].indexes={};this[t].operations.length=0;this[t].queueRootIndex=void 0;(i=(e=this.ref)[c])==null?void 0:i.call(e);this.isNew=false}discard(t=false){var e,i;(i=(e=this.ref)[c])==null?void 0:i.call(e);this.indexedOperations={};this.changes.indexes={};this.changes.operations.length=0;this.changes.queueRootIndex=void 0;if(this.filteredChanges!==void 0){this.filteredChanges.indexes={};this.filteredChanges.operations.length=0;this.filteredChanges.queueRootIndex=void 0}if(t){this.allChanges.indexes={};this.allChanges.operations.length=0;if(this.allFilteredChanges!==void 0){this.allFilteredChanges.indexes={};this.allFilteredChanges.operations.length=0}this.forEachChild(((t,e)=>{var i;return(i=this.root)==null?void 0:i.remove(t)}))}}discardAll(){const t=Object.keys(this.indexedOperations);for(let e=0,i=t.length;e<i;e++){const i=this.getValue(Number(t[e]));if(i&&i[h]){i[h].discardAll()}}this.discard()}ensureRefId(){if(this.refId!==void 0){return}this.refId=this.root.getNextUniqueId()}get changed(){return Object.entries(this.indexedOperations).length>0}checkIsFiltered(t,e){const i=this.root.add(this);if(this.root.types.hasFilters){this._checkFilteredByParent(t,e);if(this.filteredChanges!==void 0){enqueueChangeTree(this.root,this,"filteredChanges");if(i){this.root.allFilteredChanges.push(this)}}}if(!this.isFiltered){enqueueChangeTree(this.root,this,"changes");if(i){this.root.allChanges.push(this)}}}_checkFilteredByParent(t,e){if(!t){return}const i=U.isValidInstance(this.ref)?this.ref.constructor:this.ref[u];let r;let s=!U.isValidInstance(t);if(s){r=t[h];t=r.parent;e=r.parentIndex}else{r=t[h]}const n=t.constructor;let a=`${this.root.types.getTypeId(i)}`;if(n){a+=`-${this.root.types.schemas.get(n)}`}a+=`-${e}`;const o=U.hasViewTagAtIndex(n==null?void 0:n[Symbol.metadata],e);this.isFiltered=t[h].isFiltered||this.root.types.parentFiltered[a]||o;if(this.isFiltered){this.isVisibilitySharedWithParent=r.isFiltered&&typeof i!=="string"&&!o&&s;if(!this.filteredChanges){this.filteredChanges=createChangeSet();this.allFilteredChanges=createChangeSet()}if(this.changes.operations.length>0){this.changes.operations.forEach((t=>setOperationAtIndex(this.filteredChanges,t)));this.allChanges.operations.forEach((t=>setOperationAtIndex(this.allFilteredChanges,t)));this.changes=createChangeSet();this.allChanges=createChangeSet()}}}}function encodeValue(e,i,r,s,n,a){var o;if(typeof r==="string"){(o=C[r])==null?void 0:o.call(C,i,s,a)}else if(r[Symbol.metadata]!==void 0){C.number(i,s[h].refId,a);if((n&t.OPERATION.ADD)===t.OPERATION.ADD){e.tryEncodeTypeId(i,r,s.constructor,a)}}else{C.number(i,s[h].refId,a)}}const encodeSchemaOperation=function(e,i,r,s,n,a,o,l,h){i[a.offset++]=(s|n)&255;if(n===t.OPERATION.DELETE){return}const u=r.ref;const c=h[s];encodeValue(e,i,h[s].type,u[c.name],n,a)};const encodeKeyValueOperation=function(e,i,r,s,n,a){i[a.offset++]=n&255;if(n===t.OPERATION.CLEAR){return}C.number(i,s,a);if(n===t.OPERATION.DELETE){return}const l=r.ref;if((n&t.OPERATION.ADD)===t.OPERATION.ADD){if(typeof l["set"]==="function"){const t=r.ref["$indexes"].get(s);C.string(i,t,a)}}const h=l[u];const c=l[o](s);encodeValue(e,i,h,c,n,a)};const encodeArray=function(e,i,r,s,n,a,o,l){const u=r.ref;const c=l&&r.isFiltered&&typeof r.getType(s)!=="string";let f;if(c){f=u["tmpItems"][s][h].refId;if(n===t.OPERATION.DELETE){n=t.OPERATION.DELETE_BY_REFID}else if(n===t.OPERATION.ADD){n=t.OPERATION.ADD_BY_REFID}}else{f=s}i[a.offset++]=n&255;if(n===t.OPERATION.CLEAR||n===t.OPERATION.REVERSE){return}C.number(i,f,a);if(n===t.OPERATION.DELETE||n===t.OPERATION.DELETE_BY_REFID){return}const d=r.getType(s);const v=r.getValue(s,o);encodeValue(e,i,d,v,n,a)};const z=-1;function decodeValue(e,i,r,s,n,a,h,c){const f=e.root;const d=r[o](s);let v;if((i&t.OPERATION.DELETE)===t.OPERATION.DELETE){const e=f.refIds.get(d);if(e!==void 0){f.removeRef(e)}if(i!==t.OPERATION.DELETE_AND_ADD){r[l](s)}v=void 0}if(i===t.OPERATION.DELETE);else if(tt.is(n)){const r=D.number(a,h);v=f.refs.get(r);if((i&t.OPERATION.ADD)===t.OPERATION.ADD){const s=e.getInstanceType(a,h,n);if(!v){v=e.createInstanceOfType(s)}f.addRef(r,v,v!==d||i===t.OPERATION.DELETE_AND_ADD&&v===d)}}else if(typeof n==="string"){v=D[n](a,h)}else{const e=getType(Object.keys(n)[0]);const r=D.number(a,h);const s=f.refs.has(r)?d||f.refs.get(r):new e.constructor;v=s.clone(true);v[u]=Object.values(n)[0];if(d){let e=f.refIds.get(d);if(e!==void 0&&r!==e){const i=d.entries();let r;while((r=i.next())&&!r.done){const[i,s]=r.value;if(typeof s==="object"){e=f.refIds.get(s);f.removeRef(e)}c.push({ref:d,refId:e,op:t.OPERATION.DELETE,field:i,value:void 0,previousValue:s})}}}f.addRef(r,v,s!==d||i===t.OPERATION.DELETE_AND_ADD&&s===d)}return{value:v,previousValue:d}}const decodeSchemaOperation=function(t,e,i,r,s){const n=e[i.offset++];const a=r.constructor[Symbol.metadata];const o=n>>6<<6;const l=n%(o||255);const h=a[l];if(h===void 0){console.warn("@colyseus/schema: field not defined at",{index:l,ref:r.constructor.name,metadata:a});return z}const{value:u,previousValue:c}=decodeValue(t,o,r,l,h.type,e,i,s);if(u!==null&&u!==void 0){r[h.name]=u}if(c!==u){s.push({ref:r,refId:t.currentRefId,op:o,field:h.name,value:u,previousValue:c})}};const decodeKeyValueOperation=function(e,i,r,s,n){const a=i[r.offset++];if(a===t.OPERATION.CLEAR){e.removeChildRefs(s,n);s.clear();return}const o=D.number(i,r);const l=s[u];let h;if((a&t.OPERATION.ADD)===t.OPERATION.ADD){if(typeof s["set"]==="function"){h=D.string(i,r);s["setIndex"](o,h)}else{h=o}}else{h=s["getIndex"](o)}const{value:c,previousValue:f}=decodeValue(e,a,s,o,l,i,r,n);if(c!==null&&c!==void 0){if(typeof s["set"]==="function"){s["$items"].set(h,c)}else if(typeof s["$setAt"]==="function"){s["$setAt"](o,c,a)}else if(typeof s["add"]==="function"){const t=s.add(c);if(typeof t==="number"){s["setIndex"](t,t)}}}if(f!==c){n.push({ref:s,refId:e.currentRefId,op:a,field:"",dynamicIndex:h,value:c,previousValue:f})}};const decodeArray=function(e,i,r,s,n){let a=i[r.offset++];let o;if(a===t.OPERATION.CLEAR){e.removeChildRefs(s,n);s.clear();return}else if(a===t.OPERATION.REVERSE){s.reverse();return}else if(a===t.OPERATION.DELETE_BY_REFID){const a=D.number(i,r);const h=e.root.refs.get(a);o=s.findIndex((t=>t===h));s[l](o);n.push({ref:s,refId:e.currentRefId,op:t.OPERATION.DELETE,field:"",dynamicIndex:o,value:void 0,previousValue:h});return}else if(a===t.OPERATION.ADD_BY_REFID){const t=D.number(i,r);const n=e.root.refs.get(t);if(n){o=s.findIndex((t=>t===n))}if(o===-1||o===void 0){o=s.length}}else{o=D.number(i,r)}const h=s[u];let c=o;const{value:f,previousValue:d}=decodeValue(e,a,s,o,h,i,r,n);if(f!==null&&f!==void 0&&f!==d){s["$setAt"](o,f,a)}if(d!==f){n.push({ref:s,refId:e.currentRefId,op:a,field:"",dynamicIndex:c,value:f,previousValue:d})}};class EncodeSchemaError extends Error{}function assertType(t,e,i,r){let s;let n=false;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":s="number";if(isNaN(t)){console.log(`trying to encode "NaN" in ${i.constructor.name}#${r}`)}break;case"bigint64":case"biguint64":s="bigint";break;case"string":s="string";n=true;break;case"boolean":return;default:return}if(typeof t!==s&&(!n||n&&t!==null)){let e=`'${JSON.stringify(t)}'${t&&t.constructor&&` (${t.constructor.name})`||""}`;throw new EncodeSchemaError(`a '${s}' was expected, but ${e} was provided in ${i.constructor.name}#${r}`)}}function assertInstanceType(t,e,i,r){if(!(t instanceof e)){throw new EncodeSchemaError(`a '${e.name}' was expected, but '${t&&t.constructor.name}' was provided in ${i.constructor.name}#${r}`)}}var V,G;const DEFAULT_SORT=(t,e)=>{const i=t.toString();const r=e.toString();if(i<r)return-1;else if(i>r)return 1;else return 0};const X=class _ArraySchema{static[(V=s,G=n,a)](t,e,i){var r;return!i||typeof t[u]==="string"||i.isChangeTreeVisible((r=t["tmpItems"][e])==null?void 0:r[h])}static is(t){return Array.isArray(t)||t["array"]!==void 0}static from(t){return new _ArraySchema(...Array.from(t))}constructor(...e){this.items=[];this.tmpItems=[];this.deletedIndexes={};this.isMovingItems=false;Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true});const i=new Proxy(this,{get:(t,e)=>{if(typeof e!=="symbol"&&!isNaN(e)){return this.items[e]}else{return Reflect.get(t,e)}},set:(e,i,r)=>{var s;if(typeof i!=="symbol"&&!isNaN(i)){if(r===void 0||r===null){e.$deleteAt(i)}else{if(r[h]){assertInstanceType(r,e[u],e,i);const n=e.items[i];if(!e.isMovingItems){e.$changeAt(Number(i),r)}else{if(n!==void 0){if(r[h].isNew){e[h].indexedOperation(Number(i),t.OPERATION.MOVE_AND_ADD)}else{if((e[h].getChange(Number(i))&t.OPERATION.DELETE)===t.OPERATION.DELETE){e[h].indexedOperation(Number(i),t.OPERATION.DELETE_AND_MOVE)}else{e[h].indexedOperation(Number(i),t.OPERATION.MOVE)}}}else if(r[h].isNew){e[h].indexedOperation(Number(i),t.OPERATION.ADD)}r[h].setParent(this,e[h].root,i)}if(n!==void 0){(s=n[h].root)==null?void 0:s.remove(n[h])}}else{e.$changeAt(Number(i),r)}e.items[i]=r;e.tmpItems[i]=r}return true}else{return Reflect.set(e,i,r)}},deleteProperty:(t,e)=>{if(typeof e==="number"){t.$deleteAt(e)}else{delete t[e]}return true},has:(t,e)=>{if(typeof e!=="symbol"&&!isNaN(Number(e))){return Reflect.has(this.items,e)}return Reflect.has(t,e)}});this[h]=new ChangeTree(i);this[h].indexes={};if(e.length>0){this.push(...e)}return i}set length(t){if(t===0){this.clear()}else if(t<this.items.length){this.splice(t,this.length-t)}else{console.warn("ArraySchema: can't set .length to a higher value than its length.")}}get length(){return this.items.length}push(...e){var i;let r=this.tmpItems.length;const s=this[h];for(let n=0,a=e.length;n<e.length;n++,r++){const a=e[n];if(a===void 0||a===null){return}else if(typeof a==="object"&&this[u]){assertInstanceType(a,this[u],this,n)}s.indexedOperation(r,t.OPERATION.ADD,this.items.length);this.items.push(a);this.tmpItems.push(a);(i=a[h])==null?void 0:i.setParent(this,s.root,r)}return r}pop(){let t=-1;for(let e=this.tmpItems.length-1;e>=0;e--){if(this.deletedIndexes[e]!==true){t=e;break}}if(t<0){return void 0}this[h].delete(t,void 0,this.items.length-1);this.deletedIndexes[t]=true;return this.items.pop()}at(t){if(t<0)t+=this.length;return this.items[t]}$changeAt(e,i){var r;if(i===void 0||i===null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.items[e]===i){return}const s=this.items[e]!==void 0?typeof i==="object"?t.OPERATION.DELETE_AND_ADD:t.OPERATION.REPLACE:t.OPERATION.ADD;const n=this[h];n.change(e,s);(r=i[h])==null?void 0:r.setParent(this,n.root,e)}$deleteAt(t,e){this[h].delete(t,e)}$setAt(e,i,r){if(e===0&&r===t.OPERATION.ADD&&this.items[e]!==void 0){this.items.unshift(i)}else if(r===t.OPERATION.DELETE_AND_MOVE){this.items.splice(e,1);this.items[e]=i}else{this.items[e]=i}}clear(){if(this.items.length===0){return}const e=this[h];e.forEachChild(((t,e)=>{t.discard(true);const i=t.root;if(i!==void 0){i.removeChangeFromChangeSet("changes",t);i.removeChangeFromChangeSet("allChanges",t);i.removeChangeFromChangeSet("allFilteredChanges",t)}}));e.discard(true);e.operation(t.OPERATION.CLEAR);this.items.length=0;this.tmpItems.length=0}concat(...t){return new _ArraySchema(...this.items.concat(...t))}join(t){return this.items.join(t)}reverse(){this[h].operation(t.OPERATION.REVERSE);this.items.reverse();this.tmpItems.reverse();return this}shift(){if(this.items.length===0){return void 0}const e=this[h];const i=this.tmpItems.findIndex((t=>t===this.items[0]));const r=this.items.findIndex((t=>t===this.items[0]));e.delete(i,t.OPERATION.DELETE,r);e.shiftAllChangeIndexes(-1,r);return this.items.shift()}slice(t,e){const i=new _ArraySchema;i.push(...this.items.slice(t,e));return i}sort(e=DEFAULT_SORT){this.isMovingItems=true;const i=this[h];const r=this.items.sort(e);r.forEach(((e,r)=>i.change(r,t.OPERATION.REPLACE)));this.tmpItems.sort(e);this.isMovingItems=false;return this}splice(e,i,...r){var s;const n=this[h];const a=this.items.length;const o=this.tmpItems.length;const l=r.length;const u=[];for(let t=0;t<o;t++){if(this.deletedIndexes[t]!==true){u.push(t)}}if(a>e){if(i===void 0){i=a-e}for(let r=e;r<e+i;r++){const e=u[r];n.delete(e,t.OPERATION.DELETE);this.deletedIndexes[e]=true}}else{i=0}if(l>0){if(l>i){console.error("Inserting more elements than deleting during ArraySchema#splice()");throw new Error("ArraySchema#splice(): insertCount must be equal or lower than deleteCount.")}for(let i=0;i<l;i++){const o=(u[e]??a)+i;n.indexedOperation(o,this.deletedIndexes[o]?t.OPERATION.DELETE_AND_ADD:t.OPERATION.ADD);(s=r[i][h])==null?void 0:s.setParent(this,n.root,o)}}if(i>l){n.shiftAllChangeIndexes(-(i-l),u[e+l])}if(n.filteredChanges!==void 0){enqueueChangeTree(n.root,n,"filteredChanges")}else{enqueueChangeTree(n.root,n,"changes")}return this.items.splice(e,i,...r)}unshift(...e){const i=this[h];i.shiftChangeIndexes(e.length);if(i.isFiltered){setOperationAtIndex(i.filteredChanges,this.items.length)}else{setOperationAtIndex(i.allChanges,this.items.length)}e.forEach(((e,r)=>{i.change(r,t.OPERATION.ADD)}));this.tmpItems.unshift(...e);return this.items.unshift(...e)}indexOf(t,e){return this.items.indexOf(t,e)}lastIndexOf(t,e=this.length-1){return this.items.lastIndexOf(t,e)}every(t,e){return this.items.every(t,e)}some(t,e){return this.items.some(t,e)}forEach(t,e){return this.items.forEach(t,e)}map(t,e){return this.items.map(t,e)}filter(t,e){return this.items.filter(t,e)}reduce(t,e){return this.items.reduce(t,e)}reduceRight(t,e){return this.items.reduceRight(t,e)}find(t,e){return this.items.find(t,e)}findIndex(t,e){return this.items.findIndex(t,e)}fill(t,e,i){throw new Error("ArraySchema#fill() not implemented")}copyWithin(t,e,i){throw new Error("ArraySchema#copyWithin() not implemented")}toString(){return this.items.toString()}toLocaleString(){return this.items.toLocaleString()}[Symbol.iterator](){return this.items[Symbol.iterator]()}static get[Symbol.species](){return _ArraySchema}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}includes(t,e){return this.items.includes(t,e)}flatMap(t,e){throw new Error("ArraySchema#flatMap() is not supported.")}flat(t){throw new Error("ArraySchema#flat() is not supported.")}findLast(){return this.items.findLast.apply(this.items,arguments)}findLastIndex(...t){return this.items.findLastIndex.apply(this.items,arguments)}with(t,e){const i=this.items.slice();if(t<0)t+=this.length;i[t]=e;return new _ArraySchema(...i)}toReversed(){return this.items.slice().reverse()}toSorted(t){return this.items.slice().sort(t)}toSpliced(t,e,...i){return this.items.toSpliced.apply(copy,arguments)}shuffle(){return this.move((t=>{let e=this.items.length;while(e!=0){let t=Math.floor(Math.random()*e);e--;[this[e],this[t]]=[this[t],this[e]]}}))}move(t){this.isMovingItems=true;t(this);this.isMovingItems=false;return this}[o](t,e=false){return e?this.items[t]:this.deletedIndexes[t]?this.items[t]:this.tmpItems[t]||this.items[t]}[l](t){this.items[t]=void 0;this.tmpItems[t]=void 0}[c](){this.tmpItems=this.items.slice();this.deletedIndexes={}}[f](){this.items=this.items.filter((t=>t!==void 0));this.tmpItems=this.items.slice()}toArray(){return this.items.slice(0)}toJSON(){return this.toArray().map((t=>typeof t["toJSON"]==="function"?t["toJSON"]():t))}clone(t){let e;if(t){e=new _ArraySchema;e.push(...this.items)}else{e=new _ArraySchema(...this.map((t=>t[h]?t.clone():t)))}return e}};X[V]=encodeArray;X[G]=decodeArray;let Y=X;registerType("array",{constructor:Y});var H,W;const j=class _MapSchema{static[(H=s,W=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.isChangeTreeVisible((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["map"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this[h]=new ChangeTree(this);this[h].indexes={};if(t){if(t instanceof Map||t instanceof _MapSchema){t.forEach(((t,e)=>this.set(e,t)))}else{for(const e in t){this.set(e,t[e])}}}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}[Symbol.iterator](){return this.$items[Symbol.iterator]()}get[Symbol.toStringTag](){return this.$items[Symbol.toStringTag]}static get[Symbol.species](){return _MapSchema}set(e,i){var r;if(i===void 0||i===null){throw new Error(`MapSchema#set('${e}', ${i}): trying to set ${i} value on '${e}'.`)}else if(typeof i==="object"&&this[u]){assertInstanceType(i,this[u],this,e)}e=e.toString();const s=this[h];const n=i[h]!==void 0;let a;let o;if(typeof s.indexes[e]!=="undefined"){a=s.indexes[e];o=t.OPERATION.REPLACE;const l=this.$items.get(e);if(l===i){return}else if(n){o=t.OPERATION.DELETE_AND_ADD;if(l!==void 0){(r=l[h].root)==null?void 0:r.remove(l[h])}}}else{a=s.indexes[v]??0;o=t.OPERATION.ADD;this.$indexes.set(a,e);s.indexes[e]=a;s.indexes[v]=a+1}this.$items.set(e,i);s.change(a,o);if(n){i[h].setParent(this,s.root,a)}return this}get(t){return this.$items.get(t)}delete(t){const e=this[h].indexes[t];this.deletedItems[e]=this[h].delete(e);return this.$items.delete(t)}clear(){const e=this[h];e.discard(true);e.indexes={};this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){return this.$items.has(t)}forEach(t){this.$items.forEach(t)}entries(){return this.$items.entries()}keys(){return this.$items.keys()}values(){return this.$items.values()}get size(){return this.$items.size}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toJSON(){const t={};this.forEach(((e,i)=>{t[i]=typeof e["toJSON"]==="function"?e["toJSON"]():e}));return t}clone(t){let e;if(t){e=Object.assign(new _MapSchema,this)}else{e=new _MapSchema;this.forEach(((t,i)=>{if(t[h]){e.set(i,t["clone"]())}else{e.set(i,t)}}))}return e}};j[H]=encodeKeyValueOperation;j[W]=decodeKeyValueOperation;let Z=j;registerType("map",{constructor:Z});const q=-1;function entity(t){N.register(t);return t}function view(t=q){return function(e,i){var r;const s=e.constructor;const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=s[r=Symbol.metadata]??(s[r]=Object.assign({},s[Symbol.metadata],a??Object.create(null)));U.setTag(o,i,t)}}function type(t,e){return function(i,r){const s=i.constructor;if(!t){throw new Error(`${s.name}: @type() reference provided for "${r}" is undefined. Make sure you don't have any circular dependencies.`)}N.register(s);const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=U.initialize(s);let l=o[r];if(o[l]!==void 0){if(o[l].deprecated){return}else if(o[l].type!==void 0){try{throw new Error(`@colyseus/schema: Duplicate '${r}' definition on '${s.name}'.\nCheck @type() annotation`)}catch(ct){const e=ct.stack.split("\n")[4].trim();throw new Error(`${ct.message} ${e}`)}}}else{l=o[v]??(a&&a[v])??-1;l++}if(e&&e.manual){U.addField(o,l,r,t,{enumerable:true,configurable:true,writable:true})}else{const e=Array.isArray(t)?getType("array"):typeof Object.keys(t)[0]==="string"&&getType(Object.keys(t)[0]);const i=e?Object.values(t)[0]:t;U.addField(o,l,r,t,getPropertyDescriptor(`_${r}`,l,i,e))}}}function getPropertyDescriptor(e,i,s,n){return{get:function(){return this[e]},set:function(a){var o,l;const c=this[e]??void 0;if(a===c){return}if(a!==void 0&&a!==null){if(n){if(n.constructor===Y&&!(a instanceof Y)){a=new Y(...a)}if(n.constructor===Z&&!(a instanceof Z)){a=new Z(a)}a[u]=s}else if(typeof s!=="string"){assertInstanceType(a,s,this,e.substring(1))}else{assertType(a,s,this,e.substring(1))}const f=this[h];if(c!==void 0&&c[h]){(o=f.root)==null?void 0:o.remove(c[h]);this.constructor[r](f,i,t.OPERATION.DELETE_AND_ADD)}else{this.constructor[r](f,i,t.OPERATION.ADD)}(l=a[h])==null?void 0:l.setParent(this,f.root,i)}else if(c!==void 0){this[h].delete(i)}this[e]=a},enumerable:true,configurable:true}}function deprecated(t=true){return function(e,i){var r;const s=e.constructor;const n=Object.getPrototypeOf(s);const a=n[Symbol.metadata];const o=s[r=Symbol.metadata]??(s[r]=Object.assign({},s[Symbol.metadata],a??Object.create(null)));const l=o[i];o[l].deprecated=true;if(t){o[d]??(o[d]={});o[d][i]={get:function(){throw new Error(`${i} is deprecated.`)},set:function(t){},enumerable:false,configurable:true}}Object.defineProperty(o,l,{value:o[l],enumerable:false,configurable:true})}}function defineTypes(t,e,i){for(let r in e){type(e[r],i)(t.prototype,r)}return t}function schema2(t,e,i=tt){const r={};const s={};for(let a in t){const e=t[a];if(typeof e==="object"){if(e["default"]!==void 0){r[a]=e["default"]}if(e["view"]!==void 0){s[a]=typeof e["view"]==="boolean"?q:e["view"]}}}const n=U.setFields(class extends i{constructor(...t){t[0]=Object.assign({},r,t[0]);super(...t)}},t);for(let a in s){view(s[a])(n.prototype,a)}if(e){Object.defineProperty(n,"name",{value:e})}n.extends=(t,e)=>schema2(t,e,n);return n}function getIndent(t){return new Array(t).fill(0).map(((e,i)=>i===t-1?` `:`   `)).join("")}function dumpChanges(e){const i=e[h].root;const r={ops:{},refs:[]};i.changes.forEach((e=>{if(e===void 0){return}const i=e.indexedOperations;r.refs.push(`refId#${e.refId}`);for(const s in i){const e=i[s];const n=t.OPERATION[e];if(!r.ops[n]){r.ops[n]=0}r.ops[t.OPERATION[e]]++}}));return r}var K,J;const Q=class _Schema{static initialize(t){var e;Object.defineProperty(t,h,{value:new ChangeTree(t),enumerable:false,writable:true});Object.defineProperties(t,((e=t.constructor[Symbol.metadata])==null?void 0:e[d])||{})}static is(t){return typeof t[Symbol.metadata]==="object"}static[(K=s,J=n,r)](e,i,r=t.OPERATION.ADD){e.change(i,r)}static[a](t,e,i){var r,s;const n=t.constructor[Symbol.metadata];const a=(r=n[e])==null?void 0:r.tag;if(i===void 0){return a===void 0}else if(a===void 0){return true}else if(a===q){return i.isChangeTreeVisible(t[h])}else{const e=(s=i.tags)==null?void 0:s.get(t[h]);return e&&e.has(a)}}constructor(...t){_Schema.initialize(this);if(t[0]){Object.assign(this,t[0])}}assign(t){Object.assign(this,t);return this}setDirty(t,e){const i=this.constructor[Symbol.metadata];this[h].change(i[i[t]].index,e)}clone(){var t;const e=new this.constructor;const i=this.constructor[Symbol.metadata];for(const r in i){const s=i[r].name;if(typeof this[s]==="object"&&typeof((t=this[s])==null?void 0:t.clone)==="function"){e[s]=this[s].clone()}else{e[s]=this[s]}}return e}toJSON(){const t={};const e=this.constructor[Symbol.metadata];for(const i in e){const r=e[i];const s=r.name;if(!r.deprecated&&this[s]!==null&&typeof this[s]!=="undefined"){t[s]=typeof this[s]["toJSON"]==="function"?this[s]["toJSON"]():this[s]}}return t}discardAllChanges(){this[h].discardAll()}[o](t){const e=this.constructor[Symbol.metadata];return this[e[t].name]}[l](t){const e=this.constructor[Symbol.metadata];this[e[t].name]=void 0}static debugRefIds(t,e=false,i=0){const r=e?` - ${JSON.stringify(t.toJSON())}`:"";const s=t[h];const n=s.refId;let a="";a+=`${getIndent(i)}${t.constructor.name} (refId: ${n})${r}\n`;s.forEachChild((t=>a+=this.debugRefIds(t.ref,e,i+1)));return a}static debugChanges(e,i=false){const r=e[h];const s=i?r.allChanges:r.changes;const n=i?"allChanges":"changes";let a=`${e.constructor.name} (${r.refId}) -> .${n}:\n`;function dumpChangeSet(e){e.operations.filter((t=>t)).forEach((e=>{const s=r.indexedOperations[e];console.log({index:e,operation:s});a+=`- [${e}]: ${t.OPERATION[s]} (${JSON.stringify(r.getValue(Number(e),i))})\n`}))}dumpChangeSet(s);if(!i&&r.filteredChanges&&r.filteredChanges.operations.filter((t=>t)).length>0){a+=`${e.constructor.name} (${r.refId}) -> .filteredChanges:\n`;dumpChangeSet(r.filteredChanges)}if(i&&r.allFilteredChanges&&r.allFilteredChanges.operations.filter((t=>t)).length>0){a+=`${e.constructor.name} (${r.refId}) -> .allFilteredChanges:\n`;dumpChangeSet(r.allFilteredChanges)}return a}static debugChangesDeep(e,i="changes"){var r,s;let n="";const a=e[h];const o=a.root;const l=new Map;const u=[];let c=0;for(const[t,d]of Object.entries(o[i])){const i=o.changeTrees[t];let n=false;let f=[];let v=(r=i.parent)==null?void 0:r[h];if(i===a){n=true}else{while(v!==void 0){f.push(v);if(v.ref===e){n=true;break}v=(s=v.parent)==null?void 0:s[h]}}if(n){u.push(i.refId);c+=Object.keys(d).length;l.set(i,f.reverse())}}n+="---\n";n+=`root refId: ${a.refId}\n`;n+=`Total instances: ${u.length} (refIds: ${u.join(", ")})\n`;n+=`Total changes: ${c}\n`;n+="---\n";const f=new WeakSet;for(const[h,d]of l.entries()){d.forEach(((t,e)=>{if(!f.has(t)){n+=`${getIndent(e)}${t.ref.constructor.name} (refId: ${t.refId})\n`;f.add(t)}}));const e=h.indexedOperations;const i=d.length;const r=getIndent(i);const s=i>0?`(${h.parentIndex}) `:"";n+=`${r}${s}${h.ref.constructor.name} (refId: ${h.refId}) - changes: ${Object.keys(e).length}\n`;for(const a in e){const r=e[a];n+=`${getIndent(i+1)}${t.OPERATION[r]}: ${a}\n`}}return`${n}`}};Q[K]=encodeSchemaOperation;Q[J]=decodeSchemaOperation;let tt=Q;var et,it;const rt=class _CollectionSchema{static[(et=s,it=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.isChangeTreeVisible((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["collection"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this.$refId=0;this[h]=new ChangeTree(this);this[h].indexes={};if(t){t.forEach((t=>this.add(t)))}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}add(t){const e=this.$refId++;const i=t[h]!==void 0;if(i){t[h].setParent(this,this[h].root,e)}this[h].indexes[e]=e;this.$indexes.set(e,e);this.$items.set(e,t);this[h].change(e);return e}at(t){const e=Array.from(this.$items.keys())[t];return this.$items.get(e)}entries(){return this.$items.entries()}delete(t){const e=this.$items.entries();let i;let r;while(r=e.next()){if(r.done){break}if(t===r.value[1]){i=r.value[0];break}}if(i===void 0){return false}this.deletedItems[i]=this[h].delete(i);this.$indexes.delete(i);return this.$items.delete(i)}clear(){const e=this[h];e.discard(true);e.indexes={};this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){return Array.from(this.$items.values()).some((e=>e===t))}forEach(t){this.$items.forEach(((e,i,r)=>t(e,i,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const t=[];this.forEach(((e,i)=>{t.push(typeof e["toJSON"]==="function"?e["toJSON"]():e)}));return t}clone(t){let e;if(t){e=Object.assign(new _CollectionSchema,this)}else{e=new _CollectionSchema;this.forEach((t=>{if(t[h]){e.add(t["clone"]())}else{e.add(t)}}))}return e}};rt[et]=encodeKeyValueOperation;rt[it]=decodeKeyValueOperation;let st=rt;registerType("collection",{constructor:st});var nt,at;const ot=class _SetSchema{static[(nt=s,at=n,a)](t,e,i){return!i||typeof t[u]==="string"||i.visible.has((t[o](e)??t.deletedItems[e])[h])}static is(t){return t["set"]!==void 0}constructor(t){this.$items=new Map;this.$indexes=new Map;this.deletedItems={};this.$refId=0;this[h]=new ChangeTree(this);this[h].indexes={};if(t){t.forEach((t=>this.add(t)))}Object.defineProperty(this,u,{value:void 0,enumerable:false,writable:true,configurable:true})}add(e){var i;if(this.has(e)){return false}const r=this.$refId++;if(e[h]!==void 0){e[h].setParent(this,this[h].root,r)}const s=((i=this[h].indexes[r])==null?void 0:i.op)??t.OPERATION.ADD;this[h].indexes[r]=r;this.$indexes.set(r,r);this.$items.set(r,e);this[h].change(r,s);return r}entries(){return this.$items.entries()}delete(t){const e=this.$items.entries();let i;let r;while(r=e.next()){if(r.done){break}if(t===r.value[1]){i=r.value[0];break}}if(i===void 0){return false}this.deletedItems[i]=this[h].delete(i);this.$indexes.delete(i);return this.$items.delete(i)}clear(){const e=this[h];e.discard(true);e.indexes={};this.$indexes.clear();this.$items.clear();e.operation(t.OPERATION.CLEAR)}has(t){const e=this.$items.values();let i=false;let r;while(r=e.next()){if(r.done){break}if(t===r.value){i=true;break}}return i}forEach(t){this.$items.forEach(((e,i,r)=>t(e,i,this)))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(t,e){this.$indexes.set(t,e)}getIndex(t){return this.$indexes.get(t)}[o](t){return this.$items.get(this.$indexes.get(t))}[l](t){const e=this.$indexes.get(t);this.$items.delete(e);this.$indexes.delete(t)}[c](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const t=[];this.forEach(((e,i)=>{t.push(typeof e["toJSON"]==="function"?e["toJSON"]():e)}));return t}clone(t){let e;if(t){e=Object.assign(new _SetSchema,this)}else{e=new _SetSchema;this.forEach((t=>{if(t[h]){e.add(t["clone"]())}else{e.add(t)}}))}return e}};ot[nt]=encodeKeyValueOperation;ot[at]=decodeKeyValueOperation;let lt=ot;registerType("set",{constructor:lt});function __decorate2(t,e,i,r){var s=arguments.length,n=s<3?e:r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)if(a=t[o])n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n;return s>3&&n&&Object.defineProperty(e,i,n),n}typeof SuppressedError==="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};class Root{constructor(t){this.types=t;this.nextUniqueId=0;this.refCount={};this.changeTrees={};this.allChanges=[];this.allFilteredChanges=[];this.changes=[];this.filteredChanges=[]}getNextUniqueId(){return this.nextUniqueId++}add(e){e.ensureRefId();const i=this.changeTrees[e.refId]===void 0;if(i){this.changeTrees[e.refId]=e}const r=this.refCount[e.refId];if(r===0){const i=e.allChanges.operations;let r=i.length;while(r--){e.indexedOperations[i[r]]=t.OPERATION.ADD;setOperationAtIndex(e.changes,r)}}this.refCount[e.refId]=(r||0)+1;return i}remove(t){const e=this.refCount[t.refId]-1;if(e<=0){t.root=void 0;delete this.changeTrees[t.refId];this.removeChangeFromChangeSet("allChanges",t);this.removeChangeFromChangeSet("changes",t);if(t.filteredChanges){this.removeChangeFromChangeSet("allFilteredChanges",t);this.removeChangeFromChangeSet("filteredChanges",t)}this.refCount[t.refId]=0}else{this.refCount[t.refId]=e;if(t.filteredChanges!==void 0){this.removeChangeFromChangeSet("filteredChanges",t);enqueueChangeTree(this,t,"filteredChanges")}else{this.removeChangeFromChangeSet("changes",t);enqueueChangeTree(this,t,"changes")}}t.forEachChild(((t,e)=>this.remove(t)));return e}removeChangeFromChangeSet(t,e){const i=this[t];const r=i.indexOf(e);if(r!==-1){e[t].queueRootIndex=-1;i[r]=void 0;return true}}clear(){this.changes.length=0}}const ht=class _Encoder{constructor(t){this.sharedBuffer=Buffer.allocUnsafe(_Encoder.BUFFER_SIZE);this.context=N.cache(t.constructor);this.root=new Root(this.context);this.setState(t)}setState(t){this.state=t;this.state[h].setRoot(this.root)}encode(i={offset:0},r,n=this.sharedBuffer,o="changes",l=o==="allChanges",u=i.offset){const c=r!==void 0;const f=this.state[h];const d=this.root[o];for(let h=0,v=d.length;h<v;h++){const v=d[h];if(!v){continue}if(c){if(!r.isChangeTreeVisible(v)){r.invisible.add(v);continue}r.invisible.delete(v)}const p=v[o];const g=v.ref;const m=p.operations.length;if(m===0){continue}const y=g.constructor;const x=y[s];const b=y[a];const T=y[Symbol.metadata];if(c||i.offset>u||v!==f){n[i.offset++]=e&255;C.number(n,v.refId,i)}for(let e=0;e<m;e++){const s=p.operations[e];const a=s<0?Math.abs(s):l?t.OPERATION.ADD:v.indexedOperations[s];if(s===void 0||a===void 0||b&&!b(g,s,r)){continue}x(this,n,v,s,a,i,l,c,T)}}if(i.offset>n.byteLength){const t=Math.ceil(i.offset/(Buffer.poolSize??8*1024))*(Buffer.poolSize??8*1024);console.warn(`@colyseus/schema buffer overflow. Encoded state is higher than default BUFFER_SIZE. Use the following to increase default BUFFER_SIZE:\n\n    import { Encoder } from "@colyseus/schema";\n    Encoder.BUFFER_SIZE = ${Math.round(t/1024)} * 1024; // ${Math.round(t/1024)} KB\n`);n=Buffer.alloc(t,n);if(n===this.sharedBuffer){this.sharedBuffer=n}return this.encode({offset:u},r,n,o,l)}else{return n.subarray(0,i.offset)}}encodeAll(t={offset:0},e=this.sharedBuffer){return this.encode(t,void 0,e,"allChanges",true)}encodeAllView(t,e,i,r=this.sharedBuffer){const s=i.offset;this.encode(i,t,r,"allFilteredChanges",true,s);return Buffer.concat([r.subarray(0,e),r.subarray(s,i.offset)])}debugChanges(e){const i=typeof e==="string"?this.root[e]:e;i.forEach((i=>{const r=i[e];const s=i.ref.constructor[Symbol.metadata];console.log("->",{ref:i.ref.constructor.name,refId:i.refId,changes:Object.keys(r).length});for(const e in r){const i=r[e];console.log("  ->",{index:e,field:s==null?void 0:s[e],op:t.OPERATION[i]})}}))}encodeView(i,r,n,a=this.sharedBuffer){const l=n.offset;for(const[h,u]of i.changes){const r=this.root.changeTrees[h];if(r===void 0){i.changes.delete(h);continue}const l=Object.keys(u);if(l.length===0){continue}const c=r.ref;const f=c.constructor;const d=f[s];const v=f[Symbol.metadata];a[n.offset++]=e&255;C.number(a,r.refId,n);for(let e=0,i=l.length;e<i;e++){const i=Number(l[e]);const s=r.ref[o](i);const h=s!==void 0&&u[i]||t.OPERATION.DELETE;d(this,a,r,i,h,n,false,true,v)}}i.changes.clear();this.encode(n,i,a,"filteredChanges",false,l);return Buffer.concat([a.subarray(0,r),a.subarray(l,n.offset)])}discardChanges(){var t,e;let i=this.root.changes.length;if(i>0){while(i--){(t=this.root.changes[i])==null?void 0:t.endEncode("changes")}this.root.changes.length=0}i=this.root.filteredChanges.length;if(i>0){while(i--){(e=this.root.filteredChanges[i])==null?void 0:e.endEncode("filteredChanges")}this.root.filteredChanges.length=0}}tryEncodeTypeId(t,e,r,s){const n=this.context.getTypeId(e);const a=this.context.getTypeId(r);if(a===void 0){console.warn(`@colyseus/schema WARNING: Class "${r.name}" is not registered on TypeRegistry - Please either tag the class with @entity or define a @type() field.`);return}if(n!==a){t[s.offset++]=i&255;C.number(t,a,s)}}get hasChanges(){return this.root.changes.length>0||this.root.filteredChanges.length>0}};ht.BUFFER_SIZE=typeof Buffer!=="undefined"&&Buffer.poolSize||8*1024;let ut=ht;function spliceOne(t,e){if(e===-1||e>=t.length){return false}const i=t.length-1;for(let r=e;r<i;r++){t[r]=t[r+1]}t.length=i;return true}class DecodingWarning extends Error{constructor(t){super(t);this.name="DecodingWarning"}}class ReferenceTracker{constructor(){this.refs=new Map;this.refIds=new WeakMap;this.refCounts={};this.deletedRefs=new Set;this.callbacks={};this.nextUniqueId=0}getNextUniqueId(){return this.nextUniqueId++}addRef(t,e,i=true){this.refs.set(t,e);this.refIds.set(e,t);if(i){this.refCounts[t]=(this.refCounts[t]||0)+1}if(this.deletedRefs.has(t)){this.deletedRefs.delete(t)}}removeRef(t){const e=this.refCounts[t];if(e===void 0){try{throw new DecodingWarning("trying to remove refId that doesn't exist: "+t)}catch(ct){console.warn(ct)}return}if(e===0){try{const e=this.refs.get(t);throw new DecodingWarning(`trying to remove refId '${t}' with 0 refCount (${e.constructor.name}: ${JSON.stringify(e)})`)}catch(ct){console.warn(ct)}return}if((this.refCounts[t]=e-1)<=0){this.deletedRefs.add(t)}}clearRefs(){this.refs.clear();this.deletedRefs.clear();this.callbacks={};this.refCounts={}}garbageCollectDeletedRefs(){this.deletedRefs.forEach((t=>{if(this.refCounts[t]>0){return}const e=this.refs.get(t);if(e.constructor[Symbol.metadata]!==void 0){const t=e.constructor[Symbol.metadata];for(const i in t){const r=t[i].name;const s=typeof e[r]==="object"&&this.refIds.get(e[r]);if(s&&!this.deletedRefs.has(s)){this.removeRef(s)}}}else{if(typeof e[u]==="function"){Array.from(e.values()).forEach((t=>{const e=this.refIds.get(t);if(!this.deletedRefs.has(e)){this.removeRef(e)}}))}}this.refs.delete(t);delete this.refCounts[t];delete this.callbacks[t]}));this.deletedRefs.clear()}addCallback(e,i,r){if(e===void 0){const e=typeof i==="number"?t.OPERATION[i]:i;throw new Error(`Can't addCallback on '${e}' (refId is undefined)`)}if(!this.callbacks[e]){this.callbacks[e]={}}if(!this.callbacks[e][i]){this.callbacks[e][i]=[]}this.callbacks[e][i].push(r);return()=>this.removeCallback(e,i,r)}removeCallback(t,e,i){var r,s,n;const a=(n=(s=(r=this.callbacks)==null?void 0:r[t])==null?void 0:s[e])==null?void 0:n.indexOf(i);if(a!==-1){spliceOne(this.callbacks[t][e],a)}}}class Decoder2{constructor(t,e){this.currentRefId=0;this.setState(t);this.context=e||new N(t.constructor)}setState(t){this.state=t;this.root=new ReferenceTracker;this.root.addRef(0,t)}decode(t,i={offset:0},r=this.state){var s,a,o;const l=[];const h=this.root;const u=t.byteLength;let c=r["constructor"][n];this.currentRefId=0;while(i.offset<u){if(t[i.offset]==e){i.offset++;this.currentRefId=D.number(t,i);const e=h.refs.get(this.currentRefId);if(!e){throw new Error(`"refId" not found: ${this.currentRefId}`)}(s=r[f])==null?void 0:s.call(r);r=e;c=r.constructor[n];continue}const a=c(this,t,i,r,l);if(a===z){console.warn("@colyseus/schema: definition mismatch");const r={offset:i.offset};while(i.offset<u){if(t[i.offset]===e){r.offset=i.offset+1;if(h.refs.has(D.number(t,r))){break}}i.offset++}continue}}(a=r[f])==null?void 0:a.call(r);(o=this.triggerChanges)==null?void 0:o.call(this,l);h.garbageCollectDeletedRefs();return l}getInstanceType(t,e,r){let s;if(t[e.offset]===i){e.offset++;const i=D.number(t,e);s=this.context.get(i)}return s||r}createInstanceOfType(t){return new t}removeChildRefs(e,i){const r=typeof e[u]!=="string";const s=this.root.refIds.get(e);e.forEach(((n,a)=>{i.push({ref:e,refId:s,op:t.OPERATION.DELETE,field:a,value:void 0,previousValue:n});if(r){this.root.removeRef(this.root.refIds.get(n))}}))}}class ReflectionField extends tt{}__decorate2([type("string")],ReflectionField.prototype,"name",void 0);__decorate2([type("string")],ReflectionField.prototype,"type",void 0);__decorate2([type("number")],ReflectionField.prototype,"referencedType",void 0);class ReflectionType extends tt{constructor(){super(...arguments);this.fields=new Y}}__decorate2([type("number")],ReflectionType.prototype,"id",void 0);__decorate2([type("number")],ReflectionType.prototype,"extendsId",void 0);__decorate2([type([ReflectionField])],ReflectionType.prototype,"fields",void 0);class Reflection extends tt{constructor(){super(...arguments);this.types=new Y}static encode(t,e={offset:0}){const i=t.context;const r=new Reflection;const s=new ut(r);const n=i.schemas.get(t.state.constructor);if(n>0){r.rootType=n}const a=new Set;const o={};const addType=t=>{if(t.extendsId===void 0||a.has(t.extendsId)){a.add(t.id);r.types.push(t);const e=o[t.id];if(e!==void 0){delete o[t.id];e.forEach((t=>addType(t)))}}else{if(o[t.extendsId]===void 0){o[t.extendsId]=[]}o[t.extendsId].push(t)}};i.schemas.forEach(((t,e)=>{const r=new ReflectionType;r.id=Number(t);const s=Object.getPrototypeOf(e);if(s!==tt){r.extendsId=i.schemas.get(s)}const n=e[Symbol.metadata];if(n!==s[Symbol.metadata]){for(const t in n){const e=Number(t);const s=n[e].name;if(!Object.prototype.hasOwnProperty.call(n,s)){continue}const a=new ReflectionField;a.name=s;let o;const l=n[e];if(typeof l.type==="string"){o=l.type}else{let t;if(tt.is(l.type)){o="ref";t=l.type}else{o=Object.keys(l.type)[0];if(typeof l.type[o]==="string"){o+=":"+l.type[o]}else{t=l.type[o]}}a.referencedType=t?i.getTypeId(t):-1}a.type=o;r.fields.push(a)}}addType(r)}));for(const h in o){o[h].forEach((t=>r.types.push(t)))}const l=s.encodeAll(e);return Buffer.from(l,0,e.offset)}static decode(t,e){const i=new Reflection;const r=new Decoder2(i);r.decode(t,e);const s=new N;i.types.forEach((t=>{const e=s.get(t.extendsId)??tt;const i=class _ extends e{};N.register(i);s.add(i,t.id)}),{});const addFields=(t,e,i)=>{e.fields.forEach(((e,r)=>{const n=i+r;if(e.referencedType!==void 0){let i=e.type;let r=s.get(e.referencedType);if(!r){const t=e.type.split(":");i=t[0];r=t[1]}if(i==="ref"){U.addField(t,n,e.name,r)}else{U.addField(t,n,e.name,{[i]:r})}}else{U.addField(t,n,e.name,e.type)}}))};i.types.forEach((t=>{const e=s.get(t.id);const r=U.initialize(e);const n=[];let a=t;do{n.push(a);a=i.types.find((t=>t.id===a.extendsId))}while(a);let o=0;n.reverse().forEach((t=>{addFields(r,t,o);o+=t.fields.length}))}));const n=new(s.get(i.rootType||0));return new Decoder2(n,s)}}__decorate2([type([ReflectionType])],Reflection.prototype,"types",void 0);__decorate2([type("number")],Reflection.prototype,"rootType",void 0);function getDecoderStateCallbacks(e){const i=e.root;const r=i.callbacks;const s=new WeakMap;let n;e.triggerChanges=function(e){var s;const n=new Set;for(let a=0,o=e.length;a<o;a++){const o=e[a];const l=o.refId;const h=o.ref;const u=r[l];if(!u){continue}if((o.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&o.previousValue instanceof tt){const e=(s=r[i.refIds.get(o.previousValue)])==null?void 0:s[t.OPERATION.DELETE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t]()}}if(h instanceof tt){if(!n.has(l)){const e=u==null?void 0:u[t.OPERATION.REPLACE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t]()}}if(u.hasOwnProperty(o.field)){const t=u[o.field];for(let e=(t==null?void 0:t.length)-1;e>=0;e--){t[e](o.value,o.previousValue)}}}else{if((o.op&t.OPERATION.DELETE)===t.OPERATION.DELETE){if(o.previousValue!==void 0){const e=u[t.OPERATION.DELETE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.previousValue,o.dynamicIndex??o.field)}}if((o.op&t.OPERATION.ADD)===t.OPERATION.ADD){const e=u[t.OPERATION.ADD];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}}else if((o.op&t.OPERATION.ADD)===t.OPERATION.ADD&&o.previousValue!==o.value){const e=u[t.OPERATION.ADD];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}if(o.value!==o.previousValue&&(o.value!==void 0||o.previousValue!==void 0)){const e=u[t.OPERATION.REPLACE];for(let t=(e==null?void 0:e.length)-1;t>=0;t--){e[t](o.value,o.dynamicIndex??o.field)}}}n.add(l)}};function getProxy(e,r){var a;let o=((a=r.instance)==null?void 0:a.constructor[Symbol.metadata])||e;let l=r.instance&&typeof r.instance["forEach"]==="function"||e&&typeof e[Symbol.metadata]==="undefined";if(o&&!l){const onAddListen=function(t,e,a,o){if(o&&r.instance[e]!==void 0&&!s.has(n)){a(r.instance[e],void 0)}return i.addCallback(i.refIds.get(t),e,a)};return new Proxy({listen:function listen(t,e,i=true){if(r.instance){return onAddListen(r.instance,t,e,i)}else{let detachCallback=()=>{};r.onInstanceAvailable(((r,a)=>{detachCallback=onAddListen(r,t,e,i&&a&&!s.has(n))}));return()=>detachCallback()}},onChange:function onChange(e){return i.addCallback(i.refIds.get(r.instance),t.OPERATION.REPLACE,e)},bindTo:function bindTo(e,s){if(!s){s=Object.keys(o).map((t=>o[t].name))}return i.addCallback(i.refIds.get(r.instance),t.OPERATION.REPLACE,(()=>{s.forEach((t=>e[t]=r.instance[t]))}))}},{get(t,e){var s;const n=o[o[e]];if(n){const t=(s=r.instance)==null?void 0:s[e];const onInstanceAvailable=s=>{const n=$(r.instance).listen(e,((t,e)=>{s(t,false);n==null?void 0:n()}),false);if(i.refIds.get(t)!==void 0){s(t,true)}};return getProxy(n.type,{instance:i.refIds.get(t)&&t,parentInstance:r.instance,onInstanceAvailable:onInstanceAvailable})}else{return t[e]}},has(t,e){return o[e]!==void 0},set(t,e,i){throw new Error("not allowed")},deleteProperty(t,e){throw new Error("not allowed")}})}else{const onAdd=function(e,r,a){if(a){e.forEach(((t,e)=>r(t,e)))}return i.addCallback(i.refIds.get(e),t.OPERATION.ADD,((t,e)=>{s.set(r,true);n=r;r(t,e);s.delete(r);n=void 0}))};const onRemove=function(e,r){return i.addCallback(i.refIds.get(e),t.OPERATION.DELETE,r)};const onChange=function(e,r){return i.addCallback(i.refIds.get(e),t.OPERATION.REPLACE,r)};return new Proxy({onAdd:function(t,e=true){if(r.instance){return onAdd(r.instance,t,e&&!s.has(n))}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable(((i,r)=>{detachCallback=onAdd(i,t,e&&r&&!s.has(n))}));return()=>detachCallback()}},onRemove:function(t){if(r.instance){return onRemove(r.instance,t)}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable((e=>{detachCallback=onRemove(e,t)}));return()=>detachCallback()}},onChange:function(t){if(r.instance){return onChange(r.instance,t)}else if(r.onInstanceAvailable){let detachCallback=()=>{};r.onInstanceAvailable((e=>{detachCallback=onChange(e,t)}));return()=>detachCallback()}}},{get(t,e){if(!t[e]){throw new Error(`Can't access '${e}' through callback proxy. access the instance directly.`)}return t[e]},has(t,e){return t[e]!==void 0},set(t,e,i){throw new Error("not allowed")},deleteProperty(t,e){throw new Error("not allowed")}})}}function $(t){return getProxy(void 0,{instance:t})}return $}function getRawChangesCallback(t,e){t.triggerChanges=e}class StateView{constructor(t=false){this.iterable=t;this.visible=new WeakSet;this.invisible=new WeakSet;this.changes=new Map;if(t){this.items=[]}}add(e,i=q,r=true){var s,n;const a=e==null?void 0:e[h];if(!a){console.warn("StateView#add(), invalid object:",e);return this}else if(!a.parent&&a.refId!==0){throw new Error(`Cannot add a detached instance to the StateView. Make sure to assign the "${a.ref.constructor.name}" instance to the state before calling view.add()`)}const o=e.constructor[Symbol.metadata];this.visible.add(a);if(this.iterable&&r){this.items.push(e)}if(r&&a.parent){this.addParentOf(a,i)}let l=this.changes.get(a.refId);if(l===void 0){l={};this.changes.set(a.refId,l)}if(i!==q){if(!this.tags){this.tags=new WeakMap}let e;if(!this.tags.has(a)){e=new Set;this.tags.set(a,e)}else{e=this.tags.get(a)}e.add(i);(n=(s=o==null?void 0:o[m])==null?void 0:s[i])==null?void 0:n.forEach((e=>{if(a.getChange(e)!==t.OPERATION.DELETE){l[e]=t.OPERATION.ADD}}))}else{const e=this.invisible.has(a);const r=a.filteredChanges!==void 0?a.allFilteredChanges:a.allChanges;for(let s=0,n=r.operations.length;s<n;s++){const n=r.operations[s];if(n===void 0){continue}const h=a.indexedOperations[n]??t.OPERATION.ADD;const u=o==null?void 0:o[n].tag;if(!a.isNew&&(e||u===void 0||u===i)&&h!==t.OPERATION.DELETE){l[n]=h}}}a.forEachChild(((t,e)=>{if(o&&o[e].tag!==void 0&&o[e].tag!==i){return}this.add(t.ref,i,false)}));return this}addParentOf(e,i){var r;const s=e.parent[h];const n=e.parentIndex;if(!this.visible.has(s)){this.visible.add(s);const t=(r=s.parent)==null?void 0:r[h];if(t&&t.filteredChanges!==void 0){this.addParentOf(s,i)}}if(s.getChange(n)!==t.OPERATION.DELETE){let e=this.changes.get(s.refId);if(e===void 0){e={};this.changes.set(s.refId,e)}if(!this.tags){this.tags=new WeakMap}let r;if(!this.tags.has(s)){r=new Set;this.tags.set(s,r)}else{r=this.tags.get(s)}r.add(i);e[n]=t.OPERATION.ADD}}remove(e,i=q,r=false){var s;const n=e[h];if(!n){console.warn("StateView#remove(), invalid object:",e);return this}this.visible.delete(n);if(this.iterable&&!r){spliceOne(this.items,this.items.indexOf(e))}const a=n.ref;const o=a.constructor[Symbol.metadata];let l=this.changes.get(n.refId);if(l===void 0){l={};this.changes.set(n.refId,l)}if(i===q){const e=n.parent;if(!U.isValidInstance(e)&&n.isFiltered){const i=e[h];let r=this.changes.get(i.refId);if(r===void 0){r={};this.changes.set(i.refId,r)}r[n.parentIndex]=t.OPERATION.DELETE}else{(s=o==null?void 0:o[g])==null?void 0:s.forEach((e=>l[e]=t.OPERATION.DELETE))}}else{o==null?void 0:o[m][i].forEach((e=>l[e]=t.OPERATION.DELETE))}if(this.tags&&this.tags.has(n)){const t=this.tags.get(n);if(i===void 0){this.tags.delete(n)}else{t.delete(i);if(t.size===0){this.tags.delete(n)}}}return this}has(t){return this.visible.has(t[h])}hasTag(t,e=q){var i;const r=(i=this.tags)==null?void 0:i.get(t[h]);return(r==null?void 0:r.has(e))??false}clear(){if(!this.iterable){throw new Error("StateView#clear() is only available for iterable StateView's. Use StateView(iterable: true) constructor.")}for(let t=0,e=this.items.length;t<e;t++){this.remove(this.items[t],q,true)}this.items.length=0}isChangeTreeVisible(t){let e=this.visible.has(t);if(!e&&t.isVisibilitySharedWithParent){if(this.visible.has(t.parent[h])){this.visible.add(t);e=true}}return e}}registerType("map",{constructor:Z});registerType("array",{constructor:Y});registerType("set",{constructor:lt});registerType("collection",{constructor:st});t.$changes=h;t.$childType=u;t.$decoder=n;t.$deleteByIndex=l;t.$encoder=s;t.$filter=a;t.$getByIndex=o;t.$track=r;t.ArraySchema=Y;t.ChangeTree=ChangeTree;t.CollectionSchema=st;t.Decoder=Decoder2;t.Encoder=ut;t.MapSchema=Z;t.Metadata=U;t.Reflection=Reflection;t.ReflectionField=ReflectionField;t.ReflectionType=ReflectionType;t.Schema=tt;t.SetSchema=lt;t.StateView=StateView;t.TypeContext=N;t.decode=D;t.decodeKeyValueOperation=decodeKeyValueOperation;t.decodeSchemaOperation=decodeSchemaOperation;t.defineCustomTypes=defineCustomTypes;t.defineTypes=defineTypes;t.deprecated=deprecated;t.dumpChanges=dumpChanges;t.encode=C;t.encodeArray=encodeArray;t.encodeKeyValueOperation=encodeKeyValueOperation;t.encodeSchemaOperation=encodeSchemaOperation;t.entity=entity;t.getDecoderStateCallbacks=getDecoderStateCallbacks;t.getRawChangesCallback=getRawChangesCallback;t.registerType=registerType;t.schema=schema2;t.type=type;t.view=view}))})(ba,ba.exports);var Ta=ba.exports;var wa=Object.defineProperty;var __decorateClass=(t,e,i,r)=>{var s=void 0;for(var n=t.length-1,a;n>=0;n--)if(a=t[n])s=a(e,i,s)||s;if(s)wa(e,i,s);return s};var Ea=(t=>{t["Lobby"]="Lobby";t["Shop"]="Shop";t["Preparation"]="Preparation";t["Battle"]="Battle";t["BattleEnd"]="BattleEnd";t["GameOver"]="GameOver";return t})(Ea||{});const Sa=class _CardInstanceSchema2 extends Ta.Schema{constructor(){super(...arguments);this.instanceId="";this.cardId="";this.name="";this.attack=0;this.speed=0;this.health=0;this.currentHp=0;this.brewCost=0;this.description="";this.isLegend=false}static fromCardData(t,e){const i=new _CardInstanceSchema2;i.instanceId=e;i.cardId=t.id;i.name=t.name;i.attack=t.attack;i.speed=t.speed;i.health=t.health;i.currentHp=t.health;i.brewCost=t.brewCost;i.description=t.description;i.isLegend=t.isLegend;return i}};__decorateClass([Ta.type("string")],Sa.prototype,"instanceId");__decorateClass([Ta.type("string")],Sa.prototype,"cardId");__decorateClass([Ta.type("string")],Sa.prototype,"name");__decorateClass([Ta.type("number")],Sa.prototype,"attack");__decorateClass([Ta.type("number")],Sa.prototype,"speed");__decorateClass([Ta.type("number")],Sa.prototype,"health");__decorateClass([Ta.type("number")],Sa.prototype,"currentHp");__decorateClass([Ta.type("number")],Sa.prototype,"brewCost");__decorateClass([Ta.type("string")],Sa.prototype,"description");__decorateClass([Ta.type("boolean")],Sa.prototype,"isLegend");let _a=Sa;class PlayerState extends Ta.Schema{constructor(){super(...arguments);this.sessionId="";this.username="Player";this.health=100;this.brews=5;this.shopRefreshCost=1;this.hand=new Ta.MapSchema;this.battlefield=new Ta.MapSchema;this.isReady=false;this.shopOfferIds=new Ta.ArraySchema}}__decorateClass([Ta.type("string")],PlayerState.prototype,"sessionId");__decorateClass([Ta.type("string")],PlayerState.prototype,"username");__decorateClass([Ta.type("number")],PlayerState.prototype,"health");__decorateClass([Ta.type("number")],PlayerState.prototype,"brews");__decorateClass([Ta.type("number")],PlayerState.prototype,"shopRefreshCost");__decorateClass([Ta.type({map:_a})],PlayerState.prototype,"hand");__decorateClass([Ta.type({map:_a})],PlayerState.prototype,"battlefield");__decorateClass([Ta.type("boolean")],PlayerState.prototype,"isReady");__decorateClass([Ta.type(["string"])],PlayerState.prototype,"shopOfferIds");class GameState extends Ta.Schema{constructor(){super(...arguments);this.players=new Ta.MapSchema;this.currentDay=0;this.currentPhase="Lobby";this.battleTimer=0}}__decorateClass([Ta.type({map:PlayerState})],GameState.prototype,"players");__decorateClass([Ta.type("number")],GameState.prototype,"currentDay");__decorateClass([Ta.type("string")],GameState.prototype,"currentPhase");__decorateClass([Ta.type("number")],GameState.prototype,"battleTimer");class Lobby extends r.Scene{constructor(){super("Lobby");__publicField(this,"playerTextObjects",new Map);__publicField(this,"statusText");__publicField(this,"readyButton");__publicField(this,"waitingText");__publicField(this,"phaseListenerUnsub",null);__publicField(this,"playerAddListenerUnsub",null);__publicField(this,"playerRemoveListenerUnsub",null);__publicField(this,"playerStateListeners",new Map);__publicField(this,"listenersAttached",false)}create(){this.scene.launch("background");this.listenersAttached=false;if(!na||!na.sessionId){console.error("Lobby Scene: Not connected to Colyseus room or no session ID!");this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Not connected to server.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center",backgroundColor:"#000000"}).setOrigin(.5);this.input.once("pointerdown",(()=>{try{na==null?void 0:na.leave()}catch(t){}this.scene.start("MainMenu")}));return}this.add.text(this.cameras.main.centerX,100,"Lobby",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5);this.add.text(this.cameras.main.centerX,200,"Players in Lobby:",{fontFamily:"Arial",fontSize:32,color:"#dddddd",align:"center"}).setOrigin(.5);this.statusText=this.add.text(this.cameras.main.centerX,this.cameras.main.height-100,"Connecting to lobby...",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5);this.readyButton=this.add.text(this.cameras.main.centerX,this.cameras.main.height-150,"Ready Up",{fontFamily:"Arial Black",fontSize:40,color:"#888888",backgroundColor:"#333333",padding:{x:20,y:10},stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setVisible(false).disableInteractive();this.waitingText=this.add.text(this.cameras.main.centerX,this.cameras.main.height-110,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(false);this.readyButton.on("pointerdown",(()=>{var t;if(na&&((t=this.readyButton.input)==null?void 0:t.enabled)){console.log("Lobby: Sending playerReady message.");na.send("playerReady")}}));this.readyButton.on("pointerover",(()=>{var t;if((t=this.readyButton.input)==null?void 0:t.enabled)this.readyButton.setColor("#55ff55")}));this.readyButton.on("pointerout",(()=>{var t;if((t=this.readyButton.input)==null?void 0:t.enabled)this.readyButton.setColor("#00ff00");else this.readyButton.setColor("#888888")}));this.setupColyseusListeners();this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}attachMainListenersAndUI(){if(this.listenersAttached){console.log("Lobby: Main listeners and UI setup already performed, skipping.");return}if(!this.scene.isActive()){console.warn("Lobby: attachMainListenersAndUI called but scene is not active. Aborting.");return}if(!na||!na.state){console.warn("Lobby: attachMainListenersAndUI called but Colyseus room or state is not ready. Aborting.");return}console.log("Lobby: Attaching main Colyseus listeners and performing initial UI update.");this.attachMainListeners();this.updateLobbyUI();this.listenersAttached=true}setupColyseusListeners(){if(!na){console.error("Lobby: setupColyseusListeners called but colyseusRoom is null.");return}console.log("Lobby: Setting up Colyseus general listeners.");if(na.state&&!this.listenersAttached){console.log("Lobby: State already available on setup. Scheduling attachMainListenersAndUI.");this.time.delayedCall(1,this.attachMainListenersAndUI,[],this)}na.onStateChange.once((t=>{console.log("Lobby: Initial state received via onStateChange.once.");if(!this.scene.isActive()){console.log("Lobby: Scene became inactive before onStateChange.once processing could complete.");return}this.attachMainListenersAndUI()}))}attachMainListeners(){if(!na||!na.state){console.error("Lobby: attachMainListeners - colyseusRoom or state is null.");return}const t=pr.getStateCallbacks(na);if(this.phaseListenerUnsub)this.phaseListenerUnsub();this.phaseListenerUnsub=t(na.state).listen("currentPhase",((t,e)=>{if(!this.scene.isActive())return;console.log(`Lobby: Phase changed from ${e} to: ${t}`);if(t===Ea.Shop){this.statusText.setText("Starting Game!");this.time.delayedCall(500,(()=>{if(this.scene.isActive()){this.scene.stop();this.scene.start("Shop")}}))}else if(t===Ea.Lobby){this.updateLobbyUI()}else if(t===Ea.GameOver){this.statusText.setText("Game Over. Returning to Main Menu.");this.time.delayedCall(1500,(()=>{if(this.scene.isActive()){try{na==null?void 0:na.leave()}catch(t){}this.scene.stop();this.scene.start("MainMenu")}}))}}));if(this.playerAddListenerUnsub)this.playerAddListenerUnsub();this.playerAddListenerUnsub=t(na.state.players).onAdd(((t,e)=>{if(!this.scene.isActive())return;console.log(`Lobby: Player joined: ${t.username} (${e})`);this.addPlayerStateListener(t,e);this.updateLobbyUI()}));if(this.playerRemoveListenerUnsub)this.playerRemoveListenerUnsub();this.playerRemoveListenerUnsub=t(na.state.players).onRemove(((t,e)=>{if(!this.scene.isActive())return;console.log(`Lobby: Player left: ${t.username} (${e})`);this.removePlayerStateListener(e);this.updateLobbyUI()}));na.state.players.forEach(((t,e)=>{this.addPlayerStateListener(t,e)}))}addPlayerStateListener(t,e){var i;if(!na)return;const r=pr.getStateCallbacks(na);(i=this.playerStateListeners.get(e))==null?void 0:i();console.log(`Lobby: Adding 'isReady' listener for player ${e}`);const s=r(t).listen("isReady",((t,i)=>{console.log(`Lobby: isReady changed for player ${e}: ${i} -> ${t}`);if(this.scene.isActive())this.updateLobbyUI()}));this.playerStateListeners.set(e,s)}removePlayerStateListener(t){const e=this.playerStateListeners.get(t);if(e){console.log(`Lobby: Removing 'isReady' listener for player ${t}`);e();this.playerStateListeners.delete(t)}}updateLobbyUI(){if(!this.scene.isActive()){console.warn("Lobby: updateLobbyUI called but scene is NOT ACTIVE. Aborting UI update.");return}if(!na){console.warn("Lobby: updateLobbyUI called but colyseusRoom is NULL. Aborting UI update.");if(this.statusText&&this.statusText.active){this.statusText.setText("Error: Connection lost.")}return}if(!na.state){console.warn("Lobby: updateLobbyUI called but colyseusRoom.state is NULL. Aborting UI update.");if(this.statusText&&this.statusText.active){this.statusText.setText("Error: Game state unavailable.")}return}if(oa.size===0){console.log("Lobby: Card data not loaded yet. Loading...");xa((async()=>{const{loadAllCardData:t}=await Promise.resolve().then((()=>la));return{loadAllCardData:t}}),true?void 0:void 0).then((({loadAllCardData:t})=>{t().then((t=>{if(t){console.log("Lobby: Card data loaded successfully")}else{console.warn("Lobby: Failed to load card data")}}))}))}const t=na.state.players;const e=na.sessionId;const i=t.size;const r=250;const s=40;this.playerTextObjects.forEach((t=>t.destroy()));this.playerTextObjects.clear();let n=0;let a=i>0;let o=false;const l=t.get(e);if(l){o=l.isReady}t.forEach(((t,i)=>{const o=i===e;const l=t.isReady?" [Ready]":" [Not Ready]";const h=`${t.username||"Joining..."}${o?" (You)":""}${l}`;const u=this.add.text(this.cameras.main.centerX,r+n*s,h,{fontFamily:"Arial",fontSize:24,color:t.isReady?"#00ff00":"#ffffff",align:"center"}).setOrigin(.5);this.playerTextObjects.set(i,u);n++;if(!t.isReady){a=false}}));if(i<2){this.statusText.setText("Waiting for opponent...");this.readyButton.setVisible(false).disableInteractive();this.waitingText.setVisible(false)}else{this.readyButton.setVisible(true);if(o){this.statusText.setText("Waiting for opponent to ready up...");this.readyButton.setText("Waiting...").setColor("#888888").disableInteractive();this.waitingText.setText(a?"Starting game...":"Waiting for opponent...").setVisible(true)}else{this.statusText.setText("Lobby full. Ready up!");this.readyButton.setText("Ready Up").setColor("#00ff00").setInteractive({useHandCursor:true});this.waitingText.setVisible(false)}if(a){this.statusText.setText("Starting game...");this.readyButton.setVisible(false);this.waitingText.setVisible(false)}}}shutdown(){var t,e,i,r,s,n,a,o,l;console.log("Lobby scene shutting down.");this.listenersAttached=false;(t=this.phaseListenerUnsub)==null?void 0:t.call(this);(e=this.playerAddListenerUnsub)==null?void 0:e.call(this);(i=this.playerRemoveListenerUnsub)==null?void 0:i.call(this);this.playerStateListeners.forEach((t=>t()));this.playerStateListeners.clear();this.phaseListenerUnsub=null;this.playerAddListenerUnsub=null;this.playerRemoveListenerUnsub=null;this.playerTextObjects.forEach((t=>t.destroy()));this.playerTextObjects.clear();(r=this.statusText)==null?void 0:r.destroy();(s=this.readyButton)==null?void 0:s.destroy();(n=this.waitingText)==null?void 0:n.destroy();(a=this.readyButton)==null?void 0:a.off("pointerdown");(o=this.readyButton)==null?void 0:o.off("pointerover");(l=this.readyButton)==null?void 0:l.off("pointerout");this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}const Aa=120;const Ca=168;class Shop extends r.Scene{constructor(){super("Shop");__publicField(this,"continueButton");__publicField(this,"shopCardObjects",[]);__publicField(this,"waitingText");__publicField(this,"refreshButton");__publicField(this,"cardDataCache",new Map);__publicField(this,"shopOffersContainer");__publicField(this,"shopOffersBackground");__publicField(this,"toggleShopButton");__publicField(this,"shopOffersVisible",true);__publicField(this,"phaseListenerUnsub",null);__publicField(this,"playerStateListenersUnsub",new Map);__publicField(this,"shopOfferListenersUnsub",[]);__publicField(this,"listeners",[])}create(){var t;this.scene.launch("background");if(!((t=this.scene.get("BoardView"))==null?void 0:t.scene.isActive())){this.scene.launch("BoardView")}this.scene.bringToTop();if(!na||!na.state||!na.sessionId){console.error("Shop Scene: Colyseus room not available!");this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{fontFamily:"Arial",fontSize:"24px",color:"#ff0000",align:"center"}).setOrigin(.5);this.input.once("pointerdown",(()=>{try{na==null?void 0:na.leave(true)}catch(t){}this.scene.start("MainMenu")}));return}const e=this.cameras.main.centerX;const i=this.cameras.main.centerY;const r=this.cameras.main.width;const s=this.cameras.main.height;this.createShopCardsDisplay(e,i,r);this.setupDragAndDrop();this.requestMissingCardData();const n=na.state.players.get(na.sessionId);const a=(n==null?void 0:n.shopRefreshCost)||2;this.refreshButton=this.add.text(r-150,180,`Refresh: ${a} `,{fontFamily:"Arial",fontSize:18,color:"#FFFFFF",backgroundColor:"#4444AA",padding:{x:10,y:5}}).setOrigin(1,.5).setInteractive({useHandCursor:true});this.refreshButton.on("pointerdown",(()=>{const t=na==null?void 0:na.state.players.get(na.sessionId);if(na&&t&&t.brews>=t.shopRefreshCost){na.send("refreshShop")}}));this.refreshButton.on("pointerover",(()=>{var t;if((t=this.refreshButton.input)==null?void 0:t.enabled){this.refreshButton.setBackgroundColor("#6666CC")}}));this.refreshButton.on("pointerout",(()=>{var t;if((t=this.refreshButton.input)==null?void 0:t.enabled){this.refreshButton.setBackgroundColor("#4444AA")}}));this.updateRefreshButtonState();this.continueButton=this.add.text(e,s-50,"Continue",{fontFamily:"Arial Black",fontSize:40,color:"#00ff00",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setInteractive({useHandCursor:true});this.continueButton.on("pointerdown",(()=>{const t=na==null?void 0:na.state.players.get(na.sessionId);if(na&&t&&!t.isReady&&na.state.currentPhase===Ea.Shop){na.send("playerReady")}}));this.continueButton.on("pointerover",(()=>{var t;if((t=this.continueButton.input)==null?void 0:t.enabled)this.continueButton.setColor("#55ff55")}));this.continueButton.on("pointerout",(()=>{var t;if((t=this.continueButton.input)==null?void 0:t.enabled)this.continueButton.setColor("#00ff00");else this.continueButton.setColor("#888888")}));this.waitingText=this.add.text(e,s-20,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(false);this.setupColyseusListeners();this.updateWaitingStatus();this.time.delayedCall(50,(()=>this.createShopCardsDisplay(e,i,r)));this.toggleShopButton=this.add.text(r-100,i-250,"Toggle Shop",{fontFamily:"Arial",fontSize:16,color:"#FFFFFF",backgroundColor:"#555555",padding:{x:5,y:5}}).setOrigin(1,.5).setInteractive({useHandCursor:true});this.toggleShopButton.on("pointerdown",(()=>{this.shopOffersVisible=!this.shopOffersVisible;this.shopOffersContainer.setVisible(this.shopOffersVisible);this.toggleShopButton.setText(this.shopOffersVisible?"Hide Shop":"Show Shop")}));this.toggleShopButton.setText(this.shopOffersVisible?"Hide Shop":"Show Shop");this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}createShopCardsDisplay(t,e,i){var r;(r=this.shopOffersContainer)==null?void 0:r.destroy();this.shopOffersContainer=this.add.container(0,0);this.shopOffersContainer.setVisible(this.shopOffersVisible);this.shopCardObjects.forEach((t=>t.destroy()));this.shopCardObjects=[];const s=na==null?void 0:na.state.players.get(na.sessionId);const n=s==null?void 0:s.shopOfferIds;if(!n||n.length===0){console.log("Shop: No shop offers from server.");if(this.shopOffersBackground&&this.shopOffersBackground.active)this.shopOffersBackground.setVisible(false);return}const a=20;const o=n.length>0?n.length:4;const l=e;const h=o*Aa+(o-1)*a;const u=t-h/2+Aa/2;const c=h+a*2;const f=Ca+a*2;if(this.shopOffersBackground&&this.shopOffersBackground.active){this.shopOffersBackground.destroy()}this.shopOffersBackground=this.add.rectangle(t,l,c,f,51,.6);this.shopOffersContainer.add(this.shopOffersBackground);n.forEach(((t,e)=>{const i=this.getCardDataFromServer(t);if(!i){console.warn(`Shop: Card data not found for ID: ${t}`);return}const r=u+e*(Aa+a);const s=this.add.container(r,l);const n=this.add.image(0,0,"cardFullTier1").setOrigin(.5).setDisplaySize(Aa,Ca);s.add(n);const o=this.add.text(0,-20,i.name,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:Aa-20}}).setOrigin(.5,.5);s.add(o);const h=this.add.text(-120/2+32,Ca*.03,`${i.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(0,.5);s.add(h);const c=this.add.text(Aa/2-18,6,`${i.health}/${i.health}`,{fontFamily:"Arial",fontSize:16,color:"#00ff00",stroke:"#000000",strokeThickness:3}).setOrigin(1,.5);s.add(c);const f=this.add.text(0,Ca/2-50,`${i.speed}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5,1);s.add(f);const d=this.add.text(Aa/2-8,-168/2+8,`${i.brewCost}B`,{fontFamily:"Arial",fontSize:14,color:"#ffff00",stroke:"#000000",strokeThickness:3,align:"right"}).setOrigin(1,0);s.add(d);s.setSize(Aa,Ca);s.setSize(Aa,Ca);s.setInteractive({useHandCursor:true});s.setData("cardId",i.id);s.setData("cardData",i);this.input.setDraggable(s);s.off("pointerdown").on("pointerdown",(t=>{var e;if(!((e=s.input)==null?void 0:e.enabled))return;s.setData("isBeingDragged",false)}));s.off("pointerup").on("pointerup",(t=>{var e;if(!((e=s.input)==null?void 0:e.enabled))return;if(!na||!na.sessionId)return;if(s.getData("isBeingDragged")===true){s.setData("isBeingDragged",false);return}const i=na.state.players.get(na.sessionId);if(!i)return;let r=-1;for(let s=0;s<5;s++){if(!i.hand.has(String(s))){r=s;break}}if(r!==-1){const t=s.getData("cardId");const e=s.getData("cardData");if(t&&e&&i.brews>=e.brewCost){console.log(`Shop: Click-to-buy card ${t} (Cost: ${e.brewCost}) into hand slot ${r}. Brews: ${i.brews}`);na.send("buyCard",{cardId:t,handSlotIndex:r})}else{if(e&&i.brews<e.brewCost){console.log(`Shop: Not enough brews (${i.brews}) to click-buy card ${t} (Cost: ${e.brewCost}).`)}else{console.log(`Shop: Click-to-buy failed for card ${t}. CardData: ${!!e}`)}}}else{console.log("Shop: Hand is full, cannot click-buy.")}}));this.shopCardObjects.push(s);this.shopOffersContainer.add(s)}))}requestMissingCardData(){if(!na||!na.state||!na.sessionId)return;const t=na.state.players.get(na.sessionId);if(!t)return;const e=t.shopOfferIds;if(e&&e.length>0){const t=[];e.forEach((e=>{if(!oa.has(e)){t.push(e)}}));if(t.length>0){console.log("Requesting missing cards from server:",t);na.send("getCardsByIds",{cardIds:t})}}}getCardDataFromServer(t){if(oa.has(t)){return oa.get(t)}if(!na||!na.state)return void 0;let e=void 0;na.state.players.forEach((i=>{i.hand.forEach((i=>{if(i.cardId===t){e={id:i.cardId,name:i.name,attack:i.attack,speed:i.speed,health:i.health,brewCost:i.brewCost,description:i.description,isLegend:i.isLegend}}}));i.battlefield.forEach((i=>{if(i.cardId===t){e={id:i.cardId,name:i.name,attack:i.attack,speed:i.speed,health:i.health,brewCost:i.brewCost,description:i.description,isLegend:i.isLegend}}}))}));if(!e){e={id:t,name:`Card ${t.split("_").pop()}`,attack:1,speed:1,health:1,brewCost:1,description:"Loading card details...",isLegend:false};console.warn(`Shop: Card data not found for ID: ${t} in global cache or state`)}return e}setupDragAndDrop(){this.input.off("dragstart");this.input.off("drag");this.input.off("dragend");this.input.off("pointerdown");this.input.off("pointerup");this.shopCardObjects.forEach((t=>{t.off("pointerdown");t.off("pointerup")}));this.input.on("dragstart",((t,e)=>{var i;if(!(e instanceof Phaser.GameObjects.Container)||!this.shopCardObjects.includes(e))return;if(!((i=e.input)==null?void 0:i.enabled))return;this.children.bringToTop(e);e.setAlpha(.7);e.setData("startX",e.x);e.setData("startY",e.y);e.setData("isBeingDragged",true)}));this.input.on("drag",((t,e,i,r)=>{var s;if(!(e instanceof Phaser.GameObjects.Container)||!this.shopCardObjects.includes(e))return;if(!((s=e.input)==null?void 0:s.enabled))return;if(e.getData("isBeingDragged")===true){e.x=i;e.y=r}}));this.input.on("dragend",((t,e)=>{if(!na||!(e instanceof Phaser.GameObjects.Container)||!this.shopCardObjects.includes(e)){if(e instanceof Phaser.GameObjects.Container){e.setData("isBeingDragged",false)}return}e.setAlpha(1);let i=false;if(e.getData("isBeingDragged")===true){const t=e.x;const r=e.y;const s=this.scene.get("BoardView");for(let n=0;n<5;n++){const a=s==null?void 0:s.getSlotPixelPosition(true,"hand",n);if(a){const s=new Phaser.Geom.Rectangle(a.x-50,a.y-70,100,140);if(Phaser.Geom.Rectangle.Contains(s,t,r)){const t=na.state.players.get(na.sessionId);if(t&&!t.hand.has(String(n))){const r=e.getData("cardId");const s=e.getData("cardData");if(r&&s&&t.brews>=s.brewCost){na.send("buyCard",{cardId:r,handSlotIndex:n});i=true}else{console.log("Shop: Drag-to-buy failed (not enough brews or card data missing).")}}break}}}if(!i){if(e.active){e.x=e.getData("startX");e.y=e.getData("startY")}}}e.setData("isBeingDragged",false)}))}updateRefreshButtonState(){if(!na||!this.refreshButton||!this.refreshButton.active)return;const t=na.state.players.get(na.sessionId);if(!t)return;this.refreshButton.setText(`Refresh: ${t.shopRefreshCost} `);const e=t.brews>=t.shopRefreshCost&&na.state.currentPhase===Ea.Shop;if(e){this.refreshButton.setColor("#FFFFFF");this.refreshButton.setBackgroundColor("#4444AA");this.refreshButton.setInteractive({useHandCursor:true})}else{this.refreshButton.setColor("#AAAAAA");this.refreshButton.setBackgroundColor("#555555");this.refreshButton.disableInteractive()}}setupColyseusListeners(){if(!na||!na.sessionId)return;const t=pr.getStateCallbacks(na);const e=na.sessionId;this.phaseListenerUnsub=t(na.state).listen("currentPhase",(t=>{if(!this.scene.isActive())return;if(t===Ea.Preparation){if(this.scene.isActive()){this.scene.stop();this.scene.start("Preparation")}}else if(t!==Ea.Shop){if(this.scene.isActive()){this.scene.stop();this.scene.start("Lobby")}}this.updateWaitingStatus()}));na.state.players.forEach(((e,i)=>{const r=t(e).listen("isReady",(()=>{if(this.scene.isActive())this.updateWaitingStatus()}));this.playerStateListenersUnsub.set(i,r)}));this.listeners.push(t(na.state.players).onAdd(((e,i)=>{var r;if(this.playerStateListenersUnsub.has(i)){(r=this.playerStateListenersUnsub.get(i))==null?void 0:r()}const s=t(e).listen("isReady",(()=>{if(this.scene.isActive())this.updateWaitingStatus()}));this.playerStateListenersUnsub.set(i,s);if(this.scene.isActive())this.updateWaitingStatus()})));this.listeners.push(t(na.state.players).onRemove(((t,e)=>{var i;(i=this.playerStateListenersUnsub.get(e))==null?void 0:i();this.playerStateListenersUnsub.delete(e);if(this.scene.isActive())this.updateWaitingStatus()})));this.listeners.push(na.onMessage("cardsByIds",(t=>{if(this.scene.isActive()){Object.entries(t).forEach((([t,e])=>{oa.set(t,e)}));const e=this.cameras.main.centerX;const i=this.cameras.main.centerY;const r=this.cameras.main.width;this.createShopCardsDisplay(e,i,r)}})));const i=na.state.players.get(e);if(i){const onShopOffersChanged=()=>{if(!this.scene.isActive())return;this.requestMissingCardData();const t=this.cameras.main.centerX;const e=this.cameras.main.centerY;const i=this.cameras.main.width;this.createShopCardsDisplay(t,e,i)};this.shopOfferListenersUnsub.push(t(i.shopOfferIds).onAdd(onShopOffersChanged));this.shopOfferListenersUnsub.push(t(i.shopOfferIds).onRemove(onShopOffersChanged));onShopOffersChanged();this.listeners.push(t(i).listen("brews",(()=>{if(this.scene.isActive())this.updateRefreshButtonState()})));this.listeners.push(t(i).listen("shopRefreshCost",(()=>{if(this.scene.isActive())this.updateRefreshButtonState()})))}}cleanupListeners(){var t,e,i,r;console.log("Shop Scene: Cleaning up listeners.");(t=this.phaseListenerUnsub)==null?void 0:t.call(this);this.phaseListenerUnsub=null;this.playerStateListenersUnsub.forEach((t=>t()));this.playerStateListenersUnsub.clear();this.shopOfferListenersUnsub.forEach((t=>t()));this.shopOfferListenersUnsub=[];this.listeners.forEach((t=>t()));this.listeners=[];this.input.off("dragstart");this.input.off("drag");this.input.off("dragend");(e=this.continueButton)==null?void 0:e.off("pointerdown");(i=this.continueButton)==null?void 0:i.off("pointerover");(r=this.continueButton)==null?void 0:r.off("pointerout")}updateWaitingStatus(){if(!na||!na.sessionId||!this.continueButton||!this.waitingText||!this.scene.isActive())return;const t=na.state.players.get(na.sessionId);if(!t)return;let e=true;na.state.players.forEach((t=>{if(!t.isReady)e=false}));const i=t.isReady;const r=na.state.currentPhase===Ea.Shop;const s=!i&&r;this.continueButton.setInteractive(s);this.continueButton.setColor(s?"#00ff00":"#888888");if(i&&!e&&r){this.waitingText.setText("Waiting for other player(s)...").setVisible(true);this.continueButton.setText("Waiting...")}else if(!r){this.waitingText.setText(`Waiting for ${na.state.currentPhase} phase...`).setVisible(true);this.continueButton.setText("Continue")}else{this.waitingText.setVisible(false);this.continueButton.setText("Continue")}this.shopCardObjects.forEach((t=>{if(t.input)t.input.enabled=s}))}shutdown(){var t,e,i,r,s,n,a,o;console.log("Shop scene shutting down.");this.cleanupListeners();this.shopCardObjects.forEach((t=>t.destroy()));this.shopCardObjects=[];(t=this.continueButton)==null?void 0:t.destroy();(e=this.waitingText)==null?void 0:e.destroy();(i=this.refreshButton)==null?void 0:i.off("pointerdown");(r=this.refreshButton)==null?void 0:r.off("pointerover");(s=this.refreshButton)==null?void 0:s.off("pointerout");(n=this.refreshButton)==null?void 0:n.destroy();(a=this.toggleShopButton)==null?void 0:a.destroy();(o=this.shopOffersContainer)==null?void 0:o.destroy();this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class Preparation extends r.Scene{constructor(){super("Preparation");__publicField(this,"startBattleButton");__publicField(this,"waitingText");__publicField(this,"playerStateListener",null);__publicField(this,"handListener",null);__publicField(this,"battlefieldListener",null);__publicField(this,"phaseListener",null);__publicField(this,"playerStateListenerUnsub",null);__publicField(this,"handAddUnsub",null);__publicField(this,"handRemoveUnsub",null);__publicField(this,"handChangeUnsub",null);__publicField(this,"battlefieldAddUnsub",null);__publicField(this,"battlefieldRemoveUnsub",null);__publicField(this,"battlefieldChangeUnsub",null);__publicField(this,"phaseListenerUnsub",null);__publicField(this,"otherPlayerChangeListeners",new Map);__publicField(this,"otherPlayerAddUnsub",null);__publicField(this,"otherPlayerRemoveUnsub",null);__publicField(this,"clientSideCardLayout",new Map)}create(){var t;this.scene.launch("background");if(!((t=this.scene.get("BoardView"))==null?void 0:t.scene.isActive())){this.scene.launch("BoardView")}this.scene.bringToTop();if(!na||!na.state||!na.sessionId){console.error("Preparation Scene: Colyseus room not available!");this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center"}).setOrigin(.5);this.input.once("pointerdown",(()=>this.scene.start("MainMenu")));return}const e=this.cameras.main.centerX;this.cameras.main.centerY;const i=this.cameras.main.height;this.cameras.main.width;const r=na.state.players.get(na.sessionId);if(r){console.log("Preparation Create: Initial myPlayerState.hand contents:",JSON.stringify(Object.fromEntries(r.hand.entries())))}else{console.log("Preparation Create: myPlayerState not found initially.")}this.add.text(e,80,"Preparation Phase",{fontFamily:"Arial Black",fontSize:48,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5);this.startBattleButton=this.add.text(e,i-50,"Start Battle",{fontFamily:"Arial Black",fontSize:40,color:"#888888",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5);this.startBattleButton.setColor("#888888").disableInteractive();this.waitingText=this.add.text(e,i-20,"",{fontFamily:"Arial",fontSize:18,color:"#ffff00",align:"center"}).setOrigin(.5).setVisible(false);this.setupColyseusListeners();this.updateWaitingStatus();this.time.delayedCall(100,this.updateStartButtonState,[],this);this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}setupColyseusListeners(){if(!na||!na.sessionId)return;const t=na.sessionId;const e=pr.getStateCallbacks(na);const i=na.state.players.get(t);if(i){this.playerStateListenerUnsub=e(i).onChange((()=>{if(!this.scene.isActive())return;this.updateWaitingStatus()}));this.handAddUnsub=e(i.hand).onAdd(((t,e)=>{console.log(`Preparation Scene: player.hand.onAdd triggered for key: ${e}, card: ${t==null?void 0:t.name}. Scene active: ${this.scene.isActive()}`);if(this.scene.isActive()){this.updateStartButtonState()}}));this.handRemoveUnsub=e(i.hand).onRemove(((t,e)=>{if(this.scene.isActive())this.updateStartButtonState()}));this.battlefieldAddUnsub=e(i.battlefield).onAdd(((t,e)=>{if(this.scene.isActive())this.updateStartButtonState()}));this.battlefieldRemoveUnsub=e(i.battlefield).onRemove(((t,e)=>{if(this.scene.isActive())this.updateStartButtonState()}))}else{console.error("Preparation Scene: My player state not found on init.")}this.phaseListenerUnsub=e(na.state).listen("currentPhase",(t=>{if(!this.scene.isActive())return;console.log(`Preparation Scene: Phase changed to ${t}`);if(t===Ea.Battle){if(this.scene.isActive()){this.scene.stop();this.scene.start("Battle")}}else if(t!==Ea.Preparation){console.warn(`Preparation Scene: Unexpected phase change to ${t}. Returning to Lobby.`);if(this.scene.isActive()){this.scene.stop();this.scene.start("Lobby")}}this.updateWaitingStatus()}));this.otherPlayerAddUnsub=e(na.state.players).onAdd(((i,r)=>{if(this.scene.isActive()){if(r!==t){const t=e(i).listen("isReady",(()=>{if(this.scene.isActive())this.updateWaitingStatus()}));this.otherPlayerChangeListeners.set(r,t)}this.updateWaitingStatus()}}));this.otherPlayerRemoveUnsub=e(na.state.players).onRemove(((t,e)=>{if(this.scene.isActive()){const t=this.otherPlayerChangeListeners.get(e);t==null?void 0:t();this.otherPlayerChangeListeners.delete(e);this.updateWaitingStatus()}}));na.state.players.forEach(((i,r)=>{if(r!==t){const t=e(i).listen("isReady",(()=>{if(this.scene.isActive())this.updateWaitingStatus()}));this.otherPlayerChangeListeners.set(r,t)}}))}cleanupListeners(){var t,e,i,r,s,n,a,o,l,h,u,c,f;console.log("Preparation Scene: Cleaning up listeners.");(t=this.playerStateListenerUnsub)==null?void 0:t.call(this);(e=this.handAddUnsub)==null?void 0:e.call(this);(i=this.handRemoveUnsub)==null?void 0:i.call(this);(r=this.handChangeUnsub)==null?void 0:r.call(this);(s=this.battlefieldAddUnsub)==null?void 0:s.call(this);(n=this.battlefieldRemoveUnsub)==null?void 0:n.call(this);(a=this.battlefieldChangeUnsub)==null?void 0:a.call(this);(o=this.phaseListenerUnsub)==null?void 0:o.call(this);(l=this.otherPlayerAddUnsub)==null?void 0:l.call(this);(h=this.otherPlayerRemoveUnsub)==null?void 0:h.call(this);this.otherPlayerChangeListeners.forEach((t=>t()));this.playerStateListenerUnsub=null;this.handAddUnsub=null;this.handRemoveUnsub=null;this.handChangeUnsub=null;this.battlefieldAddUnsub=null;this.battlefieldRemoveUnsub=null;this.battlefieldChangeUnsub=null;this.phaseListenerUnsub=null;this.otherPlayerAddUnsub=null;this.otherPlayerRemoveUnsub=null;this.otherPlayerChangeListeners.clear();this.input.off("dragstart");this.input.off("drag");this.input.off("dragend");(u=this.startBattleButton)==null?void 0:u.off("pointerdown");(c=this.startBattleButton)==null?void 0:c.off("pointerover");(f=this.startBattleButton)==null?void 0:f.off("pointerout")}makeLocalPlayerCardsDraggable(){if(!na||!na.sessionId||!this.scene.isActive()){console.warn("Preparation: Cannot make cards draggable, room/session/scene inactive.");return}const t=na.sessionId;const e=na.state.players.get(t);const i=this.scene.get("BoardView");if(!e||!i){console.warn("Preparation: Player state or BoardView not found for making cards draggable.");return}this.clientSideCardLayout.forEach((t=>{if(t.gameObject&&t.gameObject.input){this.input.disable(t.gameObject)}}));this.clientSideCardLayout.clear();const processCards=(t,e)=>{t.forEach(((t,r)=>{const s=i.getCardGameObjectByInstanceId(t.instanceId);if(s){s.setInteractive({useHandCursor:true});this.input.setDraggable(s);this.clientSideCardLayout.set(t.instanceId,{area:e,slotKey:r,gameObject:s})}else{console.warn(`Preparation: Could not find GameObject in BoardView for card instance ${t.instanceId}`)}}))};processCards(e.hand,"hand");processCards(e.battlefield,"battlefield");console.log("Preparation: Made local player cards draggable and initialized clientSideCardLayout.",this.clientSideCardLayout);this.updateStartButtonState()}updateWaitingStatus(){if(!na||!na.sessionId||!this.startBattleButton||!this.waitingText)return;const t=na.state.players.get(na.sessionId);if(!t)return;let e=true;na.state.players.forEach((t=>{if(!t.isReady)e=false}));const i=t.isReady;!i&&na.state.currentPhase===Ea.Preparation;this.updateStartButtonState();if(i&&!e){this.waitingText.setText("Waiting for other player(s)...").setVisible(true);this.startBattleButton.setText("Waiting...");this.startBattleButton.disableInteractive().setColor("#888888")}else{this.waitingText.setVisible(false);this.startBattleButton.setText("Start Battle");this.updateStartButtonState()}}updateStartButtonState(){if(!this.startBattleButton||!this.startBattleButton.active){console.warn("updateStartButtonState called but button is null or inactive.");return}let t=0;const e=this.scene.get("BoardView");if(e&&e.scene.isActive()){const i=e.getLocalPlayerLayoutData();i.forEach((e=>{if(e.area==="battlefield"){t++}}))}const i=t>0;const r=na==null?void 0:na.state.players.get(na==null?void 0:na.sessionId);const s=(r==null?void 0:r.isReady)??false;const n=(na==null?void 0:na.state.currentPhase)===Ea.Preparation;const a=i&&!s&&n;if(a){this.startBattleButton.setColor("#00ff00");this.startBattleButton.setInteractive({useHandCursor:true});this.startBattleButton.off("pointerdown");this.startBattleButton.once("pointerdown",this.confirmPreparation,this);this.startBattleButton.on("pointerover",(()=>this.startBattleButton.setColor("#55ff55")));this.startBattleButton.on("pointerout",(()=>this.startBattleButton.setColor("#00ff00")))}else{if(this.waitingText&&!this.waitingText.visible){this.startBattleButton.setColor("#888888")}this.startBattleButton.disableInteractive();this.startBattleButton.off("pointerdown");this.startBattleButton.off("pointerover");this.startBattleButton.off("pointerout")}}confirmPreparation(){if(!na)return;console.log("Confirming preparation layout...");const t=this.scene.get("BoardView");if(!t||!t.scene.isActive()){console.error("Preparation: BoardView not available to get layout data.");return}const{handLayout:e,battlefieldLayout:i}=t.getCardLayouts();console.log("Sending preparation layout to server:",{handLayout:e,battlefieldLayout:i});na.send("setPreparation",{handLayout:e,battlefieldLayout:i});this.updateWaitingStatus()}shutdown(){var t,e;console.log("Preparation scene shutting down explicitly.");this.cleanupListeners();(t=this.startBattleButton)==null?void 0:t.destroy();(e=this.waitingText)==null?void 0:e.destroy();this.clientSideCardLayout.clear();this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}class Battle extends r.Scene{constructor(){super("Battle");__publicField(this,"handCardDisplayObjects",new Map);__publicField(this,"battleOver",false);__publicField(this,"resultText");__publicField(this,"statusText");__publicField(this,"phaseListenerUnsubscribe",null)}create(){this.scene.launch("background");this.battleOver=false;if(!na||!na.state||!na.sessionId){console.error("Battle Scene: Colyseus room not available!");this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Error: Connection lost.\nPlease return to Main Menu.",{color:"#ff0000",fontSize:"24px",align:"center",backgroundColor:"#000000"}).setOrigin(.5);this.input.once("pointerdown",(()=>{try{na==null?void 0:na.leave()}catch(t){}this.scene.start("MainMenu")}));return}const t=this.cameras.main.centerX;const e=this.cameras.main.centerY;const i=this.cameras.main.height;this.cameras.main.width;this.resultText=this.add.text(t,e,"",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5).setAlpha(0);this.statusText=this.add.text(t,i-50,"",{fontFamily:"Arial",fontSize:24,color:"#ffff00",align:"center"}).setOrigin(.5).setAlpha(0);this.setupColyseusListeners();this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}setupColyseusListeners(){if(!na||!na.state)return;const t=pr.getStateCallbacks(na);this.phaseListenerUnsubscribe=t(na.state).listen("currentPhase",(t=>{if(!this.scene.isActive())return;console.log(`Battle Scene: Phase changed to ${t}`);if(t===Ea.BattleEnd){this.handleBattleEnd()}else if(t===Ea.Shop){if(this.scene.isActive()){this.scene.stop();this.scene.start("Shop")}}else if(t===Ea.GameOver){this.handleGameOver()}else if(t!==Ea.Battle){console.warn(`Battle Scene: Unexpected phase change to ${t}. Returning to Lobby.`);if(this.scene.isActive()){try{na==null?void 0:na.leave()}catch(e){}this.scene.stop();this.scene.start("Lobby")}}}))}cleanupListeners(){var t;console.log("Battle Scene: Cleaning up listeners.");(t=this.phaseListenerUnsubscribe)==null?void 0:t.call(this);this.phaseListenerUnsubscribe=null}handleBattleEnd(){var t,e;if(this.battleOver||!this.scene.isActive())return;this.battleOver=true;console.log("Battle ended (server signal received). Displaying results.");const i=na==null?void 0:na.state.players.get(na.sessionId);let r;na==null?void 0:na.state.players.forEach(((t,e)=>{if(e!==(na==null?void 0:na.sessionId))r=t}));let s="Battle Ended";let n="#ffffff";if(i&&r){if(i.health>r.health){s="Victory!";n="#88ff88"}else if(r.health>i.health){s="Defeat!";n="#ff8888"}else{s="Draw!";n="#ffff88"}}else{s="Battle Ended (Opponent Left?)";n="#ffffff"}if((t=this.resultText)==null?void 0:t.active){this.resultText.setText(s).setColor(n).setAlpha(1)}if((e=this.statusText)==null?void 0:e.active){this.statusText.setText("Waiting for next round...").setAlpha(1)}}handleGameOver(){var t,e;if(this.battleOver||!this.scene.isActive())return;this.battleOver=true;console.log("Game Over signal received.");const i=na==null?void 0:na.state.players.get(na.sessionId);let r;na==null?void 0:na.state.players.forEach(((t,e)=>{if(e!==(na==null?void 0:na.sessionId))r=t}));let s="Game Over!";let n="#ffffff";if(i&&r){if(i.health>r.health){s="You Win!";n="#00ff00"}else if(r.health>i.health){s="You Lose!";n="#ff0000"}else{s="Draw!";n="#ffff00"}}else if(i){s="You Win! (Opponent Left)";n="#00ff00"}else{s="Game Over (Error?)";n="#ff0000"}if((t=this.resultText)==null?void 0:t.active){this.resultText.setText(s).setColor(n).setAlpha(1)}if((e=this.statusText)==null?void 0:e.active){this.statusText.setText("Click to return to Main Menu").setAlpha(1)}this.input.once("pointerdown",(()=>{try{na==null?void 0:na.leave()}catch(t){}this.scene.stop("Background");this.scene.start("MainMenu")}))}shutdown(){var t,e;console.log("Battle scene shutting down explicitly.");this.cleanupListeners();this.handCardDisplayObjects.forEach((t=>{t==null?void 0:t.forEach((t=>t==null?void 0:t.destroy()))}));this.handCardDisplayObjects.clear();(t=this.resultText)==null?void 0:t.destroy();(e=this.statusText)==null?void 0:e.destroy();this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}const Oa=100;const Pa=140;const Ia=120;const Ra=168;const Ma=15;const La=580;const Da=420;const ka=100;const Fa=260;class BoardView extends r.Scene{constructor(){super("BoardView");__publicField(this,"playerVisuals",new Map);__publicField(this,"currentPhase",Ea.Lobby);__publicField(this,"sellZone");__publicField(this,"sellZoneRect");__publicField(this,"sellZoneText");__publicField(this,"brewGainText");__publicField(this,"playerHealthText");__publicField(this,"opponentHealthText");__publicField(this,"playerBrewsText");__publicField(this,"dayPhaseText");__publicField(this,"opponentUsernameText");__publicField(this,"listeners",[]);__publicField(this,"cardSchemaListeners",new Map)}updateCardHpVisuals(t,e,i){if(!t||!t.active)return;const r=t.getData("hpTextObject");const s=t.getData("mainCardImage");if(r&&r.active){r.setText(`${e}/${i}`);const t=i>0?e/i:0;if(e<=0){r.setColor("#ff0000")}else if(t<.3){r.setColor("#ff8888")}else if(t<.6){r.setColor("#ffff88")}else{r.setColor("#88ff88")}}const n=t.alpha<1;if(e<=0){if(!n){t.setAlpha(.6);if(s&&s.active&&typeof s.setTint==="function"){s.setTint(7829367)}}}else{if(n){t.setAlpha(1);if(s&&s.active&&typeof s.clearTint==="function"){s.clearTint()}else if(s&&s.active){console.warn("BoardView: updateCardHpVisuals - clearTint method not found on mainCardImage for card.",t.getData("instanceId"),s)}}}}preload(){if(!this.textures.exists("cardBack")){const t=this.make.graphics({x:0,y:0});t.fillStyle(5253758);t.fillRect(0,0,Ia,Ra);t.lineStyle(2,12428501);t.strokeRect(0,0,Ia,Ra);t.generateTexture("cardBack",Ia,Ra);t.destroy()}}create(){console.log("BoardView creating...");this.createNavbar();this.createSellZone();this.setupColyseusListeners();this.events.on(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}createNavbar(){const t=this.cameras.main.centerX;const e=this.cameras.main.width;const i=30;const r=50;this.add.rectangle(t,i,e,r,0,.7).setDepth(1e3);const s={fontFamily:"Arial",fontSize:16,color:"#ffffff",align:"left"};this.playerHealthText=this.add.text(e*.05,i,`You: -- HP`,{...s,color:"#00ff00"}).setOrigin(0,.5).setDepth(1001);this.playerBrewsText=this.add.text(e*.95,i,`Brews: --`,{...s,color:"#ffff00",align:"right"}).setOrigin(1,.5).setDepth(1001);this.opponentUsernameText=this.add.text(e*.25,i-10,`Opponent: --`,{...s,fontSize:14}).setOrigin(0,.5).setDepth(1001);this.opponentHealthText=this.add.text(e*.25,i+10,`-- HP`,{...s,color:"#ff0000"}).setOrigin(0,.5).setDepth(1001);this.dayPhaseText=this.add.text(t,i,`Day -- - Phase --`,{...s,fontSize:20,align:"center"}).setOrigin(.5).setDepth(1001)}showAttackAnimation(t){const e=this.getCardGameObjectByInstanceId(t);if(e&&e.active){const t=e.scaleX;const i=e.scaleY;this.tweens.add({targets:e,scaleX:t*1.15,scaleY:i*1.15,duration:100,yoyo:true,ease:"Sine.easeInOut"})}}showDamageNumber(t,e){const i=this.getCardGameObjectByInstanceId(t);if(i&&i.active&&e>0){const t=this.add.text(i.x+Phaser.Math.Between(-10,10),i.y-Ra/2-10,`-${e}`,{fontFamily:"Arial Black",fontSize:24,color:"#ff0000",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setDepth(i.depth+1);this.tweens.add({targets:t,y:t.y-50,alpha:0,duration:1e3,ease:"Power1",onComplete:()=>{t.destroy()}})}}drawAttackLine(t,e){const i=this.getCardGameObjectByInstanceId(t);const r=this.getCardGameObjectByInstanceId(e);if(i&&i.active&&r&&r.active){const t=this.add.line(0,0,i.x,i.y,r.x,r.y,16724787,.7).setOrigin(0,0).setLineWidth(2).setDepth(i.depth);this.time.delayedCall(250,(()=>{t.destroy()}))}}setupColyseusListeners(){if(!na||!na.state){console.error("BoardView: Colyseus room or state not available!");this.time.delayedCall(100,this.setupColyseusListeners,[],this);return}const t=pr.getStateCallbacks(na);this.listeners.push(t(na.state).listen("currentDay",(()=>this.updateNavbarText())));this.listeners.push(t(na.state).listen("currentPhase",((t,e)=>{this.currentPhase=t;this.updateNavbarText();if(t===Ea.Shop||t===Ea.Preparation){this.sellZone.setVisible(true)}else{this.sellZone.setVisible(false)}const processCardVisualsPostBattle=(i,r,s,n)=>{if(!i.active)return;const a=i.getData("cooldownBarBg");const o=i.getData("cooldownBarFill");if(t===Ea.Battle){const t=i.getData("area");if(t==="battlefield"){if(r){if(a&&o){a.setVisible(true);o.setVisible(true);const t=i.getData("cooldownBarBaseWidth");const e=typeof t==="number"?t:Oa-10;o.setSize(e,6);const s=(r.speed>0?r.speed:1.5)*1e3;i.setData("maxAttackCooldown",s);i.setData("attackCooldownTimer",s)}else{console.warn(`BoardView: Battle Phase - Card ${r.instanceId} (Owner: ${s}, Slot: ${n}) missing cooldown bar elements in data. Bg: ${!!a}, Fill: ${!!o}`)}}else{console.warn(`BoardView: Battle Phase - Battlefield card container (Owner: ${s}, Slot: ${n}) has no cardSchema. No cooldown bar shown.`)}}}else{if(a)a.setVisible(false);if(o)o.setVisible(false)}if(e===Ea.Battle||e===Ea.BattleEnd){if(t!==Ea.Battle&&t!==Ea.BattleEnd){if(r&&r.currentHp>0){i.setAlpha(1);const t=i.getData("mainCardImage");if(t&&t.active&&typeof t.clearTint==="function"){t.clearTint()}}}}};this.playerVisuals.forEach(((i,r)=>{i.battlefield.forEach(((t,e)=>{var i;const s=(i=na==null?void 0:na.state.players.get(r))==null?void 0:i.battlefield.get(e);processCardVisualsPostBattle(t,s,r,e)}));i.hand.forEach(((i,s)=>{var n;const a=(n=na==null?void 0:na.state.players.get(r))==null?void 0:n.hand.get(s);if(e===Ea.Battle||e===Ea.BattleEnd){if(t!==Ea.Battle&&t!==Ea.BattleEnd){if(a&&a.currentHp>0){i.setAlpha(1);const t=i.getData("mainCardImage");if(t&&t.active&&typeof t.clearTint==="function"){t.clearTint()}}}}}))}))})));this.listeners.push(t(na.state.players).onAdd(((t,e)=>{console.log(`BoardView: Player added ${e}`);this.addPlayerVisuals(e);this.addPlayerListeners(t,e);this.updatePlayerSlots(t,e);this.updateNavbarText()})));this.listeners.push(t(na.state.players).onRemove(((t,e)=>{console.log(`BoardView: Player removed ${e}`);this.removePlayerVisuals(e);this.updateNavbarText()})));this.listeners.push(na.onMessage("battleAttackEvent",(t=>{if(this.currentPhase!==Ea.Battle||!this.scene.isActive())return;console.log("BoardView: Received battleAttackEvent",t);const e=this.getCardGameObjectByInstanceId(t.attackerInstanceId);const i=this.getCardGameObjectByInstanceId(t.targetInstanceId);if(e&&e.active&&i&&i.active){this.drawAttackLine(t.attackerInstanceId,t.targetInstanceId);this.showAttackAnimation(t.attackerInstanceId);this.showDamageNumber(t.targetInstanceId,t.damageDealt);const r=e.getData("maxAttackCooldown");if(r>0){e.setData("attackCooldownTimer",r);const t=e.getData("cooldownBarFill");const i=e.getData("cooldownBarBaseWidth")||Oa-10;if(t)t.setSize(i,6)}const s=i.getData("ownerSessionId");const n=i.getData("slotKey");const a=i.getData("area");if(s===t.targetPlayerId&&a==="battlefield"&&n){const e=na.state.players.get(t.targetPlayerId);const r=e==null?void 0:e.battlefield.get(n);if(r&&r.instanceId===t.targetInstanceId){const e=Math.max(0,r.currentHp-t.damageDealt);this.updateCardHpVisuals(i,e,r.health)}else{console.warn(`BoardView: battleAttackEvent - Target card schema not found or instanceId mismatch for player ${t.targetPlayerId}, slot ${n}, instance ${t.targetInstanceId}.`)}}else{console.warn(`BoardView: battleAttackEvent - Target card container data inconsistent or not on battlefield. Owner: ${s}, Area: ${a}, Slot: ${n}`)}}else{console.warn("BoardView: Attacker or target not found/active for battleAttackEvent",t)}})));na.state.players.forEach(((t,e)=>{this.addPlayerVisuals(e);this.addPlayerListeners(t,e);this.updatePlayerSlots(t,e)}));this.updateNavbarText()}update(t,e){if(!this.scene.isActive()||this.currentPhase!==Ea.Battle||!na||!na.state){return}this.playerVisuals.forEach((t=>{t.battlefield.forEach((t=>{if(!t.active)return;const i=t.getData("maxAttackCooldown");let r=t.getData("attackCooldownTimer");const s=t.getData("cooldownBarBaseWidth")||Oa-10;if(i>0){r-=e;if(r<0)r=0;t.setData("attackCooldownTimer",r);const n=t.getData("cooldownBarFill");if(n&&n.visible){const t=r/i;n.setSize(s*Math.max(0,t),6)}}}))}))}addPlayerListeners(t,e){const i=pr.getStateCallbacks(na);const r=[];r.push(i(t).listen("health",(()=>this.updateNavbarText())));r.push(i(t).listen("brews",(()=>this.updateNavbarText())));r.push(i(t).listen("username",(()=>this.updateNavbarText())));r.push(i(t.hand).onAdd(((t,i)=>{this.updateCardVisual(e,"hand",i,t);this.addCardSchemaListeners(t)})));r.push(i(t.hand).onRemove(((t,i)=>{this.removeCardVisual(e,"hand",i)})));t.hand.forEach(((t,e)=>{this.addCardSchemaListeners(t)}));r.push(i(t.battlefield).onAdd(((t,i)=>{this.updateCardVisual(e,"battlefield",i,t);this.addCardSchemaListeners(t)})));r.push(i(t.battlefield).onRemove(((t,i)=>{this.removeCardVisual(e,"battlefield",i)})));t.battlefield.forEach(((t,e)=>{this.addCardSchemaListeners(t)}));this.listeners.push(...r)}addCardSchemaListeners(t){if(!t||!t.instanceId)return;const e=pr.getStateCallbacks(na);const i=this.cardSchemaListeners.get(t.instanceId);if(i){i.forEach((t=>t()));this.cardSchemaListeners.delete(t.instanceId)}const r=[];const s=e(t).listen("currentHp",((e,i)=>{const r=this.getCardGameObjectByInstanceId(t.instanceId);if(r){this.updateCardHpVisuals(r,e,t.health)}}));r.push(s);if(r.length>0){this.cardSchemaListeners.set(t.instanceId,r)}}updatePlayerSlots(t,e){t.hand.forEach(((t,i)=>this.updateCardVisual(e,"hand",i,t)));t.battlefield.forEach(((t,i)=>this.updateCardVisual(e,"battlefield",i,t)))}addPlayerVisuals(t){if(!this.playerVisuals.has(t)){const e=[];const i=[];const r=t===(na==null?void 0:na.sessionId);for(let t=0;t<5;t++){const s=this.calculateSlotX(t,"hand");const n=r?La:ka;const a=this.add.rectangle(s,n,Ia,Ra).setStrokeStyle(2,r?11184810:7829367,.8).setDepth(0);e.push(a);const o=this.calculateSlotX(t,"battlefield");const l=r?Da:Fa;const h=this.add.rectangle(o,l,Oa,Pa).setStrokeStyle(2,r?16777215:11184810,1).setDepth(0);i.push(h)}this.playerVisuals.set(t,{hand:new Map,battlefield:new Map,handSlotOutlines:e,battlefieldSlotOutlines:i})}}removePlayerVisuals(t){const e=this.playerVisuals.get(t);if(e){e.hand.forEach((t=>t.destroy()));e.battlefield.forEach((t=>t.destroy()));e.handSlotOutlines.forEach((t=>t.destroy()));e.battlefieldSlotOutlines.forEach((t=>t.destroy()))}this.playerVisuals.delete(t)}updateCardVisual(t,e,i,r){if(!this.scene.isActive()){return}if(!na||!na.state){return}this.removeCardVisual(t,e,i);const s=this.playerVisuals.get(t);if(!s)return;const n=t===(na==null?void 0:na.sessionId);const a=this.calculateSlotX(parseInt(i,10),e);let o;let l=false;if(e==="hand"){o=n?La:ka;if(!n)l=true}else{o=n?Da:Fa}const h=this.createCardGameObject(r,a,o,l,n,e);h.setData("instanceId",r.instanceId);h.setData("slotKey",i);h.setData("area",e);h.setData("ownerSessionId",t);h.setDepth(1);if(r.currentHp<=0){h.setAlpha(.6);const t=h.getData("mainCardImage");if(t&&t.active&&typeof t.setTint==="function"){t.setTint(7829367)}const e=h.getData("hpTextObject");if(e&&e.active)e.setColor("#ff0000")}if(e==="hand"){s.hand.set(i,h)}else{s.battlefield.set(i,h)}this.addCardSchemaListeners(r);if(n){this.makeCardInteractive(h)}}removeCardVisual(t,e,i){const r=this.playerVisuals.get(t);if(r){const t=e==="hand"?r.hand:r.battlefield;const s=t.get(i);if(s){const e=s.getData("instanceId");if(e){const t=this.cardSchemaListeners.get(e);if(t){console.log(`BoardView: Cleaning up ${t.length} listeners for card instance ${e} during removeCardVisual.`);t.forEach((t=>{if(typeof t==="function"){try{t()}catch(i){console.warn(`BoardView: Error unsubscribing card listener for ${e}`,i)}}}));this.cardSchemaListeners.delete(e)}}if(s.input&&s.input.enabled){this.input.disable(s)}this.time.delayedCall(1,(()=>{if(s.active){s.destroy()}}));t.delete(i)}}}calculateSlotX(t,e){const i=e==="hand"?Ia:Oa;const r=5*i+4*Ma;const s=(this.cameras.main.width-r)/2+i/2;return s+t*(i+Ma)}createCardGameObject(t,e,i,r,s,n){const a=this.add.container(e,i);const o=n==="hand"?Ia:Oa;const l=n==="hand"?Ra:Pa;a.setData("displayCardWidth",o);a.setData("displayCardHeight",l);if(r){const t=this.add.image(0,0,"cardBack").setOrigin(.5).setDisplaySize(Ia,Ra);a.add(t);return a}const h=n==="hand"?"cardFullTier1":"cardMinionTier1";const u=this.add.image(0,0,h).setOrigin(.5);u.setDisplaySize(o,l);a.add(u);a.setData("mainCardImage",u);if(n==="hand"){const e=this.add.text(0,-20,t.name,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:o-20}}).setOrigin(.5,.5);a.add(e);const i=this.add.text(-100/2+32,Pa*.03,`${t.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(0,.5);a.add(i);const r=this.add.text(Oa/2-18,6,`${t.currentHp}  ${t.health}`,{fontFamily:"Arial",fontSize:16,color:"#00ff00",stroke:"#000000",strokeThickness:4}).setOrigin(1,.5);a.add(r);a.setData("hpTextObject",r);const s=this.add.text(0,l/2-50,`${t.speed}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5,1);a.add(s)}else{const e=this.add.text(0,-l/2+5,t.name,{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center",wordWrap:{width:o}}).setOrigin(.5,0);a.add(e);const i=this.add.text(-o/2+32,32,`${t.attack}`,{fontFamily:"Arial",fontSize:16,color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(0,.5);a.add(i);const r=this.add.text(0,43,`${t.speed}`,{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(1,0);a.add(r);const s=this.add.text(o/2-10,l/2-30,`${t.currentHp}/${t.health}`,{fontFamily:"Arial",fontSize:14,color:"#00ff00",stroke:"#000000",strokeThickness:3}).setOrigin(1,1);a.add(s);a.setData("hpTextObject",s);const n=l/2-15;const h=o-10;const u=this.add.rectangle(0,n,h,6,0,.5).setVisible(false);const c=this.add.rectangle(-h/2,n,h,6,4521796).setOrigin(0,.5).setVisible(false);a.add(u);a.add(c);a.setData("cooldownBarBg",u);a.setData("cooldownBarFill",c);a.setData("attackCooldownTimer",0);a.setData("maxAttackCooldown",0);a.setData("cooldownBarBaseWidth",h)}return a}getCardGameObjectByInstanceId(t){for(const[e,i]of this.playerVisuals){for(const[e,r]of i.hand){if(r.getData("instanceId")===t)return r}for(const[e,r]of i.battlefield){if(r.getData("instanceId")===t)return r}}return void 0}getSlotPixelPosition(t,e,i){if(i<0||i>4)return void 0;const r=this.calculateSlotX(i,e);let s;if(e==="hand"){s=t?La:ka}else{s=t?Da:Fa}return{x:r,y:s}}makeCardInteractive(t){const e=t.getData("displayCardWidth");const i=t.getData("displayCardHeight");if(!e||!i){console.warn("BoardView: makeCardInteractive - displayCardWidth/Height not found on container.",t.getData("instanceId"));return}const r=new Phaser.Geom.Rectangle(-e/2,-i/2,e,i);t.setInteractive({hitArea:r,hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:true});this.input.setDraggable(t);if(t.input){t.input.enabled=true}t.on("dragstart",(e=>{if(this.currentPhase!==Ea.Shop&&this.currentPhase!==Ea.Preparation){return}if(!t.input||!t.input.enabled){return}this.children.bringToTop(t);t.setAlpha(.7);t.setData("isDragging",true);t.setData("originalX",t.x);t.setData("originalY",t.y);t.setData("originalAreaOnDragStart",t.getData("area"));t.setData("originalSlotKeyOnDragStart",t.getData("slotKey"))}));t.on("drag",((e,i,r)=>{if(t.getData("isDragging")){t.x=i;t.y=r;if((this.currentPhase===Ea.Shop||this.currentPhase===Ea.Preparation)&&this.sellZone.visible){if(this.isDroppedOnSellZone(t)){const e=t.getData("instanceId");const i=t.getData("originalAreaOnDragStart");const r=t.getData("originalSlotKeyOnDragStart");const s=t.getData("ownerSessionId");const n=na==null?void 0:na.state.players.get(s);let a;if(n){if(i==="hand"){a=n.hand.get(r)}else{a=n.battlefield.get(r)}}if(a&&a.instanceId===e){const t=Math.max(1,Math.floor(a.brewCost/2));this.brewGainText.setText(`Sell: +${t} `);this.brewGainText.setAlpha(1)}else{this.brewGainText.setAlpha(0)}}else{this.brewGainText.setAlpha(0)}}else{this.brewGainText.setAlpha(0)}}}));t.on("dragend",(e=>{if(!t.getData("isDragging"))return;t.setAlpha(1);t.setData("isDragging",false);this.brewGainText.setAlpha(0);const i=t.getData("instanceId");const r=t.getData("originalAreaOnDragStart");const s=t.getData("originalSlotKeyOnDragStart");const n=t.getData("ownerSessionId");if((this.currentPhase===Ea.Shop||this.currentPhase===Ea.Preparation)&&this.sellZone.visible&&this.isDroppedOnSellZone(t)){const t=na==null?void 0:na.state.players.get(na==null?void 0:na.sessionId);let e;if(r==="hand"&&(t==null?void 0:t.hand.has(s))){e=t.hand.get(s)}else if(r==="battlefield"&&(t==null?void 0:t.battlefield.has(s))){e=t.battlefield.get(s)}if(e&&e.instanceId===i){const t=Math.max(1,Math.floor(e.brewCost/2));na==null?void 0:na.send("sellCard",{instanceId:i,area:r,slotKey:s});this.showBrewGain(t);return}}let a=false;let o;let l;for(let h=0;h<5;h++){const e=String(h);const u=this.getSlotPixelPosition(true,"hand",h);if(u){const h=new Phaser.Geom.Rectangle(u.x-Ia/2,u.y-Ra/2,Ia,Ra);if(Phaser.Geom.Rectangle.Contains(h,t.x,t.y)){if(this.isSlotEmpty(n,"hand",e,i)){let h=false;if(this.currentPhase===Ea.Shop){if(r==="hand"){h=true}}else if(this.currentPhase===Ea.Preparation){if(r==="hand"){h=true}}if(h){t.x=u.x;t.y=u.y;const h=r!=="hand";t.setData("area","hand");t.setData("slotKey",e);this.updateVisualMaps(n,r,s,"hand",e,t);if(h){const t=na==null?void 0:na.state.players.get(n);let a;if(t){a=t.hand.get(e);if(!a){if(r==="battlefield"){a=t.battlefield.get(s)}else{a=t.hand.get(s)}}}if(a&&a.instanceId===i){this.updateCardVisual(n,"hand",e,a)}}a=true;o="hand";l=e;if(this.currentPhase===Ea.Shop&&(r!=="hand"||s!==e)){na==null?void 0:na.send("moveCardInHand",{instanceId:i,fromSlotKey:s,toSlotKey:e})}}}if(a)break}}}if(!a&&this.currentPhase===Ea.Preparation){for(let e=0;e<5;e++){const h=String(e);const u=this.getSlotPixelPosition(true,"battlefield",e);if(u){const e=new Phaser.Geom.Rectangle(u.x-Ia/2,u.y-Ra/2,Ia,Ra);if(Phaser.Geom.Rectangle.Contains(e,t.x,t.y)){if(this.isSlotEmpty(n,"battlefield",h,i)){t.x=u.x;t.y=u.y;const e=r!=="battlefield";t.setData("area","battlefield");t.setData("slotKey",h);this.updateVisualMaps(n,r,s,"battlefield",h,t);if(e){const t=na==null?void 0:na.state.players.get(n);const e=(t==null?void 0:t.battlefield.get(h))||(t==null?void 0:t.hand.get(s));if(e&&e.instanceId===i){this.updateCardVisual(n,"battlefield",h,e)}}a=true;o="battlefield";l=h}break}}}}if(!a){t.x=t.getData("originalX");t.y=t.getData("originalY");t.setData("area",r);t.setData("slotKey",s)}else{if(this.currentPhase===Ea.Preparation&&o&&l){if(r!==o||s!==l){na==null?void 0:na.send("updatePrepLayout",{instanceId:i,newArea:o,newSlotKey:l})}}}if(this.currentPhase===Ea.Preparation){const t=this.scene.get("Preparation");if(t&&t.scene.isActive()&&t.updateStartButtonState){t.updateStartButtonState()}}}))}getCardLayouts(){const t={};const e={};if(!na||!na.sessionId){for(let i=0;i<5;i++){t[String(i)]=null;e[String(i)]=null}return{handLayout:t,battlefieldLayout:e}}const i=na.sessionId;const r=this.playerVisuals.get(i);for(let s=0;s<5;s++){const i=String(s);if(r&&r.hand.has(i)){const e=r.hand.get(i);t[i]=(e==null?void 0:e.getData("instanceId"))||null}else{t[i]=null}if(r&&r.battlefield.has(i)){const t=r.battlefield.get(i);e[i]=(t==null?void 0:t.getData("instanceId"))||null}else{e[i]=null}}return{handLayout:t,battlefieldLayout:e}}isSlotEmpty(t,e,i,r){const s=this.playerVisuals.get(t);if(!s)return false;const n=e==="hand"?s.hand:s.battlefield;const a=n.get(i);if(!a)return true;return a.getData("instanceId")===r}isDroppedOnSellZone(t){if(!this.sellZone.visible)return false;const e=new Phaser.Geom.Rectangle(this.sellZone.x-this.sellZoneRect.width/2-20,this.sellZone.y-this.sellZoneRect.height/2-20,this.sellZoneRect.width+40,this.sellZoneRect.height+40);return e.contains(t.x,t.y)}showBrewGain(t){this.brewGainText.setText(`+${t} `);this.brewGainText.setAlpha(1);this.brewGainText.y=-50;this.brewGainText.x=0;this.tweens.add({targets:this.brewGainText,scaleX:1.5,scaleY:1.5,duration:100,yoyo:true,ease:"Cubic.easeOut",onComplete:()=>{this.tweens.add({targets:this.brewGainText,y:this.brewGainText.y-80,alpha:0,duration:1500,ease:"Power2"})}});this.tweens.add({targets:this.sellZoneRect,fillAlpha:.7,duration:200,yoyo:true,repeat:1,ease:"Cubic.easeOut"})}updateVisualMaps(t,e,i,r,s,n){const a=this.playerVisuals.get(t);if(!a)return;const o=e==="hand"?a.hand:a.battlefield;if(o.get(i)===n){o.delete(i)}const l=r==="hand"?a.hand:a.battlefield;l.set(s,n)}getPlayerCardGameObjects(t){const e=[];const i=this.playerVisuals.get(t);if(i){i.hand.forEach((t=>e.push(t)));i.battlefield.forEach((t=>e.push(t)))}return e}getLocalPlayerLayoutData(){const t=[];if(!na||!na.sessionId)return t;const e=na.sessionId;const i=this.playerVisuals.get(e);if(i){i.hand.forEach(((e,i)=>{t.push({instanceId:e.getData("instanceId"),area:"hand",slotKey:e.getData("slotKey")})}));i.battlefield.forEach(((e,i)=>{t.push({instanceId:e.getData("instanceId"),area:"battlefield",slotKey:e.getData("slotKey")})}))}return t}createSellZone(){this.sellZone=this.add.container(this.cameras.main.width-80,this.cameras.main.height/2);this.sellZone.setDepth(1e3);this.sellZoneRect=this.add.rectangle(0,0,120,160,16711680,.3);this.sellZoneRect.setStrokeStyle(2,16711680,1);this.sellZone.add(this.sellZoneRect);this.sellZoneText=this.add.text(0,0,"SELL",{fontFamily:"Arial Black",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5);this.sellZone.add(this.sellZoneText);this.brewGainText=this.add.text(0,-50,"",{fontFamily:"Arial Black",fontSize:20,color:"#ffff00",stroke:"#000000",strokeThickness:3,align:"center"}).setOrigin(.5).setAlpha(0);this.sellZone.add(this.brewGainText);const t=this.add.text(0,50,"Drag cards here\nto sell",{fontFamily:"Arial",fontSize:14,color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}).setOrigin(.5);this.sellZone.add(t);this.input.on("dragenter",((t,e,i)=>{if(e instanceof Phaser.GameObjects.Container&&this.sellZone.visible&&this.isDroppedOnSellZone(e)){this.sellZoneRect.setFillStyle(16711680,.5);this.sellZoneRect.setStrokeStyle(3,16733525,1)}}));this.input.on("dragleave",((t,e,i)=>{this.sellZoneRect.setFillStyle(16711680,.3);this.sellZoneRect.setStrokeStyle(2,16711680,1)}));this.input.on("drop",(()=>{this.sellZoneRect.setFillStyle(16711680,.3);this.sellZoneRect.setStrokeStyle(2,16711680,1)}));this.sellZone.setVisible(false)}updateNavbarText(){if(!na||!na.state||!this.playerHealthText||!this.playerHealthText.active)return;const t=na.sessionId;const e=na.state.players.get(t);let i;let r="Opponent: --";na.state.players.forEach(((e,s)=>{if(s!==t){i=e;r=`Opponent: ${e.username||"Connecting..."}`}}));this.playerHealthText.setText(`You: ${(e==null?void 0:e.health)??"--"} HP`);this.playerBrewsText.setText(`Brews: ${(e==null?void 0:e.brews)??"--"}`);this.opponentUsernameText.setText(r);this.opponentHealthText.setText(`${(i==null?void 0:i.health)??"--"} HP`);const s=na.state.currentDay;const n=na.state.currentPhase;this.dayPhaseText.setText(`Day ${s} - ${n}`)}cleanupListeners(){var t,e,i,r,s,n,a;console.log("BoardView: Cleaning up listeners.");this.listeners.forEach((t=>{if(typeof t==="function"){try{t()}catch(e){console.warn("BoardView: Error cleaning up listener:",e)}}}));this.listeners=[];this.cardSchemaListeners.forEach(((t,e)=>{console.log(`BoardView cleanup: Cleaning up ${t.length} listeners for card instance ${e}`);t.forEach((t=>{if(typeof t==="function"){try{t()}catch(i){console.warn(`BoardView: Error unsubscribing card listener for ${e}`,i)}}}))}));this.cardSchemaListeners.clear();this.playerVisuals.forEach((t=>{t.hand.forEach((t=>t.destroy()));t.battlefield.forEach((t=>t.destroy()))}));this.playerVisuals.clear();(t=this.playerHealthText)==null?void 0:t.destroy();(e=this.opponentHealthText)==null?void 0:e.destroy();(i=this.playerBrewsText)==null?void 0:i.destroy();(r=this.dayPhaseText)==null?void 0:r.destroy();(s=this.opponentUsernameText)==null?void 0:s.destroy();(n=this.sellZone)==null?void 0:n.destroy();(a=this.brewGainText)==null?void 0:a.destroy();this.input.off("dragenter");this.input.off("dragleave");this.input.off("drop")}shutdown(){console.log("BoardView shutting down...");this.cleanupListeners();this.events.off(Phaser.Scenes.Events.SHUTDOWN,this.shutdown,this)}}(async()=>{await initiateDiscordSDK();new a({type:Phaser.AUTO,parent:"gameParent",width:1280,height:720,backgroundColor:"#000000",roundPixels:false,pixelArt:false,scene:[Boot,Preloader,MainMenu,Lobby,Shop,Preparation,Battle,BoardView,Game,Background]})})();
